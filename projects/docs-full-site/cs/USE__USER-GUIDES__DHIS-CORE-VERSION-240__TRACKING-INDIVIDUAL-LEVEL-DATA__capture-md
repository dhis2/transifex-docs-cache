---
edit_url: "https://github.com/dhis2/capture-app/blob/master/docs/user/using-the-capture-app.md"
revision_date: '2024-10-14'
tags:
- DHIS základní verze 2.40
- Použití
---

# Použití aplikace Capture { #capture_app } 

## O aplikaci Capture { #about_capture_app } 

V aplikaci Capture registrujete události, ke kterým došlo v určitém čase a místě. Událost se může stát v jakémkoli daném okamžiku. To je v protikladu k rutinním datům, která se zachycují v předem definovaných pravidelných intervalech. Události se někdy nazývají případy nebo záznamy. V DHIS2 jsou události spojeny s programem. Aplikace Capture vám před zadáním informací o události umožňuje vybrat organizační jednotku a program a určit datum, kdy k události došlo. Některé události jsou spojeny s instancí trasované entity, například osoby, což umožňuje dlouhodobé sledování.

## Zaregistrujte událost { #capture_register_event } 

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Select an event program.

   Uvidíte pouze programy přidružené k vybrané organizační jednotce a programy, ke kterým máte přístup, a které jsou sdíleny s vaší skupinou uživatelů prostřednictvím sdílení na úrovni dat.

4. Pokud má program nastavenou kombinaci kategorií, bude nutné vybrat možnost kategorie.

5. Click **Create new event**.

    ![vytvořit novou událost](resources/images/create_new_event.png)

6. Vyplňte požadované informace. Pokud je programová fáze programu nakonfigurována k zachycení umístění:

    - If the field is a coordinate field you can either enter the coordinates
    directly or you can click the **map** icon to the left of the coordinate field.
    The latter one will open a map where you can search for a location or set on
    directly by clicking on the map.

    - If the field is a polygon field you can click the **map** icon to the left of
    the field. This will open a map where you can search for a location and capture
    a polygon (button in the upper right corner of the map).

7. If desired, you can add a note by clicking the **Write note** button at the bottom of the form. Be aware that Event notes are attributed to a user and cannot be deleted. 

8. V případě potřeby můžete přidat vztah kliknutím na tlačítko **Přidat vztah** ve spodní části formuláře.
   Další informace naleznete v části **Přidání vztahu**.

9. Klikněte na **Uložit a ukončit** nebo klikněte na šipku vedle tlačítka a vyberte **Uložit a přidat další**.

    - **Uložit a přidat další** uloží aktuální událost a vymaže formulář.
    All the events that you have captured will be displayed in a list at the bottom of the page.
    When you want to finish capturing events you can, if the form is blank,
    click the finish button or if your form contains data click the arrow
    next to **Save and add another** and select **Save and exit**.

> **Note**
>
> Some data elements in an event might be mandatory (marked with a red star next to the data element label).
> All mandatory data elements must be filled in before the user is allowed to complete the event.
> The exception to this is if the user has the authority called __"Ignore validation of required fields in Tracker and Event Capture".__
> If the user has this authority, the mandatory data elements will not be required and
> the red star will not be displayed next to the data element label. Note that super user that have the __"ALL"__ authority automatically
> have this authority.

> **Tip**
>
> The data entry form can also be displayed in **row view**. In this mode the data elements are arranged horizontally. This can be
> achieved by clicking the **Switch to row view** button on the top right of the data entry form. If you are currently in **row view** you
> can switch to the default form view by clicking the **Switch to form view** button on the top right of the data entry form.

## Zaregistrujte instanci trasované entity { #register-a-tracked-entity-instance } 

There are two different ways one can register a tracked entity instance under an organisation unit.
The first way, is to register a tracked entity instance without enrolling it to a tracker program.
The second option, is to register a tracked entity instance with program and enroll it. 

### Bez zápisu do programu  { #without-a-program-enrollment } 

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Click **Create new**.

    ![obrázek](resources/images/register-without-enrollment-new-button.png)

    You'll now be navigated to the registration page. In that page you will see a drop down 
    menu similar to the one in the image below. From the dropdown menu you can select a tracked entity 
    type, eg. Building, Person etc.

    ![obrázek](resources/images/register-without-enrollment-dropdown-menu.png)

4. Vyberte typ trasované entity, pro který chcete vytvořit novou instanci.

    ![obrázek](resources/images/register-without-enrollment-dropdown-menu-with-arrow.png)

5. V okamžiku, kdy vyberete typ trasované entity, se na obrazovce zobrazí formulář.

    The "Profile" section will be shown. In this section you can add data relevant to the 
    tracked entity instance. The profile section mainly contains all the tracked entity attributes
    linked to the tracked entity type. 

    ![obrázek](resources/images/register-without-enrollment-form.png)

6. Vyplňte požadované informace.

   Pokud je typ trasované entity nakonfigurován tak, aby zachytil umístění:

    - If the field is a coordinate field you can either enter the coordinates
    directly or you can click the **map** icon to the left of the coordinate field.
    The latter one will open a map where you can search for a location or set on
    directly by clicking on the map.

    - If the field is a polygon field you can click the **map** icon to the left of
    the field. This will open a map where you can search for a location and capture
    a polygon (button in the upper right corner of the map).

7. Click the **Save person** button to register the tracked entity instance. 

8. Nyní se zobrazí výzva k ovládacímu panelu instance trasované entity.

   Ovládací panel zobrazí relevantní informace o nově vytvořené instanci trasované entity.

### Se zápisem do programu { #with-a-program-enrollment } 

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Select a tracker program of your choice.

4. Click **Create new person**. Note that the label of this button corresponds to the tracked entity type of the program, which could vary, such as "Building," "Person," etc.

    ![vytvořit novou událost](resources/images/register-and-enroll-program-selection.png)

5. Nyní uvidíte formulář podobný obrázku níže.

    The enrollment form has different layouts depending on how the program is customized. The top section has the title "Enrollment",
    and it holds all the relevant information about the enrollment details. This section will always be present, regardless of layout.
    Underneath, the different data input fields relevant to the tracked entity instance will be displayed. 
    These fields will either be displayed within sections or as a completely custom form. 
    The sections, or custom form, mainly contains all the tracked entity attributes linked to the program or tracked entity type.

      ![create new event](resources/images/register-and-enroll-form.png)

6. Fill in the required information for the enrollment.
   Pokud je typ trasované entity nakonfigurován tak, aby zachytil umístění:

    - If the field is a coordinate field you can either enter the coordinates
    directly or you can click the **map** icon to the left of the coordinate field.
    The latter one will open a map where you can search for a location or set on
    directly by clicking on the map.

    - If the field is a polygon field you can click the **map** icon to the left of
    the field. This will open a map where you can search for a location and capture
    a polygon (button in the upper right corner of the map).

7. Click **Save person** to register the tracked entity instance. 
    The **Save** button shows a loading spinner and the **Cancel** button is disabled while the request is processing.

8. Nyní se zobrazí výzva k ovládacímu panelu instance trasované entity.

   Ovládací panel zobrazí relevantní informace o nově vytvořené instanci trasované entity.

> **Note**
>
> Some data elements in an event might be mandatory (marked with a red star next to the data element label).
> All mandatory data elements must be filled in before the user is allowed to complete the event.
> The exception to this is if the user has the authority called __"Ignore validation of required fields in Tracker and Event Capture".__
> If the user has this authority, the mandatory data elements will not be required and
> the red star will not be displayed next to the data element label. Note that super user that have the __"ALL"__ authority automatically
> have this authority.

> **Tip**
>
> The data entry form can also be displayed in **row view**. In this mode the data elements are arranged horizontally. This can be
> achieved by clicking the **Switch to row view** button on the top right of the data entry form. If you are currently in **row view** you
> can switch to the default form view by clicking the **Switch to form view** button on the top right of the data entry form.

### Enrollment with auto generated events  { #enrollment-with-auto-generated-events } 

Události lze automaticky vytvářet při zápisu do programu.

Chcete-li automaticky generovat události, můžete provést nezbytnou konfiguraci v aplikaci pro údržbu.
1. Otevřete aplikaci údržby

2. Select the Program tab
![](resources/images/auto-generated-01.png)

3. Select a Tracker program
![](resources/images/auto-generated-02.png)

4. Select the Program stages tab
![](resources/images/auto-generated-03.png)

5. Click on the program stage you would like to generate an event for
![](resources/images/auto-generated-04.png)

6. Select "Auto-generate event"
![](resources/images/auto-generated-05.png)

V rámci programu můžete nastavit automatické generování více fází programu (to vytvoří událost pro každou fázi programu nakonfigurovanou tímto způsobem)

### Enrollment with open data entry form { #enrollment-with-open-data-entry-form } 

Program lze nakonfigurovat tak, aby automaticky přivedl uživatele k registraci nové události ihned po registraci instance trasované entity. Aby bylo možné toto chování povolit, musí mít program alespoň jednu fázi programu se zaškrtnutou volbou "Otevřít formulář pro zadávání dat po registraci". Pokud je tato možnost povolena pro více než jeden stupeň programu, použije se první stupeň.

Chcete-li jej nakonfigurovat, musíte postupovat podle kroků popsaných v části [Zápis s automaticky generovanými událostmi](#enrollment-with-auto-generated-events) a poté zaškrtnout možnost „Otevřít formulář pro zadávání dat po zápisu“.

### Enrollment with first stage on registration page { #enrollment-with-first-stage-on-registration-page } 

For tracker programs enable the "First stage appears on registration page" flag in the Maintenance. The enrollment registration page will now display the first program stage the user has access to.

![](resources/images/first-stage-during-registration.png)

#### Active type of event { #active-type-of-event } 

If the stage has the "Open data entry form after enrollment" selected, then the event will be generated into the ACTIVE status. Also its execution date will be calculated for the event, in addition to a due date.
The generation happens based on either the enrollment date or the incident date. You can choose the reporting date from the dropdown menu "Report date to use".
![](resources/images/auto-generated-06.png)

As shown in the image you have three options, a) Incident date b) Enrollment date or c) No value. 
Choosing reporting date as "Incident date" indicates that both the event execution date and due date will be the same as the incident date.
Choosing reporting date as either "Enrollment date" or "No value" indicates that both the event execution date and due date will be the same as the enrollment date.

#### Schedule type of event { #schedule-type-of-event } 

When the "Open data entry after enrollment" is not checked, it means that the event generated will be a SCHEDULE event. 
The scheduled event does not have an execution date, but only a due date. The due date for these future events are calculated based on either enrollment date or incident date. If the flag below is checked, the reference date is the enrollment date, if the flag is not checked, the incident date is used.
![](resources/images/auto-generated-07.png)

Pokud není uvedeno žádné datum incidentu, referenční datum se vrátí k datu zápisu bez ohledu na to, zda je zaškrtnutý příznak výše.

On SCHEDULE type of events the user can also configure the "Scheduled days from start". Which means if a stage has a number in "Scheduled days from start" the reference date will increased by that number. 
In the example below we increase the due date by 30 days.

![](resources/images/auto-generated-08.png)

Pokud „Plánované dny od začátku“ neobsahuje číslo nebo obsahuje 0, použije se referenční datum, aniž by se k němu přidávaly dny.


### Možná detekce duplikátů { #possible-duplicates-detection } 

In both cases of registering a tracked entity instance, (with enrollment or without enrollment) the system will start looking for possible duplicates.
Note that programs need to be correctly configured through the maintenance app for the system to start detecting duplicates when enrolling a new person in a program. 

Chcete-li nakonfigurovat program prostřednictvím aplikace Údržba, budete muset:


1. Open the maintenance app.
![](resources/images/duplicates-maintenance-config-00.png)

2. In the program section select your program. We select Child Programme for this example.
![](resources/images/duplicates-maintenance-config-01.png)

3. Select the Attributes tab.
![](resources/images/duplicates-maintenance-config-02.png)

4. Enable duplicates search by checking program attributes as searchable
![](resources/images/duplicates-maintenance-config-03.png)


Atributy, které jste vybrali jako „Prohledávatelné“, budou atributy, které systém použije k detekci možných duplikátů.
Vysvětlíme to na příkladu, který demonstruje detekci možných duplikátů při zápisu dítěte do Programu dětí.

1. Otevřete aplikaci **Capture**.
![](resources/images/duplicates-on-creation-00.png)

2. Select your organisation unit and program from the menu on the top.
![](resources/images/duplicates-on-creation-01.png)

3. Click **Create new person**
![](resources/images/duplicates-on-creation-02.png)

4. Fill in the first name in the form. **Remember, the first name we have checked as "Searchable" in the maintenance app.** 
Click **Save person**. The system will start looking for possible duplicates that match the name Sarah.
![](resources/images/duplicates-on-creation-03.png)

5. The system will automatically show a list of possible duplicates if there are any. 
![](resources/images/duplicates-on-creation-04.png)

6. You can choose to make a new enrollement by clicking **Save as new** or if you see the right person in the list - you can view the dashboard.
![](resources/images/duplicates-on-creation-05.png)

> **Tip**
>
> Detekci duplikátů pro sledované typy entit můžete nakonfigurovat stejným způsobem jako u programů.


### Provádění pravidel programu { #program-rules-execution } 

In both cases of registering a tracked entity instance (with enrollment or without enrollment), the system will run program rules you have configured.
Note that rules can be configured in the maintenance app.

Chcete-li vidět provádění pravidla při registraci instance trasované entity, budete muset provést následující kroky.

1. Nakonfigurujte pravidlo v aplikaci pro údržbu. Pro příklad níže jsme nakonfigurovali pravidlo, které vyvolá varování, když je datum narození méně než rok.

2. Otevřete aplikaci **Capture**.
![](resources/images/duplicates-on-creation-00.png)

3. Select your organisation unit and program from the menu on the top.
![](resources/images/program-rules-on-creation-00.png)

4. Fill in the date of birth with a value which is less than a year. In our case this is 27th of January 2021. 
![](resources/images/program-rules-on-creation-01.png)

5. You will now be able to see the warning produced by the program rule underneath the birth date field. 
![](resources/images/program-rules-on-creation-02.png)

## Re-enroll an existing tracked entity instance { #re-enroll-an-existing-tracked-entity-instance } 

When you are on the re-enroll page, the teId will be visible in the URL parameters. The attributes of the tracked entity instance will be pre-fielded with the current values. 
![](resources/images/enroll-existing-tei.png)


## Přidání vztahu { #capture_add_relationship } 

Vztahy lze přidat buď během registrace, úpravy nebo prohlížení události. Aktuálně **aplikace Capture** podporuje pouze vztahy *událost k trasované instanci*.

1. V případě události klikněte na **Přidat vztah**.

2. Vyberte typ vztahu, který chcete vytvořit.

Nyní máte dvě možnosti:

- **Odkaz na existující instanci trasované entity** nebo

- **Vytvořit novou instanci trasované entity**.

![možnosti vztahu](resources/images/relationship_options.png)

### Odkaz na existující instanci trasované entity { #link-to-an-existing-tracked-entity-instance } 

1. Klikněte na **Odkaz na existující instanci trasované entity**.

- You will be presented with some options for searching for a **Tracked Entity Instance**.
  Máte možnost vybrat si **program**. Pokud je vybrán **program**, atributy jsou odvozeny od vybraného **programu**.
  Pokud není vybrán žádný **program**, budou viditelné pouze atributy, které patří do **Instance trasované entity**.

    ![search for Tracked Entity Instance](resources/images/search_tei.png)

    - If the **Tracked Entity Instance** or **program** is configured with a unique attribute, this attribute can be
      used for finding a specific **Tracked Entity Instance** or **program**. This attribute should be presented alone.
      Po vyplnění pole jedinečného atributu klikněte na tlačítko **Hledat** vpravo dole
      the unique attribute field.

    - Pokud má **Instance trasované entity** nebo **program** atributy, lze je použít k vyhledávání rozšířením pole **Hledat podle atributů**.
      Po vyplnění všech požadovaných polí atributů klikněte dole na tlačítko **Hledat podle atributů**. Hledání můžete také omezit nastavením **Rozsah organizační jednotky**. Pokud je nastaveno na *Vše přístupné*, budete hledat **Instance trasované entity** ve všech organizačních jednotkách, ke kterým máte přístup. Pokud vyberete *Vybrané*, budete vyzváni k výběru organizačních jednotek, ve kterých chcete hledat.

2. After a successful search you will be presented with a list of **Tracked Entity Instances** matching the search criteria.
   Chcete-li vytvořit vztah, klikněte na tlačítko **Odkaz** na **instanci trasované entity**, ke které chcete vytvořit vztah.

- Pokud jste nenašli hledanou **instanci trasované entity**, můžete kliknout na tlačítka **Nové hledání** nebo **Upravit hledání**.
  **Nové vyhledávání** vás přenese na nové prázdné vyhledávání, zatímco **Upravit hledání** vás vrátí zpět k právě provedenému vyhledávání při zachování kritérií vyhledávání.

### Vytvořte novou instanci trasované entity { #create-new-tracked-entity-instance } 

1. Klikněte na **Vytvořit novou instanci trasované entity**.

- Nyní se vám zobrazí formulář pro registraci nové **instance trasované entity**. Můžete si vybrat, zda se zaregistrujete s programem nebo bez něj.
  Pokud je vybrán program, bude nová **Trasovaná instance entity** zapsána do uvedeného programu. Můžete také změnit **Organizační jednotku** tak, že odstraníte automaticky nastavenou jednotku a vyberete novou.

  ![zaregistrovat novou instanci trasované entity](resources/images/register_tei.png)

2. Vyplňte požadované (a případně povinné) atributy a podrobnosti registrace.

3. Klikněte na **Vytvořit instanci trasované entity a odkaz**.

> **Note**
>
> When filling in data you might face a warning telling you that a possible duplicate has been found. You can click the warning to see these
> duplicates and if the duplicate is a match you can choose to link that **Tracked Entity Instance** by clicking the **Link** button.
> If the warning is still present when you are done filling in data, you will not see the **Create Tracked Entity Instance and Link** button.
> Instead you will be presented with a button called **Review duplicates**. When you click this button a list of possible duplicates will be displayed.
> If any of these duplicates matches the **Tracked Entity Instance** you are trying to create you can click the **Link** button, if not you can click
> the **Save as new person** button to register a new **Tracked Entity Instance**.


## Upravit událost { #capture_edit_event } 

1. Otevřete aplikaci **Capture**.

2. Vyberte program.

3. Vyberte organizační jednotku nebo klikněte na odkaz _všechny události_ a zobrazte všechny události, které máte k dispozici.

    ![](resources/images/main-page-all-accessible-records.png)
   Všechny události registrované k vybranému programu se zobrazí v seznamu.

4. Klikněte na událost, kterou chcete upravit.

5. Klikněte na tlačítko **Upravit událost**.

6. Upravte podrobnosti události a klikněte na **Uložit**.

## Smazat událost { #capture_delete_event } 

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Vyberte program.

   Všechny události registrované k vybranému programu se zobrazí v seznamu.

4. Klikněte na ikonu **trojitá tečka** u události, kterou chcete smazat.

5. V zobrazené nabídce klikněte na **Smazat událost**.

    ![smazat událost](resources/images/delete_event.png)

## Upravte rozložení seznamu událostí { #capture_modify_event_list_layout } 

Můžete vybrat, které sloupce se mají v seznamu událostí zobrazit nebo skrýt. To může být užitečné například v případě, že máte dlouhý seznam datových prvků přiřazených k určité fázi programu.

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Vyberte program.

   Všechny události registrované k vybranému programu se zobrazí v seznamu.

4. Klikněte na ikonu **ozubeného kola** v pravém horním rohu seznamu událostí.

5. Vyberte sloupce, které chcete zobrazit, a klikněte na **Uložit**.

    ![upravit seznam událostí](resources/images/modify_event_list.png)

> **Tip**
>
> Pořadí datových prvků můžete reorganizovat jejich přetažením do seznamu.

## Filtrování seznamu událostí { #capture_filter_event_list } 

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Vyberte program.

   Všechny události registrované k vybranému programu se zobrazí v seznamu.

   V horní části seznamu událostí jsou tlačítka se stejnými názvy jako záhlaví sloupců v seznamu.

4. Pomocí tlačítek v horní části seznamu můžete filtrovat podle data sestavy nebo konkrétního datového prvku.

    ![filtrovat událost](resources/images/filter_event.png)

> **Poznámka**
>
> Různé typy datových prvků jsou přizpůsobeny různými způsoby. Například datový prvek **Číslo** zobrazí filtrování, zatímco datový prvek **Text** vás požádá o zadání vyhledávacího dotazu, na který chcete filtrovat.

## Třídit seznam událostí { #capture_sort_event_list } 

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Vyberte program.
   Všechny události registrované k vybranému programu se zobrazí v seznamu.

4. Kliknutím na jedno ze záhlaví sloupců seřadíte seznam u daného datového prvku vzestupně.

   Vedle sloupce se zobrazuje malá šipka nahoru, která ukazuje, že seznam je seřazen vzestupně.

5. Opětovným kliknutím na záhlaví sloupce seřadíte seznam u daného datového prvku v sestupném pořadí.

   Vedle sloupce se zobrazuje malá šipka dolů, která ukazuje, že seznam je seřazen sestupně.

    ![řazení události](resources/images/sort_event.png)

## Stáhněte si seznam událostí { #capture_download_event_list } 

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Vyberte program.
   Všechny události registrované k vybranému programu se zobrazí v seznamu.

4. Klikněte na ikonu **tři tečky** v pravém horním rohu seznamu událostí.

5. Klikněte na **Stáhnout data**.

6. Vyberte formát, který chcete stáhnout.

    ![stáhnout seznam událostí](resources/images/download_event_list.png)

> **Note**
>
> You can download an event list in JSON or CSV formats.

## Předdefinovaná zobrazení seznamu { #capture_views } 

Můžete nastavit vlastní Pohledy a uložit je pro pozdější použití. Pohledy lze také sdílet s ostatními. Pohled se skládá z filtrů, pořadí sloupců a pořadí řazení událostí.

### Ukládání nového pohledu { #capture_view_save } 

1. Vyberte organizační jednotku a program.

2. Nastavit filtry pomocí tlačítek filtru nad seznamem událostí (podrobně popsáno [zde](#capture_filter_event_list)).

    ![](resources/images/view_save_filters.png)

3. Pořadí sloupců nastavíte kliknutím na ikonu ozubeného kola a poté ve vyskakovacím okně určíte rozložení podle svých preferencí (jak upravit rozložení je podrobně popsáno [zde](#capture_modify_event_list_layout)).

    ![](resources/images/view_save_column_order.png)

4. Události seřaďte kliknutím na jedno ze záhlaví sloupců (podrobně popsáno [zde](#capture_sort_event_list)).

    ![](resources/images/view_save_sort_order.png)

5. Otevřete nabídku Další (ikona se třemi tečkami) vpravo a poté vyberte možnost „Uložit aktuální zobrazení ...“

    ![](resources/images/view_save_menu.png)

6. Vyplňte název pohledu a klikněte na Uložit.

    ![](resources/images/view_save_name.png)

### Načítání pohledu { #capture_view_load } 

1. Vyberte organizační jednotku a program s předdefinovaným zobrazením.

2. Pohledy by měly být k dispozici nad samotným seznamem událostí. Kliknutím na zobrazení jej načtete.

    ![](resources/images/view_load_unselected.png)

3. Příklad načteného pohledu.

    ![](resources/images/view_load_selected.png)

### Aktualizace pohledu { #capture_view_update } 

1. Načtěte pohled, který chcete aktualizovat (viz [načítání pohledu](#capture_view_load)).

2. Proveďte změny filtrů, pořadí sloupců nebo pořadí řazení událostí.

    > **Note**
    >
    > An asterisk(*) is appended to the view name when the view has unsaved changes.

3. Otevřete nabídku Další (ikona se třemi tečkami) vpravo a poté vyberte možnost „Aktualizovat zobrazení“.

    ![](resources/images/view_update.png)

### Sdílení pohledu { #capture_view_share } 

1. Načtěte pohled, který chcete sdílet (viz [načítání pohledu](#capture_view_load)).

2. Otevřete nabídku Další (ikona se třemi tečkami) vpravo a poté vyberte možnost „Sdílet zobrazení ...“

    ![](resources/images/view_share.png)

3. Proveďte změny. Obvykle byste přidali uživatele / skupiny (1) a / nebo změnili přístupová práva uživatelů / skupin přidaných dříve (2).

    ![](resources/images/view_share_access.png)

### Mazání pohledu { #capture_view_delete } 

1. Načtěte pohled, který chcete smazat (viz [načítání pohledu](#capture_view_load)).

2. Otevřete další nabídku (ikona se třemi tečkami) vpravo a poté vyberte možnost „Odstranit zobrazení“.

    ![](resources/images/view_delete.png)

## User assignment in events programs { #capture_user_assignment } 

Události lze přiřadit uživatelům. Tato funkce musí být povolena pro každý program.

### Assigning user to new events { #capture_user_assignment_new } 

1. Vyberte organizační jednotku a program s povoleným přiřazením uživatelů.

2. Klikněte na **Nová událost** v pravém horním rohu.

3. Sekce postupníka najdete v dolní části stránky pro zadávání údajů. Vyhledejte a vyberte uživatele, kterému chcete událost přiřadit. Při uložení události bude postupník zachován.

    ![](resources/images/user_assignment_new.png)

    ![](resources/images/user_assignment_new_filled.png)

### Změnit přiřazeného { #capture_user_assignment_edit } 

1. Vyberte organizační jednotku a program s povoleným přiřazením uživatelů.

2. Klikněte na událost v seznamu

3. V pravém sloupci najdete sekci postupníka.

    ![](resources/images/user_assignment_edit.png)

4. Click the **Edit** button, or the **Assign** button if the event is not currently assigned to anyone.

    ![](resources/images/user_assignment_edit_button.png)

    ![](resources/images/user_assignment_edit_add.png)

5. Search for and select the user you would like to reassign the event to. Click the **Save** button.

### Assignee in the event list { #assignee-in-the-event-list } 

V seznamu událostí budete moci zobrazit postupníka na jednu událost. Kromě toho můžete seznam třídit a filtrovat podle postupníka.

#### Filtrovat podle přiřazeného { #filter-by-assignee } 

1. Klikněte na filtr **Přiřazeno k**.

    ![](resources/images/user_assignment_event_list.png)

2. Vyberte preferovaný filtr přiřazeného a klikněte na tlačítko Aktualizovat.

    ![](resources/images/user_assignment_event_list_options.png)

## Trasovací programy { #capture_tracker_programs } 

Aplikace Capture podporuje pracovní seznamy v programech trasování, ale když otevřete instanci trasované entity, budete přesměrováni na ovládací panel zápisu v aplikaci Tracker Capture.

![](resources/images/tracker_program.png)


## Vyhledejte instance trasovaných entit { #search-for-tracked-entity-instances } 

### V rozsahu programu { #in-program-scope } 

1. Otevřete aplikaci **Capture**.

2. Vyberte program.

   Uvidíte pouze programy přidružené k vybrané organizační jednotce a programy, ke kterým máte přístup, a které jsou sdíleny s vaší skupinou uživatelů prostřednictvím sdílení na úrovni dat.

3. Klikněte na tlačítko Hledat.

4. V rozbalovací nabídce klikněte na první možnost.

    ![](resources/images/search-by-attributes-find-button.png)

   Tyto kroky vás přenesou na stránku vyhledávání. Tam na základě konfigurace vaší organizace uvidíte různé atributy, pomocí kterých můžete vyhledávat. Příklad toho, jak to vypadá, je následující.

    ![](resources/images/search-by-attributes-on-scope-program-overview-0.png)

   Chcete-li provést vyhledávání nyní:

1. Vyplňte atributy, pomocí kterých chcete hledat.

2. Klikněte na tlačítko **Hledat podle atributů**.

    ![](resources/images/search-by-attributes-on-scope-program-overview-1.png)

3. Výsledky vyhledávání se zobrazí následovně.

    ![](resources/images/search-by-attributes-on-scope-program-overview-2.png)

   V tomto seznamu vidíte položky, které odpovídají vašemu vyhledávání. U každého záznamu můžete mít celkem tři možnosti.

   a. Kliknutím na tlačítko "Zobrazit ovládací panel" můžete zobrazit ovládací panel pro **Instanci trasované entity**

    ![](resources/images/search-by-attributes-on-scope-program-overview-5.png)

   b. Aktivní registraci **instance trasované entity** můžete zobrazit kliknutím na tlačítko „Zobrazit aktivní registraci“

    ![](resources/images/search-by-attributes-on-scope-program-overview-3.png)

   c. Můžete znovu zapsat **instanci trasované entity** do aktuálního programu, ve kterém hledáte.

    ![](resources/images/search-by-attributes-on-scope-program-overview-4.png)


#### Zpětné vyhledávání { #fallback-search } 

Proveďte úplné vyhledávání, jak je popsáno výše. Pokud má vyhledávání, které jste provedli, výsledky, zobrazí se. Skutečná **instance trasované entity**, kterou hledáte, však může být v jiném programu. V takovém případě možná budete chtít rozšířit vyhledávání na další programy. Toto se nazývá zpětné vyhledávání.

To execute a fallback search, simply press the button on the bottom saying "Search in all programs".
You will see the **Results in all programs** be appended below the search in the current program. These two modules are collapsible to save space. 

Pokud nouzový režim nelze provést, zobrazí se vám modální přechod **Zpět na vyhledávání**, abyste mohli změnit hledané výrazy.

> **Poznámka**
>
> Zpětné vyhledávání je možné pouze při vyhledávání v rámci programu.

![](resources/images/search-by-attributes-fallback-overview-0.png)

#### Create new **Tracked entity instance** { #create-new-tracked-entity-instance } 

When none of the results match, you can create a new user by clicking **Create new** button on the bottom of the search page. 

Based on the search domain, you will be navigated to the registration of the selected **Tracked entity type**, with or without program enrollment preselected. 
The search terms that you typed in before will be prefilled in the registration form.

![](resources/images/search-page-create-new-tei.png)


### V oboru typu sledované entity { #in-tracked-entity-type-scope } 

1. Otevřete aplikaci **Capture**.

2. Kliknutím na tlačítko **Hledat** otevřete stránku vyhledávání.

3. Klikněte na rozevírací nabídku a vyberte typ entity, kterou chcete vyhledat.

    ![](resources/images/search-by-attributes-domain-selector-overview-0.png)

4. Proveďte výběr ze seznamu.

    ![](resources/images/search-by-attributes-domain-selector-overview-1.png)

   Na základě konfigurace vaší organizace uvidíte různé atributy, pomocí kterých můžete vyhledávat. Příklad toho, jak to vypadá, je následující.

    ![](resources/images/search-by-attributes-on-scope-tetype-overview-0.png)

   Chcete-li provést vyhledávání nyní:

1. Vyplňte atributy, pomocí kterých chcete hledat.

2. Klikněte na tlačítko Hledat podle atributů.

    ![](resources/images/search-by-attributes-on-scope-tetype-overview-1.png)

3. Výsledky vyhledávání se zobrazí následovně.

    ![](resources/images/search-by-attributes-on-scope-tetype-overview-2.png)

   V tomto seznamu vidíte položky, které odpovídají vašemu vyhledávání. U každého záznamu máte možnost kliknout na tlačítko „Zobrazit ovládací panel“ a zobrazit ovládací panel pro **trasovanou entitu**.


### Příliš mnoho výsledků { #too-many-results-functionality } 

Program nebo typ trasované entity, který prohledáváte, může být konfigurován s omezením počtu výsledků, které jsou z vyhledávání vráceny. Pokud vaše výsledky vyhledávání překročí tento limit, zobrazí se varovná zpráva, jako je ta níže.

![](resources/images/search-by-attributes-on-scope-program-overview-too-many-results-message.png)

### Stránkování { #pagination } 

Stránka s výsledky zobrazuje až pět výsledků najednou. Měli byste se pokusit použít konkrétní vyhledávací kritéria, aby nebylo příliš mnoho shod. Pokud však existuje více než pět výsledků, můžete zobrazit další výsledky pomocí tlačítka **>** na konci stránky.

![](resources/images/search-by-attributes-on-scope-program-overview-pagination.png)

## Seznam trasovaných instancí entit zapsaných v programu { #list-tracked-entity-instances-enrolled-in-program } 

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Vyberte trasovací program s nastavením "Zobrazit seznam úvodní stránky" na hodnotu true.

4. Program může mít přidružené kategorie (příkladem takové kategorie by byl implementující partner). Pokud je to váš případ, vyplňte je.

### Custom TEI working list for programs with "Display front page list" set to false. { #custom-tei-working-list-for-programs-with-display-front-page-list-set-to-false } 

1. Otevřete aplikaci **Capture**.

2. Vyberte organizační jednotku.

3. Vyberte trasovací program s nastavením "Zobrazit seznam úvodní stránky" na hodnotu false.

4. Pokud má program nějaký vlastní pracovní seznam, můžete na něj kliknout a načíst jej.

![](resources/images/tei_list.png)

### Filtrovat seznam { #filter-the-list } 

Filtrujte jej pomocí tlačítek nad samotným seznamem.

![](resources/images/tei_list_filters.png)

Příkladem může být filtrování seznamu tak, aby se zobrazovaly pouze trasované instance entit, kde vám byla přiřazena událost: Klikněte na filtr „Přiřazeno k“ (1), vyberte „Já“ (2) a poté „Použít“ změny (3).

![](resources/images/tei_list_filter_example.png)

### Seřadit seznam { #sort-the-list } 

Kliknutím na jedno z hlaviček sloupců seřadíte seznam podle tohoto sloupce. Vedle záhlaví sloupce se zobrazuje malá šipka, která označuje aktuální pořadí řazení. Opětovným kliknutím přepnete mezi vzestupným a sestupným pořadí.

![](resources/images/tei_list_sort_order.png)

### Upravte rozložení seznamu { #modify-the-list-layout } 

Můžete vybrat, které sloupce se mají v seznamu zobrazit, a také reorganizovat pořadí sloupců.

Klikněte na ikonu **ozubeného kola** v pravém horním rohu seznamu. Zaškrtněte políčka u sloupců, které chcete zobrazit (1), a přeuspořádejte sloupce přetažením (2).

![](resources/images/tei_list_column_layout.png)

### Načítání předdefinovaného zobrazení seznamu { #loading-a-predefined-list-view } 

Předdefinovaná zobrazení seznamu najdete nad filtry seznamu. Kliknutím načtete pohled.

![](resources/images/tei_list_predefined_views.png)

### Download the tracked entities list { #download-the-tracked-entities-list } 

1. Otevřete aplikaci **Capture**.
2. Vyberte organizační jednotku.
3. Vyberte trasovací program s nastavením "Zobrazit seznam úvodní stránky" na hodnotu true.
4. Click the **three dots** icon on the top right of the tracked entities list.
5. Klikněte na **Stáhnout data**.
6. Vyberte formát, který chcete stáhnout.
    ![download tracked entities list](resources/images/download_tracked_entities_list.png)
> **Note**
> You can download the tracked entities list in JSON or CSV formats.

## Tracker program stage working list { #tracker-program-stage-working-list } 

V pracovním seznamu můžete zobrazit datové prvky z jedné fáze. Vyberte možnost "Fáze programu" z rozbalovací nabídky "Další filtry" a poté vyberte fázi programu.

![](resources/images/program_stage_button.png)

![](resources/images/program_stage_working_list.png)

The tracker program stage list can be [filtered](#filter-the-list), [sorted](#sort-the-list), [modified](#modify-the-list-layout), [saved](#capture_view_save), [updated](#capture_view_update), [deleted](#capture_view_delete) and [shared](#capture_view_share) in the same way as other working lists. Additionally, the program stage list can be [filtered by assignee](#assignee-in-the-event-list), just like an event program list.

## Informace o implementátorovi / správci { #implementer_info } 

### Ukládání metadat do mezipaměti { #metadata_caching } 

Z důvodu výkonu aplikace Capture ukládá do paměti metadata v klientském prohlížeči. Když se na serveru aktualizují metadata, je třeba změny šířit na klienty, kteří již metadata uložili do mezipaměti. V závislosti na změně se to děje jedním ze tří způsobů:

1. Pokud je změna vázána na program, budete muset zvýšit verzi programu pro daný program. Například pokud změníte datové prvky v programu nebo v pravidle programu, je třeba zvýšit verzi vázaného programu.

2. Pokud změna NENÍ vázána na program, budete muset zvýšit JAKOUKOLI verzi programu, aby se změna mohla rozšířit na klienty. Příkladem jsou změny konstant, úrovní organizačních jednotek nebo skupin organizačních jednotek.

3. Výjimkou z výše uvedených dvou pravidel jsou sady možností. Sady možností mají svou vlastní vlastnost verze, tj. Zvýšení verze sady možností by mělo zajistit, že se metadata sady možností rozšíří na klienty.


## Enrollment dashboard { #enrollment-dashboard } 

### Reaching the enrollment dashboard via url { #reaching-the-enrollment-dashboard-via-url } 

You reach the enrollment dashboard either by typing in the address bar of your browser or using the user interface of the capture app.
In this section we are focusing on the first use-case, where you type or paste the url you want to access in the Address bar.

![](resources/images/enrollment-dash-01.png)

One way to reach the enrollment dashboard and view a specific tracked entity instance's enrollment is by using _only_ the enrollment id. For example the link .../dhis-web-capture/#/enrollment?enrollmentId=wBU0RAsYjKE will 
take you the dashboard for the enrollment with id `wBU0RAsYjKE`. 

Horní část ovládacího panelu definuje váš kontext. Například na obrázku níže je kontext následující, vybraný program je "Child Programme", organizační jednotka je "Ngelehun CHC", vybraná osoba je "Anna Jones" a vybraná registrace je "2017-11-16 11 :38".

![](resources/images/enrollment-dash-02.png)

Kontext můžete změnit kliknutím na tlačítko „x“.

![](resources/images/enrollment-dash-03.png)

#### Deselecting the program { #deselecting-the-program } 

Když zrušíte výběr programu, uvidíte následující

![](resources/images/enrollment-dash-05.png)

##### Selecting a program with enrollments { #selecting-a-program-with-enrollments } 

When program _and_ enrollment selections are empty, you first have to select a program. 
If the tracked entity instance (in this case "Anna Jones") has enrollments under the program you select you will see the following message.

![](resources/images/enrollment-dash-09.png)

##### Selecting a program with zero enrollments { #selecting-a-program-with-zero-enrollments } 

If the tracked entity instance (in this case "Anna Jenkins") does not have enrollments under the program you select you will see a message explaining that there are no enrollments for that program.
You will also be given the option to enroll "Anna Jenkins" in that program.

![](resources/images/enrollment-dash-10.png)

##### Selecting an event program  { #selecting-an-event-program } 

Když vyberete program události, uvidíte následující. (Pamatujte si, že programy událostí nemají v systému zápisy, ale pouze trasovací programy).

![](resources/images/enrollment-dash-11.png)

Budete mít také možnost buď vytvořit novou událost pro vybraný program, nebo zobrazit pracovní seznamy pro vybraný program.

##### Selecting a program with a different tracked entity type  { #selecting-a-program-with-a-different-tracked-entity-type } 

Když je vámi vybraným typem sledované entity osoba, jako v našem příkladu s Annou Jenkinsovou, a vyberete program, který není typu osoba, ale například typu případu malárie, uvidíte následující.

![](resources/images/enrollment-dash-12.png)

Máte také možnost zaregistrovat instanci trasované entity do programu, který jste vybrali.

#### Deselecting the organisation unit { #deselecting-the-organisation-unit } 

Když zrušíte výběr organizační jednotky, uvidíte následující

![](resources/images/enrollment-dash-06.png)

#### Deselecting the tracked entity instance { #deselecting-the-tracked-entity-instance } 

Když zrušíte výběr instance trasované entity, v tomto případě „Anna Jones“ se dostanete do pracovních seznamů v tomto programu Tracker.

![](resources/images/enrollment-dash-07.png)

#### Deselecting the enrollment { #deselecting-the-enrollment } 

Když zrušíte výběr zápisu, uvidíte následující

![](resources/images/enrollment-dash-08.png)


###Quick actions { #quick-actions } 

Widget rychlé akce nabízí zkratky pro často používané akce pro aktuální registraci.

![](resources/images/enrollment-dashboard-quick-actions.png)

### Program stage list { #program-stage-list } 

Fáze lze sbalit nebo rozbalit a odhalit události uvnitř.

![](resources/images/enrollment-dash-stages-events-02.png)

#### Collapsed stages { #collapsed-stages } 

![](resources/images/enrollment-dash-stages-events-01.png)

In the collapsed state, you can view the summary information about this stage including: 
- Ikona
- Název fáze programu
- Popis fáze programu (při najetí na informační ikonu)
- Celkový počet událostí
- Last updated date 
Depending on the status of events, there can be additional information regarding: total number of overdue events or total number of scheduled events.

#### Expanded stages { #expanded-stages } 

![](resources/images/enrollment-dash-stages-events-03.png)

When you expand the list, you will see the table contains the data of events in the stage. This includes mandatory columns: `Status`, `Report date` and `Organization unit`, the following columns depend on the data elements that have been selected as `Display in list`  of event.

Události jsou seřazeny s nejnovějšími nahoře a lze seřadit i další sloupce.

![](resources/images/enrollment-dash-stages-events-04.png)

When clicking  **New {stage event name}** button, you will be redirected to the  **Add new event page** for this selected stage.

![](resources/images/enrollment-dash-stages-events-06.png)


When clicking  **Go to full {stage event name}** button, you will be redirected to the  **Program stage list page** for this selected stage.

![](resources/images/enrollment-dash-stages-events-08.png)

#### Expanded stages with more than 5 events  { #expanded-stages-with-more-than-5-events } 

In case there are more than 5 events in the list, only the first 5 are shown. You will be able to view the rest by clicking  **Show more**.

![](resources/images/enrollment-dash-stages-events-05.png)

If you want to collapse events, you can use  **Reset list** button which will return the table back to the default sorting and initial 5 events.

![](resources/images/enrollment-dash-stages-events-07.png)

### Enrollment widget { #enrollment-widget } 

Na stránce zápisu můžete vidět widget pro zápis

![](resources/images/enrollment-dash-enrollment-widget-1.png)

#### Enrollment actions { #enrollment-actions } 

When you click on the enrollment actions button, a menu with all the available actions will open. You can:

- Change the enrollment status to Active, Canceled or Completed using the buttons in the menu.
- Mark or remove the enrollment for a follow-up.
- Transfer the enrollment to another organisation unit
- Delete the enrollment
- Add coordinates to the enrollment

![](resources/images/enrollment-dash-enrollment-widget-2.png)

There can only be one active enrollment at a time. If there are no active enrollments, there will be a button **Add new** to enroll the tracked entity instance in the program again.
If the program only allows one enrollment per tracked entity instance, the **Add new** button will be disabled with a tooltip saying `Only one enrollment per {TET} is allowed in this program`.

![](resources/images/enrollment-dash-enrollment-widget-add-new.png)

#### Transfer the enrollment to another organisation unit { #transfer-the-enrollment-to-another-organisation-unit } 

In the enrollment actions, you could also choose to transfer the enrollment to another organisation unit. Click the transfer button and select the organisation unit you want to transfer the enrollment to.

![](resources/images/enrollment-dash-enrollment-widget-transfer.png)

#### Delete the enrollment { #delete-the-enrollment } 

You can delete the enrollment by clicking the delete button and confirming the action in the modal. 

![](resources/images/enrollment-dash-enrollment-widget-3.png)

#### Complete the enrollment { #complete-the-enrollment } 

You can complete the enrollment by clicking the complete button. When there are active events, you can choose to complete the enrollment along with the events from the confirmation modal.

![](resources/images/enrollment-dash-enrollment-widget-4.png)

### Enrollment note widget { #enrollment-note-widget } 

The enrollment note widget displays notes and allows addition of notes, associated with the current enrollment. 

![](resources/images/enrollment-widget-note.png)

By clicking in the text field, you will be able to enter new text and see action buttons **Save note** and **Cancel**. Be aware that Enrollment notes are attributed to a user and cannot be deleted. 


### Relationship widget { #relationship-widget } 

The Relationships widget on the enrollment dashboard is used for viewing the record’s linked relationships to other records.
The number next to the title signifies the total number of relationships

![](resources/images/enrollment-dash-relationship-widget.png)

For tracked entity instance relationships, the key attributes shown in the widget are the attributes that have been selected to be displayed on the relationship type page in Maintenance.

If no attributes are selected, it will just show a row per record with tracked entity type name and relationship creation date.

When clicking a tracked entity instance you should be taken to the Enrollment Dashboard. If the relationship type includes a program, you should be taken to the latest enrollment for that program. If no program is specified, you should still be sent to the enrollment dashboard, but without a program.

Click the **Add new** button to add a new relationship. Adding a new relationship opens a dialog where you can select the applicable relationship type.

![](resources/images/enrollment-dash-relationship-widget-add.png)

Choose between linking to an existing tracked entity instance or creating a new one.

![](resources/images/enrollment-dash-relationship-widget-add-choose.png)

#### Existing tracked entity instance { #existing-tracked-entity-instance } 

Use the search form to find any existing record to link to.

![](resources/images/enrollment-dash-relationship-widget-add-existing.png)

#### New tracked entity instance { #new-tracked-entity-instance } 

Use the form to create a new record and link.

![](resources/images/enrollment-dash-relationship-widget-add-new.png)

### Tracked entity instance profile widget { #tracked-entity-instance-profile-widget } 

On the enrollment dashboard, you can view the tracked entity instance profile widget. Inside the profile widget you can view the key attributes values. 

![](resources/images/enrollment-dash-tei-profile-widget.png)

Kliknutím na tlačítko **Upravit** proveďte změny v profilu instance trasované entity. Úpravou profilu se otevře dialog, kde lze změnit atributy profilu.

![](resources/images/enrollment-dash-tei-profile-widget-edit.png)

Click the **Delete ${tracked entity type}** button to delete the tracked entity. You can confirm the action from the dialog. Once confirmed, tracked entity and all its associated enrollment and events across all programs will be deleted. To delete a tracked entity that has any enrollments, the user needs the authority **Delete tracked entity instance and associated enrollments and events**.

![](resources/images/enrollment-dash-tei-profile-widget-delete.png)

### Feedback widget { #feedback-widget } 

![](resources/images/enrollment-dash-feedback-widget-1.png)

On the enrollment dashboard, the feedback widget displays text and values that are triggered by certain conditions. 
If the current dashboard triggers some rules set up in the program, the text or values will be automatically displayed.

#### Empty state { #empty-state } 

If there isn't any feedback for the current dashboard, the widget shows a short _empty_ message.
If there aren't any program rules that could show feedback for the current dashboard then the widget is hidden.


### Indicator widget { #indicator-widget } 

![](resources/images/enrollment-dash-indicator-widget-1.png)

On the enrollment dashboard, the indicator widget displays indicator text and values output related to the current dashboard.
The indicators will be sorted alphabetically.

#### Empty state { #empty-state } 

If there aren't any related indicators or indicator output for the current dashboard, the widget shows a short _empty_ message.
If the current dashboard can't show any indicator output (because it has no related indicators) then the widget is hidden.

#### Legends { #legends } 

Some indicator values show a colored circle next to the value. 
The colored circle shows the related legend color for that indicator value. 
Colored legend circles are only shown for indicator values that have them set up.


### Warning widget { #warning-widget } 

![](resources/images/enrollment-dash-warning-widget-1.png)

On the enrollment dashboard, the warning widget displays warnings related to the current dashboard. The widget shows warnings that are not associated with any specific data item.
If there aren't any warnings to show for the current dashboard then the widget is hidden.

### Error Widget { #error-widget } 

![](resources/images/enrollment-dash-error-widget-1.png)

On the enrollment dashboard, the errors widget displays errors related to the current dashboard. The widget shows errors that are not associated with any specific data item.
If there aren't any errors to show for the current dashboard then the widget is hidden.

## Enrollment event view and edit page { #enrollment-event-view-and-edit-page } 

### Navigation  { #navigation } 

Na stránku úprav události registrace se dostanete kliknutím na libovolnou událost v seznamu etap programu na stránce Přehled registrace.

### Top bar context  { #top-bar-context } 

V horní části stránky můžete vidět různé informace související s aktuálním kontextem. Můžete vidět program, organizační jednotku, sledovanou entitu, datum registrace, fázi a datum události registrace.

Chcete-li přejít na stránku Přehled zápisů, můžete:
- kliknout na tlačítko "Zpět na všechny etapy a události".
- zrušit výběr scény z horní lišty.
- zrušit výběr události z horní lišty.

![](resources/images/enrollment-event-view-edit-navigation.png)

### View/Edit event form  { #viewedit-event-form } 

Toto je formulář, kde můžete zobrazit a upravit podrobnosti události registrace.

#### Form header  { #form-header } 

Ve formuláři pro zobrazení / úpravu události můžete vidět jméno scény a ikonu.

![](resources/images/enrollment-event-view-edit-header.png)

### Top bar context   { #top-bar-context } 

At the top of the page you can see different informations related with the current context. You can see the program, the organization unit, the tracked entity, the enrollment date, the stage. 

To go to Enrollment Overview page you can: 
- deselect the stage from the top bar. 
- deselect the event from the top bar. 

![](resources/images/enrollment-event-new-navigation.png) 


### Scheduled date in edit event form { #scheduled-date-in-edit-event-form } 
If an event has the status Scheduled or Overdue, you will be able to see the **Report** and **Schedule** tab. 

![](resources/images/enrollment-edit-event-schedule-date-1.png)


Na kartě **Hlášení** bude pole s plánovaným datem stále zobrazeno, ale bude zašedlé a vedle něj bude ikona s nápovědou „Přejít na kartu **Plán** a přeplánovat tuto událost “.

V záložce **Plán** se zobrazí podobné informace o plánování události jako v pracovním prostoru Nová událost. Budete moci upravit datum plánu a uložit změnu kliknutím na tlačítko **Plán**.

![](resources/images/enrollment-edit-event-schedule-date.png)

If an active event has a scheduled date before becoming active or a completed event has scheduled date, this date should still be shown in the workspace. 
It’ll be locked with an icon next to it and a tooltip saying “Scheduled date cannot be changed for active/completed events”. 

#### Scheduled date with Hide due date enabled { #scheduled-date-with-hide-due-date-enabled } 
If the flag “Hide due date” in the Maintenance configuration is enabled, scheduled date will not be shown in the form. 

However, you can still schedule an event, but it automatically chooses the date based on "Scheduled days from start" that has been configured in Maintenance, and this can not be changed. 
In the **Schedule** tab, there will be “Schedule info” saying “Scheduled automatically for xx/xx/xx”, and the user can click  **Schedule** button.

### Ask user to complete program when stage is complete { #ask-user-to-complete-program-when-stage-is-complete } 
If this flag has been enabled for the stage in Stage details in Maintenance, a modal will show up after the user checks the **Complete** event checkbox and clicks save.

![](resources/images/ask-user-to-complete-enrollment-edit-event.png)

#### View mode { #view-mode } 

When the form is in the view mode the title of the page will appear as: `Enrollment: View Event`. You can see in the page all the information related to the event. Click the `Edit event` button to switch to the edit mode. 
This mode is bypassed for events that are scheduled.

![](resources/images/enrollment-event-view-edit-view.png)

#### Edit mode { #edit-mode } 

When the form is in the edit mode the title of the page will appear as: `Enrollment: Edit Event`. You can modify the event and click the `Save` button. Click the `Cancel` button to switch to the view mode without saving the changes.
Scheduled events are are the exception and they are opened in edit mode directly, without the user having to click `Edit event`. Click the `Cancel` button to go back to the enrollment dashboard page without saving the changes.

![](resources/images/enrollment-event-view-edit-edit.png)

V tomto formuláři můžete událost také smazat kliknutím na tlačítko `Smazat`, zobrazí se modální potvrzení, zda chcete tuto událost smazat. Poté budete navigováni zpět na stránku ovládacího panelu zápisu.

![](resources/images/enrollment-edit-event-delete.png)

#### Widgets in View/Edit event page { #widgets-in-viewedit-event-page } 

Widgety zobrazené v pravém sloupci se zobrazí a budou fungovat stejným způsobem, jak je uvedeno na [panelu zápisu](#enrollment-dashboard).

##### Widget assignee { #widget-assignee } 
1. In View/Edit enrollment event page

2. In the right column you will find the assignee widget.

    ![](resources/images/user_assignment_edit_enrollment.png)

3. Click the **Edit** button, or the **Assign** button if the event is not currently assigned to anyone.

    ![](resources/images/user_assignment_edit_button.png)

    ![](resources/images/user_assignment_edit_add.png)

4. Search for and select the user you would like to reassign the event to. Click the **Save** button.

![](resources/images/enrollment-event-view-edit-widgets.png)

## Enrollment event new page { #enrollment-event-new-page } 

You can reach this page add event page by clicking in the **New {stage event name}** button in the overview page. 
In this page you can switch between different tabs: **Report** to add new event, **Schedule** to schedule an event and **Refer** to refer event.
If you have unsaved changes in one tab and switch to another tab, there will be a warning displayed.

### New event widget form { #new-event-widget-form } 

Toto je formulář, kde můžete před uložením upravit podrobnosti události. V záhlaví vidíte jméno a ikonu.

![](resources/images/new-event-widget-form-header.png)

### New event page without a stage { #new-event-page-without-a-stage } 

If you enter the new event page with no stage selected, a list of available stages will be displayed.
Select the stage you want to add a new event in by clicking the associated button.
To navigate back to the enrollment overview, click the **Cancel without saving**-button

![](resources/images/enrollment-event-new-stage-selection-list.png)

### Ask user to complete program when stage is complete { #ask-user-to-complete-program-when-stage-is-complete } 
If this flag has been enabled for the stage in Stage details in Maintenance, a modal will show up after the user clicks the **Complete** button.

![](resources/images/ask-user-to-complete-enrollment-new-event.png)

### Ask user to create new event when stage is complete { #ask-user-to-create-new-event-when-stage-is-complete } 
Pokud byl tento příznak povolen pro fázi v podrobnostech fáze v údržbě, zobrazí se modal poté, co uživatel klikne na tlačítko **Dokončit** nebo zaškrtne políčko **Dokončit** událost a klepne na tlačítko Uložit. Uživatel může vybrat tlačítko **Ano, vytvořit novou událost** pro přechod na stránku Nová událost nebo **Ne, zrušit** pro návrat zpět na řídicí panel registrace. Pokud je k dispozici pouze jedna možná fáze, uživatel bude přesměrován přímo do pracovního prostoru Nová událost pro tuto fázi.


### Assigning user to new events { #assigning-user-to-new-events } 
When reporting or scheduling an event, you can assign a user to it. This feature must be enabled per program stage in a tracker program by clicking the "Allow user assignment of events" check box.

Sekce postupníka najdete v dolní části stránky pro zadávání údajů. Vyhledejte a vyberte uživatele, kterému chcete událost přiřadit. Při uložení události bude postupník zachován.

![](resources/images/user_assignment_report_new.png)

![](resources/images/user_assignment_schedule_new_filled.png)

### Schedule event widget form { #schedule-event-widget-form } 
Místo nahlášení události může uživatel zvolit naplánování události na později. Otevře se formulář s navrhovaným plánovaným datem. Toto datum je určeno souborem pravidel, jak je vysvětleno níže.

Navrhované datum pro první událost etapy programu v zápisu vždy vychází z data zápisu nebo data incidentu (v závislosti na konfiguraci programu). Nastavení konfigurace fáze programu „plánované dny od začátku“ bude přidáno k základnímu datu, aby bylo možné vypočítat navrhované datum.

#### 1. **Default next scheduled date** { #1-default-next-scheduled-date } 
If a program stage has a default next scheduled date configured, the suggested date is the most recent next scheduled date. Below is an example of how this can work.
>
1. Je třeba vytvořit datový prvek s datem typu hodnoty a přiřadit jej ke konkrétní fázi programu s přístupem k budoucím datům. Název datového prvku může být například: Další navrhované datum sledování. Fáze programu je nakonfigurována tak, aby používala datový prvek jako výchozí při plánování nové události přiřazením datového prvku k výchozímu příštímu plánovanému datu.

![](resources/images/schedule_event_01.png)

2. A program rule based on the data entered in the program stage, will determine how many days until the next suggested follow up will be. For example: A program rule with the following condition: #{penta_dose} == '1' (The program rule will trigger when the TEI has received Penta Dose 1), Assign value to the data element: next suggested follow up date with expression: d2:addDays(V{event_date}, '30') **The number suggest how many days from event date the next scheduled event should be.** 

3. Otevřete aplikaci Capture a vytvořte TEI. Pokud má Penta Dose hodnotu Dávka 1, navrhovaná další plánovaná událost je 30 dní od data události. Při plánování nové události bude systém vybírat z datového prvku, dokud má hodnotu.

![](resources/images/schedule_event_02.png)

![](resources/images/schedule_event_03.png)

![](resources/images/schedule_event_04.png)

Uživatel může také najít více informací o tom, kolik událostí je naplánováno na stejné vybrané datum nebo interval vybraného data a navrhované datum z informačního pole.

Below the schedule date entry, user can choose to add a note to the scheduled event.

Po kliknutí na tlačítko **Plán** se uživatel vrátí zpět na stránku s přehledem registrace.

#### 2. **Standard interval days**  { #2-standard-interval-days } 

1. If the program stage has standard interval days configured, the suggested date is calculated by the most recent event date plus the standard interval days value. 

![](resources/images/standard_interval_days_01.png)

2. If the program stage do not have a default next scheduled date configured, the system will use the standard interval days to calculate the next scheduled event date. 

![](resources/images/standard_interval_days_02.png)


#### 3. **If no value is found on either, the suggested date will be defined by enrollment date and incident date.**  { #3-if-no-value-is-found-on-either-the-suggested-date-will-be-defined-by-enrollment-date-and-incident-date } 

1. In case the option **Generate events based on enrollment date** is checked in the Maintenance app, the next suggested event date is calculated by the enrollment date plus the value of scheduled days from start. 

![](resources/images/schedule_event_from_enrollmentdate_01.png)

2. V případě, že je zaškrtnuta možnost **Zobrazit datum incidentu**, další navrhované datum události se vypočítá jako datum incidentu plus hodnota naplánovaných dnů od začátku.

![](resources/images/schedule_event_from_incidentdate_01.png)

## Program stage event list  { #program-stage-event-list } 

Na seznam událostí v programové fázi se dostanete kliknutím na tlačítko **Přejít na celý {název fáze události}** na stránce přehledu.

### Stage Event list  { #stage-event-list } 

In this view you can see all events in a stage 

#### Stage Event list header { #stage-event-list-header } 

In the header, you can see the stage name and icon 

![](resources/images/program-stage-event-list-header.png)

## Attribute option combo for Tracker { #attribute-option-combo-for-tracker } 

K datům událostí Trackeru můžete přidat segregaci pomocí kombinací možností atributů. Chcete-li začít, přidejte do konfigurace programu Tracker kombinaci kategorií.

Kombinovaný selektor možností atributu se zobrazí, když přidáváte nebo měníte/prohlížíte události Tracker. Selektor se navíc zobrazí při registraci, pokud jsou události automaticky generovány jako součást procesu registrace.

Příklad z nové události Tracker:

![](resources/images/attribute-option-combo-tracker.png)

