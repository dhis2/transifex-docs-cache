---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/new_install_docs/src/sysadmin/reference/logging.md"
revision_date: '2024-11-01'
tags:
- Gestion
---

# Journalisation des applications { #install_application_logging }

This section covers application logging in DHIS2.

## Fichiers journaux { #log-files }

The DHIS2 application log output is directed to multiple files and locations.
First, log output is sent to standard output. The Tomcat servlet container
usually outputs standard output to a file under "logs":

```properties

<tomcat-dir>/logs/catalina.out

```

Second, log output is written to a "logs" directory under the DHIS2 home
directory as defined by the `DHIS2_HOME` environment variables. There is a main
log file for all output, and separate log files for various background
processes. The main file includes the background process logs as well. The log
files are capped at 50 Mb and log content is continuously appended.
```properties

<DHIS2_HOME>/logs/dhis.log    
<DHIS2_HOME>/logs/dhis-analytics-table.log
<DHIS2_HOME>/logs/dhis-data-exchange.log
<DHIS2_HOME>/logs/dhis-data-sync.log

```

## Configuration du journal { #log-configuration }

Pour remplacer la configuration du journal par défaut, vous pouvez spécifier une propriété de système Java avec le nom `log4j2.configurationFile` et une valeur orientée vers le fichier de configuration [Log4j version 2](https://logging.apache.org/log4j/2.x/manual/configuration.html)
 sur le système de fichiers comme ce qui suit :

```propriétés
-Dlog4j2.configurationFile=/home/dhis/config/log4j2.properties
```

Java system properties can be set e.g. through the *JAVA\_OPTS* environment
variable or in the tomcat startup script.

A second approach to overriding the log configuration is to specify logging
properties in the `dhis.conf` configuration file. The supported properties are:

```propriétés
# Taille maximale des fichiers journaux, la valeur par défaut est '100Mo'
journalisation.file.max_size = 250 Mo

# Nombre maximum de fichiers d'archives de journaux évolutifs, la valeur par défaut est 0
journalisation.file.max_archives = 2
```

DHIS2 will eventually phase out logging to standard out / catalina.out and as a
result it is recommended to rely on the logs under `DHIS2_HOME`.

DHIS2 fournira les valeurs de contexte suivantes :

* `sessionId` : ID de session de l'utilisateur actuel
* `xRequestID`: An alphanumeric ID as send by the `X-Request-ID` HTTP header
  for the currently processed request; empty if not provided

To use the context variables in the log add them using `-X{<name>}` to your log
pattern as in this example:

    * %-5p %d{ISO8601} %m (%F [%t]) %X{sessionId} %X{xRequestID}%n

## Configuration du niveau de journalisation { #log-level-configuration }

To set the log level of individual packages you can specify properties on the
format  `logging.level.{package-names}` in `dhis.conf`. For example, to set the
log level for the entire Spring Framework to DEBUG and up, you can specify:

```
logging.level.org.springframework = DEBUG
```
Pour définir le niveau de journalisation sur DEBUG pour les services DHIS2, vous pouvez spécifier :

```
logging.level.org.hisp.dhis = DEBUG
```

Les niveaux de journalisation courants sont `DEBUG`, `INFO`, `WARN` et `ERROR`.

> **Remarque**
>
> La configuration du niveau du journal n'est pas prise en charge par la version intégrée de DHIS2 Jetty.

## Changelog { #install_changelog }

DHIS2 writes entries to changelogs when certain entities were changed in the
system. The entities fall within two categories: _Aggregate_ and _tracker_. The
_aggregate_ category includes changes to aggregate data values. The _tracker_
category includes changes to program instances, program temporary ownership
items, tracked entity attribute values and tracked entity data values.

The changelog for both categories are enabled by default. You can control
whether to enable or disable the changelog by category through the `dhis.conf`
configuration file using the properties described below. Property options are
`on` (default) and `off`.

The benefit of the changelog is the ability to see changes which have been
performed to the data. The benefits of disabling the changelog is a minor
performance improvement by avoiding the cost of writing changelog items to the
database, and less database storage used. It is recommended to enable
changelog, and great care should be taken if disabling it.

```propriétés
# Le changelog de la catégorie Agrégat, peut être défini sur 'on', 'off'
changelog.aggregate = on

# Le changelog de la catégorie Tracker, peut être défini sur 'on', 'off'
changelog.tracker = on
```

