---
edit_url: "https://github.com/dhis2/maps-app/blob/master/docs/maps.md"
revision_date: '2023-06-19'
tags:
- Utilisation
- Version Master de DHIS2 Central
---

# Utiliser l'application Maps { #using_maps }

## À propos de l'application Maps { #about_maps }

L'application Maps est introduite dans la version 2.29 en remplacement de l'application SIG. Elle offre une interface plus intuitive et conviviale. Le moteur cartographique de la version 2.34 est basé sur la technologie WebGL, capable d'afficher simultanément des milliers d'éléments sur une carte.

Avec l'application Maps, vous pouvez superposer plusieurs couches et choisir parmi différentes cartes de base. Vous pouvez créer des cartes thématiques de zones et de points, visualiser les structures sanitaires en fonction des classifications et visualiser les zones de captage pour chaque structure. Vous pouvez marquer les zones et les points, effectuer une recherche et filtrer sur la base de divers critères. Vous pouvez déplacer des points et définir des emplacements à la volée. Les cartes peuvent être enregistrées en tant que favorites et partagées avec d'autres utilisateurs et groupes d'utilisateurs ou téléchargées sous forme d'image.

> **Note**
>
> Pour utiliser des légendes prédéfinies dans l'application **Maps**, vous devez tout d'abord les créer dans l'application de **Maintenance**.
>

![](resources/images/maps_main.png)

- Le **panneau des couches** sur le côté gauche de l'espace de travail affiche un
  aperçu des couches de la carte actuelle :

  - Au fur et à mesure que des couches sont ajoutées, en utilisant le bouton **(+) Ajouter une couche**, 
    elles sont disposées et gérées dans ce panneau.

  - Le **fond de carte** est toujours affiché dans le panneau. 
    Le fond de carte par défaut est OSM Light et est sélectionné par défaut, sauf si un autre
    fond de carte a été configuré dans les paramètres système.
    OpenStreetMap Detailed contient plus de fonctionnalités cartographiques et de noms de lieux. 
    On note 4 fonds de carte sur Bing Maps, qui remplace Google Maps utilisé dans les versions précédentes.
    Bing Road et Bing Dark affichent les routes, les frontières et les lieux.
    Utilisez la version sombre si les couleurs de vos couches de carte sont claires.
    Bing Aerial et Bing Aerial Labels montrent des images satellites et des images aériennes détaillées.
    Passez de l'un à l'autre en sélectionnant l’image souhaitée.

  - Le petit bouton en forme de flèche à droite du panneau des couches, en haut de l'écran, 
    permet de masquer ou d'afficher le panneau.

<!-- end list -->

- Le bouton **Fichier** situé en haut à gauche vous permet d'ouvrir et d'enregistrer les cartes.
  Voir [utilisation du menu des fichiers de cartes](#using_maps_file_menu) pour des informations plus détaillées.

<!-- end list -->

- Le bouton **Télécharger** à côté du bouton Fichier vous permet de télécharger la carte actuelle sous forme d'image PNG.

<!-- end list -->

- Le bouton **Interprétations** en haut à droite ouvre un panneau d'interprétations
  sur le côté droit de l’espace de travail. Voir [afficher les interprétations](#mapsInterpretation) pour plus d'informations.

<!-- end list -->

- Les boutons **+** et **-** sur la carte vous permettent d'agrandir et de réduire la carte.
  L'agrandissement à l'aide de la molette de la souris est continu, 
  ce qui nous permet d'adapter parfaitement la carte à votre contenu.

- Le bouton **faire pivoter la carte** (flèches en triangle) vous permet de
  faire pivoter et incliner la carte pour améliorer la visualisation de vos données.
  Cliquez sur le bouton (ou la touche Contrôle de votre clavier) tout en déplaçant votre souris pour modifier le
  Cliquez à nouveau sur le bouton pour réinitialiser l'affichage.

- Le bouton **Plein écran** (quatre flèches) vous permet d'afficher la carte en mode plein écran.
  Pour quitter le mode plein écran, cliquez à nouveau sur le bouton ou sur la touche "échap" de votre clavier.

* **Zoom sur le contenu** (symbole de la loupe délimitée) ajuste automatiquement 
  le niveau d'agrandissement et la position centrale de la carte pour mettre en évidence 
  les données de votre carte.

* **Recherche** (symbole de la loupe) permet de rechercher et
  d'aller vers un emplacement spécifique de la carte.

* Le bouton **règle** vous permet de mesurer des distances et des surfaces sur la carte.

* Faites un clic droit sur la carte pour afficher la longitude et la latitude de cet
  emplacement.

**Cartes de référence**

Les couches de fond de carte sont représentées par des _cartes_ de couches dans le panneau des couches, comme:

![](resources/images/maps_basemap_card.png)

En haut de la carte de référence, de gauche à droite, se trouvent :

- Le titre de la carte de référence sélectionnée

- Un symbole de flèche pour réduire et agrandir la carte de fond de référence

Au milieu de la carte de fond de référence figure la liste des cartes de référence disponibles. La carte de référence actuelle est mise en surbrillance.

En bas de la carte de fond de référence se trouvent :

- Un symbole d'oeil pour basculer la visibilité de la couche

- Un curseur pour modifier la transparence de la couche

## Créer une nouvelle carte { #using_maps_create_map }

1.  Dans le menu **Applications**, cliquez sur **Maps**. La fenêtre **DHIS2 Maps** 
    s'ouvre.

2.  Cliquez sur le bouton (+) Ajouter une couche en haut à gauche. 
    Le dialogue de sélection de couche apparaît :

    ![](resources/images/maps_layer_selection.png)

3.  Sélectionnez une couche à ajouter à la carte actuelle. Les options possibles sont les suivantes :

    - [Thématique](#using_maps_thematic_layer)

    - [Événements](#utiliser_la couche_d'évènements_des cartes)

    - [Entités suivies](#utiliser_la couche_des entités_suivies_des cartes)

    - [Etablissements](#utiliser_la couche_d'établissments_des cartes)

    - [Unités d'organisation](#utiliser_la couche_des unités_d'organisation_des cartes)

    En outre, il existe plusieurs couches fournies par Google Earth 
    et d'autres services :

    - Population

    - Tranches d'âge de la population

    - Empreintes de construction

    - Altitude

    - Précipitation

    - Température

    - Couverture terrestre

    _La superposition d'étiquettes_ est une [couche externe] 
    (#utiliser_les couches_de cartes_externes_des cartes) définie dans l'application Maintenance.

## Gérer les couches thématiques { #using_maps_thematic_layer }

_Les couches thématiques_ représentent la variation spatiale des répartitions géographiques. Sélectionnez votre combinaison indicateur/élément de donnée, période et niveau de l'unité d'organisation. Si votre base de données contient des coordonnées et des valeurs de données agrégées pour ces unités d'organisation, elles apparaîtront sur la carte.

> **N.B**
>
> Vous devez générer les tableaux d'analyse du DHIS2 pour disposer de valeurs de données agrégées.
>

![](resources/images/maps_thematic_mapping.png)

Les couches thématiques sont représentés par des _ cartes _ de couches dans le panneau des couches, comme par exemple :

En haut de la carte thématique, de gauche à droite, vous trouverez :

- un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

- Le titre et la période associés à la couche

- Un symbole de flèche pour réduire et agrandir la carte thématique

Au centre de la carte thématique se trouve une légende indiquant les plages de valeurs affichées sur la couche.

En bas de la carte thématique, de gauche à droite, vous trouverez :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un symbole d'oeil pour basculer la visibilité de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - Un bouton **tableau de données** permet d'afficher ou de masquer le tableau de données 
    associé à la couche

  - **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche thématique { #create-a-thematic-layer } 

Pour créer une couche Evénements, choisissez **Thématique** dans la section **Ajouter une couche**. La boîte de dialogue de configuration d'une couche Evénement s'ouvre.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps_thematic_layer_dialog_DATA.png)

    - Sélectionnez un type de données puis sélectionnez respectivement le groupe et l'élément ciblé.
      Les champs disponibles dépendent du type 
      d'élément sélectionné.

    - Sélectionnez une valeur dans le champ **Type d'agrégation** pour que les valeurs de données
      s'affichent sur la carte. "Par élément de données" est sélectionné par défaut.
      Les valeurs alternatives sont : Nombre ; Moyenne ; Somme ; Ecart-type ; 
      Variance ; Min ; Max. Voir aussi [Opérateurs d'agrégation]
      (https://dhis2.github.io/dhis2-docs/master/en/user/html/ch10s05.html#d0e8082).

    - **Afficher uniquement les événements terminés** : affiche uniquement les événements terminés dans le processus d'agrégation.
      Ceci est utile lorsque vous voulez exclure des événements partiels des calculs d'indicateurs. Disponible
      Disponible pour les indicateurs, les indicateurs de programme et les éléments de données d'événement.

2.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps_thematic_layer_dialog_PERIOD.png)

    - Sélectionnez la période à laquelle les données thématiques sont cartographiées.
      Vous pouvez sélectionner soit une période relative, soit une période fixe.

      - Période relative

        Dans le champ **Type de période**, sélectionnez **Relative**, puis
        sélectionnez l'une des périodes relatives, par exemple **L'année dernière** ou
        **12 derniers mois**, dans le champ **Période**.

        Une **période relative par défaut pour l'analyse** peut être définie dans l'application **Paramètres des systèmes**.
         

        Si vous sélectionnez une période relative qui couvre plusieurs années/mois/semaines/jours, 
        la couche peut être affichée sous forme

        - Unique (agrégée)

          Afficher les valeurs agrégées pour la période relative sélectionnée (par défaut).

        - Délais

          Contient une chronologie qui vous permet de parcourir les périodes.
          Une seule couche chronologique peut être ajoutée à la même carte.

        - Vues de carte fractionnées

          Affiche plusieurs cartes vous permettant de comparer différentes périodes
          cote à cote. Pris en charge pour les périodes relatives avec 12 éléments 
          Ne peut pas être combiné avec d’autres types de couches.

      - Période fixe

        Dans le champ **Type de période**, sélectionnez la période, puis
        sélectionnez la cible dans le champ **Période**.

      - Dates de début et de fin

        Dans le champ **Type de période**, sélectionnez **Dates de début et de fin**
        et entrez une date de début et une date de fin.

3.  Dans l'onglet **Unités d'Org.**:

    ![](resources/images/maps_thematic_layer_dialog_ORG_UNITS.png)

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, niveaux d'unité d'organisation dans la hiérarchie
        groupes d'unités d'organisation ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

    - **Utiliser la géométrie associée** : cette liste déroulante ne s'affichera que s'il existe 
      une géométrie supplémentaire disponible pour vos unités d'organisation.
      Ceci est généralement utilisé pour afficher les zones de captage des établissements.

4.  Dans l'onglet **FILTRE**:

    ![](resources/images/maps_thematic_layer_dialog_FILTER.png)

    - Cliquez sur AJOUTER UN FILTRE et sélectionnez un élément de données disponible pour ajouter un nouveau 
      filtre à l'ensemble de données.

      - Sélectionnez une dimension de données dans la liste déroulante.
        Vous pouvez réduire le nombre de dimensions affichées en utilisant le champ de recherche.
        Cliquez sur le nom pour sélectionner une dimension.

      - Lorsqu'une dimension est sélectionnée, vous obtenez une deuxième liste déroulante avec des éléments de dimension.
        Cochez les éléments que vous voulez inclure dans le 
        filtre.

      Plusieurs filtres peuvent être ajoutés. Cliquez sur le bouton "Corbeille" à droite du filtre pour le supprimer.
      du filtre pour le supprimer.

5.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_thematic_layer_dialog_STYLE.png)

    - Sélectionner soit les carte **Choroplèthes** ou à **Bulles**.

      - Choroplèthe attribuera une couleur à chaque forme d'unité d'organisation en fonction de la valeur de données.
        C'est la technique recommandée lorsque les données sont normalisées
        (par habitant).

      - La carte à bulles affichera les valeurs des données sous forme de cercles proportionnels.
        Utilisez cette technique si les données ne sont pas normalisées (chiffres absolus). 
        Les cercles sont placés au centre de chaque unité d'organisation.

    - Définissez le **Rayon faible** et le **Rayon élevé** pour les cercles proportionnels ou les établissements représentés avec des points.
      Les cercles seront mis à l'échelle entre un rayon faible et un rayon élevé en fonction de la valeur de donnée.
      Le rayon doit être compris entre 0 et 50 px.

    - **Afficher les étiquettes** : permet d'afficher les noms et les valeurs des unités d'organisation sur la couche.
      Choisissez uniquement entre "Nom", "Nom et valeur" et "Valeur". Taille de la police, poids, style
      et couleur peuvent également être modifiés.

    - **Ne pas afficher de donnée** : par défaut, les unités d'organisation avec des valeurs de données manquantes ne s'afficheront pas sur la carte.
      Cochez cette case si vous voulez les afficher avec une couleur. Cliquez sur la couleur pour la modifier.

    - Sélectionner le type de légende :

      - **Légende automatique des couleurs** : l'application créera pour vous une légende sur la base
        de la méthode de classification, du nombre de classes et de la couleur que vous sélectionnez.
        Définissez une **Classification** soit :

        - Intervalles égaux

          chaque intervalle aura une plage (valeur la plus élevée des données - valeur la plus faible des données / nombre de classes)

        - Nombres égaux

          le créateur de la légende va tenter de répartir les unités d'organisation uniformément.

      - **Légende des couleurs prédéfinie** : Choisissez parmi les légendes prédéfinies.

      - **Légende à couleur unique** : Sélectionnez la couleur des bulles ou des cercles. Disponible uniquement 
        pour les cartes à bulles.

6.  Cliquez sur **AJOUTER UNE COUCHE**.

### Modifier une couche thématique { #modify-a-thematic-layer } 

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) sur la carte de la 
    couche thématique.

2.  Modifiez le paramètre de l'un des onglets comme vous le souhaitez.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Filtrer les valeurs dans une couche thématique { #filter-values-in-a-thematic-layer } 

Les couches thématiques ont une option **tableau de données** qui peut être activée ou désactivée à partir de la carte de la couche thématique.

![](resources/images/maps_thematic_layer_data_table.png)

La table de données affiche les données qui forment la couche thématique

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs de filtre sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajuster en fonction du filtre.
  Les filtres sont appliqués comme suit :

  - NOM

    filtrer par noms contenant ce texte

  - VALEUR

    filtrer les valeurs par des nombres et/ou des plages de valeurs données, par exemple : 
    2,\>3&\<8

  - LÉGENDE

    filtrer par légendes contenant ce texte

  - INTERVALLE

    filtrer par plages contenant ce texte

  - NIVEAU

    filtrez le niveau par nombres et/ou plages de valeurs, par exemple : 2,\>3&\<8

  - PARENT

    filtrer par noms de parent contenant ce texte

  - Identifiant

    filtrer par Identifiants contenant ce texte

  - TYPE

    filtrer par types d'affichage SIG contenant ce texte

  - COULEUR

    filtrer par noms de couleurs contenant ce texte

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.
>

### Rechercher une unité d'organisation { #search-for-an-organisation-unit } 

Le champ de filtre NOM dans le tableau de données constitue un moyen efficace de rechercher les unités d'organisation une à une.

### Ouvrir le profil de l'unité d'organisation { #open-organisation-unit-profile }

Vous pouvez ouvrir le [profil d'unité d'organisation](#utilisation_du profil_des unités_d'organisation_des cartes) de trois manières :

1. Cliquez sur l'une des unités d'organisation indiquées sur la carte, puis cliquez sur
   le bouton **Afficher le profil** dans la fenêtre contextuelle.

2. Faites un clique droit sur l'une des unités d'organisation présentes sur la carte, puis sélectionnez **Afficher le profil**
   dans le menu.

3. Cliquez sur une ligne d'unité d'organisation dans le **tableau de données**.

### Naviguer entre les hiérarchies d'organisation { #navigate-between-organisation-hierarchies } 

Lorsque des unités d'organisation sont visibles sur la carte, vous pouvez facilement naviguer de haut en bas dans la hiérarchie sans utiliser l'interface utilisateur niveau/parent.

1.  Faites un clique droit sur l'une des unités d'organisation.

2.  Sélectionnez **Accéder au niveau supérieur** ou **Accéder au niveau inférieur**.

    L'option de défilement vers le bas est désactivée si vous êtes au niveau le plus bas ou 
    si aucune coordonnée n'est disponible au niveau inférieur. 
    De même, l'option de défilement vers le haut est désactivée à partir du niveau le plus élevé.

### Supprimer une couche thématique { #remove-thematic-layer } 

Pour effacer toutes les données d'une couche thématique :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches d'évènements { #using_maps_event_layer }

La couche Evénement affiche la localisation géographique des événements enregistrés dans le tracker DHIS2. Si les événements sont associés à des coordonnées de points ou de polygones, vous pouvez alors utiliser cette couche pour effectuer des recherches à partir des données agrégées affichées dans les couches thématiques jusqu'aux événements ou cas individuels sous-jacents.

Vous pouvez également afficher des événements agrégés pour des établissements ou des unités d'organisation. Cela se fait par le biais d'une couche thématique qui utilise des éléments de données d'événements. Cette fonction est utile lorsque vous ne disposez que des coordonnées de l'unité d'organisation sous laquelle les événements sont enregistrés.

![](resources/images/maps_event_layer.png)

Les couches d'évènements sont représentées par des couches _cartes_ dans le panneau des couches, par exemple :

En haut de la carte d'évènement, de gauche à droite, se trouvent :

- un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

- Le titre et la période associés à la couche

- Un symbole de flèche pour réduire et développer la carte d'évènement

Au centre de la carte d'évènement se trouve une légende qui indique le style de la couche.

En bas de la carte d'évènement, de gauche à droite, se trouvent :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un symbole d'oeil pour basculer la visibilité de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - Un bouton **tableau de données** pour afficher ou masquer le tableau de données associé à la couche

  - **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'évènements { #maps_create_event_layer }

Pour créer une couche Evénements, choisissez **Événement** dans la fenêtre **Ajouter une couche**. La boîte de dialogue de configuration de la couche Evénement s'ouvre.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps_event_layer_dialog_DATA.png)

    - Sélectionnez un programme, puis sélectionnez une étape du programme. Le champ **Etape**
      ne s'affiche que lorsqu'un programme est sélectionné.

      S'il n'y a qu'une seule étape disponible pour le programme, 
      celle-ci est automatiquement sélectionnée.

    - Sélectionnez une valeur dans le **Champ de coordonnées** pour les positions
      indiquées sur la carte. Par défaut, "Lieu de l'événement" est sélectionné.
      En fonction des éléments de données ou des attributs d'un
      programme, d'autres coordonnées telles que "Position du ménage" sont
      disponibles.

    - Par défaut, tous les événements avec coordonnées sont affichés sur la carte.
      Utilisez le champ **Statut de l'événement** pour afficher uniquement les événements ayant un
      statut : Actif, Terminé, Programmé, En retard ou Ignoré.

2.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps_event_layer_dialog_PERIOD.png)

    - sélectionnez la période pendant laquelle les événements se déroulent.
      sélectionnez soit une période fixe, soit une période relative.

      - Période relative

        Dans le champ **Période**, sélectionnez une des périodes relatives,
        par exemple **Ce mois** ou **L'année dernière**.

        Une **période relative par défaut pour l'analyse** peut être définie dans 
        l'application **Paramètres des systèmes**.

      - Période fixe

        Dans le champ **Type de période**, sélectionnez **Dates de début et de fin**
        et entrez une date de début et une date de fin.

3.  Dans l'onglet **Unités d'Org.**:

    ![](resources/images/maps_event_layer_dialog_ORG_UNITS.png)

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

4.  Dans l'onglet **FILTRE**:

    ![](resources/images/maps_event_layer_dialog_FILTER.png)

    - Cliquez sur AJOUTER UN FILTRE et sélectionnez un élément de données disponible pour ajouter un nouveau 
      filtre à l'ensemble de données.

      - Pour l'élément de données de type _ensemble d'options_, vous pouvez sélectionner l'une des
        options de la liste déroulante en utilisant les flèches tournées vers le bas
        en écrivant directement dans la case pour filtrer les
        options.

      - Pour l'élément de données de type _nombre_, vous pouvez sélectionner des opérateurs tels que
        égal, non égal, supérieur ou inférieur à.

      - Pour les données de type _booléen_ (oui/non), vous pouvez cocher la case 
        si la condition doit être valide ou vraie.

      - Pour l'élément de données de type _texte_, vous aurez deux choix :
        **contient** signifie que la requête correspondra à toutes les valeurs 
        qui contiennent la valeur recherchée, et **est exacte** implique que
        seules les valeurs qui sont complètement identiques à votre
        requête seront affichées.

      Plusieurs filtres peuvent être ajoutés. Cliquez sur le bouton "Corbeille" à droite du filtre pour le supprimer.
      du filtre pour le supprimer.

5.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_event_layer_dialog_STYLE.png)

    - Sélectionnez **Regrouper les événements** pour regrouper les événements proches (cluster), ou
      **Afficher tous les événements** pour afficher chacun des événements.

    - Sélectionnez une **couleur** pour l'événement ou les points de regroupement.

    - Sélectionnez le **rayon** (entre 1 et 20) pour les événements.

    - Sélectionnez **Afficher le tampon** pour afficher un tampon visuel autour de chaque évènement.
      Le rayon du tampon peut être modifié ici.
      Cette option n'est disponible que si vous sélectionnez **Afficher tous les événements**
      mentionnées ci-dessus.

    - Sélectionnez un **Style par élément de données** pour coloriser les événements
      en fonction d'une valeur de donnée. Si vous sélectionnez également "regrouper les événements",
      les clusters seront affichés sous forme de petits graphiques en anneau montrant
      la répartition des valeurs des données. Les options varient selon
      les types de données :

      - **Ensembles d'options** : sélectionnez une couleur pour chaque option dans un ensemble d'options.
        Vous pouvez définir des couleurs par défaut pour une option dans
        l'application Maintenance.

      - **Nombres** : vous pouvez définir un style pour un élément de données numérique de [la même
        façon qu'avec les couches thématiques](#utiliser_le style_des couches_thématiques_des cartes) en utilisant
        des légendes automatiques ou prédéfinies.

      - **Booléens** : Choisissez une couleur pour vrai/oui et une autre pour faux/non.
        faux/non.

6.  Cliquez sur **AJOUTER UNE COUCHE**.

### Modifier une couche d'évènements { #modify-an-event-layer } 

1.  Dans le panneau des couches, cliquez sur l'icône d'édition (crayon) de la couche 
    de l'évènement.

2.  Modifiez les paramètres des onglets DATA, PÉRIODE, FILTRE, UNITÉ D'ORG et STYLE, 
    comme vous le souhaitez.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Liste et filtrage des événements { #listing-and-filtering-events } 

Les couches d'événements ont une option **tableau de données** qui peut être activée ou désactivée à partir de la carte de la couche d'événements.

![](resources/images/maps_event_layer_data_table.png)

Le tableau de données affiche les données formant la couche d'événements.

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs de filtre sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajuster en fonction du filtre.
  Les filtres sont appliqués comme suit :

  - Identifiant

    filtrer par ID d'événement contenant le texte en question

  - UNITÉ D'ORGANISATION

    filtrer selon le nom d'unité d'organisation contenant le texte en question

  - TEMPS DE L'ÉVÉNEMENT

    filtrer selon le temps de l'événement contenant le texte donné

  - TYPE

    filtrer par types d'affichage SIG contenant ce texte

  - **Style par élément de données** : si le style des événements est conféré par un élément de données
    (par exemple, le genre), la valeur de données et la couleur peuvent être filtrées.

  - **Afficher dans les rapports** : les éléments de données cochés pour être affichés dans les rapports seront 
    affichés dans des colonnes séparées (voir ci-dessous comment les ajouter).

  - Les valeurs numériques des données peuvent être filtrées par nombres spécifiques et/ou par plages, 
    par exemple : 2,\>3&\<8

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.
>

### Modifier les informations dans le tableau des données de l'événement et les popups { #modify-information-in-event-data-table-and-popups } 

Vous pouvez modifier les informations affichées dans la fenêtre fenêtre pop-up de l'événement.

![](resources/images/maps_eventlayer_eventinfopopup.png)

1.  Ouvrez l'application **Maintenance**.

2.  Sélectionnez **Programme**.

3.  Cliquez sur le programme que vous souhaitez modifier et sélectionnez **2 Assigner des éléments de données**.

4.  Pour chaque élément de données que vous souhaitez afficher dans la fenêtre contextuelle,
    sélectionnez **Afficher dans les rapports** correspondant.

5.  Cliquez sur **Sauvegarder**.

### Télécharger les données brutes de la couche Evénement { #download-raw-event-layer-data } 

Les données brutes des couches Evénements peuvent être téléchargées au format GeoJSON pour une géo-analyse et un traitement plus avancés dans un logiciel SIG de bureau tel que [QGIS](https://www.qgis.org/). Les données téléchargées comprennent tous les événements individuels en tant que caractéristiques GeoJSON, y compris les attributs de chaque élément de données sélectionné pour **Afficher dans les rapports**

![](resources/images/maps_data_download_dialog.png)

- Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), puis sur **Télécharger les données**.

- Sélectionnez le format de l'**ID** à utiliser comme clé pour les valeurs des éléments de données du fichier GeoJSON téléchargé. Trois options sont disponibles :

  - **ID** - Utiliser l'identifiant unique de l'élément de données
  - **Nom** - Utilisez le nom simple de l'élément de données (traduit)
  - **Code** - Utilisez le code de l'élément de données

- Choisissez d'utiliser ou non **des touches lisibles** pour d'autres attributs de l'événement, tels que la phase du programme, la latitude, la longitude, les données de l'événement et l'ID, le nom et le code de l'unité d'organisation. Lorsque cette option est **non** sélectionnée, ces valeurs seront alors l'identifiant lisible par l'ordinateur au lieu du nom lisible par l'homme (et traduit).

- Cliquez sur le bouton **TELECHARGER** pour générer et télécharger un fichier GeoJSON. L'application de cartographie demandera au serveur DHIS2 des données qu'elle va ensuite traiter. Cette opération peut prendre plusieurs minutes.

- Une fois que le fichier GeoJSON a été téléchargé, il peut être importé dans la plupart des applications logicielles SIG standard.

> Notez que les données téléchargées ne contiennent pas d'informations de style étant donné qu'elles ne sont pas prises en charge naturellement par le format GeoJSON. Les styles peuvent éventuellement être recréés dans des applications SIG externes en utilisant les attributs de chaque élément.

### Effacer une couche d'évènements { #clear-event-layer } 

Pour effacer toutes les données de la couche d'un événement d'une carte :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches d'entités suivies { #using_maps_tracked_entity_layer }

La couche Entité suivie affiche la localisation géographique des entités suivies enregistrées dans le DHIS2. Lorsque les entités suivies ont des coordonnées de points ou de polygones associées, vous pouvez alors les explorer sur une carte.

![](resources/images/maps_tracked_entity_layer.png)

Les couches d'entités suivies sont représentées par des cartes de couche dans le panneau des couches, telles que

En haut de la carte d'entité suivie, de gauche à droite, se trouvent les éléments suivants :

- Un champ de saisie permettant de déplacer et de réorganiser les couches avec
  la souris

- Le titre et la période associés à la couche.

- Un symbole de flèche pour réduire et élargir la carte d'entité suivie.

Au centre de la carte d'entité suivie se trouve une légende qui indique le style de la couche.

En bas de la carte d'entité suivie, de gauche à droite, on peut mener les actions suivantes :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un symbole d'oeil pour basculer la visibilité de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'entité suivie { #maps_create_tracked_enity_layer }

Pour créer une couche d'entités suivies, choisissez **Entités suivies** dans **Ajouter une couche**. La boîte de dialogue de configuration de la couche d'entités suivies s'ouvre.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps_tracked_entity_layer_dialog_DATA.png)

    - Sélectionnez le **Type d'entité suivie** que vous souhaitez afficher sur la carte.

    - Sélectionnez un **Programme** auquel appartiennent les entités suivies.

    - Utilisez le champ **Statut du programme** pour sélectionner le statut d'inscription des entités suivies 
      à inclure : Tout, Actif, Terminé ou Annulé.

    - Définissez le statut **Suivi** de l'entité suivie pour le programme 
      spécifique.

2.  Dans l'onglet **Relations**

    ![](resources/images/maps_tracked_entity_layer_dialog_RELATIONSHIPS.png)

    > **Caution**
    >
    > Displaying tracked entity relationships in Maps is an experimental feature

    - Si un type d'entité suivie est sélectionné, vous pouvez alors cocher la case **Afficher les relations des entités suivies**.

    - Une fois coché, vous pouvez sélectionner le type de relation à afficher sur la carte dans la liste déroulante. Seules les relations provenant du type d'entité suivie sélectionné sont disponibles.

3.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps_tracked_entity_layer_dialog_PERIOD.png)

    - Si aucun programme n'est sélectionné, vous pouvez définir des dates de début et de fin lors
      de la dernière mise à jour des entités suivies.

    - Si un programme est sélectionné, vous pouvez définir la période de la dernière mise à jour des entités suivies
      ou de leur enregistrement ou de leur inscription au programme.

4.  Dans l'onglet **Unités d'Org.**:

    ![](resources/images/maps_tracked_entity_layer_dialog_ORG_UNITS.png)

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous avez de 3 modes de sélection :

      - **Sélectionné seulement** : Inclut les entités suivies appartenant
        aux unités d'organisation sélectionnées uniquement.

      - **Sélectionné et en dessous** : Inclut les entités suivies dans et 
        juste en dessous des unités d'organisation sélectionnées.

      - **Sélectionnés et tous en dessous** : Inclut les entités suivies dans les unités d'organisation sélectionnées et 
        toutes celles se trouvant en dessous.

5.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_tracked_entity_layer_dialog_STYLE.png)

    - Sélectionnez une **couleur** pour les points et les polygones des entités suivies.

    - Sélectionnez la **taille du point** (rayon entre 1 et 20) pour les 
      points.

    - Sélectionnez **Afficher le tampon** pour afficher un tampon visuel autour de chaque évènement.
      La distance tampon en mètres peut être modifiée
      ici.

    - Lorsque vous sélectionnez un type de relation dans l'onglet "Relations", vous pouvez sélectionner **couleur**, **taille du point** et **couleur de la ligne** pour les relations et les instances d'entités suivies connexes.

6.  Cliquez sur **AJOUTER/METTRE A JOUR UNE COUCHE**.

### Modifier une couche d'entités suivies { #modify-a-tracked-entity-layer } 

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) sur la carte de 
    l'entité suivie.

2.  Modifiez les paramètres des onglets DONNÉES, PÉRIODE, FILTRE, UNITÉ D'ORG et STYLE, 
    laisser le choix qui vous est proposé par défaut.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Effacer une couche d'entité suivie { #clear-a-tracked-entity-layer } 

Pour effacer une couche d'entité suivie d'une carte :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches d'infrastructures { #using_maps_facility_layer }

La couche des établissements affiche des icônes représentant les types d'établissements. Les polygones n'apparaissent pas sur la carte, assurez-vous donc de sélectionner un niveau de l'unité d'organisation qui inclut des établissements.

_Un polygone est une zone fermée sur une carte représentant un pays, un quartier ou un parc._

![](resources/images/maps_facility_layer.png)

Les couches des établissements sont représentées par des _cartes_ de couches comme :

En haut de la carte des infrastructures, de gauche à droite, se trouvent :

- un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

- Le titre **Infrastructures**

- Un symbole d'oeil pour basculer la visibilité de la couche

- Un symbole de flèche pour réduire et agrandir la carte des infrastructures

Au centre de la carte des établissements se trouve une légende indiquant la représentation de l'ensemble de groupes.

En bas de la carte des infrastructures, de gauche à droite, se trouvent :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - Un bouton **tableau de données** permet d'afficher ou de masquer le tableau de données 
    associé à la couche

  - **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'infrastructures { #create-a-facility-layer } 

Pour créer une couche d'établissements, choisissez **Etablissements** dans **Ajouter une couche**. La boîte de dialogue de configuration de la couche des établissements s'ouvre.

1.  Dans l'onglet **UNITÉS D'ORGANISATION**

    ![](resources/images/maps_facility_layer_dialog_ORG_UNITS.png)

    - sélectionnez le(s) niveau(x) et/ou le(s) groupe(s) d'unités d'organisation dans
      les champs de sélection sur le côté droit.

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

    - L'administrateur système peut définir le niveau d'unité d'organisation par défaut
      qui contient des établissements dans l'application **Paramètres système**.

    - **Utiliser la géométrie associée** : cette liste déroulante ne s'affichera que s'il existe 
      une géométrie supplémentaire disponible pour vos unités d'organisation.
      Ceci est généralement utilisé pour afficher les zones de captage des établissements.

2.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_facility_layer_dialog_STYLE.png)

    - sélectionnez le style que vous souhaitez appliquer aux établissements.

      - Afficher les étiquettes

        Permet d'afficher les étiquettes sur la couche. La taille de police, le poids 
        et la couleur peuvent être modifiés ici.

      - Afficher le buffer

        Permet d'afficher un tampon visuel sur la couche autour
        de chaque établissement. Le rayon du tampon peut être modifié
        ici. L’option Tampon n’est pas disponible si une géométrie associée est utilisée.

    - A l'aide de différentes icônes, les établissements peuvent être organisés en **ensemble de groupes d'unités d'organisation**.
      Sélectionnez un ensemble de groupes dans la liste des ensembles de groupes d'unités d'organisation
      définis pour votre instance DHIS2.
      L'administrateur système peut définir le niveau d'unité d'organisation par défaut
      par défaut dans l'application **Paramètres système**.

    - Si aucun groupe n'est sélectionné, les établissements seront affichées sous forme de cercles pleins.
      La couleur et le rayon du cercle peuvent être modifiés.

3.  Cliquez sur **AJOUTER UNE COUCHE**.

### Créer ou modifier une couche d'infrastructures { #create-or-modify-a-facility-layer } 

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) sur la carte des couches
    couche thématique.

2.  Modifiez les paramètres dans les onglets ENSEMBLE DE GROUPES, UNITÉS D'ORGANISATION et STYLE,
    comme vous le souhaitez.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Filtrer les valeurs dans une couche d'infrastructures { #filter-values-in-a-facility-layer } 

Les couches d'établissements ont une option **tableau de données** qui peut être activée ou désactivée depuis la carte des couches d'établissements.

![](resources/images/maps_facility_layer_data_table.png)

La table de données affiche les données qui composent la couche de l'infrastructure.

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs de filtre sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajuster en fonction du filtre.
  Les filtres sont appliqués comme suit :

  - NOM

    filtrer par noms contenant ce texte

  - Identifiant

    filtrer par Identifiants contenant ce texte

  - TYPE

    filtrer par types d'affichage SIG contenant ce texte

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.
>

### Rechercher une infrastructure { #search-for-a-facility } 

Le champ de filtrage NOM dans le tableau de données est un moyen efficace de rechercher des établissements une à une.

### Ouvrir le profil de l'unité d'organisation { #open-organisation-unit-profile }

Vous pouvez ouvrir le [profil d'unité d'organisation](#utilisation_du profil_des unités_d'organisation_des cartes) de trois manières :

1. Cliquez sur l'une des unités d'organisation indiquées sur la carte, puis cliquez sur
   le bouton **Afficher le profil** dans la fenêtre contextuelle.

2. Faites un clique droit sur l'une des unités d'organisation présentes sur la carte, puis sélectionnez **Afficher le profil**
   dans le menu.

3. Cliquez sur une ligne d'unité d'organisation dans le **tableau de données**.

### Supprimer une couche d'infrastructures { #remove-facility-layer } 

Pour effacer toutes les données d'une couche d'infrastructures :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches des unités d'organisation{ #using_maps_org_unit_layer }

La couche des unités d'organisation affiche les limites géographiques et les emplacements de vos unités d'organisation. Cette couche est particulièrement utile lorsque vous êtes hors ligne et que vous n'avez pas accès aux cartes d'arrière-plan.

![](resources/images/maps_org_unit_layer.png)

Les couches des unités d'organisation sont représentées par des _cartes_  de couches dans le panneau des couches, par exemple :

En haut de la carte d'unité d'organisation , de gauche à droite, se trouvent :

- un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

- Le titre de l'**Unité d'organisation**

- Un symbole de flèche pour réduire et développer la carte des unité d'organisation

Au bas de la carte des unités organisation, de gauche à droite, se trouvent :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un symbole d'oeil pour basculer la visibilité de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - Un bouton **tableau de données** permet d'afficher ou de masquer le tableau de données 
    associé à la couche

  - **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'unités d'organisation{ #create-an-org-unit-layer }

Pour créer une couche d'unités d'organisation, choisissez **Unités d'organisation** dans la fenêtre **Ajouter une couche**. La boîte de dialogue de configuration de la couche des unités d'organisation s'ouvre.

1.  Dans l'onglet **UNITÉS D'ORGANISATION**

    ![](resources/images/maps_org_unit_layer_dialog_ORG_UNITS.png)

    - sélectionnez le(s) niveau(x) et/ou le(s) groupe(s) d'unités d'organisation dans
      les champs de sélection sur le côté droit.

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

    - **Utiliser la géométrie associée** : cette liste déroulante ne s'affichera que s'il existe 
      une géométrie supplémentaire disponible pour vos unités d'organisation.
      Ceci est généralement utilisé pour afficher les zones de captage des établissements.

2.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_org_unit_layer_dialog_STYLE.png)

    - sélectionnez le style que vous souhaitez appliquer aux unités d'organisation.

      - Étiquettes

        Permet d'afficher les étiquettes sur la couche. Le style de police peut être
        modifié ici.

      - Couleur des limites géographiques

        Permet de modifier la couleur des limites ou du contour 
        des unités d'organisation.

      - Rayon de point

        Définit le rayon de base lorsque des éléments représentés par des points tels que
        des établissements, sont présentés sur la couche des unités d'organisation.

    - A l'aide de différentes couleurs, les unités d'organisation peuvent être organisés en **ensemble de groupes d'unités d'organisation**.
      Sélectionnez un ensemble de groupes dans la liste des ensembles de groupes d'unités d'organisation
      définis pour votre instance DHIS2.

3.  Cliquez sur **AJOUTER UNE COUCHE**.

### Modifier une couche d'unités d'organisation{ #modify-an-org-unit-layer }

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) sur la carte des couches
    couche thématique.

2.  Modifiez les paramètres des onglets UNITÉS D'ORGANISATION et STYLE 
    laisser le choix qui vous est proposé par défaut.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Filtrer les valeurs dans une couche d'unités d'organisation { #filter-values-in-an-org-unit-layer }

Les couches d'unités d'organisation ont une option **tableau de données** qui peut être activée ou désactivée à partir de la carte de la couche d'unités d'organisation.

![](resources/images/maps_bound_layer_data_table.png)

Le tableau de données affiche les données qui forment la couche des unités d'organisation.

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs de filtre sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajuster en fonction du filtre.
  Les filtres sont appliqués comme suit :

  - NOM

    filtrer par noms contenant ce texte

  - NIVEAU

    filtrez le niveau par nombres et/ou plages de valeurs, par exemple : 2,\>3&\<8

  - PARENT

    filtrer par noms de parent contenant ce texte

  - Identifiant

    filtrer par Identifiants contenant ce texte

  - TYPE

    filtrer par types d'affichage SIG contenant ce texte

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.
>

### Rechercher une unité d'organisation { #search-for-an-organisational-unit } 

Le champ de filtre NOM dans le tableau de données constitue un moyen efficace de recherche des unités d'organisation individuelles affichées dans la couche des unités d'organisation.

### Ouvrir le profil de l'unité d'organisation { #open-organisation-unit-profile }

Vous pouvez ouvrir le [profil d'unité d'organisation](#utilisation_du profil_des unités_d'organisation_des cartes) de trois manières :

1. Cliquez sur l'une des unités d'organisation indiquées sur la carte, puis cliquez sur
   le bouton **Afficher le profil** dans la fenêtre contextuelle.

2. Faites un clique droit sur l'une des unités d'organisation présentes sur la carte, puis sélectionnez **Afficher le profil**
   dans le menu.

3. Cliquez sur une ligne d'unité d'organisation dans le **tableau de données**.

### Naviguer entre les hiérarchies d'organisation { #navigate-between-organisation-hierarchies } 

Vous pouvez modifier la cible de la couche des unités d'organisation dans la hiérarchie sans utiliser l'interface utilisateur de niveau / parent.

1.  Faites un clique droit sur l'une des unités d'organisation.

2.  Sélectionnez **Accéder au niveau supérieur** ou **Accéder au niveau inférieur**.

    L'option de défilement vers le bas est désactivée si vous êtes au niveau le plus bas.
    De même, l'option de défilement vers le haut est désactivée à partir du niveau le plus élevé.

### Supprimer une couche d'unités d'organisation{ #remove-org-unit-layer }

Pour effacer toutes les données d'une couche d'unités d'organisation :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer une couche Earth Engine { #using_maps_gee }

![](resources/images/maps_ee_layer.png)

Les couches de Google Earth Engine vous permettent d'afficher et d'agréger des données externes à vos unités d'organisation. Utilisez la couche de population pour calculer le nombre de personnes vivant dans un district ou à une certaine distance d'un établissement de santé. La couche d'altitude vous permet de trouver l'altitude la plus basse, la plus haute et la moyenne. Utilisez la couche de couverture terrestre pour afficher la couverture forestière, les terres cultivées ou les zones urbaines, et calculez le pourcentage pour chaque unité d'organisation.

Les couches suivantes sont prises en charge :

![](resources/images/maps_ee_layer_types.png)

- **Population** : Données démographiques détaillées de WorldPop qui indiquent le nombre estimé 
  de personnes vivant dans une zone donnée. Disponible pour des périodes annuelles de 2000 et
  plus.

- **Tranches d'âge dans la population** : nombre estimé de personnes vivant dans une zone, regroupés
  par âge et par genre.

- **Empreintes de construction** : Les contours des bâtiments dérivés de l'imagerie satellite 
  de haute résolution. Uniquement pour le continent africain.

- **Altitude** : altitude au-dessus du niveau de la mer.

- **Précipitations** : Les valeurs sont en millimètres et concernent des périodes de 5 jours. Elle sont mises à jour
  sur une bas mensuelle, au cours de la 3ème semaine du mois suivant et sont collectées à partir de satellites et de stations météorologiques au sol.

- **Température** : températures à la surface de la terre collectées par satellite.
  Des points vides apparaîtront dans les zones qui présentent une couverture nuageuse persistante.

- **Couverture terrestre** : 17 types de couverture terrestre distincts collectés à partir de satellites par la NASA.

### Créer une couche Earth Engine { #create-an-earth-engine-layer } 

Pour créer une couche Earth Engine, choisissez la couche souhaités dans la liste **Ajouter une couche**. La boîte de dialogue de configuration de la couche.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps_ee_layer_dialog_DATA.png)

    - Pour les "tranches d'âge de la population", vous pouvez sélectionner les **tranches** d'âge/genre.
      que vous voulez inclure lors de l'agrégation des données.

    - Sélectionnez les **méthodes d'agrégation** que vous voulez utiliser lors du calcul
      des valeurs pour les unités d'organisation sélectionnées.

      - **Somme** : calcule le nombre total dans chaque unité d'organisation.
        Son utilisation est recommandée avec les couches de population.

      - **Min** : renvoie la valeur minimale dans l'unité de couche affichée sous la sélection.
        Pour les couches de population, ce sera le nombre minimum de _personnes par 
        hectare_. Pour la couche d'altitude, il renverra l'altitude la plus basse (mètres
        au dessus du niveau de la mer).

      - **Max** : renvoie la valeur maximale dans l'unité de couche. Pour les couches de population
        ce sera le nombre minimum de _personnes par hectare_. Pour la couche d'altitude,
        elle renverra l’altitude la plus élevée pour chaque unité d’organisation.

      - **Moyenne** : renvoie la valeur moyenne dans l'unité de couche. Pour les couches de population,
        ce sera la moyenne des _personnes par hectare_. Pour la couche des précipitations, ce sera
        la moyenne des précipitations en millimètres dans l'unité d'organisation.

      - **Médiane** : renvoie la valeur moyenne dans l'unité de couche. Pour les couches de population,
        ce sera la médiane des _personnes par hectare_. Pour la couche de température, ce sera
        le °C médian pendant la journée pour l'unité d'organisation.

      - **Écart type** : renvoie la valeur de l'écart type dans l'unité 
        d'organisation

      - **Variance** : renvoie la valeur de variance dans l'unité de couche.

2.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps_ee_layer_dialog_PERIOD.png)

    - Sélectionnez la période pour la source des données. Les périodes disponibles sont fixées par
      le fournisseur des données. Une seule période est disponible pour la couche « tranches d'âge de la population »,
      tandis que la couche « population » contient des données annuelles disponibles à partir de 2000.
      Les données de précipitations sont disponibles par périodes de 5 jours et les données de température pour
      des périodes de 8 jours.

3.  Dans l'onglet **Unités d'Org.**:

    ![](resources/images/maps_ee_layer_dialog_ORG_UNITS.png)

    - Sélectionnez les unités d'organisation dans lesquelles vous voulez que les valeurs de données agrégées se trouvent.
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, niveaux d'unité d'organisation dans la hiérarchie
        groupes d'unités d'organisation ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

    - **Utiliser la géométrie associée** : cette liste déroulante ne s'affichera que s'il existe 
      une géométrie supplémentaire disponible pour vos unités d'organisation.
      Ceci est généralement utilisé pour calculer les valeurs des zones de captage des établissements.

    - **Empreintes de construction** : le nombre de bâtiments n'est disponible que pour les plus petites
      zones des unités d’organisation.

4.  Dans l'onglet **STYLE**

    ![](resources/images/maps_ee_layer_dialog_STYLE.png)

    - Modifier les paramètres spécifiques au type de couche.

    - Ajustez la plage, les étapes et les couleurs de la légende comme vous le souhaitez.

    - Si vous sélectionnez des unités d'organisation ayant une coordonnée de point unique
      (établissements), vous pouvez définir un rayon tampon pour calculer la
      valeur des données qu'elles contiennent. Un rayon de 5000 mètres va agréger toutes
      les valeurs disponibles dans un rayon de 5 km d’un établissement. L'option Tampon
      n’est pas disponible si une géométrie associée est utilisée.

5.  Cliquez sur **AJOUTER UNE COUCHE**.

Cliquez sur la carte des régions ou des établissements pour voir le résultat de l'agrégation pour cette unité d’organisation.

### Liste des valeurs de données { #listing-of-data-values }

Les couches de Earth Engine ont une option **table de données** qui peut être activée ou désactivée de la carte de couche.

![](resources/images/maps_ee_layer_data_table.png)

Le tableau de données affiche toutes les valeurs agrégées pour les unités d'organisation sélectionnées.

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs de filtre sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajuster en fonction du filtre.
  Les filtres sont appliqués comme suit :

- NOM

  filtrer selon le nom d'unité d'organisation contenant le texte en question

- Identifiant

  filtrer par ID d'événement contenant le texte en question

- TYPE

  filtrer par types d'affichage SIG contenant ce texte

- VALEURS D'AGRÉGATION

  Il existe une colonne pour chacun des types d'agrégation sélectionnés

  les valeurs numériques des données peuvent être filtrées par nombres spécifiques et/ou par plages, 
  par exemple : 2,\>3&\<8

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte.

## Ajouter des couches de carte externes { #using_maps_external_map_layers }

![](resources/images/maps_terrain_imagery.png)

Les couches de carte externes sont représentées comme suit :

- Cartes de référence

  Celles-ci sont disponibles dans la carte **carte de référence** dans le panneau des couches et 
  sont sélectionnés au même titre que n'importe quelle autre carte de référence.

- Les superpositions

  Celles-ci sont disponibles dans la sélection **Ajouter une couche**. Contrairement aux cartes de référence,
  les superpositions peuvent être placées au-dessus ou en dessous de toute autre couche de superposition.

Les couches superposées sont représentées par des _cartes_ de couches supplémentaires dans le panneau des couches comme suit :

En haut de la carte superposée, de gauche à droite, vous trouverez :

- un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

- le titre de la couche de carte externe

- Un symbole de flèche pour réduire et agrandir la carte de superposition

Au milieu de la carte se trouve une légende si la couche en a une.

En bas de la carte de superposition, de gauche à droite, se trouvent :

- Un curseur pour modifier la transparence de la couche

- Une icône de suppression (corbeille) pour supprimer la couche de la carte 
  thématique actuelle.

## Profil d'unité d'organisation { #using_maps_org_unit_profile }

![](resources/images/maps_org_unit_profile.png)

Le profil de l'unité d'organisation affiche des informations détaillées sur chaque unité d'organisation. Vous pouvez ouvrir le profil à partir des couches d'unités d'organisation, d'établissements et thématiques.

Vous pouvez ouvrir le profil d'unité d'organisation de trois manières :

1. Cliquez sur l'une des unités d'organisation indiquées sur la carte, puis cliquez sur
   le bouton **Afficher le profil** dans la fenêtre contextuelle.

2. Faites un clique droit sur l'une des unités d'organisation présentes sur la carte, puis sélectionnez **Afficher le profil**
   dans le menu.

3. Cliquez sur une ligne d'unité d'organisation dans le **tableau de données**.

Le profil s'affichera sur le côté droit de la carte. Le contenu du profil est défini par l'administrateur système.

## Le menu Fichier { #using_maps_file_menu }

![](resources/images/maps_file_menu.png)

Utilisez le menu **Fichier** pour gérer vos cartes. Plusieurs éléments du menu seront désactivés jusqu'à ce que vous ouvriez ou enregistriez une carte.

Lorsque vous enregistrez vos cartes, cela vous permet de les restaurer facilement par la suite. Vous pouvez également les partager avec d'autres utilisateurs sous forme d'interprétations ou les placer sur le tableau de bord. Vous pouvez enregistrer tous les types de configurations de couche comme favoris.

### Créer une nouvelle carte { #create-a-new-map } 

Cliquez sur **Fichier** \> **Nouveau**.

NB ! Cette action effacera les couches de carte actuelles que vous avez créées sans les sauvegarder.

### Ouvrir une nouvelle carte { #open-a-new-map } 

1.  Cliquez sur **Fichier** \> **Ouvrir**. Une boîte de dialogue s'ouvre avec une liste de cartes.

2.  Recherchez le favori que vous voulez ouvrir. Vous pouvez soit utiliser \< and \> ou
    le champ de recherche pour trouver une carte enregistrée. La liste est filtrée pour chaque
    caractère que vous saisissez. Vous pouvez filtrer la liste en sélectionnant
    **Afficher tout**, **Créées par moi** ou **Créées par d'autres**.

3.  Cliquez sur le nom de la carte que vous souhaitez ouvrir.

### Enregistrer une carte { #save-a-map } 

Après création d'une carte, il est nécessaire de la sauvegarder pour une utilisation ultérieure :

1.  Cliquez sur **Fichier** \> **Enregistrer**.

2.  Entrez un **Nom** (obligatoire) et une **Description** (facultative) la
    la première fois que vous enregistrez une carte.

3.  Cliquez sur **SAUVEGARDER**.

### Enregistrer une copie de la carte { #save-a-copy-of-a-map } 

1.  Cliquez sur **Fichier** \> **Enregistrer sous**.

2.  Entrez un **Nom** (obligatoire) et une **Description** (facultative) pour la
    carte.

3.  Cliquez sur **SAUVEGARDER**.

### Renommer une carte { #rename-a-map } 

1.  Cliquez sur **Fichier** \> **Renommer**.

2.  Entrez un nouveau **Nom** et/ou **Description** pour votre carte.

3.  Cliquez sur **RENOMMER**. La carte est alors mise à jour.

### Traduire une carte { #translate-a-map } 

1.  Cliquez sur **Fichier** \> **Traduire**.

2.  Sélectionnez la **Locale** (langue) de votre traduction.

3.  Entrez un **Nom** et une **Description** traduits. Le texte original 
    apparaîtra en dessous du champ.

4.  Cliquez sur **SAUVEGARDER**.

### Modifier les paramètres de partage d'une carte { #modify-sharing-settings-for-a-map } 

Après avoir créé et enregistré une carte, vous pouvez alors la partager avec tous les utilisateurs ou avec un groupe d'utilisateurs. Pour modifier les paramètres de partage :

1.  Cliquez sur **Fichier** \> **Partager**. La boîte de dialogue des paramètres de partage s'ouvre.

2.  **Donner l'accès à un utilisateur ou à un groupe** : Dans la zone de texte, recherchez le nom de
    l'utilisateur ou du groupe avec lequel vous souhaitez partager votre favori et sélectionnez-le.

    Sélectionnez le niveau d'accès et cliquez sur **Donner l'accès**.

    Répétez l'étape pour ajouter d'autres utilisateurs ou groupes.

3.  **Utilisateurs et groupes ayant actuellement l'accès** : pour chaque utilisateur ou groupe, choisissez le
    niveau d'accès. Les options sont :

    - Pas d'accès : Le public n'aura pas accès à la carte. Ce paramètre n'est applicable qu'à Tous les utilisateurs.

    - Affichage uniquement

    - Visualisation et édition

    - Retirer l'accès : retire l'accès des groupes ou des utilisateurs.

4.  Cliquez sur **Fermer** pour fermer la boîte de dialogue.

### Obtenir le lien vers une carte { #get-the-link-to-a-map } 

1.  Cliquez sur **Fichier** \> **Lien vers le site**. Une boîte de dialogue de lien s'ouvre.

2.  Copiez le lien.

### Supprimer une carte { #delete-a-map } 

1.  Cliquez sur **Fichier** \> **Supprimer**. Une boîte de dialogue de confirmation s'affiche.

2.  Cliquez sur **SUPPRIMER** pour confirmer que vous souhaitez supprimer le favori.
    Votre carte est supprimée et les couches sont effacées.

## Interprétations de carte { #mapsInterpretation }

Une interprétation est une description d'une carte à une période donnée. Cette information est visible dans l'application **Dashboard**. Cliquez sur **Interprétations** en haut à droite de l'espace de travail pour ouvrir le panneau des interprétations. Vous ne pouvez cliquez sur le bouton que si la carte est enregistrée.

![](resources/images/maps_interpretations_panel.png)

### Afficher les interprétations basées sur des périodes relatives { #view-interpretations-based-on-relative-periods } 

Pour afficher les interprétations pour des périodes relatives, par exemple des interprétations de l'année dernière :

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez sur **Interprétations** en haut à droite de l'espace de travail pour ouvrir 
    le panneau des interprétations.

3.  Cliquez sur **Voir l'interprétation**. Votre carte affiche les données et la date
    à laquelle l'interprétation a été produite. Pour afficher d'autres
    interprétations, cliquez dessus.

![](resources/images/maps_interpretations_modal.png)

### Écrire l'interprétation pour une carte { #write-interpretation-for-a-map } 

Pour créer une interprétation, vous devez d'abord créer une carte et l'enregistrer. Si vous avez partagé votre carte avec d'autres personnes, l'interprétation que vous écrivez sera donc visible par ces personnes.

1.  Ouvrez une carte enregistrée.

2.  Cliquez sur **Interprétations** en haut à droite de l'espace de travail pour ouvrir 
    le panneau des interprétations.

3.  Un champ de texte apparaît avec un espace "Ecrire une interprétation" pour les utilisateurs 
    qui ont un accès en lecture au favori.

4.  Dans le champ de texte, saisissez un commentaire, une question ou une interprétation. Vous 
    pouvez également mentionner d'autres utilisateurs avec "@nomd'utilisateur". Commencez par saisir '@'
     plus les premières lettres du nom d'utilisateur ou du nom réel et une barre de mention
    affichera les utilisateurs disponibles. Les utilisateurs mentionnés recevront
    un message interne DHIS2 avec l'interprétation ou le commentaire. Vous
    pouvez voir l'interprétation dans l'application **Tableau de bord**.

5.  Cliquez sur **Publier l'interprétation** pour enregistrer l'interprétation.

### Modifier les paramètres de partage d'une interprétation { #change-sharing-settings-for-an-interpretation } 

1.  Cliquez sur une interprétation (voir ci-dessus comment visualiser une interprétation).

2.  Cliquez sur l'icône de partage sous l'interprétation. La boîte de dialogue des paramètres de partage
    s'ouvre.

3.  Recherchez et ajoutez un utilisateur et des groupes d'utilisateurs avec lesquels vous souhaitez partager 
    votre carte et définissez le niveau d'accès. Cliquez sur **Donner l'accès**.

4.  Vous pouvez modifier le niveau d'accès des utilisateurs :

    - **Lecture et écriture** : Tout le monde peut consulter et éditer l'objet.

    - **Lecture uniquement** : tout le monde peut consulter l'objet.

    - **Aucun accès** : Le public n'aura pas accès à l'objet. Ce 
      paramètre ne s'applique qu'à Tous les utilisateurs.

    - **Retirer l'accès** : retire l'accès des groupes ou des utilisateurs.

5.  Cliquez sur **FERMER** après la mise à jour des paramètres de partage.

![](resources/images/maps_interpretations_sharing.png)

## Enregistrer une carte en tant qu'image { #using_maps_image_export }

Vous pouvez télécharger votre carte sous forme d'image en cliquant sur le bouton "Télécharger" dans le menu du haut

![](resources/images/maps_download.png)

Vous entrerez dans un « mode de téléchargement » dans lequel vous pourrez ajuster la disposition de la carte avant de télécharger l'image. La colonne de gauche vous propose les options suivantes :

- **Afficher le nom de la carte** : Sélectionnez cette option si vous voulez inclure le nom de la carte ou non. Cette option
  n'est disponible que si la carte est enregistrée. Pour changer le nom, quittez le mode de téléchargement et
  sélectionnez _Fichier_ > _Renommer_.
- **Afficher la description de la carte** : Sélectionnez cette option si vous voulez inclure la description de la carte.
  Cette option n'est disponible que si une description de la carte a été ajoutée lors de l'enregistrement de la carte.
  Pour modifier la description de la carte, quittez le mode de téléchargement et sélectionnez _Fichier_ > _Renommer_.
- **Afficher la légende** : sélectionnez cette option si vous voulez inclure la légende de la carte. Si la carte comprend
  plusieurs couches, vous pouvez déterminer la manière dont chaque légende sera affichée.
- **Afficher la carte générale** : sélectionnez cette option si vous voulez inclure une carte générale (souvent nommée
  carte en médaillon). Cette option sera désactivée s'il n'y a pas assez de place pour elle dans la
  colonne de droite.
- **Afficher la flèche indiquant le nord** : sélectionnez cette option pour inclure une flèche indiquant le nord sur la carte. Par défaut,
  elle est positionnée dans l'angle inférieur droit de la carte, mais vous pouvez la placer dans un autre
  angle.
- Cliquez sur **Télécharger** pour télécharger votre carte.

Redimensionnez la fenêtre de votre navigateur pour modifier les dimensions de la carte. Vous pouvez également repositionner la carte principale et la carte générale.

Le téléchargement de cartes n'est pas pris en charge dans Internet Explorer ou Safari, nous recommandons d'utiliser donc Google Chrome ou Firefox.

## Rechercher un emplacement { #using_maps_search }

La fonction de recherche d'emplacement vous permet de rechercher presque n'importe quel lieu ou adresse. Cette fonction est utile pour localiser par exemple des sites, structures sanitaires, villages ou villes sur la carte.

![](resources/images/maps_place_search.png)

1.  Sur le côté droit de la fenêtre Cartes, cliquez sur l'icône loupe.

2.  Saisissez l'emplacement que vous recherchez.

    Une liste des emplacements correspondants apparaît au fur et à mesure que vous saisissez.

3.  Dans la liste, sélectionnez un emplacement. Une épingle indique l'emplacement sur
    la carte.

## Mesurer des distances et des surfaces sur une carte { #using_maps_measure_distance }

1.  Dans la partie supérieure gauche de la carte, placez le curseur sur l'icône **Mesurer 
    les distances et les surfaces** (règle) et cliquez sur **Créer une nouvelle 
    mesure**.

2.  Ajouter des points à la carte.

3.  Cliquez sur **Terminer la mesure**.

![](resources/images/maps_measure_distance.png)

## Obtenir la latitude et la longitude d'un emplacement { #using_maps_latitude_longitude }

Faites un clique droit sur un point de la carte et sélectionnez **Afficher la longitude/latitude**. Les valeurs s'affichent dans une fenêtre contextuelle.

## Voir également { #see-also } 

- [Gérer
  des légendes](https://docs.dhis2.org/master/en/user/html/manage_legend.html)

