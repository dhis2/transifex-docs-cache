---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/2.32/src/commonmark/en/content/user/data-administration.md"
revision_date: '2019-11-15'
---

# Administration des données { #data_admin } 

<!--DHIS2-SECTION-ID:data_admin-->

Le module Administration de données propose une série de fonctions pour garantir 
que les données stockées dans la base de données DHIS2 sont intégrales et que les 
performances de la base de données sont optimisées. Ces fonctions doivent être exécutées 
régulièrement par un administrateur de données afin de garantir une meilleure qualité des 
données stockées.

## Intégrité des données { #dataAdmin_dataIntegrity } 

<!--DHIS2-SECTION-ID:dataAdmin_dataIntegrity-->

DHIS2 peut effectuer une série de contrôles d'intégrité sur les données 
contenues dans la base de données. Il est extrêmement important d'identifier et de corriger 
les problèmes d'intégrité des données pour garantir la validité des données utilisées à 
des fins d'analyse. Chacun des contrôles d'intégrité de données effectués par le 
système sera décrit, ainsi que les procédures générales peuvent être appliquées 
pour la résolution de ces problèmes.

### Éléments de données sans ensemble de données { #data-elements-without-data-set } 

Chaque élément de données doit être affecté à un ensemble de données. Les valeurs des 
éléments de données ne pourront pas être saisies dans le système si un élément de 
données n'est pas attribué à un ensemble de données. Choisissez 
Maintenance-\>Ensembles de données-\>Modifier dans le menu principal, puis ajoutez 
l'élément de données "orphelin" à l'ensemble de données approprié.

### Éléments de données sans groupes { #data-elements-without-groups } 

Certains éléments de données ont été attribués à plusieurs groupes d'éléments de données. 
Cela n'est actuellement pas autorisé étant donné qu'on se retrouvera dans une situation de 
duplication des enregistrements de données liés dans les ensembles d'enregistrements analytiques qui fournissent des données 
agrégées. Allez dans la section Maintenance -\> Groupes d'éléments de données pour examiner chaque
élément de données identifié et supprimer les attributions de groupe incorrectes.

### Éléments de données violant la règle d'ensembles de groupes exclusifs { #data-elements-violating-exclusive-group-sets } 

Some data elements have been allocated to several data element groups
that are members of the same data element group set. All group sets in
DHIS2 are defined as exclusive, which means that a data element can
*only* be allocated to *one* data element group within that group set.
Go to Maintenance -\> Data elements and indicators -\>Data element
groups to review each data element identified in the integrity check.
Either remove the data element from all groups except the one that it
should be allocated to, or see if one of the groups should be placed in
a different group set.

### Éléments de données présent dans l'ensemble de données mais pas dans le formulaire ou dans les sections { #data-elements-in-data-set-but-not-in-form-or-sections } 

Des éléments de données ont été attribués à un ensemble de données, mais n'ont été 
attribués à aucune section des formulaires d'ensemble de données.Tous les ensembles de données utilisant des 
formulaires à sections doivent généralement avoir tous les éléments de données de l'ensemble 
de données attribués à seulement une section de l'ensemble de données.

### Éléments de données affectés à des ensembles de données avec différents types de périodes { #data-elements-assigned-to-data-sets-with-different-period-types } 

Les éléments de données ne doivent pas être affectés à deux ensembles de données distincts dont 
les types de période diffèrent. L'approche recommandée consisterait à créer deux 
éléments de données distincts (par exemple un élément de données mensuel et un élément de données annuel) 
et à les affecter à des ensembles de données respectifs.

### Ensembles de données non attribués aux unités d'organisation { #data-sets-not-assigned-to-organisation-units } 

Tous les ensembles de données doivent être attribués à au moins une unité organisationnelle.

### Sections ayant des combinaisons de catégories non valables { #sections-with-invalid-category-combinations } 

Les ensembles de données utilisant des formulaires à sections ne doivent avoir qu'une 
seule combinaison de catégories dans chaque section. Cette violation pourrait résulter de 
l'affectation d'un élément de données à une section, mais de la modification ultérieure de 
la combinaison de catégories de cet élément de données.

### Indicateurs avec des formules identiques { #indicators-with-identical-formulas } 

Certes, cette règle n'affecte pas la qualité des données, mais il n'est généralement pas 
logique d'avoir deux indicateurs ayant exactement la même définition. Revoir 
les indicateurs identifiés et leurs formules et supprimer ou modifier tout 
indicateur qui semble être le doublon.

### Indicateurs sans groupes { #indicators-without-groups } 

Tous les éléments de données ainsi que les indicateurs doivent être affectés à au moins un groupe, 
de sorte que ces indicateurs doivent être attribués à leur groupe d'éléments de données 
et d'indicateurs qui conviennent. Dans le menu principal, allez à Éléments de données/Indicateurs 
-\> Groupes d'indicateurs, et attribuez chacun des indicateurs \`Orphelins\` au groupe 
approprié.

### Numérateurs d'indicateurs non valides { #invalid-indicator-numerators } 

Les violations de cette règle peuvent être causées par une référence erronée à un 
élément de données supprimé ou modifié. Revoir l'indicateur et apporter des 
corrections à la définition du numérateur.

### Dénominateurs d'indicateurs non valides { #invalid-indicator-denominators } 

Les violations de cette règle peuvent être causées par une référence erronée à un 
élément de données supprimé ou modifié. Revoir l'indicateur et apporter des 
corrections à la définition du dénominateur.

### Indicateurs violant la règle d'ensembles de groupes exclusifs { #indicators-violating-exclusive-group-sets } 

Some indicators have been allocated to several indicator groups that are
members of the same indicator group set. All group sets in DHIS2 are
defined as exclusive, which means that an indicator can *only* be
allocated to *one* indicator group within that group set. Go to
Maintenance -\> Data elements and indicators -\>Indicator groups to
review each indicator identified in the integrity check. Either remove
the indicator from all groups except the one that it should be allocated
to, or see if one of the groups should be placed in a different group
set.

### Double période { #duplicate-periods } 

Si des périodes ont été importées à partir d'applications externes, il est donc 
possible que certaines périodes soient dupliquées. Si vous avez des périodes 
qui semblent être dupliquées ici, vous devrez alors les résoudre 
directement dans la base de données DHIS2. Toutes les données affectées à la 
période dupliquée doivent être déplacées vers la bonne période et la 
période dupliquée doit être supprimée.

### Unités d'organisation avec des références cycliques { #organisation-units-with-cyclic-references } 

Les unités d'organisation ne peuvent pas être à la fois parents et enfants les unes des autres, 
directement ou indirectement. Si une telle situation se produit, vous devrez 
alors résoudre la référence cyclique directement dans la base de données DHIS2 dans la 
table "unité d'organisation", en réaffectant le champ "parentid" des 
unités d'organisation.

### Unités d'organisation orphelines { #orphaned-organisation-units } 

All organisation units must exist within the organisation unit
hierarchy. Go to Organisation- units \>Hierarchy Operations and move the
offending organisation unit into the proper position in the hierarchy.

### Unités d'organisation sans groupes { #organisation-units-without-groups } 

Toutes les unités d'organisation *doivent* être attribuées à au moins *un* groupe. Le 
problème peut venir du fait que vous n'avez défini aucun ensemble de groupes d'unités 
d'organisation obligatoire, ou que certaines unités d'organisation ne respectent pas la règle 
obligatoire. N.B. : Si vous n'avez pas défini d'ensembles de groupes d'unités d'organisation 
obligatoires, vous devez d'abord les définir en allant dans Unité 
d'organisation-\>Ensembles de groupes d'unités d'organisation et définir au moins un 
ensemble de groupes obligatoire (les ensembles de groupes "Type" sont quasi universellement pertinents). Si vous 
disposez des ensembles de groupes pertinents, allez dans Maintenance -\> Groupes d'OrgUnit pour 
examiner chaque OrgUnit identifiée et ajouter l'attribution de groupe appropriée.

### Les unités d'organisation violant la règle d'ensembles de groupes obligatoires { #organisation-units-violating-compulsory-group-sets } 

Ces unités d'organisation n'ont été affectées à aucun groupe d'unités 
d'organisation dans l'un des ensembles de groupes d'unités d'organisation *obligatoires*. Lorsqu'un ensemble de groupes est défini comme obligatoire, cela signifie qu'une unité 
d'organisation doit être attribuée à au moins un groupe d'unités d'organisation au sein de 
cet ensemble de groupes. Par exemple, toutes les unités d'organisation doivent appartenir à 
l'un des groupes de l'ensemble de groupes "Type". Elle peut appartenir au 
groupe  \`Hôpital\` ou  \`Clinique\` ou à tout autre groupe "type", mais elle doit 
appartenir à seulement l'un d'entre eux. Allez à la rubrique Unités d'organisation-\>Groupes 
d'unités d'organisation pour examiner chaque unité d'organisation identifiée lors du contrôle 
d'intégrité. Affectez toutes les unités d'organisation à un seul groupe obligatoire.

### Unités d'organisation violant la règle d'ensembles de groupes exclusifs { #organisation-units-violating-exclusive-group-sets } 

Certaines unités d'organisation ont été attribuées à plusieurs groupes d'unités 
d'organisation membres du même ensemble de groupes d'unités d'organisation. Tous 
les ensembles de groupes dans DHIS2 sont définis comme exclusifs, ce qui signifie qu'une 
unité d'organisation peut *uniquement* être attribuée à *un* groupe d'unités d'organisation 
dans cet ensemble de groupes. Par exemple, une unité d'organisation ne peut 
normalement pas appartenir à la fois aux groupes "Hôpital" et "Clinique", mais 
plutôt à l'un d'entre eux seulement. Allez à Unité d'organisation-\>Groupes d'unités 
d'organisation pour vérifier chaque unité d'organisation identifiée lors du contrôle 
d'intégrité. Retirez les unités d'organisation de tous les groupes, sauf celui auquel 
elles doivent être affectées.

### Groupes d'unités d'organisation sans ensembles de groupes { #organisation-unit-groups-without-group-sets } 

Les groupes d'unités d'organisation énumérés ici n'ont pas été attribués à un 
ensemble de groupes. Allez dans Maintenance-\>Unité d'organisation-\>Ensembles de 
groupes d'unités d'organisation et attribuez le groupe d'unités d'organisation à l'ensemble 
de groupes approprié.

### Règles de validation sans groupes { #validation-rules-without-groups } 

Toutes les règles de validation doivent être attribuées à un groupe. Allez dans l'application 
**Maintenance** \> **Groupe de règles de validation** et assignez la règle de validation 
incriminée à un groupe.

### Expressions à gauche de la règle de validation invalide { #invalid-validation-rule-left-side-expressions } 

An error exists in the left-side validation rule definition. Go to
**Maintenance** app \> **Validation rule** and click **Edit** on the
offending rule. Click **Left side** and make the required corrections.

### Expressions de droite invalide de la règle de validation { #invalid-validation-rule-right-side-expressions } 

An error exists in the right-side validation rule definition. Go to
**Maintenance** app \> **Validation rule** and click **Edit** on the
offending rule. Click **Right side** and make the required corrections.

### Règles de programme sans condition { #programrules-with-no-condition } 

Le rapport mettra en évidence toutes les **Règles du programme** configurées sans **condition**. Les règles n'ayant pas de condition sont toujours évaluées comme étant fausses.

### Règles de programme sans priorité { #programrules-with-no-priority } 

Le rapport mettra en évidence toutes les **Règles du programme** configurées sans **Priorité**. Ceci est facultatif mais son existence est très importante lorsque le **Type d'action de la règle du programme** est **ASSIGNER**. Les règles ayant le type d'action ASSIGNER doivent avoir une priorité plus élevée que le reste des types d'action.

### Règles de programme sans action { #programrules-with-no-action } 

Le rapport mettra en évidence toutes les **Règles du programme** configurées sans une **Action de la règle du programme**.

### Variables de règles de programme sans éléments de données { #programrulevariables-without-dataelements } 

Le rapport mettra en évidence toutes les **Variables de règles de programme** configurées sans **Élément de donnée**. Le rapport sera basé sur la configuration Type de source. L'élément de donnée doit être fourni lorsque le type de source de la variable de règles de programme est **Élément de donné**.

### Variables de règles de programme sans attributs { #programrulevariables-without-attributes } 

Le rapport mettra en évidence toutes les **Variables de règle du programme** non configurées avec **Attribut de l'entité suivie**. Le rapport sera basé sur la configuration Type de source. L'attribut de l'entité suivie doit être fourni lorsque le type de source de la Variable de règle du programmee est **Attribut**.

### Actions de la règle de programme sans objets de données. { #programruleactions-with-no-data-objects } 

Le rapport mettra en évidence toutes les **Actions de règle du programme** configurées sans objet de données. L'objet de données peut être soit un **Elément de donnée** soit un **Attribut de l'entité suivie**. Certaines actions de règle du programme sont chargées d'attribuer des valeurs à l'élément de donnée ou à l'attribut de l'entité suivie.

### Actions de règle du programme sans notification { #programruleactions-with-no-notification } 

Le rapport mettra en évidence toutes les **Actions de règle du programme** dont le Type d'action de régle du programme est défini sur ENVOYER UN MESSAGE/PROGRAMMER UN MESSAGE lorsque la configuration ne prévoit aucun lien avec la notification.

### Actions de la règle du programme sans identification de section { #programruleactions-with-no-section-id } 

Le rapport mettra en évidence toutes les **actions de règle de programme** dont le Type d'action de la règle du programme est défini sur **MASQUER LA SECTION** mais la configuration ne fournit aucun identifiant de section.

### Actions de la règle du programme sans identification du stade du programme { #programruleactions-with-no-program-stage-id } 

Le rapport mettra en évidence toutes les **Actions de règle du programme** dont le Type d'action de la règle du programme est défini sur **MASQUER LE STADE DU PROGRAMME** mais la configuration ne fournit aucun identifiant du stade du programme.

## Maintenance { #data_admin_maintenance } 

<!--DHIS2-SECTION-ID:data_admin_maintenance-->

<table>
<caption>Fonctions de maintenance des données dans l'application Administration de données</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Fonction</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Effacer les tableaux d'analyse</p></td>
<td><p>Vider complètement les tableaux d'analyse. Ces tableaux sont utilisés pour générer des données agrégées pour les tableaux croisés dynamiques, les SIG et les rapports.</p></td>
</tr>
<tr class="even">
<td><p>Supprimer les valeurs de données nulles</p></td>
<td><p>Supprime les valeurs nulles de la base de données. Les valeurs enregistrées pour les éléments de données avec la moyenne de l'opérateur d'agrégation ne sont pas supprimées, car ces valeurs seront significatives lors de l'agrégation des données, contrairement aux valeurs enregistrées pour les éléments de données avec la somme de l'opérateur d'agrégation.</p>
<p>La réduction du nombre de valeurs de données améliorera les performances du système.</p></td>
</tr>
<tr class="odd">
<td><p>Restauration de données supprimées par logiciel</p></td>
<td><p>Lorsque vous supprimez une valeur de donnée de DHIS2, le système marquera la ligne correspondante de la base de données comme supprimée, mais ne supprimera pas réellement la ligne.</p>
<p>L'exécution de cette fonction de maintenance supprimera physiquement ces lignes de valeur de données de la base de données.</p></td>
</tr>
<tr class="even">
<td><p>Réduire les périodes</p></td>
<td><p>Supprime toutes les périodes n'ayant pas de valeurs de données enregistrées. La réduction du nombre de périodes améliorera les performances du système.</p></td>
</tr>
<tr class="odd">
<td><p>Supprimer les invitations expirées</p></td>
<td><p>Supprimera les utilisateurs représentant des invitations de compte d'utilisateur ayant dépassé leur date d'expiration.</p></td>
</tr>
<tr class="even">
<td><p>Déposer des vues SQL</p></td>
<td><p>DHIS2 vous permet de configurer et de gérer les vues SQL en tant qu'objets système avec les vues SQL correspondantes de la base de données.</p>
<p>L'exécution de cette fonction de maintenance supprimera les vues SQL sous-jacentes pour toutes les vues du système. Utilisez la fonction <strong>Créer des vues SQL</strong> pour recréer ces vues SQL.</p></td>
</tr>
<tr class="odd">
<td><p>Créer des vues SQL</p></td>
<td><p>Recrée toutes les vues SQL dans la base de données.</p></td>
</tr>
<tr class="even">
<td><p>Mettre à jour les combinaisons d'options de catégories</p></td>
<td><p>Reconstitue les combinaisons d'options de catégories. Cela peut être nécessaire après la modification des options de catégorie appartenant à une catégorie donnée.</p></td>
</tr>
<tr class="odd">
<td><p>Mettre à jour les chemins des unités d'organisation</p></td>
<td><p>Le tableau des unités d'organisation dans la base de données DHIS2 comporte une colonne &quot;chemin&quot ; contenant une chaîne concaténée de tous les ancêtres dans la hiérarchie pour chaque unité d'organisation.</p>
<p>L'exécution de cette fonction de maintenance permettra de mettre à jour et de garantir que ces valeurs sont synchronisées avec la hiérarchie actuelle des unités d'organisation. Cette colonne est gérée par le DHIS2, mais une mise à jour manuelle peut s'avérer utile lors du chargement des données directement dans la base de données.</p></td>
</tr>
<tr class="even">
<td><p>Effacer le cache de l'application</p></td>
<td><p>Efface le cache du système.</p></td>
</tr>
<tr class="odd">
<td><p>Recharger les applications</p></td>
<td><p>Recharge et détecte manuellement les applications DHIS2 installées.</p>
<p>Les applications installées sont également détectées au démarrage du système et lors de l'installation ou de la désinstallation des applications.</p></td>
</tr>
</tbody>
</table>

## Tableaux des ressources { #dataAdmin_resourceTables } 

<!--DHIS2-SECTION-ID:dataAdmin_resourceTables-->

Les tableaux de ressources sont des tableaux auxiliaires utilisés lors de l'analyse des 
données. L'on peut généralement joindre le contenu de ces tableaux à la 
table de valeur des données lorsqu'on effectue des requêtes à partir d'applications tierces 
comme Microsoft Excel. Ils sont également largement utilisés par les modules d'analyse 
de DHIS2. La régénération des tableaux de ressources ne doit être effectuée qu'une fois 
que tous les problèmes d'intégrité des données sont résolus. Les tables de ressources sont 
également générées automatiquement, chaque fois que le processus d'analyse est exécuté 
par le système.

  - Structure de l'unité d'organisation (\_orgunitstructure)

    Cette table doit être régénérée à chaque fois que la 
    hiérarchie des unités d'organisation est modifiée. Ce tableau 
    fournit des informations sur la hiérarchie des unités d'organisation. Elle comporte 
    une ligne pour chaque unité d'organisation, une colonne pour chaque niveau d'unité 
    d'organisation et les identifiants d'unité d'organisation de tous les parents de 
    la lignée comme valeurs.

  - Structure de l'ensemble des groupes d'éléments de données (\_dataelementgroupsetstructure)

    Ce tableau fournit des informations sur les éléments de données qui sont 
    membres des ensembles de groupes d'éléments de données. Le tableau comporte une ligne pour
    chaque élément de données, une colonne pour chaque ensemble de groupes d'éléments de données et 
    les noms des groupes d'éléments de données comme valeurs.

  - Structure de l'ensemble de groupes d'indicateurs (\_indicatorgroupsetstructure)

    Ce tableau fournit des informations sur les indicateurs qui sont membres 
    des ensembles de groupes d'indicateurs. Le tableau comporte une ligne pour chaque 
    indicateur, une colonne pour chaque groupe d'indicateurs et les noms des 
    groupes d'indicateurs comme valeurs.

  - Structure de L'ensemble de groupe de L'unité d'organisation
    (\_Structure de L'ensemble de groupe de L'unité d'organisation)

    Ce tableau fournit des informations sur les unités d'organisation qui sont 
    membres des ensembles de groupes d'unités d'organisation. Le tableau comporte une ligne 
    pour chaque unité d'organisation, une colonne pour chaque ensemble de groupes 
    d'unités d'organisation et les noms des groupes d'unités d'organisation comme valeurs.

  - Structure des catégories (\_categorystructure)

    Ce tableau fournit des informations sur les éléments de données qui sont 
    membres de quelles catégories. Le tableau comporte une ligne pour chaque élément 
    de données, une colonne pour chaque catégorie et les noms des options de 
    catégorie comme valeurs.

  - Nom de la combo d'options de catégorie de l'élément de donnée (\_categoryoptioncomboname)

    Ce tableau doit être régénéré chaque fois que des changements sont 
    apportés aux noms des combinaisons de catégories. Il contient des noms lisibles 
    pour les différentes combinaisons de catégories.

  - Structure des éléments de données (\_dataelementstructure)

    Ce tableau fournit des informations sur tous les éléments de données et sur le 
    type de période (fréquence) à laquelle ils saisissent des données. Le type de période est 
    déterminé par l'appartenance à un ensemble de données et repose donc sur le fait que les éléments de 
    données doivent être membres d'ensembles de données ayant des types de période similaires pour avoir 
    un comportement défini.

  - Structure de la période (\_dataperiodstructure)

    Ce tableau fournit des informations sur toutes les périodes et sur le type de période 
    auquel elles sont associées. Pour chaque type de période dont la fréquence est inférieure 
    à la sienne, il contient des informations sur la période dans laquelle 
    elle s'inscrit.

  - Combinaisons d'options de catégories d'éléments de données
    (\_Combinaisons d'options de catégories d'éléments de données)

    Ce tableau fournit une correspondance entre les éléments de données et toutes les 
    combinaisons d'options de catégories possibles.

## Duplicate data elimination { #dataAdmin_duplicateDataElimination } 

<!--DHIS2-SECTION-ID:dataAdmin_duplicateDataElimination-->

This function is useful when data has been entered mistakenly for two
data elements which represents the same phenomena.

Start by selecting the data element to eliminate from the list and click
confirm. Then select the data element to keep and click confirm again.
Finally, verify the selection and click merge.

In the situation where data exists for the data element to eliminate and
not for the one to keep, the data will be moved to the one to keep. When
data exists for both data elements, the data which was updated last will
be used. When data exists only for the one to keep, no action will be
taken. The data element to eliminate will eventually be deleted, except
when it is a multidimensional data element and has other data
registered.

## Statistiques des données { #dataAdmin_dataStatistics } 

<!--DHIS2-SECTION-ID:dataAdmin_dataStatistics-->

Le module de statistiques des données fournit un aperçu du nombre d'objets 
stockés dans la base de données de DHIS2.


![](resources/images/maintainence/data_stats.png)

Le nombre total de chaque type d'objet est présenté dans une série de tableaux avec des 
statistiques sommaires de chaque objet.

## Exceptions de verrouillage { #dataAdmin_lockException } 

<!--DHIS2-SECTION-ID:dataAdmin_lockException-->

Lock exceptions provide fine-grained control over exemption from a
locked data set. After the expiry of the data set, data entry will be
denied by default, unless an exception has been granted through the Lock
exception interface. To enable a lock exception, select the desired
organization units, data sets, and time period and press "Add". By
granting a lock exception, data entry will be enabled even after the
expiry period of the data set has passed.


![](resources/images/maintainence/create_lock_exception.png)

In the example above, a data lock exception would be created for "ab
Abundant Life Organization" and "ab Seventh Day Hospital" for the "Care
and Support" dataset for "February 2012".

## Production de valeur Min-Max { #dataAdmin_minMaxValueGeneration } 

<!--DHIS2-SECTION-ID:dataAdmin_minMaxValueGeneration-->

Cette fonction administrative peut être utilisée pour générer des valeurs min-max 
utilisées dans le cadre du processus de qualité et de validation des données pour 
des unités d'organisation et des ensembles de données spécifiques. Il suffit de sélectionner 
l'ensemble de données dans le cadre de gauche, puis de sélectionner les unités 
d'organisation requises pour générer les valeurs min-max à partir du sélecteur d'unités 
d'organisation à droite. Appuyez sur le bouton "Générer" pour générer ou 
régénérer toutes les valeurs min-max. Appuyez sur le bouton "Supprimer" pour supprimer 
toutes les valeurs min-max actuellement stockées dans la base de données.

![](resources/images/maintainence/min_max_value_generation.PNG)

## Statistiques de cache { #dataAdmin_cacheStatistics } 

<!--DHIS2-SECTION-ID:dataAdmin_cacheStatistics-->

Cette option est réservée aux administrateurs du système. Les statistiques du 
cache indiquent l'état du cache au niveau de l'application. Le 
cache au niveau de l'application se réfère aux objets et aux résultats des 
requêtes que l'application met en cache afin d'accélérer les performances. Si la base de 
données a été modifiée directement, le cache de l'application doit alors être vidé pour 
que cette modification prenne effet.

## Programmation { #dataAdmin_scheduling } 

<!--DHIS2-SECTION-ID:dataAdmin_scheduling-->

Le Programmateur est une application qui permet de gérer les tâches d'arrière-plan dans DHIS2. Les tâches d'arrière-plan peuvent effectuer certaines fonctions, telles que l'exécution d'analyses, la synchronisation de données et de méta-données, ou l'envoi d'un rapport d'analyse "push". L'application permet de créer, de modifier et de supprimer de telles tâches.

Le Programmateur est fourni avec le DHIS2 et est accessible via le menu App.

![](resources/images/scheduler/overview.png)

The start page of the Scheduler app shows an overview of existing jobs.
By default, pre-defined system jobs are hidden. To view these, toggle
**Show system jobs** in the top right corner.

When you create or modify a job, it will be rescheduled according to
selected preferences. To run a job on demand, press the green triangle
labelled "Run now". This action is only available for enabled jobs.

### Créer une tâche { #dataAdmin_scheduling_config } 

<!--DHIS2-SECTION-ID:dataAdmin_scheduling_config-->

1.  Open the **Scheduler** app and click the add button in the bottom
    supérieur droit.

2.  Choisissez un **Nom** approprié pour le nouvel emploi.

3.  Select a running frequency for the job, i.e. when and how often the
    job should run.

    1.  You can either select a pre-defined frequency from the
        drop-down menu, or ...

    2.  You can give the job a custom **Cron expression** if you want a
        specific schedule, using the [Spring
        scheduling](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html)
        syntax.

    3.  Enabling the **Continuous execution** option will make the job
        run constantly. In other words, as soon as the job finishes, it
        will be scheduled to run again right away. Selecting this option
        will disable the other fields.

4.  Sélectionnez le **Type de tâche** que vous voulez programmer à l'aide du menu déroulant.
    menu déroulant.

5.  If the job type is customizable, a **Parameters** section will
    appear below. These additional options specify the details of the
    scheduled job, and will vary greatly depending on the job type.

6.  Press the **Add job** button to confirm the job creation. The newly
    created job should now be listed in the job overview, given that the
    **Show system jobs** setting is not enabled.

![](resources/images/scheduler/add_new_job.png)

Les tâches sont activées par défaut.

### Configurer une tâche { #dataAdmin_scheduler_config } 

<!--DHIS2-SECTION-ID:dataAdmin_scheduler_config-->

With the proper permissions, you can modify the details of user-created
jobs. Note that for system jobs, only the schedule (cron expression) can
be changed.

To quickly enable or disable a user created job from running, use the
**Enabled** column on the landing page of the Scheduler app. System jobs
are always enabled.

Configuration supplémentaire d'une tâche :

1.  Select a job from the landing page to unveil the **Attributes** and
    change them to accordingly. See the previous section for scheduling
    details.

2.  If the job type supports extra options, the **Parameters** section
    will also be available.

3.  Lorsque vous avez terminé, appuyez sur le bouton **Enregistrer les modifications** pour poursuivre les modifications.

### Supprimer une tâche { #dataAdmin_scheduler_delete } 

<!--DHIS2-SECTION-ID:dataAdmin_scheduler_delete-->

1.  Sélectionnez la tâche que vous souhaitez supprimer.

2.  Cliquez sur le bouton **Supprimer** dans le coin inférieur droit.

3.  Confirmez en cliquant à nouveau sur **Supprimer** dans la fenêtre pop-up.

![](resources/images/scheduler/delete_job.png)

## Synchronisation des données { #dataAdmin_dataSync } 

<!--DHIS2-SECTION-ID:dataAdmin_dataSync-->

DHIS2 provides synchronisation of data between remotely distributed
instances and a central instance of DHIS2. This can be useful e.g. when
you have deployed multiple stand-alone instances of DHIS2 which are
required to submit data values to a central DHIS2 instance. Both tracker
data and aggregate data synchronisation is supported..

Voici les étapes à suivre pour activer la synchronisation des données :

  - Accédez aux paramètres de synchronisation, saisissez l'URL du serveur à distance,
    le nom d'utilisateur et le mot de passe. Appuyez sur le bouton TAB pour enregistrer automatiquement
    le nouveau mot de passe. Actualisez la page et vérifiez que les valeurs renseignées
    sont toujours présentes. Notez que le champ du mot de passe sera vide après
    l'actualisation, puisque cette valeur est cryptée. Vous pouvez donc la considérer comme
    sauvegardée.

  - Using the Scheduler app, create a new job using the "Program Data
    Synchronization". Make sure it is enabled when you finish.

Quelques aspects de la fonction de synchronisation des données à prendre en compte :

  - L'instance DHIS2 locale stockera le mot de passe du compte utilisateur
    sur l'instance à distance cryptée dans la base de données locale. Le compte
    à distance est utilisé pour l'authentification lors du transfert des données. Pour
    security purposes make sure you set the "encryption.password"
    configuration parameter in hibernate.properties to a strong
     

  - Le déploiement du serveur distant sur SSL/HTTPS est fortement recommandé car
    le nom d'utilisateur et le mot de passe sont envoyés en texte clair à l'aide 
    de base et peuvent être interceptés par un pirate.

  - La synchronisation des données utilise la propriété UID des éléments de données,
    des combinaisons d'options de catégorie et des unités d'organisation pour correspondre aux
    métadonnées. La synchronisation dépend donc de ces trois
    objets de métadonnées soient harmonisés sur l'instance locale et distante
    pour fonctionner correctement.

  - La première fois que DHIS2 exécute la tâche de synchronisation, elle inclura
    toutes les données disponibles. Les tâches de synchronisation ultérieures 
    n'incluront que les données ajoutées et modifiées depuis la dernière tâche réussie. Une
    tâche de synchronisation n'est considéré comme réussi que si toutes les données
    sont sauvegardées avec succès sur le serveur distant (toutes les données
    synchronisées avec succès resteront sur l'instance de réception, que la tâche 
    échoue éventuellement). Le résumé de l'importation renvoyé par le serveur central 
    permet de déterminer si la tâche a réussi ou non.

  - La tâche de synchronisation initiale peut prendre beaucoup de
    temps, ce qui pourrait ralentir votre instance, en fonction de la quantité
    données synchronisées. Ce pourrait être une bonne idée de configurer la
    tâche pour qu'elle s'exécute lorsqu'il y a peu d'utilisateurs en ligne, puis revenir plus tard 
    to your own preference. If you do not want or need to synchronise all 
    les données, il est possible de <a href="#skip_changed_before">sauter
    some of the data being synchronised</a>.  

    When DHIS2 synchronises tracker data, it determines the set of data
    to synchronise based on the last time it was synchronised. Each of
    instance d'entité suivi et évènement a son propre historique de
    when they where last successfully synchronised.

  - Le système démarrera une tâche de synchronisation en fonction des règles définies
    dans la configuration de la tâche. Si la tâche de synchronisation démarre
    sans connexion avec le serveur distant, elle réessayera
    trois fois avant d'avorter. La tâche sera réexécuté à un
    moment programmé.

  - Le serveur gère chaque ensemble de programmes séparément, ce qui signifie qu'un
    ensemble de programmes peut être synchronisé avec succès, alors qu'un autre 
    échoue. L'échec ou le succès de l'un n'influence pas l'autre, car
    la dernière heure de synchronisation réussie est suivie individuellement pour
    chaque élément tel que mentionné précédemment.

  - Les attributs des instances d'entités suivies (attributs d'instances suivis)
    et les éléments de données des étapes de programmes (élément de données d'étape de programme)
    qui ont une option "Ignorer la synchronisation" activée ne seront pas
    synchronisés. Cette fonctionnalité vous permet de décider de ne pas synchroniser
    certaines données sensibles ou non pertinentes et de les conserver uniquement localement.

  - The authority __"Ignore validation of required fields in Tracker and Event Capture"__
    (F\_IGNORE\_TRACKER\_REQUIRED\_VALUE\_VALIDATION) should be used when
    faut que certains attributs/éléments de données obligatoires
    aient en même temps une propriété "Ignorer la synchronisation" activée.
    Un tel paramètre entraînera un échec de validation sur le serveur central
    car l'attribut/l'élément de données concerné ne sera pas présent dans la
    charge utile.

    La validation n'échouera pas pour l'utilisateur qui dispose de cette autorité. 
    L'autorité doit être attribuée à l'utilisateur, sur le serveur central,
    ce qui sera utilisé pour la tâche de synchronisation.

  - <div id="skip_changed_before"></div>In specific cases, **the initial 
    synchronisation of all the data can be undesirable**; for example, 
    when a database on the local instance is a fresh copy of the database 
    present on the central instance, or when it is preferred to not 
    synchronise old data in favor of initial synchronisation taking less 
    du temps.

    La clé de réglage *syncSkipSyncForDataChangedBefore* peut être utilisée pour ignorer
    la synchronisation de toutes les données (valeurs de données, données de programmes Évènement et Tracker, 
    enregistrements des ensembles de données complets ) qui ont été *modifiées 
    changed before the specified date*. The SettingKey is used in the 
    synchronisation job all the time. Therefore, if you need to synchronise 
    the old data, you should change the SettingKey.

  - Both, Tracker Programs and Event Programs synchronisation job supports 
    la radiomessagerie afin d'éviter les délais d'attente et de faire face à un réseau instable.
    La taille de page par défaut pour la tâche "Synchronisation des données des programmes Évènement" est définie sur 60.
    La taille de page par défaut pour la tâche "Synchronisation des données des programmes Tracker" est définie sur 20.

    Default values can be overridden by using *syncTrackerPageSize* 
    respectively *syncEventsPageSize* SettingKey.

    **Example of cURL requests to change the paging settings:**

    Set page size to 5 for Event Programs data synchronization:

        curl -X POST '<DHIS2_URL>/api/systemSettings/syncEventsPageSize?value=5' -u <user>:<password> -H "Content-Type: text/plain"

    Set page size to 15 for Tracker Programs data synchronization:

        curl -X POST '<DHIS2_URL>/api/systemSettings/syncTrackerPageSize?value=15' -u <user>:<password> -H "Content-Type: text/plain"

## Planification de la synchronisation des métadonnées { #dataAdmin_metaDataSync } 

<!--DHIS2-SECTION-ID:dataAdmin_metaDataSync-->

DHIS2 offre une fonction de synchronisation des métadonnées d'une instance distante vers une instance locale de DHIS2. Cette fonction peut être utile lorsque vous avez déployé plusieurs instances autonomes de DHIS2 et que vous devez créer des métadonnées dans toutes les instances locales similaires à l'instance centrale de DHIS2.

Voici les étapes à suivre pour activer la synchronisation des meta-données :

  - Allez dans Paramètres \> Synchronisation, saisissez l'URL du serveur distant,
    le nom d'utilisateur et mot de passe et cliquez sur Sauvegarder.

  - Allez dans Administration des métadonnées \> Planification. Sous Synchronisation des métadonnées, 
    définissez la stratégie sur Activé, sélectionnez la période et
    cliquez sur Démarrer.

Quelques aspects de la fonction de synchronisation des meta-données à prendre en compte :

  - L'instance DHIS2 locale stockera le mot de passe du compte utilisateur
    de l'instance distante dans sa base de données. Le compte utilisateur distant est
    utilisé pour l'authentification lors du transfert/téléchargement des données.
    security purposes make sure you set the "encryption.password"
    configuration parameter in hibernate.properties to a strong
     

  - Le déploiement du serveur distant sur SSL/HTTPS est fortement recommandé car
    le nom d'utilisateur et le mot de passe sont envoyés en texte clair à l'aide 
    de base et peuvent être interceptés par un pirate.

  - Assurez-vous également que l'utilisateur distant ne dispose pas de TOUTES les autorités.
    Créez plutôt un utilisateur avec l'autorité F\_METADATA\_MANAGE afin
    que même si ces informations sont interceptées par un pirate, que ce dernier ne puisse pas 
    avoir un contrôle total sur système distant.

  - La synchronisation des métadonnées repose sur la couche d'importation sous-jacente.
    Chaque version de métadonnées est une exportation de métadonnées entre deux horodatages donnés.
    Chaque synchronisation de la version de métadonnées est une tentative d'importation
    de cet instantané de métadonnées dans l’instance locale. La synchronisation des
    versions est incrémentale. L'instance locale tentera de télécharger les
    versions de métadonnées de l'instance centrale les unes après les autres.
    L'échec de la synchronisation d'une version de métadonnées spécifique empêchera la synchronisation
    des autres versions. En cas d'échecs, des modifications
    appropriées doivent être apportées aux métadonnées au niveau central pour garantir que les
    résolutions des erreurs. La configuration des métadonnées est essentielle et 
    configurator should be careful while rolling out the updates to the
    production. Il est toujours recommandé d'avoir des environnements de test en 
    place pour garantir l'intégrité des versions de métadonnées et de leurs
    impacts par la suite. L'instance locale synchronisera les métadonnées de
    la première version pour que l'harmonie soit maintenue et que l'instance locale et centrale
    fonctionne correctement.

  - Le système tentera une synchronisation au moment prévu. Si
    le serveur local ou distant n'a pas accès à une connexion Internet 
    à ce moment-là, la synchronisation sera interrompue et 
    réessayée après le nombre de tentatives indiqué dans le 
    dhis.conf file.

  - Vous pouvez voir l'heure de la dernière synchronisation réussie avec le serveur 
    distant sur la page de planification, à côté de la mention "Dernier succès".
