---
edit_url: "https://github.com/dhis2/training-docs/blob/main/content/tracker_config/tg_userroles.md"
revision_date: '2023-07-04'
tags:
- Documents de formation
---

# Guide du formateur sur les Rôles d'utilisateur { #trainers-guide-to-users-roles } 

**_Use the Config system to follow this guide_**

## **En quoi consiste ce guide ?** { #what-is-this-guide } 

Ce guide est un document d'aide destiné aux formateurs de l'Académie DHIS2 pour la session "Rôles d'utilisateur". Cette session suit l'approche de formation standard de l'Académie avec 

1. une session de démonstration en direct où le formateur démontre et explique comment créer des rappels de programme, et 
2. une session pratique avec des exercices où les participants vont créer des rappels de programme.

Ce guide aidera le formateur à préparer la session de démonstration en direct. La section "Démonstration en direct, étape par étape" contient une description détaillée de toutes les étapes de la démonstration, avec des explications et des captures d'écran qui devraient être faciles à suivre. Servez-vous en lorsque vous serez en train de préparer la session de démonstration en direct.

Il existe également un guide rapide qui répertorie les étapes très brièvement et qui joue le rôle d' "aide-mémoire" PENDANT la démonstration, pour aider le formateur à se souvenir de toutes les étapes et du déroulement de la démonstration.

## **Contexte**{ #background } 

Les rôles d'utilisateur constituent un élément clé pour déterminer comment un utilisateur peut interagir avec DHIS2. Lorsqu'ils sont combinés avec des groupes d'utilisateurs et le partage, ils permettent de mettre en place une multitude de contrôles d'accès dans le système. 

## **Préparation** { #preparation }

Pour mener à bien cette session, vous devez revoir les paramètres de partage du programme de carte de traitement de la TB. 

It should be set to Public: metadata - can view and data - can capture and view for the program and program stages to allow everyone to access the program when they create their users.

Faites cette démonstration avec l'instance **CONFIG**.


## Objectifs d'apprentissage de cette session { #learning-objectives-for-this-session } 

* Décrire les différents concepts qui composent un utilisateur
* Configurer ces concepts dans DHIS2
* Créer un utilisateur dans DHIS2

## Temps requis { #time-requirements }

Démonstration en direct : 1 h 15 min

## Guide rapide { #quick-guide } 

1. Examiner le rôle d'utilisateur "Saisie des données du Tracker" ; expliquer chaque section de l'interface utilisateur lors de la création ou de la modification d'un rôle d'utilisateur.
2. Examiner les autorités propres au rôle de saisie des données du Tracker
3. Discuter plus en détail des autorités du Tracker
4. Se connecter en tant qu'utilisateur avec le rôle de saisie des données du Tracker dans l'instance de paramétrage du Tracker 
    1. Nom d'utilisateur : tracker_entry
    2. Mot de passe : District1#

STOP - Faites l'exercice 1


5. Créer un nouvel utilisateur et lui attribuer le rôle de saisie des données du Tracker. Tester l'utilisateur.

STOP - Faites l'exercice 2

6. Créer un nouveau rôle d'utilisateur - analyse des données du Tracker 
7. Attribuer ce rôle à l'utilisateur que vous avez créé et tester l'utilisateur en question.

STOP - Faites l'exercice 3

## Démonstration en direct étape par étape { #live-demo-step-by-step } 

Lorsque nous créons un nouvel utilisateur, nous devons d'abord mettre en place les rôles d'utilisateur qui lui seront attribués. Il est souvent utile de disposer également des groupes d'utilisateurs auxquels l'utilisateur sera affecté, même si cela peut être fait plus tard. 

Commençons par examiner la composition d'un rôle d'utilisateur.

### Consulter la page de gestion des rôles d'utilisateur { #review-the-user-roles-management-page } 

Afin de commencer le processus de création d'un rôle d'utilisateur, accédez à l'application « Utilisateurs »

![](Images/userroles/image18.png)

A partir de là, vous pouvez soit répertorier, soit ajouter un nouveau rôle d'utilisateur. Commencez par dresser la liste des rôles d'utilisateur disponibles

![](Images/userroles/image23.png)

Dans ce système, vous ne verrez que quelques rôles d'utilisateur. Dans un système réel, vous verrez probablement beaucoup plus de rôles d'utilisateurs. 

![](Images/userroles/image22.png)

Sélectionnez le rôle de saisie des données du tracker afin de le réviser. Vous verrez que la page de gestion des rôles d'utilisateur est divisée en 3 sections.

1. Informations de base
2. Autorités des métadonnées
3. Other authorities (this is subdivided into 4 additional sections)
    1. App authorities
    2. Tracker authorities
    3. Import/export authorities
    4. System authorities

**Basic information :** Includes the name and description of the user role

**Métadonnées** : la section des métadonnées vous permet d'attribuer différentes autorisations à un rôle d'utilisateur qui permet d'ajouter ou de supprimer des objets de métadonnées publics ou privés. Par exemple, vous pouvez donner à quelqu'un l'accès à la création et à la suppression d'éléments de données publics. Vous verrez également une option pour l'accès externe. Cette option n'est disponible que pour les objets de type rapport et permet à ce rôle d'utilisateur de donner accès à ces rapports via un accès externe (par exemple, via un portail web).

**Apps**: the apps section allows you to give access to the various DHIS2 apps that are within your instance. This includes all of the core DHIS2 apps, as well as any custom apps you may have on your own system. Note that this section only gives you access to the app, it does** **not specify what you can do within the app necessarily.

**Tracker**: tracker authorities have their own specific section as they are unique to the tracker data model. This does include events to some extent as well. This is because items like adding tracked entities or modifying events is unique to this model.

**Import - Export** : these authorities are given to a user role that will be dealing with the import/export of metadata, data or both. This is usually only given to a specialized role

**Le Système** : les autorités du système permettent à un utilisateur d'exécuter diverses opérations au niveau du système dans DHIS2. Il s'agit d'opérations telles que l'analyse des règles de validation, le prédicteur et l'approbation des données, par exemple. 


    Note: at the moment there is no comprehensive list of what each of the user authorities available here allows the user to do. While some are straightforward, many are not. As a result it can be slightly confusing to determine which authorities to assign a user role. We will try to provide some examples of template user roles that can be used for common tracker operations. When you are unsure about how to define a user role, the community of practice will be a better resource until the documentation is updated.

### Review the authorities assigned to the tracker data capture user role { #review-the-authorities-assigned-to-the-tracker-data-capture-user-role } 

We can review the authorities assigned to this user role in two ways.

1. For metadata authorities, select “only show selected metadata authorities.” Since this is a data entry role, we will not see any metadata authorities selected
2. For all other authorities, view the authorities in the selected section of the app

![](Images/userroles/image28.png)

For this user role, we are only using authorities from the apps and tracker sections. When we create user roles, we should be thinking about creating roles that cover a specific function. We can then combine various user roles together to give our user the access they need. This may differ from a common approach of creating a user role for a specific job type (data entry clerk, reproductive health staff) or geographical level (national staff, provincial staff) for example however such an approach is not recommended. Such an approach does not allow for any variation within those functions as it is not as flexible as creating generic, reusable roles.

Let us review the authorities assigned to this role. 

There are only assigned 3 apps as part of this role

![](Images/userroles/image8.png)

This means, if they only have this user role, they will only see these 3 apps in the apps menu (along with menu management, which every user sees). 

![](Images/userroles/image7.png)

The user roles also has several tracker authorities assigned to it

![](Images/userroles/image16.png)

Ces autorisations précisent les actions qu'un utilisateur peut effectuer en rapport avec les données du tracker. Petite remarque, si un utilisateur peut créer un événement ou une inscription, il peut également le supprimer. Les autorisations de suppression que vous voyez ici permettent une suppression en cascade (par exemple, ils peuvent supprimer tous les événements d'une inscription en une seule fois - plutôt qu'un par un). 

Let us review each of the available tracker authorities as they are important for tracker user roles (Note: they are not applied to the user role we are reviewing)

* Administer program dashboard configuration:
    * Allows a user to modify the default tracked entity dashboard layout that users see
* Delete enrollment and associated events
    * Allows a cascading delete of an enrollment in a program as well as all of its related events
* Delete tracked entity instance and associated enrollments and events
    * Allows a cascading delete of a tracked entity instance, all of its enrollments in all programs as well as all of the related events
* Manage program rule
    * Please ignore this, you can handle managing program rules via the metadata authorities section
* Search tracked entity instance across all organisation units
    * Allows a user to search for tracked entities across all organisation units, regardless of the search organisation units they are assigned
* Uncomplete events
    * Allows a user to incomplete a previously completed event
* Update tracked entities
    * Allows a user to update an existing tracked entity
* Tracker importer experimental
    * 
* View event analysis
    * Allows a user to view analytics data related to any events

Une combinaison de ces autorités du tracker, ainsi que des autorités de la catégorie des applications, est généralement nécessaire pour la majorité des rôles d'utilisateur attribués aux utilisateurs finaux du système qui ne sont responsables d'aucun type de maintenance du système. 


### Se connecter à l'utilisateur avec ce rôle { #log-into-the-user-with-this-role } 

Dans l'instance de personnalisation du tracker, connectez-vous à l'utilisateur auquel ce rôle a été attribué. Notez que d'autres éléments composent ce rôle d'utilisateur, comme nous l'avons vu, notamment les groupes d'utilisateurs, le partage et les unités d'organisation ; mais nous allons nous concentrer sur les implications du rôle d'utilisateur pour l'instant.

Nom d'utilisateur : tracker_entry

Mot de passe : District1#

Pour commencer, accédez à la saisie des données tracker . Sélectionnez **_Hôpital du district de Perroquet_** pour saisir des données dans le cadre du programme de carte de traitement de la tuberculose. L'accès au programme, y compris l'enregistrement de nouvelles TEI et l'ajout de données aux étapes du programme, est en fait contrôlé par le partage, que nous aborderons dans la prochaine session.

Le rôle de l'utilisateur lui permet toutefois d'accéder à la saisie des données du tracker et d'effectuer des actions spécifiques dans le cadre du programme et des étapes du programme qui ont été partagés avec lui. 

For example, if you were to open an existing record

You can incomplete events (via the “Uncomplete events” authority)

![](Images/userroles/image1.png)

Update a TEI (via the “Update tracked entities” authority)

![](Images/userroles/image5.png)

Or perform a cascaded delete (via the “Delete tracked entity instance and associated enrollments and events” authority). Do not delete the enrollment.

![](Images/userroles/image14.png)

This is all possible via the user role and the authorities we have assigned to it.

#### STOP - Perform Exercise 1 in the learner’s guide { #stop-perform-exercise-1-in-the-learners-guide } 

### Create a new user and assign it the tracker data entry role { #create-a-new-user-and-assign-it-the-tracker-data-entry-role } 

Let’s go through the process of creating a new user and assign it the tracker data entry role.

Navigate back to the user page and select the plus icon to add a new user

![](Images/userroles/image17.png)

When you create a new user you can use 1 of 2 methods

![](Images/userroles/image15.png)

1. You can create the account directly with all of the user details

2. You can send an email invitation to create their account

L'option 2 est souvent meilleure dans la pratique, car elle permet à l'utilisateur de créer directement son propre mot de passe, plutôt que de vous demander comment partager un mot de passe que vous avez créé pour lui, et qui peut ou non être mis à jour par l'utilisateur.

Let us follow this method by selecting “email invitation to create account.”

The user creation screen is then split into the following sections:

1. Informations de base
2. Contacts
3. Organisation unit access. This is divided into 3 subsections
    1. Data capture and maintenance
    2. Data output and analysis
    3. Recherche
4. Roles and groups. This is divided into 2 subsections
    4. Rôles d'utilisateur
    5. User groups
5. Analytics dimension restrictions

We can then go through and review the sections and fields, starting with the basic information. This includes general details on the user itself

![](Images/userroles/image25.png)

Next, we have the contact details. This can be useful to record if you have alternative contact details for the user being created.

![](Images/userroles/image11.png)

After the contact details, we have the **Organisation unit access** with 3 sections as follows

* Data capture OUs: Where the user can enter data (we can use Bird District)
* Data output OUs : Where the user can view data (we can use Bird District)
* Search OUs : Which orgunits the user can search for TEIs (this is superseded by the search across all OUs authority) (we can use Trainingland)

![](Images/userroles/image10.png)

Sous l'affectation de l'unité d'organisation de recherche, vous verrez l'option « Niveau maximum de l'unité d'organisation pour la sortie des données ». Cette option vous permet, si vous le souhaitez, de limiter la création de sorties par un utilisateur jusqu'à un certain niveau. Par exemple, si je souhaite autoriser un utilisateur à créer uniquement des sorties au niveau du district et non au niveau régional ou national, je peux imposer cette restriction à l'utilisateur. Dans les cas normaux, ce champ sera toutefois vide. 

![](Images/userroles/image2.png)

Éventuellement, sous le titre **Rôles et groupes**, vous arriverez à la zone où vous devez affecter un rôle à l'utilisateur. Affectez à l'utilisateur le rôle de saisie des données du tracker.

![](Images/userroles/image4.png)

Next, we see available user groups. We will skip this for now as we will discuss user groups in more detail later. 

Lastly, we have **Analytics dimension restrictions**. We will not cover this in this academy.

A quick note, if you change the invite type to “Create account with user details”

![](Images/userroles/image15.png)

Vous verrez une autre rubrique sous « Informations de base» “ intitulée  "Sécurité". Si nous créons un utilisateur de cette manière, nous devons également entrer les détails de son mot de passe ici.

![](Images/userroles/image3.png)

Switch back to “email invitation to create an account.”

When you have filled in all the details, select “Create user” to send the invitation to the person’s email.

### Sign the user up { #sign-the-user-up } 

Sign this user up by checking the email you entered when creating the account (make sure you are logged out of the account you used to make the new user!)

![](Images/userroles/image27.png)

Follow the link and fill in the new details for the user. Select Create once all the details are entered.

![](Images/userroles/image19.png)

This will log you in as the user. You can test the functionality to ensure they have the correct access.

#### STOP - Perform Exercise 2 in the learner’s guide { #stop-perform-exercise-2-in-the-learners-guide } 

### Create a new user role - tracker data analysis { #create-a-new-user-role-tracker-data-analysis } 

Navigate to users and list out the user roles

![](Images/userroles/image22.png)

Sélectionnez le bouton « Nouveau » pour ajouter un nouveau rôle d'utilisateur

Give the user role a name “your_initials_tracker data analysis” and add a description like:

Allows a user to access event/tracker data outputs via data visualizer, maps, event reports, event visualizer, dashboard and create public items from within these apps.

![](Images/userroles/image9.png)

Let us now think through the permissions we want this role to grant.

1. They should be able to access the various analysis apps
2. They should be able to see event data
3. They should be able to add public reports from the analysis apps (ie. charts, maps, tables that can be viewed by other users)

In order to provide a user with these authorities, we actually need to use three sections

1. Metadata, to allow the creation of public objects
2. Apps, to give access to the analysis apps
3. Tracker, to give access to the event data

We can start in the apps section and go from there as it is the most straightforward. We can grant them the following authorities

![](Images/userroles/image26.png)

Ensuite, examinons la section des métadonnées. Vous pouvez constater que certaines autorisations pour les rapports sont déjà sélectionnées, par exemple ajouter/mettre à jour un tableau de bord privé et supprimer un tableau de bord. En effet, en leur donnant accès à l'application de tableau de bord, vous leur donnez également la possibilité de gérer au moins leurs propres tableaux de bord. 

Pour leur permettre de créer des rapports publics, nous pouvons manuellement modifier les autorités suivantes :

![](Images/userroles/image12.png)

You can see we are just matching the apps we granted with the public reports we want them to be able to make.

Enfin, ajoutons les autorités de la section tracker

![](Images/userroles/image13.png)

Il s'agit strictement d'un rôle d'analyse de données, nous ajoutons uniquement l'autorisation de consulter les analyses d'événements. Si nous voulons qu'ils saisissent des données, nous pouvons également leur attribuer le rôle de saisie de données en combinaison avec ce rôle ! Cette autorité leur permettra de consulter les données de l'événement dans le cadre des programmes/étapes partagés avec eux. 

Nous n'avons besoin d'aucune autorité de la part de l'importation, de l'exportation ou du système. Cela vaut pour la plupart des rôles d'utilisateur qui ne sont pas liés à l'administration du système.

We can now save this user role.

### Assign this user role to the user you previously created { #assign-this-user-role-to-the-user-you-previously-created } 

Open the user you previously created and assigned the “tracker data entry” user role to. Do not change any parameters, just assign them the tracker data analysis user role you just made.

![](Images/userroles/image21.png)

Save this change.

### Log in with the user you edited { #log-in-with-the-user-you-edited } 

After logging in access the apps menu.

![](Images/userroles/image24.png)

Nous pouvons déjà constater une différence immédiate dans les applications auxquelles ils peuvent accéder.

Vous pouvez faire un rapport d'événement en utilisant certaines données de ce mois issues du programme de cartes de traitement de la tuberculose pour montrer qu'ils ont maintenant accès à l'examen des données.

![](Images/userroles/image6.png)

The user we are logged in with has two roles, and these roles give them distinct permissions. By creating roles this way, rather than creating a role for a user type, more flexibility is granted. For example, we could have a number of users that just have access to data analysis, but can not enter any data. Same for data entry; or we can combine existing roles like we have done here.

#### STOP - Perform Exercise 3 in the learner’s guides { #stop-perform-exercise-3-in-the-learners-guides } 

