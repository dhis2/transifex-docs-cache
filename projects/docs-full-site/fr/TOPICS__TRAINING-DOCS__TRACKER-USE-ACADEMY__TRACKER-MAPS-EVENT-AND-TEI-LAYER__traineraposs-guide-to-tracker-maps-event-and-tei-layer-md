---
edit_url: "https://github.com/dhis2/training-docs/blob/main/content/tracker_use/tg_maps.md"
revision_date: '2024-01-07'
tags:
- Documents de formation
---

# Guide du formateur sur l'application Cartes du Tracker - Couche d'événements et de TEI { #trainers-guide-to-tracker-maps-event-and-tei-layer } 

## En quoi consiste ce guide ? { #what-is-this-guide } 

Ce guide est un document d'aide destiné aux formateurs de l'Académie DHIS2 pour la session "Rapports d'événements". Cette session suit l'approche de formation standard de l'Académie avec 

1. une session de démonstration en direct où le formateur démontre et explique les fonctionnalités, et 

2. une session pratique avec des exercices où les participants peuvent mettre en pratique les mêmes fonctionnalités.

Ce guide aidera le formateur à préparer la session de démonstration en direct. La section "Démonstration en direct, étape par étape" contient une description détaillée de toutes les étapes de la démonstration, avec des explications et des captures d'écran qui devraient être faciles à suivre. Utilisez a lorsque vous serez en train de préparer la session de démonstration en direct.

Il existe également un guide rapide qui répertorie les étapes très brièvement et qui joue le rôle d' "aide-mémoire" PENDANT la démonstration, pour aider le formateur à se souvenir de toutes les étapes et de la démonstration.

## Objectifs pédagogiques de cette session { #learning-objectives-for-this-session } 

1. Décrire comment l'application Cartes gère les données Tracker
2. Décrire les limites des cartes lorsqu'on travaille avec des données Tracker
3. Créer des cartes à partir de données Tracker :
   1. La couche d'événements
   2. La couche d'entités suivies


## Temps requis { #time-requirements }

- Démonstration en direct : 2 démonstrations, 15 minutes chacune
- Exercices pratiques : 2 exercices, 15 minutes chacun
- Assignment: 

## Contexte { #background } 

Cette session consiste en une révision de ce que les participants ont appris avec l'académie sur les principes de base des événements et introduit également la couche d'instances d'entités suivies. En effet, travailler avec la couche d'événements en utilisant des données Tracker n'est pas différent de travailler avec des données d'événements, et ce dernier point a été abordé en détail dans les principes de base des événements. La couche d'entités suivies est un nouveau concept, mais elle présente actuellement plusieurs limitations. Ces limitations seront abordées dans la démonstration.

Notez que la couche thématique est abordée dans la session sur les indicateurs de programme, et non dans cette session.

## Préparations { #preparations }

Cette session vous permettra de créer des visualisations. Assurez-vous que vous avez exécuté des analyses dans la base de données de démonstration que vous utilisez et que toutes les données sont correctement renseignées. Si vous constatez que les données ne sont pas présentes pour la bonne période ou la bonne année, veuillez contacter l'équipe chargée du contenu de la formation afin que nous puissions vous conseiller sur la procédure à suivre pour déplacer les données correctement.

Vous devriez envisager de passer en revue l'ensemble de la démo avant de la présenter. Ensuite, vous devez reprendre le guide rapide et le compléter avec toutes les notes supplémentaires que vous avez prises pendant la démonstration. Si vous identifiez des changements qui pourraient être nécessaires ou des explications supplémentaires qui seraient utiles au cours de la session, veuillez en informer l'équipe chargée du contenu de la formation afin de nous permettre d'évaluer la meilleure façon d'intégrer ce retour d'information dans le matériel.

Chaque visualisation que l'on vous a demandé de créer a été sauvegardée et doit être partagée pour être mise à la disposition du public. Si vous avez des doutes sur le contenu d'une visualisation, vous pouvez l'ouvrir et revoir la façon dont elle a été réalisée.

Par ailleurs, le guide de l'apprenant et le résumé de la session sont les principaux documents qui seront fournis aux apprenants, avec les étapes détaillées des exercices non notés et les messages clés de la session. Passez-les également en revue afin de vous assurer que vous serez en mesure de faire passer ces points clés lors de votre démonstration.

## Bonnes Pratiques { #best-practices } 

Avant de commencer la démonstration, gardez à l'esprit que la chose la plus importante est que le public suive, alors n'oubliez pas de poser des questions au public pour vérifier qu'il suit. Si quelque chose n'est pas clair, revenez en arrière et reprenez lentement. Si vous n'avez pas le temps de passer en revue toutes les étapes, il est préférable d'en supprimer certaines, plutôt que d'aller vite et que personne ne comprenne.

Dans le cadre d'une formation en ligne, vous devrez les interrompre régulièrement pour leur permettre d'effectuer divers exercices non notés afin de les maintenir en éveil.

Dans le cadre d'une formation en présentiel, il se peut que les participants fassent la démonstration avec vous en même temps. Dans ce cas, l'idéal est que d'autres formateurs se déplacent dans la salle pour aider les participants, car il sera difficile pour le formateur qui dirige la session de répondre à de nombreuses questions individuelles pendant les démonstrations. 

## Quick Guide { #quick-guide } 

1. Review how tracker co-ordinates are captured during both registration and within an event
2. Create a map using the event layer
   1. Create the map with the following inputs
      - Layer Type : Event
      - Données :
        - Programme : COVID-19 Surveillance basée sur les cas
        - Étape : Étape 3 - Résultats du laboratoire
        - Champ de coordonnées : Lieu de l'événement
        - Statut de l'événement : tous
      - Période : Cette année
      - Unités d'organisation : Unités d'organisation de l'utilisateur jusqu'à deux niveau en dessous
      - Filtre :
        - Item de données : Résultat du test de laboratoire = positif
      - Style :
        - Regroupement d'événements
        - Style par élément de données : Sexe
   2. Note that dealing with event or tracker data when using the event layer is exactly the same
3. Create a map using the TEI layer with relationships
   1. Create the map with the following inputs
      - Type de couche 1 : Couche limite - Vientiane Capital
      - Type de couche 2 : Entité suivie
      - Données :
        - Type d'entité suivie : Personne
        - Programme : COVID-19 Surveillance basée sur les cas
        - Statut du programme : tous
      - Relations : 
        - Afficher les relations entre les entités suivies = oui
        - Type de relation : A été en contact avec
      - Période :
        - Date du programme/de l'inscription
        - Date de début/fin : 16 octobre 2020 - 16 octobre 2021
      - Unités d'organisation : ASC Mitthaphap
      - Style : garder le style par défaut
   2. Discuss the limitations of this layer in its current state (no relationships across other programs, can't just collect the co-ordinate during registration and combine this with data within one of the events)
4. Review the recap slide
5. Have them perform the assignment

## Live Demo step by step { #live-demo-step-by-step } 

### Review how tracker co-ordinates are captured during both registration and within an event { #review-how-tracker-co-ordinates-are-captured-during-both-registration-and-within-an-event } 

To start this demonstration, let us discuss where we get the co-ordinates that are used on the TEI and event layer in regards to tracker data.

Go to capture and select any Level 4 OU (facility) along with the COVID-19 Case-based surveillance program. You will see a list of TEIs after making this selection

![tei_list](resources/images/maps/capture_tei_list.png)

Proceed to register a new person into this program

![new_registration](resources/images/maps/new_registration.png)

In this page, you will notice the co-ordinate field present. This co-ordinate field is for the tracked entity and can be used by the tracked entity layer within the maps app.

![registration_coordinate](resources/images/maps/registration_coordinate.png)

On android, you are able to capture the co-ordinate using your location; while on the web you must enter or select it from the map.

Cancel the registration and open up one of the existing records within your org unit; this will take you to their TE dashboard in tracker capture.

Review Stage 1, 3 and 4. Each of these stages will have a field called "Event point"

![event_coordinate](resources/images/maps/event_coordinate.png)

This is the co-ordinate field that is used to display data within the event layer and is captured in the same way as the registration co-ordinate (on android, you are able to capture the co-ordinate using your location; while on the web you must enter it or select it from the map).

### Création d'une carte à l'aide de la couche d'événements { #create-a-map-using-the-event-layer } 

As a review, you can create a map using the event layer. The process is exactly the same as when working with an event. 

We can create a map using data from the COVID-19 Case-Based Surveillance Program for lab confirmed cases. 

Open the map "COVID_CBS - Lab confirmed cases, this year, by home location." This the map that you will create. You can explain the layout to the participants before continuing.

Clear your inputs by going to File -> New.

Créez la carte en utilisant la couche d'événements avec les entrées suivantes :

- Layer Type : Boundary
  - Niveau 3
- Type de couche : Événements
- Données :
  - Programme : COVID-19 Surveillance basée sur les cas
  - Étape : Étape 3 - Résultats du laboratoire
  - Champ de coordonnées : Lieu de l'événement
  - Statut de l'événement : tous
- Période : Cette année
- Unités d'organisation : Unités d'organisation de l'utilisateur jusqu'à deux niveau en dessous
- Filtre :
  - Item de données : Résultat du test de laboratoire = positif
- Style :
  - Regroupement d'événements
  - Style par élément de données : Sexe

The map should look like this

![map1](resources/images/maps/map1.png)

**Onglet Données**

![map1_data](resources/images/maps/map1_data.png)

**Onglet Période**

![map1_period](resources/images/maps/map1_period.png)

**Onglet Unités d'organisation**

![map1_OUs](resources/images/maps/map1_OUs.png)

**Onglet Filtre**

![map1_filter](resources/images/maps/map1_filter.png)

**Onglet Style**

![map1_style](resources/images/maps/map1_style.png)

Étant donné que les événements sont regroupés et que vous avez choisi de les classer par sexe, nous voyons les diagrammes en forme de beignet lorsque nous faisons un zoom arrière. En revanche, lorsque vous faisons un zoom avant, vous commencez à voir les emplacements de chaque événement. Sélectionnez un événement pour voir ses détails. 

![map1_zoomed](resources/images/maps/map1_zoomed.png)

Comme nous pouvons le voir, l'utilisation de cette couche est la même, que nous utilisions des données d'événements ou des données Tracker. Comme avec nos autres analyses, nous devons garder à l'esprit que la couche d'événements affichera tous les événements d'un programme sur cette carte. De ce fait, si des données d'événements sont répétés, vous pouvez avoir plusieurs événements sur la carte qui représentent un même événement.

#### Révision de la sauvegarde d'une carte { #review-how-to-save-a-map } 

Allez dans le menu Fichier et sélectionnez l'option "Sauvegarder".

![map1_save](resources/images/maps/map1_save.png)

Donnez un nom et une description à la carte et cliquez sur "Sauvegarder"

![map1_save_dialog](resources/images/maps/map1_save_dialog.png)

#### Révision du téléchargement d'une carte { #review-how-to-download-a-map } 

Sélectionnez l'option de téléchargement dans l'application. Une nouvelle boîte de dialogue s'ouvre. Positionnez votre légende à l'endroit qui vous convient et cliquez sur "Télécharger" pour télécharger la carte. Un fichier PNG de la carte sera téléchargé dans votre dossier de téléchargements.

![map1_download](resources/images/maps/map1_download.png)

#### ARRÊTEZ ! Demandez-leur de faire  *l'exercice 1 * du guide de l'apprenant. { #stop-have-them-perform-exercise-1-in-the-learners-guide } 

### Créer une carte en utilisant la couche de TEI avec les relations { #create-a-map-using-the-tei-layer-with-relationships } 

Nous allons maintenant créer une carte en utilisant les données du programme "COVID-19 Surveillance basé sur les cas" où nous allons afficher les relations sur la carte.

Open the map "COVID_CBS - Cases and Contacts." This is the map that you will create. It is showing a person along with their relationships. In the context of this program, it means it is displaying index cases along with their contacts. The red circle in the map is the index case (or where the relationship was initiated from) and the black circles are the contacts.

Clear your inputs by going to File -> New.

Créez la carte en utilisant la couche d'entités suivies avec les entrées suivantes :

- Type de couche 1 : Couche limite - Vientiane Capital
- Type de couche 2 : Entité suivie
- Données :
  - Type d'entité suivie : Personne
  - Programme : COVID-19 Surveillance basée sur les cas
  - Statut du programme : tous
- Relations : 
  - Afficher les relations entre les entités suivies = oui
  - Type de relation : A été en contact avec
- Période :
  - Date du programme/de l'inscription
  - Start/ End Date : January 1, 2024 - July 31, 2024
- Unités d'organisation : ASC Mitthaphap
- Style : garder le style par défaut


The map should look like this

![map2](resources/images/maps/map2.png)

**Couche limite**


![map2_boundary](resources/images/maps/map2_boundary.png)

---

***Couche d'entités suivies***

**Onglet Données**

![map2_data](resources/images/maps/map2_data.png)

**Onglet Relations**

![map2_relationships](resources/images/maps/map2_relationships.png)

Explain the relationships tab in a bit more detail as you are configuring this part of the map. This allows you to show relationships between tracked entities, but has a large warning message as it is still in development.

L'un des principaux inconvénients de la couche de relations est qu'elle ne permet d'afficher que les relations qui existent au sein d'un même programme. Dans notre exemple, nous disposons d'un programme spécifique dédié à l'enregistrement des contacts, mais nous ne pouvons pas afficher les relations entre le programme de surveillance et le programme de contacts, seulement les relations au sein du programme de surveillance (c'est-à-dire que les cas et les contacts doivent tous deux se trouver dans ce programme). D'une manière plus générale, cela signifie que vous ne pouvez afficher que les relations qui existent au sein d'un même programme sur la carte qui utilise actuellement la couche d'entités suivies.

**Onglet Période**

![map2_period](resources/images/maps/map2_period.png)

**Onglet Unités d'organisation**

![map2_OUs](resources/images/maps/map2_OUs.png)

**Onglet Style**

![map2_style](resources/images/maps/map2_style.png)

Explain the style tab in a bit more detail as you are reviewing it. You can see here you can select the colour of tracked entity, its related entities and the line used to represent the relationship. This allows you to customize the output of these relationship outputs slightly when creating the map layer.

#### Discuss the map output along with limitations of this layer { #discuss-the-map-output-along-with-limitations-of-this-layer } 

Comme nous pouvons le voir, cette couche permet d'afficher les entités suivies ainsi que leurs relations. Nous avons déjà évoqué le fait qu'actuellement, nous ne pouvons afficher que les relations qui existent au sein d'un même programme. En plus de cela, il n'est pas possible d'utiliser des données d'événements pour filtrer les entités suivies que vous affichez. Par conséquent, ***la couche des entités suivies ne peut être combinée avec aucune information provenant des événements qui se trouvent dans une étape de programme***.

C'est dommage, car cela nous oblige à collecter des coordonnées pour chaque événement d'un programme Tracker, au lieu de collecter les coordonnées une seule fois et de les utiliser en association avec nos données d'événements.

C'est un point sur lequel nous travaillons et nous espérons le régler dans les prochaines versions.

#### ARRÊTEZ ! Demandez-leur de faire *l'exercice 2 * du guide de l'apprenant. { #stop-have-them-perform-exercise-2-in-the-learners-guide } 

## Récapitulatif { #recap }

Review the recap slide with them at the end of the session before they perform the assignment

## Assignment { #assignment } 

After you have completed all demos and they have finished the exercises, have them complete the graded assignment for this session. If you find you are running out of time, assign the graded assignment to them and ask them to complete it outside of the live scheduled session.

