---
edit_url: "https://github.com/dhis2-metadata/HIV_CS/blob/master/docs/hiv_cs-design.md"
revision_date: '2023-12-06'
tags:
- Implementar
---

# Diseño de Sistema de Vigilancia de Casos de VIH { #hiv-cs-design }

## Antecedentes y objetivos { #background-and-purpose } 

El componente de vigilancia de casos del kit de herramientas para el VIH de DHIS2 se basa en las últimas directrices de la OMS [Directrices consolidadas sobre información estratégica del VIH centrada en la persona: fortalecimiento de los datos rutinarios para lograr un impacto] (https://www.who.int/publications/i/item/9789240055315) (2022) y el Kit de adaptación digital para el VIH: requisitos operativos para implementar las recomendaciones y estándares de la OMS dentro de los sistemas digitales, segunda edición.

This toolkit includes
- Análisis de tableros e indicadores básicos recomendados por la OMS para monitorear las iniciativas de atención y tratamiento del VIH y utilizar métricas clave para ajustar la programación e impulsar el impacto.
- DHIS2 Tracker program aligned with the WHO Digital Adaptation Kit data standards for individual level data collection and operational person-centred monitoring at facility and community levels
- Set de datos agregados y elementos de datos para el modelo de datos tracker agregados para análisis anónimos y de alto rendimiento
- Data exchange mapping for aggregating DHIS2 tracker data for Case Surveillance indicators and integration of key indicators with national HMIS

The HIV toolkit is optimised for improving strategic information systems in countries to facilitate data-driven decision-making, as well as streamlining routine data management processes. The DHIS2 HIV Case Surveillance tracker is not designed to provide clinical decision-support for HIV care and treatment services, but rather serves as an operational tool and a source of individual level data for person-centred monitoring. 

El documento de diseño del sistema explica la configuración de referencia en DHIS2 para el caso de uso de vigilancia de casos de VIH, incluida una descripción detallada de la configuración del Tracker DHIS2, el diseño del tablero, el uso de indicadores del programa, el mapeo de los datos de tracker al modelo de datos agregados y los mecanismos de intercambio de datos. Este documento tampoco considera los recursos e infraestructura necesarios para implementar dicho sistema, como servidores, energía, conexiones a Internet, respaldos, formación y soporte al usuario, los cuales pueden consultarse en la [Guía de Implementación Tracker DHIS2](https://docs.dhis2.org/en/implement/tracker-implementation/target-audience.html)

Los metadatos de referencia para este kit de herramientas están disponibles en: [dhis2.org/metadata-downloads](https://dhis2.org/metadata-downloads/).

### Agradecimientos { #acknowledgements } 

El kit de herramientas de Vigilancia de Casos de VIH ha sido desarrollado en colaboración con el Programa Mundial de VIH de la OMS y la Organización Panamericana de la Salud (OPS) con el apoyo del Fondo Mundial. Agradecemos a la OMS y la OPS por brindar experiencia en el diseño y desarrollo de estas herramientas, así como a los muchos países que han compartido su experiencia de implementación con nosotros

## Descripción general del diseño del sistema { #system-design-overview } 

### Antecedentes { #background } 

Background
Efforts to end the HIV epidemic by 2030 face persistent challenges, with 1.5 million new infections in 2020 alone. Key populations and their sexual partners constituted 70% of global new infections in 2021 (UNAIDS, 2022), highlighting barriers to equitable access. Paramount importance is to emphasise routine programmatic data for tracking service delivery, identifying at-risk individuals, and achieving universal access through a person-centred approach. Confidentiality and data privacy is crucial, especially for vulnerable populations that may be stigmatised, necessitating a cautious approach to individual-level data collection and anonymization for data use needs above the service delivery level.. 

A person-centred monitoring approach offers distinct advantages for longitudinal HIV data collection that can track and record HIV care and treatment services provided to an individual over time and space (e.g. different service delivery sites and touchpoints with HIV care and treament programmes). Scaling up individual level data collection allows for flexible disaggregation and enhanced analysis by various factors such as time, location, age, gender, clinical status, coinfections, treatment and more. This depth of information enhances our understanding of HIV epidemiology and facilitates ongoing monitoring of trends. Implementation of case-based electronic data is anticipated to enhance data quality by minimising data entry steps, integrating automatic calculations and validations, swiftly correcting or completing inconsistent or incomplete individual records, and facilitating de-duplication.

Sin embargo, en la mayoría de los PIBM, la digitalización de los sistemas de datos a nivel individual administrados por los Ministerios de Salud a menudo tarda años en alcanzar a escalar y debe ir acompañada de recursos sustanciales en el país para sostener el sistema a lo largo del tiempo. Además, los datos históricos y otros datos programáticos a menudo se recopilan o representan a través del modelo de datos agregados, como denominadores basados ​​en estimaciones del espectro para personas que viven con el VIH e informes agregados basados en papel  de sitios de prestación de servicios con conectividad escasa o nula, disponibilidad limitada de dispositivos y/o infraestructura deficiente.

Therefore, the HIV Case Surveillance toolkit leverages all DHIS2 applications and data models to support practical, implementable approaches to collecting, analysing and using HIV Case Surveillance data effectively to manage and link newly identified HIV cases into treatment programs and ensure a proper monitoring of people living with HIV. These tools can be used in a modular way to meet the needs of any country along the maturity model for digitization of health data – including hybrid implementation of paper-based and digitised systems, as well as incorporating data from other electronic tools like hospital EMRs where these may be used.

### Caso de uso { #use-case } 

The HIV Case Surveillance toolkit is designed to support routine data collection for programmes that support people living with HIV to enrol in a HIV program and receive HIV care and treatment services. The system is designed to bring data together to generate granular HIV Case Surveillance indicators and their disaggregations for routine data analysis, person-centred monitoring and strategic information through flexible dashboards and ad-hoc analysis with DHIS2 analytics tools. 

The data capture components of the system design allows for staff at service delivery sites, or higher levels depending on local contexts, to capture the core data elements during routine interactions with HIV  care and treatment programme participants that will allow programme staff to generate key performance indicators as detailed in WHO’s Consolidated guidelines for person-centred HIV strategic information (WHO, 2022). This component uses the DHIS2 Tracker data model. While DHIS2 HIV Case Surveillance tracker program is not optimised to support clinical case management or decision support, it serves as a useful electronic registry that supports decentralised electronic data capture of Case Surveillance data down to health facility or any other point of service from all types of actors. Individual level tracker data are aggregated using DHIS2 program indicators; which are mapped to aggregate data elements and data sets for populating core indicators and serving the analytical dashboards with anonymized data. 

La estructura del programa Tracker DHIS2 se ha armonizado y sigue la misma lógica que el Tracker de prevención del VIH, lo que permite que una persona inscrita en un programa de prevención ingrese al programa de vigilancia de casos con un diagnóstico positivo de VIH. En algunos contextos, puede ser conveniente integrar la prevención y la vigilancia de casos en un único programa de seguimiento. La armonización de los elementos de datos entre los dos seguimientos permitirá la adaptación e integración local, que se describe más adelante en la sección "Implementar" de este documento. 

#### Usuarios previstos { #intended-users } 

El diseño del sistema de Vigilancia de Casos de VIH se centra en satisfacer las necesidades de los usuarios finales en todos los niveles del sistema de salud, incluidos los responsables de implementar programas de VIH en los países. Estos usuarios pueden incluir:

- **Directores y personal del programa de VIH (nacional y subnacional)**: usuarios de datos que son responsables del análisis rutinario de los datos, de su utilización para mejorar las operaciones y las estrategias del programa, y ​​de proporcionar al personal del programa retroalimentación basada en datos, incluidos los socios implementadores, instalaciones y otros puntos de prestación de servicios
- **Administradores de datos del programa de VIH**: usuarios responsables de supervisar la recopilación, gestión, calidad de los datos, funciones de análisis y presentación de informes para el programa nacional de VIH
- **Administradores de sistemas/puntos focales de HMIS**: personal del Ministerio de Salud y/o equipo central de DHIS2 responsable de mantener y mejorar los sistemas de datos para programas de salud, integrar flujos de datos en plataformas nacionales, brindar soporte técnico para el diseño del sistema, adaptación y soporte al usuario final; y mantenimiento del sistema DHIS2 a lo largo del tiempo
- **Sitios de prestación de servicios**: el personal de los sitios de prestación de servicios puede utilizar el programa Tracker DHIS2 para registrar datos para visitas de rutina, así como utilizar herramientas de DHIS2 como listas de trabajo y listas de líneas para realizar un seguimiento de los clientes  y monitorear la aceptación de los servicios a nivel individual.
- **Socios implementadores**: organizaciones que brindan asistencia técnica al programa nacional de VIH, recopilan y analizan datos en nombre de la estrategia general del programa nacional y pueden ser responsables de las operaciones de las redes de prestación de servicios como asesoramiento sobre VIH, difusión educativa, trabajadores de salud comunitarios.

### Estructura de diseño { #design-structure } 

La configuración de Vigilancia de casos de VIH de DHIS2 está estructurada en tres componentes principales:
- **Tableros e indicadores**: los tableros e indicadores de vigilancia de casos de VIH se basan en el modelo de datos agregados de DHIS2. Los tableros de vigilancia de casos se comparten con el módulo HMIS de VIH.
- **Aggregate data sets**: aggregate datasets, data elements and associated category combinations are configured according to the WHO’s HIV analysis framework to populate the core indicators. Three datasets are designed to receive aggregated tracker data (e.g. via program indicators) and model this data in a performant way, leveraging the advantages of the aggregate data model in DHIS2 for analysis. Alternatively, these datasets can also be used for aggregate paper-based reporting; or to store data reported routinely from other individual-level data systems in use, such as sites using EMRs or other mobile applications. 
  - Vigilancia de casos de VIH (mensual)
  - Vigilancia de casos de VIH (anual)
  - Estimaciones de población 
- **Programa Tracker**: se ha configurado un programa Tracker DHIS2 para la recopilación de datos longitudinales a nivel individual. El programa Tracker se puede utilizar con la web DHIS2 o con clientes Android.

Estos componentes modulares están diseñados en función de la naturaleza heterogénea de los sistemas de datos VIH en los países y respaldan la arquitectura típica para implementar sistemas de datos basados ​​en casos junto con la infraestructura nacional integrada del HMIS:

![HIV illustrative architecture](/resources/images/hiv_architecture_simple.jpg)

## Tracker { #tracker } 

### Estructura de programa Tracker { #tracker-program-structure } 

La estructura de programa Tracker es la siguiente:

![Case Surveillance tracker structure](/resources/images/case_surveillance_program_structure.jpg)

| **Etapa**           | **Descripción**                                              |
| ------------------- | ------------------------------------------------------------ |
| Inscripción          | The enrollment stage collects the basic demographic data about a person, including unique identifiers, as Tracked Entity Attributes (TEAs). Several of these core TEAs such as Family Name and Given name are shared across DHIS2 Tracker programs. The Tracked Entity Type for the HIV Case Surveillance program is ‘Person’. **The stage is non-repeatable.** |
| Informe de caso inicial | The stage can be filled at the same time as the enrollment of the patient.This stage contains the information related to HIV diagnosis and key population groups. **The stage is non-repeatable.** |
| Visita               | Main stage that collects all the information necessary for the follow-up of the patient and the program. **The stage is repeatable** |
|Seguimiento | This stage is not tied to any indicators and is purely designed as a tool for recording any contact made with patients who have missed treatment visits and will need to be contacted. **The stage is repeatable**|

###  Tipo de entidad Tracked { #tracked-entity-type } 

The DHIS2 HIV Case Surveillance tracker program allows for the enrollment of a tracked entity type [TET] ‘person’ into the HIV Case Surveillance program. The TET type is shared with the HIV Prevention tracker to allow enrollment of the same TEI in both programs, in the case that a person receiving prevention services receives a positive HIV diagnosis.

### Inscripción { #enrollment } 

It is assumed that the HIV Case Surveillance workflow begins by enrolling any person with a confirmed HIV positive status.

When a person is enrolled in the HIV Case Surveillance program as a Tracked Entity Instance (TEI), Tracked Entity Attributes (TEA) are recorded to form the case profile. All TEAs are aligned and harmonised with those included in the HIV Prevention tracker allowing for enrollment in both programs or for integration into a single tracker program if desired at the local implementation level. Note that several TEAs are shared across non-HIV DHIS2 Tracker programs; these are configured with a prefix ‘GEN’ (general) to indicate they are shared between tracker programs. Check out the [Common Metadata Library](https://docs.dhis2.org/en/topics/metadata/dhis2-who-digital-health-data-toolkit/common-metadata-library/design.html) for more information on shared tracker metadata.

The TEA **program UID** attribute refers to an HIV program specific identifier. It has been kept intentionally blank as coding processes are dependent on local context. Refer to the [DHIS2 User Documentation on configuring system-wide unique identifiers as DHIS2 TEAs](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-238/configuring-the-system/programs.html#create_tracked_entity_attribute:~:text=Select%20Unique%20to,same%20organisation%20unit.). The use of anonymous UID codes allows individuals accessing HIV prevention services to be uniquely identified and followed longitudinally, without the collection of other types of personally identifying information (WHO, 2022).

La **fecha de nacimiento y edad** se puede asignar de dos formas diferentes:

- Fecha de nacimiento conocida: seleccione la fecha de nacimiento
- Unknown date of birth: select the Date of birth - Unknown option and then enter the age either in years or months.

Una vez hecho esto, se asigna una edad de nacimiento "probable" a la fecha de nacimiento en función del valor ingresado en los años o el mes AET.

![Date of Birth](/resources/images/date_of_birth_unknown.gif)

>**Note:**
>
>The date of birth is configured as mandatory; it must always have a value because it is used in the calculation of all program indicators involving age groups

### Etapa 1: Informe de caso inicial (no repetible) { #stage-1-initial-case-report-non-repeatable } 

The data acquired at this stage pertains to HIV diagnosis related information and the identification of clients belonging to one or multiple key population groups. 

Program rules have been configured to populate the age of HIV diagnosis based on the difference between the age of birth and the date of HIV diagnosis.

Concerning the key population information we recommend implementations to refer to WHO’s 2022 *Consolidated guidelines on person-centred HIV strategic information*, and specifically sections 2.2.2 for guidance on collecting information on key populations for prevention interventions to allow for this disaggregation, further considerations in section 5.1.1, and section 6.4 on maintaining data privacy, security and confidentiality as it relates to key population data captured.

![Informe de caso inicial](resources/images/initial_case_report.png)

Details of the HIV diagnosis and key population data is collected as a program stage in order to further protect the sensitive nature of this data. Specifically, by including this data only in the program stage, it is not accessible for searching a TEI – where users may have broader access to search for clients. 

In some implementations, instead of having the different key population groups listed as selectable categories, a set of questions has been proposed and according to the answer a key population identification is assigned to the clients. [See the section Implementation Considerations & Local Adaptation in this document](https://docs.google.com/document/d/1h7KBCLA99jVoTmDTBttIiSk4SKKD7tcIw7yq5A3yH68/edit#heading=h.7690t3h1dai8).

For an individual enrolled in an HIV Case Surveillance program, it is possible that their association with a key population group may change over time, as an individual’s risk of HIV acquisition, participation in high risk behaviours, and HIV prevention needs vary over time. The program stage is intentionally designed as non-repeatable to allow optimised analytics based on the key population group. However, a user may revisit this stage and modify the key population groups as needed.

### Etapa 2: Visita [repetible] { #stage-2-visit-repeatable } 

#### Configuración de fechas { #configuration-of-dates } 

This repeatable program stage captures all information relevant to visits/encounters for the person receiving HIV care and treatment services, regardless of which type of service they access. It allows for capturing multiple types of services provided in a visit. This is integral for a comprehensive, person-centred management and reporting system. 

In this program stage, the DHIS2 program ‘event date’ (or default ‘report date’ in the Maintenance app for program configuration) has been renamed to represent ‘Visit date.’ This means that all analytics based on the event date will evaluate based on the date of the person’s encounter (visit) with the HIV care and treatment service provider.

![Fecha de evento DHIS2](resources/images/event_date_visit_date.png)

In addition to the visit date, additional key dates have been configured as Tracker domain data elements related to these activities (e.g. ART initiation, STI test date, etc.) and these should be reported to enable additional time-based analytics.

#### Detalles de la visita { #visit-details } 

The initial Visit Details section allows the user to report the patient status at the visit and as well select which HIV care and treatment services will be recorded for this visit report. 

The patient status is a key information that needs to be reported at every visit and it’s used in most of the indicators present in the program.
The set of options assigned is:
- PVVS: el cliente está vivo y forma parte de la cohorte
- Muerte (documentada): el cliente ha fallecido
- Pérdida de seguimiento: el cliente se pierde durante el seguimiento
In case ‘death’ or ‘follow up’ is selected, the relatives date of dead and declaration of lost to follow-up are requested

>**Note:**
>
>The recommended threshold for designation of people living with HIV on ART as lost to followup is 28 days after the last missed appointment or last ARV refill, to account for DSD ART. See chapter 3 of WHO's 'Consolidated guidelines on person-centred HIV strategic information' for additional information.

A series of program rules will show/hide the desired sections depending on which type of HIV care details will be recorded. It is generally assumed that the user will create a new Event in the Visit stage for each time they interact with a service provider, regardless of how many HIV care services they access during the visit. 

The ‘Currently pregnant’, ‘Cervical cancer’ and ‘Vertical transmission’ will only show for PLHIV enrolled with TEA ‘Sex assigned at birth’ as ‘Female’ or ‘Other’, based on program rules. 

![Visit details section and selection of HIV care services](resources/images/visit_details_selections.gif)

>**Note:**
>
>Hiding a section does not erase the data that are recorded there and all the program indicators are NOT filtered by the selection or not of the section. In case there are any data that has been mistakenly entered, they will need to be removed manually one by one and not simply de-selecting the section

#### Tratamiento { #treatment } 

The treatment section is always shown and doesn’t need to be selected from the ‘Visit details’ section as ART treatment is the central pillar on the management of PLHIV.

The main and mandatory information to be reported is the treatments status in which, according to the current status of the patient at the visit, a set of options has been assigned:
- **Iniciación (nueva)**: PVVS que inician TAR por primera vez en su vida
- **Initiation (after stopping)**: PLHIV restarting the ART after a period of interruption.
- **On ART**: PLHIV already on ART at the moment of the visit
- **Refused treatment**: PLHIV refuse the ART after counselling
- **Stopped treatment**: PLHIV reports of having stopped treatment

The viral load information will be shown only in case the difference between the visit date (DHIS2 event date) and the date of ART initiation is more than 180 days.

DSD ART models information need to be customised prior implementation according to country guidelines on provision of multi-monthly ART dispensing.

‘Last days with ART’ element is auto assigned adding the amount of days of ART provided to the visit date (DHIS2 event date) as considered the date in which the ART has been provided.

![Sección de tratamiento](resources/images/treatment_section.png)

#### VIH/TB { #tbhiv } 

Within the HIV/TB section information related to TB screening, testing, treatment of active TB disease and TB preventive treatment are requested.

Se están estableciendo una serie de reglas de programa para:
- Hide all the information related to ‘TB screening, test and TB preventive treatment’ related information in case the PLHIV has TB disease
- Report the date of ‘TB diagnosis’ in the following visits (DHIS2 event) in case has been reported and still with the disease
- Report the date of ‘TB treatment start date’ in the following visits (DHIS2 event) in case has been reported and still on treatment
- Report the date of ‘TB preventive treatment initiated’ in the following visits (DHIS2 event) in case has been reported and still on treatment

![Sección VIH/TB](resources/images/hiv_tb_section.png)

#### Transmisión vertical { #vertical-transmission } 

The information collected for the vertical transmission have been classified in the two (2) different (sub)section according to the timing of when data collection should occur:
- Información al nacer
- Visita de seguimiento

Dentro de la primera sección, "Información al nacer", se solicita información relacionada con la fecha y el lugar del parto, la fecha de la primera visita de AP y el estado respecto al VIH, el estado de carga viral y TAR, y el estado de TAR del lactante expuesto al VIH

![Sección de información al nacer](resources/images/information_birth_section.png)

Within the second section ‘Follow-up visit’ information related to the age of the HIV-exposed infant at visit, breastfeeding status, ART status of the mother and HIV testing of the HIV-exposed infant are requested.

![Visita de seguimiento](resources/images/information_FU_section.png)

#### ITS { #sti } 

In the Sexually Transmitted Infections (STI) section, information related to the STI syndrome diagnosed, STI test performed and treatment administered are collected among clients enrolled in the HIV Case surveillance program. 

![Recogida de datos ITS](resources/images/STI.png]

#### Hepatitis viral { #viral-hepatitis } 

In the Viral hepatitis section, information related to HBsAG and HCV infection, tests performed and results and treatment are collected among clients enrolled in the HIV Case Surveillance program. 

In case the PLHIV is infected with HBV and/or HCV, all the information related to the test are going to be hidden through a serie of program rules

![Hepatitis viral](resources/images/viral_hepatitis.png)

#### Cáncer de cuello uterino { #cervical-cancer } 

Within the cervical cancer section, information related to the number of HPV vaccination doses received, cervical cancer diagnosis and cervical cancer screening with relative outcome and treatment status are requested.

In case the WLHIV has been diagnosed with invasive cervical cancer, all the information related to the screening are hidden

![Cáncer de cuello uterino](resources/images/cervical_cancer.png)

### Etapa 3: Seguimiento [repetible] { #stage-3-follow-up-repeteable } 

This repeatable program stage is purely designed as a tool for recording any contact made with patients who have missed treatment visits, and will need to be contacted.
It is not currently linked to indicators and can safely be removed from the programme if not used in a clinical setting without affecting the other modules.

In this program stage, the DHIS2 program ‘event date’ (or default ‘report date’ in the Maintenance app for program configuration) has been renamed to represent the ‘Date of attempt to contact client’. 

It records the reason why this follow up is needed (Missed clinical care visit, missed medication pickup, missed non-clinical visit, did not initiate ART, inconclusive HIV status, test results received, Other follow up reason) follow-up method (Text message, phone call, home visit or other) and the result of the follow up (Returning to clinic, self-transferred out, hospitalised, refused to return, not located, reported dead, confirmed dead). If when following-up the patient has changed their treatment status (for example, decided to stop treatment), the program displays a prompt to complete a Visit stage option and record this.

![Etapa de seguimiento](resources/images/follow_up.png)

### Elemento de datos Tracker { #tracker-data-elements } 

All data elements configured for the Tracker domain are also included in the Data Element Group ‘HIV case surveillance (tracker)’ [pGlRt4xB9rz]. This serves as a de facto DHIS2 data dictionary for the HIV case surveillance tracker use case. It allows for the data elements to be exported from DHIS2 and used independently of the Tracker program configuration, for example in the case that an implementation redesigns their Tracker from scratch for local workflows and still wants to maintain compliance with the core WHO-recommended data dictionary included in the Digital Adaptation Kit.

#### Elementos de datos clonados para la selección de opciones múltiples { #cloned-data-elements-for-multiple-option-selection } 

Within the program stages for  ‘Initial Case report’ and ‘Visits’, there are a number of data elements that are cloned to allow the selection of multiple options for a given concept, sharing the same option set. This design is implemented as follows:
- Cloning of data elements eligible for multi-option choice
  - The number of clone of the data element must be the same as the number of options present in the related option set
  - Each cloned data element has its own UID, name and code
- Reglas de programa
  - Hide the consequent Data Elements if the previous have not been selected
  - Show error in case the same Option has been selected more than once in the same group of Data Elements

For example, to capture multiple probable route of transmission, there are a series of data elements that are cloned to represent each discrete diagnosis: 
- HIV - Probable route of transmission - 1 [ODG7SJQHCBv]
- HIV - Probable route of transmission - 2 [jsXCQZT5f9c]
- HIV - Probable route of transmission - 3 [HxPpUO6SuXD]
- HIV - Probable route of transmission - 4 [TOLlMMdudRi]

#### Hidden Data Elements & Assigned Values to Data Elements { #hidden-data-elements-assigned-values-to-data-elements } 

All the Data Elements mentioned hereunder are “hidden” and therefore not visible during the data entry process; however they are required for the calculation of program indicators. 

Here we provide an overview of all the “hidden” data elements which are contained in the repeatable Visit stage, where program rules are used to assign a value. In many cases, the program rule simply assigns a value from a previous program stage (such as Initial Report) in order to allow the program indicators to calculate correctly. 

**Assigning key population and date of HIV diagnosis data element value to Visit Stage**

Program rules are used to copy and assign the value of the Client key population group and date of HIV diagnosis recorded in the initial case report to a hidden data element field on the repeatable ‘Visit’ program stage. This allows for all calculations and disaggregations based on key population groups and age of infection to be configured namely by using the autoassigned data element as a filter in the program indicator

These Data Elements are identified with the postfix “- VISIT”

| Metadatos     | UID         | Nombre                                                                               |
|--------------|-------------|------------------------------------------------------------------------------------|
| Elemento de datos | mNeVBYWladf | VIH - Fecha Positiva - VISITAS                                                       |
| Elemento de datos | ySHCKMYGHD6 | VIH - Edad al Diagnóstico - VISITAS                                                    |
| Elemento de datos | kXutCUTOxcq | HIV - Key population - Men who have sex with men - VISITS                          |
| Elemento de datos | GSSOfwzb0DQ | HIV - Key population - Person who inject drugs - VISITS                            |
| Elemento de datos | iqXxZbRDhYG | HIV - Key population - People living in prisons and other closed settings - VISITS |
| Elemento de datos | kICLXq7IEuP | HIV - Key population - Sex worker - VISITS                                         |
| Elemento de datos | vZQyUQCKSc6 | HIV - Key population - Trans and gender-diverse people - VISITS                    |
| Elemento de datos | kXutCUTOxcq | HIV - Key population - Men who have sex with men - VISITS                          |
| Elemento de datos | GSSOfwzb0DQ | HIV - Key population - Person who inject drugs - VISITS                            |
| Elemento de datos | iqXxZbRDhYG | HIV - Key population - People living in prisons and other closed settings - VISITS |
| Elemento de datos | kICLXq7IEuP | HIV - Key population - Sex worker - VISITS                                         |
| Elemento de datos | vZQyUQCKSc6 | HIV - Key population - Trans and gender-diverse people - VISITS                    |
| Regla de programa | Bj2Z3glSvHy | HIV - Assign value to Date of HIV positive diagnosis                               |
| Regla de programa | FNCVV9kG0oi | HIV - Assign value to Age when diagnosed with HIV                                  |
| Regla de programa | iLq9wgcYwAE | HIV - Assign value TRUE - Men who have sex with men                                |
| Regla de programa | yYGoGwZ612X | HIV - Assign value TRUE - Person who inject drugss                                 |
| Regla de programa | X51QRO65q4p | HIV - Assign value TRUE - people in prison or other closed settings                |
| Regla de programa | T3EGb8JMpRs | HIV - Assign value TRUE - Sex worker                                               |
| Regla de programa | zFTfjVAEY42 | HIV - Assign value TRUE - Trans and gender-diverse people                          |
| Regla de programa | mjrCXVhuYhe | HIV - Assign value FALSE - Men who have sex with men                               |
| Regla de programa | HxtlnaW2LHW | HIV - Assign value FALSE - Person who inject drugss                                |
| Regla de programa | TBzZvKdia6D | HIV - Assign value FALSE - people in prison or other closed settings               |
| Regla de programa | gs5hHXi3Q62 | HIV - Assign value FALSE - Sex worker                                              |
| Regla de programa | X4GW8qfrm0j | HIV - Assign value FALSE - Trans and gender-diverse people                         |

**HTS.1 People living with HIV who know their HIV status**

To be able to calculate this program indicator we need to use a CUSTOM period boundaries based on the ‘Date of HIV positive diagnosis’ as we want to count all the clients since the date of the diagnosis until either the current date, in case their still alive and in the cohort or the date of death / lost to follow-up.
To enable this counting the data element ‘HIV - Cohort date’ [ CrFaWOLSKiK] has been created and get assigned the value of the the current date in case the client is still alive / in the cohort (PLHIV) and the date of the death / lost to follow-up in case the client has dead or has been lost to follow-up.

| Metadatos     | UID         | Nombre                                                       |
|--------------|-------------|------------------------------------------------------------|
| Elemento de datos | CrFaWOLSKiK | HIV - Cohort date                                          |
| Regla de programa | ciDmWAbeFK4 | HIV - Assign today date if no change in the patient status |
| Regla de programa | f0dYm1jWn9B | HIV - Assign the death date if has value                   |
| Regla de programa | O3JX3rziDw8 | HIV - Assign the LTFU date if has value                    |

**ART.8 Appropriate second viral load test after adherence counselling**

In the numerator we need to calculate PLHIV on ART receiving a viral load test within three (3) months after a viral load test result of >=1000 copies/mL.
Data elements assigned with the date of the last viral load test conducted and the last result are used in the Program Indicator filter to compare the date of the last viral load test with the actual.

| Metadatos     | UID         | Nombre                                     |
|--------------|-------------|------------------------------------------|
| Elemento de datos | yCF5h2RdrOP | HIV - Treatment: Previous VL date        |
| Elemento de datos | Cx6DHpEoRpb | HIV - Treatment: Previous VL value       |
| Regla de programa | dxPan4qsYWH | HIV - Assign previous VL date if present |
| Regla de programa | QxPGCFykSDT | HIV - HIV Previous viral load value      |

**DSD.2 Uptake of DSD ART models among people living with HIV**

In both numerator and denominator we need to calculate the number of people that are newly eligible for DSD ART models. Data element assigned with a TRUE value in case the client was not eligible in the previous visit but is eligible in the current one it’s used in the filter of the Program Indicator.

| Metadatos     | UID         | Nombre                                                                                                                     |
|--------------|-------------|--------------------------------------------------------------------------------------------------------------------------|
| Elemento de datos | w0s4IrXdJA1 | HIV - Treatment: Newly eligible for DSD ART                                                                              |
| Regla de programa | zCZ4RdA6QvL | HIV - Assign true to newly eligible for DSD ART if eligible in current visit and not eligible in the previous one        |
| Regla de programa | CKCZoiLk2MR | HIV - Assign false to newly eligible for DSD ART if eligible or not in current visit and/or eligible in the previous one |

Moreover in the numerator we need to count the ones newly enrolled in the DSD ART models.  Data element assigned with a TRUE value in case the client was not enrolled in the previous visit but is enrolled in the current one it’s used in the filter of the Program Indicator.

| Metadatos     | UID         | Nombre                                                                                                                     |
|--------------|-------------|--------------------------------------------------------------------------------------------------------------------------|
| Elemento de datos | Q7LmA2FMrzl | HIV - Treatment: Newly enrolled on DSD ART models                                                                        |
| Regla de programa | zNltrhsK3ZD | HIV - Assign true to newly enrolled for DSD ART if eligible in current visit and not enrolled in the previous one        |
| Regla de programa | ikzuYLNkxiV | HIV - Assign false to newly enrolled for DSD ART if eligible or not in current visit and/or enrolled in the previous one |

**DSD.5 Viral suppression among people living with HIV engaged in DSD ART models**

In both numerator and denominator of this indicator we need to count the PLHIV that are enrolled in DSD ART models and that have been tested for viral load (and are suppressed). Being a program indicator of type EVENT and having the information of viral load not directly linked with the enrollment or not in DSD ART models in the data model, a data element that is gonna be auto populated with the last available DSD ART enrollment status value (true or false) has been assigned to the program indicator

| Metadatos     | UID         | Nombre                                           |
|--------------|-------------|------------------------------------------------|
| Elemento de datos | PYFRaC4dJXg | HIV - Treatment: Last enrolled DSD ART status  |
| Regla de programa | zfcYNnMjDk6 | HIV - Assign DSD enrolled if present           |
| Regla de programa | ZgaUPJHLPvO | HIV - Assign last DSD enrolled if present      |
| Regla de programa | n0oipCCQK0x | HIV - Don't assign DSD enrolled if not present |

**DFT.3 TB testing among those symptom-screened positive**

The indicator need to count the number of PLHIV that, after being screened positive for TB, are tested for TB. We therefore need the date in which the last TB screening has been performed and we need to ensure that the screening has happened before the testing

| Metadatos     | UID         | Nombre                                                           |
|--------------|-------------|----------------------------------------------------------------|
| Elemento de datos | nWrIpSGAdVj | HIV - HIV/TB: Date screened positive for TB symptoms           |
| Regla de programa | jFviS9zNghE | HIV - Assign previous screening date if present                |
| Regla de programa | NqbC1zxf46M | HIV - Assign true if screened positive for TB in current event |

**TBH.3 TB diagnostic testing type**

In the numerator we need to count only the PLHIV that has received as first TB test a WHO approved rapid molecular TB test.
A data element reporting TRUE in case the first test has been with a mWRD (Molecular WHO Recommended rapid diagnostic) test is created and reported over the following events.

| Metadatos     | UID         | Nombre                                                                                 |
|--------------|-------------|--------------------------------------------------------------------------------------|
| Elemento de datos | dJJVB3fkwKd | HIV - HIV/TB: First TB test as mWRD                                                  |
| Regla de programa | WTONjptEnGe | HIV - Assign true to first test as mWRD and the date if has been the first test used |
| Regla de programa | WQaVtgqajwh | HIV - Assign false to first test as mWRD if has not been the first test used         |
| Regla de programa | LuBGQxFdoZ5 | HIV - Assign true value to first TB test as mWRD if previously tested as first       |

Moreover another data element reporting the date of the first TB test (if is a mWRD) is created and the value reported in the following events

| Metadatos     | UID         | Nombre                                                                                 |
|--------------|-------------|--------------------------------------------------------------------------------------|
| Elemento de datos | ay8M5cOVV6g | HIV - HIV/TB: First TB test as mWRD date                                             |
| Regla de programa | WTONjptEnGe | HIV - Assign true to first test as mWRD and the date if has been the first test used |
| Regla de programa | mTg0iaPC4BK | HIV - Assign previous value for First TB test as mWRD date if present                |

**STI.8 Repeat diagnosis of STI syndrome**

In the numerator we need to calculate the number of people attending HIV care and treatment services diagnosed with a particular STI syndrome two or more times. Data elements assigned with the last date in which a specific STI syndrome was reported are used in the PI filter to compare the date of the last diagnosis with the actual diagnosis; if the difference is lower than 12 months then our client will be counted. This is achieved with five (5) DEs assigned with “last diagnosis date” for each possible STI syndrome diagnosed.

| Metadatos     | UID         | Nombre                                                                             |
|--------------|-------------|----------------------------------------------------------------------------------|
| Elemento de datos | DI8O2sFAjIZ | HIV - STI: Urethral discharge syndrome last diagnosis date                       |
| Elemento de datos | PMYnHPcLOrg | HIV - STI: Vaginal discharge syndrome last diagnosis date                        |
| Elemento de datos | fGg6Qx8AzDw | HIV - STI: Lower abdominal pain last diagnosis date                              |
| Elemento de datos | Nxjc5ElxwEj | HIV - STI: Genital ulcer disease syndrome last diagnosis date                    |
| Elemento de datos | bEFauzOj4ov | HIV - STI: Anorectal discharge last diagnosis date                               |
| Regla de programa | xgt6RIk6jJg | HIV - Assign the last date of urethral discharge syndrome if diagnosed           |
| Regla de programa | RkeUbXxbAxf | HIV - Assign previous date of urethral discharge if no new diagnosis             |
| Regla de programa | wKskErfCnRy | HIV - Assign the last date of vaginal discharge syndrome if diagnosed            |
| Regla de programa | o9Je9CMIOOO | HIV - Assign previous date of vaginal discharge if no new diagnosis              |
| Regla de programa | GMfpQZONK6N | HIV - Assign the last date of lower abdominal pain if diagnosed                  |
| Regla de programa | vAtYaFpk9CI | HIV - Assign previous date of lower abdominal pain if no new diagnosis           |
| Regla de programa | qJVXmzaqmCR | HIV - Assign the last date of genital ulcer disease syndrome if diagnosed        |
| Regla de programa | vzE0J0fo7F4 | HIV - Assign previous date of genital ulcer disease syndrome if no new diagnosis |
| Regla de programa | ES3S2qANfLw | HIV - Assign the last date of anorectal discharge if diagnosed                   |
| Regla de programa | pW1lTs8KeDM | HIV - Assign previous date of anorectal discharge if no new diagnosis            |

**Vertical transmission indicators (VER.1 → VER.4)**

The vertical transmission indicators (form VER.1 to VER.4 included) need to reference the day of delivery. Being a program indicators of type EVENT a Data Element reporting the last delivery date has been created as the information needed for the calculation of the indicators VER.1 → VER.4 can be collected in different visit

| Metadatos     | UID         | Nombre                                                      |
|--------------|-------------|-----------------------------------------------------------|
| Elemento de datos | s2ITWwTvqC0 | HIV - PMTCT: Last delivery date                           |
| Regla de programa | z16QguGzYY6 | HIV - Assign the date of delivery if present              |
| Regla de programa | pgb8Pr2ldfM | HIV - Assign previous last delivery date if has any value |
| Regla de programa | aPpennvPlIL | HIV - Don't assign the date of delivery if not present    |

**HEP.7 HCV cured among people living with HIV**

In both numerator and denominator the program indicator used are EVENT type therefore we need to report the last HCV treatment status as the completion of the treatment and the test to confirm a sustained virological response can happen in different visits

| Metadatos     | UID         | Nombre                                                   |
|--------------|-------------|--------------------------------------------------------|
| Elemento de datos | GSK3oZtzrMS | HIV - Viral hepatitis: Last HCV treatment status       |
| Regla de programa | C6iTbpA4n46 | HIV - Assign treatment status if present               |
| Regla de programa | jC5pahYGKuz | HIV - Assign previous last treatment status if present |
| Regla de programa | o51CPtUmxsl | HIV - Don't assign treatment status if not present     |

**CCa.4 Cervical cancer survival**

In the numerator of this indicator we need to count the WLHIV with a diagnosis of cervical cancer that are still alive and a Data Element reporting the last diagnosis has been created.

| Metadatos     | UID         | Nombre                                                        |
|--------------|-------------|-------------------------------------------------------------|
| Elemento de datos | ntKnCH7bMGR | HIV - Cervical cancer: Cervical cancer last diagnosis       |
| Regla de programa | kSfwWuCTwOu | HIV - Assign cervical cancer diagnosis if present           |
| Regla de programa | juN7w5x3gKo | HIV - Assign last cervical cancer diagnosis if present      |
| Regla de programa | YmEXnBJNKFc | HIV - Don't assign cervical cancer diagnosis if not present |

### Indicadores de programa { #program-indicators } 

**Program indicators** are used to aggregate individual-level data captured in the tracker data model; and map these to the aggregate data model for presentation, consumption and use in the DHIS2 analytics apps and dashboards. The use of the DHIS2 Data Exchange App for transferring program indicator values to aggregate data elements is described further in the section on Metadata Mapping & Data Exchange. 

Program indicators are organized into two program indicator groups: 
- *HIV Case surveillance - Data Exchange* [s7DBTTX68Lk] contains all PIs that are mapped to a corresponding target aggregate data elements for analysis. 
- *HIV Prevention - WHO standard list* [KKvBWmeIsvN] contains all PIs that are part of the WHO standard list of indicators (each PI typically represents a numerator or denominator from the SI guidelines standard list)

>**Warning**
>
>The majority of Program indicators are EVENT-based and use CUSTOM period boundaries requiring some adaptation. We have provided accurate representations of the program indicators based on the generic data model; however, It is the responsibility of the implementing organisation to decide what type of organisation unit dimension to assign to each program indicator, according to national guidelines and in consultation with end users. Please review the section on local adaptation and implementation considerations for more information on how to adjust program indicators and calculations during localization and country adaptation.

#### Key population filter in program indicators { #key-population-filter-in-program-indicators } 

As described in the section on [Hidden Data Elements & Assigned Values](#Hidden-Data-Elements-&-Assigned-Values-to-Data-Elements), program rules are used to assign and copy the TEI’s key population group recorded in the initial case report to a hidden data element field on the repeatable Visit program stage. This allows for all program indicator calculations based on key population group to be configured, namely by using the auto-assigned data element as a filter in the program indicator. 

Note that in adjusting program indicators that filter based on Key Population group, you must use the set of data elements containing the postfix “- VISIT”. 
- HIV - Key population - Men who have sex with men - VISITS [kXutCUTOxcq]
- HIV - Key population - Person who inject drugs - VISITS [GSSOfwzb0DQ]
- HIV - Key population - People living in prisons and other closed settings - VISITS [iqXxZbRDhYG]
- HIV - Key population - Sex worker - VISITS [kICLXq7IEuP]
- HIV - Key population - Trans and gender-diverse people - VISITS [vZQyUQCKSc6]

#### PLHIV currently on ART { #plhiv-currently-on-art } 

Some program indicators are required to count the number of PLHIV currently on treatment either at the current date and/or for a specific reporting period.
To be able to allow this type of calculation we need to work on two different part of the program indicators formula:
- Period boundaries
- Filter

On the period boundaries section we need to use a combination of two different CUSTOM date as we want to count all the PLHIV from the moment in which they start the ART up to the last day with treatment. Therefore the date to use are:
- Before end of reporting period: Date of treatment initiation [Lv3c5VSA9t3]
- After the start of reporting period: Last day with ART [EGjmPoKhHpM]

On the filter side we need to be able to count the ones that still will have treatment after either the end of the reporting period or the current date as could be that the current date is in the period of analysis (eg. current date is 1st of November 2023 and we are analysing the ones still on ART in the 2023)
Hereunder a snapshot of the filter:

*(d2:daysBetween(V{analytics_period_end},#{Last day with ART})>=0
|| d2:daysBetween(V{current_date},#{Last day with ART})>=0)*

#### Notable Program Indicators configuration { #notable-program-indicators-configuration } 

**HTS.1 People living with HIV who know their HIV status**
To be able to calculate this program indicator of type ENROLLMENT we need to use a CUSTOM period boundaries based on the ‘Date of HIV positive diagnosis’ as we want to count all the clients since the date of the diagnosis until either the current date, in case their still alive and in the cohort or the date of death / lost to follow-up.
To enable this counting the data element ‘HIV - Cohort date’ [ CrFaWOLSKiK] has been created and get assigned the value of the the current date in case the client is still alive / in the cohort (PLHIV) and the date of the death / lost to follow-up in case the client has dead or has been lost to follow-up.
On this way the program indicator ‘HIV CS - HTS.1 People living with HIV who know their HIV status’ [HY5WGeOQPmC] has assigned the following period boundaries:
- Before end of reporting period: Date of HIV positive diagnosis
- After start of reporting period: Cohort date
The program indicator is of type ENROLLMENT as we want to know the information collected on the last visit (DHIS2 event)

**ART.8 Appropriate second viral load test after adherence counselling**
The numerator is a program indicator of type EVENT that needs to calculate the amount of PLHIV on ART receiving a viral load test within three (3) months after a viral load test result of >=1000 copies/mL.
Data elements assigned with the date of the last viral load test conducted and the last result are used in the Program Indicator filter to compare the date of the last viral load test with the actual; if the difference is lower than three (3) months and the previous viral load result is >=1000 copies/mL then our client will be counted.
In the period boundaries the CUSTOM period boundaries with the element of ‘Viral load test date’ [v4K5u8wftrq] need to be used as we want the value returned for the actual viral load conducted and not the one within three (3) months from the previous one

**DSD.2 Uptake of DSD ART models among people living with HIV**

To be able to calculate this indicator we need to count in both numerator and denominator (program indicators of type EVENT) the clients that are newly eligible for DSD ART models.
Data element assigned with a TRUE value in case the client was not eligible in the previous visit but is eligible in the current one it’s used in the filter of the Program Indicators.

Moreover in the numerator we need to count the ones newly enrolled in the DSD ART models.  Data element assigned with a TRUE value in case the client was not enrolled in the previous visit but is enrolled in the current one it’s used in the filter of the Program Indicator.

**DSD.5 Viral suppression among people living with HIV engaged in DSD ART models**

In both numerator and denominator of this indicator we need to count the PLHIV that are enrolled in DSD ART models and that have been tested for viral load (and are suppressed). Being a program indicator of type EVENT and having the information of viral load not directly linked with the enrollment or not in DSD ART models in the data model, a data element that is gonna be auto populated with the last available DSD ART enrollment status value (true or false) has been assigned to the program indicator

**TBH.3 TB diagnostic testing type**

In the numerator we need to count only the PLHIV that has received as first TB test a WHO approved rapid molecular TB test.
A data element reporting TRUE in case the first test has been with a mWRD (Molecular WHO Recommended rapid diagnostic) test is created and reported over the following events.
Moreover another data element reporting the date of the first TB test (if is a mWRD) is created and the value reported in the following events

**STI.8 Repeat diagnosis of STI syndrome**
The reporting period of the indicator has been set-up as the “last 12 months” therefore the output will be the proportion of clients diagnosed with a particular STI syndrome two or more times within the last 12 months.

In the numerator we need to calculate the number of people attending HIV prevention services diagnosed with a particular STI syndrome two or more times. This filter relies on the hidden data elements assigned with values for ‘last diagnosis date’:
- HIV - STI: Urethral discharge syndrome last diagnosis date [DI8O2sFAjIZ]
- HIV - STI: Vaginal discharge syndrome last diagnosis date [PMYnHPcLOrg]
- HIV - STI: Lower abdominal pain last diagnosis date [fGg6Qx8AzDw]
- HIV - STI: Genital ulcer disease syndrome last diagnosis date [Nxjc5ElxwEj]
- HIV - STI: Anorectal discharge last diagnosis date [bEFauzOj4ov]

In case there is the need to add/delete any STI syndrome according to the implementation needs, the data model needs to be replicated for additional STI diagnosis; or removed from PI calculations for STI diagnoses not relevant.

**Vertical transmission indicators (VER.1 → VER.4)**

The vertical transmission indicators (form VER.1 to VER.4 included) need to reference the day of delivery. Being a program indicators of type EVENT a Data Element reporting the last delivery date has been created as the information needed for the calculation of the indicators VER.1 → VER.4 can be collected in different visit.
In the period boundaries for all the program indicators we therefore need to use the following Data Element: *HIV - PMTCT: Last delivery date*
As well on the indicator *VER.2  Early infant diagnosis (EID) coverage* we have to use the Data Element *HIV - PMTCT: Last delivery date* as the information related to HIV-exposed infant test is collected in a following visit

**HEP.7 HCV cured among people living with HIV**

In both numerator and denominator the program indicator used are EVENT type therefore we need to report the last HCV treatment status as the completion of the treatment and the test to confirm a sustained virological response can happen in different visits.
In both numerator and denominator we need to filter the treatment status by the following Data Element:  *HIV - Viral hepatitis: Last HCV treatment status*

**CCa.4 Cervical cancer survival**

In the numerator of this indicator we need to count the WLHIV with a diagnosis of cervical cancer that are still alive and the Data Element *HIV - Cervical cancer: Cervical cancer last diagnosis* [ntKnCH7bMGR] reporting the last diagnosis has been created.
This Data Element *HIV - Cervical cancer: Cervical cancer last diagnosis* is used in the filter and has the same Option Sets as the Data Element *HIV - Cervical cancer: Cervical cancer diagnosis*

## Metadata mapping & data exchange { #metadata-mapping-data-exchange } 

As described above, all the dashboards and indicators are supported by an aggregate data model. This allows for mixed methods of reporting from various electronic and paper-based sources, enabling all data to be brought together for the purpose of analysis and use such as in an integrated HMIS. 

Where target aggregate data elements can be populated by aggregating the underlying Tracker data from the HIV Case Surveillance tracker, we have pre-configured a set of program indicators and included the mapping of the target aggregate dimensions (data element UID and Category Option Combination UID). 

See [DHIS2 User documentation on how to use the Data Exchange App](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-240/exchanging-data/data-exchange.html). 

See [DHIS2 Developer documentation on the DHIS2 APIs for aggregate data exchange](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-240/data-exchange.html?h=aggregate+data+exchange+2.40#create-aggregate-data-exchange) for more information.

The metadata has been aligned to the data dictionaries and indicator references published in the WHO’s Digital adaptation kit (DAK) for HIV, second edition (see Web Annex A of the digital adaptation kit for the data dictionary). Note that the Tracker not designed to support all aspects of clinical care guidelines and case management, some of which is contained in the HIV DAK, nor to replace robust facility EMRs; however, data from EMRs can be consumed into the national HIV registry for analysis and use.

Here you can find the mapping between the DHIS2 metadata and the HIV DAK data dictionary.

## Implementation Considerations & Local Adaptation { #implementation-considerations-local-adaptation } 

This chapter describes some of the possibilities for adapting the configuration for local context and needs, as well as implementation considerations that are important for the HIV Case Surveillance use case.

### Data Privacy & Confidentiality { #data-privacy-confidentiality } 

Collecting data on key populations poses certain challenges, particularly when information is linked or shared across service providers and programmes.  All individual-level health data, including those of key populations, must be classified as sensitive personal data, or personally identifiable information, that require a high standard of safety and security. All health information systems must have robust data security and confidentiality protocols in place to safeguard data, supported by laws and policies that protect health information. The processing of personal health data must address cybersecurity, trust building, accountability and governance, ethics, equity, capacity building and digital literacy. 

Where safety and the potential to discourage access to services are a concern, the routine collection of key population information is not advised; and should be removed from the digitized DHIS2 Case Surveillance Tracker Program. Similarly, before capturing personally identifiable data such as client name, birth date and other indirectly identifiable data, a risk assessment and security review of the electronic systems and SOPs for all users must be reviewed and gaps addressed. 

### Tracker structure adaptation { #tracker-structure-adaptation } 

The HIV Case Surveillance tracker structure is mostly a flat structure with only one main repeatable stage to record activities for any type of prevention visit. This intentionally simplified structure allows for increased flexibility for local adaptation and customization. For example: 
- Sections can be easily translated in stages in case different user have to entered different information (as detailed previously the HIV Case Surveillance service are very transversal and can have several actors involved on the distribution of the services)
- Reduced amount of program rules and well identified by the section targeted
- If a specific activity (HIV care intervention, such as cervical cancer) is not relevant to your country’s package of HIV care and treatment services offered, you can simply remove an entire section without repercussions on the rest of the data model. 

#### Integration of HIV Case Surveillance and HIV Prevention tracker { #integration-of-hiv-case-surveillance-and-hiv-prevention-tracker } 

Depending on local context, some implementations may wish to integrate prevention and case surveillance into a single DHIS2 Tracker Program. An integrated tracker design option was considered for the global design guide, but ultimately discarded in favor of two Tracker programs for the following reasons:
- Scale: the number of persons (TEIs) enrolled in a prevention program is likely to be much, much greater than the number of persons (TEIs) diagnosed as positive and enrolled in a Case Surveillance program. This may have an impact on performance and also requires adequate server infrastructure for large-scale Tracker deployment.
- Types of service providers: in many country contexts, a large scale and variety of service providers may be engaged in HIV prevention services, such as community health workers, NGOs/CSOs as implementing partners, etc. Often these prevention service providers are not responsible for following up the HIV case through lifelong treatment and should not have access to the client’s health data after being identified as an HIV positive client. Therefore, separating the Tracker programs suits the variety and helps to ensure protection & data confidentiality of people living with HIV. 
- Indicators included in the WHO SI guidelines and DAK do not necessitate ‘cross-program’ analysis; all indicators can be generated within DHIS2 using two separate programs.
- A typical workflow from prevention services to HIV case surveillance is well supported by closing the enrollment in a DHIS2 prevention tracker program and opening a new enrollment in the case surveillance program. The person (TEI) is linked to both Prevention and Case Surveillance programs in case ad hoc analysis will be required for advanced programmatic data analysis conducted outside of DHIS2. 

An integrated design can be implemented leveraging many of the existing DHIS2 metadata, such as the Tracker data element library. Both Tracker programs follow a similar structure with initial case report and integrated, repeatable ‘visit’ stage for all follow-up thereafter. 
Tracker metadata that are common between the HIV prevention and HIV case surveillance trackers are shared between the two programs (using the same UIDs) as follows:
- All Tracked Entity Attributes: all the TEAs are the same
- Initial case report: the Data Elements related to the Key population identification are the same
- Visit stage:
  - STI data elements are the same
  - Viral hepatitis: Data Elements related to the testing, date and result are the same 

![Structure for an integrated Prevention/Case Surveillance Tracker Program](/resources/images/integrated_prev_cs_structure.jpg)

### Analytics & Indicator Calculations { #analytics-indicator-calculations } 

#### Ownership Analytics { #ownership-analytics } 

From DHIS2 v40, new functionality is available that allows for program indicator calculations to be made based on the ‘ownership’ org unit of a given enrollment. For example, you can count the number of unique clients that are receiving HIV prevention services at a facility even if they were not originally enrolled in care at that facility or officially transferred.

Program indicators can define which **organisation unit dimension** to be used in analytics. Choices include the organisation unit for the event, enrollment, registration, organisation unit data element and tracked entity instance ownership at the start or end of the reporting period. Ownership analytics apply only to program indicators configured *based on enrollment*.

More detailed guidance about Ownership Analytics can be found in the [Tracker Design Guide](https://docs.dhis2.org/en/implement/database-design/tracker-system-design/tracker-analytics.html#common-challenge-3-transfers-and-ownership).

>**Note:**
>
>for implementations using DHIS2 software version 2.39 or lower, program indicators generated at any level below national will not reflect the current ‘ownership’ org unit. This means that if a TEI (person) who has been permanently transferred from one organisation unit (Health Facility A) to another (Health Facility B) for a given Tracker program enrollment *will still be counted as belonging to Health Facility A* for the purposes of program indicators. In practical terms, this means that when a patient has moved between sites, all longitudinal indicators for this patient are not re-assigned to the patient’s latest site, and remain assigned to the initial site where the patient first entered the program. This is a critical limitation for typical HIV use cases, where site level performance metrics such as lost-to-follow-up must be generated accurately at a subnational or facility level. If your implementation uses DHIS2 v2.39 or lower, please review your configuration carefully to see if you have accounted for the exclusion of persons ‘transferred out’ based on the org unit enrollment ownership.

#### Event date vs Custom date { #event-date-vs-custom-date } 

As previously described, a set of dates are requested for all these activities that can be carried out beyond an HIV prevention service but which information is still relevant for a comprehensive, person-centred management and reporting system.

The large majority of Program Indicators use this date in both period boundaries (as CUSTOM date) and/or in the filter. In case the implementation decide to use the event date (‘visit date’) as the default date for any of the activities, this will need to be reflected as well on the Program indicators

#### Tracker Data Analysis { #tracker-data-analysis } 

For authorised users with access to personally identifiable data captured through the HIV Case Surveillance tracker program, additional ad hoc analysis of tracker data can be achieved using the Line-list app and configuring working lists as part of the DHIS2 tracker program (note: only for users that have access to the Capture app for data collection). 

In general, it is recommended to serve routine analytics for program monitoring through the aggregate data model, using program indicators and data exchange services, as implemented in this design. In part, this is because the aggregate data model in DHIS2 provides optimised dimensionality for analysis (e.g. the ability to slice and filter by Categories & CatCombos in Data Visualizer app). This also allows for more performant analytics, as running queries on large databases containing years worth of individual data can create unnecessary stress on the server. 

Ad hoc analyses and individual level mining is typically restricted only to authorised public health users (such as HIV programme data managers) for advanced analyses; and users at the service delivery point (facility) for conducting operational follow up activities, contacting clients, or performing basic routine data quality checks & analyses on the individual level data they are responsible for collecting.

### Operationalizing variables for key populations { #operationalizing-variables-for-key-populations } 

Some countries have experienced difficulties defining whether people seeking services belong to a given key population, considering that disclosure may put them at risk for discrimination, stigmatization and, in certain contexts, legal punity.

To facilitate the operationalization of key population definitions, the following table from the “[Framework for Monitoring HIV/STI Services for Key Populations in Latin America and the Caribbean](https://www.paho.org/en/documents/framework-monitoring-hivsti-services-key-populations-latin-america-and-caribbean-2019)” offers a sensitive and specific tool to standardise the collection of information through a minimum set of variables which allows for the categorization of persons into key population groups. This tool can be integrated into the DHIS2 Prevention Tracker by configuring an additional set of data elements that follow the structure of the questionnaire:

![PAHO Questionnaire for operationalizing key population variables](resources/images/PAHO_questions_key_pop.png)

According to the data collected from the questionnaire, the client can be identified in one or more groups due to the overlapping practices and vulnerabilities. A country may have other key population and definitions; therefore, it is expected that the tool should be adapted according to the national context. The assignment of a person to a given key population group can be achieved using program rules to assign a value to the core data elements for Key Population groups included in the DHIs2 prevention tracker metadata.

![PAHO interpreting responses for monitoring and data analysis](resources/images/PAHO_key_pop_answers.png)

## Referencias { #references } 

WHO (2022). Consolidated guidelines on person-centred HIV strategic information: strengthening routine data for impact [https://www.who.int/publications/i/item/9789240055315](https://www.who.int/publications/i/item/9789240055315)

UNAIDS (2022) IN DANGER: UNAIDS Global AIDS Update 2022. Geneva: Joint United Nations Programme on HIV/ AIDS [https://www.unaids.org/en/resources/documents/2022/in-danger-global-aids-update](https://www.unaids.org/en/resources/documents/2022/in-danger-global-aids-update)

