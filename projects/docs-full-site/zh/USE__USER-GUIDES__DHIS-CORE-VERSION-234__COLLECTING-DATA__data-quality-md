---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/2.34/src/user/control-data-quality.md"
revision_date: "2021-06-14"
---

# 控制数据质量 { #control_data_quality }

## 关于数据质量检查 { #about_data_quality }

**数据质量**应用程序包含用于验证系统中数据的准确性和可靠性的工具。您可以评估下表中概述的数据质量的不同维度：

 <table>
 <colgroup>
 <col style="width: 50%" />
 <col style="width: 50%" />
 </colgroup>
 <thead>
 <tr class="header">
 <th> <p>尺寸</p> </th>
 <th> <p>说明</p> </th>
 </tr>
 </thead>
 <tbody>
 <tr class="odd">
 <td> <p>正确</p> </td>
 <td> <p>数据应在该设施收集的数据的正常范围内。与来自相关数据元素的数据相比，应该没有明显的差异。 </p> </td>
 </tr>
 <tr class="even">
 <td> <p>完整性</p> </td>
 <td> <p>应该已经提交了所有报告组织单位的所有数据元素的数据。 </p> </td>
 </tr>
 <tr class="odd">
 <td> <p>一致性</p> </td>
<td><p> 数据应与前几个月和几年中输入的数据保持一致，同时允许进行重组，增加工作量等方面的更改，并与其他类似设施保持一致。</p></td> 
 </tr>
 <tr class="even">
 <td><p> 及时性 </p></td>
 <td><p>来自所有报告组织单位的所有数据都应在指定的时间提交。 </p></td>
 </tr>
 </tbody>
 </table>

您可以通过多种方式验证数据质量，例如：

-   在数据输入点，DHIS 2 可以检查输入的数据，看看它是否落在该数据元素的最小最大值范围内（基于所有先前注册的数据）。

-   通过定义验证规则，一旦用户完成数据输入就可以运行这些规则。用户还可以根据验证规则检查特定时期和组织单位的输入数据，并显示这些验证规则的违规情况。

-   通过分析数据集，即检查数据中的差距。

-   通过数据三角测量，即比较不同来源的相同数据或指标。

## 验证规则分析 { #validation_rule_analysis }

### 关于验证规则分析 { #about-validation-rule-analysis }

验证规则基于定义关系的表达式
数据元素值之间。该表达式形成一个条件
应该断言满足某些逻辑标准。

该表达式包括：

-   左侧

-   右边

-   操作员

验证规则可以断言“已测试的疑似疟疾病例”\>=“已确诊的疟疾病例”。

验证规则分析针对数据测试验证规则
在系统中注册。当
验证规则表达式中定义的条件不满足，其中
表示条件为假时。

您可以配置验证规则分析，以将有关验证违规的信息自动发送给选定的用户组。这些消息称为_validation notifications_，您可以在**维护**应用中创建它们。验证通知是通过内部DHIS 2消息系统发送的。

### 工作流程 { #workflow }

1.  在**维护**应用中，创建验证规则和验证规则组。

2.  （可选）在**维护**应用中，创建验证通知。

3.  自动或手动运行验证规则分析。

    -   在 **Scheduler** 应用程序中，您可以安排验证规则分析自动运行，以针对一个或多个验证规则组中包含的所有验证规则运行。系统运行分析后，您将在通过内部 DHIS 2 消息系统发送的验证通知中看到验证违规（如果有）。

    -   在**数据质量**应用中，您可以针对选定的验证规则手动运行验证规则分析。分析过程完成后，您将看到验证违规列表（如果有）。

### 安排验证规则分析以自动运行 { #schedule-a-validation-rule-analysis-to-run-automatically }

> **注意**
>
> 只有包含在一个或多个验证通知中的验证规则才会成为验证规则分析的一部分。如果验证规则没有对应的验证通知，则不会发送通知。

> **注意**
>
> 自动运行验证规则分析时，任何尚未保留的结果都将在此运行期间保留。目前只能通过 API 访问持久结果。有关如何访问持久验证规则违规的更多信息，请参阅开发人员指南。

1.  验证您是否已创建所需的所有验证规则、验证规则组和验证通知。

2.  打开** Scheduler **应用程序，然后单击右下角的添加按钮。

3.  为新作业选择合适的名称。

4.  使用下拉菜单选择**监控**作业类型。

5.  选择作业的运行频率，即作业应在何时以及多久运行一次。

6.  填写**参数**部分，包括 验证 规则组。

7.  按**添加作业**按钮以确认作业创建。有关添加作业的更多信息，请参见[Scheduling]（data-administration.html＃scheduling）。

### 手动运行验证规则分析 { #run-a-validation-rule-analysis-manually }

![](resources/images/data_quality/validation_rule_analysis.png)

1.  验证您是否已创建所需的所有验证规则、验证规则组和验证通知。

2.  打开**数据质量**应用，然后单击**验证规则分析**。

3.  选择**开始日期**和**结束日期**。

4.  选择要包括在分析中的**验证规则组**。

    您可以选择所有验证规则或单个验证规则组中的所有验证规则。

5.  （可选）选择**发送通知**以触发验证通知。

    > **Note**
    >
    > If you want to send out validation notifications, you must first create them in the **Maintenance** app.

6.  （可选）选择_保留新结果_以保留分析过程中发现的任何非保留结果

7.  选择一个**父级组织单位**。

8.  点击**验证**。

    分析过程的持续时间取决于分析的数据量。如果没有违反验证规则的情况，您将看到一条_验证成功通过_的信息。如果存在违反验证规则的情况，则会以列表形式显示。

    ![](resources/images/data_quality/validation_rule_analysis_result.png)

9.  （可选）单击显示详细信息图标以获取有关验证违规的更多信息。在弹出窗口中，您将找到有关验证规则中包含的数据元素及其相应数据值的信息。您可以使用此信息来识别验证规则违规的来源。

10. （可选）单击 **下载为 PDF**、**下载为 Excel** 或 **下载为 CSV** 以下载 PDF、Excel 或 CSV 格式的验证违规列表。

### 也可以看看 { #see-also }

-   [管理验证规则](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html)

-   [数据管理应用](https://docs.dhis2.org/master/en/user/html/data_admin.html)

## 标准差离群分析 { #standard_deviation_analysis }

### 关于标准偏差离群分析 { #about-standard-deviation-outlier-analysis }

标准偏差离群分析确定的值是
与其余数据在数值上相距遥远，可能表明它们是异常值。
该分析基于标准正态分布。 DHIS 2计算
组织单位，数据元素，类别选项的所有值
组合和属性选项组合。异常可能发生
当然有机会，但可能表示测量或数据输入错误。

> **注意**
>
> 如上所述，该数据质量分析仅适用于实际正态分布的数据。具有较大季节性变化的数据，或者可能根据其他统计模型（例如逻辑）分布的数据可能会导致标记出实际上应被视为有效的值。因此，建议在运行标准差异常值分析之前首先确认数据是否确实服从正态分布。

### 运行标准偏差离群分析 { #run-a-standard-deviation-outlier-analysis }

![](resources/images/data_quality/std_dev_analysis.png)

1.  打开**数据质量**应用，然后点击**标准开发者异常值分析**。

2.  选择**从日期**和**到日期**。

3.  选择数据集。

4.  选择**父组织单位**。

    该组织单位的所有子级都将包括在内。分析是对上级组织单位“下”的原始数据进行的，而不是对汇总数据进行的。

5.  选择标准偏差数。

    这是指在将数据分类为异常值之前允许数据偏离平均值的标准差数。

6.  点击**开始**。

    分析过程持续时间取决于正在分析的数据量。如果存在标准差异常值，它们将显示在列表中。

    ![](resources/images/data_quality/std_dev_analysis_outlier_result.png)

    对于每个异常值，您将看到数据元素、组织单位、期间、最小值、实际值和最大值。最小值和最大值是指从为分析选择的标准差数量得出的边界值。

> **提示**
>
>单击星号以标记异常值，以进行进一步的跟踪。

## 最小最大离群值分析 { #min_max_analysis }

### 关于基于最小最大值的离群分析 { #about-minimum-maximum-value-based-outlier-analysis }

您可以通过设置一个
每个数据值的最小/最大值范围。您可以定义值
手动设置范围或自动生成它们。

自动生成的最小值最大值范围仅适用于正态分布的数据。 DHIS2将确定给定数据元素，类别选项，组织单位和属性组合的所有值的算术平均值和标准偏差。然后，系统将根据在**系统设置**应用中指定的**数据分析标准差因子**计算最小最大值范围。

对于高度偏斜或零膨胀的数据（通常是这种情况）
包含汇总数据），DHIS2自动生成的值可能不会
提供准确的最小最大值范围。这可能导致
过多的虚假违规行为，例如，如果您分析与
季节性疾病。

> **注意**
>
> 跨给定数据元素、类别选项和组织单位组合的所有属性组合选项计算最小最大值范围。

### 工作流程 { #workflow }

1.  自动或手动创建最小最大值范围。

    -   在**数据管理**应用程序中，您会自动生成值范围。

    -   在**数据输入**应用中，您可以手动设置值范围。

2.  在**数据质量**应用中，运行**最小-最大离群值分析**。

### 配置最小最大离群值分析 { #configure-a-minimum-maximum-outlier-analysis }

#### 自动创建最小值最大值范围 { #create-minimum-maximum-value-range-automatically }

![](resources/images/data_quality/generate_min_max.png)

> **注意**
>
> 自动生成的最小最大值范围在许多情况下都很有用，但建议在使用此函数之前验证数据实际上是否呈正态分布。

您将生成由**数据管理**应用程序中的数据集计算得出的最小最大值范围。新的值范围将覆盖系统先前计算的任何值范围。

1.  设置**数据分析标准偏差（std dev）系数**：

    1.  打开**系统设置**应用，然后单击**常规**。

    2.  在“**数据分析标准差因子**字段中，输入一个值。

        这设置了异常值分析中使用的标准差数量。默认值为 2。值较高表示分布范围更广，这可能会导致分析无法正确标记异常值。

2.  打开**数据管理**应用程序，然后单击**最小-最大值生成**。

3.  选择数据集。

4.  选择一个**组织机构**。

5.  点击**生成**。

    为所选组织单位的所有组织单位（包括后代）生成所选数据集中的所有数据元素的新最小最大值范围。

#### 手动创建最小值/最大值范围 { #create-minimummaximum-value-range-manually }

![](resources/images/data_quality/set_min_max_manually.png)

1.  在**数据输入**应用中，打开一个数据输入表单。

2.  双击要为其设置最小/最大值范围的字段。

3.  在出现的对话框中输入**最小限制**和**最大限制**。

4.  点击**保存**。 

    如果下次输入数据时值不在新值范围内，则数据输入单元格将以橙色背景显示。

5.  （可选）键入注释来解释差异的原因，例如可能产生大量客户的设施中的事件。

6.  （可选）点击**保存评论**。

> **提示**
>
>单击星号图标以标记该值以进行进一步跟踪。

#### 删除最小最大值范围 { #delete-minimum-maximum-value-range }

您可以在**数据管理**应用程序中永久删除所选数据集和组织单位的所有最小最大值范围。

1.  打开**数据管理**应用程序，然后单击**最小-最大值生成**。

2.  选择数据集。

3.  选择一个**组织单位**。请注意，选择将级联到下属组织单位！

4.  点击**删除**。

### 运行最小最大离群值分析 { #run-a-minimum-maximum-outlier-analysis }

![](resources/images/data_quality/min_max_analysis.png)

1.  确认您已创建最小最大值范围。

2.  打开**数据质量**应用，然后单击**最小-最大离群值分析**。

3.  选择**从日期**和**到日期**。

4.  选择要包含在分析中的数据集。

5.  选择**父组织单位**。

    该组织单位的所有子级都将包括在内。分析是对上级组织单位“下”的原始数据进行的，而不是对汇总数据进行的。

6.  点击**开始**。

    分析过程持续时间取决于正在分析的数据量。如果存在验证违规，它们将显示在列表中。

    ![](resources/images/data_quality/min_max_result.png)

7.  （可选）单击 **下载为 PDF**、**下载为 Excel** 或 **下载为 CSV** 以下载 PDF、Excel 或 CSV 格式的列表。

> **提示**
>
>单击星号图标以标记该值以进行进一步跟踪。

## 后续分析 { #follow_up_analysis }

### 关于后续分析 { #about-follow-up-analysis }

后续分析将创建一个标记为后续的所有数据值的列表。您可以在**数据输入**应用程序中将数据标记为后续数据，并在结果列表中从标准偏差离群值或最小最大离群值分析中获得。

### 创建标记为后续数据值的列表 { #create-list-of-data-values-marked-for-follow-up }

![](resources/images/data_quality/follow_up_analysis.png)

1.  打开**数据质量**应用，然后单击**后续分析**。

2.  选择一个或多个数据集。

3.  选择上级**组织单位**。

    分析过程持续时间取决于正在分析的数据量。如果有标记为后续的数据值，它们将显示在列表中。

4.  选择一个**开始日期**和**结束日期**，它们定义了您想要查找标记为要跟踪的值的期间。

5.  按 **跟进** 生成已标记为跟进的值列表。

6.  （可选）单击 **下载为 PDF**、**下载为 Excel** 或 **下载为 CSV** 以下载 PDF、Excel 或 CSV 格式的验证违规列表。

![](resources/images/data_quality/follow_up_analysis_result.png)

> **提示**
>
> 单击星号图标可从数据值中删除后续标签。您还可以在字段中输入注释以指示有关该值的任何其他信息。
