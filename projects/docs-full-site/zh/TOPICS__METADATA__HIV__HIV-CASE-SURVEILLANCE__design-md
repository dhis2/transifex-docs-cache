---
edit_url: "https://github.com/dhis2-metadata/HIV_CS/blob/master/docs/hiv_cs-design.md"
revision_date: '2023-12-15'
tags:
- 元数据
---

# HIV Case Surveillance System Design { #hiv-cs-design }

## Background and Purpose { #background-and-purpose } 

The Case Surveillance component of the DHIS2 Toolkit for HIV is based on the latest WHO [Consolidated guidelines on person-centred HIV strategic information: strengthening routine data for impact](https://www.who.int/publications/i/item/9789240055315) (2022) and the Digital adaptation kit for HIV: operational requirements for implementing WHO recommendations and standards within digital systems, second edition.

This toolkit includes:

- DHIS2 HIV Case Surveillance Tracker program aligned with the WHO Digital adaptation kit data standards for individual level data collection and operational person-centred monitoring at facility and community levels
- WHO-recommended dashboard analyses and core indicators for monitoring HIV care and treatment initiatives and using key metrics to adjust programming & drive impact 
- Aggregate data sets and data elements to model aggregated tracker data for performant, anonymized analytics 
- Data exchange mapping for aggregating DHIS2 Tracker data for HIV Case Surveillance indicators and integration of key indicators with national HMIS

The HIV toolkit is optimised for improving strategic information systems in countries to facilitate data-driven decision-making, as well as streamlining routine data management processes. The DHIS2 HIV Case Surveillance Tracker is not designed to provide clinical decision-support for HIV care and treatment services, but rather serves as an operational tool and a source of individual level data for monitoring the HIV response. 

The system design document explains the reference configuration in DHIS2 for the HIV Case Surveillance use case, including a detailed description of DHIS2 Tracker configuration, dashboard design, use of program indicators, mapping of tracker data to the aggregate data model, and data exchange mechanisms. This document also does not consider the resources and infrastructure needed to implement such a system, such as servers, power, internet connections, backups, training and user support, which can be found in the [DHIS2 Tracker Implementation Guide](https://docs.dhis2.org/en/implement/tracker-implementation/target-audience.html).

Reference metadata for this toolkit is available at: [dhis2.org/metadata-downloads](https://dhis2.org/metadata-downloads/).

### Acknowledgements { #acknowledgements } 

The HIV Case Surveillance toolkit has been developed in partnership with the WHO Global HIV Programme and the Pan American Health Organization (PAHO) with support from The Global Fund. We are grateful to WHO and PAHO for providing subject matter expertise in the design and development of these tools, as well as to the many countries who have shared their implementation experience with us

## System design overview { #system-design-overview } 

### 背景 { #background } 

Background
Efforts to end the HIV epidemic by 2030 face persistent challenges, with 1.3 million new infections in 2022 alone. Key populations and their sexual partners constituted 70% of global new infections in 2021 (UNAIDS, 2022), highlighting barriers to equitable access. Paramount importance is to emphasise routine programmatic data for tracking service delivery, identifying individuals at elevated risk for HIV acquisition, and achieving universal access through a person-centred approach. Confidentiality and data privacy is crucial, especially for vulnerable populations that may face stigma and discrimination in many settings, necessitating a cautious approach to individual-level data collection and anonymization for data use needs above the service delivery level.

A person-centred monitoring approach offers distinct advantages for longitudinal HIV data collection that can track and record HIV care and treatment services provided to an individual over time and space (e.g. different service delivery sites and touchpoints with HIV care and treatment programmes). Scaling up individual level data collection allows for flexible disaggregation and enhanced analysis by various factors such as time, location, age, gender, clinical status, coinfections, treatment and more. This depth of information enhances our understanding of HIV epidemiology and facilitates ongoing monitoring of trends. Implementation of case-based electronic data is anticipated to enhance data quality by minimising data entry steps, integrating automatic calculations and validations, swiftly correcting or completing inconsistent or incomplete individual records, and facilitating de-duplication.

However, in most LMICs, the digitization of individual-level data systems managed by Ministries of Health often takes years to reach scale, and must be matched by substantial in-country resources to sustain the system over time. Furthermore, historical data and other programmatic data are often collected or represented through the aggregate data model – such as denominators based on Spectrum estimates for people living with HIV and aggregated reporting from paper-based service delivery sites with low/no connectivity, limited availability of devices and/or weak infrastructure. 

Therefore, the HIV Case Surveillance toolkit leverages all DHIS2 applications and data models to support practical, implementable approaches to collecting, analysing and using HIV Case Surveillance data effectively to manage and link newly identified HIV cases amd those re-engaging in care into treatment programs and to ensure a proper monitoring of people living with HIV. These tools can be used in a modular way to meet the needs of any country along the maturity model for digitization of health data – including hybrid implementation of paper-based and digitised systems, as well as incorporating data from other electronic tools like hospital EMRs where these may be used.

### Use Case { #use-case } 

The HIV Case Surveillance toolkit is designed to support routine data collection for programmes that support people living with HIV to enrol in a HIV program and receive HIV testing, care and treatment services. The system is designed to bring data together to generate granular HIV Case Surveillance indicators and their disaggregations for routine data analysis, person-centred monitoring and strategic information through flexible dashboards and ad-hoc analysis with DHIS2 analytics tools. 

The data capture components of the system design allows for staff at service delivery sites, or higher levels depending on local contexts, to capture the core data elements during routine interactions with HIV  care and treatment programme participants that will allow programme staff to generate key performance indicators as detailed in WHO’s [Consolidated guidelines for person-centred HIV strategic information (WHO, 2022)](https://www.who.int/publications/i/item/9789240055315). This component uses the DHIS2 Tracker data model. While DHIS2 HIV Case Surveillance tracker program is not optimised to support clinical case management or decision support, it serves as a useful electronic registry that supports decentralised electronic data capture of Case Surveillance data down to health facility or any other point of service from all types of actors, including services delivered at the community level. Individual level tracker data are aggregated using DHIS2 program indicators; which are mapped to aggregate data elements and data sets for populating core indicators and serving the analytical dashboards with anonymized data. 

The DHIS2 tracker program structure has been harmonised and follows the same logic as the HIV prevention Tracker, allowing for a person enrolled in a prevention program to enter the Case Surveillance program with a positive HIV diagnosis. In some contexts, it may be desirable to integrate prevention and Case Surveillance into a single tracker program. Harmonisation of data elements between the two trackers will allow for local adaptation and integration, described further in the ‘Implement’ section of this document. 

#### 目标用户 { #intended-users } 

The HIV Case Surveillance system design focuses on meeting the needs of end users at all levels of the health system, including those responsible for implementing HIV programmes in countries. These users may include:

- **HIV program managers & staff (national & sub-national)**: data users who are responsible for routine analysis of data, using data to improve operations and programme strategies, and providing data-driven feedback to programme staff, including implementing partners, facilities, and other service delivery points
- **HIV programme data managers**: users who are responsible for overseeing data collection, management, data quality, analysis and reporting functions for the national HIV programme
- **System admins/HMIS focal points**: MOH staff and/or core DHIS2 team responsible for maintaining and improving data systems for health programmes, integrating data streams into national platforms, providing technical support for system design, adaptation and end user support; and maintaining the DHIS2 system over time
- **Service delivery sites**: Staff at service delivery sites may use the DHIS2 Tracker program to record data for routine visits, as well as use DHIS2 tools like working lists and line-lists to follow up with clients and monitor individual-level uptake of services. 
- **Implementing partners**: organisations who provide technical assistance to the national HIV programme, collect and analyse data on behalf of the overall national programme strategy, and may be responsible for the operations of service delivery networks such as HIV counselling, educational outreach, community health workers.

### Design Structure { #design-structure } 

The DHIS2 HIV Case Surveillance configuration is structured in three major components:

- **Tracker program**: a DHIS2 tracker program has been configured for individual-level, longitudinal data collection. The tracker program can be used with the DHIS2 web or Android clients.
- **Dashboards & Indicators**: the HIV Case Surveillance dashboards and indicators are all served by the aggregate data model in DHIS2. Case Surveillance dashboards are shared with the HIV HMIS module. 
- **Aggregate data sets**: aggregate datasets, data elements and associated category combinations are configured according to the WHO’s HIV analysis framework to populate the core indicators. Three datasets are designed to receive aggregated tracker data (e.g. via program indicators) and model this data in a performant way, leveraging the advantages of the aggregate data model in DHIS2 for analysis. Alternatively, these datasets can also be used for aggregate paper-based reporting; or to store data reported routinely from other individual-level data systems in use, such as sites using EMRs or other mobile applications.
  - HIV Case Surveillance (monthly)
  - HIV Case Surveillance (yearly)
  - Population estimates 

These modular components are designed based on the heterogeneous nature of HIV data systems in countries and support the typical architecture for implementing case-based data systems alongside integrated national HMIS infrastructure: 

![HIV illustrative architecture](resources/images/hiv_architecture_simple.png)

## 追踪器 { #tracker } 

### Tracker Program Structure { #tracker-program-structure } 

The tracker program structure is as follows:

![Case Surveillance tracker structure](resources/images/case_surveillance_program_structure.png)

| **Stage**           | **描述**                                              |
| ------------------- | ------------------------------------------------------------ |
| 注册          | The enrollment stage collects the basic demographic data about a person, including unique identifiers, as Tracked Entity Attributes (TEAs). Several of these core TEAs such as Family Name and Given name are shared across DHIS2 Tracker programs. The Tracked Entity Type for the HIV Case Surveillance program is ‘Person’. **The stage is non-repeatable.** |
| Initial case report | The stage can be filled at the same time as the enrollment of the patient.This stage contains the information related to HIV diagnosis, probable route of transmission and key population groups. **The stage is non-repeatable.** |
| Visit               | Main stage that collects all the information necessary for the follow-up of the patient and the program. **The stage is repeatable** |
|Follow-up | This stage is not tied to any indicators and is purely designed as a tool for recording any contact made with patients who have missed treatment visits and will need to be contacted. **The stage is repeatable**|

### 追踪实体类型 { #tracked-entity-type } 

The DHIS2 HIV Case Surveillance tracker program allows for the enrollment of a tracked entity type [TET] ‘person’ into the HIV Case Surveillance program. The TET type is shared with the HIV Prevention tracker to allow enrollment of the same TEI in both programs, in the case that a person receiving prevention services receives a positive HIV diagnosis.

### 注册 { #enrollment } 

It is assumed that the HIV Case Surveillance workflow begins by enrolling any person with a confirmed HIV positive status.

When a person is enrolled in the HIV Case Surveillance program as a Tracked Entity Instance (TEI), Tracked Entity Attributes (TEA) are recorded to form the case profile. All TEAs are aligned and harmonised with those included in the HIV Prevention tracker allowing for enrollment in both programs or for integration into a single tracker program if desired at the local implementation level. Note that several TEAs are shared across non-HIV DHIS2 Tracker programs; these are configured with a prefix ‘GEN’ (general) to indicate they are shared between tracker programs. Check out the [Common Metadata Library](https://docs.dhis2.org/en/topics/metadata/dhis2-who-digital-health-data-toolkit/common-metadata-library/design.html) for more information on shared tracker metadata.

The TEA **program UID** attribute refers to an HIV program specific identifier. It has been kept intentionally blank as coding processes are dependent on local context. Refer to the [DHIS2 User Documentation on configuring system-wide unique identifiers as DHIS2 TEAs](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-238/configuring-the-system/programs.html#create_tracked_entity_attribute:~:text=Select%20Unique%20to,same%20organisation%20unit.). The use of anonymous UID codes allows individuals accessing HIV prevention services to be uniquely identified and followed longitudinally, without the collection of other types of personally identifying information (WHO, 2022).

The **date of birth and age** can be assigned in two different ways:

- Known date of birth: select the Date of birth
- Unknown date of birth: select the Date of birth *Unknown* option and then enter the age either in years or months.

Once done, a 'probable' age of birth is assigned to the Date of birth based on the value entered either on the years or month TEA.

![Date of Birth](resources/images/date_of_birth_unknown.gif)

>**Note:**
>
>The date of birth is configured as mandatory; it must always have a value because it is used in the calculation of all program indicators involving age groups

### Stage 1: Initial case report (non-repeatable) { #stage-1-initial-case-report-non-repeatable } 

The data acquired at this stage pertains to HIV diagnosis related information and the identification of clients belonging to one or multiple key population groups. 

Program rules have been configured to populate the age of HIV diagnosis based on the difference between the age of birth and the date of HIV diagnosis.

Concerning the key population information we recommend implementations to refer to WHO’s 2022 [Consolidated guidelines on person-centred HIV strategic information](https://www.who.int/publications/i/item/9789240055315), and specifically sections 2.2.2 for guidance on collecting information on key populations for prevention interventions to allow for this disaggregation, further considerations in section 5.1.1, and section 6.4 on maintaining data privacy, security and confidentiality as it relates to key population data captured.

![Initial case report](resources/images/initial_case_report.png)

Details of the HIV diagnosis and key population data is collected as a program stage in order to further protect the sensitive nature of this data. Specifically, by including this data only in the program stage, it is not accessible for searching a TEI – where users may have broader access to search for clients. 

In some implementations, instead of having the different key population groups listed as selectable categories, a set of questions has been proposed and according to the answer a key population identification is assigned to the clients. *See the section Implementation Considerations & Local Adaptation*.

For an individual enrolled in an HIV Case Surveillance program, it is possible that their association with a key population group may change over time, as an individual’s risk of HIV acquisition, participation in high risk behaviours, and HIV prevention needs vary over time. The program stage is intentionally designed as non-repeatable to allow optimised analytics based on the key population group. However, a user may revisit this stage and modify the key population groups as needed.

### Stage 2: Visit [repeatable] { #stage-2-visit-repeatable } 

#### Configuration of Dates { #configuration-of-dates } 

This repeatable program stage captures all information relevant to visits/encounters for the person receiving HIV care and treatment services, regardless of which type of service they access. It allows for capturing multiple types of services provided in a visit. This is integral for a comprehensive, person-centred management and reporting system. 

In this program stage, the DHIS2 program ‘event date’ (or default ‘report date’ in the Maintenance app for program configuration) has been renamed to represent ‘Visit date.’ This means that all analytics based on the event date will evaluate based on the date of the person’s encounter (visit) with the HIV care and treatment service provider.

![DHIS2 Event Date](resources/images/event_date_visit_date.png)

In addition to the visit date, additional key dates have been configured as Tracker domain data elements related to these activities (e.g. ART initiation, STI test date, etc.) and these should be reported to enable additional time-based analytics.

#### Visit details { #visit-details } 

The initial Visit Details section allows the user to report the patient status at the visit and as well select which HIV testing, care and treatment services will be recorded for this visit report. 

The patient's HIV status is key information that needs to be reported at every visit and is used in most of the indicators present in the program.
The set of options assigned is:

- PLHIV: the client is alive and is part of the cohort
- Death (documented): the client is dead
- Lost to follow up: the client is lost to follow up

In case ‘death’ or ‘follow up’ is selected, the relatives date of dead and declaration of lost to follow-up are requested

>**Note:**
>
>The recommended threshold for designation of people living with HIV on ART as lost to followup is >28 days after the last missed appointment or last ARV refill, to account for differentiated service delivery (DSD) for ART. See chapter 3 of WHO's 'Consolidated guidelines on person-centred HIV strategic information' for additional information.

A series of program rules will show/hide the desired sections depending on which type of HIV care details will be recorded. It is generally assumed that the user will create a new Event in the Visit stage for each time they interact with a service provider, regardless of how many HIV care services they access during the visit. 

The ‘Currently pregnant’, ‘Cervical cancer’ and ‘Vertical transmission’ will only show for PLHIV enrolled with TEA ‘Sex assigned at birth’ as ‘Female’ or ‘Other’, based on program rules. 

![Visit details section and selection of HIV care services](resources/images/visit_details_selections.gif)

>**Note:**
>
>Hiding a section does not erase the data that are recorded there and all the program indicators are NOT filtered by the selection or not of the section. In case there are any data that has been mistakenly entered, they will need to be removed manually one by one and not simply de-selecting the section

#### Treatment { #treatment } 

The treatment section is always shown and doesn’t need to be selected from the ‘Visit details’ section as ART treatment is the central pillar on the management of PLHIV.

The main and mandatory information to be reported is the treatments status in which, according to the current status of the patient at the visit, a set of options has been assigned:

- **Initiation (new)**: PLHIV starting ART for the first time in their life
- **Initiation (after stopping)**: PLHIV restarting the ART after a period of interruption.
- **On ART**: PLHIV already on ART at the moment of the visit
- **Refused treatment**: PLHIV refuse the ART after counselling
- **Stopped treatment**: PLHIV reports of having stopped treatment

The viral load information will be shown only in case the difference between the visit date (DHIS2 event date) and the date of ART initiation is more than 180 days.

DSD ART models information need to be customised prior implementation according to country guidelines on provision of multi-monthly ART dispensing.

‘Last days with ART’ element is auto assigned adding the amount of days of ART provided to the visit date (DHIS2 event date) as considered the date in which the ART has been provided.

![Treatment section](resources/images/treatment_section.png)

#### TB/HIV { #tbhiv } 

Within the HIV/TB section information related to TB screening, testing, treatment of active TB disease and TB preventive treatment are requested.

A serie of program rules are being setted to:

- Hide all the information related to ‘TB screening, test and TB preventive treatment’ related information in case the PLHIV has TB disease
- Report the date of ‘TB diagnosis’ in the following visits (DHIS2 event) in case has been reported and still with the disease
- Report the date of ‘TB treatment start date’ in the following visits (DHIS2 event) in case has been reported and still on treatment
- Report the date of ‘TB preventive treatment initiated’ in the following visits (DHIS2 event) in case has been reported and still on treatment

![HIV/TB section](resources/images/hiv_tb_section.png)

#### Vertical transmission { #vertical-transmission } 

The information collected for the vertical transmission have been classified in the two (2) different (sub)section according to the timing of when data collection should occur:

- Information at birth
- Follow-up visit

Within the first section ‘Information at birth’ information related to delivery date and place of delivery, ANC first visit date and HIV status, ART and viral load status and HIV-exposed infant ART status are requested

![Information at birth section](resources/images/information_birth_section.png)

Within the second section ‘Follow-up visit’ information related to the age of the HIV-exposed infant at visit, breastfeeding status, ART status of the mother and HIV testing of the HIV-exposed infant are requested.

![Follow-up visit](resources/images/information_FU_section.png)

#### STI { #sti } 

In the Sexually Transmitted Infections (STI) section, information related to the STI syndrome diagnosed, STI test performed and treatment administered are collected among clients enrolled in the HIV Case surveillance program. 

![STI Data Collection](resources/images/STI.png]

#### Viral hepatitis { #viral-hepatitis } 

In the Viral hepatitis section, information related to HBsAG and HCV infection, tests performed and results and treatment are collected among clients enrolled in the HIV Case Surveillance program. 

In case a person living with HIV is infected with HBV and/or HCV, all the information related to the test are going to be hidden through a serie of program rules

![Viral Hepatitis](resources/images/viral_hepatitis.png)

#### Cervical cancer { #cervical-cancer } 

Within the cervical cancer section, information related to the number of HPV vaccination doses received, cervical cancer diagnosis and cervical cancer screening with relative outcome and treatment status are requested.

In case a woman living with HIV has been diagnosed with invasive cervical cancer, the information related to screening is hidden.

![Cervical cancer](resources/images/cervical_cancer.png)

### Stage 3: Follow-up [repeteable] { #stage-3-follow-up-repeteable } 

This repeatable program stage is purely designed as a tool for recording any contact made with patients who have missed treatment visits, and will need to be contacted.
It is not currently linked to indicators and can safely be removed from the programme if not used in a clinical setting without affecting the other modules.

In this program stage, the DHIS2 program ‘event date’ (or default ‘report date’ in the Maintenance app for program configuration) has been renamed to represent the ‘Date of attempt to contact client’. 

It records the reason why this follow up is needed (Missed clinical care visit, missed medication pickup, missed non-clinical visit, did not initiate ART, inconclusive HIV status, test results received, Other follow up reason) follow-up method (Text message, phone call, home visit or other) and the result of the follow up (Returning to clinic, self-transferred out, hospitalised, refused to return, not located, reported dead, confirmed dead). If when following-up the patient has changed their treatment status (for example, decided to stop treatment), the program displays a prompt to complete a Visit stage option and record this.

![Follow-up stage](resources/images/follow_up.png)

### Tracker Data Elements { #tracker-data-elements } 

All data elements configured for the Tracker domain are also included in the Data Element Group ‘HIV case surveillance (tracker)’ [pGlRt4xB9rz]. This serves as a de facto DHIS2 data dictionary for the HIV case surveillance tracker use case. It allows for the data elements to be exported from DHIS2 and used independently of the Tracker program configuration, for example in the case that an implementation redesigns their Tracker from scratch for local workflows and still wants to maintain compliance with the core WHO-recommended data dictionary included in the Digital Adaptation Kit.

#### Cloned data elements for multiple option selection { #cloned-data-elements-for-multiple-option-selection } 

Within the program stages for  ‘Initial Case report’ and ‘Visits’, there are a number of data elements that are cloned to allow the selection of multiple options for a given concept, sharing the same option set. This design is implemented as follows:

- Cloning of data elements eligible for multi-option choice
  - The number of clone of the data element must be the same as the number of options present in the related option set
  - Each cloned data element has its own UID, name and code
- Program Rules
  - Hide the consequent Data Elements if the previous have not been selected
  - Show error in case the same Option has been selected more than once in the same group of Data Elements

For example, to capture multiple probable route of transmission, there are a series of data elements that are cloned to represent each discrete category of route of transmission: 

- HIV - Probable route of transmission - 1 [ODG7SJQHCBv]
- HIV - Probable route of transmission - 2 [jsXCQZT5f9c]
- HIV - Probable route of transmission - 3 [HxPpUO6SuXD]
- HIV - Probable route of transmission - 4 [TOLlMMdudRi]

#### Hidden Data Elements & Assigned Values to Data Elements { #hidden-data-elements-assigned-values-to-data-elements } 

All the Data Elements mentioned hereunder are “hidden” and therefore not visible during the data entry process; however they are required for the calculation of program indicators. 

Here we provide an overview of all the “hidden” data elements which are contained in the repeatable Visit stage, where program rules are used to assign a value. In many cases, the program rule simply assigns a value from a previous program stage (such as Initial Report) in order to allow the program indicators to calculate correctly. 

**Assigning key population and date of HIV diagnosis data element value to Visit Stage**

Program rules are used to copy and assign the value of the Client key population group and date of HIV diagnosis recorded in the initial case report to a hidden data element field on the repeatable ‘Visit’ program stage. This allows for all calculations and disaggregations based on key population groups and age of infection to be configured namely by using the autoassigned data element as a filter in the program indicator

These Data Elements are identified with the postfix “- VISIT”

| 元数据     | 用户标识         | 名称                                                                               |
|--------------|-------------|------------------------------------------------------------------------------------|
| 数据元素 | mNeVBYWladf | HIV - Positive Date - VISITS                                                       |
| 数据元素 | ySHCKMYGHD6 | HIV - Age at Diagnosis - VISITS                                                    |
| 数据元素 | kXutCUTOxcq | HIV - Key population - Men who have sex with men - VISITS                          |
| 数据元素 | GSSOfwzb0DQ | HIV - Key population - Person who inject drugs - VISITS                            |
| 数据元素 | iqXxZbRDhYG | HIV - Key population - People living in prisons and other closed settings - VISITS |
| 数据元素 | kICLXq7IEuP | HIV - Key population - Sex worker - VISITS                                         |
| 数据元素 | vZQyUQCKSc6 | HIV - Key population - Trans and gender-diverse people - VISITS                    |
| 数据元素 | kXutCUTOxcq | HIV - Key population - Men who have sex with men - VISITS                          |
| 数据元素 | GSSOfwzb0DQ | HIV - Key population - Person who injects drugs - VISITS                            |
| 数据元素 | iqXxZbRDhYG | HIV - Key population - People living in prisons and other closed settings - VISITS |
| 数据元素 | kICLXq7IEuP | HIV - Key population - Sex worker - VISITS                                         |
| 数据元素 | vZQyUQCKSc6 | HIV - Key population - Trans and gender-diverse people - VISITS                    |
| Program rule | Bj2Z3glSvHy | HIV - Assign value to Date of HIV positive diagnosis                               |
| Program rule | FNCVV9kG0oi | HIV - Assign value to Age when diagnosed with HIV                                  |
| Program rule | iLq9wgcYwAE | HIV - Assign value TRUE - Men who have sex with men                                |
| Program rule | yYGoGwZ612X | HIV - Assign value TRUE - Person who inject drugs                                 |
| Program rule | X51QRO65q4p | HIV - Assign value TRUE - people in prison or other closed settings                |
| Program rule | T3EGb8JMpRs | HIV - Assign value TRUE - Sex worker                                               |
| Program rule | zFTfjVAEY42 | HIV - Assign value TRUE - Trans and gender-diverse people                          |
| Program rule | mjrCXVhuYhe | HIV - Assign value FALSE - Men who have sex with men                               |
| Program rule | HxtlnaW2LHW | HIV - Assign value FALSE - Person who inject drugs                                |
| Program rule | TBzZvKdia6D | HIV - Assign value FALSE - people in prison or other closed settings               |
| Program rule | gs5hHXi3Q62 | HIV - Assign value FALSE - Sex worker                                              |
| Program rule | X4GW8qfrm0j | HIV - Assign value FALSE - Trans and gender-diverse people                         |

**HTS.1 People living with HIV who know their HIV status**

To be able to calculate this program indicator we need to use a CUSTOM period boundaries based on the ‘Date of HIV positive diagnosis’ as we want to count all the clients since the date of the diagnosis until either the current date, in case their still alive, and in the cohort or the date of death / lost to follow-up.
To enable this counting the data element ‘HIV - Cohort date’ [ CrFaWOLSKiK] has been created and get assigned the value of the the current date in case the client is still alive / in the cohort (PLHIV) and the date of the death / lost to follow-up in case the client has dead or has been lost to follow-up.

| 元数据     | 用户标识         | 名称                                                       |
|--------------|-------------|------------------------------------------------------------|
| 数据元素 | CrFaWOLSKiK | HIV - Cohort date                                          |
| Program rule | ciDmWAbeFK4 | HIV - Assign today date if no change in the patient status |
| Program rule | f0dYm1jWn9B | HIV - Assign the death date if has value                   |
| Program rule | O3JX3rziDw8 | HIV - Assign the LTFU date if has value                    |

**ART.8 Appropriate second viral load test after adherence counselling**

In the numerator we need to calculate PLHIV on ART receiving a viral load test within three (3) months after a viral load test result of >=1000 copies/mL.
Data elements assigned with the date of the last viral load test conducted and the last result are used in the Program Indicator filter to compare the date of the last viral load test with the actual.

| 元数据     | 用户标识         | 名称                                     |
|--------------|-------------|------------------------------------------|
| 数据元素 | yCF5h2RdrOP | HIV - Treatment: Previous VL date        |
| 数据元素 | Cx6DHpEoRpb | HIV - Treatment: Previous VL value       |
| Program rule | dxPan4qsYWH | HIV - Assign previous VL date if present |
| Program rule | QxPGCFykSDT | HIV - HIV Previous viral load value      |

**DSD.2 Uptake of DSD ART models among people living with HIV**

In both numerator and denominator we need to calculate the number of people that are newly eligible for DSD ART models. Data element assigned with a TRUE value in case the client was not eligible in the previous visit but is eligible in the current one it’s used in the filter of the Program Indicator.

| 元数据     | 用户标识         | 名称                                                                                                                     |
|--------------|-------------|--------------------------------------------------------------------------------------------------------------------------|
| 数据元素 | w0s4IrXdJA1 | HIV - Treatment: Newly eligible for DSD ART                                                                              |
| Program rule | zCZ4RdA6QvL | HIV - Assign true to newly eligible for DSD ART if eligible in current visit and not eligible in the previous one        |
| Program rule | CKCZoiLk2MR | HIV - Assign false to newly eligible for DSD ART if eligible or not in current visit and/or eligible in the previous one |

Moreover in the numerator we need to count the ones newly enrolled in the DSD ART models.  Data element assigned with a TRUE value in case the client was not enrolled in the previous visit but is enrolled in the current one it’s used in the filter of the Program Indicator.

| 元数据     | 用户标识         | 名称                                                                                                                     |
|--------------|-------------|--------------------------------------------------------------------------------------------------------------------------|
| 数据元素 | Q7LmA2FMrzl | HIV - Treatment: Newly enrolled on DSD ART models                                                                        |
| Program rule | zNltrhsK3ZD | HIV - Assign true to newly enrolled for DSD ART if eligible in current visit and not enrolled in the previous one        |
| Program rule | ikzuYLNkxiV | HIV - Assign false to newly enrolled for DSD ART if eligible or not in current visit and/or enrolled in the previous one |

**DSD.5 Viral suppression among people living with HIV engaged in DSD ART models**

In both numerator and denominator of this indicator we need to count the PLHIV that are enrolled in DSD ART models and that have been tested for viral load (and are suppressed). Being a program indicator of type EVENT and having the information of viral load not directly linked with the enrollment or not in DSD ART models in the data model, a data element that is gonna be auto populated with the last available DSD ART enrollment status value (true or false) has been assigned to the program indicator

| 元数据     | 用户标识         | 名称                                           |
|--------------|-------------|------------------------------------------------|
| 数据元素 | PYFRaC4dJXg | HIV - Treatment: Last enrolled DSD ART status  |
| Program rule | zfcYNnMjDk6 | HIV - Assign DSD enrolled if present           |
| Program rule | ZgaUPJHLPvO | HIV - Assign last DSD enrolled if present      |
| Program rule | n0oipCCQK0x | HIV - Don't assign DSD enrolled if not present |

**DFT.3 TB testing among those symptom-screened positive**

The indicator needs to count the number of PLHIV that, after being screened positive for TB, are tested for TB. We therefore need the date in which the last TB screening has been performed and we need to ensure that the screening has happened before the testing

| 元数据     | 用户标识         | 名称                                                           |
|--------------|-------------|----------------------------------------------------------------|
| 数据元素 | nWrIpSGAdVj | HIV - HIV/TB: Date screened positive for TB symptoms           |
| Program rule | jFviS9zNghE | HIV - Assign previous screening date if present                |
| Program rule | NqbC1zxf46M | HIV - Assign true if screened positive for TB in current event |

**TBH.3 TB diagnostic testing type**

In the numerator we need to count only PLHIV that have received as first TB test a WHO approved rapid molecular TB test.
A data element reporting TRUE in case the first test has been with a mWRD (Molecular WHO Recommended rapid diagnostic) test is created and reported over the following events.

| 元数据     | 用户标识         | 名称                                                                                 |
|--------------|-------------|--------------------------------------------------------------------------------------|
| 数据元素 | dJJVB3fkwKd | HIV - HIV/TB: First TB test as mWRD                                                  |
| Program rule | WTONjptEnGe | HIV - Assign true to first test as mWRD and the date if has been the first test used |
| Program rule | WQaVtgqajwh | HIV - Assign false to first test as mWRD if has not been the first test used         |
| Program rule | LuBGQxFdoZ5 | HIV - Assign true value to first TB test as mWRD if previously tested as first       |

Moreover another data element reporting the date of the first TB test (if is a mWRD) is created and the value reported in the following events

| 元数据     | 用户标识         | 名称                                                                                 |
|--------------|-------------|--------------------------------------------------------------------------------------|
| 数据元素 | ay8M5cOVV6g | HIV - HIV/TB: First TB test as mWRD date                                             |
| Program rule | WTONjptEnGe | HIV - Assign true to first test as mWRD and the date if has been the first test used |
| Program rule | mTg0iaPC4BK | HIV - Assign previous value for First TB test as mWRD date if present                |

**STI.8 重复诊断性传播感染综合征**

In the numerator we need to calculate the number of people attending HIV care and treatment services diagnosed with a particular STI syndrome two or more times. Data elements assigned with the last date in which a specific STI syndrome was reported are used in the PI filter to compare the date of the last diagnosis with the actual diagnosis; if the difference is lower than 12 months then our client will be counted. This is achieved with five (5) DEs assigned with “last diagnosis date” for each possible STI syndrome diagnosed.

| 元数据     | 用户标识         | 名称                                                                             |
|--------------|-------------|----------------------------------------------------------------------------------|
| 数据元素 | DI8O2sFAjIZ | HIV - STI：尿道分泌物综合征最后诊断日期                       |
| 数据元素 | PMYnHPcLOrg | HIV - STI：阴道分泌物综合征最后诊断日期                        |
| 数据元素 | fGg6Qx8AzDw | HIV - STI： 下腹痛 最后诊断日期                              |
| 数据元素 | Nxjc5ElxwEj | HIV - STI：生殖器溃疡病综合征最后诊断日期                    |
| 数据元素 | bEFauzOj4ov | HIV - STI：肛门直肠分泌物最后诊断日期                               |
| 计划规则 | xgt6RIk6jJg | HIV - 如果确诊，指定尿道分泌物综合征的最后日期           |
| 计划规则 | RkeUbXxbAxf | HIV - 如果没有新的诊断，则指定以前的尿道分泌物日期             |
| 计划规则 | wKskErfCnRy | HIV - 如果确诊，指定阴道分泌物综合征的最后日期            |
| 计划规则 | o9Je9CMIOOO | HIV - 如果没有新的诊断，则指定以前的阴道分泌物日期              |
| 计划规则 | GMfpQZONK6N | HIV - 如果确诊为下腹痛，则指定最后一次下腹痛的日期                  |
| 计划规则 | vAtYaFpk9CI | HIV - 如果没有新的诊断，则指定以前的下腹痛日期           |
| 计划规则 | qJVXmzaqmCR | HIV - 指定生殖器溃疡病综合征（如果确诊）的最后日期        |
| 计划规则 | vzE0J0fo7F4 | HIV - 如果没有新的诊断，则指定生殖器溃疡病综合征的先前日期 |
| 计划规则 | ES3S2qANfLw | HIV - 如果确诊，指定肛门直肠分泌物的最后日期                   |
| 计划规则 | pW1lTs8KeDM | HIV - 如果没有新的诊断，则指定以前的肛门直肠排出日期            |

**垂直传输指示器（VER.1 → VER.4）**

垂直传播指标（包括表格 VER.1 至 VER.4）需要参考分娩日期。由于计算指标 VER.1 → VER.4 所需的信息可以在不同的访问中收集，因此作为 EVENT 类型的计划指标，创建了一个报告最后分娩日期的数据元素

| 元数据     | 用户标识         | 名称                                                      |
|--------------|-------------|-----------------------------------------------------------|
| 数据元素 | s2ITWwTvqC0 | 艾滋病毒 - 预防母婴传播： 最后分娩日期                           |
| 计划规则 | z16QguGzYY6 | HIV - 如果存在，指定交货日期              |
| 计划规则 | pgb8Pr2ldfM | HIV - 如果有任何值，则指定以前的最后交货日期 |
| 计划规则 | aPennvPlIL | HIV - 如果不存在，则不指定分娩日期    |

**HEP.7 艾滋病毒感染者中治愈的艾滋病毒感染者**

分子和分母中使用的计划指标都是事件类型的，因此我们需要报告最后一次 HCV 治疗的情况，因为治疗的完成和确认持续病毒学应答的检测可能发生在不同的访问中。

| 元数据     | 用户标识         | 名称                                                   |
|--------------|-------------|--------------------------------------------------------|
| 数据元素 | GSK3oZtzrMS | 艾滋病毒 - 病毒性肝炎：最近的丙型肝炎病毒（HCV）治疗情况       |
| 计划规则 | C6iTbpA4n46 | HIV - 如果存在，指定治疗状态               |
| 计划规则 | jC5pahYGKuz | HIV - 如果存在，则指定以前最后一次治疗状态 |
| 计划规则 | o51CPtUmxsl | HIV - 如果不存在，则不指定治疗状态     |

**CCa.4 宫颈癌生存率**

在这一指标的分子中，我们需要计算确诊为宫颈癌且仍在世的 WLHIV，并创建一个报告最后一次诊断的数据元素。

| 元数据     | 用户标识         | 名称                                                        |
|--------------|-------------|-------------------------------------------------------------|
| 数据元素 | ntKnCH7bMGR | HIV - 宫颈癌：宫颈癌最后诊断       |
| 计划规则 | kSfwWuCTwOu | HIV - 如果存在宫颈癌，则指定宫颈癌诊断           |
| 计划规则 | juN7w5x3gKo | HIV - 如果存在，则指定最后一次宫颈癌诊断结果      |
| 计划规则 | YmEXnBJNKFc | 艾滋病毒 - 如果不存在，则不进行宫颈癌诊断 |

### 计划指标 { #program-indicators } 

**计划指标**用于汇总跟踪器数据模型中获取的个人层面的数据；并将这些数据映射到汇总数据模型中，以便在 DHIS2 分析应用程序和仪表板中展示、消费和使用。使用 DHIS2 数据交换应用程序将计划指标值转换为汇总数据元素的方法，将在元数据映射和数据交换部分进一步说明。 

计划指标分为两个计划指标组： 
- *HIV 病例监控 - 数据交换* [s7DBTTX68Lk] 包含所有映射到相应目标总体数据元素的 PI，以供分析。 
- *艾滋病毒预防--世卫组织标准清单* [KKvBWmeIsvN] 包含世卫组织标准指标清单中的所有 PI（每个 PI 通常代表 SI 准则标准清单中的分子或分母）。

>**Warning**
>
>The majority of Program indicators are EVENT-based and use CUSTOM period boundaries requiring some adaptation. We have provided accurate representations of the program indicators based on the generic data model; however, It is the responsibility of the implementing organisation to decide what type of organisation unit dimension to assign to each program indicator, according to national guidelines and in consultation with end users. Please review the section on local adaptation and implementation considerations for more information on how to adjust program indicators and calculations during localization and country adaptation.

#### 计划指标中的关键人口过滤器{ #key-population-filter-in-program-indicators } 

As described in the section on *Hidden Data Elements & Assigned Values*, program rules are used to assign and copy the TEI’s key population group recorded in the initial case report to a hidden data element field on the repeatable Visit program stage. This allows for all program indicator calculations based on key population group to be configured, namely by using the auto-assigned data element as a filter in the program indicator. 

请注意，在调整根据主要人口组别进行筛选的计划指标时，必须使用包含后缀"- VISIT "的数据元素集：

- 艾滋病毒--重点人群--男男性行为者--访问 [kXutCUTOxcq]
- 艾滋病毒--重点人群--注射吸毒者--访问[GSSOfwzb0DQ]
- 艾滋病毒--重点人群--生活在监狱和其他封闭环境中的人--访问 [iqXxZbRDhYG]
- 艾滋病毒--重点人群--性工作者--访问 [kICLXq7IEuP]
- 艾滋病毒--重点人群--变性人和性别多样化人群--访问 [vZQyUQCKSc6]

#### 目前接受抗逆转录病毒疗法的艾滋病毒感染者{ #plhiv-currently-on-art } 

有些计划指标需要计算当前日期和/或特定报告期内正在接受治疗的艾滋病毒感染者人数。
为了能够进行此类计算，我们需要对计划指标公式的两个不同部分进行处理：

- 时期界限
- 过滤

在 "时间界限 "部分，我们需要使用两个不同的 CUSTOM 日期组合，因为我们要计算所有 PLHIV 从开始接受抗逆转录病毒疗法到最后一天接受治疗的时间。因此需要使用以下日期

- 报告期结束前：开始治疗日期 [Lv3c5VSA9t3]
- 报告期开始后：接受抗逆转录病毒疗法的最后一天 [EGjmPoKhHpM]

在筛选器方面，我们需要计算在报告期结束后或当前日期后仍在接受治疗的病例，因为当前日期可能在分析期内（例如，当前日期为 2023 年 11 月 1 日，而我们分析的是 2023 年仍在接受抗逆转录病毒疗法的病例）。
以下是过滤器的快照：

*(d2:daysBetween(V{analytics_period_end},#{Last day with ART})>=0
|| d2:daysBetween(V{current_date},#{Last day with ART})>=0)*

#### 显著计划指标配置{ #notable-program-indicators-configuration } 

**HTS.1 知道自己艾滋病病毒感染状况的艾滋病病毒感染者**
为了计算 ENROLLMENT 类型的计划指标，我们需要使用基于 "HIV 阳性诊断日期 "的自定义时间段边界，因为我们希望统计所有客户自诊断日期起至当前日期（如果他们仍在世并在队列中）或死亡/失去随访日期止的情况。
为了进行这种统计，我们创建了 "HIV - 群组日期"[CrFaWOLSKiK]数据元素，如果客户仍在世/在群组中（艾滋病毒携带者），则将其赋值为当前日期；如果客户已死亡或失去随访机会，则将其赋值为死亡/失去随访日期。
这样，计划指标 "HIV CS - HTS.1 了解自身 HIV 感染状况的 HIV 感染者"[HY5WGeOQPmC]就有了以下时间界限：

- 报告期结束前：艾滋病毒阳性诊断日期
- 报告期开始后：组群日期

计划指标的类型为 ENROLLMENT，因为我们希望了解上次访问（DHIS2 事件）时收集的信息

**ART.8 在坚持治疗咨询后进行适当的第二次病毒载量检测**
分子是 EVENT 类型的计划指标，需要计算在病毒载量检测结果 >=1000 拷贝/毫升后三（3）个月内接受病毒载量检测的接受抗逆转录病毒疗法的艾滋病毒携带者人数。
在 "计划指标 "筛选器中使用分配有最后一次病毒载量检测日期和最后一次检测结果的数据元 素，以比较最后一次病毒载量检测日期和实际情况；如果差值低于三（3）个月，且之前的病毒载 量检测结果>=1000 copies/mL，则我们的客户将被计算在内。
在周期边界中，需要使用包含 "病毒载量检测日期"[v4K5u8wftrq] 元素的 CUSTOM 周期边界，因为我们希望返回的值是实际进行的病毒载量，而不是距离上一次病毒载量三（3）个月内的值。

**DSD.2 艾滋病毒感染者对 DSD 抗逆转录病毒疗法模式的接受情况**

为了计算该指标，我们需要在分子和分母（EVENT 类型的计划指标）中计算新近符合 DSD ART 模式的客户。
如果客户在上次就诊时不符合条件，但在本次就诊时符合条件，则数据元素的赋值为 "true"，用于筛选计划指标。

此外，在分子中，我们需要计算新加入 DSD 抗逆转录病毒疗法模式的人数。  如果客户在前一次就诊时没有登记，但在本次就诊时登记了，则数据元素的赋值为 "true"，用于筛选计划指标。

**DSD.5 参与DSD抗逆转录病毒疗法模式的艾滋病毒感染者的病毒抑制情况**

在该指标的分子和分母中，我们需要计算已加入 DSD 抗逆转录病毒疗法模式并已接受病毒载量检测（且已被抑制）的艾滋病毒感染者。作为一个事件类型的计划指标，病毒载量的信息与数据模型中是否加入 DSD 抗逆转录病毒疗法模型并无直接联系，因此我们为该计划指标分配了一个数据元素，该元素将自动填入最后可用的 DSD 抗逆转录病毒疗法加入状态值（真或假）。

**TBH.3 结核病诊断检测类型**

在分子中，我们只需计算首次接受世界卫生组织认可的结核病快速分子诊断检测的 PLHIV。
如果首次检测使用的是 mWRD（世卫组织推荐的分子快速诊断方法），则创建一个报告 "true"（"真"）的数据元素，并在接下来的事件中报告。
此外，还创建了另一个数据元素，报告首次结核病检测的日期（如果是 mWRD），并在以下事件中报告其值

**STI.8 重复诊断性传播感染综合征**
该指标的报告期设定为 "过去 12 个月"，因此输出结果将是在过去 12 个月内两次或两次以上被诊断出患有特定性传播感染综合征的患者比例。

在分子中，我们需要计算出两次或两次以上被诊断出患有特定性传播感染综合征的艾滋病预防服务者人数。这一筛选依赖于为 "最后诊断日期 "赋值的隐藏数据元素：

- HIV - STI：尿道分泌物综合征最后诊断日期 [DI8O2sFAjIZ]
- HIV - STI：阴道分泌物综合征最后诊断日期 [PMYnHPcLOrg]
- HIV - STI：下腹痛最后诊断日期 [fGg6Qx8AzDw]
- HIV - STI：生殖器溃疡病综合征最后诊断日期 [Nxjc5ElxwEj]
- HIV - STI：肛门直肠分泌物最后诊断日期 [bEFauzOj4ov]

如果需要根据实施需要增加/删除任何性传播感染综合征，则需要复制数据模型，以获得更多的性传播感染诊断；或从 PI 计算中删除不相关的性传播感染诊断。

**垂直传输指示器（VER.1 → VER.4）**

垂直传播指标（包括表格 VER.1 至 VER.4）需要参考分娩日期。由于计算指标 VER.1 → VER.4 所需的信息可以在不同的访问中收集，因此作为事件类型的计划指标，我们创建了一个报告最 后分娩日期的数据元素。
因此，在所有计划指标的时期界限中，我们需要使用以下数据元素：*HIV - PMTCT：最后分娩日期*。
同样，在指标 *VER.2 婴儿早期诊断（EID）覆盖率* 中，我们必须使用数据元素 *HIV - PMTCT：最后分娩日期*，因为与暴露于艾滋病毒的婴儿检测相关的信息是在下一次访视中收集的

**HEP.7 艾滋病毒感染者中治愈的艾滋病毒感染者**

In both numerator and denominator the program indicator used are EVENT type therefore we need to report the last HCV treatment status as the completion of the treatment and the test to confirm a sustained virological response can happen in different visits.
In both numerator and denominator we need to filter the treatment status by the following Data Element:  *HIV - Viral hepatitis: Last HCV treatment status*

**CCa.4 宫颈癌生存率**

In the numerator of this indicator we need to count the WLHIV with a diagnosis of cervical cancer that are still alive and the Data Element *HIV - Cervical cancer: Cervical cancer last diagnosis* [ntKnCH7bMGR] reporting the last diagnosis has been created.
This Data Element *HIV - Cervical cancer: Cervical cancer last diagnosis* is used in the filter and has the same Option Sets as the Data Element *HIV - Cervical cancer: Cervical cancer diagnosis*

## 元数据映射和数据交换{ #metadata-mapping-data-exchange } 

如上所述，所有仪表板和指标都由一个汇总数据模型提供支持。这样就可以混合使用各种电子和纸质来源的报告方法，从而将所有数据汇集在一起进行分析和使用，例如在综合 HMIS 中。 

如果目标汇总数据元素可以通过汇总 HIV 病例监测跟踪器的基础跟踪器数据来填充，我们会预先配置一套计划指标，并包含目标汇总维度（数据元素 CODE 和类别选项组合 CODE）的映射。 

请参阅 [DHIS2 关于如何使用数据交换应用程序的用户文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-240/exchanging-data/data-exchange.html) 。 

更多信息，请参阅[DHIS2 开发人员关于 DHIS2 用于汇总数据交换的 API 的文档](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-240/data-exchange.html?h=aggregate+data+exchange+2.40#create-aggregate-data-exchange)。

元数据已与世界卫生组织艾滋病数字适应工具包（DAK）第二版中发布的数据字典和指标参考相一致（有关数据字典，请参见数字适应工具包的网络附件 A）。请注意，跟踪器的设计既不是为了支持临床护理指南和病例管理的所有方面（其中一些已包含在艾滋病毒 DAK 中），也不是为了取代强大的设施 EMR；不过，EMR 中的数据可输入国家艾滋病毒登记册以供分析和使用。

[在这里]（resources/files/data_exchange_mapping_cs.xlsx），您可以找到 DHIS2 元数据和 HIV DAK 数据字典之间的映射。

> **注**
>
> 由于需要向共同应答者聚合数据模型提供大量的计划指标，数据交换并不意味着要与应用程序一起使用，而只是作为后端工作进行调度

## 实施考虑因素与地方适应{ #implementation-considerations-local-adaptation } 

本章介绍了根据当地情况和需求调整配置的一些可能性，以及对 HIV 病例监测用例非常重要的实施注意事项。

### 数据隐私与保密{ #data-privacy-confidentiality } 

收集重点人群的数据具有一定的挑战性，尤其是在服务提供者和计划之间链接或共享信息时。  所有个人层面的健康数据，包括重点人群的数据，都必须归类为敏感的个人数据或个人身份信息，需要高标准的安全保障。所有健康信息系统都必须在保护健康信息的法律和政策支持下，制定强有力的数据安全和保密协议，以保护数据安全。个人健康数据的处理必须解决网络安全、建立信任、问责和治理、道德、公平、能力建设和数字扫盲等问题。 

如果担心安全问题和可能阻碍获得服务，则不建议例行收集关键人口信息；并应将其从数字化的 DHIS2 病例监测跟踪程序中删除。同样，在采集客户姓名、出生日期等个人可识别数据和其他间接可识别数据之前，必须对所有用户的电子系统和 SOP 进行风险评估和安全审查，并消除漏洞。 

### 跟踪器结构调整{ #tracker-structure-adaptation } 

HIV 病例监测跟踪器的结构大多是扁平结构，只有一个主要的可重复阶段，用于记录任何类型的预防访问活动。这种有意简化的结构可以提高灵活性，便于当地调整和定制。例如 

- 在不同用户需要输入不同信息的情况下，各部分可以很容易地分阶段翻译（如前所述，艾滋病毒病例监测服务非常横向，可能有多个行为者参与服务的分配）
- 减少了计划规则的数量，并很好地确定了本节的目标
- 如果特定活动（艾滋病护理干预，如宫颈癌）与贵国提供的一揽子艾滋病护理和治疗服务无关，您只需删除整个部分，而不会对数据模型的其他部分造成影响。 

#### 整合艾滋病毒病例监测和艾滋病毒预防跟踪器{ #integration-of-hiv-case-surveillance-and-hiv-prevention-tracker } 

根据当地情况，一些实施机构可能希望将 HIV 预防和病例监测整合到一个 DHIS2 追踪计 划中。全球设计指南曾考虑过综合追踪程序的设计方案，但最终放弃了这一方案，转而采用两个追踪程序，原因如下：

- 规模：参加预防计划的人数（TEIs）可能比被诊断为阳性并参加 HIV 病例监测计划的人数（TEIs）要多得多。这可能会对性能产生影响，而且还需要足够的服务器基础设施来进行大规模 Tracker 部署。
- 服务提供者的类型：在许多国家的情况下，可能会有大量不同的服务提供者参与艾滋病预防服务，如社区卫生工作者、作为执行伙伴的非政府组织/民间社会组织等。通常情况下，这些预防服务提供者并不负责通过终生治疗来跟踪 HIV 病例，也不应该在确定客户为 HIV 阳性客户后获取客户的健康数据。因此，将 Tracker 计划与其他计划分开，既能满足不同计划的需要，又能确保对 HIV 感染者的保护和数据保密。 
- 世卫组织 SI 指南和 DAK 中的指标不需要进行 "跨方案 "分析；所有指标都可以在 DHIS2 中使用两个单独的方案生成。
- 从预防服务到 HIV 病例监测的典型工作流程是，关闭 DHIS2 预防跟踪程序的注册并在病例监测程序中打开新的注册。在 DHIS2 之外进行高级计划数据分析时，个人（TEI）与预防和病例监测计划都有关联。 

可以利用许多现有的 DHIS2 元数据（如追踪器数据元素库）实施综合设计。两个追踪器计划都采用类似的结构，即初始病例报告和此后所有随访的综合、可重复的 "访问 "阶段。 
HIV 预防和 HIV 病例监测追踪器之间通用的追踪器元数据在两个计划之间共享（使用相同的 UID），具体如下：

- 所有跟踪实体属性：所有 TEA 均相同
- 初始病例报告：与关键人群识别相关的数据元素相同
- 参观阶段：
  - STI 数据元素相同
  - 病毒性肝炎：与检测、日期和结果相关的数据元素相同

实施者需要注意将患者数据从预防追踪器链接到病例监视追踪器时的隐私和保密问题。  如果要链接患者记录，可能需要删除某些携带敏感患者信息的数据元素，例如患者的关键人群状态。  此外，如果无法确保隐私、安全和患者保密性，则不建议在预防追踪器和病例监测追踪器之间建立链接（详见世卫组织 2022 年 "以人为本的艾滋病毒战略信息综合指南 "第 2 章：预防和第 6 章：数字健康数据）。

![综合预防/病例监测跟踪计划的结构](/resources/images/integrated_prev_cs_structure.jpg)

### 分析与指标计算{ #analytics-indicator-calculations } 

#### 所有权分析{ #ownership-analytics } 

从 DHIS2 v40 开始，新功能允许根据特定注册的 "所有权 "组织单位进行计划指标计算。例如，您可以计算在某一机构接受 HIV 护理和治疗服务的客户人数，即使这些客户最初并未在该机构注册或正式转入该机构。

计划指标可定义在分析中使用的**组织单位维度**。可选项包括活动的组织单位、注册、登记、组织单位数据元素以及报告期开始或结束时的跟踪实体实例所有权。所有权分析仅适用于*基于注册*配置的计划指标。

有关所有权分析的更详细指导，请参阅《跟踪器设计指南》(https://docs.dhis2.org/en/implement/database-design/tracker-system-design/tracker-analytics.html#common-challenge-3-transfers-and-ownership)。

>**注：**
>
>对于使用 DHIS2 软件 2.39 版或更低版本的实施系统，在国家以下任何级别生成的计划指标都不会反映当前的 "所有权 "组织单位。这意味着，如果一个 TEI（人）在某一追踪项目登记时从一个组织单位（卫生机构 A）永久转移到另一个组织单位（卫生机构 B），*就项目指标而言，他仍将被算作属于卫生机构 A*。在实际操作中，这意味着当患者在不同机构间流动时，该患者的所有纵向指标都不会重新分配到患者最近的机构，而是仍然分配到患者最初加入项目的机构。这对于典型的 HIV 使用案例来说是一个关键的限制，因为在这些案例中，必须在国家以下或设施级别准确地生成站点级别的绩效指标，如失去随访。如果您使用的是 DHIS2 v2.39 或更低版本，请仔细检查您的配置，看是否已根据组织单位注册所有权排除了 "转出 "人员。

#### 活动日期与自定义日期{ #event-date-vs-custom-date } 

如前所述，所有这些活动都需要一系列日期，这些活动可以在艾滋病毒预防服务之外开展，但其信息对于以人为本的综合管理和报告系统仍然具有相关性。

绝大多数计划指标都在时期边界（作为自定义日期）和/或过滤器中使用该日期。如果实施工作决定将活动日期（"访问日期"）作为任何活动的默认日期，则需要在计划指标中 反映出这一点

#### 跟踪器数据分析{ #tracker-data-analysis } 

对于可以访问通过 HIV 病例监测跟踪程序获取的个人可识别数据的授权用户，可以使用行列应用程序和配置工作列表（作为 DHIS2 跟踪程序的一部分）对跟踪程序数据进行额外的特别分析（注：仅适用于可以访问用于数据收集的捕获应用程序的用户）。 

一般来说，建议通过聚合数据模型，使用计划指标和数据交换服务，为计划监测提供例行分析服务，正如本设计所实施的那样。部分原因是，DHIS2 中的汇总数据模型为分析提供了优化的维度（例如，在数据展示台应用程序中按类别和 CatCombos 进行切分和过滤的能力）。这样还能提高分析的性能，因为在包含多年单个数据的大型数据库上运行查询会对服务器造成不必要的压力。 

特别分析和个人层面的挖掘通常仅限于经授权的公共卫生用户（如艾滋病计划数据管理人员）进行高级分析；以及服务提供点（机构）的用户进行业务跟进活动、联系客户或对其负责收集的个人层面数据进行基本的常规数据质量检查和分析。

### 关键人口变量的操作{ #operationalizing-variables-for-key-populations } 

一些国家在界定寻求服务者是否属于特定重点人群方面遇到了困难，因为考虑到披露信息可能会使他们面临歧视、污名化的风险，在某些情况下还可能受到法律惩罚。

为便于关键人群定义的操作，"[拉丁美洲及加勒比地区关键人群艾滋病毒/性传播感染服务监测框架](https://www.paho.org/en/documents/framework-monitoring-hivsti-services-key-populations-latin-america-and-caribbean-2019) "中的下表提供了一个敏感而具体的工具，通过一组最低限度的变量将信息收集标准化，从而将人员归类为关键人群。该工具可通过配置一套与调查表结构相同的附加数据元素，纳入 DHIS2 预防跟踪系统：

![泛美卫生组织关键人口变量操作问卷](resources/images/PAHO_questions_key_pop.png)

根据从问卷中收集到的数据，由于做法和脆弱性的重叠，客户可以被确定为一个或多个群体。一个国家可能有其他的重点人群和定义；因此，预计该工具应根据国情进行调整。可利用程序规则为 DHIs2 预防追踪元数据中的关键人群核心数据元素赋值，从而将某人归入特定的关键人群组别。

![PAHO interpreting responses for monitoring and data analysis](resources/images/PAHO_key_pop_answers.png)

## 引用 { #references } 

世卫组织（2022 年）。以人为本的艾滋病毒战略信息综合指南：加强常规数据以产生影响[https://www.who.int/publications/i/item/9789240055315](https://www.who.int/publications/i/item/9789240055315)

联合国艾滋病规划署 (2022) IN DANGER: UNAIDS Global AIDS Update 2022.Geneva：联合国艾滋病毒/艾滋病联合规划署[https://www.unaids.org/en/resources/documents/2022/in-danger-global-aids-update](https://www.unaids.org/en/resources/documents/2022/in-danger-global-aids-update)

