---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/master/src/user/using-the-aggregate-data-entry-app.md"
revision_date: '2022-10-20'
tags:
- 使用
- DHIS核心 主版
---

# 数据录入（测试版）应用程序{ #data-entry-beta-app } 

## 关于数据录入（测试版）应用程序{ #aggregate_data_entry_app.about }

数据输入（测试版）应用程序用于在 DHIS2 中输入汇总数据。汇总数据是在群体层面收集的，不属于任何个人。想要输入个人层面的数据？请查看 [Tracker Capture 应用程序](#tracker_capture_app)。   

## 什么是数据录入表单？{ #aggregate_data_entry_app.what_makes_a_form }

数据录入表是根据具体情况填写的，具体情况由以下选项组成：
1. **数据集**是数据元素的集合，代表你要收集的数据。
2. **组织单位**是登记数据的地方，通常是诊所、医院或教室等场所。
3. **Period** 是数据的时间。
4. 某些数据输入表格显示了**附加选择**，有助于将数据收集到有意义的组中。

## 了解应用程序{ #aggregate_data_entry_app.get_to_know }

数据录入（测试版）应用程序由几个不同的部分组成：

![](resources/images/data_entry_beta/app-layout.png)

1. **顶部栏：** 顶部栏是您选择不同选项以打开数据输入表单的地方。您可以随时使用顶栏更改或重置您的选择。
2. **数据工作区**：数据工作区是你使用数据输入表单的地方。
3. **底部栏**：底部栏提供有关正在处理的表单的操作和更多信息。
4. **详细信息边栏**：在详细信息边栏中，您可以查看有关数据值的更多信息并查看验证结果。详细信息侧边栏可以在工作时打开或关闭，默认情况下是关闭的。


## 使用数据输入表格{ #aggregate_data_entry_app.working_with_a_form }

### 打开表格{ #aggregate_data_entry_app.opening_a_form }

要开始输入数据，您需要打开一个表单。使用顶部栏选择要打开的表单：
1. 从顶部栏的第一个控件**选择一个数据集**。下拉菜单显示您可以访问的数据集。数据集决定了有哪些其他选项，因此必须先选择一个数据集。
2. 从顶部栏的第二个控件**选择一个组织单位**。您可以搜索组织单位或浏览树状层次结构。
3. **从顶部栏的第三个控件中选择一个周期**。下拉菜单显示为所选数据集设置的时段。点击左右箭头按钮可选择不同年份。
4. 如果适用，**进行其他选择**。如果还有其他可用的选择，它们将显示在顶部栏的最后一个控件中。其他选择取决于所选的数据集、组织单位和时间段，因此在做出前三个选择之前不会显示。如果没有其他选择，则不会显示额外的控件。

在顶部栏中进行选择后，数据输入表单将在数据工作区中打开。如果在打开表单时出现问题，数据工作区将会显示一个错误来说明问题。

### 输入数据{ #aggregate_data_entry_app.entering_data }

打开表格后，就可以开始在表格单元格中输入数据了。活动单元格，即正在输入数据的单元格，总是以蓝色边框突出显示。为了快速工作，您可以使用键盘进行移动：
- 要移动到下一个单元格，请按 ++tab++ 或 ++arrow-down++ 键。
- 要返回上一单元格，请按 ++shift+tab++ 或 ++arrow-up++ 键。

#### 细胞状态{ #aggregate_data_entry_app.cell_status }
细胞的状态不同，外观也不同：

| 细胞    | 状态                                                                                                                                           |
| ------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| ![](resources/images/data_entry_beta/cell-normal.png)  | 显示已保存的值或空单元格。                                                                                            |
| ![](resources/images/data_entry_beta/cell-synced.png)   | 单元格值保存在服务器上。                                                                                                                |
| ![](resources/images/data_entry_beta/cell-waiting.png) | 单元格值保存在本地，正在同步或等待同步到服务器。                                                                                              |
| ![](resources/images/data_entry_beta/cell-invalid.png)     | 单元格值有问题。单击或悬停在单元格上，了解问题的更多信息。这些无效值不会保存到服务器或本地。 |
| ![](resources/images/data_entry_beta/cell-comment.png) | 该值有一个注释。                                                                                                                         |
| ![](resources/images/data_entry_beta/cell-readonly.png)  | 单元格已锁定，值无法编辑。                                                                                                                                                 |

### 筛选表单{ #aggregate_data_entry_app.filtering }
如果要查找表单中的某个单元格，过滤功能非常有用。你可以过滤整个表单，也可以过滤单个部分，或者两者兼而有之。任何不符合筛选条件的单元格都将被隐藏。

#### 过滤整个表格{ #aggregate_data_entry_app.filtering_whole_form }

![](resources/images/data_entry_beta/filter-form.png){ width=60% }

要过滤整个数据输入表单，请在表单顶部的输入框中输入一个值。

#### 筛选部分{ #aggregate_data_entry_app.filtering_section }

![](resources/images/data_entry_beta/filter-section.png){ width=60% }

对于栏目表格，您也可以在单个栏目内进行筛选。在部分顶部的输入框中输入一个值。

### 验证{ #aggregate_data_entry_app.validation }
完成数据输入后，您可以对数据值进行验证。验证会根据 DHIS2 实例设置的规则检查数值。 

要运行验证，请单击底部栏中的*运行验证*按钮。 

![](resources/images/data_entry_beta/validation-button.png){ width=60% }

验证结果显示在详细信息侧边栏中，按高、中、低优先级结果分组。修复验证问题后，单击*再次运行验证*按钮重新检查数据值。

![](resources/images/data_entry_beta/validation-results.png) 


### 填写表格{ #aggregate_data_entry_app.completing }

输入数据和运行验证后，最后一步是填写表格。填写表格意味着所有预期数据都已输入，空单元格故意留空。单击底部栏中的*标记完成*按钮，标记表单完成。

![](resources/images/data_entry_beta/complete-button.png){ width=60% }

如果表格已完成但不应该完成，您可以单击底部栏中的*标记不完整*按钮，将其标记为不完整。

### 利用数据值做更多工作{ #aggregate_data_entry_app.doing_more_with_data_values }

上文介绍了基本的数据录入功能，但数据录入（测试版）应用程序提供了更多操作和信息。这些操作和信息可在数据工作区右侧的数据详情边栏中找到。

![](resources/images/data_entry_beta/data-details.png) 

#### 打开数据详情侧边栏{ #aggregate_data_entry_app.opening_data_details_sidebar }

打开数据详情侧边栏有多种方法：
- **Click the *View details* button**. With a data entry cell selected, you can click the *View details* button in the bottom bar.
- **使用 ++ctrl+enter++ 或 ++cmd+enter++ 快捷键**。选中一个数据输入单元格后，使用其中一个快捷键。

数据详情侧边栏会一直打开，直到你关闭为止，这样你就可以在填写数据输入表单时一直打开以供参考。

#### 标记数据值，以便跟进{ #aggregate_data_entry_app.mark_followup }

标记需要跟进的数据值是突出显示需要调查的可疑或奇怪值的有用方法。标记为跟进的数据值仍将保存，但会在**数据质量**应用中突出显示，以便进一步调查或分析。

要标记要跟进的数据值，请[确保数据详情边栏已打开]（#aggregate_data_entry_app.opening_data_details_sidebar），然后单击顶部的*标记要跟进*按钮。

![](resources/images/data_entry_beta/followup-button.png){ width=60% }

要取消对数据值的标记，请单击*取消标记以便跟进*按钮。

![](resources/images/data_entry_beta/followup-unmark-button.png){ width=60% }

#### 评论数据值{ #aggregate_data_entry_app.comments }

您可以为任何数据值添加注释。注释可用于添加有关某个值的更多信息，例如指出某个值异常高或超出正常范围的原因。

要为数据值添加注释，请[确保数据详情侧栏已打开]（#aggregate_data_entry_app.opening_data_details_sidebar），然后单击*注释*部分的*添加注释*按钮。

![](resources/images/data_entry_beta/comment-add-button.png){ width=50% }

写完评论后，点击*保存评论*按钮。

如果数据值已有注释，您可以点击注释下方的*编辑注释*按钮进行编辑。

![](resources/images/data_entry_beta/comment-edit-button.png){ width=50% }

#### 最小和最大限制 { #aggregate_data_entry_app.limits}

数据值可以有最小和最大限制。这些限制不允许输入超出最小值或最大值的值。 

要为数据值添加限制，请[确保数据详情边栏已打开]（#aggregate_data_entry_app.opening_data_details_sidebar），然后单击*最小和最大限制*部分中的*添加限制*按钮。如果可能，将显示一个平均值，以帮助您创建合理的限制。

![](resources/images/data_entry_beta/limits-add-button.png){ width=50% }

添加最低和最高限额后，单击*保存限额*按钮。

如果数据值已经设置了限制，您可以更改或删除它们。要更改限制，请单击*编辑限制*按钮。要删除限制，请单击*删除限制*按钮。

![](resources/images/data_entry_beta/limits-edit-button.png){ width=50% }

> **注意事项**
>
> 添加、更改或删除限制需要正确的用户权限。对数据值应用限制时，同一限制适用于使用同一数据集的所有人。

#### 历史数据{ #aggregate_data_entry_app.history }

要了解某个数据值的更多信息，可以在数据详情边栏的*历史*部分查看最近 12 个值。[确保数据详情边栏已打开]（#aggregate_data_entry_app.opening_data_details_sidebar），然后打开 *History* 部分

![](resources/images/data_entry_beta/value-history.png){ width=60% }

在数据输入表单中工作时，*历史*部分默认是关闭的，以防止为每个值发送过多的网络数据。

#### 审计日志 { #aggregate_data_entry_app.audit_log}

每个数据录入单元格都有审计日志，显示值的更改时间和更改人。要查看审计日志，请[确保数据详情边栏已打开]（#aggregate_data_entry_app.opening_data_details_sidebar），然后打开*审计日志*部分。

<!-- todo: add image when bug fixes merged -->

通过数据输入表单工作时，*审计日志*部分默认为关闭状态，以防止每个值都发送过多的网络数据。


### 印刷{ #aggregate_data_entry_app.printing }

要打印数据输入表格，请单击顶部栏中的*选项*按钮。您可以从下拉菜单中选择打印包含单元格数据值的表格或空表格。

![](resources/images/data_entry_beta/print.png){ width=80% }

## 离线工作{ #aggregate_data_entry_app.working_offline }

您无需连接互联网或 DHIS2 服务器即可输入数据。脱机时输入表格的数据会保存到本地计算机。当您重新连接互联网/服务器时，本地保存的数据会自动与 DHIS2 服务器同步。

要离线工作，您需要在连接互联网时打开数据录入（测试版）应用程序，以便下载数据录入表格并将其存储到本地计算机上。表格下载会在后台自动进行。

屏幕顶部标题栏中的徽章显示您的连接状态。如果您没有连接到互联网或 DHIS2 服务器，徽章会显示*脱机*。除了脱机徽章外，您输入数据的表格单元格也会显示*等待同步*状态。

![](resources/images/data_entry_beta/offline.png){ width=60% }

> **注**
>
> 某些功能在脱机时无法使用，因为它们需要与 DHIS2 服务器联系才能工作。  
> 验证、数据值历史和数据值审计日志在脱机时不可用。


## 测试版不支持的功能{ #aggregate_data_entry_app.unsupported_features }

The **Data Entry (beta) app** is constantly evolving and new features are being added. There are some features that the previous Data Entry app offered that are supported yet:
- **自定义表单**尚不支持 CSS/JS。我们目前正在研究自定义表单的不同使用方式，以便建立一个更可持续、更灵活的解决方案。
- 不支持**多组织单位输入**。

## 相关信息{ #aggregate_data_entry_app.related_info }

- [控制数据质量](#control_data_quality)
- [管理数据集和数据输入表单](#manage_data_set)
- [使用维护应用程序](#maintenance_app)

