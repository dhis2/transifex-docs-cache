---
edit_url: "https://github.com/dhis2/dhis2-releases/blob/master/releases/2.38/ReleaseNote-2.38.md"
revision_date: "2022-05-05"
---

# DHIS 2.38 版发布说明{ #dhis-version-238-release-note }

## 分析功能 { #analytics-features }

**新的行列表应用程序：** 与事件报告应用程序相比，这个新的应用程序在 DHIS2 中制作跟踪实体的行列表方面有了巨大的改进。新的行列表应用程序复制了事件报告应用程序的所有行列表功能，它拥有全新的、经过大幅改进的用户体验，使用户更容易制作跟踪实体的行列表。它还包括许多新功能。下面列出了一些主要的新功能：

-   可视化多个重复事件：现在，您可以制作行列表，显示单个跟踪实体的多个重复阶段的数据。您可以指定要查看多少个重复阶段的数据。这对许多健康和教育计划都很有用，因为它能使单个病人或学生在一段时间内重复采集的数据可视化。[屏幕截图 1](images/2.38repeatingevent.png) | [屏幕截图 2](images/2.38repeatingevent2.png)
-   新的跟踪器特定时期维度：在新的行列表应用程序中，您可以生成显示注册日期、事件日期和/或事故日期的行列表。可以在单行列表中对这些日期进行定义、排序和显示。[屏幕截图](2.38linelisttimedemensions.png)
-   创建者和最后更新者：通过该选项，您可以查看为被跟踪实体创建注册或最后更新数据的用户的用户名。

[屏幕截图](images/2.38_linelist_2.png)

**组织单位（设施、学校、卫生站等）的集水区：** DHIS2.38 支持所有组织单位的多种几何图形（点和图形）。通过组织单位选择器中的一个选项，可以在地图应用程序中查看任何标准图层。实际上，这意味着系统管理员可以上传其设施、社区卫生站、学校、医院等的集水区，并按集水区可视化任何数据。

[Screenshot](images/2.38_catchment_area.png) | [Docs](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-235/analysing-data/maps.html) | |

**支持谷歌地球建筑/结构层：** 在地图应用程序中，用户现在可以看到由谷歌开放建筑数据集确定的结构轮廓。该数据集包括 5.16 亿栋建筑物（占非洲大陆面积的 64%）。例如，它对人口估算、城市规划、外联和健康计划以及人道主义响应非常有用。建筑物数量可通过集水区或组织单位边界显示。

[Screenshot 1](images/2.38_structures_1.png) | [Screenshot 2](images/2.38_structures_2.png) | [Docs](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-235/analysing-data/maps.html) |

**地图中的矢量磁贴支持：** 地图应用程序现在可使用并支持矢量磁贴。这将带来一些性能改进和底层技术更新。

**指标聚合类型覆盖：** 指标可指定一种聚合类型，覆盖分配给数据元素的默认类型。例如，如果一个数据元素的聚合类型是 SUM，那么指标也可以通过平均值、计数、第一位、最后一位、最小值、最大值等来报告数值。

_Example expression in indicators: #{EX2jBdKe4Yq}.aggregationType(COUNT)_ Description: ER Teachers Trained.aggregationType(COUNT)

[文件](https://docs.dhis2.org/en/full/use/user-guides/dhis-core-version-236/dhis2-user-manual.html#manage_indicator)

**指标最小日期和最大日期：** 可为获取指标的数据元素指定最小和/或最大日期。当数据语义不时发生变化，需要对相同结果进行不同计算时，这可能非常有用。通过改变指标的计算方式，它可以使指标在这些变化中报告一致。不要忘记，periodOffset 函数（自 2.36 版起）也可用于在指标表达式中包含不同时期的数据。

_指标中的 minDate 和 maxDate 表达式示例：#{EX2jBdKe4Yq}.minDate(2021-1-1).maxDate(2021-6-30)_ 说明：ER Teachers Trained.minDate(2021-1-1).maxDate(2021-6-30) -> 计算指标时将只使用 ER Teachers Trained 在 2021 年 1 月 1 日至 2021 年 6 月 30 日之间的值。

_指标中的 periodOffset 表达式示例：#{EX2jBdKe4Yq} + #{EX2jBdKe4Yq}.periodOffset(-1) + #{EX2jBdKe4Yq}.periodOffset(-2)_ 说明：ER Teachers Trained + Description：ER Teachers Trained + ER Teachers Trained.periodOffset(-1) + ER Teachers Trained.periodOffset(-2) -> ER Teachers Trained 在过去三个月中相对于分析应用程序中用于可视化此值的期间选择的总和。

[文件](https://docs.dhis2.org/en/full/use/user-guides/dhis-core-version-236/dhis2-user-manual.html#manage_indicator)

**指标子表达式（适用于 2.38.1）：** 指标可以计算数据元素以特定方式与固定值进行比较的组织单位数量。

_Example subExpression expression in indicators: subExpression( if (#{vq2q03TrNi} > 100, 1, 0) )_ Description: subExpression(if(IDSR Malaria>100,1,0)) -> 统计在用于可视化此值的分析应用程序中定义的给定时间段内报告疟疾病例超过 100 例的组织单位数量。

[文件](https://docs.dhis2.org/en/full/use/user-guides/dhis-core-version-236/dhis2-user-manual.html#manage_indicator)

## 跟踪器和事件功能 { #tracker-and-event-features }

**跟踪程序工作列表改进：** 跟踪程序工作列表的功能已扩展至与事件工作列表类似。捕捉应用程序现在允许通过用户界面配置、保存、共享、删除和更新工作列表。

[屏幕截图 1](images/Working_list.png) | [Docs](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/tracking-individual-level-data/capture.html#capture_views)| [Jira](https://jira.dhis2.org/browse/DHIS2-9275)

**在 Tracker Capture 和 Capture 应用程序中翻译程序规则操作：** 程序规则操作的内容--向用户可视化的 "静态文本"，可以翻译并显示在 Tracker 程序中。[Jira](https://jira.dhis2.org/browse/DHIS2-12137)

**数据元素和跟踪实体属性的说明和 URL：** 这些数据项上设置的说明和 URL 显示在弹出窗口中。单击数据元素名称后显示的 "i "图标即可访问该弹出窗口。描述是在维护应用程序中设置的，可用于提供更多有关数据项捕获内容的信息。

[Screenshot 1](images/Capture_DE_description.png) | [Jira](https://jira.dhis2.org/browse/DHIS2-5345)

**捕获应用程序中采用了新的 org 单元组件：** 捕获应用程序中使用的 org 单元组件已被 d2-ui 重新设计的 org 单元所取代。

[Jira](https://jira.dhis2.org/browse/DHIS2-11806)

**支持 GS1 数据矩阵：** GS1 数据矩阵用于药品和健康商品条形码，将支持供应链用例。鉴于字段值格式符合 GS1 数据矩阵标准和 GS1 应用程序标识符中的字符串键，现在可支持从分隔文本中提取值并将值分配到指定字段的程序规则。该功能在 Tracker Capture、Capture 和 Android Capture 应用程序中实现。

[文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/configuring-the-system/programs.html#program_rules_operators_functions) | [Jira](https://jira.dhis2.org/browse/DHIS2-12353)

**程序规则变量的数据/值类型：** 对于源类型为 "计算值 "的程序规则变量，维护程序将为用户指定值类型。计算值的默认值类型为文本。对于所有其他程序规则变量源类型，不应显示值类型选择，因为变量将从底层数据元素或跟踪实体属性继承类型。

[Jira](https://jira.dhis2.org/browse/DHIS2-12096)

**程序可在属性选项结束日期后继续打开：** 指定程序可在其相关属性选项关闭后继续打开。

[文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/configuring-the-system/programs.html#tracker_enter_programs_details)| [Jira](https://jira.dhis2.org/browse/DHIS2-12118)

**持续发布采集应用程序：** 从 2.38 版起，采集应用程序将在应用程序中心持续发布。因此，错误修正和新功能可在需要时下载和集成，而无需升级应用程序的其他部分。在 2.38.0 版本发布后不久，采集应用程序的首个更新版本将在应用程序中心发布。可通过应用程序管理应用程序访问应用程序中心。

**捕捉应用程序中的跟踪器功能：** 除了在 2.37 封闭测试版中添加的跟踪器功能外，还添加了其他功能。新功能可通过从应用程序中心安装更新的采集应用程序，并选择使用采集应用程序中的跟踪器功能进行测试。只有超级用户或有权更改程序元数据的用户才能使用选择功能。此处列出了可通过选择加入进行测试的新跟踪器功能：

-   TEI 配置文件部件：在注册仪表板上，您可以查看跟踪实体实例配置文件部件。在配置文件 widget 中，您可以查看关键属性值。单击编辑按钮可对跟踪实体实例配置文件进行更改。编辑配置文件会打开一个对话框，在该对话框中可以更改配置文件属性。  
    [Jira](https://jira.dhis2.org/browse/DHIS2-10946)
-   事件日程安排 widget 表格：用户可以选择稍后安排事件，而不是报告事件。这需要一个预定日期。对话框打开时会显示建议的计划日期，该日期由程序阶段配置和程序配置的一系列规则决定。  
    [文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/tracking-individual-level-data/capture.html#schedule-event-widget-form) | [Jira](https://jira.dhis2.org/browse/DHIS2-11861)
-   注册仪表板中的快速操作：快速操作部件为当前注册的常用操作提供了快捷方式，包括创建活动和安排活动。  
    [文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/tracking-individual-level-data/capture.html#quick-actions) | [Jira](https://jira.dhis2.org/browse/DHIS2-11953)
-   在注册部件中为已完成的注册 "添加新的"：一次只能有一个有效注册，但如果所有注册均已完成，则在注册部件中将提供一个选项，以便在程序中再次注册 TEI，前提是程序允许每个 TEI 进行一次以上的注册。如果程序不允许一次以上的注册，则添加新按钮将被禁用。[Jira](https://jira.dhis2.org/browse/DHIS2-12141)
-   重新注册现有的跟踪实体实例：通过在锁定选择器中选择跟踪实体实例并选择不同的程序，您现在可以将现有的 TEI 重新注册到其他程序中。注册页面将预先填入任何重叠的跟踪实体属性值。  
    [文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/tracking-individual-level-data/capture.html#re-enroll-an-existing-tracked-entity-instance) | [Jira](https://jira.dhis2.org/browse/DHIS2-12141)

## 平台功能 { #platform-features }

**版本检查通知：** 引入了新的 DHIS 2 版本检查通知服务，当 DHIS 2 的新版本可用时，它将以 DHIS 2 系统收件箱消息的形式发送通知。这包括主要版本和补丁版本。这有助于鼓励系统管理员升级 DHIS 2，以保证其实例的安全和最新。

文档 | [Jira](https://jira.dhis2.org/browse/DHIS2-9897)

**GeoJSON元数据属性：** GeoJSON现在支持作为元数据属性的值类型。这样就可以存储任意数量的 GeoJSON 文档，例如组织单位的文档。

[文档]() | [Jira](https://jira.dhis2.org/browse/DHIS2-12328)

**ADX 导出：** 导入/导出应用程序现在可以使用 ADX 数据格式导入和导出数据。

[Docs](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/maintaining-the-system/importexport-app.html) | [Jira](https://jira.dhis2.org/browse/DHIS2-4978)

**可配置的日志级别：** 现在可以在软件包级别的配置文件 `dhis.conf` 中配置日志级别。这意味着您可以直接在 DHIS 2 配置文件中指定 DHIS 2 中特定框架和模块的日志输出级别。

[文档](https://docs.dhis2.org/en/manage/performing-system-administration/dhis-core-version-master/installation.html#log-level-configuration) | [Jira](https://jira.dhis2.org/browse/DHIS2-11898)

**账户禁用通知：** 通过禁用用户计划任务自动禁用用户时，可向相关用户发送电子邮件通知。通知前的天数可在任务配置中定义。这有助于让用户在账户被禁用前有机会登录。

[Docs](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-238/maintaining-the-system/scheduling.html) | [Jira](https://jira.dhis2.org/browse/DHIS2-11589)

**数据值集输入方案：** 数据值集 API 端点现在支持输入方案，允许您使用代码字段引用元数据导入数据。

[Docs](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-238/data.html) | [Jira](https://jira.dhis2.org/browse/DHIS2-9822)

**组组集简短名称：** 指标组组集和类别选项组组集现在具有简短名称属性，从而可以进行精确和用户界面友好的渲染。简短名称现在用作资源表中的列名，而不是名称。

[Jira](https://jira.dhis2.org/browse/DHIS2-7317)

**分析缓存处理：** 分析数据的缓存现在会在分析数据库表更新时自动刷新。这可确保分析查询从分析数据中读取最新数据，并减少分析表更新与数据显示在数据可视化中之间的时滞。

[Jira](https://jira.dhis2.org/browse/DHIS2-12072)

### 平台应用程序功能{ #platform-api-features }

**数据存储改进：** 数据存储应用程序接口已得到大量改进，使其成为一个完全成熟的数据存储，对网络应用程序和其他客户端更有用。

-   **Field filtering:** Allows you to return only specific keys and values of entries in the data store using the `fields` parameter. Works similar to fields filtering in the metadata API. The filtering takes place at the namespace level and is useful when a client needs to list many entries with specific keys/values in a single query. [Docs](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data-store.html#datastore-query-api) | [Jira](https://jira.dhis2.org/browse/DHIS2-12154)
-   **分页：** 在查询响应中，默认支持并启用分页。您可以使用 `page` 和 `pageSize` 参数明确指定分页。分页对于处理具有大量条目的命名空间非常有用。[Docs](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data-store.html#datastore-query-api) | [Jira](https://jira.dhis2.org/browse/DHIS2-12329)
-   **Entry filtering:** Allows you to match and filter entries in a namespace based on a variety of operators, such as `eq`, `lt`, `le`, `gt`, `ge`, `like`, `null`, using the `filter` parameter. Works similar to object filtering in the metadata API. The filtering is useful when a client wants to list many entries which match one or many criteria. [Docs](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data-store.html#filtering-entries) | [Jira](https://jira.dhis2.org/browse/DHIS2-12331)
-   **排序：** 允许使用 `order` 参数根据特定键/值对名称空间中的条目进行升序或降序排序。当客户对条目列表的排序有特定要求时，这将非常有用。文档 | [Jira](https://jira.dhis2.org/browse/DHIS2-12330)

**请求日志：** API 客户端现在可以提交一个带有 `X-Request-ID` HTTP 标头的值，该值会包含在所有日志语句中。这在查看 DHIS 2 日志并试图了解是哪个客户端/应用程序发出请求时非常有用，例如，在调试适用于手机上安卓应用程序特定安装的问题时。

[文档](https://docs.dhis2.org/en/manage/performing-system-administration/dhis-core-version-238/installation.html#log-configuration) | [Jira](https://jira.dhis2.org/browse/DHIS2-6494)

**取消分析表工作：** 现在，您可以在分析表工作运行时取消（停止）它们。这对停止长期运行的工作非常有用，无需等待它们完成。

文档 | [Jira](https://jira.dhis2.org/browse/DHIS2-6314)

### 平台开发人员功能{ #platform-developer-features }

## 发行信息 { #release-info }

| 发布信息 | 链接 |
| --- | --- |
| 下载发行版和样本数据库 | https://www.dhis2.org/downloads |
| 文献资料 | [https://docs.dhis2.org](https://docs.dhis2.org/) |
| 升级说明 | [GitHub 上的升级说明](https://github.com/dhis2/dhis2-releases/blob/master/releases/2.38/README.md) |
| 此版本中的全部功能和错误列表 | [发布说明](https://github.com/dhis2/dhis2-releases/blob/master/releases/2.38/ReleaseNote-2.38.md) |
| Github上的源代码 | https://github.com/dhis2 |
| 演示实例 | https://play.dhis2.org/2.38/ |
| Docker 映像 | `docker pull dhis2/core:2.38.0` |
| Docker Hub 映像 | https://hub.docker.com/repository/docker/dhis2/core |
| 社区论坛 | https://community.dhis2.org/ |
