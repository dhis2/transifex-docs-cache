---
edit_url: "https://github.com/dhis2/dhis2-releases/blob/master/releases/2.39/ReleaseNote-2.39.md"
revision_date: '2023-01-26'
tags:
- DHIS core version 2.39
- Implement
---

# DHIS 2.39 版发布说明{ #dhis-version-239-release-note } 

## 分析功能 { #analytics-features } 

**行列表的图例集：** 行列表应用程序现在可以为数据项应用图例。图例可以是预定义的，也可以是自动生成的。这样，您就可以通过使用颜色编码来表示性能、状态或严重程度，从而使数据更易于解释。 

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/legend_coloring_in_line_lists.png)| [Jira](https://dhis2.atlassian.net/browse/DHIS2-75)

**行列表中的计划日期：** 在行列表应用程序中，计划日期可作为时间维度使用。现在，您可以按预定日期显示或过滤数据。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/scheduled_date_in_line_lists.png)| [Jira](https://dhis2.atlassian.net/browse/DHIS2-12309)

**地球引擎人口数据导入：** 在导入导出应用程序中，您现在可以从谷歌地球引擎导入数据集。DHIS 2 已经可以在地图应用程序中可视化地球引擎图层。新的导入程序更进一步，允许根据 org 单位几何图形动态计算人口数据集，然后将人口数据作为原始数据导入 DHIS 2。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/gee_importer.png)| [Jira](https://dhis2.atlassian.net/browse/DHIS2-11966)

## 跟踪器和事件功能 { #tracker-and-event-features } 

**持续发布采集应用程序：** 采集应用程序在应用程序集线器上发布 2.38 版本后不久发布，现在持续发布 2.38 和 2.39 版本。如果您正在运行这些版本中的任何一个，您将能够持续升级到最新版本的采集应用程序，并获得以下功能和修复。以下跟踪器功能均可通过 App Hub 在 2.38 和 2.39 版本中使用。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/capture_app_hub.png)

**在多个程序中注册 TEI：** 一个跟踪实体实例（TEI）现在可以在采集应用程序中的多个程序中注册。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/tei_multiple_programs.png)| [文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-238/tracking-individual-level-data/capture.html#re-enroll-an-existing-tracked-entity-instance) | [Jira](https://dhis2.atlassian.net/browse/DHIS2-12141)

** 注册后打开数据录入：** 在将 TEI 注册到一个程序（其中一个程序阶段标记为注册后打开）时，用户将直接进入将该程序阶段添加到注册中的表单。这对于减少点击次数和加快数据录入过程非常有用。

[文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-238/tracking-individual-level-data/capture.html#enrollment-with-open-data-entry-form) | [Jira](https://dhis2.atlassian.net/browse/DHIS2-12611)

**显示首页列表：** 现在可以在 "捕获 "应用程序中禁用首页列表视图。选择计划和组织单位后，用户可直接进入搜索屏幕，而不是显示组织单位中注册的被跟踪实体实例列表。当用户主要是搜索和查找被跟踪实体实例时，这将改善用户体验。避免不必要地加载首页列表也有性能方面的好处。

[文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-238/tracking-individual-level-data/capture.html#list-tracked-entity-instances-enrolled-in-program)| [Jira](https://dhis2.atlassian.net/browse/DHIS2-12140)

**搜索屏幕中的工作列表：** 在捕获应用程序中，搜索屏幕现在将显示所选程序的工作列表。当用户想要搜索跟踪实体实例或在某些情况下使用目标工作列表时，这将很有帮助。这与禁用首页列表并将用户引导到搜索页面相结合，效果很好，而且还允许一键访问工作列表。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/show_working_list_search.png)| [文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-238/tracking-individual-level-data/capture.html#custom-tei-working-list-for-programs-with-display-front-page-list-set-to-false) | [Jira](https://dhis2.atlassian.net/browse/DHIS2-12140)

**查看先前选定的组织单位：** 在 "捕获 "应用程序中，刚刚在上下文选择器中取消选择组织单位的用户将看到先前选定的组织单位突出显示。这在系统地处理许多组织单位时非常有用。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/capture_retain_previous_orgunit.png)| [Jira](https://dhis2.atlassian.net/browse/DHIS2-13472)

**在导航时保留筛选器：** 在捕获应用程序中筛选和排序工作列表时，筛选器的选择现在将通过上下文切换保持不变。当用户需要在不同的组织单位中应用筛选器时，这将非常有用，因为组织单位可以更改，而不会丢失当前的筛选器和列表设置。这既适用于已保存的工作列表，也适用于未保存的筛选器。

[Jira](https://dhis2.atlassian.net/browse/DHIS2-13285)

**改进在所有程序中的搜索：** 在特定程序中搜索被跟踪实体实例时，搜索可能不会在该程序的上下文中产生任何结果。在这种情况下，用户可以扩大搜索范围，在所有程序中查找被跟踪实体实例。扩展搜索无需用户更改上下文，可能的扩展搜索结果会显示在原始程序结果的下方。这样，用户就可以轻松修改搜索条件，并继续在开始时的上下文中工作，如果在程序中没有找到结果，还可以再次扩展搜索。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/capture_search_all_programs.png)| [文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-238/tracking-individual-level-data/capture.html#search-for-tracked-entity-instances) | [Jira](https://dhis2.atlassian.net/browse/DHIS2-12678)

## 平台功能 { #platform-features } 

**新的数据录入应用程序：** 新的汇总数据录入应用程序现已推出。新的应用程序基于新的现代技术堆栈，在可用性方面有了许多改进。数据集、组织单位和时期选择始终可见，便于查看当前选择。通过组织单位树，可以轻松查看当前选定的数据集有哪些组织单位可供输入数据。数据值的详细信息，包括元数据信息、注释、最小和最大限制、数据值历史记录和审核日志，可在侧边栏中查看，并可在输入数据时保持可见。数据验证规则将在侧边栏中打开并可轻松触发。离线采集的数据将自动与服务器同步。新的数据录入应用程序支持自定义 HTML 表单，但不支持 Javascript/CSS，稍后可能会添加。当前的数据录入模块将在 2.41 版中逐步淘汰和移除。

[屏幕截图 1］(https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/data-entry-section-form.png) | [Scr 2](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/data-entry-org-unit-tree-filter.png) | [Scr 3](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/data-entry-side-panel.png) | [Scr 4](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/data-entry-validation.png) | [Demo](https://play.dhis2.org/2.39.0/dhis-web-aggregate-data-entry/index.html#/) | [Docs](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/collecting-data/data-entry-beta.html)

**用户组管理：** 用户应用程序中的用户组管理现在支持为包含大量用户的数据库添加和删除用户。用户可以单独添加和删除，修改将在保存用户组时生效。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/user-group-management.png)| [演示](https://play.dhis2.org/2.39.0/dhis-web-user/index.html#/user-groups/new) | [文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/configuring-the-system/users-roles-and-groups.html#mgt_usergroup)

**多个组织单位几何图形：** DHIS 2 现在可以存储和可视化多个组织单位的几何图形。这可以通过新的元数据属性 GeoJSON 值类型来实现。GeoJSON 数据可通过元数据导入器导入，并使用新的值类型进行存储。例如，这允许同时显示 org 单位的位置（作为点）和集水区（作为多边形）。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/geojson-value-type-metadata-attribute.png)| [演示](https://play.dhis2.org/2.39.0/dhis-web-maintenance/index.html#/edit/otherSection/attribute/add)

**GeoJSON几何图形导入：** 支持地理空间数据行业标准*GeoJSON*格式的新导入服务现已推出。该导入器允许导入 GeoJSON 几何图形，并使用 org 单位主几何图形字段或值类型为 GeoJSON 的自定义元数据属性将其与 org 单位关联。大多数地理空间工具和服务都支持 GeoJSON 格式，并可与外部系统集成。与以前的 GML 格式相比，新的导入器使得导入几何图形和设置地图变得更加容易。

[屏幕截图](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/geojson-geometry-import.png)| [演示](https://play.dhis2.org/2.39.0/dhis-web-import-export/index.html#/import/geometry) | [文档](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/maintaining-the-system/importexport-app.html#geometry_import)| [geojson.org](https://geojson.org/)

**汇总数据交换：** 新的汇总数据交换服务允许从一个 DHIS 2 实例向另一个 DHIS 2 实例以及在 DHIS 2 的单个实例内交换数据。数据交换可以通过应用程序接口、数据交换网络应用程序触发，也可以作为计划任务运行。这有助于将数据从 HMIS 实例传输到 DHIS 2 数据门户实例，根据 DHIS 2 跟踪器实例中的单个记录将汇总数字导入 DHIS 2 HMIS 实例，以及根据使用程序指标的单个跟踪器记录预先计算汇总数字。一个名为 "数据交换"（*Data exchange*）的新网络应用程序将很快从应用程序中心提供。 

[屏幕截图 1](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/aggregate-data-exchange-report.png) | [Scr 2](https://s3.eu-west-1.amazonaws.com/content.dhis2.org/releases/screenshots/39/aggregate-data-exchange-submission.png) | [API docs](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data-exchange.html) | [Jira](https://dhis2.atlassian.net/browse/DHIS2-13105) | 网络应用即将推出

**用于集群管理的 Redis：** 在集群中运行 DHIS 2（一个实例使用多个服务器/节点）时，Redis 现在可用于跨实例动态失效缓存。这是对 2.38 版中引入的基于 Debezium 的方法的改进，因为它更可靠，而且能在标准 PostgreSQL 之外的其他数据库引擎（如 AWS RDS）上运行。新的集群管理解决方案允许动态添加和删除节点，而无需更新现有节点的 DHIS 2 配置文件。新解决方案要求 Redis 可用，尽管集群配置已经需要 Redis。

[文件](https://docs.dhis2.org/en/manage/performing-system-administration/dhis-core-version-master/installation.html#install_web_server_cluster_configuration)

** RapidPro 集成：** DHIS 2 - RapidPro 集成已普遍推出。它允许将 RapidPro 联系人与 DHIS 2 用户同步，将汇总数据报告从 RapidPro 传输到 DHIS 2，并在汇总报告逾期时提醒 RapidPro 联系人。更多信息请访问 [GitHub](https://github.com/dhis2/integration-dhis-rapidpro) 存储库，如果您有兴趣为您的国家或组织配置集成，请联系 DHIS 2 集成团队寻求帮助。

[GitHub](https://github.com/dhis2/integration-dhis-rapidpro)

### 平台 api 功能{ #platform-api-features } 

**Shorthand fields notation for attributes:** A new shorthand notation is supported for attributes and values in the metadata endpoints, and attribute values can now be conveniently referred to using the metadata attribute identifier: `fields={attribute-id}`. The same applies to object filtering, where the attribute identifier can be used in filters: `filter={attribute-id}:eq:{value}`.

[文档 1](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/metadata-gist.html#gist_attributeFields) | [文档 2](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/metadata.html#webapi_metadata_object_filter)| [Jira 1](https://dhis2.atlassian.net/browse/DHIS2-13158) | [Jira 2](https://dhis2.atlassian.net/browse/DHIS2-11867)

**数据录入端点：** 针对新数据录入应用程序进行了优化的 API 端点集合。这些端点对自定义数据录入网络应用程序也很有用。其中包括检索可访问数据集的元数据、检索自定义数据录入表单、检索表单的数据值、检索表单的上下文、保存最小-最大限制和完成表单。

[文件](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data-entry.html)

** 应用程序接口改进：** 已对应用程序接口进行了多项增量改进。

* CSV 数据值导入支持数据集参数，允许完成数据集。[文档](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data.html#webapi_data_values_import_parameters)| [Jira](https://dhis2.atlassian.net/browse/DHIS2-8083)
* In the user data store API, an admin can modify data store values for other users through a `username` query parameter.  [Docs](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data-store.html#admin-access-to-another-users-datastore) | [Jira](https://dhis2.atlassian.net/browse/DHIS2-7851)
* 数据值导入器只有在数据值被实际修改时才会创建审计记录（相同值将被忽略）。[Jira](https://dhis2.atlassian.net/browse/DHIS2-6163)
* 被跟踪实体审计端点支持组织单位、开始和结束日期以及计划阶段查询参数。  [文档](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/audit.html#webapi_tracked_entity_data_value_audits)| [Jira](https://dhis2.atlassian.net/browse/DHIS2-13421)
* 只需调用一次 API，即可删除 org 单位的所有几何数据，这对集成非常有用。[文档](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/metadata.html#geojson-import)| [Jira](https://dhis2.atlassian.net/browse/DHIS2-13313) 
* 元数据属性值现在可根据相关数据元素的值类型进行正确验证。[Jira](https://dhis2.atlassian.net/browse/DHIS2-5537)
* 删除数据元素的速度明显加快。[Jira](https://dhis2.atlassian.net/browse/DHIS2-5761)

## 发行信息 { #release-info } 

|发布信息|链接|
| --- | --- |
|下载发行版和样本数据库|https://www.dhis2.org/downloads|
|文献资料|[https://docs.dhis2.org](https://docs.dhis2.org/)|
|升级说明|[GitHub 上的升级说明](https://github.com/dhis2/dhis2-releases/blob/master/releases/2.39/README.md)|
|完整的功能和错误列表|[发布说明](https://github.com/dhis2/dhis2-releases/blob/master/releases/2.39/ReleaseNote-2.39.0.md)|
|GitHub 上的源代码|https://github.com/dhis2|
|演示实例|https://play.dhis2.org/2.39.0/|
|Docker 映像|`docker pull dhis2/core:2.39.0`|
|Docker Hub 映像|https://hub.docker.com/r/dhis2/core|
|社区论坛|https://community.dhis2.org/|

