---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/master/src/sysadmin/upgrading.md"
revision_date: '2023-05-05'
tags:
- DHIS核心 主版
- Manage
---

# 正在升级 { #upgrading-dhis2 }

## 升级与更新{ #upgrading-vs-updating }

当我们谈论升级 DHIS2 时，我们通常只是指“迁移到更新的版本”。然而，*升级*和*更新*之间有一个重要的区别。

**升级**
：迁移到较新的 DHIS2 基本版本（例如，从 2.34 到 2.36）。升级通常需要规划、测试、培训（针对新功能或界面），这可能需要大量时间和精力。

**更新中**
：转移到当前 DHIS2 版本的较新补丁（例如，从 2.35.1 到 2.35.4）。更新主要提供错误修复，而不改变软件的功能。它的风险较低，我们建议每个人都保持最新版本。

## 开始之前{ #upgrading-before-you-begin }

> **注意**
>
> 请务必注意，升级后，您将无法将升级后的数据库与旧版本的 DHIS2 一起使用。也就是说**无法降级**。
>
> 如果您希望恢复到旧版本，则必须使用从该旧版本或先前版本创建的数据库副本来执行此操作。因此，在升级之前制作数据库的副本几乎总是一个好主意。

## 执行升级{ #upgrading-process }

无论您是升级还是更新，技术流程或多或少都是相同的。我们将其称为升级。

### 1 保护您的数据{ #upgrading-safeguard-your-data }

根据您拥有的 DHIS2 实例类型及其用途，第一步是确保在升级出现任何问题时您可以恢复任何重要数据。

这意味着执行标准系统管理任务，例如：

1. 备份您的数据库
2. 在开发环境中测试
3. 安排停机时间（以避免在升级过程中输入数据）
4. ETC。

### 2 升级软件{ #upgrading-upgrade-the-software }

#### 从 v2.29 或更低版本开始 { #upgrading-pre-230 }

如果您从 v2.29 或更低版本开始，则必须首先按照 [我们的发布站点](https://github .com/dhis2/dhis2-releases）。当您使用 v2.30 时，您可以转到下一部分。

#### v2.30 或更高版本{ #upgrading-post-230 }

如果您至少从 v2.30 开始：

1. **在[我们的发布网站](https://github.com/dhis2/dhis2-releases)上阅读从当前版本到目标版本的所有升级说明。**确保您的环境满足所有要求
2. 停止服务器
3. 制作数据库的最终副本（并确保其未损坏）
4. 从数据库中删除所有具体化 SQL 视图
5. 将war文件替换为目标版本（不需要升级到中间版本；实际上不建议这样做）
6. 启动服务器

您现在应该准备好享受新的修复和功能了。

