---
edit_url: "https://github.com/dhis2/dhis2-releases/blob/master/releases/2.38/README.md"
revision_date: "2022-03-23"
---

# 2.38 升级说明{ #238-upgrade-notes }

## Java 支持{ #java-support }

从 DHIS 2.38 开始，需要 Java JDK 版本 11。这意味着在部署 DHIS 2.38 以后的版本时，不能再使用 Java 8。

自 2.35 版起，DHIS 2 已支持 Java 11。这意味着您可以将服务器升级到 JDK 11，同时仍运行 DHIS 2.35 或更高版本，为 DHIS 2.38 升级做准备。Java 11 已被证明对 DHIS 2 来说是可靠的，而且速度明显更快。

由于 Java 的免费和开源性质，我们始终建议使用 OpenJDK 发行版。OpenJDK 11 发行版适用于所有主流操作系统，并且是 Ubuntu 20.04 LTS 的默认 JDK。

## 数据库 { #database }

## 应用程序接口{ #api }

-   Running jobs manually using `/api/jobConfigurations/execute` changed from `GET` to `POST` request
-   Program id is now mandatory for program stage. Affected endpoints: `/programStages`, `/metadata`
-   删除了返回 JSONP（`Accept=application/javascript`）的 `GET /systemSettings` 功能
-   一些 API 端点会略微更改其响应根对象，以便与大多数端点保持一致。2.38 之前返回的根对象将成为 2.38 所返回的新根对象中名为 `response` 的成员。用户可以选择使用 `/api/37/......`来获取旧的行为，或者通过 `<root>.response` 来解压缩到新的响应，从而从 2.38 响应中解析出以前的根对象。

    > **NOTE**
    >
    > In case of error responses this also entails an HTTP status code change from `200 OK` to `409 Conflict`.

    受影响的端点有

    -   使用 `JSON`/`XML` 的 `POST /api/completeDataSetRegistrations` （仅非 `async` 受影响）。
    -   使用`JSON`/`XML`/`ADX`/`CSV`的`POST /api/dataValueSets` （仅非`async`受影响）
    -   用`JSON`/`XML`/`GML`/`CSV`发送`POST /api/metadata`（只影响非`async`）。
    -   `POST /api/predictions` (only non `async` affected)
    -   `PUT /api/predictions`（仅非 `async` 受影响）
    -   `PUT /api/relationships/{id}`
    -   用 `JSON`/`XML` 输入 `PUT /api/users/{uid}`

## 主管部门{ #authorities }

## 审核 { #audit }
