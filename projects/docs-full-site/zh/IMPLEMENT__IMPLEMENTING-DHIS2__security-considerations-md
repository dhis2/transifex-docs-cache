---
edit_url: "https://github.com/dhis2/dhis2-docs-implementation/blob/master/content/implementation/security_considerations.md"
revision_date: '2024-04-22'
tags:
- 实施
---

# 安全注意事项 { #security-considerations } 

本指南旨在协助 DHIS2 实施者和系统所有者采取合理适当的措施，识别和管理与 DHIS2 系统运行相关的风险。希望它对系统所有者特别有用，否则他们可能难以确定并对实施者施加技术限制。

DHIS2 由许多不同类型、不同规模和不同目的的组织实施。这里的主要系统所有者是政府卫生部门或部委，但许多指导原则也应适用于非政府组织和私营机构。

DHIS2 作为一个基于网络的系统，当卫生工作者可以使用任何设备并通过任何可用的网络连接提供商（如 4G 移动电话系统）通过开放的互联网访问该系统时，它就能发挥最大的潜力。我们已经看到，如果采用这种开放模式，就有可能在几个月而不是几年的时间内，在不同国家和项目间推广国家系统。

不幸的是，在同一时期，我们也看到来自犯罪分子和国家行为者对基于互联网的系统的威胁不断增加。攻击变得更加频繁和复杂。与 10 年前推出 DHIS2 第一批网络版时相比，现在更需要更加严格和精明。

全面的安全实践涉及数据的保密性、完整性和可用性。

在许多国家，DHIS2 作为国家卫生信息系统，特别是作为综合例行报告系统，在调整和维持方面取得了显著的成功。常规数据的保密性可以说并不是一个非常重要的问题，但随着时间的推移，系统的制度化程度越高，数据的**完整性**和**可用性**就变得越重要。数据丢失的影响尤其严重。

The nature of the data collected in DHIS2 has also become more sensitive. Increasingly a DHIS2 database will contain a significant amount of personal identifiable information (PII) or personal data. This can be patient demographic data, but also health worker personal data (email, telephone, address, messages) captured as User information. Adequate measures need to be in place to protect the **confidentiality** of such data and the privacy of the persons involved.

## 使用环境{ #context-of-use } 

### 法律和监管背景{ #legal-and-regulatory-context } 

没有一套普遍适用的法律、惯例和原则。例如，欧盟国家最近关于隐私的主要立法是[GDPR](https://gdpr.eu/) (General Data Protection Regulation, in force from May 2018). This legislation introduces a set of guiding principles and accompanying terminology which differs in scope, justificatory narrative and intent from the U.S. [HIPAA](https://www.cdc.gov/phlp/publications/topic/hipaa.html) （《健康保险可携性与责任法案》），这是该国管理健康数据的主要立法。

这些都是相对较新且复杂的立法。正在使用 DHIS2 的国家通常不需要遵守 HIPAA 或 GDPR，但许多国家已经或正在制定该领域的国家立法，例如南非的《2013 年个人信息保护法》和印度的《2019 年个人数据保护法案》（草案）。实施者和系统所有者应努力全面熟悉其使用辖区的立法。联合国贸发会议](https://unctad.org/page/data-protection-and-privacy-legislation-worldwide) 有一个网页，提供世界各国的最新隐私立法。

对于公共部门的系统（可能是使用 DHIS2 的大多数情况），可能会有与系统和数据安全有关的额外政策和标准操作程序，这些政策和程序也具有法律效力。

在大多数情况下，以不了解法律为由进行抗辩并不能作为辩护理由。

在任何相关立法和政策范围之外开展工作都是困难的，但在现有监管环境已经过时或不足的情况下，需要在 DHIS2 系统本身的范围内通过协商一致建立适当的控制措施。

### 人文和组织背景{ #human-and-organisational-context } 

高度发达的劳动分工是 "先进 "资本主义经济体的一个特征。我们在欧洲和美国的 IT 行业可以清楚地看到这一点，那里的系统管理员、程序员、网络工程师、信息终端用户之间有着非常明显的区别，同时还有高度发达的 IT 管理结构、角色和实践，尤其是在大型组织中。

期望在所有国家找到相同的结构和角色是愚蠢的，特别是在 DHIS2 可能是国家卫生部的第一个或至少是最重要的国家系统的情况下。在没有相对现代化的管理基础和熟练劳动力的情况下，实施像 DHIS2 这样复杂的网络系统会带来独特的风险和挑战。开发适当的组织形式来管理风险，使系统得以蓬勃发展和持续，至少与任何技术考虑同等重要。

如果政府部门、伙伴组织和捐助者之间的关系错综复杂，在安全和隐私方面的观点和优先事项可能不尽相同，那么挑战就会更加严峻。

## 措施{ #measures } 
### 组织措施{ #organisational-measures } 

面对系统所有者可能面临的组织挑战，系统所有者制定适当的系统安全管理计划就变得更加重要。以下是一小部分实用建议。

制定安全管理计划是对系统行使所有权的第一步。如果卫生部只是被动地使用由伙伴组织开发和管理的系统，那么他们就没有行使所有权。

安全是一个管理问题。你不能将其委托给组织中最低级、技术含量最高的人员（这很常见！），也不能将其外包给技术合作伙伴（这也很常见）。你几乎肯定会依靠这些资源，但动力应来自管理层。

在一个理想的世界里，可能会有一位首席安全官（CSO），他拥有许多安全和治理框架（TOGAF、ITIL、ISO27000x 等）的专业背景。但实际情况很可能并非如此，人们需要利用现有资源制定更加灵活的计划。随机应变是关键。有一个糟糕的安全管理计划，或者至少是制定不完善的计划，总比没有计划要好得多。薄弱的计划可以改进并进一步发展。

我们建议各组织采用类似 ISO27002（信息安全管理）的一些方法，但不一定非要走上符合 ISO27000 的道路。这至少意味着：

> 1\.  你有一份总结组织安全态势的高层声明。一份只有一页纸的声明，应突出原则和意图，并表明高级管理层对这一过程的承诺。
> 
> 2\.  你已经在团队中明确了一个人（相当高级），他将负责制定、维护和实施安全计划。我们可以称之为安全经理。
> 
> 3\.  安全经理致力于识别、记录和降低风险的过程。这是一个持续的过程，通常围绕风险登记册的维护进行，并定期进行审查。
>
> 4\.有定期对 DHIS2 部署、配置和元数据进行内部和/或外部审计的程序（包括 时间和预算），包括组织/机构的安全计划。
>
> 5\.各方之间有数据共享协议，规定处理哪些数据、目的和方式，设定明确的限制和界限，以避免病人数据外泄，并保护数据的完整性和保密性。
>
> 6\.为 DHIS2 系统确立数据和技术所有权。

ISO 27000 等框架中设想的许多其他工具和流程都可以从这个周期中自然产生。例如，如果没有灾难恢复计划或备份战略，登记簿中就会将其作为主要风险加以强调。组建和维护这样一个登记册，可以让团队确定需要完成的任务并排定优先次序，评估在实现更好的态势方面取得的进展。

作为任何安全计划的第一步，至少应创建以下文件：
- 资产清单
- 风险评估/风险登记文件
- 备份政策
- 灾难恢复政策
- 事件响应计划
- 身份和访问管理计划

为了帮助实施者启动他们的安全计划，我们开发了一套模板，任何人都可以使用并根据自己的需要进行调整，这套模板被称为 [Security Starter Kit](https://drive.google.com/drive/folders/1B2li8W4pAIF4OP8lSDT_WjN4TOZ0uzSH)。

### 系统配置措施{ #system-configuration-measures } 
在 DHIS2 系统配置层面，也可以采取一些措施来提高安全性，例如与确保适当的系 统和数据访问有关的措施。这里列出了系统配置措施的建议优先级（前 10 位）清单：


> **System administration**
> 
> 1\. There is a limited number (less than 5) of people with superuser (full) access to the system. 
> *Can easily be assessed through the API: `/api/users.json?filter=userCredentials.userRoles.authorities:!in:[_ALL_]&filter=userCredentials.userRoles.authorities:in:\[ALL]`*
> 
> 2\. System administrators are only given authority to perform functions that are relevant for their system administration roles.
> *For example, an administrator responsible for managing charts and dashboards does not need rights to edit organisation units.*
> 
> 3\. The default DHIS2 user account (username "admin") is deleted or disabled.
> *The admin account should only be used when DHIS2 is started for the first time, to set up a personal superuser. It should then be disabled and/or deleted. The status of the admin account can be verified using the API: `/api/users.json?filter=userCredentials.username:eq:admin&fields=name,userCredentials\[name,disabled\]`*

> **User management**
>
> 4\. There are procedures in place to disable or remove user accounts of people who leave the service.
> *There should be clear procedures in place to disable/delete user accounts of people who leave the (health) service. Some indication of this can be derived from the API, by looking at user accounts that are not disabled and have not logged in to the system e.g. in the current year: `/api/users.json?filter=userCredentials.disabled:eq:false&filter=userCredentials.lastLogin:lt:2021`*
> 
> 5\. All user accounts in the system are personal, i.e. not shared by several individuals.
> *User accounts should not be shared by several individuals, as this makes auditing impossible. This is especially critical if Tracker is used for individual-level data.*
> 
> 6\. There are clearly defined user roles and user groups, with guidance on what roles and groups should be used according to the positions within the (health) service of the user.
> 
> 7\. If self-registration of users is enabled, the user role given to these users should be very limited, e.g. to only viewing public dashboards.
>
> 8\. Disabling accounts might be a good way to limit the access to some users that have been forgotten in the system. DHIS2 provides a scheduled task to automate this. However, be aware that this might have consequences (leading to data loss) while using Android devices as explained in the [official documentation](https://docs.dhis2.org/en/full/use/user-guides/dhis-core-version-master/dhis2-user-manual.html#mgt_user). 

> **Tracker**
> 
> 9\. Access to Tracker data is limited to users with a legitimate need for the edit/view the data through appropriate use of sharing and user groups. No tracker programmes intended for use to record information on individual persons are configured with public access.
> *Tracker data is typically linked to individuals, and should therefore be restricted to users with a legitimate use of this data. While it might be a good idea that aggregate data is accessible to all users, this is not the case with Tracker data.*
> 
> 10\. Tracker programmes are configured so that users can only search for and access data for people they have a legitimate reason for viewing.
> *For example, a user working within one health facility should not be assigned to a district. The "tracked entity search organisation unit" should not be set broader than what is practically necessary, if used.*

> **Android**
>
> Using mobile devices (Android) in DHIS2 is becoming more common due to their offline and last-mile capabilities. However it comes with additional requirements to look at from the security perspective as the exposure increases passing from one server containing information to multiple devices that might contain sensitive information.
>
> If sensitive information is being stored in the devices, concern should be raised via training and/or documentation. And system administrators might want to enable different measures that could help reduce the risks for which the Android Settings Web App (ASWA) is available.
>
> The ASWA allows system administrators (among other things) to:
>
> - Force the DHIS2 local database encryption on the devices to prevent the leak of data by malicious actors in case of having access to a device.
> - Allowing/disallowing the screenshot capabilities reduces (but not limits) the risk of leaking confidential information.
>
> A section of the official documentation [(DHIS2 Android App](https://docs.dhis2.org/en/full/use/dhis2-android-app.html#capture_app_android_settings_webapp)) describes all these in detail.
>
> On top of this the Android application might be individually configured to ask for a PIN code as another layer of security to the username/password pair.
>
> In implementations where risk of devices being lost/stolen exists, system administrators might want to add another layer of security brought by tools like Mobile Device Management which could allow remote wiping, location, etc. A specific guide is available in the official documentation: [managing mobile devices](https://docs.dhis2.org/en/full/implement/managing-mobile-devices.html).

### 技术措施{ #technical-measures } 

DHIS2 系统的配置方式有很多种，包括在不同的物理环境（内部部署、共同定位、私有云、公共云）中使用不同的操作系统、使用容器、负载分担、复制等。根据调配过程中的这些设计选择，可以并应该应用不同的安全控制措施。

从最一般的意义上说，我们可以认为应该有：

- 一套成文的技术控制措施
- 针对这些控制措施的审计程序

互联网安全中心([https://cisecurity.org](https://cisecurity.org))等组织为软件产品制定了详细的基准，可用于编制一套控制措施供你实施。在大多数情况下，你不会应用所有的基准，而是会选择最相关的基准。你应该从 [https://www.cisecurity.org/cis-benchmarks/](https://www.cisecurity.org/cis-benchmarks/)提供的列表中下载并研究 Apache Tomcat、Postgresql、nginx（或 Apache2）的基准。此外，根据您的技术选择，您可能会发现 Ubuntu linux、lxd、Docker 或 Microsoft Windows 的基准与您的实施相关。

拟议的高度优先（前 10 项）技术措施清单：

> 1\.操作系统是 LTS（长期服务版）。
> 
> 2\.有一个应用操作系统安全补丁的自动程序。
> 
> 3\.配置基于主机和/或网络的防火墙，仅向网络提供必要的服务。
> 
> 4\.根据商定的良好做法，通过 SSH 对 DHIS2 服务器进行管理访问 - 仅密钥验证、无 root 访问、明确的用户允许列表、较少的最大验证尝试次数。
> 
> 5\.DHIS2 版本与最新版本的差距不超过 3 个版本。有定期打补丁的程序。
> 
> 6\.自动备份系统已就位并定期测试，包括异地测试。
> 
> 7\.Postgres 和系统用户遵循最小权限原则：只允许最小的权限和访问。
> 
> 8\.DHIS2 通过配置了 TLS/SSL 的网络代理服务器（必须在 [ssllabs](https://www.ssllabs.com/ssltest/) 中至少获得 A 级评分）公开。
> 
> 9\.数据库数据位于单独位置（数据分区、硬盘、云存储等），允许静态加密。
> 
> 10\.针对系统指标（至少包括 CPU、内存、磁盘、网络、数据库、网络代理）建立监控和警报系统，并配备适当的身份验证机制（如 2FA、SSO、强密码要求）和基于角色的访问。

