---
edit_url: "https://github.com/dhis2/dhis2-docs-implementation/blob/master/content/maintenance_use/offline-data-entry.md"
revision_date: '2021-09-15'
tags:
- 实施
---

# 使用DHIS 2进行脱机数据输入的准则 { #offline_data_entry } 
<!--DHIS2-SECTION-ID:offline_data_entry-->

事实上，DHIS 2 的标准部署方式已经变成了*在线*，这意味着
是指在连接互联网的服务器上建立一个应用程序实例
所有用户通过互联网上的网络浏览器连接到应用程序。
网络浏览器连接到应用程序。这要归功于
互联网可用性的稳步提高（主要是移动互联网）、
提供随时可用的廉价云计算资源
再加上 DHIS 2 不需要很大的带宽。
带宽。这些发展使得即使在最偏远的农村地区，也可以通过移动互联网
即使是在最偏远的农村地区，也可以使用移动互联网调制解调器（也称为加密狗
加密狗）访问在线服务器。

这种在线部署方式对
实施过程和应用程序维护相比
传统的离线独立风格：

**硬件**：最终用户端的硬件要求仅限于
相当现代的计算机/笔记本电脑和互联网<!-- 提及电话，因为 Android 被列为
选择？ --> 通过固定线路或移动调制解调器进行连接。没有必要
对于每个用户的专用服务器，任何支持互联网的计算机
就足够了。在线部署需要服务器，
但由于只有一台（或几台）服务器需要
采购和维护，这明显更简单（而且更便宜）
与在不同位置维护许多单独的服务器相比。给定
云计算资源价格持续稳步下降
在增加计算能力的同时，建立一个强大的服务器
云比采购硬件便宜得多。

**软件平台**：最终用户只需要一个网络浏览器即可连接
在线服务器。当今所有流行的操作系统都附带
网络浏览器，对于什么类型或没有特殊要求
版本<!--I’m not sure this is true, at least in practice -->。这意味着如果出现严重问题
例如病毒感染或软件损坏总是可以发生
重新格式化并安装计算机操作系统或
获得一台新电脑/笔记本电脑。用户可以继续数据输入
保留在原来的位置，不会丢失任何数据。

**软件应用**：中央服务器部署方式意味着
应用程序可以集中升级和维护。
当应用程序的新版本发布并具有新功能时
错误修复它可以部署到单个在线服务器。所有变更
下次最终用户时会反映在客户端
通过互联网连接。这显然对
随着新功能的发布而改进系统的过程
立即向用户提供，所有用户都将访问同一应用程序
版本，并且可以整理和部署错误和问题
即时<!-- Bugs can be deployed on-the-fly! -->。

**数据库维护**：与上一点类似，更改为
元数据可以在在线服务器上以集中方式完成，
下次连接时将自动传播到所有客户端
服务器。这有效地消除了与
维护与相关的升级和标准化元数据集
传统的离线部署方式。这是非常方便的
初始数据库开发阶段和开发期间的实例
年度数据库修订流程，因为最终用户将访问
即使频繁发生变化，数据库仍保持一致和标准化。

尽管 DHIS 2 实施可以标记为在线实施，但值得
注意到这样的部署可能不纯粹是在线的，并且可能是一些本地的
变化取决于当地的限制。例如，虽然大多数用户
各国可以使用其国家轻松访问其国家 DHIS 2 实例
移动互联网或更好的<!-- Other? Fixed might not be better... -->连接方式，
不幸的是，有些人仍然难以访问系统以获取数据
在互联网连接不稳定或
长时间失踪。对于这些苦苦挣扎的用户来说，
需要找到与系统交互的替代方法。

本指南旨在就如何减轻影响提供建议
在充满挑战的环境中缺乏可靠的互联网。

## 案例及相应的解决方案 { #offline_data_entry_cases } 
<!--DHIS2-SECTION-ID:offline_data_entry_cases-->

在本节中，我们将研究可能具有挑战性的案例并描述
解决这些问题或尽量减少对用户的影响的可能方法
整个系统在短期内。显然，可能的解决方案
本指南中提出的建议应根据具体情况进行调整
考虑到许多其他参数，例如安全性、当地实践和
规则等。本指南的想法不是规定要点
证明解决方案可以在任何地方工作，但提出解决方法
该国某些地方的连接问题。

我们确定了三（3）个主要方案：

  1. 有限的互联网可用性和数据输入表格很小
  1. 有限的互联网可用性和数据输入形式非常庞大
  1. 互联网根本不可用

我们认识到这些场景非常简单，因为
例如，医疗机构可以有一份小的每周表格
对于疾病监测，每月进度报告的一份大表格和一份
健康计划的中型表格。这使得数量
给定设置的可能场景超出了说明的范围
这里。因此，将由每个实施团队讨论
与利益相关者一起做出解决所有问题的简单选择
给定设置中的场景。在大多数情况下，大约 80% 到 95%
地区<!-- Do we have a source for this? -->（或卫生机构，如果数据输入
在此级别完成）将具有相同的配置
互联网可用性，只有剩下的 5% 到 20% 需要
在 DHIS 2 中获取数据的替代方法。

### 1.有限的互联网可用性（信号不稳定或有限的移动数据）和数据输入表格很小  { #offline_data_entry_cases_small } 
<!--DHIS2-SECTION-ID:offline_data_entry_cases_small-->

通过有限的互联网可用性，我们的意思是：

  - 网络信号可用且良好，但不够
    购买足够的移动数据资源以连续在线工作
  - 网络良好，但波动或仅在给定的情况下可用
    一天中的一段时间
  - 网络信号较弱，但会时常改善
    连接到 DHIS 2

数据输入表单小是指数据输入表单小于
一百<!-- 如果我猜到“小”是什么意思，我会说
10-20 --> 字段。

因此，如果互联网连接有限并且数据输入表格很小，
有两种方法可以解决连接问题： Android
数据采集应用程序和网络数据输入离线功能。

#### 使用Android数据捕获应用程序： { #use-of-android-data-capture-app } 
<！-需要确保此版本已随着新版本的发布而更新
应用程序->

Data Capture for DHIS 2 应用程序允许用户将数据输入 DHIS 2
带有 Android 设备的服务器。该应用程序下载表单实例
需要从服务器输入数据并将其存储在
设备。这意味着用户可以离线输入其设施的数据
分配给 DHIS 2 服务器，然后将其上传到 DHIS 2 服务器
网络覆盖。

为此，将请求用户从以下位置访问 Google Play：
他们的 Android 设备并输入 DHIS 2 数据捕获并获取以下内容
屏幕。

然后安装名为 **Data Capture for DHIS 2** 的应用程序。

![](resources/images/image5.png)

安装并启动应用程序后，将要求用户
提供其国家 DHIS 2 的 URL、用户名和密码以及
点击登录。

<table style="border:1px;">
<tr>
<td style="width:40%;padding: 5 20 5 20;border:1px;">

![](resources/images/offline_data_entry/image4.jpg)
</td>
<td style="width:40%;padding: 5 20 5 20;border:0px;">
</td>
</tr>
</table>

登录成功后，应用程序会自动下载
用户分配到的表单和组织单位并存储它们
本地用于数据输入。从这里开始，该应用程序的任何后续使用
作为表单实例，数据输入不需要互联网连接
已经存储在本地。仅需要互联网连接
与服务器同步数据。当互联网可用时可以完成此操作
本地。

<table style="border:0px;">
<tr>
<td style="width:40%;padding: 5 20 5 20 ;border:0px;">

![](resources/images/image9.jpg)
</td>
<td style="width:40%;padding: 5 20 5 20 ;border:0px;">

![](resources/images/image7.jpg)
</td>
</tr>
</table>

在系统管理方面，将数据输入表单组织成
DHIS 2 中的部分将使数据输入体验更加流畅和
令人愉快的。

至于同步，当互联网连接不可用时
需要时，用户将移动设备带到该地区 – 期间
地区会议 – 或到最近有互联网的区域
可用的。

#### 脱机使用DHIS 2 Web数据输入模块的功能 { #use-of-the-offline-capability-of-dhis-2-web-data-entry-module } 

Web 数据输入模块是 DHIS 2 内部允许数据输入的模块
使用我们的浏览器输入。这是 DHIS 2 中数据的常规方式
在线输入。然而，它确实还具有“离线”功能
即使互联网断线，也支持继续输入数据
打断了。这意味着用户想要在
月底，他必须首先连接到互联网，登录
进入 DHIS 2 并打开至少其中一项的数据输入表格
他被分配到的设施。从这一步开始，他可以断开他的连接
互联网并继续为其所有设施和
只要数据输入网页窗口没有关闭，他想要的时间段
在网络浏览器中。完成数据输入后，他可以关闭
浏览器和事件关闭了他的计算机。输入的数据将被存储
本地在浏览器的缓存中，下次用户将获得
在线并登录 DHIS 2 他将被要求单击按钮上传
它。

对于这种情况，可以使用 Android 数据输入应用程序或
DHIS 2 中基于半离线网络的功能或两者都取决于
数据输入表单的大小。<!-- Not clear what "For this case" refers to -->
但是，清除浏览器缓存会导致存储的数据丢失
本地。因此，建议不清除缓存
确保本地存储的数据同步。

当用户登录并且互联网被切断时（有意或无意）

![](resources/images/image1.png) <!-- PALD：此屏幕截图是
当主页图标（）左上角）损坏时拍摄。我建议我们更换这张图片！ -->

当互联网重新连接并且用户登录DHIS 2时

![](resources/images/image6.png)


### 2.有限的互联网可用性和数据输入形式非常庞大 { #offline_data_entry_cases_huge } 
<!--DHIS2-SECTION-ID:offline_data_entry_cases_huge-->

<!-- Does the PDF data entry option still exist? Where you could generate PDF-based data entry forms that could be managed offline and then be uploaded?-->

当互联网但可用性有限但数据输入表格
包含数百个字段，它限制了可能的解决方案。在
在这种情况下，不建议使用 android capture 进行两个操作
原因：

  - 它可能经常崩溃，因为它不是为处理以下形式而设计的
    尺寸非常大<!-- We could perhaps de-emphasise this point.. -->
  - 对于用户来说，这可能会变得乏味且费眼，因为
    屏幕很小，无法快速输入数据

因此，唯一可用的选择是使用网络数据输入模块
上述离线功能或移动到最近的地方
当用户下次无法等待时可以使用互联网
他所在的地区将提供互联网。


### 3.互联网根本不可用 { #offline_data_entry_cases_no_available } 
<!--DHIS2-SECTION-ID:offline_data_entry_cases_no_available-->

在这种情况下，有三个选项：

  - 使用 Android 捕获应用程序在本地输入数据并同步
    如果用户可以访问互联网，则数据位于上层
    在那里参加定期会议。这仅在表格可行的情况下才可行
    很小
  - 搬到最近的地方（如果负担得起的话）或利用
    上层定期开会，用网络数据抓取数据
    输入模块。在这种情况下取决于互联网连接
    用户可以在线工作或使用离线功能
    在[上面](#offline_data_entry_cases_small)部分中进行了描述。
  - 询问上层哪里可以上网进行数据输入
    无论表格的大小。尽管此数据输入发生
    在上层，仍然可以输入每个卫生机构的数据。


<！-看起来很自然，带有某种结论或
摘要->

