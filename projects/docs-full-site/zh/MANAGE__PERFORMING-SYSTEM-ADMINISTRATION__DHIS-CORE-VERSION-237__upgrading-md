---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/2.37/src/sysadmin/upgrading.md"
revision_date: '2021-08-18'
tags:
- DHIS 核心 2.37 版
- 管理
---

# 升级{ #upgrading-dhis2 }

## 升级与更新{ #upgrading-vs-updating }

当我们谈论 DHIS2 的升级时，我们通常只是指 "升级到新版本"。不过，*升级*和*更新*之间有一个重要的区别。

**升级**
:   升级到较新的 DHIS2 基本版本（例如，从 2.34 升级到 2.36）。升级通常需要规划、测试、培训（针对新功能或界面），这可能需要花费大量的时间和精力。

**更新**
:   升级到当前 DHIS2 版本的更新补丁（例如，从 2.35.1 升级到 2.35.4）。更新主要提供错误修复，而不改变软件的功能。它的风险较低，我们建议每个人都保持其版本的更新。

## 开始之前{ #upgrading-before-you-begin }

> **注意事项**
>
> 需要注意的是，一旦升级，就不能在旧版本的 DHIS2 中使用升级后的数据库。也就是说，**无法降级**。
>
> 如果要恢复到旧版本，必须使用旧版本或以前版本的数据库副本。因此，在升级之前复制一份数据库几乎总是一个好主意。

## 执行升级{ #upgrading-process }

无论您是升级还是更新，技术过程都大致相同。我们只将其称为升级。

### 1 保护您的数据{ #upgrading-safeguard-your-data }

根据您的 DHIS2 实例类型和用途，第一步是确保在升级过程中出现任何问题时，您可以恢复任何重要数据。

这意味着要执行标准的系统管理任务，例如

1. 备份数据库
2. 在开发环境中进行测试
3. 安排停机时间（避免在升级期间输入数据）
4. 等等

### 2 软件升级{ #upgrading-upgrade-the-software }

#### 从版本 2.29 或以下{ #upgrading-pre-230 }

如果您是从 v2.29 或更低版本开始使用，则必须首先按照[我们的发布网站](https://github.com/dhis2/dhis2-releases) 上特定版本号下的升级说明，逐个版本手动升级到 v2.30。升级到 v2.30 后，您就可以进入下一部分。

#### 从 v2.30 或更高版本开始{ #upgrading-post-230 }

如果您至少从版本 2.30 开始使用：

1. **在[我们的发布网站](https://github.com/dhis2/dhis2-releases)上阅读从当前版本到目标版本的所有升级说明。** 确保您的环境满足所有要求
2. 如果您在步骤 1 中没有复制数据库，请复制一份副本
3. 从数据库中删除任何实体化 SQL 视图
4. 停止服务器
5. 用目标版本替换 war 文件（无需升级到中间版本；事实上，不建议这样做）
6. 启动服务器

现在您应该可以享受新的修复和功能了。

