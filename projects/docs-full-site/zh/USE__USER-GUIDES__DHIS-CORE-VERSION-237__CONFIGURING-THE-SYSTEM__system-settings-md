---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/2.37/src/user/system-settings.md"
revision_date: '2021-10-19'
tags:
- DHIS 核心 2.37 版
- 使用
---

# 系统设置 { #settings } 

## 常规设置 { #system_general_settings } 



表格常规设置

| 设置 | 描述 |
|---|---|
| **分析记录的最大数量** | 增加该数字可提供更多分析记录。<br> <br>默认值为 50,000。<br>     <br>    **警告**<br> <br> 请谨慎使用**无限制**设置，它可能会导致服务器负载过高。 |
| **SQL 视图记录的最大数量** | 设置 SQL 视图中记录的最大数量。<br> <br>默认值为无限。 |
| **缓存策略** | 决定报告分析回复的缓存时间。<br> <br>如果使用计划的每晚分析更新，则可能需要选择 **缓存至明天早上 6 点**。这是因为此时报告中的数据会发生变化，您可以安全地将数据缓存到分析表更新之时。<br> <br>如果要将数据持续加载到分析表中，请选择**不缓存**。<br> <br>对于其他情况，请选择希望缓存数据的时间。 |
| ** 基础设施指标** | 定义一个指标组，其中的成员指标应描述有关组织单位基础设施的数据。<br> <br>您可以在**GIS**应用程序中查看基础设施数据：右键单击设施，然后单击**显示信息**。 |
| ** 基础结构数据要素** | 定义一个数据元素组，其中的成员数据元素应描述有关组织单位基础设施的数据。<br> <br>基础设施数据元素可以是人口、医生、床位、互联网连接和气候。<br> <br>您可以在**GIS**应用程序中查看基础设施数据：右键单击设施，然后单击**显示信息**。 |
| **基建期类型** | 设置采集基础设施数据元素组中数据元素的频率。<br> <br>一般为每年一次。查看基础设施数据时，您可以选择数据源的时间段。<br> <br>您可以在**GIS**应用程序中查看基础设施数据：右键单击设施，然后单击**显示信息**。 |
| ** 用于分析的默认相对周期** | 设置此值将决定在分析应用程序中选择哪个相对周期作为默认值。 |
| **接收反馈者** | 定义一个用户组，其成员将接收通过 **Dashboard** 应用程序中的反馈功能发送的所有信息。<br> <br>这通常是超级用户团队的成员，他们能够支持和回答最终用户提出的问题。 |
| **最大离线组织单位级别** | 定义组织单位树 widget 中离线可用的组织单位层次结构的层级。<br> <br>在正常情况下，可以将其设置为最低层级，即默认设置。<br> <br>在组织单位数量较多（通常超过 30 000 个）的情况下，将其设置为较高的级别以减少初始加载时间可能会很有用。 |
| **数据分析标准差系数** | 设置对**数据录入**应用中捕获的数据进行离群值分析时使用的标准差个数。<br> <br>默认值为 2。高值会比低值捕获更少的异常值。 |
| **电话号码区号** | 您的部署所在地区的区号。<br> <br>用于发送和接收短信。通常是国家代码。<br> <br>*+260*（赞比亚的国家代码） |
| **启用多组织单位表格** | 启用支持在**数据录入**应用中同时输入多个组织单位的数据表格。<br> <br>如果启用了此设置，就可以在**数据录入**应用程序中，单击要输入数据的子代的父代组织单位，数据集列表将包括分配给该父代的子代的数据集。 |
| ** 批准前必须验收** | 选择此设置后，在提交下一级审批之前，必须先接受数据。 |
| **在仪表板视图中收集分析对象统计数据** | 在仪表板内查看分析对象（如地图、图表等）时收集使用分析数据。如果没有此设置，则只有在仪表盘之外查看对象时才会收集对象的分析数据。 |
| **将被动仪表盘视图纳入使用分析统计** | 在启动仪表盘应用程序时显示的第一个仪表盘上收集使用分析数据（否则只计算明确的仪表盘选择）。 |

## 分析设置 { #system_analytics_settings } 



表格分析设置

| 设置 | 描述 |
|---|---|
| ** 用于分析的默认相对周期** | Defines the relative period to use by default in analytics app: **Data Visualizer**, **Event Reports**, **Event Visualizer**, **GIS** and **Pivot Table** apps. The relative period will be automatically selected when you open these apps.<br> <br>Recommended setting: the most commonly used relative period among your users. |
| **隐藏每日时段** | 在分析工具中隐藏每日时段 |
| **隐藏每周时段** | 在分析工具中隐藏每周时段 |
| ** 隐藏月经期** | 在分析工具中隐藏月度时段 |
| **隐藏双月期** | 在分析工具中隐藏双月周期 |
| **财政年度相对起始月** | 定义分析应用程序中相对财务年度的起始月份（4 月、7 月或 10 月）。 |
| **可缓存性** | 设置分析数据响应是以公共可见性还是私人可见性提供。<br> <br>**私人**：在 DHIS2 服务器和终端用户之间的任何节点或服务器，只要有缓存能力，就不能缓存网页。如果服务的网页可能或确实包含敏感信息，这一点就很有用。这意味着，每次你需要一个网页时，要么你从 DHIS2 服务器获取一个新页面，要么 DHIS2 服务器缓存该页面。除 DHIS2 服务器外，不允许其他服务器缓存页面。<br> <br>**公共**：DHIS2 服务器和终端用户之间任何有缓存能力的节点或服务器都可以缓存网页。这将减少 DHIS2 服务器的流量，并有可能加快随后的页面加载速度。 |
| **分析缓存模式** | 支持两种不同的模式：<br> <br>**渐进**：这与分析的新渐进缓存功能有关。启用后，它会覆盖分析请求的全局缓存策略。该模式将触发所有分析请求的 HTTP 和数据层缓存。启用该模式后，*缓存因子*为必选项。<br> <br>**固定**：请求将根据*缓存策略*中定义的时间段进行缓存。 |
| **缓存系数** | 为缓存因子选择一个值。该字段仅在分析缓存模式设置为*渐进*时可用。<br> <br>它会显示一个整数列表，每个整数代表一个绝对缓存系数。内部将使用该整数来计算每个分析请求的最终过期时间。缓存系数越大，请求的缓存时间就越长。 |
| **在分析中隐藏未经批准的数据的最长年限** | 设置分析是否应尊重数据的批准级别以及批准级别的时间长度。通常情况下，几年前的数据会被默认为已批准。为了加快分析请求的速度，可以选择忽略历史数据的实际批准级别。<br> <br>**从不检查批准**：无论数据的批准状态如何，都不会隐藏数据。<br> <br>**检查所有数据的审批**：始终检查审批状态。<br> <br>其他选项，例如 **最近 3 年**：将检查 3 年以内数据的批准状态；不检查较早的数据。 |
| **分析数据缓存的阈值** | 设置是否只缓存超过指定年数的数据。<br> <br>这样就可以直接返回最新数据，而无需缓存，同时出于性能考虑，提供缓存版本的旧数据。 |
| 在分析表导出中**尊重类别选项的开始和结束日期** | 此设置可控制分析是否要过滤与有开始和结束日期的类别选项相关联，但与类别选项有效期间隔内的时间段不相关联的数据。 |
| **将分析功能置于维护模式** | 将 DHIS2 的分析和网络 API 置于维护模式。这意味着所有请求都将返回 "503 Service Unavailable（503 服务不可用）"。<br>这在需要对服务器进行维护时非常有用，例如当服务器在生产中运行时重建索引，以减少负载并更有效地进行维护。 |
| **允许用户切换仪表盘最喜欢的视图类型** | 允许用户使用仪表盘项目菜单在图表、数据透视表和地图之间切换仪表盘收藏夹视图。 |
| **允许用户在相关应用程序中打开仪表板收藏夹** | 允许用户使用仪表盘项目菜单在应用程序中打开该类型项目的仪表盘项目。 |
| **允许用户显示仪表盘最喜欢的解释和细节** | 允许用户使用仪表板项目菜单查看仪表板收藏夹的解释和详细信息。 |
| **允许用户全屏查看仪表盘收藏夹** | 允许用户使用仪表板项目菜单全屏查看仪表板收藏夹。 |

## 服务器设定 { #system_server_settings } 



表格服务器设置

| 设置 | 描述 |
|---|---|
| **数据库服务器 CPU 数量** | 设置数据库服务器的 CPU 内核数。<br> <br>这样，当数据库托管在与应用服务器不同的服务器上时，系统就能以最佳状态运行，因为 DHIS2 中的分析功能是随可用内核数量线性扩展的。 |
| **系统通知电子邮件地址** | 定义接收系统通知的电子邮件地址。<br> <br>分析表生成等流程中的故障通知将发送到此处。这对应用程序监控非常有用。 |
| **Google Analytics (Universal Analytics) key** | 设置 Google UA 密钥，以便通过 Google Analytics 平台为您的 DHIS2 实例提供使用分析。需要注意的是，目前 DHIS2 中并非所有应用程序都支持 Google Analytics，因此用户的某些活动可能不会出现在该平台上。<br> <br>有关 Google Analytics 的更多信息，请访问 [http://google.com/analytics](http://google.com/analytics)。 |
| **谷歌地图 API 密钥** | 定义 Google 地图 API 的 API 密钥。用于在 DHIS2 中显示地图。 |
| **必应地图 API 密钥** | 定义必应地图 API 的 API 密钥。用于在 DHIS2 中显示地图。 |

## 外观设置 { #system_appearance_settings } 



表格外观设置

| 设置 | 描述 |
|---|---|
| **选择语言** | 设置语言，然后可以输入以下设置的翻译：<br>      ** 应用程序介绍**<br> * ** 应用程序标题**<br> * ** 应用程序通知**<br> * ** 应用程序左侧页脚**<br> * ** 应用程序右侧页脚**<br> * ** 注**<br> 在每个设置接受翻译值之前，它们首先需要有一个默认/后备值。可以通过在下拉菜单中选择*系统默认值（回退）*来设置该值。 |
| **申请标题** | 设置顶部菜单上的应用程序标题。 |
| **申请介绍** | 设置登录页面左上方的系统介绍。 |
| **申请通知** | 设置登录区域下的首页通知。 |
| **应用程序左侧页脚** | 设置登录页面左侧页脚区域的文本。 |
| **应用程序右侧页脚** | 设置登录页面右侧页脚区域的文本。 |
| **风格** | 设置系统的风格（外观和感觉）。<br> <br>用户可以在**设置**应用程序中覆盖此设置：**用户设置** \> **风格**.<br>     <br>    **注意**<br> <br> 由于技术原因，无法更改最新版标题栏的颜色。使用最新版标题栏的应用程序将保留蓝色标题栏。 |
| **开始页面** | 设置用户登录后将重定向到的页面或应用程序。<br> <br>建议设置：**Dashboard** 应用程序。 |
| **帮助页面链接** | Defines the URL which users will see when they click **Profile** \>**Help**. |
| **旗帜** | 设置**仪表盘**应用左侧菜单中显示的标志。 |
| **界面语言** | 设置用户界面使用的语言。<br> <br>用户可以在**设置**应用程序中覆盖此设置：**用户设置** \> **界面语言**。 |
| **数据库语言** | 设置数据库中使用的语言。<br> <br>用户可以在**设置**应用程序中覆盖此设置：**用户设置** \> **数据库语言**. |
| **在分析模块中显示的属性** | Sets whether you want to display the metadata objects' names or short names in the analytics apps: **Data Visualizer**, **Event Reports**, **Event Visualizer**, **GIS** and **Pivot Table** apps.<br> <br>The user can override this setting in the **Settings** app: **User settings** \> **Property to display in analysis modules**. |
| **在分析模块中显示的默认数字组分隔符** | Sets the default digit group separator in the analytics apps: **Data Visualizer**, **Event Reports**, **Event Visualizer**, **GIS** and **Pivot Table** apps. |
| **需要授权才能添加到查看对象列表** | 如果选择该选项，如果当前用户没有权限创建对象类型（私人或公开），则会隐藏菜单和索引页面项以及对象列表链接。 |
| **自定义登录页面徽标** | 选择此选项并上传图片，即可在登录页面添加徽标。 |
| **自定义顶部菜单徽标** | 选择此选项并上传图片，即可在顶部菜单左侧添加您的徽标。 |

## 电子邮件设定 { #system_email_settings } 



表格电子邮件设置

| 设置 | 描述 |
|---|---|
| **主机名称** | 设置 SMTP 服务器的主机名。<br> <br>使用 Google SMTP 服务时，主机名应为 *smtp.gmail.com*。 |
| **Port** | 设置连接 SMTP 服务器的端口。 |
| **用户名** | SMTP 服务器用户账户的用户名。<br> <br> mail@dhis2.org |
| **密码** | SMTP 服务器用户账户的密码。 |
| **TLS** | 如果 SMPT 服务器要求使用 TLS 进行连接，请选择此选项。 |
| ** 电子邮件发件人** | 发送电子邮件时用作发件人的电子邮件地址。 |
| **向我发送测试电子邮件** | 向当前登录 DHIS2 的用户发送测试电子邮件。 |

## 访问设置 { #system_access_settings } 



表格访问设置

| 设置 | 描述 |
|---|---|
| **自我注册账户用户角色** | 定义应赋予自助注册用户账户的用户角色。<br> <br>要启用用户自助注册：从列表中选择任意用户角色。登录页面上将显示自我注册表单的链接。<br>     <br>    **注**<br> <br> 要启用自助注册，还必须选择一个**自助注册账户组织单位**。<br> <br>要禁用用户自助注册： 选择 **禁用自助注册**。 |
| **自我登记账户组织单位** | 定义哪个组织单位应与自助注册用户相关联。<br>     <br>    **注**<br> <br> 要启用自助注册，还必须选择**自助注册账户用户角色**。 |
| **自助注册无需验证码** | 定义是否要使用 reCAPTCHA 进行用户自助注册。默认情况下已启用。 |
| **启用用户账户恢复功能** | 定义用户是否可以恢复自己的密码。<br> <br>启用此设置后，首页上将显示账户恢复表单的链接。<br>     <br>    **注**<br> <br> 用户账户恢复需要配置电子邮件设置（SMTP）。 |
| **多次登录失败后暂时锁定用户账户** | 定义在 15 分钟内连续五次尝试登录失败后，系统是否应锁定用户账户。<br> <br>账户将被锁定 15 分钟，然后用户可以再次尝试登录。 |
| **允许用户授予自己的用户角色** | 定义用户在创建新用户时是否可以将自己拥有的用户角色授予他人。 |
| **允许在添加或更新时将对象分配给相关对象** | 定义是否允许用户在创建或编辑元数据对象时将对象分配给相关对象。<br> <br>创建或编辑组织单位时，可以允许用户将组织单位分配给数据集和组织单位组集。 |
| **要求更改用户账户密码** | 定义是否强制用户每 3 个月、6 个月或 12 个月更改一次密码。<br> <br>如果不想强制用户更改密码，请选择 **从不**。 |
| **启用密码到期提醒** | 设置后，用户将在密码即将过期时收到通知。 |
| **密码的最少字符数** | 定义用户密码中必须包含的最少字符数。<br> <br>可以选择 8（默认）、10、12 或 14。 |
| **CORS白名单** | 将可从其他域访问 DHIS2 API 的一组 URL 列入白名单。每个 URL 都应单独成行输入。跨源资源共享（CORS）是一种机制，允许从提供第一个资源的域之外的另一个域请求网页上的受限资源（如 javascript 文件）。 |

## 日历设定 { #system_calendar_settings } 



表格日历设置

| 设置 | 描述 |
|---|---|
| **日历** | 定义系统将使用的日历。<br> <br>系统支持以下日历：科普特历、埃塞俄比亚历、格里高利历、伊斯兰历（农历）、ISO 8601、儒略历、尼泊尔历、波斯历（阳历）和泰历。<br>     <br>    **注意**<br> <br> 这是一个系统范围的设置。在一个 DHIS2 实例中不可能有多个日历。 |
| **日期格式** | 定义系统将使用的日期格式。 |

## 资料汇入设定 { #system_data_import_settings } 

数据导入设置适用于可以启用的其他控件
验证通过Web API导入的汇总数据。他们
对应视为冲突的事项提供可选约束
在导入期间。将约束应用于每个单独的数据值
在导入中。



表格数据导入设置

| 设置 | 描述 |
|---|---|
| **要求周期与数据集的周期类型相匹配** | 要求数据值的周期与数据值的数据元素所属的数据集的周期类型相同。 |
| **要求类别选项组合与数据元素的类别组合相匹配** | 要求数据值的类别选项组合是数据值数据元素类别组合的一部分。 |
| **要求组织单位与数据集的分配相匹配** | 要求数据值的组织单位分配给一个或多个数据集，数据值的数据元素分配给这些数据集。 |
| **要求属性选项组合与数据集的类别组合相匹配** | 要求数据值的属性选项组合是数据值的数据元素所属数据集类别组合的一部分。 |
| ** 要求指定类别选项组合** | 要求指定数据值的类别选项组合。<br> <br>如果未指定，默认情况下将返回默认类别选项组合。 |
| ** 要求指定属性选项组合** | 要求指定数据值的属性选项组合。<br> <br>默认情况下，如果未指定，将返回默认属性选项组合。 |

## 同步设定 { #synchronization-settings } 

以下设置用于数据和元数据
同步。

> **注意**
>
>有关如何配置元数据同步的更多信息，
>请参阅[配置元数据
>同步]（https://docs.dhis2.org/master/zh/user/html/metadata_sync.html）



表格同步设置

| 设置 | 描述 |
|---|---|
| **远程服务器URL ** | 定义要上传数据值到运行 DHIS2 的远程服务器的 URL。<br> <br>建议使用 SSL/HTTPS，因为用户名和密码会与请求一起发送（使用基本身份验证）。<br> <br>系统将尝试每分钟同步一次数据。<br> <br>系统也将使用此设置同步元数据。<br>     <br>    **注意**<br> <br> 要启用数据和元数据同步，还必须在**日程安排**应用程序中启用**数据同步**和**元数据同步**的任务。 |
| **远程服务器用户名** | 用于数据同步的远程服务器上 DHIS2 用户账户的用户名。<br>     <br>    **注意**<br> <br> 如果启用了元数据版本控制，则必须确保配置的用户具有 "F_METADATA_MANAGE "权限。 |
| **远程服务器密码** | 远程服务器上 DHIS2 用户账户的密码。密码将加密存储。 |
| ** 启用元数据同步版本** | 定义在中央实例和本地实例之间同步元数据时是否创建元数据版本。 |
| **如果 DHIS 版本不同，请勿同步元数据** | 不同版本的 DHIS2 元数据模式会发生变化，这可能导致不同版本的元数据不兼容。<br> <br>启用该选项后，如果中央实例和本地实例的 DHIS2 版本不同，将不允许进行元数据同步。这适用于通过用户界面和 API 进行的元数据同步。<br> <br>只有在同步基本实体（如数据元素）时禁用该选项才有价值，因为这些实体在不同 DHIS2 版本之间没有变化。 |
| **尽最大努力** | 元数据版本类型，决定本地实例的导入程序如何处理元数据版本。<br> <br>*尽最大努力*指的是，如果元数据导入遇到缺失引用（例如数据元素组导入中的数据元素缺失），它会忽略错误并继续导入。 |
| **原子** | 元数据版本类型，决定本地实例的导入程序如何处理元数据版本。<br> <br>*原子*表示全有或全无--如果任何引用不存在，元数据导入将失败。 |

## OAuth2客户端 { #system_oauth2_settings } 

您可以在 **系统设置 **中创建，编辑和删除OAuth2客户端
应用程序。

1.  打开 **系统设置 **应用，然后单击 **OAuth2客户端 **。

2.  点击添加按钮。

3.  输入 **名称 **， **客户ID **和 **客户密码 **。

4.  选择 **授权类型 **。


    | Grant type | Description |
    |---|---|
    | **Password** | TBA |
    | **Refresh token** | TBA |
    | **Authorization code** | TBA |

5.  输入**重定向URI **。如果您有多个URI，请使用
    一条线。

