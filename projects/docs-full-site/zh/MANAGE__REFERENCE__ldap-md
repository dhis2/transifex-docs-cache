---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/new_install_docs/src/sysadmin/reference/ldap.md"
revision_date: '2024-01-30'
tags:
- Manage
---

## LDAP配置 { #install_ldap_configuration } 

DHIS2能够使用LDAP服务器进行用户身份验证。
对于LDAP身份验证，要求在
每个LDAP条目的DHIS2数据库。 DHIS2用户将用于代表
权限/用户角色。

To set up LDAP authentication you need to configure the LDAP server URL,
a manager user and an LDAP search base and search filter. This
configuration should be done in the DHIS 2 configuration file `dhis.conf`. 
LDAP users, or entries, are identified by distinguished names 
(DN from now on). An example configuration looks like this:

```属性
＃LDAP服务器网址
ldap.url = ldaps：//domain.org：636

＃LDAP管理器条目专有名称
ldap.manager.dn = cn = johndoe，dc = domain，dc = org

＃LDAP管理员输入密码
ldap.manager.password = xxxx

＃LDAP基本搜索
ldap.search.base = dc = domain，dc = org

＃LDAP搜索过滤器
ldap.search.filter =（cn = {0}）
```

LDAP配置属性说明如下：

- * ldap.url：*要对其进行身份验证的LDAP服务器的URL
  反对。强烈建议使用SSL /加密，以便
  确保身份验证的安全性。例如，URL是
  * ldaps：//domain.org：636 *，其中ldaps是指协议，
  * domain.org *是指域名或IP地址，* 636 *
  指端口（LDAPS默认为636）。
- * ldap.manager.dn：*绑定到LDAP管理器用户是必需的
  用于用户身份验证过程的LDAP服务器。这个性质
  指该条目的DN。即这不是将
  登录DHIS2时需要认证，而不是
  绑定到LDAP服务器以进行身份验证。
- * ldap.manager.password：* LDAP管理器用户的密码。
- * ldap.search.base：*的搜索基础或专有名称
  搜索基础对象，它定义目录中的位置
  LDAP搜索从此开始。
- * ldap.search.filter：*用于匹配条目中DN的过滤器
  LDAP目录。 {0}变量将由DHIS2替换
  用户名，或者为用户定义的LDAP标识符
  使用提供的用户名。

DHIS2将使用提供的用户名/密码并尝试进行身份验证
针对LDAP服务器条目，然后从中查找用户角色/权限
相应的DHIS2用户。这意味着用户必须具有
LDAP目录中的匹配条目以及DHIS2用户，以便
登录。

在身份验证期间，DHIS2将尝试使用以下方式绑定到LDAP服务器：
配置的LDAP服务器URL以及管理员DN和密码。一旦
绑定完成后，它将使用以下命令在目录中搜索条目
配置的LDAP搜索库和搜索过滤器。

配置的过滤器中的{0}变量将在替换之前
应用过滤器。默认情况下，它将被提供的
用户名。您还可以在相关的
DHIS2用户帐户。可以通过DHIS2用户模块用户来完成
通过设置“ LDAP标识符”，在添加或编辑屏幕中找到界面
属性。设置后，LDAP标识符将替换为{0}
过滤器中的变量。 LDAP通用名称时，此功能很有用
不适合或由于某种原因不能用作DHIS2用户名。

