---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/master/src/user/system-settings.md"
revision_date: '2024-01-25'
tags:
- DHIS核心 主版
- 使用
---

# 系统设置 { #settings } 

## 常规设置 { #system_general_settings } 



表：常规设置

| 环境 | 描述 |
|---|--|
| **缓存策略** | 决定报告分析响应应缓存多长时间。<br> <br>如果您使用计划的每晚分析更新，您可能需要选择**缓存到明天早上 6 点**。这是因为报告中的数据当时会发生变化，您可以安全地缓存数据直到分析表更新为止。<br> <br> 如果您要将数据连续加载到分析表中，请选择**无缓存**。<br> <br>对于其他情况下选择您希望缓存数据的时间量。 |
| **基础设施指标** | 定义一个指标组，其中成员指标应描述有关组织单位基础设施的数据。<br> <br>您可以查看基础设施数据在 **GIS** 应用程序中：右键单击设施，然后单击 **显示信息**。 |
| **基础设施数据元素** | Defines a data element group where the member data elements should describe data about the organisation units' infrastructure.<br> <br>Infrastructural data elements can be population, doctors, beds, Internet connectivity and climate.<br> <br>You can view the infrastructural data in the **GIS** app: right-click a facility and click **Show information**. |
| **基础设施时期类型** | 设置捕获基础设施数据元素组中的数据元素的频率。<br> <br>通常每年一次。查看基础设施数据时，您将能够选择数据源的时间段。<br> <br>您可以查看基础设施数据**GIS** 应用程序中的数据：右键单击设施，然后单击 **显示信息**。 |
| **默认分析相对周期** | 设置此值将确定在分析应用程序中选择哪个相对时间段作为默认值。 |
| **反馈接收者** | 定义一个用户组，其中的成员将接收通过 **Dashboard** 应用中的反馈功能发送的所有消息。<br> <br>这通常是超级用户团队的成员，他们能够支持和回答最终用户的问题。 |
| **系统更新通知收件人** | 定义一个用户组，其中成员将收到有关可供下载的新系统更新的消息，对于 DHIS2 安装的每个新补丁版本，收件人只会收到一次消息。如果没有定义该用户组，系统默认发送给所有具有ALL权限的用户。                                                                                                                                                                             |
| **最大离线组织部门级别** | 定义组织单位树小部件中可离线使用的组织单位层次结构的级别数。<br> <br>在正常情况下，您可以可以将其保留在最低级别，即默认设置。<br> <br>将其设置为很有用如果您拥有大量组织单位（通常超过 30 000 个），则可以使用更高级别来减少初始加载时间。 |
| **数据分析标准偏差因子** | Sets the number of standard deviations used in the outlier analysis performed on the captured data in the **Data Entry** app.<br> <br>The default value is 2. A high value will catch less outlier values than a low value. |
| **电话号码 区号** | 您的部署所在区域的区号。<br> <br>用于发送和接收短信。通常，这是一个国家/地区代码。<br> <br>*+260*（赞比亚的国家/地区代码） |
| **启用多组织单位表单** | 支持在**数据输入**应用中同时输入多个组织单位的数据表单。<br> <br>如果您已启用此设置，则可以在**数据输入**应用中，单击要为其输入数据的子级组织单位的父级组织单位，数据集列表将包括分配给的数据集该父母的孩子。 |
| **批准前需要接受** | 选择此设置后，首先需要接受数据，然后才能提交到下一个审批级别。 |
| **在仪表板视图中收集分析对象统计数据** | 在仪表板中查看分析对象（例如地图、图表等）时收集使用情况分析数据。如果没有此设置，仅当在仪表板外部查看对象时才会收集对象的分析数据。 |
| **在使用情况分析统计中包含被动仪表板视图** | 启动仪表板应用程序时，在显示的第一个仪表板上收集使用情况分析数据（否则仅计算显式仪表板选择）。 |

## 分析设置 { #system_analytics_settings } 



表：分析设置

| 环境 | 描述 |
|---|---|
| **默认分析相对周期** | 定义分析应用程序中默认使用的相对时间段：**数据可视化工具**、**事件报告**、**事件可视化工具**、**GIS** 和 **数据透视表** 应用程序。当您打开这些应用时，系统会自动选择相对周期。<br> <br>推荐设置：您中最常用的相对周期用户。 |
| **要在分析模块中显示的属性** | Sets whether you want to display the metadata objects' names or short names in the analytics apps: **Data Visualizer**, **Event Reports**, **Event Visualizer**, **GIS** and **Pivot Table** apps.<br> <br>The user can override this setting in the **Settings** app: **User settings** \> **Property to display in analysis modules**. |
| **在分析模块中显示的默认数字组分隔符** | 设置分析应用程序中的默认数字组分隔符：**数据可视化工具**、**事件报告**、**事件可视化工具**、**GIS** 和 **数据透视表** 应用程序。 |
| **隐藏每日经期** | 在分析工具中隐藏每日周期 |
| **隐藏每周周期** | 在分析工具中隐藏每周周期 |
| **隐藏每月经期** | 在分析工具中隐藏每月周期 |
| **隐藏双月周期** | 在分析工具中隐藏双月周期 |
| **财政年度相对开始月份** | 定义分析应用程序中的相对财务年度应从哪一个月（四月、七月或十月）开始。 |
| **可缓存性** | 设置是否应以公开或私有可见性的方式提供分析数据响应。<br> <br>**私有**：任何节点或服务器DHIS2 服务器和具有缓存能力的最终用户之间不能缓存网页。如果所提供的页面可以或确实包含敏感信息，这非常有用。这意味着每次您需要网页时，要么从 DHIS2 服务器获取新页面，要么 DHIS2 服务器缓存该页面。除 DHIS2 服务器外，不允许任何其他服务器缓存页面。<br> <br>**公共**：任何节点或服务器DHIS2服务器和具有缓存能力的最终用户之间可以缓存网页。这会重新释放 DHIS2 服务器的流量，并可能加快后续页面加载速度。 |
| **分析缓存模式** | Support two different modes:<br> <br>**Progressive**: this relates to the new progressive caching feature for analytics. When enabled, it OVERRIDES the global caching strategy for analytics requests. This mode will trigger HTTP and data layer caching for all analytics requests. When enabling this mode, the *caching factor* is MANDATORY.<br> <br>**Fixed**: the requests will be cached based on the period of time defined in *cache strategy.* |
| **缓存因素** | 选择缓存因子的值。仅当分析缓存模式设置为*渐进*时，此字段才可用。<br> <br>它显示整数列表其中每个整数代表一个绝对缓存因子。该整数将在内部用于计算每个分析请求的最终过期时间。缓存因子越高，请求缓存的时间就越长。 |
| **在分析中隐藏未经批准的数据的最大年数** | 设置分析是否应尊重数据的批准级别以及在多长时间内尊重数据的批准级别。通常，几年前的数据将被视为默认获得批准。为了加快分析请求的速度，您可以选择忽略历史数据的实际审批级别。<br> <br>**从不检查批准**：无论数据批准状态如何，都不会隐藏任何数据。<br> <br>**检查所有数据的批准数据**：始终会检查审批状态。<br> <br>其他选项，例如 **过去 3 年**：对于 3 年以上的数据，将检查审批状态；较旧的数据将不会被检查。 |
| **分析数据缓存的阈值** | 设置是否仅缓存早于指定年数的数据。<br> <br>这允许直接返回最新数据没有缓存，同时出于性能问题提供旧数据的缓存版本。 |
| **尊重分析表导出中的类别选项开始和结束日期** | 此设置控制分析是否应过滤与具有开始日期和结束日期的类别选项关联但与类别选项有效间隔内的时间段关联的数据。 |
| **Allow users to switch dashboard favorite view type** | Allows users to switch dashboard favorites' view between charts, pivot tables and maps, using the dashboard item menu. |
| **Allow users to open dashboard favorite in relevant app** | Allows users to open dashboard items in the app for that type of item, using the dashboard item menu. |
| **Allow users to show dashboard favorite interpretations and details** | Allows users to see dashboard favorites' interpretations and details, using the dashboard item menu. |
| **Allow users to view dashboard favorite in fullscreen** | Allows users to view dashboard favorites in fullscreen, using the dashboard item menu. |
| **Default basemap** | Select which basemap will be selected by default in the **Maps** app. If no value is selected, then **OSM Light** will be used.|

## 服务器设定 { #system_server_settings } 



Table: Server settings

| Setting | 描述 |
|---|---|
| **Number of database server CPUs** | Sets the number of CPU cores of your database server.<br> <br>This allows the system to perform optimally when the database is hosted on a different server than the application server, since analytics in DHIS2 scales linearly with the number of available cores. |
| **System notifications email address** | Defines the email address which will receive system notifications.<br> <br>Notifications about failures in processes such as analytics table generation will be sent here. This is useful for application monitoring. |
| **Google Analytics (Universal Analytics) key** | Sets the Google UA key to provide usage analytics for your DHIS2 instance through the Google Analytics platform. It should be noted that currently, not all apps in DHIS2 support Google Analytics, so certain activity of your users may not appear in this platform.<br> <br>You can read more about Google Analytics at [google.com/analytics](https://google.com/analytics). |
| **Google Maps API key** | Defines the API key for the Google Maps API. This is used to display maps within DHIS2. |
| **Bing Maps API key** | Defines the API key for the Bing Maps API. This is used to display maps within DHIS2. |

Table: Limit settings

| Setting | 描述 |
|---|---|
| **Maximum number of analytics records** | Increase this number to provide more records from the analytics.<br> <br>The default value is 50,000.<br>      <br>    **Warning**<br>     <br>    Use the setting **Unlimited** carefully, it might result in a very high load on your server. |
| **Maximum number of SQL view records** | Set the maximum number of records in a SQL view.<br> <br>The default value is Unlimited. |
| **Maximum number of Tracked Entity Instance that can be fetched from database** | Sets the limit on maximum tracked entity instance records that can be fetched from database. If user does not provide any value then default value which is 50,000 will be used.<br>Setting this to 0 or any negative integer will disable this setting. <br>**Warning**<br>Disabling this setting may result in high load on the server.|



## 外观设置 { #system_appearance_settings } 



Table: Appearance settings

| Setting | 描述 |
|---|---|
| **Select language** | Sets the language for which you can then enter translations of the following settings:<br>       * **Application introduction**<br> * **Application title**<br> * **Application notification**<br> * **Application left-side footer**<br> * **Application right-side footer**      <br>    **Note**     <br>    Before each of these settings can accept a translated value, they first need to have a default/fallback value. This value can be set by selecting *System default (fallback)* in this dropdown. |
| **Application title** | Sets the application title on the top menu. |
| **Application introduction** | Sets an introduction of the system which will be visible on the top-left part of the login page. |
| **Application notification** | Sets a notification which will be visible on the front page under the login area. |
| **Application left-side footer** | Sets a text in the left-side footer area of the login page. |
| **Application right-side footer** | Sets a text in the right-side footer area of the login page. |
| **Style** | Sets the style (look-and-feel) of the system.<br> <br>The user can override this setting in the **Settings** app: **User settings** \> **Style**.<br>      <br>    **Note**<br>     <br>    Due to technical reasons, it's not possible to change the color of the newest version of the header bar. The apps with the newest header bar will retain the blue header bar. |
| **Start page** | Sets the page or app which the user will be redirected to after log in.<br> <br>Recommended setting: the **Dashboard** app. |
| **Enable light-weight start page** | Instructs apps to render a light-weight and fast landing page. Recommended in low-bandwidth environments. |
| **Help page link** | Defines the URL which users will see when they click **Profile** \>**Help**. |
| **Flag** | Sets the flag which is displayed in the left menu of the **Dashboard** app. |
| **Interface language** | Sets the language used in the user interface.<br> <br>The user can override this setting in the **Settings** app: **User settings** \> **Interface language**. |
| **Database language** | Sets the language used in the database.<br> <br>The user can override this setting in the **Settings** app: **User settings** \> **Database language**. |
| **Require authority to add to view object lists** | If you select this option, you'll hide menu and index page items and links to lists of objects if the current user doesn't have the authority to create the type of objects (privately or publicly). |
| **Custom login page logo** | Select this option and upload an image to add your logo to the login page. |
| **Custom top menu logo** | Select this option and upload an image to add your logo to the left in the top menu. |

## 电子邮件设定 { #system_email_settings } 



Table: Email settings

| Setting | 描述 |
|---|---|
| **Host name** | Sets the host name of the SMTP server.<br> <br>When you use Google SMTP services, the host name should be *smtp.gmail.com*. |
| **Port** | Sets the port to connect to the SMTP server. |
| **User name** | The user name of the user account with the SMTP server.<br> <br>mail@dhis2.org |
| **Password** | The password of the user account with the SMTP server. |
| **TLS** | Select this option if the SMPT server requires TLS for connections. |
| **Email sender** | The email address to use as sender when sending out emails. |
| **Send me a test email** | Sends a test email to the current user logged into DHIS2. |

## 访问设置 { #system_access_settings } 



Table: Access settings

| Setting | 描述 |
|---|---|
| **Self registration account user role** | Defines which user role should be given to self-registered user accounts.<br> <br>To enable self-registration of users: select any user role from the list. A link to the self-registration form will be displayed on the login page.<br>      <br>    **Note**<br>     <br>    To enable self-registration, you must also select a **Self registration account organisation unit**.<br>  <br>To disable self-registration of users: select **Disable self registration**. |
| **Self registration account organisation unit** | Defines which organisation unit should be associated with self-registered users.<br>      <br>    **Note**<br>     <br>    To enable self-registration, you must also select a **Self registration account user role**. |
| **Do not require reCAPTCHA for self registration** | Defines whether you want to use reCAPTCHA for user self-registration. This is enabled by default. |
| **Enable user account recovery** | Defines whether users can restore their own passwords.<br> <br>When this setting is enabled, a link to the account recovery form will be displayed on the front page.<br>      <br>    **Note**<br>     <br>    User account recovery requires that you have configured email settings (SMTP). |
| **Lock user account temporarily after multiple failed login attempts** | Defines whether the system should lock user accounts after five successive failed login attempts over a timespan of 15 minutes.<br> <br>The account will be locked for 15 minutes, then the user can attempt to log in again. |
| **Allow users to grant own user roles** | Defines whether users can grant user roles which they have themselves to others when creating new users. |
| **Allow assigning object to related objects during add or update** | Defines whether users should be allowed to assign an object to a related object when they create or edit metadata objects.<br> <br>You can allow users to assign an organisation unit to data sets and organisation unit group sets when creating or editing the organisation unit. |
| **Require user account password change** | Defines whether users should be forced to change their passwords every 3, 6 or 12 months.<br> <br>If you don't want to force users to change password, select **Never**. |
| **Enable password expiry alerts** | When set, users will receive a notification when their password is about to expire. |
| **Minimum characters in password** | Defines the minimum number of characters users must have in their passwords.<br> <br>You can select 8 (default), 10, 12 or 14. |
| **CORS whitelist** | Whitelists a set of URLs which can access the DHIS2 API from another domain. Each URL should be entered on separate lines. Cross-origin resource sharing (CORS) is a mechanism that allows restricted resources (e.g. javascript files) on a web page to be requested from another domain outside the domain from which the first resource was served. |

## 日历设定 { #system_calendar_settings } 



Table: Calendar settings

| Setting | 描述 |
|---|---|
| **Calendar** | Defines which calendar the system will use.<br> <br>The system supports the following calendars: Coptic, Ethiopian, Gregorian, Islamic (Lunar Hijri), ISO 8601, Julian, Nepali, Persian (Solar Hijri) and Thai.<br><br>This is a system wide setting. It is not possible to have multiple calendars within a single DHIS2 instance.<br><br>[Refer here for more information about the difference between Gregorian and ISO 8601.](https://en.wikipedia.org/wiki/ISO_8601#Week_dates)</a> |
| **Date format** | Defines which date format the system will use. |

## 资料汇入设定 { #system_data_import_settings } 

数据导入设置适用于可以启用的其他控件
验证通过Web API导入的汇总数据。他们
对应视为冲突的事项提供可选约束
在导入期间。将约束应用于每个单独的数据值
在导入中。



Table: Data import settings

| Setting | 描述 |
|---|---|
| **Require periods to match period type of data set** | Require period of data value to be of the same period type as the data sets for which the data element of data value is assigned to. |
| **Require data elements to be part of data set** | Require data element of a data value to be assigned to a data set. If a specific data set is specified on import, the system will check that data values are associated with the specified data set. |
| **Require category option combos to match category combo of data element** | Require category option combination of data value to be part of the category combination of the data element of the data value. |
| **Require organisation units to match assignment of data set** | Require organisation unit of data value to be assigned to one or more of the data sets which the data element of data value is assigned to. |
| **Require attribute option combos to match category combo of data set** | Require attribute option combination of data value to be part of the category combination of the data set which the data element of data value is assigned to. |
| **Require category option combo to be specified** | Require category option combination of data value to be specified.<br> <br>By default it will fall back to default category option combination if not specified. |
| **Require attribute option combo to be specified** | Require attribute option combination of data value to be specified.<br> <br>By default it will fall back to default attribute option combination if not specified. |

## 同步设定 { #synchronization-settings } 

以下设置用于数据和元数据
同步。

> **注意**
>
>有关如何配置元数据同步的更多信息，
>请参阅[配置元数据
>同步]（https://docs.dhis2.org/master/zh/user/html/metadata_sync.html）



Table: Synchronization settings

| Setting | 描述 |
|---|---|
| **远程服务器URL ** | Defines the URL of the remote server running DHIS2 to upload data values to.<br> <br>It is recommended to use of SSL/HTTPS since user name and password are sent with the request (using basic authentication).<br> <br>The system will attempt to synchronize data once every minute.<br> <br>The system will use this setting for metadata synchronization too.<br>      <br>    **Note**<br>     <br>    To enable data and metadata synchronization, you must also enable jobs for **Data synchronization** and **Metadata synchronization** in the **Scheduler** app. |
| **远程服务器用户名** | The user name of the DHIS2 user account on the remote server to use for data synchronization.<br>      <br>    **Note**<br>     <br>    If you've enabled metadata versioning, you must make sure that the configured user has the authority "F_METADATA_MANAGE". |
| **远程服务器密码** | The password of the DHIS2 user account on the remote server. The password will be stored encrypted. |
| **Enable versioning for metadata sync** | Defines whether to create versions of metadata when you synchronize metadata between central and local instances. |
| **Don't sync metadata if DHIS versions differ** | The metadata schema changes between versions of DHIS2 which could make different metadata versions incompatible.<br> <br>When enabled, this option will not allow metadata synchronization to occur if the central and local instance(s) have different DHIS2 versions. This apply to metadata synchronization done both via the user interface and the API.<br> <br>The only time it might be valuable to disable this option is when synchronizing basic entities, for example data elements, that have not changed across DHIS2 versions. |
| **Best effort** | A type of metadata version which decides how the importer on local instance(s) will handle the metadata version.<br> <br>*Best effort* means that if the metadata import encounters missing references (for example missing data elements on a data element group import) it ignores the errors and continues the import. |
| **Atomic** | A type of metadata version which decides how the importer on local instance(s) will handle the metadata version.<br> <br>*Atomic* means all or nothing - the metadata import will fail if any of the references do not exist. |

## OAuth2客户端 { #system_oauth2_settings } 

您可以在 **系统设置 **中创建，编辑和删除OAuth2客户端
应用程序。

1.  打开 **系统设置 **应用，然后单击 **OAuth2客户端 **。

2.  点击添加按钮。

3.  输入 **名称 **， **客户ID **和 **客户密码 **。

4.  选择 **授权类型 **。


    | Grant type | Description |
    |---|---|
    | **Password** | TBA |
    | **Refresh token** | TBA |
    | **Authorization code** | TBA |

5.  输入**重定向URI **。如果您有多个URI，请使用
    一条线。

## System update notification { #system_update_notification_settings }

The system will default send a notification in the mail inbox under the "system" category when there is a new patch version available for download. 
This notification will be sent to the users who have the "ALL" authority, unless the "System update notification recipients" user group is defined, under the "General settings". 

It is also possible to disable this feature altogether by setting the "system.update_notifications_enabled" configuration variable to "off", in the "dhis.conf" file.

Under the hood, it works by calling (GET, with no parameters) on a REST API endpoint on a central server every day around 2:00 AM.

This is the URL: [https://releases.dhis2.org/v1/versions/stable.json](https://releases.dhis2.org/v1/versions/stable.json)

