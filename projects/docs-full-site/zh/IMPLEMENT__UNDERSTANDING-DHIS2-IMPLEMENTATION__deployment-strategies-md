---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/master/src/implementation/deployment-strategies.md"
revision_date: "2021-06-14"
---

# 部署策略 { #deployment-strategies }

DHIS2是启用网络的应用程序，可以通过
Internet，本地Intranet和作为本地安装的系统。这
DHIS2的部署替代方案在本章中定义为i）
脱机部署ii）在线部署和iii）混合部署。这
含义和差异将在以下各节中讨论。

## 离线部署 { #offline-deployment }

脱机部署意味着多个独立的脱机实例
是为最终用户安装的，通常是在区域级别。系统
主要由最终用户/地区卫生官员维护
输入数据并从在其本地运行的系统生成报告
服务器。该系统通常也将由国民来维护
定期访问区域部署的超级用户团队。数据
最终用户生成数据在层次结构中向上移动
交换通过电子邮件以电子方式或通过物理方式发送的文件
邮件或个人旅行。 （请注意，简短的Internet连接
发送电子邮件所需的条件不符合被定义为
在线的）。这种部署方式具有明显的好处，即它可以工作
当适当的Internet连接不可用时。在另一
这种风格存在很大的挑战
在下一节中描述。

- 硬件：运行独立系统需要在服务器和可靠电源方面安装先进的硬件，通常在全国各地的区级安装。这需要适当的采购资金和长期维护计划。

- 软件平台：本地安装意味着大量的维护需求。根据经验，最大的挑战是病毒和其他恶意软件，从长远来看，它们往往会感染本地安装。主要原因是最终用户利用记忆棒在私人计算机、其他工作站和运行应用程序的系统之间传输数据交换文件和文档。在离线环境中保持防病毒软件和操作系统补丁处于最新状态具有挑战性，并且最终用户经常采用安全方面的不良做法。解决此问题的首选方法是为不允许使用记忆棒的应用程序运行专用服务器，并使用基于 Linux 的操作系统，该操作系统不像 MS Windows 那样容易受到病毒感染。

- 软件应用：能够向用户分发健康信息软件的新功能和错误修复对于系统的维护和改进至关重要。依靠最终用户执行软件升级需要大量的培训和高水平的能力，因为升级软件应用程序可能是一项技术上具有挑战性的任务。依靠国家超级用户团队来维护软件意味着需要大量出差。

- 数据库维护：高效系统的先决条件是所有用户都使用标准化的元数据集（数据元素、表单等）输入数据。与前面关于软件升级的观点一样，如果更新以电子方式发送或由组织良好的超级用户团队发送，则将元数据集的更改分发到大量离线安装需要最终用户的能力。未能保持元数据集同步将导致无法从地区转移数据和/或国家数据库不一致，因为例如在地区级别输入的数据将与国家级别的数据不兼容。

## 在线部署 { #online-deployment }

在线部署意味着应用程序的单个实例设置在连接到 Internet 的服务器上。所有用户（客户端）都使用网络浏览器通过互联网连接到在线中央服务器。这种部署方式目前受益于发展中国家对移动网络的巨额投资和扩张。这使得即使在大多数农村地区也可以使用移动互联网调制解调器（也称为_加密狗_）访问在线服务器。

这种在线部署方式对
实施过程和应用程序维护相比
传统离线独立样式：

- 硬件：最终用户端的硬件要求仅限于相当现代的计算机/笔记本电脑以及通过固定线路或移动调制解调器连接的互联网。不需要专门的服务器，任何支持互联网的计算机就足够了。

- 软件平台：最终用户只需要一个网络浏览器即可连接到在线服务器。当今所有流行的操作系统都附带网络浏览器，并且对类型或版本没有特殊要求。这意味着，如果发生病毒感染或软件损坏等严重问题，人们总是可以重新格式化并安装计算机操作系统或购买一台新计算机/笔记本电脑。用户可以从原来的位置继续输入数据，并且不会丢失任何数据。

- 软件应用：集中服务器部署方式意味着应用可以集中升级和维护。当发布具有新功能和错误修复的新版本应用程序时，可以将其部署到单个在线服务器。下次最终用户通过 Internet 连接时，所有更改都将反映在客户端上。这显然对改进系统的过程产生了巨大的积极影响，因为新功能可以立即分发给用户，所有用户都将访问相同的应用程序版本，并且可以即时整理和部署错误和问题。

- 数据库维护：与上一点类似，元数据的更改可以集中方式在在线服务器上完成，并在下次连接到服务器时自动传播到所有客户端。这有效地消除了与维护与传统离线部署方式相关的升级和标准化元数据集相关的巨大问题。例如，在初始数据库开发阶段和年度数据库修订过程中，它非常方便，因为即使更改频繁发生，最终用户也将访问一致且标准化的数据库。

在Internet连接的情况下，此方法可能会出现问题
长时间波动或丢失。 DHIS2然而有
某些需要Internet连接才能使用的功能
系统仅在一部分时间内正常工作，例如
MyDatamart工具在本指南的单独章节中介绍。

## 混合部署 { #hybrid-deployment }

从到目前为止的讨论中，人们意识到在线部署风格
比离线样式更有利，但需要良好的互联网
连接将在哪里使用。重要的是要注意
提到的样式可以在常见的部署中共存。太完美了
在单个部署中进行在线和离线部署是可行的
国家。一般规则是，地区和设施应
如果有足够的Internet，则可以通过Internet在线访问系统
存在连接，并且应将脱机系统部署到区域
如果不是这样的话。

精确定义良好的Internet连接非常困难，但是作为一个规则
拇指下载速度应至少为10 KB /秒，并且
可访问性应至少为70％的时间。

在这方面，可以将移动互联网调制解调器连接到
电脑或笔记本电脑以及访问移动网络是一个非常极端的过程
可行的解决方案。移动互联网覆盖范围正在增加
在世界范围内迅速发展，经常以低廉的价格提供出色的连通性
价格，并且是本地网络的一个很好的选择，而且效果很差
维持固定的互联网专线。与国家移动联系
网络公司关于后付费订阅和潜力的信息
大额利益可能是值得付出的努力。网络覆盖
对于相关国家/地区的每个网络运营商，应进行调查
在决定选择哪种部署方法时，可能会有所不同
并覆盖全国不同地区。

## 服务器托管 { #server-hosting }

在线部署方法提出了在何处以及如何进行的问题。
托管将运行DHIS2应用程序的服务器。通常在那里
有几种选择：

1.  卫生部内部托管

2.  在政府数据中心内托管

3.  通过外部托管公司托管

选择第一选择的主要原因通常是政治上的
具有数据库“实际所有权”的动机。这是
为了“拥有”和控制数据，许多人认为这很重要。
也希望为服务器管理建立本地能力
与项目的可持续性有关。这通常是捐助者驱动的
主动，因为它被认为是具体而有益的任务。

关于第二种方案，有些地方是政府数据中心
旨在促进和改善使用和
公共数据的可访问性。另一个原因是扩散
内部服务器环境对资源的要求很高，而且更多
有效地建立集中的基础设施和能力。

关于外部托管，最近有向外包的转变
对外部计算机资源的操作和管理
提供商，通常通过网络访问这些资源
称为“云计算”或“软件即服务”。那些
通常使用Web浏览器通过Internet访问资源。

联机服务器部署的主要目标是提供长期的
对预期服务的稳定和高性能的可访问性。什么时候
决定要为服务器环境选择哪个选项
要考虑的方面：

1.  服务器管理和操作的人员能力。必须有具有服务器管理和用于提供服务的应用程序的特定技术方面的通用技能的人力资源。此类技术的示例包括网络服务器和数据库管理平台。

2.  可靠的自动备份解决方案，包括本地离线备份和远程备份。

3.  进出服务器的流量具有稳定的连接和高网络带宽。

4.  稳定的电源，包括备用解决方案。

5.  物理服务器的安全环境，涉及访问、盗窃和火灾等问题。

6.  存在灾难恢复计划。该计划必须包含切合实际的策略，以确保服务在发生硬件故障、网络停机等情况时只会遭受短暂的停机时间。

7.  可行，强大而强大的硬件。

必须涵盖所有这些方面才能创建适当的
托管环境。硬件要求特意放在最后
因为有一个明显的趋势是给予它太多的关注。

回顾三个主要的托管选项，
发展中国家的执行任务表明，所有
在可行的方案一和方案二中很少出现托管方面的问题
等级。在所有这些方面达到可接受的水平具有挑战性
在人力资源和金钱方面，尤其是与
方案三的成本。它的好处是可以容纳
提到政治方面和建立服务器本地能力
另一方面，可以在
替代方式。

选项三-外部托管-具有支持所有功能的优势
提到的托管方面的价格非常实惠。一些
托管提供商-虚拟服务器或软件即服务-提供
用于运行大多数应用程序的可靠服务。示例
此类提供商是Linode和Amazon Web Services。管理
这样的服务器通过网络连接发生，这通常是最常见的
本地服务器管理就是这种情况。的物理位置
在这种情况下，服务器变得无关紧要，因为此类提供商可以提供
在世界大部分地区提供服务。这种解决方案越来越多
成为托管应用程序服务的标准解决方案。这
为服务器管理建立本地能力的一个方面是
与该选项兼容，因为可以委托当地的ICT团队
维护外部托管的服务器。

一种将外部托管的好处与需求相结合的方法
对于本地托管和物理所有权是使用外部托管
主事务系统的提供者，同时对此进行镜像
服务器到本地托管的非关键服务器，该服务器用于
只读用途，例如数据分析和可通过Intranet访问。
