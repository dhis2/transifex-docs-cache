---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/2.39/src/user/importexport-app.md"
revision_date: "2022-10-23"
tags:
    - 用
    - DHIS 核心 2.39 版
---

# 导入/导出应用 { #import_export }

在初级卫生系统中，HMIS通常涉及分布式
应用程序，同一应用程序在不同的位置运行
地理位置（PHC，CHC，医院，地区和州）。
这些物理位置中许多都没有Internet连接，并且
因此他们离线工作。在某个时候（通常在该地区
级别），则数据需要同步才能具有
特定地理区域的统一数据库。对于
因此，重要的是能够从一个位置导出数据（
正在离线工作（例如在医疗机构级别），然后导入
另一个（例如在地区级别）。
因此，导出和导入的此功能是HMIS的关键功能。
此功能还可以帮助我们克服某些方面对Internet的依赖
度，因为数据更新可以通过没有密钥的USB密钥进行传输
连接性，或者在互联网有限的情况下通过电子邮件
连接性。 DHIS2提供了强大的导出-导入功能来
满足这些需求。

要访问导入/导出应用，请在顶部标题栏中搜索
进出口。导入/导出应用程序提供了许多服务详细信息
可以在下面找到。

![](resources/images/import_export/overview.png)

## 汇入资料 { #importing_data }

### 导入进度记录器 { #import_progress_logger }

无论导入什么数据（"数据"、"事件"、"组织单位几何图形"、"元数据 "或 "跟踪实体实例 "数据），都可以通过页面顶部的 "任务摘要 "查看导入进度。

### 导入摘要 { #metadata_import_summaries }

导入请求完成后，我们会在导入表单上方显示导入摘要。任何冲突或错误都会显示在导入主摘要下的表格中。

![](resources/images/import_export/import_summary.png)

### 元数据导入 { #metadata_import }

可以从侧边栏单击来访问元数据导入
元数据导入。

![](resources/images/import_export/metadata_import.png)

1.  选择要上传的文件

2.  选择一种格式：_JSON_、_CSV_ 或 _XML_ 格式

3.  选择适当的设置：

    -   识别码
    -   导入报告模式
    -   预热模式
    -   导入策略
    -   原子模式
    -   合并模式

4.  Click **Advanced options** if you want to adjust one or more of the following settings before importing:

    -   冲洗模式
    -   跳过分享
    -   跳过验证
    -   异步
    -   包容性策略

5.  Click on the **Import** button which will upload the file and start the importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before importing data; to make sure you keep control over any changes to your Metadata, and to check for problems with out-of-sync data elements or organisation unit names

> **Note**
>
> If an organisation unit e.g. `Nduvuibu MCHP` had a unknown reference to an object with ID `aaaU6Kr7Gtpidn`, it means that the object with ID `aaaU6Kr7Gtpidn` was not present in your imported file, and it was not found in the existing database.
>
> You can control this using **Identifier** option, to indicate if you want to allow objects with such invalid references to be imported or not. If you choose to import invalid references you will have to correct the reference manually in DHIS2 later.

#### DXF2中的匹配标识符 { #matching_identifiers_in_dxf2 }

DXF2格式目前支持匹配两个标识符，即
内部DHIS2标识符（称为UID），也使用外部
标识符称为“代码”。进口商尝试搜索时
对于引用（例如上面的引用），它将首先转到UID字段，
然后转到代码字段。这使您可以从旧版导入
系统中没有每个元数据对象的UID。即如果你是
从旧版系统导入设施数据，您可以省略ID
完整字段（DHIS2将为您填写），然后将
代码字段中的旧系统自己的标识符，此标识符为
必须是唯一的。这不仅适用于组织单位，而且
用于各种元数据，从而可以轻松地从其他系统导入。

### 资料汇入 { #import }

可以通过单击侧边栏上的数据来访问数据导入
进口。

![](resources/images/import_export/data_import.png)

1.  选择要上传的文件

2.  选择一种格式：_JSON_、_CSV_、_XML_、_ADX_ 或_PDF_。

3.  选择适当的设置：

    -   战略
    -   预热缓存

4.  Click **Advanced options** if you want to adjust one or more of the following settings before importing:

    -   数据元素ID方案
    -   组织单位ID方案
    -   ID方案
    -   跳过现有支票

5.  Click on the **Import** button which will upload the file and start the importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before importing data; to make sure you keep control over any changes to your Metadata, and to check for problems with out-of-sync data elements or organisation unit names

#### PDF资料 { #importPDFdata }

DHIS2 supports import of data in the PDF format. This can be used to import data produced by off-line PDF data entry forms. Please refer to the section **Data set management** for details on how to produce a PDF form which can be used for off-line data entry.

To import a PDF data file, navigate to the _PDF Data Import_ item in the side menu. Upload the completed PDF file and click _Import_.

### 事件汇入 { #event_import }

事件导入可从侧边栏点击事件导入进入。

![](resources/images/import_export/event_import.png)

1.  选择一种格式：_JSON_、_CSV_ 或 _XML_ 格式

2.  Click **Advanced options** if you want to adjust one or more of the following settings before importing:

    -   事件ID方案
    -   数据元素ID方案
    -   组织单位ID方案
    -   ID方案

3.  Click on the **Import** button which will upload the file and start the importing process.

### 地球引擎进口{ #ee_import }

可从侧边栏点击 "地球引擎导入 "访问 "地球引擎导入"。

使用 Google 地球引擎从 WorldPop 导入高分辨率人口数据。使用此导入程序需要 [Google Earth Engine 帐户](https://docs.dhis2.org/en/topics/tutorials/google-earth-engine-sign-up.html) 。

![](resources/images/import_export/ee_import.png)

#### 选择应导入哪些地球引擎数据{ #select-which-earth-engine-data-should-be-imported }

表格的第一部分用于配置要导入的地球引擎数据。

1. 选择要导入的地球引擎数据集。目前的选择是_人口_和_人口年龄组_。

2. 选择数据集后，必须选择一个时段。一次只能导入一个时段。

3. 选择数据的四舍五入方式。默认情况下，数据不四舍五入。

4. 选择要导入数据的组织单位。如果选择设施级组织单位，则必须为设施选择相关几何图形。如果没有设施的关联几何体，地球引擎就无法确定人口数量。

![](resources/images/import_export/ee_ou_associated_geometry.png)

#### 选择要将地球引擎数据导入的数据元素{ #select-the-data-elements-to-import-the-earth-engine-data-into }

配置好地球引擎数据集后，需要选择将数据导入哪个数据元素。对于有分类组（如 "人口年龄组"）的数据集，DHIS2 数据元素必须有与地球引擎数据集分类组相匹配的类别选项组合形式的分类。

![](resources/images/import_export/ee_group_coc_mapping.png)

> **为地球引擎导入配置数据元素**
>
> 在配置包含地球引擎数据的 DHIS2 数据元素时，如果您计划将数据导入多个组织单位级别，请确保在数据元素配置中将这些级别添加为聚合级别。
>
> 某些地球引擎数据集包含分类组，DHIS2 数据元素必须配置相应的类别选项组合。例如，"人口年龄组 "数据集按性别（男、女）和 5 岁年龄组分列。
>
> 在 DHIS2 中，这意味着您必须有一个男性/女性类别和一个 5 年年龄组类别 (<1yr, 1-4yr, 5-9yr, 10-14yr... 80+yr). These are combined into a category combination.
>
> 提示：为使类别选项组合与地球引擎分类组自动匹配，请在每个类别选项组合中添加一个与地球引擎组名称相匹配的代码。例如，在 "人口年龄组 "中，组的名称是F_0、F_1、F_5......，M_0、M_1、M_5......。

#### 运行导入{ #run-the-import }

选择数据元素和类别选项组合后，预览按钮就会启用。查看要导入的数据后，您可以先进行模拟运行，也可以继续实际导入。

![](resources/images/import_export/ee_data_preview.png)

### 组织单位几何图形导入{ #geometry_import }

可从侧边栏点击 _Org Unit geometry import_（组织单位几何体导入）进入。支持两种几何格式：GeoJSON 和 GML。GeoJSON 是推荐格式，也可用于导入相关几何图形（集水区）。

#### GeoJSON 导入{ #geojson_import }

![](resources/images/import_export/geojson_import.png)

1.  使用 GeoJSON 格式上传文件。

2.  默认情况下，GeoJSON 地物 id 应与组织单位 id 匹配。

3.  选中 **将 GeoJSON 属性与组织单位方案相匹配**，以通过特征属性进行匹配。键入 GeoJSON 属性名称并选择组织单位 ID 方案（_Id_、_Code_ 或 _Name_）。

4.  选中 **作为相关几何图形导入**，将 GeoJSON 地物作为组织单位（如集水区）的相关几何图形导入。选择应导入数据的几何属性。这需要在_Organisatiot unit_上应用_GeoJSON_类型的属性。该属性可在维护应用程序中定义。

5.  点击**开始导入**按钮，上传文件并开始导入过程。

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before importing data; to make sure you keep control over any changes to your organisation unit geometries.

#### GML 导入{ #gml_import }

![](resources/images/import_export/gml_import.png)

1.  使用 GML（地理标记语言）格式上传文件。

2.  Click on the **Import** button which will upload the file and start the importing process.

### 跟踪实体实例导入 { #tei_import }

跟踪实体实例导入可从侧边栏点击 TEI 导入进入。

![](resources/images/import_export/tei_import.png)

1.  选择要上传的文件

2.  选择一种格式：_JSON_ 或 _XML_ 格式

3.  选择适当的设置：

    -   识别码
    -   导入报告模式
    -   预热模式
    -   导入策略
    -   原子模式
    -   合并模式

4.  Click **Advanced options** if you want to adjust one or more of the following settings before importing:

    -   冲洗模式
    -   跳过分享
    -   跳过验证
    -   包容性策略

5.  Click on the **Import** button which will upload the file and start the importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before importing data; to make sure you keep control over any changes to your Tracked Entity Instances.

## 汇出资料 { #exporting-data }

### 元数据导出 { #metadata_export }

单击侧边栏上的，可以访问元数据导出
元数据导出。

![](resources/images/import_export/metadata_export.png)

1.  选择您要导出的对象列表。

2.  选择格式：_JSON_

3.  选择压缩类型：_zip_、_gzip_ 或 _uncompressed_ 压缩类型

4.  Decide whether to check _Skip sharing and access settings_

5.  Click **Export metadata** which will open a new web-browser window that will give you a file to download to your local computer.

### 具有依赖项的元数据导出 { #metadata_export_dependencies }

具有依赖项的元数据导出使您可以为以下内容创建罐头导出
元数据对象。这种类型的导出将包括元数据对象
和元数据对象的相关对象；即元数据
与主要对象一起属于

表：对象类型及其依赖关系

| 对象类型 | 导出中包含的依赖项 |
| --- | --- |
| **数据集** | 数据元素<br> <br> 章节<br> <br> 指标<br> <br> 指标类型<br> <br> 属性<br> <br> 数据输入表<br> <br> 图例集<br> <br> 图例<br> <br> 类别组合<br> <br> 类别<br> <br> 类别选项<br> <br> 类别选项组合<br> <br> 选项集 |
| 程式 | 数据输入表<br> <br> 跟踪实体<br> <br> 程序阶段<br> <br> 程序属性<br> <br> 程序指标<br> <br> <br> <br> 程序规则<br> <br> 程序规则动作<br> <br> 程序规则变量 <br> 程序属性<br> 数据元素<br> <br> 类别组合<br> <br> 类别<br> <br> 类别选项<br> <br> 类别选项组合<br> <br> 选项集 |
| 类别组合 | 类别组合 <br> <br> 类别 <br> <br> 类别选项 <br> <br> Category 选项组合 <br><br>属性 |
| 仪表板 | 仪表板项目<br> <br> 图表<br> <br> 事件图表<br> <br> 数据透视表<br> <br> 事件报告<br> <br> 地图<br> <br> <br> 报告<br>资源 |
| 数据元素组 | 数据元素<br> <br> 类别组合<br> <br> 类别<br> <br> 类别选项<br> <br> 类别选项组合<br> <br> 选项集<br> <br> 属性<br> <br> 图例集<br> <br> 图例 |
| 选项集 | 选项 |

![](resources/images/import_export/metadata_dependency_export.png)

![](resources/images/import_export/metadata_dependency_export_object_types.png)

1.  选择对象类型：_数据集_、_程序_、_类别组合_、_仪表板_、_数据元素组_或_选项集_。

2.  选择对象。

3.  选择格式：_JSON_

4.  选择压缩类型：_Zip_、_GZip_ 或 _Uncompressed_ 压缩类型

5.  Click **Export metadata dependencies** which will open a new web-browser window that will give you a file to download to your local computer.

### 资料汇出 { #data_export }

可以通过单击数据从侧边栏访问数据导出
出口。

![](resources/images/import_export/data_export.png)

1.  选择要从哪个组织单位导出。

2.  选择是要导出包括步骤 1 中所选组织单位的后代，还是只导出手动选择的组织单位。

3.  选择要导出的数据集。

4.  设置开始和结束日期。

5.  选择一种格式：_JSON_、_CSV_、_XML_ 或 _ADX_ 格式

6.  选择压缩模式：**Zip**、**GZip** 或 **未压缩**

7.  Click **Advanced options** if you want to adjust one or more of the following settings before exporting:

    -   包括已删除
    -   数据元素ID方案
    -   组织单位ID方案
    -   ID方案

8.  Click **Export data** which will open a new web-browser window that will give you a file to download to your local computer.

### 活动导出 { #event_export }

通过单击事件可以从边栏中访问事件导出
出口。

![](resources/images/import_export/event_export.png)

您可以 JSON、CSV 或 XML 格式导出事件或跟踪器数据。

1.  选择一个组织单位。

2.  选择包含：

    -   _Selected_: Export event data only for the selected organisation unit

    -   _正下方_：导出事件数据，包括选择范围内的一级组织单位以及所选组织单位本身。

    -   _All below_: Export event data for all organisation units inside the selections as well as the selected organisation unit itself.

3.  选择一个程序和一个程序阶段（如果适用）。

4.  设置开始日期和结束日期。

5.  选择一种格式：_JSON_、_CSV_ 或 _XML_。

6.  选择压缩模式：_Zip_、_GZip_ 或 _Uncompressed_。

7.  Click **Advanced options** if you want to adjust one or more of the following settings before exporting:

    -   包括已删除
    -   数据元素ID方案
    -   组织单位ID方案
    -   ID方案

8.  Click **Export events** which will open a new web-browser window that will give you a file to download to your local computer.

### 跟踪实体实例导出 { #tei_export }

可从侧边栏点击 TEI 导出访问跟踪实体实例导出。

![](resources/images/import_export/tei_export.png)

您可以 JSON、CSV 或 XML 格式导出事件或跟踪器数据。

1.  选择应包括的组织单位。

2.  决定是否要按程序或跟踪实体类型进行筛选。

3.  选择一种格式：_JSON_、_CSV_ 或 _XML_。

4.  Click **Advanced options** if you want to adjust one or more of the following settings before exporting:

    -   按上次更新日期筛选
    -   分配的用户模式
    -   包括已删除
    -   包括所有属性
    -   数据元素ID方案
    -   事件ID方案
    -   组织单位ID方案
    -   ID方案

5.  Click **Export tracked entity instances** which will open a new web-browser window that will give you a file to download to your local computer.

## 工作概述 { #job_overview }

可从侧边栏点击_工作概述_进入工作概述页面。

![](resources/images/import_export/job_overview.png)

通过此页面，您可以查看本会话中启动的所有导入工作的进度。您可以在左侧看到所有任务的列表，在右侧看到特定选定任务的详细信息。

### 按导入作业类型过滤 { #filtering-by-import-job-type }

![](resources/images/import_export/job_overview_filter.png)

默认情况下，所有导入类型的任务都会显示在任务列表中，但您可以点击任务列表上方的任务类型筛选器来筛选您感兴趣的类别。

### 重新创建上一份工作 { #recreating-a-previous-job }

![](resources/images/import_export/job_overview_recreate.png)

如果您已从列表中选择了一项作业，则可单击页面底部的_Recreate job_（重新创建作业）按钮，重新创建之前运行的导入作业。这将带您进入正确的导入页面，并填写与您选择重新创建的作业完全相同的所有表格细节。

## 方案 { #schemes }

许多导入和导出页面中使用的各种方案也被称为标识符方案，用于在导入过程中将元数据对象映射到其他元数据，并在导出过程中呈现元数据。

表：可用值

| 计划 | 描述 |
| --- | --- |
| ID, UID | 与 DHIS2 稳定标识符匹配，这是默认标识方案。 |
| 代码 | 与 DHIS2 编码匹配，主要用于与外部系统交换数据。 |
| 名称 | 与 DHIS2 名称匹配，请注意这使用的是_object.name_，而不是翻译后的名称。还请注意，名称并不总是唯一的，在这种情况下，不能使用它们。 |
| ATTRIBUTE:ID | 根据元数据属性进行匹配，需要将该属性分配给要匹配的类型，并将唯一属性设置为 _true_。它的主要用途也是与外部系统交换数据，与 _CODE_ 相比，它有一些优势，因为可以添加多个属性，所以可以用于与多个系统同步。 |

### ID方案 { #id-scheme }

ID 方案适用于所有类型的对象，但可被更具体的对象类型覆盖。
