---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/2.37/src/user/importexport-app.md"
revision_date: "2021-06-14"
tags:
    - 用
    - DHIS 核心 2.37 版
---

# 导入/导出应用 { #import_export }

在初级卫生系统中，HMIS通常涉及分布式
应用程序，同一应用程序在不同的位置运行
地理位置（PHC，CHC，医院，地区和州）。
这些物理位置中许多都没有Internet连接，并且
因此他们离线工作。在某个时候（通常在该地区
级别），则数据需要同步才能具有
特定地理区域的统一数据库。对于
因此，重要的是能够从一个位置导出数据（
正在离线工作（例如在医疗机构级别），然后导入
另一个（例如在地区级别）。
因此，导出和导入的此功能是HMIS的关键功能。
此功能还可以帮助我们克服某些方面对Internet的依赖
度，因为数据更新可以通过没有密钥的USB密钥进行传输
连接性，或者在互联网有限的情况下通过电子邮件
连接性。 DHIS2提供了强大的导出-导入功能来
满足这些需求。

要访问导入/导出应用，请在顶部标题栏中搜索
进出口。导入/导出应用程序提供了许多服务详细信息
可以在下面找到。

![](resources/images/import_export/overview.png)

## 汇入资料 { #importing_data }

### 导入进度记录器 { #import_progress_logger }

无论导入什么数据（"数据"、"事件"、"GML"、"元数据 "或 "跟踪实体实例 "数据），都可以通过页面顶部的 "任务摘要 "查看导入进度。

### 导入摘要 { #metadata_import_summaries }

导入请求完成后，我们会在导入表单上方显示导入摘要。任何冲突或错误都会显示在导入主摘要下的表格中。

![](resources/images/import_export/import_summary.png)

### 元数据导入 { #metadata_import }

可以从侧边栏单击来访问元数据导入
元数据导入。

![](resources/images/import_export/metadata_import.png)

1.  选择要上传的文件

2.  从_JSON_、_XML_或_CSV_等可用格式中进行选择

3.  选择以下适当的设置：

    -   识别码
    -   导入报告模式
    -   预热模式
    -   导入策略
    -   原子模式
    -   合并模式

4.  Click **Advanced options** if you want to adjust one or more of the following settings before importing:

    -   冲洗模式
    -   跳过分享
    -   跳过验证
    -   异步
    -   包容性策略

5.  Click on the **Import** button which will upload the file and start the importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before importing data; to make sure you keep control over any changes to your Metadata, and to check for problems with out-of-sync data elements or organisation unit names

> **Note**
>
> If an organisation unit e.g. `Nduvuibu MCHP` had a unknown reference to an object with ID `aaaU6Kr7Gtpidn`, it means that the object with ID `aaaU6Kr7Gtpidn` was not present in your imported file, and it was not found in the existing database.
>
> You can control this using **Identifier** option, to indicate if you want to allow objects with such invalid references to be imported or not. If you choose to import invalid references you will have to correct the reference manually in DHIS2 later.

#### DXF2中的匹配标识符 { #matching_identifiers_in_dxf2 }

DXF2格式目前支持匹配两个标识符，即
内部DHIS2标识符（称为UID），也使用外部
标识符称为“代码”。进口商尝试搜索时
对于引用（例如上面的引用），它将首先转到UID字段，
然后转到代码字段。这使您可以从旧版导入
系统中没有每个元数据对象的UID。即如果你是
从旧版系统导入设施数据，您可以省略ID
完整字段（DHIS2将为您填写），然后将
代码字段中的旧系统自己的标识符，此标识符为
必须是唯一的。这不仅适用于组织单位，而且
用于各种元数据，从而可以轻松地从其他系统导入。

### 资料汇入 { #import }

可以通过单击侧边栏上的数据来访问数据导入
进口。

![](resources/images/import_export/data_import.png)

1.  选择要上传的文件

2.  从可用格式中进行选择：_JSON_、_XML_、_PDF_、_ADX_ 或_CSV_。

3.  选择以下适当的设置：

    -   战略
    -   预热缓存

4.  Click **Advanced options** if you want to adjust one or more of the following settings before importing:

    -   数据元素ID方案
    -   组织单位ID方案
    -   ID方案
    -   跳过现有支票

5.  Click on the **Import** button which will upload the file and start the importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before importing data; to make sure you keep control over any changes to your Metadata, and to check for problems with out-of-sync data elements or organisation unit names

#### PDF资料 { #importPDFdata }

DHIS2 supports import of data in the PDF format. This can be used to import data produced by off-line PDF data entry forms. Please refer to the section **Data set management** for details on how to produce a PDF form which can be used for off-line data entry.

To import a PDF data file, navigate to the _PDF Data Import_ item in the side menu. Upload the completed PDF file and click _Import_.

### 事件汇入 { #event_import }

可从侧边栏点击 "事件导入 "访问事件。

![](resources/images/import_export/event_import.png)

1.  从_JSON_、_XML_或_CSV_等可用格式中进行选择

2.  Click **Advanced options** if you want to adjust one or more of the following settings before importing:

    -   事件ID方案
    -   数据元素ID方案
    -   组织单位ID方案
    -   ID方案

3.  Click on the **Import** button which will upload the file and start the importing process.

### GML导入 { #gml_import }

单击侧边栏上的GML可以访问GML导入
进口。

![](resources/images/import_export/gml_import.png)

1.  使用 _GML_（地理标记语言）格式上传文件。

2.  Click on the **Import** button which will upload the file and start the importing process.

### 跟踪实体实例导入 { #tei_import }

跟踪实体实例导入可从侧边栏点击 TEI 导入进入。

![](resources/images/import_export/tei_import.png)

1.  选择要上传的文件

2.  从_JSON_或_XML_等可用格式中选择

3.  选择以下适当的设置：

    -   识别码
    -   导入报告模式
    -   预热模式
    -   导入策略
    -   原子模式
    -   合并模式

4.  Click **Advanced options** if you want to adjust one or more of the following settings before importing:

    -   冲洗模式
    -   跳过分享
    -   跳过验证
    -   包容性策略

5.  Click on the **Import** button which will upload the file and start the importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before importing data; to make sure you keep control over any changes to your Tracked Entity Instances.

## 汇出资料 { #exporting-data }

### 元数据导出 { #metadata_export }

单击侧边栏上的，可以访问元数据导出
元数据导出。

![](resources/images/import_export/metadata_export.png)

1.  选择您要导出的对象列表。

2.  Choose export _format_ _JSON_, _CSV_ or _XML_

3.  Choose _compression_ type _zip_ , _gzip_ or _uncompressed_

4.  Choose option _Sharing_ with or without sharing.

5.  Click **Export metadata** which will open a new web-browser window that will give you a file to download to your local computer.

### 具有依赖项的元数据导出 { #metadata_export_dependencies }

具有依赖项的元数据导出使您可以为以下内容创建罐头导出
元数据对象。这种类型的导出将包括元数据对象
和元数据对象的相关对象；即元数据
与主要对象一起属于

表：对象类型及其依赖关系

| 对象类型 | 导出中包含的依赖项 |
| --- | --- |
| **数据集** | 数据元素<br> <br> 章节<br> <br> 指标<br> <br> 指标类型<br> <br> 属性<br> <br> 数据输入表<br> <br> 图例集<br> <br> 图例<br> <br> 类别组合<br> <br> 类别<br> <br> 类别选项<br> <br> 类别选项组合<br> <br> 选项集 |
| 程式 | 数据输入表<br> <br> 跟踪实体<br> <br> 程序阶段<br> <br> 程序属性<br> <br> 程序指标<br> <br> <br> <br> 程序规则<br> <br> 程序规则动作<br> <br> 程序规则变量 <br> 程序属性<br> 数据元素<br> <br> 类别组合<br> <br> 类别<br> <br> 类别选项<br> <br> 类别选项组合<br> <br> 选项集 |
| 类别组合 | 类别组合 <br> <br> 类别 <br> <br> 类别选项 <br> <br> Category 选项组合 <br><br>属性 |
| 仪表板 | 仪表板项目<br> <br> 图表<br> <br> 事件图表<br> <br> 数据透视表<br> <br> 事件报告<br> <br> 地图<br> <br> <br> 报告<br>资源 |
| 数据元素组 | 数据元素<br> <br> 类别组合<br> <br> 类别<br> <br> 类别选项<br> <br> 类别选项组合<br> <br> 选项集<br> <br> 属性<br> <br> 图例集<br> <br> 图例 |
| 选项集 | 选项 |

![](resources/images/import_export/metadata_dependency_export.png)

![](resources/images/import_export/metadata_dependency_export_object_types.png)

1.  Select an **Object type** : **Data sets** , **Programs** , **Category combination** , **Dashboard** , **Data element groups** or **OptionSets**.

2.  选择一个**对象**。

3.  选择一种格式：** JSON **或** XML **。

4.  选择** Compression **：** Zip **，** Gzip **或** Uncompressed **。

5.  Click **Export metadata dependencies** which will open a new web-browser window that will give you a file to download to your local computer.

### 资料汇出 { #data_export }

可以通过单击数据从侧边栏访问数据导出
出口。

![](resources/images/import_export/data_export.png)

1.  选择_组织单位_ 。

2.  选择是要导出包括步骤 1 中所选组织单位的后代，还是只导出手动选择的组织单位。

3.  选择_数据集_。

4.  设置_开始_和_结束日期_ 。

5.  选择一种格式：** XML **，** CSV **或** JSON **。

6.  选择** Compression **：** Zip **，** Gzip **或** Uncompressed **。

7.  Click **Advanced options** if you want to adjust one or more of the following settings before exporting:

    -   包括已删除
    -   数据元素ID方案
    -   组织单位ID方案
    -   ID方案

8.  Click **Export data** which will open a new web-browser window that will give you a file to download to your local computer.

### 活动导出 { #event_export }

通过单击事件可以从边栏中访问事件导出
出口。

![](resources/images/import_export/event_export.png)

You can export event or tracker data in **XML** , **JSON** or **CSV** formats.

1.  选择一个组织单位。

2.  选择**包含**：

    -   **已选择** ：仅导出所选组织单位的事件数据

    -   **直接在下面** ：导出事件数据，包括选择范围内的一级组织单位以及所选组织单位本身。

    -   **以下全部** ：导出选择范围内所有组织单位以及所选组织单位本身的事件数据。

3.  选择一个程序和一个程序阶段（如果适用）。

4.  选择**开始日期**和**结束日期**。

5.  选择一种格式：** XML **，** JSON **或** CSV **。

6.  选择** Compression **：** Zip **，** Gzip **或** Uncompressed **。

7.  Click **Advanced options** if you want to adjust one or more of the following settings before exporting:

    -   包括已删除
    -   数据元素ID方案
    -   组织单位ID方案
    -   ID方案

8.  Click **Export events** which will open a new web-browser window that will give you a file to download to your local computer.

### 跟踪实体实例导出 { #tei_export }

可从侧边栏点击 TEI 导出访问跟踪实体实例导出。

![](resources/images/import_export/tei_export.png)

You can export event or tracker data in **XML** , **JSON** or **CSV** formats.

1.  选择应包括的_组织单位_。

2.  选择是按_程序_还是按_跟踪实体类型_进行筛选。

3.  选择一种格式：** XML **，** JSON **或** CSV **。

4.  Click **Advanced options** if you want to adjust one or more of the following settings before exporting:

    -   按上次更新日期筛选
    -   分配的用户模式
    -   包括已删除
    -   包括所有属性
    -   数据元素ID方案
    -   事件ID方案
    -   组织单位ID方案
    -   ID方案

5.  Click **Export tracked entity instances** which will open a new web-browser window that will give you a file to download to your local computer.

## 工作概述 { #job_overview }

可从侧边栏点击_工作概述_进入工作概述页面。

![](resources/images/import_export/job_overview.png)

通过该页面，您可以查看本会话中启动的所有导入工作的进度。您可以在左侧看到所有任务的列表，在右侧看到特定选定任务的详细信息。

### 按导入作业类型过滤 { #filtering-by-import-job-type }

![](resources/images/import_export/job_overview_filter.png)

默认情况下，所有导入类型的任务都会显示在任务列表中，但您可以点击任务列表上方的任务类型筛选器来筛选您感兴趣的类别。

### 重新创建上一份工作 { #recreating-a-previous-job }

![](resources/images/import_export/job_overview_recreate.png)

如果您已从列表中选择了一项作业，则可单击页面底部的_Recreate job_（重新创建作业）按钮，重新创建之前运行的导入作业。这将带您进入正确的导入页面，并填写与您选择重新创建的作业完全相同的所有表格细节。

## 方案 { #schemes }

许多导入和导出页面中使用的各种方案也被称为标识符方案，用于在导入过程中将元数据对象映射到其他元数据，并在导出过程中呈现元数据。

表：可用值

| 计划 | 描述 |
| --- | --- |
| ID, UID | 与 DHIS2 稳定标识符匹配，这是默认标识方案。 |
| 代码 | 与 DHIS2 编码匹配，主要用于与外部系统交换数据。 |
| 名称 | 与 DHIS2 名称匹配，请注意这使用的是_object.name_，而不是翻译后的名称。还请注意，名称并不总是唯一的，在这种情况下，不能使用它们。 |
| ATTRIBUTE:ID | 根据元数据属性进行匹配，需要将该属性分配给要匹配的类型，并将唯一属性设置为 _true_。它的主要用途也是与外部系统交换数据，与 _CODE_ 相比，它有一些优势，因为可以添加多个属性，所以可以用于与多个系统同步。 |

### ID方案 { #id-scheme }

ID 方案适用于所有类型的对象，但可被更具体的对象类型覆盖。
