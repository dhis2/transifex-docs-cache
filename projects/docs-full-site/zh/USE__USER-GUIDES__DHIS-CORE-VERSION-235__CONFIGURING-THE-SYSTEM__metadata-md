---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/2.35/src/user/configure-metadata.md"
revision_date: "2021-06-14"
---

# 配置元数据 { #maintenance_app }

## 关于维护应用 { #about_maintenance_app }

In the **Maintenance** app you configure all the metadata objects you need to collect and analyze data:

-   分类目录

-   资料元素

-   数据集和数据输入表格

-   指标

-   组织单位

-   程序元数据：跟踪实体、跟踪实体属性和关系类型

-   验证规则

-   属性

-   常数

-   选项集

-   传说

-   预测变量

-   推送报告

-   外部地图图层

> **注意**
>
> 您有权访问的功能取决于您的用户角色的访问权限。

### 导航元数据对象 { #navigating_metadata }

元数据对象以列表的形式显示，其中包含与每个对象相关的预定义列。
您可以自定义当前对象列表中显示的列。这些自定义是针对每个用户的，因此不会影响其他用户。请注意，这些更改不会编辑任何元数据，只会编辑列表的显示方式。

#### 管理可见列 { #managing-visible-columns }

![](resources/images/maintainence/configurable_columns_dialog.png)

1. 单击要配置的对象列表右上角的 ![settings-icon](resources/images/maintainence/icon_settings.png) - 图标。
2. A dropdown-menu will appear, select **Manage columns**.
3. 将出现一个对话框，并选择默认列。
4. Click any column-name in the list of **Available columns** to add them to the list of selected columns.
5. 您可以通过拖放 ![reorder-icon](resources/images/maintainence/icon_reorder.png) 图标来重新排序所选列。
6. 您也可以通过单击名称旁边的X图标，从视图中删除任何列。
7. Click **Save** once you are satisified with your changes.

You may easily reset to the default values by clicking the **Reset to default** button.

##### 下载元数据 { #download-metadata }

您可以下载当前正在查看的对象的元数据。元数据下载将遵守您对该列表有效的所有过滤器。

1. 单击要配置的对象列表右上角的 ![settings-icon](resources/images/maintainence/icon_settings.png) - 图标。
2. 将会出现一个下拉菜单，选择**下载**。
3. 将出现一个对话框，您可以在其中选择所需的格式和压缩率。
4. 可以选择**具有共享**以包括元数据的共享数据。

## 管理类别 { #manage_category }

### 关于类别 { #about_category }

类别通常是一个概念，例如“性别”，“年龄”或“
“疾病状态”。数据元素，例如“已确认病例数
疟疾”通常分为较小的组成部分，以便确定
例如，已确认的特定年龄组的疟疾病例数。

使用类别将数据元素分解为单个组件。
您还可以使用类别为所有数据分配元数据属性
记录在特定的数据集中，例如“实施伙伴”或
“资金代理机构。”

创建三个类别：“ 1岁以下”，“ 1-5”和“ 5岁以上”。将它们分配为
数据元素的类别。这将为创建三个单独的字段
此数据以数据输入形式：

-   确诊的疟疾病例数（1岁以下）

-   确诊的疟疾病例数（1-5）

-   确诊的疟疾病例数（5例以上）

没有类别，您将不得不创建每个数据
上面单独列出的元素。

In the **Maintenance** app, you manage the following and category objects:

<table>
<caption>Category objects in the Maintenance app</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Object type</p></th>
<th><p>Available functions</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Category option</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="even">
<td><p>Category</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="odd">
<td><p>Category combination</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="even">
<td><p>Category option combination</p></td>
<td><p>Edit and show details</p></td>
</tr>
<tr class="odd">
<td><p>Category option group</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="even">
<td><p>Category option group set</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
</tbody>
</table>

### 工作流程 { #workflow_category }

1.  创建所有类别选项。

2.  创建由您创建的多个类别选项组成的类别。

3.  创建由一个或多个类别组成的类别组合。

4.  创建数据元素并将其分配给类别组合。

### 创建或编辑类别选项 { #create_category_option }

如果可能，请回收类别选项。例如，可能有
可能共享特定类别选项的两个类别（对于
例如\ <1岁）。创建类别时，此类别
选项可以重复使用。如果特定类别选项很重要
（或类别选项组合）需要一起分析。

1.  Open the **Maintenance** app and click **Category** \> **Category option**.

2.  点击添加按钮。

3.  填写表格：

    1.  **名称**

    2.  **开始日期**

    3.  **结束日期**

4.  选择组织单位并分配它们。

    > **Tip**
    >
    > You can automatically select all organisation units that belong to an organisation unit level or organisation unit group, for example "Chiefdom" or "Urban. To do this:
    >
    > Select an **Organisation unit level** or **Organisation unit group** and click **Select**.

5.  点击**保存**。 

### 创建或编辑类别 { #create_category }

为特定类别创建所有类别选项后，
您可以创建该类别。

1.  Open the **Maintenance** app and click **Category** \> **Category**.

2.  点击添加按钮。

3.  填写表格：

    1.  **名称**

    2.  **码**

    3.  **数据维度类型**

        A category either be of type "Disaggregation" or "Attribute". For disaggregation of data elements, you select **Disaggregation**. The data dimension type "Attribute" allows the category to be used to assign a combination of categories to data recorded through a data set.

    4.  **数据尺寸**

        If you select **Data dimension**, the category will be available to the analytics as another dimension, in addition to the standard dimensions of "Period" and "Organisation unit".

4.  选择类别选项并分配它们。

5.  点击**保存**。 

### 创建或编辑类别组合 { #create_category_combination }

类别组合可让您将多个类别组合成一个
相关集。

您可以分解数据元素“新感染艾滋病毒的数量”
分为以下几类：

-   艾滋病毒服务：“其他”，“ PMTCT”，“结核病”

-   性别：“男”，“女”

在此示例中，有两个分解级别，包括
两个单独的数据元素类别。每个数据元素类别包括
几个数据元素类别选项。

在DHIS2中，根据
常见的一组类别。通过将这些不同的类别合并为一个
类别组合并将这些组合分配给数据元素，
您可以将适当的分类级别快速应用于大型
数据元素数。

1.  Open the **Maintenance** app and click **Category** \> **Category combination**.

2.  点击添加按钮。

3.  填写表格：

    1.  **名称**

    2.  **码**

    3.  **数据维度类型**

    4.  **报告中的跳过类别总计**

4.  选择类别并分配它们。

5.  点击**保存**。 

### 创建或编辑类别选项组 { #create_category_option_group }

您可以使用类别选项对类别选项进行分组和分类
组。类别选项组集的主要目的是添加更多
您捕获的数据的维数，以便在例如
**数据透视表**或**数据可视化器**应用。

考虑一个由“项目”收集数据并为项目建模的系统
作为类别选项。系统必须能够基于
哪个捐助者支持该项目。在这种情况下，创建一个类别
选项组集称为“捐赠者”。每个捐赠者都可以创建为一个类别
选项组，其中每个类别选项/项目都放在
适当的组。在数据分析应用程序中，“捐赠者”组
集将显示为数据维度，而每个供体显示为
尺寸项目，准备包含在报告中。

要创建类别选项组：

1.  Open the **Maintenance** app and click **Category** \> **Category option group**.

2.  点击添加按钮。

3.  填写表格：

    1.  **名称**

    2.  **短名称**：为数据元素定义一个短名称。

    3.  **码**

    4.  **数据维度类型**

4.  选择**类别选项**并分配它们。

5.  点击**保存**。 

### 创建或编辑类别选项组集 { #create_category_option_group_set }

您可以将类别选项组分组在类别选项组集中。的
类别选项组集的主要目的是添加更多
您捕获的数据的维数，以便在例如
**数据透视表**或**数据可视化器**应用。

1.  Open the **Maintenance** app and click **Category** \> **Category option group set**.

2.  点击添加按钮。

3.  填写表格：

    1.  **名称**

    2.  **描述**

    3.  **数据尺寸**

    4.  **数据维度类型**

4.  Select **Category option groups** and assign them.

5.  点击**保存**。 

### 对数据集使用类别组合 { #use_category_combo_for_data_set }

当类别和类别组合具有数据维类型时
“属性”，他们可以将一组通用属性应用于相关的一组
包含在数据集中的数据值。当类别组合为
用作属性，它们用作另一个维度（类似于
您可以在分析中使用的“期间”和“组织单位”。

假设非政府组织在给定的设施中提供ART服务。他们
需要每个月在“ ART每月摘要”中进行报告，
将包含许多数据元素。非政府组织和项目可以
可能会随着时间而改变。为了将数据归因于给定的NGO
和项目在任何时间点，您需要记录此信息
在输入数据时使用每个数据值。

1.  使用数据维度类型“属性”创建两个类别：“实施合作伙伴”和“项目”。

2.  创建数据维度类型“属性”的类别组合：“实施合作伙伴和项目”。

3.  将您创建的类别分配给类别组合。

4.  创建一个名为“ART 每月摘要”的数据集，并选择“实施合作伙伴和项目”类别组合。

When you enter data in the **Data entry** app, you can select an "Implementing partner" and a "Project". Each recorded data value, is assigned a specific combination of these categories as an attribute. These attributes (when specified as a dimension) can be used in the analysis applications similar to other dimensions, for example the period and organisation unit.

![](resources/images/maintainence/categories_dataset_attributes.png)

### 将代码分配给类别选项组合 { #assign_code_category_option_combo }

您可以将代码分配给类别选项组合。这使得数据
DHIS2与外部系统之间的交换更加容易。系统创建
类别选项组合自动。

1.  打开**维护**应用程序并单击**类别** \> **类别选项组合**。

2.  在列表中，找到要修改的对象。

3.  点击选项菜单，然后选择**编辑**。

4.  输入验证码。

5.  点击**保存**。 

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 更改元数据对象的共享设置 { #change-sharing-settings-for-metadata-objects }

您可以为元数据对象分配不同的共享设置，例如
示例组织单位和跟踪的实体属性。这些分享
设置可控制哪些用户和用户组可以查看或编辑
元数据对象。

一些元数据对象还允许您更改共享设置
对象的数据输入。这些附加设置控制谁可以
使用元数据查看或在表单字段中输入数据。

> **注意**
>
> 默认设置是每个人（**公共访问**）都可以查找、查看和编辑元数据对象。

1.  打开 **维护** 应用程序并找到您要修改的元数据对象的类型。

2.  在对象列表中，单击上下文菜单并选择**共享设置**。

3.  （可选）添加用户或用户组：搜索并选择用户或用户组。用户或用户组将添加到列表中。

4.  更改要修改的访问组的共享设置。

    -   **可以编辑和查看**：访问组可以查看和编辑对象。

    -   **只能查看**：访问组可以查看对象。

    -   **无访问权限**（仅适用于**公共访问**）：公众无权访问该对象。

5.  更改要修改的访问组的数据共享设置。

    -   **可以捕获数据**：访问组可以查看和捕获对象的数据。

    -   **可以查看数据**：访问组可以查看对象的数据。

    -   **无访问权限**：访问组无权访问对象的数据。

6.  点击**关闭**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理数据元素 { #manage_data_element }

### 关于数据元素 { #about_data_element }

数据元素是DHIS2的基础。数据元素定义什么
实际记录在系统中，例如免疫接种次数或
疟疾病例数。

诸如“确诊疟疾病例数”之类的数据元素通常
分解成较小的组成部分，例如确定
特定年龄段已确诊的疟疾病例数。

In the **Maintenance** app, you manage the following data elements objects:

<table>
<caption>Data element objects in the Maintenance app</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Object type</p></th>
<th><p>Available functions</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Data element</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="even">
<td><p>Data element group</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="odd">
<td><p>Data element group set</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
</tbody>
</table>

### 工作流程 { #workflow_data_element }

1.  创建所有类别选项。

2.  创建由您创建的多个类别选项组成的类别。

3.  创建由一个或多个类别组成的类别组合。

4.  创建数据元素并将其分配给类别组合。

### 创建或编辑数据元素 { #create_data_element }

![](resources/images/maintainence/create_data_element.png)

1.  Open the **Maintenance** app and click **Data elements** \> **Data element**.

2.  点击添加按钮。

3.  In the **Name** field, define the precise name of the data element.

    每个数据元素必须具有唯一的名称。

4.  In the **Short name** field, define a short name for the data element.

    通常，短名称是完整数据元素名称的缩写。此属性通常在报表中用于显示数据元素的名称，但空间有限。

5.  （可选）在 **Code** 字段中，分配一个代码。 

    在许多国家/地区，为数据元素分配了代码。

6.  (Optional) In the **Color** field, assign a color which will be used for this data element in the data capture apps.

7.  (Optional) In the **Icon** field, assign an icon which will be used for this data element in the data capture apps.

8.  In the **Description** field, type a description of the data element. Be as precise as possible and include complete information about how the data element is measured and what its purpose is.

9.  (Optional) In the **Field mask** field, you may type a template that's used to provide hints for correct formatting of the data element.

    > **NOTE**
    >
    > So far this is only implemented in the DHIS2 Android Capture app; not in the Capture and Tracker Capture web apps.

    以下是可在遮罩中使用的特殊字符。特殊字符与给定类型的一个字符完全匹配。

    |性格匹配|
    | --------- | -------------------------- |
    | \\ d |数字|
    | \\ x |小写字母|
    | \\ X |大写字母|
    | \\ w |任何字母数字字符|

    例如，该模式可用于根据需要在数据元素的输入字段中显示连字符。例如“\d\d\d-\d\d\d-\d\d\d，每三个数字显示一个连字符。

10. In the **Form name** field, type an alternative name of the data element. This name can be used in either section or automatic data entry forms. The form name is applied automatically.

11. In the **Domain type** field, select whether the data element is an aggregate or tracker type of data element.

12. In the **Value type** field, select the type of data that the data element will record.

    <table>
    <caption>Value types</caption>
    <colgroup>
    <col style="width: 53%" />
    <col style="width: 46%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Value type</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Age</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>Coordinate</p></td>
    <td><p>A point coordinate specified as longitude and latitude in decimal degrees. All coordinate should be specified in the format &quot;-19.23 , 56.42&quot; with a comma separating the longitude and latitude.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Date</p></td>
    <td><p>Dates rendered as calendar widget in data entry.</p></td>
    </tr>
    <tr class="even">
    <td><p>Date &amp; time</p></td>
    <td><p>Is a combination of the <strong>DATE</strong> and <strong>TIME</strong> data elements.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Email</p></td>
    <td><p>Email.</p></td>
    </tr>
    <tr class="even">
    <td><p>File</p></td>
    <td><p>A file resource where you can store external files, for example documents and photos.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Image</p></td>
    <td><p>A file resource where you can store photos.</p>
    <p>Unlike the <strong>FILE</strong> data element, the <strong>IMAGE</strong> data element can display the uploaded image directly in forms.</p></td>
    </tr>
    <tr class="even">
    <td><p>Integer</p></td>
    <td><p>Any whole number (positive and negative), including zero.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Letter</p></td>
    <td><p>A single letter.</p></td>
    </tr>
    <tr class="even">
    <td><p>Long text</p></td>
    <td><p>Textual value. Renders as text area with no length constraint in forms.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Negative integer</p></td>
    <td><p>Any whole number less than (but not including) zero.</p></td>
    </tr>
    <tr class="even">
    <td><p>Number</p></td>
    <td><p>Any real numeric value with a single decimal point. Thousands separators and scientific notation is not supported.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Percentage</p></td>
    <td><p>Whole numbers inclusive between 0 and 100.</p></td>
    </tr>
    <tr class="even">
    <td><p>Phone number</p></td>
    <td><p>Phone number.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Positive integer</p></td>
    <td><p>Any whole number greater than (but not including) zero.</p></td>
    </tr>
    <tr class="even">
    <td><p>Positive or zero integer</p></td>
    <td><p>Any positive whole number, including zero.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Organisation unit</p></td>
    <td><p>Organisation units rendered as a hierarchy tree widget.</p>
    <p>If the user has assigned &quot;search organisation units&quot;, these will be displayed instead of the assigned organisation units.</p></td>
    </tr>
    <tr class="even">
    <td><p>Unit interval</p></td>
    <td><p>Any real number greater than or equal to 0 and less than or equal to 1.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Text</p></td>
    <td><p>Textual value. The maximum number of allowed characters per value is 50,000.</p></td>
    </tr>
    <tr class="even">
    <td><p>Time</p></td>
    <td><p>Time is stored in HH:mm format.</p>
    <p>HH is a number between 0 and 23</p>
    <p>mm is a number between 00 and 59</p></td>
    </tr>
    <tr class="odd">
    <td><p>Tracker associate</p></td>
    <td><p>Tracked entity instance. Rendered as dialog with a list of tracked entity instances and a search field.</p></td>
    </tr>
    <tr class="even">
    <td><p>Username</p></td>
    <td><p>DHIS2 user. Rendered as a dialog with a list of users and a search field. The user will need the "View User" authority to be able to utilise this data type</p></td>
    </tr>
    <tr class="odd">
    <td><p>Yes/No</p></td>
    <td><p>Boolean values, renders as drop-down lists in data entry.</p></td>
    </tr>
    <tr class="even">
    <td><p>Yes only</p></td>
    <td><p>True values, renders as check-boxes in data entry.</p></td>
    </tr>
    </tbody>
    </table>

13. In the **Aggregation type** field, select the default aggregation operation that will be used on the data element.

    Most data elements should have the **Sum** operator. This includes all data elements which should be added together. Other data elements, such as staffing levels, should be set to use the **Average** operator, when values along the time dimension should not be added together, but rather averaged.

    <table>
    <caption>Aggregation operators</caption>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Aggregation operator</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Average</p></td>
    <td><p>Average the values in both the period as and the organisation unit dimensions.</p></td>
    </tr>
    <tr class="even">
    <td><p>Average (sum in organisation unit hierarchy)</p></td>
    <td><p>Average of data values in the period dimension, sum in the organisation unit dimensions.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Count</p></td>
    <td><p>Count of data values.</p></td>
    </tr>
    <tr class="even">
    <td><p>Min</p></td>
    <td><p>Minimum of data values.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Max</p></td>
    <td><p>Maximum of data values.</p></td>
    </tr>
    <tr class="even">
    <td><p>None</p></td>
    <td><p>No aggregation is performed in any dimension.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Sum</p></td>
    <td><p>Sum of data values in the period and organisation unit dimension.</p></td>
    </tr>
    <tr class="even">
    <td><p>Standard deviation</p></td>
    <td><p>Standard deviation (population-based) of data values.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Variance</p></td>
    <td><p>Variance (population-based) of data values.</p></td>
    </tr>
    </tbody>
    </table>

14. If you want to save zeros for a particular reason, select **Store zero data values**. By default, DHIS2 does not store zeros entered in the data entry module.

15. In the **URL** field, enter a link to an in-depth description of the data element.

    例如，指向元数据存储库或注册表的链接，其中包含有关数据元素的定义和测量的详细技术信息。

16. In the **Category combination** field, define which category combination the data element should have. This is also known as the "disaggregation".

17. 选择**选项集**。

    选项集是可在数据输入中使用的预定义选项列表。

18. Select an **Option set for comments**.

    注释选项集是预定义的选项列表，可用于指定数据输入中数据值的标准化注释。

19. 分配一个或多个**传奇**。

    Legends are used in for example the **Maps** app to display certain data elements with certain icons.

20. Set the **Aggregation levels** to allow the data element to be aggregated at one or more levels:

    1.  在左侧窗格中，选择要分配给数据元素的级别。

    2.  单击右箭头以指定聚合级别。

    默认情况下，聚合将从分配的最低组织单位开始。例如，如果您选择“Chiefdom”，则意味着“Chiefdom”、“District”和“National”聚合使用“Chiefdom”（可用的最高聚合级别）作为数据源，并且不会包含 PHU 数据。 PHU 数据仍可用于 PHU 级别，但不包含在上述级别的聚合中。

    如果您同时选择“District”和“Chiefdom”，则意味着“District”和“National”级别聚合使用District 数据作为源，“Chiefdom”将使用Chiefdom，“PHU”将使用PHU。

21. 如果适用，请输入自定义属性值，例如 **分类** 或 **收集方法**。

    > **Note**
    >
    > You create custom attributes in the **Maintenance** app: **Other** > \> **Attributes**.

22. 如果适用，选择强制数据元素组集，例如**主要数据元素组**或**基于跟踪器的数据**。

    > **Note**
    >
    > You'll only see data element group sets in this form if you've created them and set them to **Compulsory**.
    >
    > You create data element group sets in the **Maintenance** app: **Data element** \> **Date element group set**.

23. 点击**保存**。 

### 创建或编辑数据元素组 { #create_data_element_group }

数据元素组可让您将相关数据元素分类为
共同的主题。例如，两个数据元素“麻疹免疫”和
“ BCG免疫”可以分组为一个数据元素组
“儿童免疫”。

要创建数据元素组：

1.  Open the **Maintenance** app and click **Data elements** \> **Data element group**.

2.  点击添加按钮。

3.  填写表格：

    1.  **名称**

    2.  **简称**

    3.  **码**

4.  选择数据元素并分配它们。

5.  点击**保存**。 

### 创建或编辑数据元素组集 { #create_data_element_group_set }

数据元素组集可让您对多个数据元素进行分类
组成一组。系统在以下过程中使用数据元素组集
分析和报告，以将相似的数据元素组合并为一个
共同的主题。一个数据元素组可以是多个数据元素的一部分
组集。

1.  Open the **Maintenance** app and click **Data elements** \> **Data element group set**.

2.  点击添加按钮。

3.  填写表格：

    1.  **名称**

    2.  **码**

    3.  **描述**

    4.  **必修**

    5.  **数据尺寸**

4.  选择数据元素组并分配它们。

    可用的数据元素组显示在左侧面板中。当前作为数据元素组集成员的数据元素组显示在右侧面板中。

5.  点击**保存**。 

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 更改元数据对象的共享设置 { #change-sharing-settings-for-metadata-objects }

您可以为元数据对象分配不同的共享设置，例如
示例组织单位和跟踪的实体属性。这些分享
设置可控制哪些用户和用户组可以查看或编辑
元数据对象。

一些元数据对象还允许您更改共享设置
对象的数据输入。这些附加设置控制谁可以
使用元数据查看或在表单字段中输入数据。

> **注意**
>
> 默认设置是每个人（**公共访问**）都可以查找、查看和编辑元数据对象。

1.  打开 **维护** 应用程序并找到您要修改的元数据对象的类型。

2.  在对象列表中，单击上下文菜单并选择**共享设置**。

3.  （可选）添加用户或用户组：搜索并选择用户或用户组。用户或用户组将添加到列表中。

4.  更改要修改的访问组的共享设置。

    -   **可以编辑和查看**：访问组可以查看和编辑对象。

    -   **只能查看**：访问组可以查看对象。

    -   **无访问权限**（仅适用于**公共访问**）：公众无权访问该对象。

5.  更改要修改的访问组的数据共享设置。

    -   **可以捕获数据**：访问组可以查看和捕获对象的数据。

    -   **可以查看数据**：访问组可以查看对象的数据。

    -   **无访问权限**：访问组无权访问对象的数据。

6.  点击**关闭**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理数据集和数据输入表单 { #manage_data_set }

### 关于数据集和数据输入表格 { #about_dataset_dataform }

All data entry in DHIS2 is organised in data sets. A data set is a collection of data elements grouped together for data entry and data export between instances of DHIS2. To use a data set to collect data for a specific organisation unit, you must assign the organisation unit to the data set. Once you have assigned the data set to an organisation unit, that data set is available in the **Data entry** app. Only the organisation units that you have assigned the data set to can use the data set for data entry.

A category combination can link to both data elements and data sets. If you use a category combination for a data set, the category combinations is applicable for the whole form. This means that you can use categories to capture information which is common to an entire form, for example the name of the a project or grant. When a data set is linked to a category combination, those categories will be displayed as drop-down boxes in the **Data entry** app. Data captured in the form will then be linked to the selected category options from those drop-down boxes. For information about how to create categories and category combinations, see section "Manage data elements and categories". Make sure that you set the type of categories and category combinations to "Attribute".

类别有用的一种情况是您需要捕获一个类别
实施伙伴组织和项目的数据输入表。
在这种情况下：

1.  为所有合作伙伴组织和项目创建类别选项和类别，并将它们链接到新的类别组合中。

2.  将类别组合分配给需要捕获此信息的数据集（表单）。

    当在数据录入模块中打开该数据集时，合作伙伴组织和项目类别将自动呈现为下拉框，允许您在继续进行数据录入之前选择特定的实施合作伙伴组织和项目。

You create and edit data sets in the **Maintenance** app. Here you define, for example, which data elements you want to include in the data set and the data collection frequency.

You enter data in the **Data entry** app. The **Data entry** app uses data entry forms to display the data sets. There are three types of data entry forms:

<table>
<caption>Data entry form types</caption>
<colgroup>
<col style="width: 37%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="header">
<th>Data entry form type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Default form</p></td>
<td><p>Once you have assigned a data set to an organisation unit, a default form is created automatically. The default form is then available in the <strong>Data entry</strong> app for the organisation units you have assigned it to.</p>
<p>A default form consist of a list of the data elements belonging to the data set together with a column for inputting the values. If your data set contains data elements with a non-default category combination, for example age groups or gender, additional columns are automatically created in the default form based on the different categories.</p>
<p>If you use more than one category combination you get multiple columns in the default form with different column headings for the options.</p></td>
</tr>
<tr class="even">
<td><p>Section form</p></td>
<td><p>If the default form doesn't meet your needs, you can modify it to create a section form. Section forms give you more flexibility when it comes to using tabular forms.</p>
<p>In a section form you can, for example, create multiple tables with subheadings and disable (grey out) cells in a table.</p>
<p>When you have added a section form to a data set, the section form is available in the <strong>Data entry</strong> app.</p></td>
</tr>
<tr class="odd">
<td><p>Custom form</p></td>
<td><p>If the form you want to design is too complicated for default or section forms, you can create a custom form. A custom form takes more time to create than a section form, but you have full control over the design.</p>
<p>You can, for example, mimic an existing paper aggregation form with a custom form. This makes data entry easier, and should reduce the number incorrectly entered data elements.</p>
<p>When you have added a custom form to a data set, the custom form is available in the <strong>Data entry</strong> app.</p></td>
</tr>
</tbody>
</table>

> **注意**
>
> 如果数据集同时具有分区表单和自定义表单，则系统在数据输入时显示自定义表单。输入数据的用户无法选择他们想要使用的表单。在基于 Web 的数据输入中，显示首选项的顺序为：
>
> 1. 自定义表单（如果存在）
>
> 2. 章节表格（如果有）
>
> 3.默认表单
>
> 移动设备不支持自定义表单。在基于移动设备的数据输入中，显示首选项的顺序是：
>
> 1. 章节表格（如果有）
>
> 2.默认表单

In the **Maintenance** app, you manage the following data set objects:

<table>
<caption>Data set objects in the Maintenance app</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Object type</p></th>
<th><p>Available functions</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Data set</p></td>
<td><p>Create, assign to organisation units, edit, share, delete, show details and translate</p>
<p>Edit compulsory data elements</p>
<p>Add and remove multiple data sets to organisation units at once</p></td>
</tr>
<tr class="even">
<td><p>Section form</p></td>
<td><p>Create, edit and manage grey fields</p></td>
</tr>
<tr class="odd">
<td><p>Section</p></td>
<td><p>Change display order, delete and translate</p></td>
</tr>
<tr class="even">
<td><p>Custom form</p></td>
<td><p>Create, edit and script</p></td>
</tr>
</tbody>
</table>

### 工作流程 { #workflow_data_set }

您需要具有数据元素和类别才能创建数据集和
数据输入表格。

1.  创建一个数据集。

2.  将数据集分配给组织单位。

    默认形式是自动创建的。

3.  创建节形式或自定义形式。

    Now you can register data in the **Data entry** app.

### 创建或编辑数据集 { #create_data_set }

![](resources/images/datasets/data_set_create.png)

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  点击添加按钮。

3.  In the **Name** field, type the precise name of the data set.

4.  In the **Short name** field, define a short name for the data set.

    通常，短名称是完整数据集名称的缩写。该属性通常用于在空间有限的情况下显示数据集的名称。

5.  （可选）在 **Code** 字段中，分配一个代码。 

6.  In the **Description** field, type a description of the data set.

7.  Enter the number of **Expiry days**.

    The number of expiry days controls for how long it should be possible to enter data in the **Data entry** app for this data set. Expiry days refer to the number of days after the end date of the selected data entry period where the data entry form should be open for entry. After the number of days has expired, the data set will be locked for further entry.

    You can set manual exceptions to this using the lock exception functionality in the **Data Administration** app.

    > **Note**
    >
    > To allow data entry into all possible historical time periods, set the number of expiry days to zero.

8.  If you want it to be possible to enter data for future periods, type the number of periods in the **Open future periods for data entry** field.

    该值是可用于数据输入的未来期间的数量。

    对于每月数据集，值 2 允许您提前输入 2 个月的数据。例如，这对于人口、目标和规划数据很有用。

9.  In the **Days after period to qualify for timely submission** field, type the number of days in which data can be entered to be considered reported on time.

    要验证及时提交报告的数量，请转至 **报告** \> **报告率摘要**。

10. Select a **Period type**.

    周期类型定义特定数据集的报告频率。频率可以例如是每天、每季度或每年。

11. Select a **Category combination** to assign it to the data set.

    > **Tip**
    >
    > Click **Add new** to create category combinations that you're missing. In the form that opens, create the category combinations you need. When you're done, click **Refresh values**.

12. If you selected a category combination other than **None**, you may enter zero or a positive number for **Open periods after category option end date**. This lets you enter data in this data set for a category option up to the specified number of periods after that category option's end date.

13. In the **Complete notification recipients** list, select a user group that should receive a message when the data set is marked as complete in the **Data Entry** app.

    该消息是通过DHIS2消息传递系统传递的。

14. If you want the user who entered the data to receive a message when the data set is marked as complete in the **Data entry** app, select **Send notification to completing user**.

    该消息是通过DHIS2消息传递系统传递的。

15. If applicable, select, a **Data approval workflow**.

16. If you want it to be possible to use the data set within the Java mobile DHIS2 application, select **Enable for Java mobile client**.

17. If you want it to be mandatory to fill all values for a data element in data entry if one or more values have been filled, select **All fields for data elements required**.

    这意味着，如果您在输入字段（即类别选项组合）中为数据元素输入一个数据值，则必须为属于该数据元素的所有字段（即所有类别选项组合）输入数据。

18. If you want it to be possible to mark a data entry form as complete only if the validation of that form is successful, select **Complete allowed only if validation passes**.

    如果选择此选项，则在验证失败时无法将表单标记为完整。

19. If you want it to be mandatory that any missing values require a comment to justify their absence, select **Missing values requires comment on complete**.

20. （可选）分配一个或多个**传奇**。

21. If applicable, select **Skip offline**.

    This option controls whether this data entry form should be downloaded and saved in the user's web browser. Normally you shouldn't select **Skip offline**. This is the default setting. If you have big forms which are rarely used you can consider selecting this option to speed up initial loading in the data entry module.

22. If applicable, select **Data element decoration**

    If you select this option, descriptions of data elements render in call-outs in downloaded data sets in offline mode in the **Data entry** app.

23. If applicable, select **Render sections as tabs**.

    此选项仅适用于部分表单。该选项允许您将每个部分呈现为数据集上方水平的选项卡。这对于长数据集非常有用，因为它允许快速选择适当的部分，而无需浏览整个表单。

24. If applicable, select **Render vertically**.

    此选项仅适用于部分表格。

25. 选择数据元素并分配它们。

    您可以通过单击所选数据元素列表上方的齿轮图标来覆盖每个所选数据集的类别组合。这允许您利用当前数据集中的特定类别组合（分解），而不是直接与数据元素本身关联的类别组合。

26. 选择指标并分配它们。

27. 在组织单位树中，选择要将数据集分配到的组织单位。

    > **Tip**
    >
    > -   Click **Organisation unit level** to select all organisation units that belong to a certain organisation level.
    >
    > -   Click **Organisation unit group** to select all organisation units that belong to a certain organisation unit group.

28. 点击**保存**。 

You can now use the data set in the **Data Entry** app for the organisation units that you have assigned to and for periods according to the selected frequency (period type).

### 创建或编辑数据集通知 { #create_data_set_notification }

1.  Open the **Maintenance** app and click **Data set** \> **Data set notification**.

2.  点击添加按钮。

#### 发送什么？ { #what-to-send }

![](resources/images/datasets/dataset_notification_create.png)

1.  In the **Name** field, type the precise name of the data set notification.

2.  （可选）在 **Code** 字段中，分配一个代码。 

3.  输入**数据集**。

    这些数据集将与此通知相关联。如果其中任何一项在一定期限和组织单位内完成，系统将生成通知。

    > **Note**
    >
    > Nothing will happen if no data set is selected

4.  In **Message template** section there are two parameters.

    -   **主题模板** 通知中发送的通知主题。它可以具有右侧可用变量列表中的值。

    -   **消息模板** 通知中发送的实际消息。它可以具有右侧可用变量列表中的值。

    > **Note**
    >
    > Subject is only relevant in case of Email and internal DHIS2 messages. It is ignored in case of SMS.

#### 何时发送？ { #when-to-send }

![](resources/images/datasets/when_to_send.png)

1.  **数据集通知触发**字段确定何时发送通知。

    -   **Data Set Completion** will trigger notification as soon as data set is completed.

    -   **计划天数** 将根据相对于计划日期的天数来安排通知。计划日期将由与数据集关联的期间决定。

        -   **发送通知为**提供两种不同类型的通知

            -   **汇总摘要**以摘要心情发送通知

            -   **单一通知** 以单一心情发送通知

    > **Note**
    >
    > **Send notification as** option is only available in case of scheduled notification. This option is set to default which is **Single notification** in case of completion notification

#### 寄给谁？ { #who-to-send }

![](resources/images/datasets/who_to_send.png)

1.  **通知收件人** 字段确定通知的收件人。

    -   **组织单位联系人** 将向分配给从中收集数据的组织单位的联系人发送通知。

    -   **用户组** 将向所选用户组的所有成员发送通知。

    > **Note**
    >
    > An internal DHIS2 message will be sent in case if recipient is UserGroup. Moreover user will also receive SMS/EMAIL if phone number and email address exist for that user and SMS/EMAIL notifications are enabled in SystemSettings

### 覆盖数据集中的数据元素的类别组合 { #override_dataelement_catcombo_in_dataset }

您可以覆盖要用于数据元素的类别组合
在数据集范围内。这意味着数据元素可以使用
不同数据集内的不同类别组合。这是
当您想重复使用数据元素时很有用，因为您不必
复制数据元素以允许多个类别组合。

如果组织单位层次结构中的不同区域使用
不同的分类，或者如果分类随时间变化，
您可以通过创建不同的数据集来表示
适当的类别组合。

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  在列表中，找到要修改的数据集。

3.  点击选项菜单，然后选择**编辑**。

4.  转到数据元素部分，然后单击扳手图标。

5.  选择新的类别组合，然后单击**关闭**。

6.  点击**保存**。 

### 编辑数据集中的强制数据元素 { #edit_compulsory_dataelement_in_dataset }

您可以添加或删除将被标记为强制性的数据元素
在数据输入期间。

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  在列表中，找到要编辑的数据集。

3.  Click the options menu and select **Edit compulsory data elements**.

4.  分配必填数据元素。

5.  点击**保存**。 

### 下载PDF格式的默认数据表格 { #download_defaultform_pdf }

您可以从PDF格式下载默认数据以获取离线数据
条目。

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  在列表中，找到要下载的对象。

3.  Click the options menu and select **Get PDF for data entry**.

### 管理板块表格 { #manage_section_form }

#### 创建部分表格 { #create-a-section-form }

截面表单按数据元素类别自动分隔
组合，从而为每个表单生成电子表格，例如数据输入表单
部分。

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  在列表中，找到要为其创建部分表单的数据集。

3.  Click the options menu and select **Manage sections**.

4.  点击添加按钮。

5.  (Optional) In the **Name** field, type the name of the section.

6.  (Optional) In the **Description** field, type a description of the section.

7.  (Optional) To display totals for rows in the section form during data entry, select **Show row totals**.

8.  (Optional) To display totals for columns in the section form during data entry, select **Show column totals**.

9.  将数据元素分配给该部分：

    1.  (Optional) Select a **Category combination filter**.

        > **Note**
        >
        > You can only use one category combination per section.

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Option</p></th>
        <th><p>Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p><strong>None</strong></p></td>
        <td><p>Displays all data elements that don't have a category combination.</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>&lt;No filter&gt;</strong></p></td>
        <td><p>Displays all data elements.</p></td>
        </tr>
        </tbody>
        </table>

    2.  选择数据元素并分配它们。

10. （可选）使用分配的数据元素字段左侧的向上和向下箭头对部分内的数据元素进行排序。

11. 点击**保存**。 

12. 对您想要在部分表单中包含的每个部分重复添加部分步骤。

    In the **Data Entry** app you can now use the section form. The section form appears automatically when sections are available for the selected data set. Data sets which have section forms will automatically display the section form.

注意如何将每个数据元素类别都分为一个单独的
部分，并且数据输入表已由
系统。将节形式与数据元素类别结合使用
可以大大减少创建所需的时间
数据集的数据输入表单。

![](resources/images/dhis2UserManual/section_form.png)

#### 编辑部分表格 { #edit-a-section-form }

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  在列表中，找到您要为其编辑部分表单的数据集。

3.  Click the options menu and select **Manage sections**.

4.  在列表中，找到要编辑的部分。

5.  点击选项菜单，然后选择**编辑**。

6.  Edit the section and click **Save**.

7.  对要编辑的每个节重复编辑节的步骤。

#### 管理分区表单中的灰色字段 { #manage-grey-fields-in-a-section-form }

您可以禁用数据输入的数据元素和类别选项。那
表示在数据处理期间将无法在这些字段中输入数据
条目。

![](resources/images/datasets/section_form_grey_fields.png)

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  在列表中，找到您要为其编辑部分表单的数据集。

3.  Click the options menu and select **Manage sections**.

4.  在列表中，找到要编辑的部分。

5.  Click the options menu and select **Manage grey fields**.

6.  选择要禁用的字段。

    > **Note**
    >
    > If you've sections that contain data elements assigned to multiple category combinations, switch between the category combinations to view all fields.

7.  点击**保存**。 

#### 在部分表格中更改部分显示顺序 { #change-section-display-order-in-a-section-form }

您可以控制以节形式显示节的顺序。

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  在列表中，找到您要为其编辑部分表单的数据集。

3.  Click the options menu and select **Manage sections**.

4.  在列表中，找到要移动的部分。

5.  点击选项菜单，然后选择**上移**或**下移**。

    如果您要移动的部分是列表中的第一个或最后一个部分，您将只能看到一个移动选项。

#### 删除部分表格中的部分 { #delete-a-section-in-a-section-form }

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  在列表中，找到您要为其编辑部分表单的数据集。

3.  Click the options menu and select **Manage sections**.

4.  在列表中，找到要删除的部分。

5.  Click the options menu and select **Delete**.

#### 以节形式翻译节 { #translate-a-section-in-a-section-form }

1.  打开**维护**应用程序并单击**数据集** \> **数据集**。

2.  在列表中，找到您要为其编辑部分表单的数据集。

3.  Click the options menu and select **Translate**.

4.  选择一个语言环境。

5.  输入所需的信息。

6.  点击**关闭**。

### 管理自定义表单 { #manage_customform }

#### 创建一个自定义表格 { #create-a-custom-form }

您可以在内置的WYSIWYG HTML编辑器中设计自定义表单。如果选择
**来源**，您可以直接将HTML代码粘贴到编辑区域中。为一个
有关如何使用编辑器的完整指南，请参阅
 <http://docs.ckeditor.com/>。

![](resources/images/datasets/data_set_custom_form_create.png)

创建自定义表单：

1.  Open the **Maintenance** app and click **Data set**.

2.  在列表中，找到要添加自定义表单的数据集。

3.  Click the options menu and select **Design data entry form**.

4.  在编辑区域中，创建自定义表单。

    -   双击左侧列表中的对象将其插入表单中。

    -   If you already have the HTML code for your form, click **Source** and paste the code.

5.  Select a **Form display style**.

6.  点击**保存**。 

#### 自定义形式的脚本 { #scripting-in-custom-forms }

在自定义数据输入表单中，您可以使用JavaScript创建动态
行为和自定义。例如，您可以隐藏表单部分
根据数据元素的特定用户输入，或显示特定
表单加载时的信息。

##### 大事记 { #events }

DHIS2数据输入模块提供了一系列事件，您可以
注册并用于在特定时间执行操作。这些事件是
注册在document元素上。 jQuery事件对象和数据
集标识符始终是提供给
回调函数。下表概述了事件
以及何时触发它们。

 <table>
 <caption>数据输入事件</caption>
 <colgroup>
 <col style="width: 32%" />
 <col style="width: 39%" />
 <col style="width: 27%" />
 </colgroup>
 <thead>
 <tr class="header">
 <th>键</th>
 <th>说明</th>
 <th>参数</th>
 </tr>
 </thead>
 <tbody>
 <tr class="odd">
 <td> <p> dhis2.de.event.formLoaded </p> </td>
 <td> <p>在呈现数据输入表单之后但在输入字段中设置数据值之前触发。 </p> </td>
 事件| <td> <p>事件|数据集ID </p> </td>
 </tr>
 <tr class="even">
 <td> <p> dhis2.de.event.dataValuesLoaded </p> </td>
 <td> <p>在输入字段中设置数据值后触发。 </p> </td>
 事件| <td> <p>事件|数据集ID </p> </td>
 </tr>
 <tr class="odd">
 <td> <p> dhis2.de.event.formReady </p> </td>
 <td> <p>当数据输入表单完全呈现并加载了所有元素时触发。 </p> </td>
 事件| <td> <p>事件|数据集ID </p> </td>
 </tr>
 <tr class="even">
 <td> <p> dhis2.de.event.dataValueSaved </p> </td>
 <td> <p>成功保存数据值时触发。 </p> </td>
 事件| <td> <p>事件|数据集ID |数据值对象</p> </td>
 </tr>
 <tr class="odd">
 <td> <p> dhis2.de.event.completed </p> </td>
 <td> <p>当数据集成功标记为完成时触发。 </p> </td>
 事件| <td> <p>事件|数据集ID |完成注册对象</p> </td>
 </tr>
 <tr class="even">
 <td> <p> dhis2.de.event.uncompleted </p> </td>
 <td> <p>将数据集成功标记为不完整时触发。 </p> </td>
 事件| <td> <p>事件|数据集ID </p> </td>
 </tr>
 <tr class="odd">
 <td> <p> dhis2.de.event.validation成功</p> </td>
 <td> <p>在完成验证并且没有违规时触发。 </p> </td>
 事件| <td> <p>事件|数据集ID </p> </td>
 </tr>
 <tr class="even">
 <td> <p> dhis2.de.event.validationError </p> </td>
 <td> <p>完成验证并存在一个或多个违规时触发。 </p> </td>
 事件| <td> <p>事件|数据集ID </p> </td>
 </tr>
 <tr class="odd">
 <td> <p> dhis2.ou.event.orgUnitSelected </p> </td>
 <td> <p>在组织单位网页树中选择一个或多个组织单位时触发。 </p> </td>
 事件| <td> <p>事件|组织单位编号|组织单位名称|子单位部门ID </p> </td>
 </tr>
 </tbody>
 </table>

要注册活动：

     <script type="text/javascript">

    dhis2.util.on（'dhis2.de.event.formReady'，function（event，ds）{
      console.log（'ID为'+ ds +'的表单已加载！'）;
    }）；

    dhis2.util.on（'dhis2.de.event.dataValueSaved'，function（event，ds，dv）{
      console.log（'数据值：'+ dv.value +'与数据元素：'+ dv.de一起保存）;
    }）；

    dhis2.util.on（'dhis2.de.event.completed'，function（event，ds，cr）{
      console.log（'组织单位的表格已完成：'+ cr.ou）;
    }）；

     </script>

> **注意**
>
> 请小心，仅使用“命名空间”事件（如上例中的事件），而不是一般事件（如“click”），因为 dhis2.util.on 方法将首先取消注册该事件。

如果您的功能仅适用于某些数据集，则可以使用
提供的数据集标识符和快捷方式，可避免不必要的功能
像这样的数据集
    这个：

    dhis2.de.on（'dhis2.de.event.validationSuccess'，function（event，ds）{
      if（$ .inArray（ds，['utXOiGbEj14'，'Re7qzHEThSC']）== -1）{
        返回false；
      }
      console.log（'ID为：'+ ds +'的表单已成功验证！'）;
    }）；

数据输入表单中输入字段的标识符位于
格式如下所述。此格式可用于选择输入
脚本中的字段并对其执行操作：

     <dataelementid>-<optioncomboid> -val

由于为所有事件提供了数据集标识符，因此可行
另一种方法是利用“文件” Web API资源并保留您的
回调函数在一个文件中，您可以在其中让JavaScript代码
根据当前加载的数据集采取措施。

##### 职能 { #functions }

DHIS2数据输入模块包含JavaScript API函数，该函数可以
可从自定义数据输入表单访问。

** dhis2.de.api.getSelections **：此函数返回一个JavaScript
包含所有尺寸的属性以及相应属性的对象
所选选项的标识符的值。它包含
“ ds”（数据集），“ pe”（句号），“ ou”（组织单位）的属性
和所有数据集类别的标识符。

一个示例响应如下所示：

    {
     + ds：“ lyLU2wR22tC”，
     + pe：“ 201605”，
     + ou：“ g8upMTyEZGZ”，
     + LFsZ8v5v7rq：“ CW81uF03hvV”，
     + yY2bQYqNt0o：“ yMj2MnmNI8L”
     +}

此功能的示例JavaScript用法：

    var sel = dhis2.de.api.getSelections（）;
     + var orgUnit = sel [“ ou”];
     + var partner = sel [“ LFsZ8v5v7rq”];

### 更改元数据对象的共享设置 { #change-sharing-settings-for-metadata-objects }

您可以为元数据对象分配不同的共享设置，例如
示例组织单位和跟踪的实体属性。这些分享
设置可控制哪些用户和用户组可以查看或编辑
元数据对象。

一些元数据对象还允许您更改共享设置
对象的数据输入。这些附加设置控制谁可以
使用元数据查看或在表单字段中输入数据。

> **注意**
>
> 默认设置是每个人（**公共访问**）都可以查找、查看和编辑元数据对象。

1.  打开 **维护** 应用程序并找到您要修改的元数据对象的类型。

2.  在对象列表中，单击上下文菜单并选择**共享设置**。

3.  （可选）添加用户或用户组：搜索并选择用户或用户组。用户或用户组将添加到列表中。

4.  更改要修改的访问组的共享设置。

    -   **可以编辑和查看**：访问组可以查看和编辑对象。

    -   **只能查看**：访问组可以查看对象。

    -   **无访问权限**（仅适用于**公共访问**）：公众无权访问该对象。

5.  更改要修改的访问组的数据共享设置。

    -   **可以捕获数据**：访问组可以查看和捕获对象的数据。

    -   **可以查看数据**：访问组可以查看对象的数据。

    -   **无访问权限**：访问组无权访问对象的数据。

6.  点击**关闭**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理指标 { #manage_indicator }

### 关于指标 { #about_indicator }

指标是一个可以包含多个数据元素的公式，
常数，组织单位组数和数学运算符。
指标通常由分子和分母组成。你用
用于计算覆盖率，发生率和其他值的指标
是已输入到数据元素值的结果
系统。计算得出的总数没有分母。

> **注意**
>
>您永远不会直接在DHIS2中输入指标值，而是进行计算。

指标公式可以包含数学运算符，例如
加号和减号；功能（见下文）；和以下元素：

<table>
<caption>Indicator elements</caption>
<colgroup>
<col style="width: 36%" />
<col style="width: 30%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Indicator element</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Constant</p></td>
<td><p>Component</p></td>
<td><p>Constants are numerical values which remain the same for all indicator calculations. This is useful in order to have a single place to change values that might change over time.</p>
<p>Constants are applied AFTER data element values have been aggregated.</p></td>
</tr>
<tr class="even">
<td><p>Data elements</p></td>
<td><p>Component</p></td>
<td><p>Data elements are substituted by the data value captured for the data element.</p></td>
</tr>
<tr class="odd">
<td><p>Days</p></td>
<td><p>Operator</p></td>
<td><p>&quot;Days&quot; is special operator that always provides the number of days for a given indicator calculation.</p>
<p>For example: if you want to calculate the &quot;Percentage of time vaccine refrigerator was non-functional&quot;, you could define the numerator as:</p>
<p>(&quot;Days-&quot;Number of days vaccine refrigerator was available&quot;&quot;)/&quot;Days&quot;</p>
<p>If the fridge was available 25 days in June, the indicator would be calculated as:</p>
<p>(30-25/25)*100 = 17 %</p>
<p>If you want to calculate the total for Quarter 1, the number of days (&quot;Days&quot;) would be:</p>
<p>31+28+31 = 90</p>
<p>The &quot;Days&quot; parameter will always be the number of days in the period of interest.</p></td>
</tr>
<tr class="even">
<td><p>Organisation unit counts</p></td>
<td><p>Component</p></td>
<td><p>You can use organisation unit groups in formulas. They will be replaced by the number of organisation units in the group. During aggregation, the organisation units in the group will be intersected with the part of the organisation unit hierarchy being requested.</p>
<p>This lets you use the number of public facilities in a specific district in indicators. This is useful for example when you create facility infrastructure surveys and reports.</p></td>
</tr>
<tr class="odd">
<td><p>Programs</p></td>
<td><p>Component</p></td>
<td><p>Click <strong>Programs</strong> and select a program to view all data elements, attributes and indicators related to a specific program.</p>
<p>The program components you include in your formula will have a program tag assigned to them.</p></td>
</tr>
</tbody>
</table>

您可以在指标公式中使用以下功能：

 <table>
 <caption>指示器功能</caption>
 <colgroup>
 <col style="width: 33%" />
 <col style="width: 33%" />
 <col style="width: 33%" />
 </colgroup>
 <thead>
 <tr class="header">
 <th> <p>指示灯功能</p> </th>
 <th> <p>参数</p> </th>
 <th> <p>说明</p> </th>
 </tr>
 </thead>
 <tbody>
 <tr class="odd">
 如果</p> </td> <td> <p>
 <td> <p>（布尔表达式，true表达式，false表达式）</p> </td>
 <td> <p>计算布尔表达式，如果为true，则返回true表达式值；如果为false，则返回false表达式值。参数必须遵循任何指标表达的规则。 </p> </td>
 </tr>
 <tr class="even">
 <td> <p> isNull </p> </td>
 <td> <p>（元素）</p> </td>
 <td> <p>如果元素值缺失（空），则返回true，否则返回false。 </p> </td>
 </tr>
 <tr class="odd">
 <td> <p> isNotNull </p> </td>
 <td> <p>（元素）</p> </td>
 <td> <p>如果元素值不丢失（不为null），则返回true，否则返回false。 </p> </td>
 </tr>
 <tr class="even">
 <td> <p> firstNonNull </p> </td>
 <td> <p>（元素[，元素...]）</p> </td>
 <td> <p>返回不丢失的第一个元素的值（不为null）。可以提供任意数量的参数。任何参数也可以是数字或字符串文字，如果所有先前的对象都缺少值，则将返回该参数。 </p> </td>
 </tr>
 <tr class="odd">
 <td> <p>最大</p> </td>
 <td> <p>（表达式[，表达式...]）</p> </td>
 <td> <p>返回给定表达式的最大（最高）值。可以提供任意数量的参数。 </p> </td>
 </tr>
 <tr class="even">
 <td> <p>至少</p> </td>
 <td> <p>（表达式[，表达式...]）</p> </td>
 <td> <p>返回给定表达式的最小（最小）值。可以提供任意数量的参数。 </p> </td>
 </tr>
 <tr class="odd">
 <td> <p> .periodOffset </p> </td>
 <td> <p>（整数常量）</p> </td>
 <td> <p>放置在数据值或表达式之后，返回相对于报告期间的期间偏移量中的值。它可以嵌套。请参阅下面的示例。 </p> </td>
 </tr>
 </tbody>
 </table>

指标表达式中的.periodOffset（）函数示例：

| 指标表达 | 手段 |
| --- | --- |
| ＃ | 前一时期的数据元素FH8ab5Rog83 |
| ＃ | 之后的数据元素FH8ab5Rog83 |
| ＃ | 之后的数据元素FH8ab5Rog83 |
| #{FH8ab5Rog83} - 2 \* D{IpHINAT79UW.uf3svrmp8Oj}.periodOffset(-1) | 报告期间的数据元素FH8ab5Rog83减去前一时期的程序数据元素IpHINAT79UW.uf3svrmp8Oj的两倍 |
| （＃{FH8ab5Rog83}-<br />＃{QOlfIKgNJ3D2}）.periodOffset（-2） | 前2个周期的数据元素FH8ab5Rog83减去前2个周期的数据元素QOlfIKgNJ3D2 |
| ＃ | 前2个周期的数据元素FH8ab5Rog83加前1个周期的值 |
| （＃{FH8ab5Rog83} .periodOffset（-1）+ <br />＃{FH8ab5Rog83}）.periodOffset（-1） | 前2个周期的数据元素FH8ab5Rog83加上前1个周期的值（请注意，函数是嵌套的） |

 <br />

In the **Maintenance** app, you manage the following indicator objects:

<table>
<caption>Indicator objects in the Maintenance app</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Object type</p></th>
<th><p>Available functions</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Indicator</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="even">
<td><p>Indicator type</p></td>
<td><p>Create, edit, clone, delete, show details and translate</p></td>
</tr>
<tr class="odd">
<td><p>Indicator group</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="even">
<td><p>Indicator group set</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
</tbody>
</table>

### 工作流程 { #workflow_indicator }

1.  创建指标类型。

2.  创建指标。

3.  创建指标组。

4.  创建指标组集。

### 创建或编辑指标类型 { #create_indicator_type }

![](resources/images/maintainence/indicator_type_create.png)

指标类型定义了在聚合期间应用的因素。
在数据集市导出或报告期间计算的指标值
表生成过程将显示正确的格式，并且
因此不需要额外的乘法器（例如，
百分比），以使值显示正确的格式。

> **注意**
>
> 从 DHIS2 版本 2.4 开始，“计算数据元素”对象已被弃用。相反，您可以通过创建因子为“1”的指标类型并将“数字”选项设置为“是”来创建计算数据元素。将“数字”选项设置为“是”的效果是该指标实际上没有分母。因此，您只能定义一个分子，它将用作计算数据元素的公式。

1.  Open the **Maintenance** app and click **Indicator** \> **Indicator type**.

2.  点击添加按钮。

3.  In the **Name** field, type the name of the indicator type, for example "Per cent", "Per thousand", "Per ten thousand".

4.  输入**系数**。

    因子是在指标计算过程中将乘以指标公式的数字因子。

5.  点击**保存**。 

### 创建或编辑指标 { #create_indicator }

![](resources/images/maintainence/indicator_create.png)

1.  打开**维护**应用程序并单击**指示器** \> **指示器**。

2.  点击添加按钮。

3.  In the **Name** field, type the full name of the indicator, for example "Incidence of confirmed malaria cases per 1000 population".

4.  In the **Short name** field, type an abbreviated name of the indicator, for example "Inc conf. malaria per 1000 pop".

    短名称必须小于或等于 25 个字符（包括空格）。

5.  （可选）在 **Code** 字段中，分配一个代码。 

    在许多国家/地区，指标均分配有代码。

6.  (Optional) In the **Color** field, assign a color to reprersent the indicator.

7.  (Optional) In the **Icon** field, assign an icon to illustrate the meaning of the indicator.

8.  In the **Description** field, type a brief, informative description of the indicator and how it is calculated.

9.  If you want to apply an annualization factor during the calculation of the indicator, select **Annualized**.

    通常，年化指标的分子乘以因子 12，分母是例如年度人口数字。这允许使用年度人口数字计算每月覆盖值。

10. Select the number of **Decimals in data output**.

11. 选择**指标类型**。

    该字段确定在指标计算过程中自动应用的因子。可能的选择由指标类型决定。例如，“百分比”指标在导出到数据集市时将自动乘以 100，以便显示为百分比。

12. （可选）分配一个或多个**传奇**。

13. In the **URL** field, enter a link, for example a link to an indicator registry, where a full metadata description of the indicator can be made available.

14. （可选）输入 **用于聚合数据导出的类别选项组合。**。

    您可以使用此设置将作为原始数据导出的聚合数据映射到另一台服务器。通常，当您想要根据程序中记录的患者数据（事件数据）创建匿名聚合数据时，您会执行这种类型的数据交换映射。

15. （可选）输入 **用于聚合数据导出的属性选项组合。**。

    您可以使用此设置将作为原始数据导出的聚合数据映射到另一台服务器。通常，当您想要根据程序中记录的患者数据（事件数据）创建匿名聚合数据时，您会执行这种类型的数据交换映射。

16. 如果适用，请输入自定义属性值，例如 **分类** 或 **收集方法**。

    > **Note**
    >
    > You create custom attributes in the **Maintenance** app: **Other** > \> **Attributes**.

17. 点击**编辑分子**。

    1.  键入分子的清晰描述。

    2.  通过双击右侧字段中的组件来定义分子。然后，这些组件将作为公式的一部分出现在左侧字段中。通过双击左侧字段下方的图标来添加数学运算符。

        您的公式必须在数学上有效。这包括必要时正确使用括号。

    3.  Click **Done** to save all changes to the numerator.

18. Click **Edit denominator**.

    1.  键入分母的清晰描述。

    2.  通过双击右侧字段中的组件来定义分母。然后，这些组件将作为公式的一部分出现在左侧字段中。通过双击左侧字段下方的图标来添加数学运算符。

        您的公式必须在数学上有效。这包括必要时正确使用括号。

    3.  Click **Done** to save all changes to the denominator.

19. 如果适用，选择强制性指标组集，例如**人力资源**。

    > **Note**
    >
    > You'll only see indicator group sets in this form if you've created them and set them to **Compulsory**.
    >
    > You create indicator group sets in the **Maintenance** app: **Indicator** \> **Indicator group set**.

20. 点击**保存**。 

### 创建或编辑指标组 { #create_indicator_group }

![](resources/images/maintainence/indicator_group_create.png)

1.  Open the **Maintenance** app and click **Indicator** \> **Indicator group**.

2.  点击添加按钮。

3.  输入名称。

4.  选择指标并分配它们。

5.  点击**保存**。 

### 创建或编辑指标组集 { #create_indicator_group_set }

![](resources/images/maintainence/indicator_group_set_create.png)

指标组集创建相似指标的组合组。对于
例如，您可能有一组称为“疟疾”的指标，
“利什曼病”。这两个组可以合并为一组
称为“媒介传播疾病”。指标组集用于
数据分析以结合指标的相似主题。

1.  打开**维护**应用程序并单击**指标** \> **指标组**。

2.  点击添加按钮。

3.  填写表格：

    1.  **名称**

    2.  **描述**

    3.  **必修**

4.  选择指标组并分配它们。

    可用的指示器组显示在左侧面板中。当前属于指标组集成员的指标组显示在右侧面板中。

5.  点击**保存**。 

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 更改元数据对象的共享设置 { #change-sharing-settings-for-metadata-objects }

您可以为元数据对象分配不同的共享设置，例如
示例组织单位和跟踪的实体属性。这些分享
设置可控制哪些用户和用户组可以查看或编辑
元数据对象。

一些元数据对象还允许您更改共享设置
对象的数据输入。这些附加设置控制谁可以
使用元数据查看或在表单字段中输入数据。

> **注意**
>
> 默认设置是每个人（**公共访问**）都可以查找、查看和编辑元数据对象。

1.  打开 **维护** 应用程序并找到您要修改的元数据对象的类型。

2.  在对象列表中，单击上下文菜单并选择**共享设置**。

3.  （可选）添加用户或用户组：搜索并选择用户或用户组。用户或用户组将添加到列表中。

4.  更改要修改的访问组的共享设置。

    -   **可以编辑和查看**：访问组可以查看和编辑对象。

    -   **只能查看**：访问组可以查看对象。

    -   **无访问权限**（仅适用于**公共访问**）：公众无权访问该对象。

5.  更改要修改的访问组的数据共享设置。

    -   **可以捕获数据**：访问组可以查看和捕获对象的数据。

    -   **可以查看数据**：访问组可以查看对象的数据。

    -   **无访问权限**：访问组无权访问对象的数据。

6.  点击**关闭**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理组织单位 { #manage_organisation_unit }

在本节中，您将学习如何：

-   创建新的组织单元并构建组织单元层次结构

-   创建组织单位组、组集并为其分配组织单位

-   修改组织单位的层次结构

### 关于组织单位 { #about_organisation_unit }

组织单位层次结构定义了
DHIS2，例如卫生设施，行政区域等
地理区域彼此相对排列。它是
DHIS2的“何处”维度，类似于句点如何表示“何时”
尺寸。

组织单位层次结构是通过父子关系建立的。
在DHIS2中，每个节点都是一个组织单位。一个国家可能
例如有八个省，每个省可能有一个
地区的儿童。通常，最低级别包括
收集数据的设施。数据收集设施也可以
位于较高的级别，例如国家或省级
医院。因此，您可以在DHIS2中创建倾斜的组织树。

-   您一次只能拥有一个组织层次结构。

-   层次结构中可以有任意多个级别。

    通常，公共卫生领域的国家组织层次结构有四到六个级别。

-   您可以使用组织组和组织组集创建其他分类。

    例如，为医疗保健部门建立平行的行政边界。

-   建议使用组织单位组来创建非地理层次结构。

-   组织单位只能是组织单位组集中的单个组织单位组的成员。

-   组织单位组可以是多个组织单位组集的一部分。

-   组织单元层次结构是地理维度数据聚合的主要载体。

-   When you close an organisation unit, you can't register or edit events to this organisation unit in the **Event Capture** and **Tracker Capture** apps.

> **重要**
>
> 您可以在创建组织单位层次结构后对其进行更改，甚至可以更改收集数据的组织单位。但是，DHIS2 始终使用最新的层次结构进行数据聚合。因此，如果更改层次结构，就会丢失层次结构随时间变化的时间表示。
>
> A区被细分为B区和C区。属于A区的设施被重新分配到B区和C区。您在分割发生之前输入的任何历史数据仍然被注册为属于B区和C区，不去废弃的A区。

In the **Maintenance** app, you manage the following organisation unit objects:

<table>
<caption>Organisation unit objects in the Maintenance app</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Object type</p></th>
<th><p>Available functions</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Organisation unit</p></td>
<td><p>Create, edit, clone, delete, show details and translate</p></td>
</tr>
<tr class="even">
<td><p>Organisation unit group</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="odd">
<td><p>Organisation unit group set</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="even">
<td><p>Organisation unit level</p></td>
<td><p>Edit and translate</p></td>
</tr>
<tr class="odd">
<td><p>Hierarchy operations</p></td>
<td><p>Move organisation units</p></td>
</tr>
</tbody>
</table>

### 工作流程 { #workflow_organisation_unit }

推荐的工作流程是：

1.  创建组织单位。

2.  创建组织单位组。

3.  创建组织单位组集。

### 创建或编辑组织单位 { #create_organisation_unit }

![](resources/images/orgunits/create_new_orgunit.png)

您可以将组织单位一个或一个地添加到层次结构中
单位或作为所选组织单位的子级。你只能有
一个根单元。

1.  Open the **Maintenance** app and click **Organisation unit** \> **Organisation unit**.

2.  点击添加按钮。

3.  选择您的新组织部门所属的组织部门：

    1.  点击**父组织单位**。

    2.  在组织单位树中，找到父组织单位并选择它。您的选择标记为黄色。

        > **Tip**
        >
        > Click the arrows to expand the organisation unit tree.

    3.  点击**选择**。

4.  Enter a **Name** of the organisation unit.

    每个组织单位必须具有唯一的名称。

5.  Enter a **Short name** for the organisation unit.

    通常，短名称是完整组织单位名称的缩写。此属性通常在报表中用于显示组织单位的名称，但空间有限。

6.  （可选）分配**代码**。

    在许多国家/地区，为组织单位分配了代码。

7.  (Optional) Type a **Description** of the organisation unit.

8.  Select an **Opening date**.

    开放日期控制在某个时间点存在哪些组织单位，例如在分析历史数据时。

9.  If applicable, select a **Closed date**.

10. In the **Comment** field, enter any additional information that you would like to add.

11. (Optional) In the **URL** field, enter a link to an external web site that has additional information about the organisation unit.

12. 输入联系信息：

    -   联系人

    -   地址

    -   电子邮件

    -   电话号码

13. (Optional) Enter **Latitude** and **Longitude**.

    You must have latitude and longitude values to create maps in the **Maps** app. Then your organisation units can be represented as points on a map, for example a health facility. Without this information, the **Maps** app will not work.

    It might be more efficient to import coordinates later as a batch job for all organisation units using the **Import-Export** app. You also use the **Import-Export** app to create polygons. A polygon is an organisation unit that represent an administrative boundary.

14. If applicable, select **Data sets** and assign them.

    > **Note**
    >
    > You control whether a user should be able to assign data sets to an organisation unit in the **System Settings** app:
    >
    > Open the **System Settings** app, click **Access** and select **Allow assigning object to related objects during add or update**.

15. If applicable, select **Programs** and assign them.

    > **Note**
    >
    > You control whether a user should be able to assign programs to an organisation unit in the **System Settings** app:
    >
    > Open the **System Settings** app, click **Access** and select **Allow assigning object to related objects during add or update**.

16. If applicable, enter custom attributes values, for example **HR identifier**.

    > **Note**
    >
    > You configure the custom attributes in the **Maintenance** app:
    >
    > Open the **Maintenance** app and click **Other** \> **Attribute**.

17. 点击**保存**。 

### 创建或编辑组织单位组 { #create_organisation_unit_group }

Organisation unit groups allow you to classify related organisation units into a common theme. You can for example group all organisation units that are hospitals in an **Hospital** group.

1.  Open the **Maintenance** app and click **Organisation unit** \> **Organisation unit group**.

2.  点击添加按钮。

3.  填写表格：

    1.  **名称**：为组织单位组提供精确、唯一且描述性的名称。

    2.  **简称**：简称应少于 25 个字符。通常，短名称是完整组织单位名称的缩写。该属性用在 DHIS2 中空间有限的某些地方。

    3.  **码**

    4.  **符号**：选择当图层在 **地图** 应用程序中显示时用于显示组织单位（仅点）的符号。

4.  在组织树中，单击要添加到组织单位组的组织单位。

    您可以通过展开分支（单击箭头符号）或按名称搜索来在树中找到组织单位。

    所选组织单位显示为橙色。

5.  点击**保存**。 

### 创建或编辑组织单位组集 { #create_organisation_unit_group_set }

组织单位组集允许您创建其他
组织单位的分类。组集创建新
尺寸，以便您可以进行更详细的数据分析。你一个
轻松按组集中的组过滤，组织或汇总数据。

-   您可以具有任意数量的组织单位组集。

-   The default organisation unit group sets are **Type** and **Ownership**.

-   组织单位只能是组织单位组集中的单个组织单位组的成员。

-   组织单位组可以是多个组织单位组集的一部分。

-   您可以定义组织单位组集是否为必填项，这会影响数据的完整性。强制意味着所有组织单位都必须是该组集中某个组的成员。

> **Note**
>
> In the **Data integrity** part of the **Data administration** app you can verify if you've accidentally assigned the same organisation unit to multiple groups within the same group set. In this app you also find information about organisation units that are not members of a compulsory organisation unit group set.

1.  Open the **Maintenance** app and click **Organisation unit** \> **Organisation unit group set**.

2.  点击添加按钮。

3.  填写：

    1.  **名称**：为组织单位组集提供准确的名称。

    2.  **码**

    3.  **描述**：描述组织单位组设置的衡量或捕获的内容。

4.  如果您希望所有组织单位都成为组集中某个组的成员，请选择“**强制**”。

5.  (Optional) Select **Data dimension**.

6.  (Optional) Select **Include subhierarchy in analytics**.

    如果选择此选项，子组织单位将从其最近的“父”组织单位继承组织单位组属性。子组织单位上的任何属性都将覆盖继承值。

    如果组织单位没有关联的组织单位组，则该组织单位可以继承其最近父级的组织单位组。如果所有上级组织单位组均不具有给定组织单位组集的组织单位组，则结果仍将为“空白”，但如果至少一个上级组织单位组具有组织单位组，则子组织单位将继承该组。

    在分析中包含子层次结构”已启用，这意味着如果组织单位为白色（没有与其关联的组织单位组），则组织单位将继承其最接近的父组织单位组。

7.  选择组织单位组并分配它们。

    在左侧列表中，您可以找到可用的组织单位组。使用箭头在两个列表之间移动选定的组。

    If there are no organisation unit groups in the left-hand list, click **Add new**. In the form that opens, create the organisation units group you need. When you're done, click **Refresh values**.

    > **Note**
    >
    > An organisation unit can only be a member of a single organisation unit group within an organisation unit group set.

8.  点击**保存**。 

![](resources/images/implementation_guide/organisation_unit_hiearchy.png)

您想要根据设施的所有权来分析数据。所有设施都有一个所有者，因此您需要确保所有组织单位都获得此分类。为此，您可以使用 **强制** 选项：

1.  为每种所有权类型创建一个组，例如“MoH”、“私人”和“基于信仰”。

2.  将数据库中的所有设施分配给这些组之一。

3.  Create an organisation unit group set called "Ownership" and select **Compulsory**.

4.  将组织单位组“MoH”、“私人”和“基于信仰”分配给“所有权”组织组集。

！[]（资源/图像/维护/analytics-include-org-unit-subhierarchy.png）

![](resources/images/maintainence/include-subhierarchy-analytics.png)

通过两种方式对组织单位进行分组，并汇总这两种数据
并行层次结构

用于汇总数据（仅在分析应用程序中）

组织单位组设置的附加设置将创建一个
动态“成员资格”到组织单位组的集合。

您无需更改组织单位的层次结构

可扩展和动态

动态包含层次

动态附加分类

### 为组织单位级别分配名称 { #name_organisation_unit_level }

当您将子级添加到组织单位时，DHIS2 会根据需要自动创建新的组织单位级别。系统还为此级别指定一个通用名称，例如“Level 5”。您可以将通用名称替换为上下文名称，例如“国家/地区”、“省”、“地区”或“医疗机构”。 DHIS2 在引用级别的任何地方都使用上下文名称，例如在**地图**应用程序中。

1.  Open the **Maintenance** app and click **Organisation unit** \> **Organisation unit level**.

    列表的加载时间取决于组织单位层次结构树的深度。

2.  对于要修改的组织单位级别，输入名称。

3.  选择离线级别的数量。

    > **Note**
    >
    > You configure the default value in the **System Settings** app:
    >
    > Open the **System Settings** app, click **General** and select a level in the **Max offline organisation unit levels** list.

4.  点击**保存**。 

### 在层次结构中移动组织单位 { #move_organisation_unit }

您可以通过以下方式在层次结构中移动组织单位：
所选组织单位的父级。

1.  Open the **Maintenance** app and click **Organisation unit** \> **Hierarchy operations**.

2.  在左侧层次结构树中，选择要移动的组织单位。

    > **Note**
    >
    > If the selected organisation unit is has sub-organisation units, all of them move to the new parent organisation unit.

3.  在右侧层次结构树中，选择要将所选组织单位移至哪个组织单位。

4.  Click **Move x organisation units**, where x stands for the number of organisation units you have selected.

    您的更改会立即反映在左侧层次结构树中。

### 关闭组织单位 { #close_organisation_unit }

When you close an organisation unit, you can't register or edit events to this organisation unit in the **Event Capture** and **Tracker Capture** apps.

1.  Open the **Maintenance** app and click **Organisation unit** \> **Organisation unit**.

2.  In the object list, click the options menu and select **Edit**.

3.  Select a **Closed date**.

4.  点击**保存**。 

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 更改元数据对象的共享设置 { #change-sharing-settings-for-metadata-objects }

您可以为元数据对象分配不同的共享设置，例如
示例组织单位和跟踪的实体属性。这些分享
设置可控制哪些用户和用户组可以查看或编辑
元数据对象。

一些元数据对象还允许您更改共享设置
对象的数据输入。这些附加设置控制谁可以
使用元数据查看或在表单字段中输入数据。

> **注意**
>
> 默认设置是每个人（**公共访问**）都可以查找、查看和编辑元数据对象。

1.  打开 **维护** 应用程序并找到您要修改的元数据对象的类型。

2.  在对象列表中，单击上下文菜单并选择**共享设置**。

3.  （可选）添加用户或用户组：搜索并选择用户或用户组。用户或用户组将添加到列表中。

4.  更改要修改的访问组的共享设置。

    -   **可以编辑和查看**：访问组可以查看和编辑对象。

    -   **只能查看**：访问组可以查看对象。

    -   **无访问权限**（仅适用于**公共访问**）：公众无权访问该对象。

5.  更改要修改的访问组的数据共享设置。

    -   **可以捕获数据**：访问组可以查看和捕获对象的数据。

    -   **可以查看数据**：访问组可以查看对象的数据。

    -   **无访问权限**：访问组无权访问对象的数据。

6.  点击**关闭**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## \ [进行中\]管理验证规则 { #manage_validation_rule }

### 关于验证规则 { #about_validation_rule }

验证规则基于表达式。该表达式定义了一个
数据元素值之间的关系。该表达式形成一个
条件符合某些逻辑条件。

该表达式包括：

-   左侧

-   右边

-   操作员

验证规则断言所接种的疫苗总数
婴儿小于或等于婴儿总数。

左侧和右侧必须返回数字值。

In the **Maintenance** app, you manage the following validation rule objects:

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Object type</p></th>
<th><p>What you can do</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Validation rule</p></td>
<td><p>Create, edit, clone, delete, show details, and translate</p></td>
</tr>
<tr class="even">
<td><p>Validation rule group</p></td>
<td><p>Create, edit, clone, delete, share, show details, and translate</p></td>
</tr>
<tr class="odd">
<td><p>Validation notification</p></td>
<td><p>Create, edit, clone, delete, show details, and translate</p></td>
</tr>
</tbody>
</table>

#### 关于推拉窗 { #sliding_windows }

You can use sliding windows to group data _across multiple periods_ as opposed to selecting data for _a single period_. Sliding windows have a size, that is to say, the number of days to cover, a starting point and an end point. The example below shows disease surveillance data:.

-   橙色部分的数据，根据当前周期选择数据。有一个阈值，每周或每个周期计算一次，这显示在“结果”部分中。

-   蓝色部分的数据是滑动窗口。它选择过去 7 天的数据。 “结果”显示某种疾病的确诊病例总数。

-   验证规则可确保当案例总数超过该期间的阈值时，用户会收到通知。

![](resources/images/maintainence/validation_rules_sliding_window.gif)

<table>
<caption>Different behaviour of validation rules</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>With sliding windows</p></th>
<th><p>Without sliding windows</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Used only for event data.</p></td>
<td><p>Used for event data and aggregate data.</p></td>
</tr>
<tr class="even">
<td><p>Data selection is based on a fixed number of days (periodType).</p></td>
<td><p>Data selection is always based on a period.</p></td>
</tr>
<tr class="odd">
<td><p>The position of the sliding window is always<em>relative to</em> the period being compared.</p></td>
<td><p>Data is always selected for the <em>same period</em> as the period being compared.</p></td>
</tr>
</tbody>
</table>

另请参阅：[创建或编辑广告时，如何使用滑动窗口
验证
规则]（https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html#create_validation_rule）。

#### 关于验证规则组 { #about-validation-rule-groups }

验证规则组允许您对相关的验证规则进行分组。当您运行_[验证规则分析](https://docs.dhis2.org/master/en/user/html/validation_rule_analysis.html)_时，您可以选择运行系统中的所有验证规则，或仅运行一组中的验证规则。

#### 关于验证通知 { #validation_notifications }

您可以配置验证规则分析，以自动向选定的用户组发送有关验证错误的通知。这些消息称为_验证通知_。它们通过内部 DHIS2 消息系统发送。

您可以将验证规则通知作为单独的消息或作为
消息摘要。这很有用，例如，如果您要发送
有关高优先级疾病暴发的个别消息和摘要
用于低优先级常规数据验证错误。

### 创建或编辑验证规则 { #create_validation_rule }

1.  打开**维护**应用，点击**验证** \> **验证规则**。

2.  点击添加按钮。

3.  Type a **Name**.

    在验证规则中，名称必须唯一。

4.  （可选）在 **Code** 字段中，分配一个代码。 

5.  （可选）输入**说明**。

6.  选择**重要性**：**高**，**中**或**低**。

7.  Select a **Period type**.

8.  选择一个**运算符**：**强制对**、**等于**、**排除对**、**大于**、**大于或等于**或**不等于到**。

    **强制对** 运算符允许要求必须为表达式的左侧和右侧或两侧都输入表单的数据值。这意味着您可以要求如果填写了表单中的一个字段，则还必须填写一个或多个其他字段。

    **独占对**允许断言如果左侧存在任何值，则右侧不应有值（反之亦然）。这意味着对于给定的时间段/组织单位/属性选项组合，构成任一侧规则的数据元素应该彼此互斥。

9.  创建表达式的左侧：

    1.  Click **Left side**.

    2.  Select **Sliding window** if you want to view data relative to the period you are comparing. See also [About validation rules](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html#about_validation_rule).

    3.  Select a **Missing value strategy**. This selection sets how the system evaluates a validation rule if data is missing.

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Option</p></th>
        <th><p>Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>Skip if any value is missing</p></td>
        <td><p>The validation rule will be skipped if any of the values which compose the expression are missing. This is the default option.</p>
        <p>Always select this option you use the <strong>Exclusive pair</strong> or <strong>Compulsory pair</strong> operator.</p></td>
        </tr>
        <tr class="even">
        <td><p>Skip if all values are missing</p></td>
        <td><p>The validation rule will be skipped only if all of the operands which compose it are missing.</p></td>
        </tr>
        <tr class="odd">
        <td><p>Never skip</p></td>
        <td><p>The validation rule will never be skipped in case of missing data, and all missing operands will be treated effectively as a zero.</p></td>
        </tr>
        </tbody>
        </table>

    4.  输入**说明**。

    5.  根据可用数据元素、程序对象、组织单位、计数和常量构建表达式。

        在右侧窗格中，双击要包含在表达式中的数据对象。与位于左窗格下方的数学运算符相结合。

    6.  点击**保存**。 

10. 创建表达式的右侧：

    1.  Click **Right side**.

    2.  Select a **Missing value strategy**. This selection sets how the system evaluates a validation rule if data is missing.

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Option</p></th>
        <th><p>Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>Skip if any value is missing</p></td>
        <td><p>The validation rule will be skipped if any of the values which compose the expression are missing. This is the default option.</p>
        <p>Always select this option you use the <strong>Exclusive pair</strong> or <strong>Compulsory pair</strong> operator.</p></td>
        </tr>
        <tr class="even">
        <td><p>Skip if all values are missing</p></td>
        <td><p>The validation rule will be skipped only if all of the operands which compose it are missing.</p></td>
        </tr>
        <tr class="odd">
        <td><p>Never skip</p></td>
        <td><p>The validation rule will never be skipped in case of missing data, and all missing operands will be treated effectively as a zero.</p></td>
        </tr>
        </tbody>
        </table>

    3.  Select **Sliding window** if you want to view data relative to the period you are comparing. See also [About validation rules](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html#about_validation_rule).

    4.  输入**说明**。

    5.  根据可用数据元素、程序对象、组织单位、计数和常量构建表达式。

        在右侧窗格中，双击要包含在表达式中的数据对象。与位于左窗格下方的数学运算符相结合。

    6.  点击**保存**。 

11. （可选）选择应评估此规则的**组织单位级别**。将此字段留空将导致验证规则在所有级别进行评估。

12. (Optional) Click **Skip this rule during form validation** to avoid triggering this rule while doing data entry

13. 点击**保存**。 

### 创建或编辑验证规则组 { #create_validation_rule_group }

1.  Open the **Maintenance** app and click **Validation** \> **Validation rule group**.

2.  点击添加按钮。

3.  Type a **Name**.

4.  （可选）在 **Code** 字段中，分配一个代码。 

5.  （可选）输入**说明**。

6.  Double-click the **Validation rules** you want to assign to the group.

7.  点击**保存**。 

### 创建或编辑验证通知 { #create_validation_notification }

1.  打开 **维护** 应用程序并单击 **验证** \> **验证通知**。

2.  点击添加按钮。

3.  Type a **Name**.

4.  （可选）在 **Code** 字段中，分配一个代码。 

5.  Select **Validation rules**.

6.  Select **Recipient user groups**.

7.  (Optional) Select **Notify users in hierarchy only**.

    如果选择此选项，系统将过滤接收用户。 （系统从收件人用户组中派生收件人用户。）过滤器基于收件人用户所属的组织单位。链接到作为发生违规的组织单位的祖先的组织单位的用户将收到验证通知。系统将忽略其他用户，这些用户不会收到验证通知。

8.  创建消息模板：

    1.  创建**主题模板**。

        Double-click the parameters in the **Template variables** field to add them to your subject.

    2.  创建**消息模板**。

        Double-click the parameter names in the **Template variables** field to add them to your message.

9.  点击**保存**。 

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 更改元数据对象的共享设置 { #change-sharing-settings-for-metadata-objects }

您可以为元数据对象分配不同的共享设置，例如
示例组织单位和跟踪的实体属性。这些分享
设置可控制哪些用户和用户组可以查看或编辑
元数据对象。

一些元数据对象还允许您更改共享设置
对象的数据输入。这些附加设置控制谁可以
使用元数据查看或在表单字段中输入数据。

> **注意**
>
> 默认设置是每个人（**公共访问**）都可以查找、查看和编辑元数据对象。

1.  打开 **维护** 应用程序并找到您要修改的元数据对象的类型。

2.  在对象列表中，单击上下文菜单并选择**共享设置**。

3.  （可选）添加用户或用户组：搜索并选择用户或用户组。用户或用户组将添加到列表中。

4.  更改要修改的访问组的共享设置。

    -   **可以编辑和查看**：访问组可以查看和编辑对象。

    -   **只能查看**：访问组可以查看对象。

    -   **无访问权限**（仅适用于**公共访问**）：公众无权访问该对象。

5.  更改要修改的访问组的数据共享设置。

    -   **可以捕获数据**：访问组可以查看和捕获对象的数据。

    -   **可以查看数据**：访问组可以查看对象的数据。

    -   **无访问权限**：访问组无权访问对象的数据。

6.  点击**关闭**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理属性 { #manage_attribute }

### 关于属性 { #about_attribute }

您可以使用元数据属性将其他信息添加到
元数据对象。除了每个标准属性
这些对象可能有助于存储其他信息
属性，例如数据元素的收集方法。

![](resources/images/maintainence/attribute_create.png)

In the **Maintenance** app, you manage the following attribute objects:

<table> 
<caption>维护应用中的属性对象</caption> 
<colgroup> 
<col style="width: 50%" /> 
<col style="width: 50%" /> 
</colgroup> 
<thead> 
<tr class="header"> 
<th><p>对象类型</p></th> 
<th><p>可用函数</p></th> 
</tr> 
</thead> 
<tbody > 
<tr class="odd"> 
<td><p>属性</p></td> 
<td><p>创建、编辑、克隆、删除、显示详细信息和翻译</p></td > 
</tr> 
</tbody> 
</table>

### 创建或编辑属性 { #create-or-edit-an-attribute }

1.  打开**维护**应用程序并点击**属性**。

2.  点击添加按钮。

3.  在 **名称** 字段中，输入属性的名称。

    每个属性必须具有唯一的名称

4.  （可选）在 **Code** 字段中，分配一个代码。 

5.  选择**值类型**。

    如果为属性提供的值与值类型不匹配，您将收到警告。

6.  选择**选项集**。

7.  选择所需的选项，例如：

    -   如果您希望对象始终具有动态属性，请选择 **强制**。

    -   如果您希望系统强制特定对象类型的值是唯一的，请选择**唯一**。

8.  点击**保存**。 

    动态属性现在可用于您分配给它的对象。

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理常数 { #manage_constant }

### 关于常数 { #about_constant }

常量是可以供用户使用的静态值
在数据元素和指标中。一些指标，例如“夫妇年
保护率”取决于通常不会转换的常数
时间。

![](resources/images/maintainence/constant_create.png)

在 **维护** 应用程序中，您管理以下常量对象：

<table> 
<caption>维护应用中的常量对象</caption> 
<colgroup> 
<col style="width: 50%" /> 
<col style="width: 50%" /> 
</colgroup> 
<thead> 
<tr class="header"> 
<th><p>对象类型</p></th> 
<th><p>可用函数</p></th> 
</tr> 
</thead> 
<tbody > 
<tr class="odd"> 
<td><p>常量</p></td> 
<td><p>创建、编辑、克隆、共享、删除、显示详细信息和翻译</p></td> 
</tr>
</tbody> 
</table>

### 创建或编辑常量 { #create_constant }

1.  打开**维护**应用程序并单击**其他** \> **恒定**。

2.  点击添加按钮。

3.  在 **名称** 字段中，输入常量的名称。

4.  （可选）在 **简称** 字段中，键入常量的缩写名称。

5.  （可选）在 **Code** 字段中，分配一个代码。 

6.  在 **描述** 字段中，键入常量的简短信息说明。

7.  在 **值** 字段中，定义常量的值。

8.  点击**保存**。 

    现在可以使用该常数。

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 更改元数据对象的共享设置 { #change-sharing-settings-for-metadata-objects }

您可以为元数据对象分配不同的共享设置，例如
示例组织单位和跟踪的实体属性。这些分享
设置可控制哪些用户和用户组可以查看或编辑
元数据对象。

一些元数据对象还允许您更改共享设置
对象的数据输入。这些附加设置控制谁可以
使用元数据查看或在表单字段中输入数据。

> **注意**
>
> 默认设置是每个人（**公共访问**）都可以查找、查看和编辑元数据对象。

1.  打开 **维护** 应用程序并找到您要修改的元数据对象的类型。

2.  在对象列表中，单击上下文菜单并选择**共享设置**。

3.  （可选）添加用户或用户组：搜索并选择用户或用户组。用户或用户组将添加到列表中。

4.  更改要修改的访问组的共享设置。

    -   **可以编辑和查看**：访问组可以查看和编辑对象。

    -   **只能查看**：访问组可以查看对象。

    -   **无访问权限**（仅适用于**公共访问**）：公众无权访问该对象。

5.  更改要修改的访问组的数据共享设置。

    -   **可以捕获数据**：访问组可以查看和捕获对象的数据。

    -   **可以查看数据**：访问组可以查看对象的数据。

    -   **无访问权限**：访问组无权访问对象的数据。

6.  点击**关闭**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理选项集 { #manage_option_set }

### 关于选项集 { #about_option_set }

选项集提供了一个预定义的下拉列表（枚举），用于
DHIS2。您可以定义任何类型的选项。

一个名为“投放类型”的选项集将具有以下选项：“普通”，
“违反”，“剖腹产”和“协助”。

![](resources/images/maintainence/option_set_create.png)

<table>
<caption>Option set objects in the Maintenance app</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Object type</p></th>
<th><p>Available functions</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Option set</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="odd">
<td><p>Option group</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
<tr class="odd">
<td><p>Option group set</p></td>
<td><p>Create, edit, clone, share, delete, show details and translate</p></td>
</tr>
</tbody>
</table>

### 创建或编辑选项集 { #create_option_set }

> **重要**
>
> 选项集必须有代码和名称。您可以更改名称，但无法更改代码。所有选项的名称和代码都必须是唯一的，即使在不同的选项集中也是如此。

1.  打开**维护**应用程序并单击**其他** \> **选项设置**。

2.  点击添加按钮。

3.  In the **Primary details** tab, define the option set:

    1.  在 **名称** 字段中，输入常量的名称。

    2.  In the **Code** field, assign a code.

    3.  选择**值类型**。

    4.  点击**保存**。 

4.  对于您需要的每个选项，执行以下任务：

    1.  Click the **Options** tab.

    2.  点击添加按钮。

    3.  Type a **Name** and a **Code**. Optionally also select a **Color** and an **Icon** which will be used for this option in the data capture apps.

    4.  按名称，代码/值或手动对选项进行排序。

    5.  点击**保存**。 

### 创建或编辑选项组 { #create_option_group }

You can group and classify **options** within an **option set** by using **option groups**. This way you can create a subset of options in an option set. The main purpose of this is to be able to filter huge option sets into smaller, related parts.

可以通过程序规则在跟踪器和事件捕获中将分组的选项隐藏或一起显示。

> **Note**
>
> You cannot change the **Option set** selected in an **Option group** once it has been created.

1. 打开**维护**应用程序并单击**其他** \> **选项组**。

2. 点击添加按钮。

3. 填写表格：

    1. **名称**
    2. **简称**
    3. **码**
    4. **选项集**

4. 选择**选项集**后，您可以分配要分组的**选项**。

5. 点击**保存**。 

### 创建或编辑选项组集 { #create_option_group_set }

**选项组集**允许您将多个**选项组**归为一组。
选项组集的主要目的是为捕获的数据添加更多维度以进行分析。

> **Note**
>
> You cannot change the **Option set** selected in an **Option group set** once it has been created.

1. 打开** Maintenance **应用程序，然后单击** Other ** \> ** Option group set **。

2. 点击添加按钮。

3. 填写表格：

    1. **名称**
    2. **码**
    3. **描述**
    4. **选项集**
    5. **数据尺寸**

        如果您选择**数据维度**，除了“期间”和“组织单位”的标准维度之外，组集将作为另一个维度可供分析使用。

4. 选择选项组并分配它们。

   可用选项组显示在左面板中。当前为选项组集成员的选项组显示在右侧面板中。

5. 点击**保存**。 

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。

### 更改元数据对象的共享设置 { #change-sharing-settings-for-metadata-objects }

您可以为元数据对象分配不同的共享设置，例如
示例组织单位和跟踪的实体属性。这些分享
设置可控制哪些用户和用户组可以查看或编辑
元数据对象。

一些元数据对象还允许您更改共享设置
对象的数据输入。这些附加设置控制谁可以
使用元数据查看或在表单字段中输入数据。

> **注意**
>
> 默认设置是每个人（**公共访问**）都可以查找、查看和编辑元数据对象。

1.  打开 **维护** 应用程序并找到您要修改的元数据对象的类型。

2.  在对象列表中，单击上下文菜单并选择**共享设置**。

3.  （可选）添加用户或用户组：搜索并选择用户或用户组。用户或用户组将添加到列表中。

4.  更改要修改的访问组的共享设置。

    -   **可以编辑和查看**：访问组可以查看和编辑对象。

    -   **只能查看**：访问组可以查看对象。

    -   **无访问权限**（仅适用于**公共访问**）：公众无权访问该对象。

5.  更改要修改的访问组的数据共享设置。

    -   **可以捕获数据**：访问组可以查看和捕获对象的数据。

    -   **可以查看数据**：访问组可以查看对象的数据。

    -   **无访问权限**：访问组无权访问对象的数据。

6.  点击**关闭**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理图例 { #manage_legend }

### 关于传说 { #about_legend }

You can create, edit, clone, delete, show details and translate legends to make the maps you're setting up for your users meaningful. You create maps in the **Maps** app.

> **注意**
>
> 连续图例必须由以相同值结尾和开头的图例项组成，例如：0-50 和 50-80。不要设置这样的图例项：0-50 和 51-80。这将在您的传说中造成空白。

### 创建或编辑图例 { #create_legend }

> **注意**
>
>不允许在图例中留有空白。
>
>不允许有重复的图例项。

1.  打开** Maintenance **应用程序，然后单击** Other ** \> ** Legend **。

2.  点击添加按钮。

3.  In the **Name** field, type the legend name.

4.  （可选）在 **Code** 字段中，分配一个代码。 

5.  创建您想在图例中包含的图例项：

    1.  选择**起始值**和**结束值**。

    2.  Select **Number of legend items**.

    3.  选择一种配色方案。

    4.  点击**创建图例项**。

    > **Tip**
    >
    > Click the options menu to edit or delete a legend item.

6.  （可选）添加更多图例项：

    1.  点击添加按钮。

    2.  输入名称，然后选择一个开始值，一个结束值和一种颜色。

    3.  点击**确定**。

7.  （可选）更改色阶。

    1.  单击色标可查看色标选项列表，然后选择色标。

    2.  To customize a color scale, click the add button. In the **Edit legend item** dialog, click the color scale button and hand-pick colors, or enter your color values.

8.  点击**保存**。 

<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Legend item</th>
<th>Start value</th>
<th>End value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Low bad</td>
<td>0</td>
<td>50</td>
</tr>
<tr class="even">
<td>Medium</td>
<td>50</td>
<td>80</td>
</tr>
<tr class="odd">
<td>High good</td>
<td>80</td>
<td>100</td>
</tr>
<tr class="even">
<td>Too high</td>
<td>100</td>
<td>1000</td>
</tr>
</tbody>
</table>

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 更改元数据对象的共享设置 { #change-sharing-settings-for-metadata-objects }

您可以为元数据对象分配不同的共享设置，例如
示例组织单位和跟踪的实体属性。这些分享
设置可控制哪些用户和用户组可以查看或编辑
元数据对象。

一些元数据对象还允许您更改共享设置
对象的数据输入。这些附加设置控制谁可以
使用元数据查看或在表单字段中输入数据。

> **注意**
>
> 默认设置是每个人（**公共访问**）都可以查找、查看和编辑元数据对象。

1.  打开 **维护** 应用程序并找到您要修改的元数据对象的类型。

2.  在对象列表中，单击上下文菜单并选择**共享设置**。

3.  （可选）添加用户或用户组：搜索并选择用户或用户组。用户或用户组将添加到列表中。

4.  更改要修改的访问组的共享设置。

    -   **可以编辑和查看**：访问组可以查看和编辑对象。

    -   **只能查看**：访问组可以查看对象。

    -   **无访问权限**（仅适用于**公共访问**）：公众无权访问该对象。

5.  更改要修改的访问组的数据共享设置。

    -   **可以捕获数据**：访问组可以查看和捕获对象的数据。

    -   **可以查看数据**：访问组可以查看对象的数据。

    -   **无访问权限**：访问组无权访问对象的数据。

6.  点击**关闭**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

### 将图例分配给指标或数据元素 { #assign-a-legend-to-indicator-or-data-element }

You can assign a legend to an indicator or a data element in the **Maintenance** app, either when you create the object or edit it. When you then select the indicator or data element in the **Maps** app, the system automatically selects the assigned legend.

### 也可以看看 { #see_also_legend }

-   [使用 GIS 应用程序](https://docs.dhis2.org/master/en/user/html/using_gis.html)

## 管理预测变量 { #manage_predictor }

### 关于预测变量 { #about-predictors }

预测变量定义如何从表达式生成聚合数据值
包含汇总和/或事件数据。预测值可以基于：

-   来自与预测值相同时期的数据，和/或

-   来自预测值之前期间的数据

#### 同期数据 { #data_from_the_same_period }

预测器可以使用与预测值相同周期的数据。
例如，您可以计算具有
通过使用预测器表达式，例如：数据元素的非零值：

 <pre> <code> if（＃{ji7o0ILHuU2}！= 0，1，0）</code> </pre>

在数据所在的组织单位级别运行此预测变量时
收集的数据，如果数据元素具有
该组织单位的非零值，否则为0。
（如果您预测的数据元素未存储零，则
zeors不会存储在数据库中，以节省空间。）
然后，您可以在更高的分析中将这个预测值求和
组织单位级别，以计算组织单位的数量
报告中每个组织单位下的非零值。

#### 前期数据 { #data_from_previous_periods }

当您指定汇总时，预测变量将使用以前期间的数据
函数，例如sum（）或avg（）。例如，以下生成器表达式
标识一个值，该值是平均值加上标准偏差的两倍
前期数据：

 <pre> <code> avg（＃{ji7o0ILHuU2}）+ 2 * stddev（＃{ji7o0ILHuU2}）</code> </pre>

#### 上一时期的数据 { #data_from_the_same_and_previous_periods }

预测变量表达式可以访问与
通过访问两个
汇总函数（针对先前期间），以及任何汇总函数之外
（同一时期）。例如，如下所示的表达式可以是
用来平衡上一时期（＃{KOh02hHko7C}）
加上此期间的净变化（＃{ji7o0ILHuU2}），
得出此期间的余额：

 <pre> <code> sum（＃{KOh02hHko7C}）+＃{ji7o0ILHuU2} </code> </pre>

第一个数据值在聚合表达式（总和）内，以指示
它正在采样前一时期的数据（即使只有一个前一时期），
而第二个数据值不在聚合函数中以表明它
正在引用同一时期的数据。

如果需要，可以在同一引用中引用预测变量的输出数据元素
预测变量的表达。例如，此示例中的表达式可以
用于预测一段时间内的余额，然后将该值与
下一个期间的变化以计算下一个期间的余额。
当预测变量跨多个期间运行时，将在以下期间处理这些期间
按时间顺序排列，可以使用较早时期的结果
作为以后的输入。

#### 预测器组织单位级别 { #predictor_organisation_unit_levels }

您需要为预测变量的输出选择一个或多个组织单位级别。
预测变量生成的所有值都存储在组织单位的
您选择的级别。预测变量表达式中的每个项目都是值的总和
为该组织单位存储的信息（如果有的话）以及组织中存储的所有值
低于该单位（如果有）的单位。

> **注意**
>
> 在配置预测器时，您必须选择一个或多个用于输出预测数据的组织单位级别。如果未选择级别，则不会生成预测值。

> **警告**
>
> 如果您想在分析报告中使用预测值，或进行其他预测，_不要选择多个组织单位级别_。当您选择多个级别时，较高级别的预测还将包括较低级别预测中使用的任何数据。如果多个级别的预测随后用于分析或其他预测变量的表达式中，则可能会导致重复计算，因为较高级别的预测值包含较低级别的预测值。

如果使用预测的组织单位级别，则可以选择多个组织单位级别
值仅在验证规则中。例如在疾病监测中，您
如果实际值高于
根据上一期间数据得出的该期间的期望值范围。
为此，您可以创建一个预测变量以计算平均值加上两倍的
前期数据的标准偏差。您可以使用验证
将该最高期望值与实际值进行比较的规则。
您可以在多个级别上运行预测变量和验证规则
以检测不同的爆发情况。在一种情况下，可能会有
一个设施的显着增加超出了预期范围，但是
包含该设施的地区可能不会超出其预期范围
因为地区价值与许多其他设施结合在一起。
但在另一种情况下，
设施不超出每个设施的预期范围（因为
每个设施的标准偏差可能很高），但确实超过了
该地区的预期范围（因为
整个地区的标准偏差可能会更低）。

如果要生成多个级别的预测，则还可以
在不同级别使用不同的预测变量。例如，您可能想要
如果某一级别的值超过平均值再加上标准的两倍，则会收到警报
偏差，但如果超出平均值加1.8倍，则会在另一个级别发出警报
标准偏差。如果需要，可以配置不同的预测变量
具有相同的输出数据元素。如果您使用相同的输出数据元素，
这仍然适用于不同组织单位级别的有效规则，
但您也必须注意不要在分析或其他结果中使用结果
预测器计算以避免重复计算。

In the **Maintenance** app, you manage the following predictor objects:

<table>
<caption>Predictor objects in the Maintenance app</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Object type</p></th>
<th><p>Available functions</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Predictor</p></td>
<td><p>Create, edit, clone, delete, show details and translate</p></td>
</tr>
</tbody>
</table>

### 抽样前期 { #sampling-previous-periods }

预测变量可以生成过去一段时间的数据值，
现在或将来。这些值基于预测期间的数据，
和/或来自预测时期之前的时期的采样数据。

如果您只需要进行预测的同一时期的数据，
那么您无需阅读本节。本节介绍如何
从预测周期之前的周期中采样数据。

#### 顺序样本计数 { #sequential_sample_count }

预测器的_连续采样次数_给出了要采样的紧接其前的周期数。例如，如果预测器的周期类型是_Weekly_，_Sequential sample count_ 是 4，这意味着要对预测值周之前的四个周进行采样。因此，第 9 周的预测值将使用第 5、6、7 和 8 周的样本：

![](resources/images/maintainence/predictor_sequential.png){.center width=50% }

If a predictor's period type is _Monthly_ and the _Sequential sample count_ is 4, this means to sample four previous months immediately preceding the predicted value month. So the predicted value for May would use samples from weeks January, February, March, and April:

![](resources/images/maintainence/predictor_sequential_month.png){.center width=51% }

The _Sequential sample count_ can be greater than the number of periods in a year. For example, if you want to sample the 24 months immediately preceding the predicted value month, set the _Sequential sample count_ to 24:

![](resources/images/maintainence/predictor_24_months.png){.center width=57% }

#### 顺序跳过计数 { #sequential_skip_count }

预测器的_顺序跳过计数_指示在_顺序样本计数_内紧邻预测值周期之前应跳过多少个周期。例如，这可以用于爆发检测，以跳过一个或多个紧邻的先前样本，这些样本实际上可能包含您尝试检测的爆发开始时的值。

例如，如果_顺序样本计数_为 4，但_顺序跳过计数_为 2，则将跳过紧邻预测周期之前的两个样本，从而导致仅对两个周期进行采样：

![](resources/images/maintainence/predictor_skip.png){.center width=50% }

#### 年度样本数 { #annual_sample_count }

A predictor's _Annual sample count_ gives the number of previous years for which samples should be collected at the same time of year. This could be used, for instance, for disease surveillance in cases where the expected incidence of the disease varies during the year and can best be compared with the same relative period in previous years. For example, if the _Annual sample count_ is 2 (and the _Sequential sample count_ is zero), then samples would be collected from periods in the immediately preceding two years, at the same time of year.

![](resources/images/maintainence/predictor_annual.png){.center width=53% }

#### 顺序和年度样本计数一起 { #sequential_annual_sample_count }

您可以同时使用连续样本计数和年度样本计数来从过去几年的多个连续时期收集样本。执行此操作时，将在前几年与预测值期间相同的时间段内收集样本，并且还会在前几年的一年中同一时间之前和之后收集样本，具体由_顺序样本计数_数确定。

例如，如果_连续采样次数_为 4，_每年采样次数_为 2，则将从预测值时段之前的 4 个时段采集样本。此外，还将在相应时段的前 2 年以及两侧的 4 个时段采集样本：

![](resources/images/maintainence/predictor_sequential_annual.png){.center width=66% }

#### 顺序，年度和跳过样本计数一起 { #sequential_annual_skip_sample_count }

您可以将_顺序跳过计数_与顺序和年度样本计数一起使用。当您执行此操作时，_顺序跳过计数_ 会告诉您在预测值期间的同一年中要跳过多少个期间。例如，如果_顺序采样计数_为 4 并且_顺序跳过计数_为 2，则将跳过紧邻预测值周期之前的两个周期，但将对其之前的两个周期进行采样：

![](resources/images/maintainence/predictor_skip_2_weeks.png){.center width=66% }

如果_Sequential 跳过计数_ 等于或大于_Sequential 样本计数_，则将不收集包含预测值周期的年份的样本；仅对过去几年的时期进行抽样：

![](resources/images/maintainence/predictor_skip_current_year.png){.center width=66% }

#### 样品跳过测试 { #sample_skip_test }

您可以使用_样本跳过测试_根据在这些周期内测试表达式的结果来跳过原本会包含在内的某些周期中的样本。例如，这可以用于疾病爆发检测，其中样本跳跃测试可以识别以前的疾病爆发，以将这些样本排除在非爆发基线预期值的预测之外。

_Sample skip test_ 是一个应返回 true 或 false 值的表达式，以指示是否应跳过该句点。它可以是测试前一时期的任何数据值的表达式。例如，它可以测试明确输入的数据值，以指示应跳过前一周期。或者，它可以将某个时间段的先前预测值与该时间段记录的实际值进行比较，以确定是否应跳过该时间段。

_样本跳过测试_为_true_的任何周期都不会被采样。例如：

![](resources/images/maintainence/predictor_sample_skip_test.png){.center width=66% }

### 创建或编辑预测变量 { #create_predictor }

1.  打开** Maintenance **应用程序，然后单击** Other ** \> ** Predictor **。

2.  点击添加按钮。

3.  In the **Name** field, type the predictor name.

4.  （可选）在 **Code** 字段中，分配一个代码。 

5.  （可选）输入**说明**。

6.  Select an **Output data element**. Values generated by this predictor are stored as aggregate data associated with this data element and the predicted period.

    根据数据元素的值类型对值进行四舍五入：如果值类型是整数类型，则预测值四舍五入到最接近的整数。对于所有其他值类型，数字四舍五入为四位有效数字。 （但是，如果小数点左边的数字超过四位，则不会用零替换它们。）

7.  (Optional) Select an **Output category combo**. This dropdown will only show if the selected data element has categoryCombos attached to it. If this is the case, you can select which categoryCombo you would like to use.

8.  Select a **Period type**.

9.  分配一个或多个组织单位级别。输出值将分配给该级别（或这些级别）的组织单位。输入值将来自输出所分配到的组织单位，或来自输出组织单位下的任何较低级别。

10. 创建一个**生成器**。生成器是用于计算预测值的表达式。

    1.  Type a **Description** of the generator expression.

    2.  Select a **Missing value strategy**. This selection sets how the system evaluates a validation rule if data is missing.

        |选项|说明|
        | --- | --- |
        |如果缺少任何值则跳过 |如果组成表达式的任何值丢失，则将跳过验证规则。这是默认选项。<br><br>在使用 **独占对** 或 **强制对时，始终选择此选项** 操作员。 |
        |如果所有值均缺失，则跳过|仅当组成该值的所有值均缺失时，才跳过验证规则。
        |永不跳过|如果缺少数据，将永远不会跳过验证规则，并且所有缺失值都将被有效地视为零。

    3.  输入生成器表达式。您可以通过选择聚合数据的数据元素或程序数据元素，属性或指标来构建表达式。尚不支持组织单位计数。

        要使用过去的采样数据，应将选择的所有项目包含在以下聚合函数之一中（请注意，这些函数名区分大小写）：
        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Aggregate function</p></th>
        <th><p>Means</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>avg(x)</p></td>
        <td><p>Average (mean) value of x</p></td>
        </tr>
        <tr class="even">
        <td><p>count(x)</p></td>
        <td><p>Count of the values of x</p></td>
        </tr>
        <tr class="odd">
        <td><p>max(x)</p></td>
        <td><p>Maximum value of x</p></td>
        </tr>
        <tr class="even">
        <td><p>median(x)</p></td>
        <td><p>Median value of x</p></td>
        </tr>
        <tr class="odd">
        <td><p>min(x)</p></td>
        <td><p>Minimum value of x</p></td>
        </tr>
        <tr class="even">
        <td><p>percentileCont(p, x)</p></td>
        <td><p>Continuous percentile of x, where p is the percentile as a floating point number between 0 and 1. For example, p = 0 will return the lowest value, p = 0.5 will return the median, p = 0.75 will return the 75th percentile, p = 1 will return the highest value, etc. Continuous means that the value will be interpolated if necessary. For example, percentileCont( 0.5, #{FTRrcoaog83} ) will return 2.5 if the sampled values of data element FTRrcoaog83 are 1, 2, 3, and 4.</p></td>
        </tr>
        <tr class="odd">
        <td><p>stddev(x)</p></td>
        <td><p>Standard deviation of x. This function is eqivalent to stddevSamp. It's suggested that you use the function stddevSamp instead for greater clarity.</p></td>
        </tr>
        <tr class="even">
        <td><p>stddevPop(x)</p></td>
        <td><p>Population standard deviation of x: sqrt( sum( (x - avg(x))^2 ) / n )</p></td>
        </tr>
        <tr class="even">
        <td><p>stddevSamp(x)</p></td>
        <td><p>Sample standard deviation of x: sqrt( sum( (x - avg(x))^2 ) / ( n - 1 ) ). Note that this value is not computed when there is only one sample.</p></td>
        </tr>
        <tr class="odd">
        <td><p>sum(x)</p></td>
        <td><p>Sum of the values of x</p></td>
        </tr>
        </tbody>
        </table>

        聚合函数内的任何项目都将针对过去所有采样期间进行评估，然后根据聚合函数内的公式进行组合。聚合函数之外的任何项目都将在预测期间进行评估。

        您可以通过单击（或键入）表达式字段下方的任何元素来构建更复杂的表达式：( ) \* / + - 天。常数可以通过键入来添加。 Days 选项将 \[days\] 插入表达式中，该表达式解析为数据来源期间的天数。

        您还可以在表达式中使用以下非聚合函数，无论是在聚合函数内部，还是包含聚合函数，或者独立于聚合函数：

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Function</p></th>
        <th><p>Means</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>if(test, valueIfTrue, valueIfFalse)</p></td>
        <td><p>Evaluates <strong>test</strong> which is an expression that evaluates to a boolean value -- see <strong>Boolean expression notes</strong> below. If the test is <strong>true</strong>, returns the <strong>valueIfTrue</strong> expression. If it is <strong>false</strong>, returns the <strong>valueIfFalse</strong> expression.</p></td>
        </tr>
        <tr class="even">
        <td><p>isNull(item)</p></td>
        <td><p>Returns the boolean value <strong>true</strong> if the <strong>item</strong> is null (missing), otherwise returns <strong>false</strong>. The <strong>item</strong> can be any selected item from the right (data element, program data element, etc.).</p></td>
        </tr>
        <tr class="odd">
        <td><p>isNotNull(item)</p></td>
        <td><p>Returns <strong>true</strong> if the <strong>item</strong> value is not missing (not null), otherwise <strong>false</strong>.</p></td>
        </tr>
        <tr class="even">
        <td><p>firstNonNull(item [, item ...])</p></td>
        <td><p>Returns the value of the first <strong>item</strong> that is not missing (not null). Can be provided any number of arguments. Any argument may also be a numeric or string literal, which will be returned if all the previous items have missing values.</p></td>
        </tr>
        <tr class="odd">
        <td><p>greatest(expression [, expression ...])</p></td>
        <td><p>Returns the greatest (highest) value of the expressions given. Can be provided any number of arguments.</p></td>
        </tr>
        <tr class="even">
        <td><p>least(expression [, expression ...])</p></td>
        <td><p>Returns the least (lowest) value of the expressions given. Can be provided any number of arguments.</p></td>
        </tr>
        </tbody>
        </table>

        **Boolean expression notes:** A boolean expression must evaluate to **true** or **false**. The following operators may be used to compare two values resulting in a boolean expression: \<, \>, \!=, ==, \>=, and \<=. The following operators may be used to combine two boolean expressions: && (logical and), and || (logical or). The unary operator \! may be used to negate a boolean expression.

        生成器表达式示例：

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Generator expression</p></th>
        <th><p>Means</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>sum(#{FTRrcoaog83.tMwM3ZBd7BN})</p></td>
        <td><p>Sum of the sampled values of data element FTRrcoaog83 and category option combination (disaggregation) tMwM3ZBd7BN</p></td>
        </tr>
        <tr class="even">
        <td><p>avg(I{GSae40Fyppf}) + 2 * stddevSamp(I{GSae40Fyppf})</p></td>
        <td><p>Average of the sampled values of of program indicator GSae40Fyppf plus twice its sample standard deviation</p></td>
        </tr>
        <tr class="odd">
        <td><p>sum(D{IpHINAT79UW.eMyVanycQSC}) / sum([days])</p></td>
        <td><p>Sum of all sampled values of data element eMyVanycQSC from porgram IpHINAT79UW divided by the number of days in all sample periods (resulting in the overall average daily value)</p></td>
        </tr>
        <tr class="even">
        <td><p>sum(#{FTRrcoaog83}) + #{T7OyqQpUpNd}</p></td>
        <td><p>Sum of all sampled values of data element FTRrcoaog83 plus the value of data element T7OyqQpUpNd in the period being predicted for (includes all disaggregations)</p></td>
        </tr>
        <tr class="odd">
        <td><p>1.2 * A{IpHINAT79UW.RKLKz1H20EE}</p></td>
        <td><p>1.2 times the value of attribute RKLKz1H20EE of program IpHINAT79UW, in the period being predicted for</p></td>
        </tr>
        <tr class="even">
        <td><p>if(isNull(#{T7OyqQpUpNd}), 0, 1)</p></td>
        <td><p>If the data element T7OyqQpUpNd is null in the period being predicted, then 0, otherwise 1.</p></td>
        </tr>
        <tr class="odd">
        <td><p>percentileCont(0.5, #{T7OyqQpUpNd})</p></td>
        <td><p>Continuous 50th percentile of the sampled values for data element T7OyqQpUpNd. Note that this is the same as median(#{T7OyqQpUpNd})</p></td>
        </tr>
        <tr class="even">
        <td><p>if(count(#{T7OyqQpUpNd}) == 1, 0, stddevSamp(#{T7OyqQpUpNd}))</p></td>
        <td><p>If there is one sample value present for data element T7OyqQpUpNd, then 0, otherwise the sample standard deviation of these sample values. (Note that if no samples are present then the stddevSamp returns no value, so no value is predicted.)</p></td>
        </tr>
        </tbody>
        </table>

11. (Optional) Create a **Sample skip test**. The sample skip test tells which previous periods if any to exclude from the sample.

    1.  Type a **Description** of the skip test.

    2.  输入示例跳过测试表达式。您可以通过选择聚合数据的数据元素或程序数据元素、属性或指标来构建表达式。尚不支持组织单位计数。与生成器函数一样，您可以单击（或键入）表达式字段下方的任何元素：( ) \* / + - 天。

        上述非聚合函数也可以用于跳过测试。

        The expression must evaluate to a boolean value of **true** or **false**. See **Boolean expression notes** above.

        跳过测试表达式示例：

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Skip test expression</p></th>
        <th><p>Means</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>#{FTRrcoaog83} &gt; #{M62VHgYT2n0}</p></td>
        <td><p>The value of data element FTRrcoaog83 (sum of all disaggregations) is greater than the value of data element M62VHgYT2n0 (sum of all disaggregations)</p></td>
        </tr>
        <tr class="even">
        <td><p>#{uF1DLnZNlWe} &gt; 0</p></td>
        <td><p>The value of data element uF1DLnZNlWe (sum of all disaggregations) is greater than the zero</p></td>
        </tr>
        <tr class="odd">
        <td><p>#{FTRrcoaog83} &gt; #{M62VHgYT2n0} || #{uF1DLnZNlWe} &gt; 0</p></td>
        <td><p>The value of data element FTRrcoaog83 (sum of all disaggregations) is greater than the value of data element M62VHgYT2n0 (sum of all disaggregations) or the value of data element uF1DLnZNlWe (sum of all disaggregations) is greater than the zero</p></td>
        </tr>
        </tbody>
        </table>

12. Enter a **Sequential sample count** value.

    这是计算应及时返回多少个连续周期以采样数据以进行计算。

13. Enter an **Annual sample count** value.

    这是计算应及时回溯多少年以采样数据进行计算。

14. (Optional) Enter a **Sequential skip count** value.

    这是在对数据进行采样之前应跳过紧邻预测值周期之前的连续周期数。

15. 点击**保存**。

### 创建或编辑预测变量组 { #create_predictor_group }

1.  打开 **维护** 应用程序并单击 **其他** \> **预测器组**。

2.  点击添加按钮。

3.  Type a **Name**. This field needs to be unique.

4.  (Optional) In the **Code** field, assign a code. This field needs to be unique.

5.  （可选）输入**说明**。

6.  Double-click the **Predictors** you want to assign to the group.

7.  点击**保存**。 

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理推送报告 { #manage_push_report }

### 关于推送报告 { #about_push_report }

推送报告使您可以提高对数据分析的认识和使用
通过将带有图表，表格和地图的报告直接发送到用户电子邮件
地址。

-   推送报告从现有仪表板获取其内容。

-   推送报告按照与仪表板上相同的顺序列出仪表板项目。

-   推送报告只能包含带有图表、地图或表格的仪表板项目。

-   You create the push report and its schedule in the **Maintenance** app.

-   您在**维护**应用程序中设置的**标题**和**消息** 有参数可以在每个报告中。您为报告提供的**名称**不包括在报告中。相反，应该名称用于标识系统中的分析对象。这样，报告可以为一件事，而报告的标题可以是另一件事。

-   当您运行推送报告作业时，系统会根据您选择的用户组编译收件人列表。然后，系统为所选用户组的每个成员生成报告。每个仪表板项目都是专门为每个用户生成的。这意味着报告中包含的数据反映了用户有权访问的数据。因此，所有用户都可以获得相同的报告（如果所有数据都是“静态”）或自定义报告（如果所有数据都是“动态”），或者两者的组合。

-   推送报告通过电子邮件发送给收件人，而不是通过内部 DHIS2 消息系统。如果用户没有有效的电子邮件，或者作业失败，则不会发送任何电子邮件。在这种情况下，问题会记录在服务器上。

> **注意**
>
> 推送报告中生成的数据是公开的，因此请确认您不包含任何敏感数据。

![](resources/images/maintainence/push_report_ex.png)

In the **Maintenance** app, you manage the following push reports objects:

<table> 
<caption>发送维护应用中的报告对象</caption> 
<colgroup> 
<col style="width: 50%" /> 
<col style="width: 50%" /> 
</colgroup> 
<thead > 
<tr class="header"> 
<th><p>对象类型</p></th> 
<th><p>可用函数</p></th> 
</tr> 
</thead> 
<tbody> 
<tr class="odd"> 
<td><p>翻译分析</p></td> 
<td><p>创建、编辑、克隆、删除、显示细节、预览和运行</p></td> 
</tr> 
</tbody> 
</table>

### 创建或编辑推送报告 { #create_push_report }

1.  打开**维护**应用程序并单击**其他** \> **推送分析**。

2.  点击添加按钮。

3.  在**名称** 字段中，输入计划报告的名称。

    该姓名不包含在报告电子邮件中。相反，该名称用于标识系统中的推送分析对象。

4.  （可选）在 **Code** 字段中，分配一个代码。 

5.  添加报告**标题**。

    该标题包含在报告电子邮件中。

6.  （可选）添加**消息**。

    此消息包含在报告电子邮件中。

7.  选择一个 **仪表板** 作为报告的基础。

8.  选择并分配您要向其发送报告的用户组。

9.  选择**计划频率**：**每天**、**每周**或**每月**。

    > **Note**
    >
    > If you schedule a push report to "Monthly" and "31", the scheduled report job will not run if the month has less than 31 days.

10. （可选）选择**启用**以激活推送报告作业。

    作业只有激活后才能运行。

11. 点击**保存**。 

### 预览推送报告 { #preview_push_report }

1.  打开**维护**应用程序并单击**其他** \> **推送分析**。

2.  在推送报告列表中，找到要预览的推送报告。

3.  单击选项菜单并选择**预览**。

    推送报告的预览在新窗口中打开。

### 运行推送报告作业 { #run_push_report }

1.  打开**维护**应用程序并单击**其他** \> **推送分析**。

2.  在推送报告列表中，找到要运行的推送报告。

3.  单击选项菜单并选择 **立即运行**。

    推送报告作业立即运行。

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**克隆**。 

3.  修改所需的选项。

4.  点击**保存**。 

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理外部地图图层 { #manage_external_maplayer }

### 关于外部地图图层 { #about_gis_map_layers }

您可以通过包含来自各种来源和
将它们与您在DHIS2中的数据结合起来。 DHIS2支持通用地图
服务格式，例如Web Map Service（WMS），Tile Map Service（TMS）
和XYZ磁贴。

### 创建或编辑外部地图图层 { #create_external_map_layer }

> **注意**
>
> DHIS2 仅支持 Web 墨卡托投影 ([EPSG:3857](https://epsg.io/3857))，因此请确保外部服务支持此投影。

<table> 
<caption>维护应用中的外部地图图层对象</caption> 
<colgroup> 
<col style="width: 50%" /> 
<col style="width: 50%" /> 
</colgroup> 
<thead> 
<tr class="header"> 
<th><p>对象类型</p></th> 
<th><p>可用函数</p></th> 
</tr> 
</thead> 
<tbody> 
<tr class="odd"> 
<td><p>外部地图层</p></td> 
<td><p>创建、编辑、克隆、删除、显示细节和翻译</p > </td> 
</tr> 
</tbody> 
</table>

1.  打开 **维护** 应用程序并单击 **其他** \> **外部地图图层**。

2.  点击添加按钮。

3.  在 **Name** 字段中，输入描述外部地图层内容的名称。 

    这是您将在 **Maps** 应用程序中看到的名称。 

4.  （可选）在 **Code** 字段中，分配一个代码。 

5.  选择 **地图服务** 格式。 

    DHIS2支持三种常见的地图服务格式：

    -   网络地图服务（WMS）

        **图像格式**：PNG 格式允许图层透明，JPG 格式提供更好的压缩并且通常加载速度更快。

        **图层**：WMS 可以包含多个单独的图层，您可以指定要包含的图层（以逗号分隔）。请参阅 WMS GetCapability 文档以查看可用的图层。

    -   平铺地图服务（TMS）

    -   XYZ磁贴（也可用于WMTS）

6.  输入地图服务的**URL**。

    > **Note**
    >
    > XYZ and TMS URLs must contain placeholders {}, for example: http://{s}.tile.osm.org/{z}/{x}/{y}.png.

7.  （可选）输入地图图层的**来源**。如果您想链接到源，该字段可以包含 HTML 标记。

    当您使用外部地图服务时，突出显示数据的来源非常重要。

8.  选择一个**放置**：

    -   **底部 - 底图**：对于地图应用程序，这使得外部地图图层可选择作为底图（即作为 DHIS2 底图的替代方案）。

    -   **顶部 - 覆盖**：对于地图应用程序，这允许从“添加图层”选择中添加外部地图，并将其放置在底图上方的任何位置。

9.  （可选）添加图例。

    您可以通过两种方式添加图例：

    -   选择预定义的**图例**来描述地图图层的颜色。

        > **Tip**
        >
        > Click **Add new** to create legends that you're missing. In the form that opens, create the legends you need. When you're done, click **Refresh values**.

    -   在 **图例图像URL** 中输入指向外部图像图例的链接。

        这些通常是为 WMS 提供的。请参阅 WMS GetCapabilites 文档中的 LegendURL。

10. 点击**保存**。 

### 克隆元数据对象 { #clone_metadata }

克隆数据元素或其他对象可以在创建时节省时间
许多相似的对象。

1.  打开 **维护** 应用程序并找到要克隆的元数据对象的类型。

2.  In the object list, click the options menu and select **Clone**.

3.  修改所需的选项。

4.  点击**保存**。

### 删除元数据对象 { #delete-metadata-objects }

> **注意**
>
> 仅当没有数据与数据元素本身关联时，您才能删除数据元素和其他数据元素对象。

> **警告**
>
> 从系统中删除的任何数据集都将不可挽回地丢失。所有数据输入表格和可能已开发的部分表格也将被删除。确保在删除任何数据集之前已对数据库进行备份，以防您需要在某个时间点恢复它。

1.  打开**维护**应用程序并找到您要删除的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**删除**。 

3.  点击**确认**。

### 显示元数据对象的详细信息 { #display-details-of-metadata-objects }

1.  打开 **维护** 应用程序并找到您要查看的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**显示详细信息**。 

### 翻译元数据对象 { #translate-metadata-objects }

DHIS2提供了用于翻译数据库内容的功能，
示例数据元素，数据元素组，指标，指标组
或组织单位。您可以将这些元素转换为任意数量的
语言环境。地区代表特定的地理，政治或
文化区。

> **提示** 
> 
> 要激活翻译，请打开 **系统设置** 应用程序，单击 \> > **外观** 并选择一种语言。 

1.  打开 **维护** 应用程序并找到您要翻译的元数据对象的类型。

2.  在对象列表中，单击选项菜单并选择**翻译**。 

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  选择一个语言环境。

4.  输入**名称**、**简称**和**说明**。 

5.  点击**保存**。 

## 管理SQL视图 { #maintenance_sql_view }

DHIS2的SQL View功能将存储SQL视图定义
内部，然后在需要时实例化视图。

数据库管理员在创建数据库视图时必须小心
直接在DHIS2数据库中。例如，当资源表
生成，所有这些都将首先被删除然后重新创建。如果
任何SQL视图都依赖于这些表，完整性违规异常
将被抛出并且该过程将被中止。

SQL视图基于它们的反向字母顺序删除
DHIS2中的名称，并按常规字母顺序创建。这允许
您要在SQL视图之间具有依赖关系，因为视图仅取决于
其他按字母顺序排列的观点。对于
例如，“ ViewB”可以安全地依赖于“ ViewA”。否则，有意见
取决于其他视图会导致完整性违规错误。

### 创建一个新的SQL视图 { #creating-a-new-sql-view }

要创建新的 SQL 视图，请单击 **Apps** \> **维护** \> **其它** \> **SQL View** 并单击 添加 **+** 按钮。

![](resources/images/maintainence/create_sql_view.PNG)

SQL视图的“名称”属性将用于确定名称
当视图实现时，DHIS2将创建的表的
用户。 “描述”属性允许提供一些描述性的
有关SQL视图实际功能的文本。最后，“ SQL查询”
应该包含SQL视图定义。只有SQL“ SELECT”语句是
允许，某些敏感表（即用户信息）不是
可访问按“保存”以存储SQL视图定义。

### SQL视图管理 { #sql-view-management }

为了利用SQL视图，只需点击视图，然后从
在上下文菜单中，选择“执行查询”。该过程完成后，您将
系统将通知您已创建一个表。表格名称
将由“描述”属性提供
在SQL视图定义中提供。生成视图后，
您可以通过再次单击视图并选择“显示SQL
视图”。

> **提示**
>
> 如果您有一个视图依赖于另一个视图，则应注意视图的命名方式。在 DHIS2 服务器上运行分析时，必须删除并重新创建所有视图。分析开始时，视图将按字母顺序删除，然后按相反的字母顺序重新创建。因此，如果视图 A 依赖于视图 B，则它必须按字母顺序出现在视图 B 之前。如果它按字母顺序出现在视图 B 之后，则分析可能会失败，因为具有依赖项的视图不会按正确的顺序删除。

## 管理语言环境 { #maintenance_locale_management }

可以在DHIS2中创建自定义语言环境。除了
系统提供的语言环境，您可能需要添加自定义
系统的语言环境（例如“英语”和“赞比亚”）。这将允许
您可以将元数据对象翻译成本地语言，或解决
使用共同元数据的国家之间的细微差异
定义。

![](resources/images/maintainence/locale_management.png)

语言环境由语言和国家/地区组成。选择
所需的值，然后按“添加”。此自定义语言环境现已可用
作为系统中的翻译语言环境之一。

## 一次编辑多个对象组 { #edit_multiple_object_groups }

**维护**应用程序中的**元数据组编辑器**可让您
同时编辑多个对象组。您可以编辑以下内容
对象类型：

<table> 
<caption>元数据组编辑器中的对象类型</caption> 
<colgroup> 
<col style="width: 50%" /> 
<col style="width: 50%" /> 
</colgroup> 
<thead> 
<tr class="header"> 
<th><p>对象类型</p></th> 
<th><p>可用函数</p></th> 
</tr> 
</thead > 
<tbody> 
<tr class="odd"> 
<td><p>类别选项</p></td> 
<td></td> 
</tr> 
<tr class="even"> 
<td> <p>类别选项组</p></td> 
<td></td> 
</tr> 
<tr class="odd"> 
<td><p>数据元素</p></td> 
<td><p>将一个数据元素添加到多个数据元素组</p> 
<p>从多个数据元素组中删除一个数据元素</p></td> 
</tr> 
<tr class="even"> 
<td><p>数据元素组</p></td>
<td><p>将多个数据元素添加到一个数据元素组</p> 
<p>从一个数据元素组中删除多个数据元素</p></td> 
</tr> 
<tr class ="odd"> 
<td><p>指标</p></td> 
<td><p>将一个指标添加到多个指标组</p> 
<p>从多个指标组中删除一个指标</p></td> 
</tr> 
<tr class="even"> 
<td><p>指标组</p></td> 
<td><p>将多个指标添加到一个指标组</p> 
<p>从一个指标组中删除一些指标</p></td> 
</tr> 
</tbody> 
</table>

### 编辑对象组中的多个对象 { #edit-multiple-objects-in-an-object-group }

1.  打开 **维护** 应用程序并单击 **元数据组编辑器**。

2.  单击**管理组中的项目**。 

3.  选择对象组类型，例如**指示器组**。

4.  选择一个对象组，例如** HIV **。

5.  在左侧列表中，选择要添加到对象组的对象，然后单击向右箭头。

6.  在右侧列表中，选择要从对象组中删除的对象，然后单击向左箭头。

### 编辑多个对象组中的一个对象 { #edit-an-object-in-multiple-object-groups }

1.  打开 **维护** 应用程序并单击 **元数据组编辑器**。

2.  单击**管理组条目**。

3.  选择一个对象类型，例如**指标**。

4.  选择一个对象，例如 **ANC LLITN 覆盖范围**。 

5.  在左侧列表中，选择要添加对象的对象组，然后单击向右箭头。

6.  在右侧列表中，选择要从中删除对象的对象组，然后单击向左箭头。
