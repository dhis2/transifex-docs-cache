---
edit_url: "https://github.com/dhis2/dhis2-android-docs/blob/main/content/capture-app/programs-features.md"
revision_date: '2024-05-27'
tags:
- 用
---

# 程式 { #capture_app_programs }

## Event and Tracker common features { #capture_app_common_features }

### Navigation Bar { #navigation-bar } 

Use the bottom navigation bar to move from one screen to another.

#### Event Dashboard { #event-dashboard } 

While entering information of the event, the bottom navigation bar allows the user to choose among:

1. Details
2. 数据输入
3. Analytics (when available)
4. 笔记

![](resources/images/capture-app-image141.jpg){ width=25%}

#### TEI Dashboard { #tei-dashboard } 

While in the TEI dashboard the bottom navigation bar allows the user to choose among:

1. Details
2. Analytics (when available)
3. 人际关系
4. 笔记

![](resources/images/capture-app-image142.jpg){ width=25%}

#### Event listing for event and tracker programs { #event-listing-for-event-and-tracker-programs } 

The bottom navigation bar also allows switching the visualization mode if the event program or the tracker program have been defined with coordinates. More information about the map view can be found on the specific section below.

  1. 列表视图
  2. Map view

![](resources/images/capture-app-image143.jpg){ width=25%}
![](resources/images/capture-app-image144.jpg){ width=25%}

### Data Entry Flow { #capture_app_common_features_Data_flow }

#### creating/editing an event (Improved 3.0) { #capture_app_common_features_newEdit_event }

When creating an event or an enrollment, there are a number of fields that are not data elements or attributes, for example, event date, org unit, coordinates, enrollment date, category combinations. 

Those elements are referred to as event/enrollment details and in previous versions they were displayed in different screens separated from the data elements or attributes. From 3.0,  the details are displayed inside the form, as the first opened section for completion. Once they are filled in, for example when the user reopens the event or enrollment form, the details section will be visible and easily available, but collapsed to leave more space for the data collection.

![](resources/images/capture-app-image284.png){ width=25%}
![](resources/images/capture-app-image285.png){ width=25%}
![](resources/images/capture-app-image286.png){ width=25%}

#### Complete/Re-open event { #capture_app_common_features_complete_reopen }

When adding an event to an event program or inside a tracker program the user should fill the information and scroll down to make the *save* icon appear at the bottom right corner.

![](resources/images/capture-app-image37.jpg){ width=25%}
![](resources/images/capture-app-image74.png){ width=25%}

After tapping on the 'save' button, if the form does not contain any errors, warnings or empty mandatory fields, the app will ask if the user wants to complete the form. Two options are given to the user:

1. 'Not now': The app saves the form and go back to the event listing screen (or TEI dashboard for tracker programs). The status of the event will remain open.
2. 'Complete': The app saves the form and go back to the event listing. The status of the event changes to completed.

![](resources/images/capture-app-image201.png){ width=25%}

> **Note**
>
> To verify if an event is completed look at the icon, it must be a green checked box.
>

> **Note**
>
> If the event is non-editable, the app will hide the 'save' button
>

To re-open an event, the app now displays a "Re-open form" button in the Details screen. This button will be available only if the user has the correct authority (‘Uncomplete events’) to reopen a completed event.

![](resources/images/capture-app-image202.png){ width=25%}

#### Schedule after completion (Improved 3.0) { #capture_app_programs_common_features_schedule_after_completion }

In 3.0, the schedule dialog after completion has been redisigned to facilitate the creation of the event.

![](resources/images/capture-app-image270.png){ width=25%}

#### Discard changes { #capture_app_programs_common_features_discard_changes }

Tapping the back arrow in an enrollment or event form now provide two options:

1. 'Discard changes',  which allows the user to restored the fields to their previous values or,
2. 'Review' to remain in the form and update the fields.

If the user is in a new enrollment or event, the options allow the user to:

1. 'Discard changes': The enrollment or event is not created or,
2. 'Keep editing': Allowing the user to finish the enrollment or event.

![](resources/images/capture-app-image203.png){ width=25%}

#### Field completion percentage { #capture_app_programs_common_features_field_percentage }

首次注册后打开的事件的右上角显示了每个事件中完成的数据百分比。

![](resources/images/capture-app-image80.png){ width=25%}

> **Note**
>
> The display of the percentage can be set up to be displayed or not using the [#capture_app_android_settings_webapp_appearance_program](Android Settings WebApp)

#### Sections Navigation { #capture_app_programs_common_features_sections_nav }

The sections can be collapsed for a simpler user experience.  Sections in enrollment forms are also supported and are aligned with the design of the event sections.

![](resources/images/capture-app-image115.png){ width=25%}
![](resources/images/capture-app-image116.png){ width=25%}

#### Error messages { #capture_app_programs_common_features_errors }

The app will list the name of the mandatory fields missing when the user tries to complete an event or enrollment. The sections containing the missing fields will be highlighted to help the user find the missing fields.

![](resources/images/capture-app-image117.png){ width=25%}

After tapping on the 'save' button, the app will display two options:

1. 'Not now': Allowing the user to save the form with an 'open' status or,
2. 'Review': The app will remain in the form for the user to fill the empty mandatory fields.

The errors and warnings are also shown as an indicator next to the section name including the number of errors for each section. A list of the fields with the errors/warnings when the user tries to save the form will be displayed.

![](resources/images/capture-app-image145.png){ width=25%}

After tapping on the 'save' button, the app will display two options:

**Warnings**

1. 'Not now': Allowing the user to save the form with an 'open' status or,
2. 'Complete': The form is saved and its status changes to 'complete'

**Errorrs**

1. 'Not now': Allowing the user to save the form with an 'open' status or,
2. 'Review': The app will remain in the form for the user to review the fields with errors

If there is a combinantion of errors, warnings and missing mandatory fields, the app will display the 'Not now' and 'Review' options only.


### Event Notes { #capture_app_programs_common_features_event_notes }

可以在单个事件程序和程序阶段事件中为事件添加注释。在数据输入表单的新选项卡中提供了注释。

![](resources/images/capture-app-image106.png){ width=25%}
![](resources/images/capture-app-image107.jpg){ width=25%}

### Maps { #capture_app_programs_common_features_maps }

#### Map Layers (Improved 3.0) { #map-layers-improved-30 } 

When displaying maps there are different layers that can be displayed by clicking on the specific button on the uppper right corner. The user can select one or more layers to be displayed. Both coordinate and polygons types will be displayed. The layers are depenandat on the type of program as explained below:

- 显示事件（对于未注册的节目）
- 卫星检视
- TEI坐标（在注册的程序中默认为）
- 入学坐标（仅适用于已注册的课程）
- 程序阶段坐标（仅适用于已注册的程序）
- 关系（仅针对注册程序）
- 热图（仅适用于已注册的程序）
- Tracked Entity Attributes (Coordinates Value Type - Only for programs with registration)
- Data Elements (Coordinates Value Type)

![](resources/images/capture-app-image125.png){ width=25%}
![](resources/images/capture-app-image136.png){ width=25%}

From 3.0 custom map layers are also supported by the Android App. These custom layers, configured in the [maintenance app](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-240/configuring-the-system/metadata.html#manage_external_maplayer), will be downloaded and displayed as additional layers to the default ones.
![](resources/images/capture-app-image263.png){ width=25%}
![](resources/images/capture-app-image262.png){ width=25%}

#### Map Carousel { #capture_app_programs_common_features_map_carousel }

On the map view of the program, a carousel of cards is displayed, one for each enrolled TEI (Tracker programs) or Event (Event programs).

* 轮播上的TEI卡采用与TEI列表视图相同的设计。
* 水平滚动轮播时，地图会放大到所选坐标。如果坐标字段为空，则会显示一条消息。

![](resources/images/capture-app-image126.png){ width=25%} 
![](resources/images/capture-app-image133.png){ width=25%}

Each card displays Tracked Entity Attributes (for Tracker Programs) and Data Elements (for Event programs) configured as 'Display in list'.

![](resources/images/capture-app-image147.png){ width=25%}

#### Current Location displayed in maps { #current-location-displayed-in-maps } 

If the user has granted location permissions to the App, the map will show the current location represented as a blue color dot. The maps in the DHIS2 Android Capture App include the possibility to center the map on the user location.

![](resources/images/capture-app-image148.png){ width=25%}

#### Navigation to Specific Location { #navigation-to-specific-location } 

If the TEI or event has coordinates a navigation icon will be displayed at the top right of the card. Click to open the location in the default maps app configured in the device.

![](resources/images/capture-app-image149.png){ width=25%}
![](resources/images/capture-app-image150.png){ width=25%}
![](resources/images/capture-app-image151.jpg){ width=25%}

### Working Lists { #capture_app_programs_common_features_working_lists }

Working lists are available in Event and Tracker Programs, once a list is selected the filters will be blocked and not allowed to change until the user resets the search.

The Android App supports the new tracker working lists, allowing users to filter by data elements. The working lists need to be configured in web using the web Capture App. The Android app will download the working lists that are configured and saved on the server side.

In 2.9, the working lists have been moved from the filters section to the main program screen. In earlier versions the user had to open the filters to be able to see and select a working list, from this version the working lists are always visible under the search bar facilitating its selection for filtering out Tracked Entity Instances

![](resources/images/capture-app-image251.png){ width=25%}

### 计划指标 { #program-indicators } 

The analytics tab supports displaying text and key/value pair in feedback or indicator section.

![](resources/images/capture-app-image154.png){ width=25%}

### Legends { #legends } 

Legends can be assigned to Data Elements and they will be displayed next to value with the respective color and label.

![](resources/images/capture-app-image155.png){ width=25%}

### Data Entry Form { #capture_app_programs_common_features_data_entry_form }

#### Hint messages { #hint-messages } 

The input fields will display had a hint message saying "Insert value here" which will remain until a value is entered by the user.

![](resources/images/capture-app-image209.png){ width=25%}

#### Navigation button { #navigation-button } 

In forms with multiple sections, the App includes a "Next" button at the end of each section which calls the user to action. The funtion of the button is to close the current section and open the new one.

![](resources/images/capture-app-image210.png){ width=25%}

#### Program Stage section description { #capture_app_programs_common_features_data_entry_form_program_stage_description }

To provide more context and information at the moment of data collection the description has now been brought to the user interface and will be displayed below the section name. The description will always be visible but if the text is too long (more than 3 lines) the app will add an ellipsis and a show more/less button to expand or collapse.

![](resources/images/capture-app-image243.png){ width=25%}
![](resources/images/capture-app-image244.png){ width=25%}

#### Enable/disable collapsible sections in forms { #capture_app_programs_common_features_data_entry_form_collapsible_sections }

Stage sections in the Android App are displayed with collapsible menus that enable the user to open one section at a time. The purpose of this accordion-like implemementation is to help the user navigate very long forms, however some implementations would prefer to list the sections one after the other. 

This new version of the application enables the admin use to decide if the sections should appear in extended mode. This configuration is made through the [Android Settings Web App](https://docs.dhis2.org/en/use/android-app/settings-configuration.html#capture_app_android_settings_webapp_appearance_program_specific) and will display the sections one after the other with the name the secion acting as a separator. In extended mode, the "next" button at the end of each section is removed.

![](resources/images/capture-app-image241.png){ width=25%}

#### New inputs per value types { #capture_app_programs_common_features_data_entry_form_new_inputs }

The inputs for all value types have been redesigned. Tappable areas and texts have been increased and selection modes are improved to offer cleaner and more intuitive user experience. By default the Android App will display the current forms. Admin users are able to opt-in to use the new forms through the [Android Settings WebApp]().

![](resources/images/capture-app-image238.png){ width=25%}
![](resources/images/capture-app-image239.png){ width=25%}
![](resources/images/capture-app-image240.png){ width=25%}

### Actionable Icons  { #capture_app_programs_common_features_actionable_icons }

This feature enables users to take action on phone numbers and email addresses directly from the app.  When tapping on the icons, the app will dial a phone number or open an email app copying the address from the event or enrollment data entry form.

![](resources/images/capture-app-image230.png){ width=25%}

### Customized Tracker Terminology { #capture_app_programs_common_features_customized_terminology }

In order to facilitate the terminology used in DHIS2, it has been decided to gradually enable the possibility to customize certain terms to each particular use case. In 3.0, the terms "event" (used in a program stage context) and "enrollment" are customizable.

To customize the terms, the admin can go to the Maintenance and when creating or editing the program add a text to:

  1. "Custom label for enrollment" in the Enrollment details section OR
  2. "Custom label for event" in the stage details section

![](resources/images/capture-app-image253.png){ width=25%}
![](resources/images/capture-app-image254.png){ width=25%}
![](resources/images/capture-app-image256.png){ width=25%}
![](resources/images/capture-app-image255.png){ width=25%}


## Event Programs specific features { #capture_app_programs_events }

### Event - TEI relationships { #event-tei-relationships } 

The app allows adding relationships from single events (in event programs) to TEIs. There is a new tab in the event screen, named relationships, that will be displayed only when this type of relationships are configured in the server for the specific program.

> **Note**
>
> The current version does not allow TEIs to event relationships, or using events that belong to an enrollment.

![](resources/images/capture-app-image175.png){ width=25%}

### Cards design { #capture_app_programs_common_features_cards_design }

The new design of cards offers a cleaner and more intuitive layout replacing the use of coloured icons by explicit text when relevant.

#### Main changes { #main-changes } 

**Sync button:** It now appears as a button at the bottom of the card and it is only displayed if there are unsynced data or an error or warning after a sync.

**Event status:** After an event program is completed, the app will add a label in each card to specify the status.

![](resources/images/capture-app-image236.png){ width=25%}

## Tracker Programs (program with registration) specific features { #capture_app_programs_tracker }

### Relationships in maps { #capture_app_programs_map_relationships }

In tracker programs, the user can see relationships on a map by tapping the map icon on the relationships tab.

* 在关系的方向上显示了一个箭头。
* 对于双向关系，箭头指向两侧。
* 每种关系类型显示不同的颜色。
* 如果一个或两个TEI都具有一个多边形作为坐标，则线从（和到）两个TEI的多边形中的最近点。

![](resources/images/capture-app-image132.png){ width=50%}

### TEI Dashboard (Improved 3.0) { #capture_app_programs_TEI_Dashboard }

The TEI Dashboard has been redesigned for both portrait and landscape view. The new design offers a cleaner and more intuitive layout replacing the use of coloured icons by explicit text when relevant and moving some secondar actions to the hidden menus.

#### Dashboard card { #dashboard-card } 

Main changes in 2.9:

**Edit registration form:** In previous versions, there was a button "Open TET details" at the bottom of the TEI dashboard card. Now, the button is located at the top bar of the screen with the label "Edit TET" (For example: Edit Patient)

**Follow-up:** In previous versions, there was an icon at the top right corner of the card to mark the TEI. Now, to mark for follow up, the user needs to tap the three dot menu and select the "Mark for follow-up" option.

**Card title** In previous versions, the title included the values of the first 3 tracked entity attributes marked as Display in List. Now, the tile of the card can bdisplay the first Tracked Entity Attribute marked as Display in list OR a customize text, called TEI header, using program indicators and the Android Settings web App.

More information [here](https://docs.dhis2.org/en/use/android-app/program-features.html#capture_app_programs_tei_header) on how to configure the TEI header.

**Tracked Entity Attributes:** From 2.9, the complete list of tracked entity attributes marked as Display in List will be display in the dashboard card. The first three will always be visible and if there are more, a show "more" button will appear to expand the list.

**Programs:** From 2.9, if the TEI is enrolled to more than one program, a list of the programs will be display and will also allow the user to tap on the label and navigate to full list of enrollments.

![](resources/images/capture-app-image248.png){ width=50%}

#### Program stages { #capture_app_programs_TEI_Dashboard_program_stages }

Main changes in 3.0:

**Event list:** fresh and more clean look of the list of events, with more space and less -not critical- information displayed.

**Timeline view:** the button for creating new events has been moved to the top.

![](resources/images/capture-app-image248.png){ width=50%}

#### Navigation panel { #navigation-panel } 

To simplify and personalize the user experience, the user interface actions offered to the user at the TEI dashboard will be tailored to the specific configuration of each  program.

* Relationships tab will not be visible if the program relationships are not configured
* "Create event" button will be hidden when the user cannot create more events based on tracker configuration.
* The Indicator tab will not be visible if the program has no program indicators configured.
* Organisation Unit filter will not be visible if the user has only one Organisation Unit configured.

#### Creating A Stage { #creating-a-stage } 

To create a new event, the user needs to tap on the plus icon on the stage card. This icon is always visible unless the stage is non-repeatable and already created.

When the user taps on the button, that program stage will unfold showing to the user all the already existing events of that particular program stage

![](resources/images/capture-app-image211.png){ width=50%}

If the user is creating a new stage and there is only one option based on the program configuration, the available program stage is selected automatically and program stage selection step is skipped.

#### Share a TEI  { #share-a-tei } 

The "Share" button has been removed from the TEI dashboard and the functionality to share a TEI through QR code has been relocated on the three vertical dot menu, at the top right corner of the screen.

![](resources/images/capture-app-image212.png){ width=50%}

### TEI卡设计 { #capture_app_programs_tei_design }

The TEI Card has been designed to display as much information as possible considering the constrains of screen size.

From 2.9 the card has been redesigned to offer a cleaner and more intuitive layout replacing the use of coloured icons by explicit text when relevant.

The main changes are:

**Card title** The tile of the card can be composed by the first Tracked Entity Attribute marked as Display in list or a customize text, called TEI header, using program indicators and the Android Settings web App. More information [here](https://docs.dhis2.org/en/use/android-app/program-features.html#capture_app_programs_tei_header) on how to configure the TEI header.

**Sync button:** It now appears as a button at the bottom of the card and it is only displayed if there are unsynced data or an error or warning after a sync.

**Enrollment status:** After a program is completed or cancelled, the app will add a label in each card to specify the status.

**Overdue events:** Is now displayed as a red label with the text: "Overdue" + date of the event

**Follow-up:** After a TEI is marked for follow-up, an orange label with the text "Marked for follow-up" is added to the card

![](resources/images/capture-app-image247.png){ width=50%}

### 完成/停用注册 { #capture_app_programs_complete_deactivate_enrollment }

To complete or deactivate an enrollment, click on three dot menu in the uppper right corner and select "Complete" or "Deactivate".

![](resources/images/capture-app-image76.jpg){ width=25%}

### Search Flow (Improved 3.0) { #capture_app_programs_search }

#### Configurable TEI Search { #capture_app_programs_configurable_search }

Searching TEIs before creating is not mandatory now. Using the Android Settings App (v2.2.0) it is possible to configure the mandatoriness of the TEI search before creating an enrollment. Follow the steps below to enable the creation of TEIs without searching:

  1. Open the Appearance menu in the Android Settings App
  2. In 'Program' add a Program Setting
  3. Select a tracker program
  4. Tick the "Allow the user to create a TEI without searching" checkbox
  5. 保存

If the feature is enabled, the Android App will display a "create new" button after opening a program and a search won't be required. If the feature is not enabled or the user is in a previous version of the app, a search must be performed to avoid possible duplicates. Once the search is performed the search button will become "Add" button for the user to create a new enrollment.

![](resources/images/capture-app-image281.png){ width=25%}

#### Search by unique QR/bar Codes (new 3.0) { #capture_app_programs_unique_qrBar_search }

In 3.0, the search form has been improved to provide a cleaner look and a more intuitive user experience. The buttons have been made more explicit for differencing search from creation. In addition the flow for searching TEIs using attributes rendered as bar / QR codes has been made more agile. If there is only one result and the attribute is unique, the app will open the TEI Dashboard directly. If there are multiple results, the app will display all the cards on the TEI list (this is equal to the current workflow), and if there are no results, the app will display the create button and allow the user to “search outside the program” if the configuration allows it.

#### Offline and Online Search { #capture_app_programs_offline_online_search }

To improve the response time in the search results, the Android App now searches offline first and displays the results while making an online search as a second step, transparent to the user.

Searching outside the program is offered as a second step when  the attributes used in the search contain at least one Tracked Entity Type (TET) attribute

#### 重置搜索字段 { #capture_app_programs_reset_search }

The search fields are used to look up for a specific entity, and the circled arrow to reset the search. All fields will be blank for the user to do a new search.

![](resources/images/capture-app-image79.png){ width=25%}

#### 所有跟踪实体类型的搜索屏幕 { #capture_app_programs_search_screen }

User can search across all programs by specific tracked entity type (TET). In the Search screen there is a drop down which shows all the programs available for the active TET (active TET is defined by the selection of the program in the home screen). That drop down should also have an option with TET name, for example: *All Person*.

When the user selects that option, the search fields available will only be the TET attributes (no program specific attributes). Search restrictions do not apply, because they belong to the programs.

![](resources/images/capture-app-image44.png){ width=25%}
![](resources/images/capture-app-image22.png){ width=25%}

搜索将在本地数据库中以及用户的搜索OU中返回找到的TEI（在用户在线时）。对于那些在网上找到的用户，用户将不得不选择它们，然后将下载整个记录。

> **注意**
>
>配置搜索组织时。单位，请确保您的捕获组织。单位包含在您的搜索组织中。单位，以捕获组织。必须选择单位以及搜索单位。单位。


### 跨计划的TEI仪表板 { #capture_app_programs_tei_dashboard }

如果搜索没有程序，则用户可以通过在列表中选择TEI来查看没有任何程序的TEI仪表板。

仪表板将显示活动注册的列表。

![](resources/images/capture-app-image22.png){ width=25%}
![](resources/images/capture-app-image38.png){ width=25%}

### TEI的注册历史和新注册 { #capture_app_programs_tei_history }

User can see the complete historical records of the TEI. Clicking on the upper right corner menu, select "Program Enrollments". A list of "Active enrollments" will be displayed, followed by a list of "Past enrollments" (completed or cancelled), followed by the programs in which the TEI could be enrolled.  User can also return to the "TEI Dashboard" without any program' by selecting "All enrollments".

![](resources/images/capture-app-image40.jpg){ width=25%}
![](resources/images/capture-app-image7.png){ width=25%}

### Delete TEI's & Enrollments (Improved 3.0) { #capture_app_programs_delete_tei }

To delete a TEI or an enrollment, select the desired option in the three dots menu of TEI dashboard.  Local TEI or Enrollment will be deleted from the database. Records that has been previously synced with the server will be marked for deletion if the user has the following authorities:

* F_ENROLLMENT_CASCADE_DELETE
* F_TEI_CASCADE_DELETE

In this case they will be shown in the TEI search list, but will not be accessible.

![](resources/images/capture-app-image86.jpg){ width=25%}

From 3.0, there is a confirmation message to reduce errors when tapping on the dele button.

![](resources/images/capture-app-image269.png){ width=25%}

> **Warning**
>
> When users enter a TEI and while it is not synced to the server they will be able to delete the TEI and the enrollment even if they have not been asigned these authorities. This is by design and to allow users rolling back in case of having entered wrong data (TEI and/or enrollment) and thus preventing it reaching the server and requiring another user with higher privileges to fix the issue.

### TEI仪表板中程序阶段的组视图 { #capture_app_programs_group_view }

The TEI Dashboard offers the possibility to change the list of events from the chronological view to a stage grouping view. The stage grouping view will group and collapse the events per program stage. Each program stage group can be expanded by the user and the events will be displayed chronologically.

![](resources/images/capture-app-image108.png){ width=25%}
![](resources/images/capture-app-image109.jpg){ width=25%}

### 继承价值 { #capture_app_programs_inherit_values }

在为关系创建新的TEI时，继承Web中标记有“继承”检查的任何程序属性。

这意味着第一个TEI中的任何现有属性都应传递给新TEI，并显示在注册表格中。

### 打破玻璃 { #capture_app_programs_breaking_the_glass }

The "breaking the glass" feature is now supported in DHIS2 Android Capture App. If the program is configured with an access level of "Protected" and a search is done outside the user scope, a dialog requesting a reason for access will be displayed for the user to temporarily override the ownership privilege of the proram. This means, the user will gain access to the program related data.

After the reason is written, the app will download the TEI and the dashboard will open. If the TEI being downloaded doesn't have an enrollment in the current program, an enrollment date and organisation unit will be asked.

![](resources/images/capture-app-image205.png){ width=25%}
![](resources/images/capture-app-image206.png){ width=25%}

### Analytic charts { #analytic-charts } 

It is possible to display the evolution in data elements as charts, values or tables. These data elements must be a numeric value type and configured in a repeatable stage.

1. Single value: It will display the newest value in the program.

![](resources/images/capture-app-image156.png){ width=25%}

2. Charts: It is possible to display the values as a line chart o as a bar chart.

![](resources/images/capture-app-image157.png){ width=25%}

The Nutrition Growth charts are shown according to the WHO standards.  This option will render a background image and apply the axis (0 to 5 monthly)according to the WHO model.

 ![](resources/images/capture-app-image159.png){ width=25%}

3. Tables: It will display the data elements or indicators in the rows and the periods in the columns.

![](resources/images/capture-app-image160.png){ width=25%}

### Referrals { #capture_app_programs_referrals }

when a user makes a permanent referral of a TEI, the ownership will be updated accordingly on the server.

From 2.9, admin users can now enable or disable the referrals in the DHIS2 Android Capture App through the [Android Settings WebApp](https://docs.dhis2.org/en/use/android-app/settings-configuration.html#capture_app_android_settings_webapp_appearance_program).

When users add events (tapping on the + icon) in a tracker program, the DHIS2 Android Capture App offers three options: Add (for new events), Schedule (for planning future events) and Refer (for referrals or transfers). IF the referral option is not needed, then the admin user can remove the option from the menu to simplify the user experience. The removal can be general (for all the programs) or for specific programs.

![](resources/images/capture-app-image233.png){ width=50%}

### [EXPERIMENTAL] TEI Header  { #capture_app_programs_tei_header }

The TEI Header is a title that can be added to the TEI cards and dashboards in the app. The title helps identify a TEI by displaying a summary of key information. It is formed by a concatenation of Tracked Entity Atributes and fixed text. The title is configured through a Program Indicator in the maintenance app and its assigned to the tracker program in the Android settings webapp. This feature is experimentan and depending on feedback and adoption it will be refined and incorporated in the Web Capture app.

> **Attention**
>
>  In the Maintenace app, text expressions aren't valid. Even though the error is display in the dialog, save the program indicator and assign it in the Android Settings Web App, the DHIS2 Android capture app will read the expression accordingly.

For more information on how to configure the TEI header, click [here.](https://docs.dhis2.org/en/use/android-app/settings-configuration.html#capture_app_android_settings_webapp_appearance_program)

![](resources/images/capture-app-image249.png){ width=50%}
![](resources/images/capture-app-image250.png){ width=50%}

## 支持的功能概述 { #capture_app_programs_supported_features }

The following is a comprehensive list of all features available for Programs with and without registration in DHIS2, and notes on whether or not these have been implemented in the Android Capture app.

在注释中，“管理员”是指开发和配置DHIS2系统的人员，“用户”是指使用应用程序捕获数据，更新数据并查看报告的人员。

|传说|描述|
|:--:|:------|
|![](/en/resources/images/admin/icon-complete.png)|功能已实现|
|![](/en/resources/images/admin/icon-incomplete.png)|Feature not implemented (will be ignored)|
|![](/en/resources/images/admin/icon-na.png)|不适用|
|![](/en/resources/images/admin/icon-wip.png)|工作正在进行中。该功能尚未完全实现，或者已经报告了异常行为。|

### 程序 { #capture_app_programs_supported_features_program }

|特征|功能说明|注册程序|无需注册的程序|实施注意事项|
|-|---|:-:|:-:|---|
|选项集的数据输入方法|允许管理员选择如何在整个程序中在屏幕上显示选项（即，作为下拉列表还是单选按钮）|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)|这将由新的渲染选项代替。|
|Combination of categories (Attribute CatCombo)|允许管理员将类别（选项集）附加到程序，要求用户对每个注册进行分类。 （在DHIS 2中，这称为属性类别组合。）|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据批准工作流程|If an admin selects a pre-configured Data Approval Workflow, this will be used to enforce an "approval" or "acceptance and approval" cascade, enabling users to sign-off and lock data.|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)||
|显示首页列表|If this option is ticked, the landing page displays a list of active enrolments once an Org Unit and Program have been chosen. (Attributes shown are those ticked as "display in list".)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|第一阶段出现在注册页面上|选择此选项后，在程序注册期间，还将显示第一个程序阶段的屏幕（注册和第一个事件在一个屏幕上同时捕获）。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)| 在Android中，这是通过在注册完成后自动打开事件来实现的，而不是将表单添加到同一屏幕上。|
|已完成活动的有效期限|使管理员能够在事件完成后的几天内锁定数据输入。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|到期期限类型+到期天数|使管理员可以设置时间段（例如每周，每月），并在该时间段结束后一定天数内锁定数据输入。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|允许将来的注册日期|如果选中，则使用户能够在程序注册期间输入将来的注册日期；否则，用户只能使用今天或过去的日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|允许将来的事件日期|如果选中，则使用户能够在注册程序时输入将来的事件日期；否则，用户只能使用今天或过去的日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|仅注册一次（每个跟踪的实体实例生存期）|如果选中，则防止TEI（例如，人）多次注册此计划。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|显示事件日期|如果选中，则将向用户显示注册日期和事件日期，以进行数据捕获。否则，仅显示/捕获注册日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|事故日期说明|允许管理员自定义事件日期使用的标签。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|入学日期说明|允许管理员自定义用于注册日期的标签。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|捕获坐标（注册）|使用户能够在注册该程序期间捕获地理坐标。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|捕捉多边形（注册） |使用户可以在注册该程序期间捕获位置（封闭区域）。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|TEI坐标 |使用户能够在程序注册期间捕获TEI的地理坐标。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|关系：创建和更新|使用户能够创建和更新关系。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|关系-添加亲戚的快捷链接|这使管理员可以为仪表板添加一个特定关系的链接，从而使用户可以直接创建链接的TEI（例如“儿童”患者）。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-na.png)||
|属性：显示在列表中|此设置确定是否可以在列表（例如搜索结果）中查看属性，以及是否可以在仪表板“配置文件”下显示的属性短列表中看到该属性。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)|将显示前三个属性|
|属性：强制|This enables an admin to mark an Attribute as "mandatory";, meaning the enrolment can"t be saved until a value is captured.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|属性：将来的日期|对于日期属性，这使管理员可以阻止或允许捕获将来的日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|注册表-默认|默认数据输入表单仅列出为TEI定义的所有属性。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|注册表-定制|这使管理员可以为注册表单定义自定义布局（使用HTML）。|--|![](/en/resources/images/admin/icon-na.png)|Android应用程序不支持自定义布局||
|计划通知|您可以设置自动通知，以通知何时进行程序注册或完成，或在事件或注册日期之前/之后的设定间隔。这些可以作为内部DHIS 2消息，电子邮件或SMS发送。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|接收到数据后，将在服务器端执行此功能。当应用程序离线工作时将无法使用。|
|激活/停用注册|停用TEI仪表板将导致TEI变为&ldquo;read-only&rdquo;。这意味着您无法输入数据，注册TEI或编辑TEI配置文件。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|仅当验证通过时才允许完成|选中此复选框可强制该程序创建的事件仅在通过所有验证规则后才完成。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)||
|组织单位的开/关日期|使管理员能够设置组织单位的开始和结束日期，从而阻止用户在这些日期之外添加或编辑事件。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据共享级别/可以捕获数据|使用户可以在程序中添加新事件，编辑数据和删除事件。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据共享级别/可以查看数据|使用户能够查看程序中的事件列表。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据共享级别/无访问权限|用户将无法看到该程序|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||


### 程序阶段 { #capture_app_programs_supported_features_program_stage }

|特征|功能说明|注册程序|无需注册的程序|实施注意事项|
|-|---|:-:|:-:|---|
|活动表格-默认|默认数据输入表单仅列出了属于程序注册的所有属性|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|活动表格-部分表格|分区表单可让您将现有表单拆分为多个细分|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|活动形式-自定义|将自定义事件表单定义为HTML页面。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)|Android应用程序不支持自定义布局。|
|程序阶段通知|您可以设置自动通知，以通知程序阶段何时完成，或在计划的事件日期之前/之后的设定间隔。这些可以作为内部DHIS 2消息，电子邮件或SMS消息发送。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)|接收到数据后，将在服务器端执行此功能。当应用程序离线工作时将无法使用。|
|可重复的|如果勾选了Repeatable，则可以在一个程序注册期间重复此阶段。如果t不是，那么该阶段只能在程序注册期间发生一次。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|可重复的|如果勾选了Repeatable，则可以在一个程序注册期间重复此阶段。如果t不是，那么该阶段只能在程序注册期间发生一次。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|可重复+标准间隔天数|系统将建议截止日期作为最后事件+标准间隔日期的计算。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|期间类型|使管理员可以在计划阶段为每个事件配置一组时间段（例如，几周或几个月），而不仅仅是日期。创建事件时，然后要求用户为他们在该程序阶段创建的每个新事件选择一个时间段（而不是日期）。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|自动产生事件|如果选中，则在注册后会根据“计划的开始日期”为该课程阶段生成一个“预订”。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|根据注册日期（不是事件日期）生成事件|选中它可以根据注册日期从该程序的程序阶段自动生成事件的到期日期。如果未选中，则基于事件日期生成截止日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|报名+报告日期后打开数据输入表格以使用|If selected, once an enrolment is complete, an event's data entry form should open directly afterwards.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|要求用户在阶段完成时完成程序| 如果选择，则在完成程序阶段后，应要求用户完成程序。 （如果同时勾选了“要求用户创建新事件”，则忽略此设置。）|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|阶段结束时要求用户创建新事件|如果选择，则在完成程序阶段后，系统会提示用户预订。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|隐藏截止日期|仅显示事件的实际日期，隐藏截止日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|捕获坐标（事件）/功能类型点|Enables the user to capture geographical coordinates when each event is created ![](/en/resources/images/admin/icon-incomplete.png) particularly useful in devices that have GPS (eg Android), as instead of having to type in coordinates, the user can automatically populate them with the press of a button.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|捕获多边形（事件）/要素类型-多边形 |创建每个事件时，使用户能够捕获位置（封闭区域）。多边形必须至少包含4个点。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|报告日期说明|Allows an admin to customize the label that is used for the event's date.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|必填数据元素|这使管理员可以将数据元素标记为“必选”，这意味着直到捕获值后才能保存事件。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据元素-允许在其他地方提供|在表单上，这会在所选数据元素旁边放置一个复选框，并使以前的数据能够被拉入数据元素。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-na.png)||
|数据元素-显示在报告中|在没有注册数据输入功能的情况下，将该数据元素的值显示到单个事件中。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据元素-将来的日期|对于日期数据元素，这使管理员可以阻止或允许捕获将来的日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据元素-作为无线电的渲染选项|允许管理员选择每个数据元素在屏幕上的显示方式（即下拉列表或单选按钮）。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)||
|填写完成后填写表格|禁止对事件完成后的所有编辑。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|活动评论|允许用户向事件添加整体注释。这些评论是累积性的（新评论会添加到现有评论下方）。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-na.png)||

### 注册程序：跟踪实体仪表板 { #capture_app_programs_supported_features_program_with_reg }

|特征|功能说明|状态|实施注意事项|
|-|---|:-:|---|
|讯息传递|使用户能够通过SMS或电子邮件向TEI（例如患者）发送临时的自由文本消息。|![](/en/resources/images/admin/icon-incomplete.png)||
|标记为要跟进（带有感叹号三角形的按钮）|使用户可以将TEI（例如患者）标记为需要跟进。|![](/en/resources/images/admin/icon-complete.png)||
|显示TEI审核历史记录|使用户能够查看此TEI（例如患者）对属性的所有编辑的历史记录。|--||
|内联程序指示器|如果选中了程序指示符“在窗体中显示”框，则该指示符将显示在Tracker Capture仪表板上，并在发生数据捕捉时实时更新。|![](/en/resources/images/admin/icon-complete.png)||
|删除活动|使用户能够删除事件。|![](/en/resources/images/admin/icon-complete.png)||
|安排活动|在事件生成对话框中，用户还应该看到安排事件的选项。该过程类似于创建事件，但是在安排事件之后，用户将被发送回TEI仪表板。|![](/en/resources/images/admin/icon-complete.png)||
|转诊病人|在事件生成对话框中，用户还应该看到推荐病人的选项。该过程类似于创建/安排事件，但是用户可以更改组织单位，并且必须指定是一次性还是永久转介。一次只会在指定的OU中创建事件。|![](/en/resources/images/admin/icon-complete.png)||
|重置搜索字段|用户可以通过按搜索屏幕右上角的圆形箭头图标来清理搜索字段。|![](/en/resources/images/admin/icon-complete.png)||
|所有TE类型的搜索屏幕|用户能够搜索一种跟踪实体类型（TET）的所有程序。在“搜索”屏幕中，有一个下拉列表，显示了可用于活动TET的所有程序（活动TET由在主屏幕中选择的程序定义）。该下拉列表还应该带有一个带有TET名称的选项。 （我们服务器中的人员）。当用户选择该选项时，可用的搜索字段将仅是TET属性（没有程序特定的属性）。所有搜索限制均不适用，因为它们属于程序。|![](/en/resources/images/admin/icon-complete.png)||
|TEI仪表盘，无程序|如果搜索没有程序，则用户可以通过在列表中选择TEI来查看没有任何程序的TEI仪表板。仪表板将在详细信息卡中显示TET属性，然后是活动注册的列表。|![](/en/resources/images/admin/icon-complete.png)||
|TEI的注册历史和新注册|用户可以查看TEI的完整历史记录。通过单击右上角的图标，他们将看到有效注册的列表，然后是过去注册的列表（已完成或已取消），然后是可以注册TEI的程序。用户应该能够从列表导航到不同的注册。|![](/en/resources/images/admin/icon-complete.png)||
|访问级别-打破玻璃|如果该程序配置了受访问级别保护的用户，并且用户搜索并找到了该组织单元拥有的跟踪实体实例，而该组织单位对该用户没有数据捕获权限，则该用户可以选择打破常规。用户将找到打破玻璃的原因，然后获得被跟踪实体实例的临时所有权。|![](/en/resources/images/admin/icon-incomplete.png)||

### 无需注册的程序：单事件程序 { #capture_app_programs_supported_features_program_without_reg }

|特征|功能说明|状态|实施注意事项|
|-|---|:-:|---|
|活动列表（网格）|选定程序后将显示的现有事件列表。|![](/en/resources/images/admin/icon-complete.png)||
|在网格中排序和过滤事件|允许用户对列出的事件进行排序，或者根据关键字或日期/数字的特定范围过滤事件。|![](/en/resources/images/admin/icon-complete.png)|事件按时间顺序排序。用户可以按期间和组织单位进行过滤。|
|编辑网格中的事件|允许用户直接编辑事件列表/网格中显示的数据元素。|![](/en/resources/images/admin/icon-incomplete.png)||
|查看事件审核历史记录|Enables the user to see a history of all changes to the event's data elements.|![](/en/resources/images/admin/icon-incomplete.png)||
|显示/隐藏列（在事件列表/网格中）|使用户能够修改事件列表/网格中显示的数据元素（仅适用于该用户）。|![](/en/resources/images/admin/icon-incomplete.png)||
|现场完成率|首次注册后打开的事件的右上角显示了每个事件中完成的数据百分比。百分比应适合表格中程序规则的效果。|![](/en/resources/images/admin/icon-complete.png)|完成百分比未考虑表单中不受支持的值类型。|
|删除活动|使用户能够删除事件。|![](/en/resources/images/admin/icon-complete.png)||

