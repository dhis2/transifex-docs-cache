---
edit_url: "https://github.com/dhis2/dhis2-android-docs/blob/main/content/capture-app/programs-features.md"
revision_date: '2024-05-27'
tags:
- 用
---

# 程式 { #capture_app_programs }

## 事件和跟踪器的共同特点{ #capture_app_common_features }

### 导航栏{ #navigation-bar } 

使用底部导航栏从一个屏幕移动到另一个屏幕。

#### 活动仪表板{ #event-dashboard } 

在输入事件信息时，用户可在底部导航栏中进行选择：

1. 详细信息
2. 数据输入
3. 分析（如有）
4. 笔记

![](resources/images/capture-app-image141.jpg){ width=25%}

#### TEI 仪表板{ #tei-dashboard } 

在 TEI 仪表板中，用户可以在底部导航栏中进行选择：

1. 详细信息
2. 分析（如有）
3. 人际关系
4. 笔记

![](resources/images/capture-app-image142.jpg){ width=25%}

#### 活动和跟踪程序的活动列表{ #event-listing-for-event-and-tracker-programs } 

如果事件程序或跟踪器程序已经定义了坐标，还可以通过底部导航栏切换可视化模式。有关地图视图的更多信息，请参阅下面的具体章节。

  1. 列表视图
  2. 查看地图

![](resources/images/capture-app-image143.jpg){ width=25%}
![](resources/images/capture-app-image144.jpg){ width=25%}

### 数据输入流程{ #capture_app_common_features_Data_flow }

#### 创建/编辑事件（改进 3.0）{ #capture_app_common_features_newEdit_event }

在创建事件或注册时，有许多字段不是数据元素或属性，例如事件日期、组织单位、坐标、注册日期、类别组合。 

这些元素被称为事件/注册详细信息，在以前的版本中，它们显示在不同的屏幕中，与数据元素或属性分开。从 3.0 开始，详细信息显示在表单内部，作为第一个打开的供填写的部分。填写完成后，例如当用户重新打开事件或注册表单时，详细信息部分将显示出来，方便用户使用，但会折叠起来，以便为数据收集留出更多空间。

![](resources/images/capture-app-image284.png){ width=25%}
![](resources/images/capture-app-image285.png){ width=25%}
![](resources/images/capture-app-image286.png){ width=25%}

#### 完成/重新开放活动{ #capture_app_common_features_complete_reopen }

在事件程序或跟踪程序中添加事件时，用户应填写信息并向下滚动，使右下角出现*保存*图标。

![](resources/images/capture-app-image37.jpg){ width=25%}
![](resources/images/capture-app-image74.png){ width=25%}

点击 "保存 "按钮后，如果表单不包含任何错误、警告或空的必填字段，程序会询问用户是否要完成表单。用户有两种选择：

1. 现在不行"：应用程序保存表单并返回事件列表屏幕（或跟踪程序的 TEI 面板）。事件状态将保持打开。
2. 完成"：应用程序保存表单并返回事件列表。事件状态变为 "已完成"。

![](resources/images/capture-app-image201.png){ width=25%}

> **Note**
>
> To verify if an event is completed look at the icon, it must be a green checked box.
>

> **Note**
>
> If the event is non-editable, the app will hide the 'save' button
>

要重新打开事件，应用程序现在会在 "详细信息 "屏幕中显示 "重新打开表单 "按钮。只有当用户拥有重新打开已完成事件的正确权限（"未完成事件"）时，该按钮才可用。

![](resources/images/capture-app-image202.png){ width=25%}

#### 完成后的时间表（改进 3.0）{ #capture_app_programs_common_features_schedule_after_completion }

在 3.0 中，完成后的日程对话框已重新调整，以方便创建事件。

![](resources/images/capture-app-image270.png){ width=25%}

#### 放弃更改{ #capture_app_programs_common_features_discard_changes }

在注册或活动表单中点击返回箭头，现在可提供两个选项：

1. 丢弃更改"，允许用户将字段恢复到以前的值，或者、
2. 审查 "保留在表格中并更新字段。

如果用户参加了新的注册或活动，选项允许用户

1. 放弃更改"：不创建注册或事件，或、
2. 继续编辑"：允许用户完成注册或事件。

![](resources/images/capture-app-image203.png){ width=25%}

#### 实地完成率{ #capture_app_programs_common_features_field_percentage }

首次注册后打开的事件的右上角显示了每个事件中完成的数据百分比。

![](resources/images/capture-app-image80.png){ width=25%}

> **注**
>
> 可以使用 [#capture_app_android_settings_webapp_appearance_program]（安卓设置 WebApp）设置是否显示百分比。

#### 章节导航{ #capture_app_programs_common_features_sections_nav }

这些部分可以折叠，以简化用户体验。  此外，还支持注册表单中的版块，并与活动版块的设计保持一致。

![](resources/images/capture-app-image115.png){ width=25%}
![](resources/images/capture-app-image116.png){ width=25%}

#### 错误信息{ #capture_app_programs_common_features_errors }

当用户尝试完成事件或注册时，应用程序会列出缺少的必填字段的名称。包含缺失字段的部分将突出显示，以帮助用户找到缺失的字段。

![](resources/images/capture-app-image117.png){ width=25%}

点击 "保存 "按钮后，应用程序将显示两个选项：

1. 现在不是"：允许用户以 "打开 "状态保存表单，或
2. 审查"：应用程序将保留在表单中，供用户填写空的必填字段。

错误和警告也会以指示器的形式显示在部分名称旁边，包括每个部分的错误数量。当用户尝试保存表单时，将显示有错误/警告的字段列表。

![](resources/images/capture-app-image145.png){ width=25%}

点击 "保存 "按钮后，应用程序将显示两个选项：

**警告**

1. 现在不是"：允许用户以 "打开 "状态保存表单，或
2. 完成"：保存表单并将其状态更改为 "完成

**错误**

1. 现在不是"：允许用户以 "打开 "状态保存表单，或
2. 审查"：应用程序将保留在表单中，供用户查看有错误的字段

如果同时存在错误、警告和缺少必填字段，应用程序将只显示 "现在不行 "和 "审核 "选项。


### 活动说明{ #capture_app_programs_common_features_event_notes }

可以在单个事件程序和程序阶段事件中为事件添加注释。在数据输入表单的新选项卡中提供了注释。

![](resources/images/capture-app-image106.png){ width=25%}
![](resources/images/capture-app-image107.jpg){ width=25%}

### 地图{ #capture_app_programs_common_features_maps }

#### 地图图层（改进版 3.0）{ #map-layers-improved-30 } 

在显示地图时，点击右上角的特定按钮可以显示不同的图层。用户可以选择显示一个或多个图层。坐标和多边形类型都会显示。图层取决于程序类型，如下所述：

- 显示事件（对于未注册的节目）
- 卫星检视
- TEI坐标（在注册的程序中默认为）
- 入学坐标（仅适用于已注册的课程）
- 程序阶段坐标（仅适用于已注册的程序）
- 关系（仅针对注册程序）
- 热图（仅适用于已注册的程序）
- 跟踪实体属性（坐标值类型 - 仅适用于有注册的计划）
- 数据元素（坐标值类型）

![](resources/images/capture-app-image125.png){ width=25%}
![](resources/images/capture-app-image136.png){ width=25%}

自 3.0 版起，安卓应用程序还支持自定义地图图层。在[维护应用程序](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-240/configuring-the-system/metadata.html#manage_external_maplayer)中配置的这些自定义图层将被下载并作为默认图层的附加图层显示。
![](resources/images/capture-app-image263.png){ width=25%}
![](resources/images/capture-app-image262.png){ width=25%}

#### 地图旋转木马{ #capture_app_programs_common_features_map_carousel }

在程序的地图视图上，会显示一个卡片旋转木马，每个注册的 TEI（跟踪程序）或事件（事件程序）都有一个卡片。

* 轮播上的TEI卡采用与TEI列表视图相同的设计。
* 水平滚动轮播时，地图会放大到所选坐标。如果坐标字段为空，则会显示一条消息。

![](resources/images/capture-app-image126.png){ width=25%} 
![](resources/images/capture-app-image133.png){ width=25%}

每张卡片都显示配置为 "在列表中显示 "的跟踪实体属性（用于跟踪程序）和数据元素（用于事件程序）。

![](resources/images/capture-app-image147.png){ width=25%}

#### 地图中显示的当前位置{ #current-location-displayed-in-maps } 

如果用户已向应用程序授予定位权限，地图将以蓝色圆点显示当前位置。DHIS2 Android Capture 应用程序中的地图可将地图居中显示用户位置。

![](resources/images/capture-app-image148.png){ width=25%}

#### 导航至特定位置{ #navigation-to-specific-location } 

如果 TEI 或事件有坐标，卡片右上方会显示一个导航图标。单击可在设备中配置的默认地图应用程序中打开该位置。

![](resources/images/capture-app-image149.png){ width=25%}
![](resources/images/capture-app-image150.png){ width=25%}
![](resources/images/capture-app-image151.jpg){ width=25%}

### 工作列表{ #capture_app_programs_common_features_working_lists }

工作列表可在事件和跟踪程序中使用，一旦选择了列表，筛选器就会被阻止，在用户重新设置搜索之前不允许更改。

安卓应用程序支持新的跟踪器工作列表，允许用户按数据元素进行筛选。工作列表需要使用网络捕获应用程序在网络中配置。Android 应用程序将下载在服务器端配置和保存的工作列表。

在 2.9 版中，工作列表已从筛选器部分移至主程序屏幕。在早期版本中，用户必须打开筛选器才能看到和选择工作列表，而在此版本中，工作列表始终显示在搜索栏下，便于用户选择用于筛选跟踪实体实例。

![](resources/images/capture-app-image251.png){ width=25%}

### 计划指标 { #program-indicators } 

分析选项卡支持在反馈或指标部分显示文本和键值/值对。

![](resources/images/capture-app-image154.png){ width=25%}

### 传奇{ #legends } 

可以为数据元素指定图例，图例将以相应的颜色和标签显示在值的旁边。

![](resources/images/capture-app-image155.png){ width=25%}

### 数据输入表{ #capture_app_programs_common_features_data_entry_form }

#### 提示信息{ #hint-messages } 

输入字段将显示提示信息 "在此输入值"，直到用户输入值为止。

![](resources/images/capture-app-image209.png){ width=25%}

#### 导航按钮{ #navigation-button } 

在具有多个部分的表单中，应用程序会在每个部分的末尾添加一个 "下一步 "按钮，以提醒用户采取行动。该按钮的功能是关闭当前部分并打开新的部分。

![](resources/images/capture-app-image210.png){ width=25%}

#### 计划阶段部分说明{ #capture_app_programs_common_features_data_entry_form_program_stage_description }

为了在收集数据时提供更多的背景和信息，现在用户界面上增加了说明，并将显示在部分名称下方。说明将始终可见，但如果文本过长（超过 3 行），应用程序将添加一个省略号和一个显示更多/更少的按钮来展开或折叠。

![](resources/images/capture-app-image243.png){ width=25%}
![](resources/images/capture-app-image244.png){ width=25%}

#### 启用/禁用表单中的可折叠部分{ #capture_app_programs_common_features_data_entry_form_collapsible_sections }

Android 应用程序中的阶段部分通过可折叠菜单显示，用户可以一次打开一个部分。这种类似手风琴的实现方式旨在帮助用户浏览很长的表单，但有些实现方式更倾向于一个接一个地列出各部分。 

新版应用程序可让管理员决定是否以扩展模式显示版块。该配置通过[安卓设置网络应用程序](https://docs.dhis2.org/en/use/android-app/settings-configuration.html#capture_app_android_settings_webapp_appearance_program_specific)进行，将一个接一个地显示章节，并以章节名称作为分隔符。在扩展模式下，每个部分末尾的 "下一步 "按钮将被移除。

![](resources/images/capture-app-image241.png){ width=25%}

#### 各值类型的新输入{ #capture_app_programs_common_features_data_entry_form_new_inputs }

重新设计了所有值类型的输入。增加了可点击区域和文本，改进了选择模式，以提供更简洁、更直观的用户体验。默认情况下，安卓应用程序将显示当前表单。管理员用户可以通过 [Android 设置 WebApp]() 选择使用新表单。

![](resources/images/capture-app-image238.png){ width=25%}
![](resources/images/capture-app-image239.png){ width=25%}
![](resources/images/capture-app-image240.png){ width=25%}

### 可操作图标 { #capture_app_programs_common_features_actionable_icons }

该功能可让用户直接从应用程序中对电话号码和电子邮件地址采取行动。  点击图标后，应用程序将拨打电话号码或打开电子邮件应用程序，复制事件或注册数据输入表中的地址。

![](resources/images/capture-app-image230.png){ width=25%}

### 定制跟踪器术语{ #capture_app_programs_common_features_customized_terminology }

为了便于在 DHIS2 中使用术语，已决定逐步允许根据每个特定用例定制某些术语。在 3.0 中，术语 "事件"（用于计划阶段）和 "注册 "是可定制的。

要自定义条款，管理员可以进入维护页面，在创建或编辑程序时添加文本：

  1. 注册详细信息部分中的 "注册自定义标签 "或
  2. "舞台细节部分中的 "活动自定义标签

![](resources/images/capture-app-image253.png){ width=25%}
![](resources/images/capture-app-image254.png){ width=25%}
![](resources/images/capture-app-image256.png){ width=25%}
![](resources/images/capture-app-image255.png){ width=25%}


## 活动计划的具体功能{ #capture_app_programs_events }

### 活动 - TEI 关系{ #event-tei-relationships } 

该应用程序允许将单个事件（在事件程序中）的关系添加到 TEI。事件界面中有一个名为 "关系 "的新选项卡，只有当服务器为特定程序配置了此类关系时才会显示。

> **注**
>
> 当前版本不允许 TEI 与事件建立关系，也不允许使用属于注册的事件。

![](resources/images/capture-app-image175.png){ width=25%}

### 卡片设计{ #capture_app_programs_common_features_cards_design }

新设计的卡片布局更简洁、更直观，在相关情况下以明确的文字取代彩色图标。

#### 主要变化{ #main-changes } 

**同步按钮：** 它现在以按钮形式出现在卡片底部，只有在同步后出现未同步数据或错误或警告时才会显示。

**活动状态：** 活动程序完成后，应用程序会在每张卡片上添加一个标签，注明活动状态。

![](resources/images/capture-app-image236.png){ width=25%}

## 跟踪程序（带有注册功能的程序）的具体功能{ #capture_app_programs_tracker }

### 地图中的关系{ #capture_app_programs_map_relationships }

在跟踪程序中，用户可以通过点击关系选项卡上的地图图标，在地图上查看关系。

* 在关系的方向上显示了一个箭头。
* 对于双向关系，箭头指向两侧。
* 每种关系类型显示不同的颜色。
* 如果一个或两个TEI都具有一个多边形作为坐标，则线从（和到）两个TEI的多边形中的最近点。

![](resources/images/capture-app-image132.png){ width=50%}

### TEI 仪表板（改进版 3.0）{ #capture_app_programs_TEI_Dashboard }

TEI 控制面板已针对纵向和横向视图进行了重新设计。新设计提供了更简洁、更直观的布局，在相关情况下以明确的文字取代了彩色图标，并将一些辅助操作移至隐藏菜单。

#### 仪表板卡{ #dashboard-card } 

2.9 中的主要更改：

**编辑登记表：** 在以前的版本中，TEI 面板卡底部有一个 "打开 TET 详情 "按钮。现在，该按钮位于屏幕顶栏，标签为 "编辑 TET"（例如：编辑病人）。

**跟进：** 在以前的版本中，卡片右上角有一个图标用于标记 TEI。现在，要标记以便跟进，用户需要点击三点菜单，然后选择 "标记以便跟进 "选项。

**卡片标题** 在以前的版本中，标题包括标记为 "在列表中显示 "的前 3 个跟踪实体属性的值。现在，卡片的磁贴可以显示标记为 "在列表中显示 "的第一个跟踪实体属性，或使用程序指示器和安卓设置网络应用程序自定义文本（称为 TEI 标头）。

关于如何配置 TEI 标头的更多信息[此处](https://docs.dhis2.org/en/use/android-app/program-features.html#capture_app_programs_tei_header)。

**跟踪实体属性：** 从 2.9 版开始，仪表板卡片中将显示标记为 "在列表中显示 "的跟踪实体属性的完整列表。前三个属性始终可见，如果有更多属性，则会显示 "更多 "按钮以扩展列表。

**程序：** 从 2.9 版开始，如果 TEI 注册了一个以上的程序，则会显示程序列表，用户还可以点击标签，浏览全部注册列表。

![](resources/images/capture-app-image248.png){ width=50%}

#### 计划阶段{ #capture_app_programs_TEI_Dashboard_program_stages }

3.0 中的主要变化

**事件列表：** 事件列表的外观更加清爽整洁，空间更大，显示的非关键信息更少。

**时间线视图：** 创建新事件的按钮已移到顶部。

![](resources/images/capture-app-image248.png){ width=50%}

#### 导航面板{ #navigation-panel } 

为了简化用户体验并使之个性化，技术教育指标（TEI）仪表板为用户提供的用户界面操作将根据每个程序的具体配置进行定制。

* 如果未配置程序关系，则 "关系 "选项卡将不可见
* 当用户无法根据跟踪器配置创建更多事件时，"创建事件 "按钮将被隐藏。
* 如果程序未配置程序指示器，则指示器选项卡将不可见。
* 如果用户只配置了一个组织单位，则组织单位过滤器将不可见。

#### 创建舞台{ #creating-a-stage } 

要创建新活动，用户需要点击舞台卡上的加号图标。除非舞台不可重复且已创建，否则该图标始终可见。

当用户点击按钮时，该程序阶段将展开，向用户显示该程序阶段的所有已有事件

![](resources/images/capture-app-image211.png){ width=50%}

如果用户要创建一个新阶段，而根据程序配置只有一个选项，则会自动选择可用的程序阶段，并跳过程序阶段选择步骤。

#### 共享 TEI{ #share-a-tei } 

删除了 TEI 面板上的 "共享 "按钮，并将通过二维码共享 TEI 的功能移至屏幕右上角的三竖点菜单上。

![](resources/images/capture-app-image212.png){ width=50%}

### TEI卡设计 { #capture_app_programs_tei_design }

TEI 卡的设计考虑到屏幕尺寸的限制，尽可能多地显示信息。

从 2.9 版开始，该卡经过重新设计，布局更加简洁直观，在相关情况下用明确的文字取代了彩色图标。

主要变化有

**卡片标题** 卡片的磁贴可由标记为 "在列表中显示 "的第一个跟踪实体属性或自定义文本（称为 TEI 标头）组成，使用程序指示符和安卓设置网络应用程序。有关如何配置 TEI 标头的更多信息 [此处](https://docs.dhis2.org/en/use/android-app/program-features.html#capture_app_programs_tei_header)。

**同步按钮：** 它现在以按钮形式出现在卡片底部，只有在同步后出现未同步数据或错误或警告时才会显示。

**注册状态：** 完成或取消计划后，应用程序会在每张卡片上添加一个标签，注明状态。

**逾期事件：** 现在显示为红色标签，并带有文本："逾期 "+事件日期

**后续行动：** 在标记一个技术教育指标（TEI）以进行后续行动后，卡片上会添加一个橙色标签，上面写着 "标记为后续行动"。

![](resources/images/capture-app-image247.png){ width=50%}

### 完成/停用注册 { #capture_app_programs_complete_deactivate_enrollment }

要完成或停用注册，请单击右上角的三点菜单，选择 "完成 "或 "停用"。

![](resources/images/capture-app-image76.jpg){ width=25%}

### 搜索流程（改进版 3.0）{ #capture_app_programs_search }

#### 可配置的 TEI 搜索{ #capture_app_programs_configurable_search }

创建前搜索 TEI 现在不是强制性的。使用安卓设置应用程序（v2.2.0）可以配置创建注册前搜索 TEI 的强制性。请按照以下步骤启用无需搜索即可创建 TEI 的功能：

  1. 在安卓设置应用中打开外观菜单
  2. 在 "程序 "中添加一个程序设置
  3. 选择追踪程序
  4. 勾选 "允许用户在不进行搜索的情况下创建 TEI "复选框
  5. 保存

如果启用了该功能，Android 应用程序将在打开程序后显示 "创建新程序 "按钮，无需搜索。如果未启用该功能或用户使用的是旧版本的应用程序，则必须进行搜索，以避免可能出现的重复。搜索完成后，搜索按钮将变为 "添加 "按钮，供用户创建新注册。

![](resources/images/capture-app-image281.png){ width=25%}

#### 通过独特的 QR/条形码进行搜索（新 3.0）{ #capture_app_programs_unique_qrBar_search }

在 3.0 中，搜索表单得到了改进，外观更简洁，用户体验更直观。按钮更加明确，以区分搜索和创建。此外，使用呈现为条形码/二维码的属性搜索 TEI 的流程也变得更加灵活。如果只有一个结果且属性是唯一的，应用程序将直接打开 TEI 控制面板。如果有多个结果，应用程序将显示 TEI 列表中的所有卡片（这等同于当前的工作流程）；如果没有结果，应用程序将显示创建按钮，并允许用户在配置允许的情况下 "在程序外搜索"。

#### 离线和在线搜索{ #capture_app_programs_offline_online_search }

为了缩短搜索结果的响应时间，Android 应用程序现在首先进行离线搜索，并在第二步进行在线搜索时显示搜索结果，这对用户是透明的。

当搜索中使用的属性包含至少一个跟踪实体类型 (TET) 属性时，可作为第二步在程序外进行搜索

#### 重置搜索字段 { #capture_app_programs_reset_search }

搜索字段用于查找特定实体，带圈箭头用于重置搜索。用户重新搜索时，所有字段均为空白。

![](resources/images/capture-app-image79.png){ width=25%}

#### 所有跟踪实体类型的搜索屏幕 { #capture_app_programs_search_screen }

User can search across all programs by specific tracked entity type (TET). In the Search screen there is a drop down which shows all the programs available for the active TET (active TET is defined by the selection of the program in the home screen). That drop down should also have an option with TET name, for example: *All Person*.

当用户选择该选项时，可用的搜索字段将只有 TET 属性（没有程序特定属性）。搜索限制不适用，因为它们属于程序。

![](resources/images/capture-app-image44.png){ width=25%}
![](resources/images/capture-app-image22.png){ width=25%}

搜索将在本地数据库中以及用户的搜索OU中返回找到的TEI（在用户在线时）。对于那些在网上找到的用户，用户将不得不选择它们，然后将下载整个记录。

> **注意**
>
>配置搜索组织时。单位，请确保您的捕获组织。单位包含在您的搜索组织中。单位，以捕获组织。必须选择单位以及搜索单位。单位。


### 跨计划的TEI仪表板 { #capture_app_programs_tei_dashboard }

如果搜索没有程序，则用户可以通过在列表中选择TEI来查看没有任何程序的TEI仪表板。

仪表板将显示活动注册的列表。

![](resources/images/capture-app-image22.png){ width=25%}
![](resources/images/capture-app-image38.png){ width=25%}

### TEI的注册历史和新注册 { #capture_app_programs_tei_history }

用户可以查看技术教育指标（TEI）的完整历史记录。点击右上角菜单，选择 "计划注册"。将显示 "有效注册 "列表，接着是 "过去注册 "列表（已完成或已取消），然后是技术教育经费核实小组（TEI）可以注册的项目。  用户也可以通过选择 "所有注册 "返回到没有任何项目的 "技经评估小组仪表板"。

![](resources/images/capture-app-image40.jpg){ width=25%}
![](resources/images/capture-app-image7.png){ width=25%}

### 删除 TEI 和注册（改进 3.0）{ #capture_app_programs_delete_tei }

要删除 TEI 或注册，请在 TEI 面板的三点菜单中选择所需的选项。  本地 TEI 或注册将从数据库中删除。如果用户具有以下权限，之前与服务器同步的记录将被标记为删除：

* f_enrollment_cascade_delete
* f_tei_cascade_delete

在这种情况下，它们将显示在 TEI 搜索列表中，但无法访问。

![](resources/images/capture-app-image86.jpg){ width=25%}

从 3.0 版开始，点击删除按钮时会出现确认信息，以减少错误。

![](resources/images/capture-app-image269.png){ width=25%}

> **警告**
>
> 当用户输入 TEI 时，即使他们没有被授予这些权限，他们也可以删除 TEI 和注册信息。这样做的目的是允许用户在输入错误数据（TEI 和/或注册）时进行回滚，从而防止数据到达服务器，并需要另一个具有更高权限的用户来解决问题。

### TEI仪表板中程序阶段的组视图 { #capture_app_programs_group_view }

TEI 控制面板提供了将事件列表从时间顺序视图更改为阶段分组视图的可能性。阶段分组视图将对每个计划阶段的事件进行分组和折叠。用户可以展开每个计划阶段组，事件将按时间顺序显示。

![](resources/images/capture-app-image108.png){ width=25%}
![](resources/images/capture-app-image109.jpg){ width=25%}

### 继承价值 { #capture_app_programs_inherit_values }

在为关系创建新的TEI时，继承Web中标记有“继承”检查的任何程序属性。

这意味着第一个TEI中的任何现有属性都应传递给新TEI，并显示在注册表格中。

### 打破玻璃 { #capture_app_programs_breaking_the_glass }

DHIS2 Android 捕捉应用程序现在支持 "打破玻璃 "功能。如果程序的访问级别配置为 "受保护"，并且在用户范围之外进行搜索，则会显示一个对话框，要求用户提供访问理由，以便临时覆盖程序的所有权权限。这意味着用户可以访问与程序相关的数据。

写入原因后，应用程序将下载 TEI 并打开仪表板。如果下载的 TEI 在当前项目中没有注册，则会询问注册日期和组织单位。

![](resources/images/capture-app-image205.png){ width=25%}
![](resources/images/capture-app-image206.png){ width=25%}

### 分析图表{ #analytic-charts } 

可以图表、数值或表格的形式显示数据元素的变化情况。这些数据元素必须是数值类型，并配置为可重复阶段。

1. 单值：它将显示程序中的最新值。

![](resources/images/capture-app-image156.png){ width=25%}

2. 图表：可将数值显示为折线图或条形图。

![](resources/images/capture-app-image157.png){ width=25%}

营养成长图表根据世界卫生组织标准显示。  该选项将渲染背景图片，并根据世界卫生组织的模式应用坐标轴（每月 0 至 5）。

![](resources/images/capture-app-image159.png){ width=25%}

3. 表格：它将在行中显示数据元素或指标，在列中显示期间。

![](resources/images/capture-app-image160.png){ width=25%}

### 转介{ #capture_app_programs_referrals }

当用户永久转介一个 TEI 时，服务器上的所有权将相应更新。

从 2.9 版开始，管理员用户现在可以通过[Android 设置 WebApp](https://docs.dhis2.org/en/use/android-app/settings-configuration.html#capture_app_android_settings_webapp_appearance_program)在 DHIS2 Android 捕捉应用程序中启用或禁用转介功能。

当用户在跟踪程序中添加事件（点击 + 图标）时，DHIS2 安卓捕捉应用程序会提供三个选项：添加（用于新事件）、日程（用于规划未来事件）和推荐（用于推荐或转移）。如果不需要转介选项，管理员用户可以从菜单中删除该选项，以简化用户体验。移除选项可以是一般性的（针对所有计划），也可以是针对特定计划的。

![](resources/images/capture-app-image233.png){ width=50%}

### [实验] TEI 标头 { #capture_app_programs_tei_header }

TEI 标题是可以添加到应用程序中 TEI 卡和仪表板的标题。标题通过显示关键信息的摘要来帮助识别 TEI。它由跟踪实体属性和固定文本连接而成。标题通过维护应用程序中的程序指示器进行配置，并在安卓设置网络应用程序中分配给跟踪程序。该功能是试验性的，将根据反馈和采用情况加以改进，并纳入网络捕获应用程序。

> **注意**
>
> 在维护应用程序中，文本表达式无效。即使对话框中显示了错误，也请保存程序指示符并在 Android 设置 Web 应用程序中分配它，DHIS2 Android 捕捉应用程序会相应地读取表达式。

有关如何配置 TEI 标头的详细信息，请单击 [此处。](https://docs.dhis2.org/en/use/android-app/settings-configuration.html#capture_app_android_settings_webapp_appearance_program)

![](resources/images/capture-app-image249.png){ width=50%}
![](resources/images/capture-app-image250.png){ width=50%}

## 支持的功能概述 { #capture_app_programs_supported_features }

下面列出了 DHIS2 中注册和未注册程序的所有可用功能，并说明了这些功能是否已在 Android 捕捉应用程序中实现。

在注释中，“管理员”是指开发和配置DHIS2系统的人员，“用户”是指使用应用程序捕获数据，更新数据并查看报告的人员。

|传说|描述|
|:--:|:------|
|![](/en/resources/images/admin/icon-complete.png)|功能已实现|
|![](/en/resources/images/admin/icon-incomplete.png)|未实施的功能（将被忽略）|
|![](/en/resources/images/admin/icon-na.png)|不适用|
|![](/en/resources/images/admin/icon-wip.png)|工作正在进行中。该功能尚未完全实现，或者已经报告了异常行为。|

### 程序 { #capture_app_programs_supported_features_program }

|特征|功能说明|注册程序|无需注册的程序|实施注意事项|
|-|---|:-:|:-:|---|
|选项集的数据输入方法|允许管理员选择如何在整个程序中在屏幕上显示选项（即，作为下拉列表还是单选按钮）|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)|这将由新的渲染选项代替。|
|类别组合（属性 CatCombo）|允许管理员将类别（选项集）附加到程序，要求用户对每个注册进行分类。 （在DHIS 2中，这称为属性类别组合。）|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据批准工作流程|如果管理员选择了预配置的数据审批工作流程，这将用于执行 "审批 "或 "接受和审批 "级联，使用户能够签收和锁定数据。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)||
|显示首页列表|如果勾选了该选项，一旦选择了组织单位和计划，登陆页面就会显示活动注册人员列表。(显示的属性为勾选 "显示在列表中 "的属性）。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|第一阶段出现在注册页面上|选择此选项后，在程序注册期间，还将显示第一个程序阶段的屏幕（注册和第一个事件在一个屏幕上同时捕获）。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)| 在Android中，这是通过在注册完成后自动打开事件来实现的，而不是将表单添加到同一屏幕上。|
|已完成活动的有效期限|使管理员能够在事件完成后的几天内锁定数据输入。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|到期期限类型+到期天数|使管理员可以设置时间段（例如每周，每月），并在该时间段结束后一定天数内锁定数据输入。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|允许将来的注册日期|如果选中，则使用户能够在程序注册期间输入将来的注册日期；否则，用户只能使用今天或过去的日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|允许将来的事件日期|如果选中，则使用户能够在注册程序时输入将来的事件日期；否则，用户只能使用今天或过去的日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|仅注册一次（每个跟踪的实体实例生存期）|如果选中，则防止TEI（例如，人）多次注册此计划。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|显示事件日期|如果选中，则将向用户显示注册日期和事件日期，以进行数据捕获。否则，仅显示/捕获注册日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|事故日期说明|允许管理员自定义事件日期使用的标签。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|入学日期说明|允许管理员自定义用于注册日期的标签。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|捕获坐标（注册）|使用户能够在注册该程序期间捕获地理坐标。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|捕捉多边形（注册） |使用户可以在注册该程序期间捕获位置（封闭区域）。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|TEI坐标 |使用户能够在程序注册期间捕获TEI的地理坐标。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|关系：创建和更新|使用户能够创建和更新关系。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|关系-添加亲戚的快捷链接|这使管理员可以为仪表板添加一个特定关系的链接，从而使用户可以直接创建链接的TEI（例如“儿童”患者）。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-na.png)||
|属性：显示在列表中|此设置确定是否可以在列表（例如搜索结果）中查看属性，以及是否可以在仪表板“配置文件”下显示的属性短列表中看到该属性。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)|将显示前三个属性|
|属性：强制|这样，管理员就可以将某个属性标记为 "强制 "属性，即在获取值之前无法保存注册信息。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|属性：将来的日期|对于日期属性，这使管理员可以阻止或允许捕获将来的日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|注册表-默认|默认数据输入表单仅列出为TEI定义的所有属性。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|注册表-定制|这使管理员可以为注册表单定义自定义布局（使用HTML）。|--|![](/en/resources/images/admin/icon-na.png)|Android应用程序不支持自定义布局||
|计划通知|您可以设置自动通知，以通知何时进行程序注册或完成，或在事件或注册日期之前/之后的设定间隔。这些可以作为内部DHIS 2消息，电子邮件或SMS发送。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|接收到数据后，将在服务器端执行此功能。当应用程序离线工作时将无法使用。|
|激活/停用注册|停用TEI仪表板将导致TEI变为&ldquo;read-only&rdquo;。这意味着您无法输入数据，注册TEI或编辑TEI配置文件。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|仅当验证通过时才允许完成|选中此复选框可强制该程序创建的事件仅在通过所有验证规则后才完成。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)||
|组织单位的开/关日期|使管理员能够设置组织单位的开始和结束日期，从而阻止用户在这些日期之外添加或编辑事件。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据共享级别/可以捕获数据|使用户可以在程序中添加新事件，编辑数据和删除事件。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据共享级别/可以查看数据|使用户能够查看程序中的事件列表。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据共享级别/无访问权限|用户将无法看到该程序|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||


### 程序阶段 { #capture_app_programs_supported_features_program_stage }

|特征|功能说明|注册程序|无需注册的程序|实施注意事项|
|-|---|:-:|:-:|---|
|活动表格-默认|默认数据输入表单仅列出了属于程序注册的所有属性|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|活动表格-部分表格|分区表单可让您将现有表单拆分为多个细分|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|活动形式-自定义|将自定义事件表单定义为HTML页面。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)|Android应用程序不支持自定义布局。|
|程序阶段通知|您可以设置自动通知，以通知程序阶段何时完成，或在计划的事件日期之前/之后的设定间隔。这些可以作为内部DHIS 2消息，电子邮件或SMS消息发送。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)|接收到数据后，将在服务器端执行此功能。当应用程序离线工作时将无法使用。|
|可重复的|如果勾选了Repeatable，则可以在一个程序注册期间重复此阶段。如果t不是，那么该阶段只能在程序注册期间发生一次。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|可重复的|如果勾选了Repeatable，则可以在一个程序注册期间重复此阶段。如果t不是，那么该阶段只能在程序注册期间发生一次。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|可重复+标准间隔天数|系统将建议截止日期作为最后事件+标准间隔日期的计算。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|期间类型|使管理员可以在计划阶段为每个事件配置一组时间段（例如，几周或几个月），而不仅仅是日期。创建事件时，然后要求用户为他们在该程序阶段创建的每个新事件选择一个时间段（而不是日期）。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|自动产生事件|如果选中，则在注册后会根据“计划的开始日期”为该课程阶段生成一个“预订”。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|根据注册日期（不是事件日期）生成事件|选中它可以根据注册日期从该程序的程序阶段自动生成事件的到期日期。如果未选中，则基于事件日期生成截止日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|报名+报告日期后打开数据输入表格以使用|如果选择了该选项，一旦注册完成，随后就会直接打开活动的数据输入表单。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|要求用户在阶段完成时完成程序| 如果选择，则在完成程序阶段后，应要求用户完成程序。 （如果同时勾选了“要求用户创建新事件”，则忽略此设置。）|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|阶段结束时要求用户创建新事件|如果选择，则在完成程序阶段后，系统会提示用户预订。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|隐藏截止日期|仅显示事件的实际日期，隐藏截止日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|捕获坐标（事件）/功能类型点|在创建每个事件时，用户都可以捕捉地理坐标![](/en/resources/images/admin/icon-incomplete.png) 对于有 GPS 的设备（如安卓）尤其有用，因为用户无需输入坐标，只需按下按钮即可自动填充坐标。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|捕获多边形（事件）/要素类型-多边形 |创建每个事件时，使用户能够捕获位置（封闭区域）。多边形必须至少包含4个点。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|报告日期说明|允许管理员自定义事件日期的标签。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|必填数据元素|这使管理员可以将数据元素标记为“必选”，这意味着直到捕获值后才能保存事件。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据元素-允许在其他地方提供|在表单上，这会在所选数据元素旁边放置一个复选框，并使以前的数据能够被拉入数据元素。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-na.png)||
|数据元素-显示在报告中|在没有注册数据输入功能的情况下，将该数据元素的值显示到单个事件中。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据元素-将来的日期|对于日期数据元素，这使管理员可以阻止或允许捕获将来的日期。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|数据元素-作为无线电的渲染选项|允许管理员选择每个数据元素在屏幕上的显示方式（即下拉列表或单选按钮）。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)||
|填写完成后填写表格|禁止对事件完成后的所有编辑。|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|活动评论|允许用户向事件添加整体注释。这些评论是累积性的（新评论会添加到现有评论下方）。|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-na.png)||

### 注册程序：跟踪实体仪表板 { #capture_app_programs_supported_features_program_with_reg }

|特征|功能说明|状态|实施注意事项|
|-|---|:-:|---|
|讯息传递|使用户能够通过SMS或电子邮件向TEI（例如患者）发送临时的自由文本消息。|![](/en/resources/images/admin/icon-incomplete.png)||
|标记为要跟进（带有感叹号三角形的按钮）|使用户可以将TEI（例如患者）标记为需要跟进。|![](/en/resources/images/admin/icon-complete.png)||
|显示TEI审核历史记录|使用户能够查看此TEI（例如患者）对属性的所有编辑的历史记录。|--||
|内联程序指示器|如果选中了程序指示符“在窗体中显示”框，则该指示符将显示在Tracker Capture仪表板上，并在发生数据捕捉时实时更新。|![](/en/resources/images/admin/icon-complete.png)||
|删除活动|使用户能够删除事件。|![](/en/resources/images/admin/icon-complete.png)||
|安排活动|在事件生成对话框中，用户还应该看到安排事件的选项。该过程类似于创建事件，但是在安排事件之后，用户将被发送回TEI仪表板。|![](/en/resources/images/admin/icon-complete.png)||
|转诊病人|在事件生成对话框中，用户还应该看到推荐病人的选项。该过程类似于创建/安排事件，但是用户可以更改组织单位，并且必须指定是一次性还是永久转介。一次只会在指定的OU中创建事件。|![](/en/resources/images/admin/icon-complete.png)||
|重置搜索字段|用户可以通过按搜索屏幕右上角的圆形箭头图标来清理搜索字段。|![](/en/resources/images/admin/icon-complete.png)||
|所有TE类型的搜索屏幕|用户能够搜索一种跟踪实体类型（TET）的所有程序。在“搜索”屏幕中，有一个下拉列表，显示了可用于活动TET的所有程序（活动TET由在主屏幕中选择的程序定义）。该下拉列表还应该带有一个带有TET名称的选项。 （我们服务器中的人员）。当用户选择该选项时，可用的搜索字段将仅是TET属性（没有程序特定的属性）。所有搜索限制均不适用，因为它们属于程序。|![](/en/resources/images/admin/icon-complete.png)||
|TEI仪表盘，无程序|如果搜索没有程序，则用户可以通过在列表中选择TEI来查看没有任何程序的TEI仪表板。仪表板将在详细信息卡中显示TET属性，然后是活动注册的列表。|![](/en/resources/images/admin/icon-complete.png)||
|TEI的注册历史和新注册|用户可以查看TEI的完整历史记录。通过单击右上角的图标，他们将看到有效注册的列表，然后是过去注册的列表（已完成或已取消），然后是可以注册TEI的程序。用户应该能够从列表导航到不同的注册。|![](/en/resources/images/admin/icon-complete.png)||
|访问级别-打破玻璃|如果该程序配置了受访问级别保护的用户，并且用户搜索并找到了该组织单元拥有的跟踪实体实例，而该组织单位对该用户没有数据捕获权限，则该用户可以选择打破常规。用户将找到打破玻璃的原因，然后获得被跟踪实体实例的临时所有权。|![](/en/resources/images/admin/icon-incomplete.png)||

### 无需注册的程序：单事件程序 { #capture_app_programs_supported_features_program_without_reg }

|特征|功能说明|状态|实施注意事项|
|-|---|:-:|---|
|活动列表（网格）|选定程序后将显示的现有事件列表。|![](/en/resources/images/admin/icon-complete.png)||
|在网格中排序和过滤事件|允许用户对列出的事件进行排序，或者根据关键字或日期/数字的特定范围过滤事件。|![](/en/resources/images/admin/icon-complete.png)|事件按时间顺序排序。用户可以按期间和组织单位进行过滤。|
|编辑网格中的事件|允许用户直接编辑事件列表/网格中显示的数据元素。|![](/en/resources/images/admin/icon-incomplete.png)||
|查看事件审核历史记录|用户可以查看事件数据元素所有更改的历史记录。|![](/en/resources/images/admin/icon-incomplete.png)||
|显示/隐藏列（在事件列表/网格中）|使用户能够修改事件列表/网格中显示的数据元素（仅适用于该用户）。|![](/en/resources/images/admin/icon-incomplete.png)||
|现场完成率|首次注册后打开的事件的右上角显示了每个事件中完成的数据百分比。百分比应适合表格中程序规则的效果。|![](/en/resources/images/admin/icon-complete.png)|完成百分比未考虑表单中不受支持的值类型。|
|删除活动|使用户能够删除事件。|![](/en/resources/images/admin/icon-complete.png)||

