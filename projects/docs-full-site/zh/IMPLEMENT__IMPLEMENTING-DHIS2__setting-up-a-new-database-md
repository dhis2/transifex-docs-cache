---
edit_url: "https://github.com/dhis2/dhis2-docs-implementation/blob/master/content/implementation/setting-up-a-new-database.md"
revision_date: '2021-09-15'
tags:
- 实施
---

# 设置新数据库 { #setting-up-a-new-database } 

DHIS2 应用程序附带了一组用于数据收集的工具，
验证、报告和分析，但数据库的内容，
例如收集哪些数据、数据来自何处以及采用什么格式
将取决于使用上下文。需要填充这些元数据
在使用之前进入应用程序，这可以通过
用户界面，无需编程。需要的是
对当地 HIS 背景的深入了解以及
了解 DHIS2 设计原则（请参阅“关键
DHIS2 中的概念设计原则”）。我们称这个初始过程为
数据库设计或定制。本章概述了
定制过程并简要解释所涉及的步骤，
为了让实施者了解这个过程需要什么。
本手册中的其他章节提供了一些更详细的信息
具体步骤。

## 入门策略 { #strategies-for-getting-started } 

以下部分描述了获得良好结果的一系列技巧
从开发新数据库时开始。

1.  快速填充演示数据库，包括。报告、图表的示例，
    仪表板、GIS、数据输入表格。最好使用真实数据
    全国范围内的数据，但不一定是设施级别的数据。

2.  将演示数据库上线。使用外部服务器托管
    提供商服务器可以是加速该过程的解决方案，即使
    暂时的。这构成了一个很棒的协作平台
    获得利益相关者认可的传播工具。

3.  下一阶段是更精细的数据库设计过程。部分
    如果可行，可以重复使用该演示。

4.  确保拥有一支具有不同技能和背景的本地团队：
    公共卫生、数据管理员、IT 和项目管理。

5.  使用定制和数据库设计阶段作为学习和
    通过边做边学的方式建设当地能力的培训过程。

6.  国家队应推动数据库设计过程
    但要得到经验丰富的实施者的支持和指导。

## 控制还是开放过程？ { #controlled-or-open-process } 

由于 DHIS2 定制过程通常是而且应该是
协作过程中，记住哪些部分也很重要
数据库的内容比其他内容更重要，例如以避免
未经训练的用户会损坏数据。通常它更为关键
定制一个已经有数据值的数据库，而不是使用
“空”数据库上的元数据。虽然看起来很奇怪，但是很多
自定义发生在第一次数据收集或导入之后
开始，例如添加新的验证规则、指标或报告时
布局。可能犯的最严重的错误是修改
直接描述数据值的元数据，这些是我们所拥有的
上面看到的是*数据元素*和*组织单位*。什么时候
修改这些定义时，重要的是要考虑如何
更改将影响系统中已有数据值的含义
（使用旧定义收集）。建议限制谁
可以通过用户角色管理编辑这些核心元数据，
限制对核心定制团队的访问。

系统中不直接与数据耦合的其他部分
价值观对于玩弄来说并不那么重要，至少在这里
在早期阶段，应该鼓励用户尝试新的
事物以创造学习。这适用于组、验证
规则、指标公式、图表和报告。所有这些都可以轻松实现
稍后删除或修改而不影响基础数据值，
因此，它们并不是定制过程中的关键要素。

当然，稍后在定制过程中进入时
生产阶段，在允许访问时应该更加小心
编辑各种元数据，如有任何更改，也可以更改为不太重要的内容
元数据，可能会影响数据聚合在一起或呈现的方式
报告（尽管底层原始数据仍然安全且正确）。

## 开发数据库的步骤 { #steps-for-developing-a-database } 

下面介绍开发数据库的具体步骤
从头开始。

### 组织层次结构 { #the-organisational-hierarchy } 

组织层次结构使用 DHIS2 定义组织，
卫生设施、行政区域和其他地理区域
用于数据收集和数据分析。该数据维度为
定义为具有一个根单位的层次结构（例如卫生部）和
下面任意数量的级别和节点。该层次结构中的每个节点都是
在 DHIS2 中称为组织单位。这个层次结构的设计
将确定用户可用的分析地理单位
因为数据是在此结构中收集和聚合的。只能有
同时存在一个组织层次结构，因此其结构需要
详细的思考。

额外的层次结构（例如平行的行政边界
医疗保健部门）可以使用组织团体和
组集，但组织层次结构是主要工具
地理维度的数据聚合。通常是全国性的
公共卫生领域的组织层级有 4-6 级，但任何级别
支持级别数。层次结构是由父子构成的
关系，例如国家或卫生部单位（根）可能有，例如8个孩子
单位（省份），每个省份（第 2 级）可能有
10-15个区作为他们的孩子。通常情况下，卫生机构会
位于最低层，但也可以位于较高层
级别，例如国家级或省级医院，组织结构倾斜
支持树（例如，叶节点可以位于级别 2，而
大多数其他叶节点位于第 5 层）。

### 数据元素 { #data-elements } 

数据元素也许是 DHIS2
数据库最重要的组成部分。它代表*什么*维度，说明正在收集或分析什么。
收集或分析什么。在某些情况下，它被称为
指标，但在 DHIS2 中，我们称这种收集和分析单位为
数据元素。数据元素通常代表对某一事物的计数、
其名称描述了被统计的内容，如 "卡介苗剂量 "或 "疟疾病例"。
"疟疾病例"。在收集、验证、分析、报告或展示数据时
在收集、验证、分析、报告或展示数据时，数据元素或基于数据元素的表达式
在收集、验证、分析、报告或展示数据时，描述数据 WHAT 的是数据元素或基于数据元素的表达式。因此，数据元素
因此，数据元素对系统的各个方面都很重要，它们不仅决定了
如何收集数据，更重要的是如何在数据库中表示数据值。
它们不仅决定了数据的收集方式，还决定了数据值在数据库中的表示方式，而数据库又决定了数据的分析和展示方式。
这也决定了如何分析和展示数据。

设计数据元素时的最佳实践是考虑数据
元素作为数据分析的单位而不仅仅是数据中的一个字段
收集形式。每个数据元素都在数据库中独立存在，
完全脱离收集表格、报告等
输出基于数据元素和表达式/公式组成
数据元素而不是数据收集形式。那么数据分析
需求应该驱动流程，而不是数据的外观和感觉
收集表格。

### 数据集和数据输入表格 { #data-sets-and-data-entry-forms } 

DHIS2中的所有数据输入都是通过使用数据集来组织的。一种
数据集是为数据分组在一起的数据元素的集合
集合，并且在分布式安装的情况下，它们还定义了
DHIS2实例之间用于导出和导入的大块数据（例如
从地区办公室本地安装到国家服务器）。数据
集不直接链接到数据值，仅通过它们的数据
元素和频率，因此可以修改数据集，
随时删除或添加而不影响原始数据
已经被系统捕获了，但是这样的改变当然会影响
如何收集新数据。

将数据集分配给组织单位后，该数据集
将在数据输入（在服务下）中提供
您分配给的组织单位以及有效期
根据数据集的周期类型。默认的数据输入表格将
然后显示，这只是属于以下数据元素的列表
数据集以及用于输入值的列。如果你的
数据集包含具有类别的数据元素，例如年龄组或
性别，则附加列将自动生成在
基于类别的默认表单。除了默认的
基于列表的数据输入表单，还有两种选择，
基于部分的表单和自定义表单。部分形式允许一点
使用表格形式时更加灵活并且快速且
设计简单。通常您的数据输入表单需要多个表格
带有副标题，有时您需要禁用（灰显）一些
表中的字段（例如某些类别并不适用于所有数据
elements），这两个函数都以节的形式支持。什么时候
您要设计的表单对于默认值来说太复杂或
部分表单，那么您的最后一个选择是使用自定义表单。这需要
更多的时间，但在设计方面给您充分的灵活性。在
DHIS2 有一个内置的 HTML 编辑器（FcK 编辑器）供表单设计者使用
您可以在 UI 中设计表单或粘贴到 html 中
直接（使用编辑器中的“源”窗口。

### 验证规则 { #validation-rules } 

设置完系统的数据输入部分并开始
收集数据，然后有时间定义有助于质量的数据质量检查
以提高所收集数据的质量。您可以添加尽可能多的
您喜欢的验证规则，这些规则由左和右组成
副表达式又由数据元素组成，带有
双方之间的运算符。典型规则是将小计与
总的东西。例如。如果您有两个数据元素“艾滋病毒检测
”和“艾滋病毒检测结果呈阳性”，那么您知道
表格（同一时期和组织单位）的总数
测试必须始终等于或高于肯定测试的数量。
这些规则应该是绝对规则，这意味着它们是
数学上正确，而不仅仅是假设或“大部分时间
正确”。可以在填写每个表格后在数据输入中运行规则，
或同时处理多种形式的批量处理，例如
适用于上一个报告月份的所有设施。结果
测试将列出所有违规行为以及每个方面的详细值
发生违规的表达式可以很容易地返回
进行数据输入并更正值。

### 指标 { #indicators } 

指标可能代表了最强大的数据分析功能
DHIS2。虽然数据元素表示原始数据（计数）
收集的指标代表提供覆盖率的公式，
发生率，比率和其他基于公式的分析单位。一个
指标由一个因素（例如1、100、100、100 000），
分子和分母，后两者都是基于表达式的
一个或多个数据元素上。例如。指标“ BCG覆盖\ <1年”
被定义为一个因子为100的分子（分子的“ BCG剂量
1岁以下的儿童”）和分母（“ 1岁以下的目标人群”
年”）。指标“ DPT1到DPT3的辍学率”是一个100％的公式
x（“给定DPT1剂量”-“给定DPT3剂量”）/（“给定DPT1剂量”）。

DHIS2中的大多数报告模块都支持数据元素和指标
您也可以将它们合并到自定义报告中，但是重要的是
指标与原始数据的差异和强度（数据元素的
数据值）是比较不同数据的能力
地理区域（例如人口稠密地区与农村地区）作为目标
分母可以使用分母。

指标可以随时添加，修改和删除
而不干扰数据库中的数据值。

### 报告表和报告 { #report-tables-and-reports } 

DHIS2 中的标准报告是一种非常灵活的数据呈现方式
已收集。数据可以由任何组织聚合
单位或组织级别，按数据元素、按指标以及超过
时间（例如每月、每季度、每年）。报告表是自定义的
标准报告的数据源，可以在
用户界面，然后在外部报告设计器中访问，例如
iReport 或 BIRT。然后可以轻松设置这些报告设计
可访问带有参数的一键式报告，以便用户可以运行
相同的报告，例如每个月输入新数据时，也可以
与各个级别的用户相关，因为组织单位可以
在运行报告时选择。

### GIS（地图） { #gis-maps } 

在集成的GIS模块中，您可以轻松地在地图上显示数据，
既在多边形（区域）上，又在点（健康设施）上，以及
作为数据元素或指标。通过提供您的坐标
组织单位到系统中，您可以快速掌握
这个模块。有关如何开始的详细信息，请参见GIS部分。

### 图表和仪表板 { #charts-and-dashboard } 

显示指标数据的最简单方法之一是通过图表。
易于使用的图表对话框将指导您完成创建
各种类型的图表，包含指标、组织单位的数据
以及您选择的时期。这些图表可以轻松添加到其中之一
仪表板上的四个图表部分很容易制作
登录后立即可用。确保将仪表板模块设置为
用户设置中的启动模块。

