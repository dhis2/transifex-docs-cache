---
edit_url: "https://github.com/dhis2/dhis2-docs-implementation/blob/master/content/database_design/data-sets-and-forms.md"
revision_date: '2021-09-15'
tags:
- 实施
---

# 数据集和表格 { #data-sets-and-forms } 

本章讨论数据集和表单，表单有哪些类型
可用并描述了从
基于纸质的电子表格。

## 什么是数据集？ { #what-is-a-data-set } 

DHIS2中的所有数据输入都是通过使用数据集来组织的。一种
数据集是为数据分组在一起的数据元素的集合
集合，并且在分布式安装的情况下，它们还定义了
DHIS2实例之间用于导出和导入的大块数据（例如
从地区办公室本地安装到国家服务器）。数据
集不直接链接到数据值，仅通过它们的数据
元素和频率，因此可以修改数据集，
随时删除或添加而不影响原始数据
已经被系统捕获了，但是这样的改变当然会影响
如何收集新数据。

数据集具有控制数据收集的期间类型
频率，可以是每天、每周、每月、每季度、每六个月、
或每年。数据集中包含的数据元素和
周期类型由用户定义，以及名称、短名称、
和代码。如果集合表单中需要计算字段（并且
不仅在报告中），然后可以将指标分配给数据
也可以设置，但这些只能在自定义表单中使用（请参阅进一步
向下）。

为了使用数据集来收集特定组织的数据
单位 用户必须将组织单位分配给数据集。这
机制控制哪些组织单位可以使用哪些数据集，以及
同时定义数据完整性的目标值（例如
一个地区有多少个卫生机构需要提交 RCH
每月设置一次数据）。

一个数据元素可以属于多个数据集，但这需要
仔细思考，因为这可能会导致数据重叠和不稳定
收集，如果例如数据集被赋予不同的频率并且是
由同一组织单位使用。

## 什么是数据输入表格？ { #what-is-a-data-entry-form } 

将数据集分配给组织单位后，该数据集
将在数据输入（在服务下）中提供
您分配给的组织单位以及有效期
根据数据集的周期类型。默认的数据输入表格将
然后显示，这只是属于以下数据元素的列表
数据集以及用于输入值的列。如果你的
数据集包含具有类别的数据元素，例如年龄组或
性别，则附加列将自动生成在
基于类别的默认表单。除了默认的
基于列表的数据输入表单还有两种选择，
基于部分的表单和自定义表单。

### 数据输入表格的类型 { #types-of-data-entry-forms } 

DHIS2 目前具有三种不同类型的表格：
如下所述。

#### 预设表格 { #default-forms } 

默认数据输入表单只是数据元素的列表
与用于输入的列一起属于数据集
价值观。如果您的数据集包含非默认的数据元素
类别组合，例如年龄组或性别，然后是其他
列将根据默认形式自动生成
不同的选项/尺寸。如果您使用多个类别
组合在数据集中，您将获得每个类别一个表
默认形式的组合，具有不同的列标题
选项。

#### 部分表格 { #section-forms } 

部分形式在使用时提供了更多的灵活性
表格形式，设计起来快速简单。通常您的数据输入
表单需要多个带有副标题的表格，有时您需要
禁用（灰显）表中的一些字段（例如，某些类别确实
不适用于所有数据元素），这两个函数都受支持
以部分形式。定义数据集后，您可以定义它的部分
包含数据元素子集、标题和可能的灰色字段
部分的表。数据集中各部分的顺序也可以是
定义的。在数据输入中，您现在可以开始使用“部分”表单（其中
当所选部分可用时应自动出现
数据集）。大多数表格数据输入表单应该可以使用
部分形式。使用部分或默认表单使生活变得轻松
因为不需要维护固定的形式设计，其中包括
对数据元素的引用。如果这两种形式不符合
您的要求那么第三个选项是完全灵活的，
尽管更耗时，但自定义数据输入表单。

#### 自订表格 { #custom-forms } 

当您要设计的表单对于默认值来说过于复杂或
部分表单，那么您的最后一个选择是使用自定义表单。这需要
更多的时间，但在设计方面为您提供了充分的灵活性。在
DHIS2 表单设计器中有一个内置的 HTML 编辑器（CK 编辑器）
它允许您在 GUI 中设计表单或粘贴到您的
直接生成 html（使用编辑器中的“源”窗口）。在风俗中
您可以在表单中插入静态文本或数据字段（链接到数据元素
+ 类别选项组合）在表格上的任何位置，并且您有
完全自由地设计表单的布局。一旦自定义表格
已添加到数据集中，它将在数据输入中可用并使用
自动。

使用自定义表单时，可以使用计算字段
显示例如根据数据进行总计或其他计算
捕获在表格中。这可以例如在处理股票或交易时很有用
需要物品平衡的物流形式，下一期需要的物品
等等。为此，用户必须首先定义计算的
表达式作为指标，然后将这些指标分配给数据
设置有问题。在自定义表单设计器中，用户可以分配
表单中的指示符与分配数据元素的方式相同。这
计算表达式的限制是所有数据元素
表达式中使用的内容必须在同一数据集中可用，因为
计算是在表单内动态完成的，并且不基于
数据值已存储在数据库中。

## 从纸质到电子形式-经验教训 { #from-paper-to-electronic-form-lessons-learned } 

当引入电子健康信息系统时，该系统
被取代的往往是纸质报告。迁移过程
电子数据采集和分析面临一些挑战。这
以下部分建议了如何克服这些问题的最佳实践。

### 识别独立的数据元素 { #identify-self-contained-data-elements } 

通常，DHIS2 数据集的设计基于一些要求
来自已使用的纸质表格。纸质表格的逻辑是
与 DHIS 的数据元素和数据集模型不同，例如经常
表格纸形式中的字段由列标题和
每行都有文字，有时还带有一些介绍性表格
提供更多上下文的标题。在数据库中，这是捕获的
一个原子数据元素，不涉及视觉中的位置
表格式，因此确保数据元素非常重要
可选数据元素类别，捕获每个数据元素的完整含义
论文中的个别字段
形式。

### 将计算和重复留给计算机-仅捕获原始数据 { #leave-calculations-and-repetitions-to-the-computer-capture-raw-data-only } 

设计数据集时要记住的另一重要事项是
该数据集和相应的数据输入形式（即数据
设置版式）是一种数据收集工具，而不是报告或分析
工具。还有其他更为复杂的工具可用于数据输出和
在DHIS2中进行报告，而不是在数据输入表中进行报告。纸质表格通常是
设计时要同时考虑数据收集和报告
您可能会看到诸如累积值之类的信息（除了
每月值），重复年度数据（相同的人口数据）
每月报告一次）甚至指标值，例如
与每月原始数据的格式相同。当您将原始数据存储在
每个月都有DHIS2数据库，并拥有您所有的处理能力
计算机工具中的需求，这是没有必要的（实际上是
错误，很可能导致不一致）手动注册
计算值，例如上述值。你只想
捕获数据集/表格中的原始数据并保留计算结果
到计算机，并将这些值呈现给报告工具
在DHIS中。通过数据集报告的功能，所有表格
表格将自动在最右边获得额外的列
提供每一行（数据元素）的小计和总计值。

