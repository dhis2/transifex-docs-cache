---
edit_url: "https://github.com/dhis2/dhis2-docs/blob/2.41/src/user/data-approval.md"
revision_date: '2021-11-04'
tags:
- 使用
- DHIS core version 2.41
---

# Data approval overview { #data_approval_overview } 

DHIS2 有一个可选功能，允许授权用户批准
输入的数据。它允许审查和批准数据
在组织单位层次结构中的选定级别，因此批准
遵循从低到高的层次结构
水平。

数据被批准用于 (a) 期间、(b) 组织单位的组合
(c) 工作流程。可以为组织单位批准数据
它被输入，以及为更高级别的组织单位
数据是聚合的。作为系统设置的一部分，您可以选择
批准数据的组织单位级别。有可能
只有在所有这些都得到批准后才能在更高级别上批准
同一工作流的较低级别的组织单位的后代
和时期。当您批准工作流程时，它会批准任何数据的数据
已分配给该工作流的集合。

一段时间后，组织单元和工作流组合已经
批准后，与该工作流关联的数据集将被锁定
那个时期和组织单位，以及任何进一步的数据输入或
除非首先未经批准，否则将禁止修改。

例如，下图说明数据已经
已批准用于组织单位 C 和 D，在特定时期内，并且
工作流程。现在可以为组织单位 B 批准相同的
期间和工作流程。但它还没有准备好被组织批准
单元 A。在它被批准为组织单元 A 之前，它必须是
批准用于 B，以及组织单元 A 的任何其他子级，用于
那个时期和工作流程。

![组织批准
单位](resources/images/data_approval/approval_hierarchy.png){.center width=50% }

## 批准并接受 { #data_approvals_approving_accepting } 

DHIS2 支持两种不同类型的审批流程：
在每个级别批准数据的一步过程，或两步
数据首先被批准然后在每个级别被接受的过程。
如下图所示：

![批准和
接受](resources/images/data_approval/approval_level_steps.png){.center width=69% }

在一步流程中，数据经过一级审批，然后
上一级批准。直到下次批准
更高级别，可能在第一级未获批准。 （例如，如果
数据被批准我的错误，这允许批准者撤消他们的
错误。）一旦数据被上一级批准，它可能不会
除非在下一级未经批准，否则不得在较低级别获得批准
更高层次。

在两步过程中，数据在一级批准，然后
批准在同一级别被接受。这种接受是由一个
被授权在下一个更高级别批准数据的用户。一次
数据被接受，除非它被接受，否则不得更改或未经批准
首先*不接受*。

DHIS2 不需要两步过程。这是一个可选步骤
供用户查看下一个更高级别的数据。它有好处
从下面的级别锁定接受，因此审稿人不会
必须担心数据可能会从下面发生变化
正在审核中。它也可以被更高级别的用户用来保持
跟踪哪些较低级别的数据已被审查。

可以通过勾选**需要接受来激活两步流程
在“常规”部分下的“系统设置”应用中获得批准**。

## 数据审批机关 { #data_approvals_authorities } 

要批准数据，您必须被分配一个包含以下其中一项的角色
当局：

  - **批准数据** - 您可以批准组织单位的数据
    你被分配到的。请注意，此权限不允许
    您批准组织单位以下级别的数据
    你被分配到的。这对于分离用户很有用
    授权用户在一级批准
    批准以下级别。

  - **批准较低级别的数据** - 允许您批准数据
    分配给您的组织单位以下的所有较低级别。这
    例如，如果您是一个地区级用户，其角色是
    包括批准该范围内所有设施的数据
    区，但不是针对区本身。如果你被分配了这个
    以及*批准数据*机构，您可以在
    您被分配到的组织单位的级别，
    以及以下任何级别。

  - **接受较低级别的数据** - 允许您接受以下级别的数据
    级别略低于分配给您的组织单位。这
    可以将权限授予与批准数据相同的用户。或者它可能
    给不同的用户，如果你想让一些用户
    接受来自以下级别的数据，以及一组不同的用户
    批准数据上升到上一个级别。

## 配置数据批准 { #data_approvals_configuration } 

在*数据批准级别*下的*维护应用程序*部分，您可以
指定您希望在系统中批准数据的级别。
单击此页面上的添加新按钮并选择组织单位
您希望获得批准的级别。它将被添加到列表中
审批设置。您可以在以下位置配置系统以批准数据
每个组织单位级别，或仅在选定的组织单位
水平。

请注意，当您添加新的批准级别时，您可以选择一个
类别选项组集。此功能将在本文后面讨论
章节。

同样在*数据审批工作流*下的维护中，您可以定义
将用于批准数据的工作流。每个工作流都可以
与一个或多个审批级别相关联。任何两个工作流都可以
在所有相同的批准级别上运作，其中一些相同
还有一些不同的层次，或者完全不同的层次。

如果您希望根据工作流程批准数据集的数据，
然后在添加或编辑数据时将工作流分配给数据集
放。如果您不希望某个数据集的数据受到批准，
然后不要为该数据集分配任何工作流程。对于您的数据集
想同时审批，分配给同一个
工作流程。对于要独立审批的数据集，分配
每个数据集到自己的工作流程。

在*系统设置* -> *分析* 下，您可以控制哪些未经批准的数据（如果有）将出现在分析中。请参阅本用户指南的“分析设置”部分。请注意，分配到已准备好批准数据的组织单位的用户始终可以在分析中查看此数据，分配到更高级别组织单位的用户（如果他们具有*在较低级别批准数据* 权限或*查看未批准的数据）也可以数据*权限。

## 数据可视性 { #data_approvals_data_visibility } 

如果启用选项*在分析中隐藏未经批准的数据*，数据将
被与更高级别相关联的用户隐藏而无法查看。什么时候
确定是否应为特定用户隐藏数据记录，
系统将用户与特定批准级别相关联并比较
它达到数据记录已被批准的级别。一个用户
与与审批级别相匹配的审批级别相关联
她链接到的组织单位，或者如果不存在审批级别
该级别，与组织单位级别相关联的下一个审批级别
在她下面。用户将被允许查看已被访问的数据
被批准到紧接在她相关批准之下的级别
等级。这背后的基本原理是用户必须能够查看
下面已经批准的数据，以便她最终可以查看
并自己批准。

请注意，如果用户已被授予*查看未批准的数据* 或
*所有*权限，她将能够查看数据，而不管
审批状态。

*让我们考虑以下示例：* 有四个组织单位
级别，审批级别与级别 2 和 4 相关联。 *用户 A* 在
国家级别 (1) 与批准级别 1 相关联，因为
审批级别与组织单位级别处于同一级别。
*用户 B* 与批准级别 2 相关联，因为没有
审批级别与她的组织单位级别直接相关，并且
批准级别 2 是下面的直接级别。 *用户 C* 获得关联
具有批准级别 2。 *用户 D* 低于所有批准级别
意味着她可以看到在其组织内部或之下输入的所有数据
单位层面。

![隐藏未经批准的
数据](resources/images/data_approval/approval_data_hiding.png){.center}

使用此示例，让我们考虑一些方案：

  - 在设施级别输入数据：只有*用户 D* 可以看到数据，
    因为数据还没有得到批准。

  - 数据由*用户 D* 在设施级别批准：数据变得可见
    给用户 C 和用户 B，因为数据现在在他们的级别得到批准。

  - 数据由*用户 C* 在区级批准：数据可见
    给用户 A，因为数据现在在紧接下面的级别获得批准
    她自己。

## 批准数据 { #data_approvals_approving_data } 

要批准数据，请转到 *报告* 并选择 *数据批准*。当这
报告显示为批准配置的数据，它显示批准
报告中数据的状态。批准状态将是以下之一
下列的：

  - **等待下级组织单位批准** - 此数据不是
    尚未准备好被批准，因为它首先需要被批准
    此组织单位的所有子组织单位，对于
    相同的工作流程和周期。

  - **准备批准** - 此数据现在可以由
    授权用户。

  - **已批准**-此数据已被批准。

  - **已批准并已接受** - 此数据已被批准，并且
    也接受了。

如果您正在查看的数据处于可以采取行动的批准状态
如果您有足够的权限，以下一项或多项
您可以在 *数据批准* 表格上采取行动：

  - **批准** - 批准尚未批准的数据，或者
    之前已获批，一直未获批。

  - **Unapprove** - 返回到未批准状态的数据
    批准或接受。

  - **接受**-接受已批准的数据。

  - **不接受** - 返回到不被接受（但仍被批准）的状态
    已接受的数据。

要取消批准给定单位部门的数据，您必须拥有
批准该组织单位的数据或批准
数据所属的更高级别组织单位的数据
汇总。其原因如下： 如果您正在查看数据
要获得更高组织单位级别的批准，您应该考虑
下级组织单位的数据是否合理。我摔倒
下级数据看起来不错，可以在上级批准数据
等级。如果某些较低级别的数据看起来可疑，您可以取消批准
较低级别的数据。这允许在以下位置再次查看数据
下级，必要时更正，并通过审核重新批准
根据层次结构划分的组织单位级别。

## 按类别选项组批准 { #data_approvals_approving_by_cogs } 

定义审批级别时，指定组织单位级别
届时将批准数据。您还可以选择指定一个
类别选项组集。如果您使用类别，这很有用
选项组来定义数据的其他维度，并且您想要
批准基于这些尺寸。下面的例子
说明如何在单个类别选项组中完成此操作
集，并通过使用多个类别选项组集。

### 按一个类别选项组集批准 { #approving-by-one-category-option-group-set } 

例如，假设您定义了一个类别选项组集来表示
在一个或多个组织单位担任医疗保健合作伙伴的非政府组织。
此集合中的每个类别选项组代表一个不同的
伙伴。合作伙伴 1 的类别选项组可以组合在一起
使用的类别选项（例如资金帐户代码）
合作伙伴作为数据的一个维度。所以合作伙伴 1 输入的数据是
归因于合作伙伴 1 的类别选项组中的类别选项。
而合作伙伴 2 输入的数据归因于
合作伙伴 2 的类别选项组：

<table align="center">
<caption>Example Category Option Groups</caption>
<thead>
<tr class="header">
<th>Category option group set</th>
<th>Category option group</th>
<th>Category options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Partner</td>
<td>Partner 1</td>
<td>Account 1A, Account 1B</td>
</tr>
<tr class="even">
<td>Partner</td>
<td>Partner 2</td>
<td>Account 2A, Account 2B</td>
</tr>
</tbody>
</table>

每个合作伙伴都可以独立于他们的帐户输入数据
其他，对于相同或不同的工作流程，相同或不同
设施。例如，数据可以在
每个合作伙伴的以下级别，彼此独立：

![示例类别选项
组](resources/images/data_approval/approval_partner_example.png){.center}

> **提示**
>
> 您可以在类别选项和类别上使用共享功能
> 选项组以确保用户可以输入数据（和/或查看数据）
> 仅适用于某些类别选项和组。如果你不想要用户
> 查看超出其指定类别的汇总数据
> 选项和/或类别选项组，您可以指定 *Selected
> 数据分析的维度限制*，当添加或更新一个
> 用户。

您可以选择在任何或
所有这些组织单位级别。例如，您可以定义任何
或以下所有批准级别：

 <table align="center">
 <caption> 示例类别选项组 设置批准级别 </caption>
 <thead>
 <tr class="header">
 <th> 批准级别 </th>
 <th> 组织单位级别 </th>
 <th> 类别选项组设置 </th>
 </tr>
 </thead>
 <tbody>
 <tr class="odd">
 <td> 1 </td>
 <td> 国家 </td>
 <td> 合作伙伴 </td>
 </tr>
 <tr class="even">
 <td> 2 </td>
 <td> 区 </td>
 <td> 合作伙伴 </td>
 </tr>
 <tr class="odd">
 <td> 3 </td>
 <td> 设施 </td>
 <td> 合作伙伴 </td>
 </tr>
 </tbody>
 </table>

## 通过多个类别选项组集批准 { #approving_by_multiple_category_option_group_sets } 

您还可以为不同的类别选项组定义批准级别
套。继续这个例子，假设你有不同的机构
管理向不同合作伙伴提供的资金。例如，机构 A
资金账户 1A 和 2A，而机构 B 资金账户 1B 和 2B。你
可以为机构 A 和机构 B 设置类别选项组，并使
它们都是名为 Agency 的类别选项组集的一部分。那么你
将有：

<table align="center">
<caption>Example Multiple Category Option Group Sets</caption>
<thead>
<tr class="header">
<th>Category option group set</th>
<th>Category option group</th>
<th>Category options</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Partner</td>
<td>Partner 1</td>
<td>Account 1A, Account 1B</td>
</tr>
<tr class="even">
<td>Partner</td>
<td>Partner 2</td>
<td>Account 2A, Account 2B</td>
</tr>
<tr class="odd">
<td>Agency</td>
<td>Agency A</td>
<td>Account 1A, Account 2A</td>
</tr>
<tr class="even">
<td>Agency</td>
<td>Agency B</td>
<td>Account 1B, Account 2B</td>
</tr>
</tbody>
</table>

现在假设在国家/地区级别，您希望每个合作伙伴批准
该合作伙伴输入的数据。完成此批准后，您需要
每个机构然后批准来自由管理的帐户的数据
那个机构。最后，您要批准国家/地区级别的数据
跨越所有机构。您可以通过定义以下内容来做到这一点
审批级别：

<table align="center">
<caption>Example Multiple Category Option Group Set approval levels</caption>
<thead>
<tr class="header">
<th>Approval level</th>
<th>Organisation unit level</th>
<th>Category option group set</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Country</td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>Country</td>
<td>Agency</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Country</td>
<td>Partner</td>
</tr>
</tbody>
</table>

请注意，可以为相同的权限定义多个审批级别
组织单位层面。在我们的示例中，合作伙伴 1 将批准
来自类别选项账户 1A 的批准级别 3 的全国数据
和账户 1B。接下来，A 机构将批准全国范围的数据
类别选项帐户 1A 中的批准级别 2（经批准后
合作伙伴 1) 和账户 2A（经合作伙伴 2 批准后。）最后，在
获得所有机构的批准，全国范围的数据可以在
所有类别选项的批准级别为 1。请注意，批准级别 1
不指定类别选项组集，这意味着它用于
批准所有类别选项的数据。

此示例仅用于说明。你可以定义尽可能多的
您需要的类别选项组，以及尽可能多的审批级别
不同类别选项需要在同一组织单位级别
组套。

如果您对不同类别选项组有多个审批级别
设置在同一组织单位级别，您可以更改批准
在*设置* 部分的*系统批准设置* 下订购。
只需点击您要移动的审批级别，然后选择*上移*
或*向下移动*。如果您的审批级别没有类别选项
组设置，它必须是该组织的最高批准级别
单位层面。

