---
edit_url: "https://github.com/dhis2/training-docs/blob/main/content/tracker_config/tg_programrules.md"
revision_date: '2023-07-05'
tags:
- وثائق التدريب
---

# **دليل المدرب لقواعد البرنامج** { #trainers-guide-to-program-rules }

**_إنشاء قواعد السل في CONFIG._**

## **ما هو هذا الدليل؟** { #what-is-this-guide }

يعد هذا الدليل بمثابة وثيقة دعم لمدربي أكاديمية DHIS2 لجلسة "قواعد البرنامج". تتبع هذه الجلسة منهج التدريب الأكاديمي القياسي مع

   1. جلسة تجريبية مباشرة حيث يوضح المدرب ويشرح كيفية إنشاء قواعد البرنامج، و
   2.  جلسة عملية تتضمن تمارين حيث يتمكن المشاركون من إنشاء قواعد البرنامج.

سيساعد هذا الدليل المدرب على الاستعداد للجلسة التجريبية المباشرة. يحتوي قسم "العرض التوضيحي المباشر خطوة بخطوة" على إرشادات تفصيلية لجميع الخطوات التي سيتم توضيحها مع التوضيحات ولقطات الشاشة التي يجب أن يكون من السهل متابعتها. استخدم ذلك عند التحضير للجلسة التجريبية المباشرة.

يوجد أيضًا دليل سريع يسرد الخطوات باختصار شديد والمقصود منه أن يكون بمثابة دليل بحث أو "ورقة غش" أثناء إجراء العرض التوضيحي، لمساعدة المدرب على تذكر جميع الخطوات وسير العرض التوضيحي.

## **الأهداف التعليمية لهذه الجلسة** { #learning-objectives-for-this-session }

الهدف العام من هذه الجلسة هو توضيح كيفية إنشاء قواعد البرنامج في DHIS2 لكل من برامج الأحداث والتعقب (التتبع). الأهداف التفصيلية تشمل:

* تحديد مفهوم قواعد البرنامج
* إنشاء قواعد البرنامج باستخدام المتغيرات والتعبيرات والإجراءات في DHIS2

## **متطلبات الوقت** { #time-requirements }

العرض المباشر: 1.5 ساعة

مهمة: 1 ساعة

## **خلفية** { #background }

تسمح لك قواعد البرنامج بإنشاء السلوك الديناميكي لواجهة المستخدم والتحكم فيه في تطبيقي Tracker Capture وEvent Capture. توفر قواعد البرنامج إمكانية تكوين السلوك الديناميكي في البرامج الموجودة في DHIS2 والتي تم تنفيذها  على النماذج الورقية من خلال منطق التخطي والتحذيرات والأنماط بالإضافة إلى الملء التلقائي لبعض الحقول.

## التحضيرات{ #preparations }

قرر كيف تريد تشغيل الجلسة. يطلب منك الدليل التناوب بين تقديم مفهوم القاعدة متبوعًا بإنشاء قاعدة مع المشاركين. من المهم تقييم المشاركين لمعرفة مقدار التوجيه الإضافي الذي يحتاجون إليه لأن هذا الموضوع يمثل مشكلة دائمًا بسبب عدد المفاهيم الجديدة المقدمة بالإضافة إلى رغبة المشاركين في تعلم القواعد المعقدة على الفور. يمكنك إجراء ذلك في النظام التجريبي، حيث تم تكوين كلا البرنامجين لك.

## **الدليل السريع** { #quick-guide }

1. قم بإنشاء قاعدة برنامج باستخدام برنامج بطاقة علاج السل
    1. إخفاء حقل EPTB عندما يكون موقع المرض رئويًا (Pulmonary)
    2. اختبر القاعدة

توقف - اطلب من المشارك أداء التمرين 1 في دليل المتعلم

2. قم بإنشاء قاعدة برنامج باستخدام برنامج علاج السل

    1. إذا كان الجنس ذكرا فقم بإخفاء الحامل
    2. اختبر القاعدة

توقف - اطلب من المشارك أداء التمرين 2 في دليل المتعلم

3. قم بإنشاء قاعدة برنامج باستخدام برنامج السل

    1. إذا كان الوزن <=5 أو >= 140، قم بعرض رسالة تحذير
    2. اختبر القاعدة

توقف - اطلب من المشارك أداء التمرين 3 في دليل المتعلم

4. قم بإنشاء قاعدة برنامج باستخدام برنامج بطاقة علاج السل

    1. إظهار موقع المرض في قسم feedback
    2. اختبر القاعدة

توقف - اطلب من المشارك أداء التمرين 4 في دليل المتعلم

5. قم بإنشاء قاعدة برنامج باستخدام برنامج بطاقة علاج السل

    1. - حساب عمر المريض بناءً على تاريخ الميلاد
    2.  اختبر القاعدة

توقف - اطلب من المشارك أداء التمرين 4 في دليل المتعلم

## مرجع قواعد البرنامج { #program-rules-reference }

في الواقع، من الصعب تذكر جميع عوامل تشغيل القواعد والإجراءات التي يمكن استخدامها. من المحتمل أنك ستحتاج إلى الرجوع إلى [الوثائق](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/configuring-the-system/programs.html#configure_program_rule ) من وقت لآخر لأنه مصدر مفيد فيما يتعلق بأنواع التعبيرات وعوامل التشغيل والإجراءات التي يمكنك استخدامها.

## العرض التوضيحي المباشر خطوة بخطوة { #live-demo-step-by-step }

من أجل إنشاء قاعدة للبرنامج، يمكننا اتباع هذه القواعد الإرشادية العامة:

1. تصور منطق القاعدة التي تريد إنشاءها
2. قم بإنشاء متغير قاعدة برنامج يشير إلى عنصر/سمة البيانات التي ستؤدي إلى تشغيل المنطق الخاص بك
3. إنشاء قاعدة برنامج جديدة
    1. املأ تفاصيل قاعدة البرنامج
        1. حدد البرنامج
        2. قم بإدخال اسم ووصف
        3. قم بتعيين الأولوية إن أمكن
4. أدخل تعبير قاعدة البرنامج
    2. راجع [الوثائق](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/configuring-the-system/programs.html#configure_program_rule) للاطلاع على العديد من الأمثلة على العناصر التي يمكن استخدامها داخل التعبير، بالإضافة إلى أمثلة التعبيرات
5. تحديد إجراءات قواعد البرنامج
    3. ارجع إلى [الوثائق](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/configuring-the-system/programs.html#configure_program_rule) لمزيد من التفاصيل حول كل إجراء
6. امسح ذاكرة التخزين المؤقت واختبر


## **القاعدة 1 -** في المثال الأول، سنقوم بإنشاء قاعدة برنامج لبرنامج السل والتي تخفي عنصر بيانات "موقع EPTB" إذا لم يتم تصنيف مرض السل على أنه مرض خارج الرئة. { #rule-1-in-the-first-example-we-will-create-a-program-rule-for-the-tb-program-which-hides-the-eptb-site-data-element-if-the-tb-is-not-classified-as-extra-pulmonary }

**يجب أن تبدأ هذه الجلسة بتقديم الشرائح 1-4 فقط هنا:**

(https://docs.google.com/presentation/d/1igu8J5ybDOPHJnxMX6n5Ah2gHhL1Ri54v9lX4ZvZGSA/edit#slide=id.g3bdf14aaf4_0_0)

### الخطوة 1 - الوصول إلى تطبيق البرنامج والسمات { #step-1-access-the-program-and-attribute-app }

** قم بتسجيل الدخول إلى البيئة الفارغة وانتقل إلى تطبيق الصيانة **

![](Images/pr/image18.png)

**واضغط على البرنامج**

![](Images/pr/image2.png)

ملاحظة: لإنشاء قاعدة برنامج جديدة، قد تحتاج إلى إنشاء متغيرات قاعدة البرنامج أولاً

### الخطوة 2 - إنشاء متغير قاعدة البرنامج { #step-2-create-the-program-rule-variable }

يمكنك شرح مفهوم المتغير باستخدام الشرائح 6-7

(https://docs.google.com/presentation/d/1igu8J5ybDOPHJnxMX6n5Ah2gHhL1Ri54v9lX4ZvZGSA/edit#slide=id.g3bdf14aaf4_0_0) 

**لإنشاء متغير قاعدة برنامج جديد، عليك أولاً إنشاء متغيرات قاعدة البرنامج**

**انقر على متغير قاعدة البرنامج ثم أضف**

![](Images/pr/image25.png)

* **استخدام الكود لمجموعة الخيارات**: عندما يستخدم المتغير الخاص بك مجموعة خيارات، فإن هذا يسمح لك بتحديد ما إذا كنت ستستخدم كود مجموعة الخيارات بدلاً من القيمة عند إنشاء تعبيرات قاعدة البرنامج أم لا. غالبًا ما يكون من المفيد استخدام الكود لأنه أقل عرضة للتغيير من القيمة. قد لا ترغب في استخدام الرمز ولكن على سبيل المثال إذا كنت تعرض تغذية راجعة من نوع ما.
* **نوع المصدر:** يحدد نوع المصدر كيفية تعبئة الحقل المصدر بقيمة. يرجى الرجوع إلى [الوثائق](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/configuring-the-system/programs.html#configure_program_rule) للحصول على أحدث المعلومات .

ستستخدم في أغلب الأحيان "data element in current event" أو "Tracked entity attribute" ولكن هناك استخدامات للحقول الأخرى. يمكننا شرحها أكثر في أمثلة إضافية.

### الخطوة 3 - إنشاء قاعدة البرنامج { #step-3-create-the-program-rule }

**لإنشاء قاعدة برنامج جديدة، انقر على قاعدة البرنامج ثم أضف (الرمز “+” **)**

**أدخل تفاصيل قاعدة البرنامج**

![](Images/pr/image8.png)

لا تقلق بشأن الأولوية في الوقت الحالي. سيتم تغطية هذا في الدورات التدريبية / الأكاديميات الأخرى.

** أدخل تعبير قاعدة البرنامج **

يمكنك الرجوع إلى الشريحتين 8 و9 بشأن التعبيرات وعوامل التشغيل:
(https://docs.google.com/presentation/d/1igu8J5ybDOPHJnxMX6n5Ah2gHhL1Ri54v9lX4ZvZGSA/edit#slide=id.g3bdf14aaf4_0_0)

**إنشاء تعبير #{TBDiseaseSite_current} == '' || #{TBDiseaseSite_current} == 'الرئوي'**

قم باستدعاء عوامل التشغيل من الوثائق الموجودة الآن على طول الصف السفلي وقم بمراجعة معلومات سريعة عما تعنيه هذه العوامل. ستستخدم تعبيرًا يتضمن عوامل التشغيل المنطقية **يساوي** و**OR**.

![](Images/pr/image38.png)

**قم بإنشاء الإجراء ("Hide Field" في عنصر بيانات EBTB Site).**

**في هذه المرحلة، اشرح الإجراءات المختلفة المتوفرة مرة أخرى.**

يمكن الاطلاع على القائمة الكاملة للإجراءات في [الوثائق](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/configuring-the-system/programs.html#configure_program_rule).

![](Images/pr/image16.png)

** وانقر على COMMIT للحفظ. احفظ قاعدة البرنامج قبل المتابعة.**


### الخطوة 3 -اختبار قاعدة البرنامج { #step-3-test-the-program-rule }

قد تحتاج إلى مسح ذاكرة التخزين المؤقت أو إعادة التحميل في وضع التصفح المتخفي حتى تعمل القاعدة بشكل صحيح.

** انتقل إلى tracker capture لإظهار القاعدة أثناء العمل **

![](Images/pr/image36.png)

**تسجيل شخص جديد**

![](Images/pr/image27.png)

**يمكننا أن نرى على الفور أن القاعدة تعمل، حيث لا توجد قيمة لموقع المرض (disease site) وتم إخفاء عنصر بيانات EPTB site.**

اختيار الرئة (Pulmonary) يعطي نفس النتيجة

![](Images/pr/image11.png)

فقط عندما نختار Extra Pulmonary، يظهر عنصر بيانات EPTB site. هذا هو الإجراء المقصود من القاعدة.

![](Images/pr/image32.png)

لاحظ أنه إذا قمت بتحديد EPTB site

![](Images/pr/image4.png)

ومع ذلك، ارجع وقم بتغيير TB Disease site إلى رئوي (Pulmonary)

![](Images/pr/image19.png)

سوف تحصل على رسالة خطأ تفيد بأنه تم حذف قيمة EPTB Site. المنطق هنا هو أنه ما لم يكن موقع المرض خارج الرئة، فإن قيمة EPTB Site تكون مخفية وبالتالي لا يمكن إدخال قيمة ذات صلة بداخلها.

![](Images/pr/image12.png)

### توقف - اطلب من المشارك أداء التمرين 1 في دليل المتعلم { #stop-have-the-participants-perform-exercise-1-in-the-learners-guide }

## **القاعدة 2 -** أنشئ قاعدة برنامج لإخفاء سؤال الحمل إذا كان الجنس ذكرًا باستخدام برنامج السل { #rule-2-create-a-program-rule-to-hide-pregnant-if-gender-is-male-using-the-tb-program }

**الوصول إلى قواعد البرامج من تطبيق الصيانة --> البرنامج**

** قم بتسجيل الدخول إلى البيئة الفارغة وانتقل إلى تطبيق الصيانة **

![](Images/pr/image18.png)

**واضغط على البرنامج**

![](Images/pr/image2.png)

** إضافة متغير قاعدة البرنامج الجديد **

![](Images/pr/image37.png)

**قم بإنشاء قاعدة البرنامج**

إخفاء سؤال الحمل إذا كان الجنس ذكراً

أدخل تفاصيل قاعدة البرنامج.

في التعبير، نستخدم خيار الذكر من "الجنس" الذي قمنا بإنشائه

![](Images/pr/image39.png)

**اختبر القاعدة مع المشاركين**

قم بمسح ذاكرة التخزين المؤقت إذا لزم الأمر، ثم انتقل إلى tracker capture لاختبار القاعدة

يجب أن يكون سؤال الحمل مخفياً إذا كان الجنس ذكراً

![](Images/pr/image34.png)

ينبغي أن يظهر

![](Images/pr/image7.png)

### توقف - اطلب من المشارك أداء التمرين 2 في دليل المتعلم { #stop-have-the-participants-perform-exercise-2-in-the-learners-guide }

## القاعدة 3 - قم بإنشاء قاعدة برنامج أخرى لبطاقة علاج السل والتي تعرض رسالة تحذير عندما يكون الوزن خارج النطاق { #rule-3-create-another-program-rule-for-the-tb-treatment-card-which-displays-a-warning-message-when-weight-is-out-of-range }

**الوصول إلى قواعد البرامج من تطبيق الصيانة --> البرنامج**

** قم بتسجيل الدخول إلى البيئة الفارغة وانتقل إلى تطبيق الصيانة **

![](Images/pr/image18.png)

**واضغط على البرنامج**

![](Images/pr/image2.png)

** إضافة متغير قاعدة البرنامج الجديد **

الوزن، عنصر البيانات في الحدث الحالي، الوزن (بالكجم)

![](Images/pr/image14.png)

## قم بإنشاء قاعدة البرنامج { #create-the-program-rule }

** قم بإدخال تفاصيل قاعدة البرنامج **

![](Images/pr/image24.png)

في التعبير، نجمع بين عدة مبادئ لإنشاء مخرجاتنا باستخدام الدالة المخصصة والمشغلين المنطقيين "AND" و"OR" بالإضافة إلى الأقواس لتحديد النطاقات القصوى لقيمة الوزن. نظرًا لأن الوزن هو قيمة عددية، فيمكننا تطبيق منطق مشابه لقاعدة التحقق من الصحة لتحديد القيم التي نعتبرها خارج النطاق. تأكد من شرح كل ما تفعله للمشاركين (لماذا تعتبر الأقواس مهمة لتجميع عناصر القاعدة معًا، ولماذا نستخدم بعض العوامل المنطقية هنا).

![](Images/pr/image21.png)

** قم بإدخال إجراء قاعدة البرنامج **

![](Images/pr/image31.png)

**اختبر قاعدة البرنامج كما في السابق**

** امسح ذاكرة التخزين المؤقت للمتصفح الخاص بك باستخدام تطبيق منظف ذاكرة التخزين المؤقت للمتصفح **

![](Images/pr/image13.png)

"تحديد الكل" -> مسح

![](Images/pr/image33.png)

عندما تكون قيمة الوزن خارج النطاق الذي حددته، يجب أن تعرض رسالة تحذير.

![](Images/pr/image17.png)

![](Images/pr/image40.png)

عندما يكون الوزن ضمن النطاق الذي حددته، أو عندما لا يكون لعنصر بيانات الوزن قيمة، يجب ألا تظهر أي رسالة تحذير.

![](Images/pr/image30.png)
![](Images/pr/image6.png)

### توقف - اطلب من المشارك أداء التمرين 3 في دليل المتعلم { #stop-have-the-participants-perform-exercise-3-in-the-learners-guide }

## القاعدة 4 - قم بإنشاء قاعدة برنامج باستخدام بطاقة علاج السل. { #rule-4-create-a-program-rule-using-the-tb-treatment-card }

قم بإظهار موقع المرض في قسم التغذية الراجعة (feedback)

**قم بالوصول إلى قواعد البرامج من تطبيق الصيانة --> البرنامج**

** قم بتسجيل الدخول إلى البيئة الفارغة وانتقل إلى تطبيق الصيانة **

![](Images/pr/image18.png)

**واضغط على البرنامج**

![](Images/pr/image2.png)

** إضافة متغير قاعدة البرنامج الجديد **

![](Images/pr/image35.png)

نريد أن نرى موقع المرض بغض النظر عن المرحلة التي نستعرضها. يتم التقاط موقع المرض فقط في المرحلة الأولية، لذلك نريد الرجوع إليه لعرض المعلومات الضرورية في الشاشة. هذا مثال على متى يمكننا استخدام حقل مصدر مختلف عما لدينا حتى الآن.

**قم بإنشاء القاعدة الجديدة**

![](Images/pr/image1.png)

**قم بإنشاء وشرح التعبير. سوف نستخدم دالة تسمى d2:hasValue للتحقق مما إذا كان هناك أي قيمة لعنصر البيانات**

![](Images/pr/image28.png)

** تحديد الإجراء **

![](Images/pr/image22.png)

بالنسبة للإجراء، سنعرض القيمة التي تم جمعها في قسم التغذية الراجعة.

**اختبر القاعدة. امسح ذاكرة التخزين المؤقت إذا لزم الأمر **

![](Images/pr/image5.png)

### توقف - اطلب من المشارك أداء التمرين 4 في دليل المتعلم { #stop-have-the-participants-perform-exercise-4-in-the-learners-guide }

## القاعدة 5 - قم بإنشاء قاعدة برنامج أخرى لبطاقة علاج السل لتعيين العمر بناءً على تاريخ الميلاد { #rule-5-create-another-program-rule-for-the-tb-treatment-card-to-assign-age-based-on-the-date-of-birth }

**الوصول إلى قواعد البرامج من تطبيق الصيانة => البرنامج**

** قم بتسجيل الدخول إلى البيئة الفارغة وانتقل إلى تطبيق الصيانة **

![](Images/pr/image18.png)

**واضغط على البرنامج**

![](Images/pr/image2.png)

** إضافة متغير قاعدة البرنامج الجديد **

**متغير قاعدة البرنامج "dateofbirth" مع نوع المصدر "Tracked entity attribute"**

![](Images/pr/image26.png)

**قم بإنشاء قاعدة البرنامج**

** قم بإدخال تفاصيل قاعدة البرنامج **

![](Images/pr/image29.png)

في التعبير، سوف نستخدم دالّة عددية. يمكنك توجيه المشاركين إلى الوثائق للحصول على قائمة كاملة بالدوالّ المخصصة المتاحة للمستخدم، حيث لن تتم تغطية الدوالّ الأخرى بالتفصيل هنا. هذا بالأحرى لمنحهم فكرة عما هو ممكن مع هذه الدوالّ.

![](Images/pr/image10.png)

** قم بإدخال إجراء قاعدة البرنامج **

![](Images/pr/image15.png)

**اختبر قاعدة البرنامج كما في السابق**

** امسح ذاكرة التخزين المؤقت للمتصفح الخاص بك باستخدام تطبيق منظف ذاكرة التخزين المؤقت للمتصفح **

![](Images/pr/image13.png)

"تحديد الكل" -> مسح

![](Images/pr/image33.png)

**سجّل كيان جديد وأدخل تاريخ الميلاد**

![](Images/pr/image9.png)

بعد إدخال تاريخ الميلاد سيتم حساب العمر

![](Images/pr/image20.png)

### توقف - اطلب من المشارك أداء التمرين 5 في دليل المتعلم { #stop-have-the-participants-perform-exercise-5-in-the-learners-guide }

