---
revision_date: "2021-09-15"
template: single.html
---

# 用户和用户角色 { #users-and-user-roles }

## 关于用户管理 { #about_user_userrole }

多个用户可以同时访问DHIS2，每个用户可以拥有
不同的当局。您可以微调这些权限，以便
某些用户只能输入数据，而其他用户只能生成数据
报告。

- 您可以根据需要创建任意数量的用户、用户角色和用户组。

- 您可以通过用户角色将特定权限分配给用户组或单个用户。

- 您可以创建多个用户角色，每个用户角色都有自己的权限。

- 您可以为用户分配用户角色以授予用户相应的权限。

- 您可以将每个用户分配到组织单位。然后用户可以为分配的组织单位输入数据。

表：用户管理术语和定义

| 学期 | 定义 | 例 |
| --- | --- | --- |
| 权威 | 执行一项或多项特定任务的权限 | 创建新数据元素 <br> <br> 更新组织单位 <br> <br> 查看报告 |
| 用户 | 一个人的 DHIS2 用户帐户 | 管理员 <br> <br> traore <br> <br> 客人 |
| 用户角色 | 一组权威 | 数据录入员 <br> <br> 系统管理员 <br> <br> 产前保健计划访问 |
| 用户组 | 一组用户 | 肯尼亚工作人员 <br> <br> 反馈信息接收者 <br> <br> 艾滋病毒项目协调员 |

您可以在**用户**应用中管理用户，用户角色和用户组。

表：用户应用项目中的对象

| 对象类型 | 可用功能 |
| --- | --- |
| 用户 | 创建、编辑、邀请、克隆、禁用、按组织单位显示、删除和显示详细信息 |
| 用户角色 | 创建、编辑、共享、删除和显示详细信息 |
| 用户组 | 创建、编辑、加入、离开、分享、删除和显示详细信息 |

### 关于用户 { #about-users }

DHIS2中的每个用户都必须具有一个用户帐户，该帐户由
用户名。您应该为每个用户注册一个名字和姓氏
以及联系信息，例如电子邮件地址和电话
数。

注册正确的联系信息很重要。 DHIS2
使用此信息直接联系用户，例如发送
通过电子邮件通知重要事件。您也可以使用
联系人信息以共享，例如仪表板和数据透视表。

DHIS2中的用户与组织单位相关联。你应该
分配用户所在的组织单位。

为地区记录员创建用户帐户时，应
将他/她工作的地区指定为组织单位。

分配的组织单位会影响用户如何使用DHIS2：

- In the **Data Entry** app, a user can only enter data for the organisation unit she is associated with and the organisation units below that in the hierarchy. For instance, a district records officer will be able to register data for her district and the facilities below that district only.

- 在 **Users** 应用中，除了层次结构中的组织单位之外，用户只能为与其关联的组织单位创建新用户。

- In the **Reports** app, a user can only view reports for her organisation unit and those below. (This is something we consider to open up to allow for comparison reports.)

用户管理的重要部分是控制哪些用户是
允许创建具有权限的新用户。在DHIS2中，您可以
控制允许哪些用户执行此任务。关键原则
是用户只能授予权限并访问那些
用户本身有权访问。国家，省的用户数
和地区级别通常相对较少，可以创建和
由系统管理员管理。如果很大一部分
设施正在将数据直接输入到系统中，
用户可能会变得笨拙。建议委派和
将这项任务下放给地区官员，它将使
处理效率更高，并为设施用户提供更好的支持。

### 关于用户角色 { #about-user-roles }

DHIS2中的用户角色是一组权限。权威是指
执行一项或多项特定任务的权限。

用户角色可以包含创建新数据元素，进行更新的权限
组织单位或查看报告。

一个用户可以具有多个用户角色。如果是这样，用户的权限将
是用户角色中所有权限和数据集的总和。这个
意味着您可以出于特殊目的混合和匹配用户角色
仅创建新的。

A user role is associated with a collection of data sets. This affects the **Data Entry** app: a user can only enter data for the data sets registered for his/her user role. This can be useful when, for example, you want to allow officers from health programs to enter data only for their relevant data entry forms.

建议：

- 为组织内的每个职位创建一个用户角色。

- 创建用户角色的同时定义哪个用户正在执行系统中的哪些任务。

- 只给用户角色他们执行工作所需的确切权限，而不是更多。只有那些应该执行任务的人才能拥有执行任务的权限。

### 关于用户组 { #about-user-groups }

用户组是一组用户。设置时使用用户组
共享对象或通知，例如推送报告或项目
通知。

也可以看看：

[分享](https://ci.dhis2.org/docs/master/en/user/html/sharing.html)

[管理项目
通知]（https://docs.dhis2.org/master/zh/user/html/manage_program_notification.html）

[大力推
报告]（https://docs.dhis2.org/master/zh/user/html/manage_push_report.html）

## 工作流程 { #user_mgt_workflow }

1.  定义项目所需的职位，并确定不同职位将执行的任务。

2.  为每个职位创建大约一个用户角色。

3.  创建用户。

4.  将用户角色分配给用户。

5.  将用户分配给组织单位。

6.  （可选）将用户分组到用户组中。

7.  通过维护应用项目的数据集管理部分中的共享对话框与用户或用户组共享数据集

> **提示**
>
> 为了让用户能够输入数据，您必须将他们添加到组织单位级别并与他们共享数据集。

## 示例：卫生系统中的用户管理 { #user_mgt_example }

在卫生系统中，将用户按照任务进行逻辑分组
他们的表现和所占据的位置。

1.  定义哪些用户应具有系统管理员角色。他们通常是国家 HIS 部门的一部分，应该在系统中拥有完全的权力。

2.  为每个职位创建大约一个用户角色。

常见职位的示例有：

| 位置 | 典型任务 | 推荐权威 | 评论 |
| --- | --- | --- | --- |
| 系统管理员 | 设置系统的基本结构（元数据）。 | 添加、更新和删除系统的核心元素，例如数据元素、指标和数据集。 | 只有系统管理员才能修改元数据。 <br> 如果您允许系统管理员团队以外的用户修改元数据，可能会导致协调问题。 <br> <br> 系统更新只能由系统管理员执行。 |
| 国家卫生管理者 <br> <br> 省卫生管理者 | 监控和分析数据 | 访问报告模块、**地图**、**数据质量**应用项目和仪表板。 | 无需访问即可输入数据、修改数据元素或数据集。 |
| 国家卫生信息系统部门官员 (HISO) <br> <br> 地区健康记录和信息官员 (DHRIO) <br> <br> 设施健康记录和信息官员 (HRIO) | 输入来自无法直接输入的设施的数据 <br> <br> 监控、评估和分析数据 | 访问所有分析和验证应用项目 <br> <br> 访问**数据输入**应用项目。 | -- |
| 数据录入员 | -- | -- | -- |

# 使用DHIS 2进行脱机数据输入的准则 { #offline_data_entry }

<!--DHIS2-SECTION-ID:offline_data_entry-->

DHIS 2 部署的事实上的标准方式已成为_在线_，这意味着应用项目的单个实例设置在连接到 Internet 的服务器上，并且所有用户使用网络浏览器通过 Internet 连接到应用项目。这要归功于互联网可用性（主要是移动互联网）的稳步增长、现成且廉价的云计算资源的提供以及 DHIS 2 不需要大量带宽的事实。这些发展使得使用移动互联网调制解调器（也称为加密狗）访问在线服务器成为可能，即使是在大多数农村地区。

这种在线部署方式对
实施过程和应用项目维护相比
传统的离线独立风格：

**硬件**：最终用户方面的硬件要求仅限于相当现代的计算机/笔记本电脑和互联网<！--提及手机，因为 android 被列为
选择？ --> 通过固定线路或移动调制解调器连接。无需为每个用户配备专门的服务器，任何支持 Internet 的计算机就足够了。在线部署需要一台服务器，但由于只有一台（或多台）服务器需要采购和维护，这比在不同位置维护许多单独的服务器要简单得多（也更便宜）。鉴于云计算资源的价格持续稳步下降，同时计算能力不断提高，在云中建立强大的服务器比采购硬件便宜得多。

**软件平台**：最终用户只需要一个网络浏览器即可连接到在线服务器。当今所有流行的操作系统都附带 Web 浏览器，对于 <!--I’m not sure this is true, at least in practice --> 的类型或版本没有特殊要求。这意味着，如果出现病毒感染或软件损坏等严重问题，您可以随时重新格式化和安装计算机操作系统或获取新的计算机/笔记本电脑。用户可以继续输入数据，不会丢失任何数据。

**软件应用**：中央服务器部署方式意味着应用可以集中升级和维护。当发布具有新功能和错误修复的应用项目的新版本时，可以将其部署到单个在线服务器。下次最终用户通过 Internet 连接时，所有更改都将反映在客户端。这显然对改进系统的过程产生了巨大的积极影响，因为新功能可以立即分发给用户，所有用户都将访问相同的应用项目版本，并且可以即时整理和部署错误和问题 <!-- Bugs can be deployed on-the-fly! --> .

**数据库维护**：与上一点类似，元数据的更改可以集中在在线服务器上完成，并在下次连接到服务器时自动传播到所有客户端。这有效地消除了与维护与传统离线部署方式相关的升级和标准化元数据集相关的大量问题。例如，在初始数据库开发阶段和年度数据库修订过程中非常方便，因为即使经常发生更改，最终用户也将访问一致且标准化的数据库。

尽管可以将 DHIS 2 实施标记为在线，但值得注意的是，这种部署可能不是纯粹在线的，并且可能会根据当地限制而出现一些局部变化。例如，尽管国家/地区的大多数用户都可以使用移动互联网或更好的 <!-- Other? Fixed might not be better... --> 连接方式轻松访问其国家 DHIS 2 实例，但不幸的是，在互联网连接不稳定或缺失的地方，有些用户仍然难以访问系统进行数据输入或分析在很长一段时间内。对于这些苦苦挣扎的用户，需要找到与系统交互的替代方法。

本指南旨在就如何在具有挑战性的环境中减轻缺乏可靠互联网的影响提供建议。

## 案例及相应的解决方案 { #offline_data_entry_cases }

<!--DHIS2-SECTION-ID:offline_data_entry_cases-->

在本节中，我们将检查可能的具有挑战性的案例，并描述可能的方法来解决它们或在短期内尽量减少它们对用户和整个系统的影响。显然，本指南中提出的可能解决方案应在每种情况下进行调整，并考虑许多其他参数，例如安全性、当地实践和规则等。本指南中的想法不是规定可以在任何地方都有效的防弹解决方案，而是提出解决该国某些地方的连通性问题的方法。

我们确定了三（3）个主要方案：

1. 有限的互联网可用性和数据输入表格很小
1. 有限的互联网可用性和数据输入形式非常庞大
1. 互联网根本不可用

我们认识到这些情景非常简单，因为在实践中，医疗机构可以拥有例如用于疾病监测的小型每周表格、用于每月进度报告的大型表格和用于健康计划的中型表格。这使得给定设置的可能场景数量大于此处说明的数量。因此，每个实施团队都需要与利益相关者进行讨论，以做出简单的选择，以解决给定环境中的所有场景。在大多数情况下，大约 80% 到 95% 的地区 <!-- Do we have a source for this? -->（或卫生设施，如果在此级别完成数据输入）在互联网可用性方面将具有相同的配置，只有剩下的 5% 到 20% 需要其他方法来获取他们的数据DHIS 2。

### 1.有限的互联网可用性（信号不稳定或有限的移动数据）和数据输入表格很小 { #offline_data_entry_cases_small }

<!--DHIS2-SECTION-ID:offline_data_entry_cases_small-->

通过有限的互联网可用性，我们的意思是：

- 网络信号可用且良好，但没有足够的资源购买足够的移动数据来连续在线工作
- 网络良好但波动或仅在一天中的特定时段可用
- 网络信号较弱但不时改善以允许连接到 DHIS 2

所谓的小数据输入表是指少于一百个的数据输入表<！-- 如果我猜到了“小”的意思，我会说
10-20 --> 字段。

因此，如果互联网连接受限且数据输入表单很小，则有两种解决连接问题的可能性：Android 数据捕获应用项目和 Web 数据输入离线功能。

#### 使用Android数据捕获应用项目： { #use-of-android-data-capture-app }

<！-需要确保此版本已随着新版本的发布而更新
应用项目->

DHIS 2 应用项目的数据捕获允许用户使用 Android 设备将数据输入到 DHIS 2 服务器。该应用项目下载从服务器输入数据所需的表单实例，并将它们存储在设备上。这意味着用户可以离线输入他们分配到的设施的数据，然后在有网络覆盖时将其上传到 DHIS 2 服务器。

为此，将要求用户从他们的 Android 设备转到 Google Play 并键入 DHIS 2 数据捕获并获得以下屏幕。

然后安装名为 **Data Capture for DHIS 2** 的应用项目。

![](resources/images/image5.png)

安装并启动应用项目后，将要求用户提供其国家 DHIS 2 的 URL、用户名和密码，然后点击登录。

 <table style="border:1px;">
 <tr>
 <td style="width:40%;padding: 5 20 5 20;border:1px;">

![](resources/images/offline_data_entry/image4.jpg)

 </td>
 <td style="width:40%;padding: 5 20 5 20;border:0px;">
 </td>
 </tr>
 </table>

成功登录后，应用项目将自动下载用户分配到的表格和组织单位，并将其存储在本地以供数据输入。从这里开始，任何后续使用该应用项目进行数据输入都不需要互联网连接，因为表单实例已经存储在本地。只有与服务器同步数据时才需要 Internet 连接。这可以在本地互联网可用时完成。

 <table style="border:0px;">
 <tr>
 <td style="width:40%;padding: 5 20 5 20 ;border:0px;">

![](resources/images/image9.jpg)

 </td>
 <td style="width:40%;padding: 5 20 5 20 ;border:0px;">

![](resources/images/image7.jpg)

 </td>
 </tr>
 </table>

在系统管理方面，将数据输入表单组织成 DHIS 2 中的部分将使数据输入体验更加流畅和愉快。

至于同步，当需要时互联网连接不可用时，用户将移动设备带到区 - 在区会议期间 - 或到最近的可用互联网区域。

#### 脱机使用DHIS 2 Web数据输入模块的功能 { #use-of-the-offline-capability-of-dhis-2-web-data-entry-module }

Web 数据输入模块是 DHIS 2 中的模块，允许使用我们的浏览器输入数据。这是 DHIS 2 中的常规在线数据输入方式。然而，它还具有“离线”功能，即使在互联网中断时也能支持继续输入数据。这意味着用户想在月底即时进行数据输入，他必须首先连接到互联网，登录到 DHIS 2 并打开他分配到的至少一个设施的数据输入表.从这一步开始，只要网络浏览器中的数据输入网页窗口没有关闭，他就可以断开他的互联网并继续为他的所有设施和他想要的时间段输入数据。完成数据输入后，他可以关闭浏览器并关闭他的计算机。输入的数据将本地存储在浏览器的缓存中，下次用户上网并登录 DHIS 2 时，系统会要求他单击按钮上传数据。

对于这种情况，可以使用DHIS 2中的android数据输入应用项目或基于半脱机Web的功能，或同时使用这两种功能，具体取决于数据输入表单的大小。但是，清除浏览器的缓存将导致本地存储的数据丢失。因此，建议不要在未确保本地存储的数据同步的情况下清除缓存。<>

当用户登录并且互联网被切断时（有意或无意）

![](resources/images/image1.png) <!-- PALD：这张截图是
当主页图标（）左上角）被打破时拍摄。我建议我们更换这张图片！ -->

当互联网重新连接并且用户登录DHIS 2时

![](resources/images/image6.png)

### 2.有限的互联网可用性和数据输入形式非常庞大 { #offline_data_entry_cases_huge }

<!--DHIS2-SECTION-ID:offline_data_entry_cases_huge-->

<!-- Does the PDF data entry option still exist? Where you could generate PDF-based data entry forms that could be managed offline and then be uploaded?-->

当互联网但可用性有限但数据输入表单包含数百个字段时，它限制了可能的解决方案。在这种情况下，不建议使用 android 捕获，原因有两个：

- 它可能会经常崩溃，因为它不是为处理非常大尺寸的表格而设计的 <!-- We could perhaps de-emphasise this point.. -->
- 由于屏幕很小并且不允许快速输入数据，因此对于用户来说可能会变得乏味且令人眼花缭乱

因此，唯一可用的选项是使用上述网络数据输入模块的离线功能，或者当用户无法等待下一次在他的区域可用互联网时，移动到最近的可用互联网的地方。

### 3.互联网根本不可用 { #offline_data_entry_cases_no_available }

<!--DHIS2-SECTION-ID:offline_data_entry_cases_no_available-->

在这种情况下，有三个选项：

- 使用 Android 捕获应用项目在本地输入数据，如果用户在那里参加定期会议，则在可以访问互联网的上层同步数据。这只有在表格很小的情况下才可行
- 移动到最近的地方（如果负担得起）或利用上层定期会议的机会使用网络数据输入模块捕获数据。在这种情况下，根据 Internet 连接，用户可以在线工作或使用 [以上](#offline_data_entry_cases_small) 部分中描述的离线功能。
- 无论表格大小，请询问上级可以在哪里使用互联网进行数据输入。尽管此数据输入发生在上层，但仍然可以为每个医疗机构输入数据。

<！-看起来很自然，带有某种结论或
摘要->

# 数据分析工具概述 { #data-analysis-tools-overview }

本章概述了 DHIS2 提供的用于数据分析的可用工具，并描述了每个工具的目的和好处。如果您正在寻找有关如何使用每个工具的详细指南，我们建议您在完成本章后继续阅读用户指南。以下列表显示了各种工具：

1.  标准报告

2.  数据集报告

3.  数据完整性报告

4.  静态报告

5.  组织单位分布报告

6.  报告表

7.  图表

8.  Web数据透视表

9.  地理信息系统

10. 我的Datamart和Excel数据透视表

## 数据分析工具 { #data-analysis-tools }

下一节将介绍每种工具。

### 标准报告 { #standard-reports }

标准报告是具有预定义设计的报告。这意味着只需单击几下即可轻松访问这些报告，并且所有经验水平的用户都可以使用这些报告。该报告可以包含表格和图表形式的统计数据，并且可以根据大多数要求进行定制。 DHIS2 中的报表解决方案基于 JasperReports，并且报表最常使用 iReport 报表设计器进行设计。即使报表设计是固定的，数据也可以根据层次结构内的任何组织单位和不同的时间段动态加载到报表中。

### 数据集报告 { #data-set-reports }

数据集报告将数据输入表单的设计显示为填充了聚合数据的报告（与捕获的低级数据相反）。所有类型的用户都可以轻松访问此报告，并可以快速访问汇总数据。通常存在将数据输入表单作为该工具有效提供的报告查看的遗留要求。数据集报表支持所有类型的数据输入表单，包括部分和自定义表单。

### 数据完整性报告 { #data-completeness-report }

数据完整性报告生成数据录入表格完整性程度的统计数据。可以按单个数据集或按层次结构中具有共同父级的组织单元列表分析统计数据。它提供了总完整性和及时提交的完整性的百分比值。可以使用各种完整性定义作为统计的基础：首先基于用户输入数据手动标记为完整的数据集的数量。其次，基于是否为数据集填写了所有定义为强制的数据元素。第三基于填充的值的数量占数据集中值的总数的百分比。

### 静态报告 { #static-reports }

静态报告提供了两种方法来链接到用户界面中的现有资源。首先，它提供了通过 URL 链接到 Internet 上资源的可能性。其次，它提供了将文件上传到系统并链接到这些文件的可能性。要上传的文件类型可以是任何类型的文档、图像或视频。有用的链接文件示例是健康调查、政策文件和年度计划。 URL 可以指向相关的网站，例如卫生部主页、健康相关信息的来源。此外，它还可以通过指向特定资源用作第三方基于 Web 的分析工具的接口。一个示例是将 URL 指向由 BIRT 报告框架提供的报告。

### 组织单位分布报告 { #organisation-unit-distribution-reports }

组织单位分布报告根据其分类提供层次结构中的设施（组织单位）的统计信息。分类基于组织单位组和组集。例如，设施可以通过从组织单元类型的组集中分配到相关组来按类型分类。分布报告生成每个类的设施数量，并且可以为系统中的所有组织单元和所有组集生成。

### 报告表 { #report-tables }

报告表是基于表格格式的汇总数据的报告。报告表可以用作独立报告，也可以用作更复杂的标准报告设计的数据源。表格格式可以交叉制表，任何数量的维度显示为列。它可以包含指标和数据元素聚合数据以及数据集的完整性数据。它可以包含使报告能够随时间重复使用的相对时间段。它可以包含组织单位和期间的用户可选参数，以使报表能够重复用于层次结构中的所有组织单位。报告表可以限制为顶部结果并按升序或降序排序。生成的报告表数据可以下载为 PDF、Excel 工作簿、CSV 文件和 Jasper 报告。

### 图表 { #charts }

图表组件提供了多种图表，包括标准条形图、折线图和饼图。图表可以在 x 和 y 轴以及固定的水平目标线上包含指标、数据元素、周期和组织单位。图表可以直接查看，也可以作为仪表板的一部分查看，稍后将进行说明。

### Web数据透视表 { #web-pivot-tables }

Web 数据透视表以表格格式提供对统计数据的快速访问，并能够“透视”任意数量的维度，例如指标、数据元素、组织单位和期间，以显示在列和行上，以创建定制视图.表格中的每个单元格都可以显示为条形图。

### 地理信息系统 { #gis }

GIS 模块提供了在地图上可视化聚合数据的能力。 GIS 模块可以提供多面体（如省、区）和点（如不同图层中的设施）的专题制图。提到的图层可以一起显示并与自定义叠加层组合。这样的地图视图可以很容易地导航回历史，保存以便以后访问，并作为图像文件保存到磁盘。 GIS 模块为专题制图、预定义和自动图例集、显示地理元素标签（名称）的能力以及测量地图中点之间距离的能力提供自动和固定的分类中断。可以查看任何指标或数据元素以及组织单元层次结构中任何级别的映射。还有一个特殊图层用于在地图上显示设施，其中每个设施都根据其类型用符号表示。

### 我的Datamart和Excel Pivot表 { #my-datamart-and-excel-pivot-tables }

My Datamart工具的目的是为用户提供完全访问权限
甚至在不可靠的Internet连接上也可以聚合数据。这个工具
由安装在
用户的计算机。它连接到运行
DHIS2实例，下载聚合数据并将其存储在数据库中
本地计算机。该数据库可用于连接第三方
工具，例如MS Excel Pivot表，它是强大的数据工具
分析和可视化。这种解决方案意味着
需要Internet连接时间来同步客户端
中央在线数据库，并且在此过程之后
完成后，数据将独立于连接而可用。请阅读
本章专门介绍了此工具，以获取详细信息。

# DHIS 2的本地化 { #localization-of-dhis-2 }

## DHIS 2本地化概念 { #localization-intro }

本地化涉及使应用项目适应特定位置。在特定国家/地区实施 DHIS 2 时，应分配足够的资源来翻译和本地化应用项目（如果需要）。必须考虑用户界面元素、消息、布局、日期和时间格式、货币和其他方面的翻译。除了翻译用户界面本身之外，还必须考虑翻译数据库中包含的元数据内容。

接口翻译被编译到系统本身，因此只能通过更新版本的 DHIS 2 访问新的翻译。另一方面，数据库翻译特定于您的实施，可以添加到现有的 DHIS 2 实例中。

这两个方面是独立管理的，流程和工具概述如下。

## 用户界面本地化 { #user-interface-localization }

### 总览 { #overview }

DHIS 2 通过使用 Java 属性字符串和 PO 文件支持用户界面的国际化 (i18n)。当消息来自后端 Java 服务器时使用 Java 属性文件，而 PO 文件用于用 JavaScript 编写的前端应用项目。 DHIS 2 Android 应用项目使用特定的 XML 格式。

> **注意**
>
> 译者无需担心不同的资源文件格式；翻译平台隐藏细节，只显示需要翻译的字符串。
> 例如，下图显示了将资源翻译为法语时的源字符串和目标字符串。
>
> ![](resources/images/translation_ui.jpg)

DHIS 2 中的所有消息都应该始终有一个英文字符串。当用户选择给定的语言，并且该语言存在翻译时，将显示翻译。但是，如果缺少所需语言的字符串，则将应用回退规则。如果两个给定的翻译（例如葡萄牙语和巴西葡萄牙语）共享共同信息，则不需要以变体语言执行完整翻译。只应翻译不同的消息。
然后以下列方式应用后备规则（假设用户选择巴西葡萄牙语作为他们的语言：

1.  如果存在，则以巴西葡萄牙语显示消息。

2.  如果它在变体语言中不存在，则使用葡萄牙语消息（如果存在）。

3.  如果在基本语言或变体语言中都没有消息，请选择最终的备用语言英语。

> **重要**
>
> 在 DHIS 2 的各个部分中，有许多源字符串，例如 "dd MMM yyyy 'to '" 用于日期/时间格式。部分值不应翻译，因为它实际上是使用的特殊格式字段通过 Java 或 JavaScript 插入或格式化字符串。在此示例中，**可以**翻译的值部分将是“to”，例如西班牙语中的“a”。应该**不**翻译的特殊字符串是“dd MMM yyyy”。如果翻译这些日期格式模板字符串，可能会导致应用项目出错！

> **重要**
>
> 一些特殊变量（例如 {0} ）使用大括号。这表示将由应用项目替换为数字或其他值的变量。您必须将此变量表示法放在正确的位置，并确保不要修改它。

### 翻译平台 { #translation-server }

DHIS2 现在使用 [transifex](www.transifex.com) 作为我们管理翻译的主要平台。您可以在 [translate.dhis2.org](https://translate.dhis2.org) 或直接在 https://www.transifex.com/hisp-uio/public 访问 DHIS2 资源。

### 我如何为翻译做贡献？ { #how-do-i-contribute-to-translations }

#### 注册为翻译 { #register-as-a-translator }

第一步是访问该项目。有两种方法可以做到这一点：

1. 导航到平台并使用 transifex 创建一个帐户，然后 - 作为“DHIS 2 Core Apps”翻译团队的成员请求访问我们的组织“HISP UiO”。
    Transifex 在这里有一些有用的说明：[作为翻译入门](https://docs.transifex.com/getting-started-1/translators)

1. 向DHIS 2小组发送电子邮件，电子邮件地址为translate@dhis2.org，以请求访问权限。
   请提供： - 您希望我们授予访问权限的用户的姓名、电子邮件地址和翻译语言，以及 - 关于您为何有兴趣参与 DHIS 2 翻译的一些信息

#### 编辑翻译 { #edit-translations }

拥有翻译权限后，就可以开始通过transifex Web编辑器进行翻译了。

Transifex 在这里有一个有用的指南：[使用 Web 编辑器在线翻译](https://docs.transifex.com/translation/translating-with-the-web-editor)

这些项目尽可能一对一地代表DHIS 2应用项目。例如，** APP：Data Visualizer **项目包含Data Visualizer应用项目的翻译字符串。

我们针对DHIS2用户界面的transifex项目均从以下一项开始：

- ** APP：**表示项目包含特定应用项目的字符串
- ** APP-COMPONENT：**表示项目是应用项目使用的组件库
- ** ANDROID：**表示该项目是Andriod应用

另外，** APP：服务器端资源**包含一些字符串，供多个应用项目使用；即：

- “数据输入”
- “保养”
- “数据透视表”
- “报告”

> **提示**
>
> 确保有特定应用项目的完整翻译，例如“Tracker Capture”，您需要确保翻译完成：
>
> - 应用项目：**APP：Tracker Capture**
> - 任何以 **APP-COMPONENTS** 开头的项目
> - **APP：服务器端资源**，如果需要。对于 Tracker Capture，这是**不需要**。

在项目中，我们拥有资源，这些资源在源代码中表示本地化文件。为了支持具有相同本地化文件的多个DHIS2版本，_version_与文件的每个实例关联。因此，对于** APP：Data Visualizer **，资源列表在Web编辑器中如下所示：

![](resources/images/implementation_guide/transifex_data_vis.jpg)

即应用项目只有一个源资源（`en.pot`），但我们添加了从 2.31（v31）到最新开发（主）的版本。版本显示在“类别”字段中，并且作为资源名称的前缀也可见，例如`v31--en-pot`。

> **注意**
>
>通常，我们要求翻译人员专注于“ **主**”资源；它通常包含以前版本的所有字符串，并且在添加翻译时，平台也会在以前版本中填写匹配的翻译。

### 系统何时会提供新翻译？ { #when-will-new-translations-be-available-in-the-system }

我们提供夜间服务，该服务从transifex平台提取新翻译并在源代码上打开提取请求。

该服务遍历所有项目和受支持的语言，并执行以下操作：

1. 从Transifex中提取本地化文件（**完成翻译20％以上的**）
2. 如果找到语言的更改，则在源代码上引发拉取请求

作为正常开发过程的一部分，对拉取请求进行审查并将其合并到代码库中。

> **信息**
>
> 通常，添加到 transifex 的翻译将在所有支持的 DHIS 2 版本的下一个可用稳定版本中
>
> _如果您需要确保您的翻译在下一个稳定版本中，请联系我们 (translate@dhis2.org) 说明您的需求，我们会让您知道我们可以做什么。_

> **提示**
>
> 在大多数情况下，您在 transifex 中添加的翻译应该会在几天内出现在我们播放服务器 (https://play.dhis2.org) 上的所有开发演示版本中。

### 如何添加新语言？ { #how-do-i-add-a-new-language }

请通过电子邮件translate@dhis2.org或在[实践社区]（https://community.dhis2.org/c/translation）与我们联系，我们将在Transifex的项目中添加该语言。

一旦该语言的资源被翻译超过 20%，它们将开始被拉入系统。然后它们将在开发演示版本中可见，并在未来的版本中可用。

> **注意**
>
> DHIS 2独立于UI来管理元数据（数据库）语言环境。 _请参阅以下部分。_

## 元数据/数据库翻译 { #metadata-database-translations }

除了用户界面的翻译，DHIS 2 还支持数据库中元数据内容的本地化。可以通过**维护应用项目**翻译单个对象，但为了更好地支持标准翻译工作流程，为此目的开发了一个专门的应用项目。

可以在 **Maintenance app > Locales** 中添加新的元数据语言环境。

### DHIS 2 Translations应用项目 { #translations-app }

DHIS 2 **翻译应用项目**可用于将所有元数据（数据元素、类别、组织单位等）翻译成数据库中存在的任何语言环境。

要开始使用，只需从顶级菜单中选择**翻译应用**。

![](resources/images/translations_app.png)

1.  从**对象**下拉菜单中选择您要翻译的对象类型，例如“数据元素”。

2.  确保您已将 **Target Locale** 设置为正确的语言。

3.  选择您要翻译的特定对象，并翻译每个属性（名称、短名称、描述等）。这些属性因对象而异。

4.  翻译完特定对象后按“保存”以保存更改。

> **注意**
>
>您可以使用
该应用项目的右上角。
