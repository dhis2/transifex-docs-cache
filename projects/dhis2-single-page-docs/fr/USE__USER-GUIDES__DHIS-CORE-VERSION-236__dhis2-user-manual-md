---
revision_date: "2022-02-08"
template: single.html
---

# Qu'est-ce que le DHIS2 ? { #what_is_dhis2 }

Après avoir lu ce chapitre, vous serez en mesure de comprendre:

-   Qu'est-ce que le DHIS2 et à quoi sert-il lorsqu'il s'agit de systèmes d'information sanitaire (HIS) ?

-   Quelles sont les principales considérations technologiques relatives au déploiement de DHIS2, et quelles sont les possibilités d'extension de DHIS2 avec de nouveaux modules ?

-   Quelle est la différence entre les données basées sur les patients et les données agrégées ?

-   Quels sont les avantages et les défis liés à l'utilisation de logiciels libres et open source (FOSS) pour SON SITE ?

## Historique du DHIS2 { #mod1_1 }

Le DHIS2 est un outil de collecte, de validation, d'analyse et de présentation de données statistiques agrégées et basées sur les patients, adapté (mais non limité) aux activités de gestion intégrée des informations de santé. Il s'agit d'un outil générique plutôt que d'une application de base de données préconfigurée, avec un modèle de métadonnées ouvert et une interface utilisateur flexible qui permet à l'utilisateur de concevoir le contenu d'un système d'information spécifique sans avoir besoin de programmation. DHIS2 est un progiciel modulaire basé sur le web, construit avec des cadres Java libres et open source.

DHIS2 est un logiciel à code source ouvert publié sous la licence BSD et peut être obtenu gratuitement. Il fonctionne sur toute plate-forme sur laquelle un environnement d'exécution Java (JRE 7 ou supérieur) est installé.

Le DHIS2 est développé par le Health Information Systems Programme (HISP) en tant que processus ouvert et mondialement distribué avec des développeurs actuellement en Inde, au Vietnam, en Tanzanie, en Irlande et en Norvège. Le développement est coordonné par l'Université d'Oslo avec le soutien du NORAD et d'autres donateurs.

Le logiciel DHIS2 est utilisé dans plus de 40 pays en Afrique, en Asie et en Amérique latine. Parmi les pays qui ont adopté DHIS2 comme logiciel HIS national, citons le Kenya, la Tanzanie, l'Ouganda, le Rwanda, le Ghana, le Liberia et le Bangladesh. Un nombre rapidement croissant de pays et d'organisations lancent de nouveaux déploiements.

La documentation fournie ci-jointe tentera de donner un aperçu complet de la demande. Étant donné la nature abstraite de la demande, ce manuel ne servira pas de guide complet, étape par étape, sur la manière d'utiliser l'application dans chaque circonstance, mais cherchera plutôt à fournir des illustrations et des exemples de la manière dont le DHIS2 peut être mis en œuvre dans diverses situations au moyen d'exemples généralisés.

Avant de mettre en œuvre le DHIS2 dans un nouveau contexte, nous vous recommandons vivement de lire le guide de mise en œuvre du DHIS2 (un manuel distinct de celui-ci), également disponible sur le site web principal du DHIS2 (http://dhis2.org/documentation/).

## Principales caractéristiques et objectif du DHIS2 { #key-features-and-purpose-of-dhis2 }

Les principales caractéristiques et l'objectif du DHIS2 peuvent être résumés comme suit :

-   Fournir une solution complète de gestion des données basée sur les principes de l'entreposage des données et une structure modulaire qui peut facilement être adaptée aux différentes exigences d'un système d'information de gestion, en soutenant l'analyse à différents niveaux de la hiérarchie organisationnelle.

-   Personnalisation et adaptation locale grâce à l'interface utilisateur. Aucune programmation n'est nécessaire pour commencer à utiliser le DHIS2 dans un nouveau contexte (pays, région, district, etc.).

-   Fournir des outils de saisie de données qui peuvent soit se présenter sous la forme de listes ou de tableaux standard, soit être personnalisés pour reproduire des formulaires papier.

-   Fournir différents types d'outils pour la validation des données et l'amélioration de la qualité des données.

-   Fournir des rapports faciles à utiliser - en un seul clic avec des graphiques et des tableaux pour les indicateurs sélectionnés ou des rapports de synthèse en utilisant la conception des outils de collecte de données. Permettre l'intégration avec des outils de conception de rapports externes courants (par exemple, JasperReports) pour ajouter des rapports plus personnalisés ou plus avancés.

-   Analyse flexible et dynamique (à la volée) des données dans les modules d'analyse (c'est-à-dire SIG, PivotTables, Data Visualizer, rapports d'événements, etc.)

-   Un tableau de bord spécifique à l'utilisateur pour un accès rapide aux outils de suivi et d'évaluation pertinents, y compris des tableaux d'indicateurs et des liens vers les rapports, cartes et autres ressources clés du système.

-   Des interfaces utilisateur faciles à utiliser pour la gestion des métadonnées, par exemple pour ajouter/modifier des ensembles de données ou des établissements de santé. Aucune programmation n'est nécessaire pour mettre en place le système dans un nouveau cadre.

-   Fonctionnalité permettant de concevoir et de modifier des formules d'indicateurs calculés.

-   Module de gestion des utilisateurs pour les mots de passe, la sécurité et le contrôle d'accès fin (rôles des utilisateurs).

-   Des messages peuvent être envoyés aux utilisateurs du système pour obtenir un retour d'information et des notifications. Les messages peuvent également être transmis par courrier électronique et par SMS.

-   Les utilisateurs peuvent partager et discuter de leurs données dans des graphiques et des rapports en utilisant des interprétations, ce qui permet de créer une communauté d'utilisateurs active et axée sur l'information.

-   Fonctionnalités d'exportation et d'importation de données et de métadonnées, supportant la synchronisation des installations hors ligne ainsi que l'interopérabilité avec d'autres applications.

-   L'utilisation du DHIS2 Web-API permet l'intégration avec des logiciels externes et l'extension de la plateforme principale par l'utilisation d'applications personnalisées.

-   D'autres modules peuvent être développés et intégrés en fonction des besoins des utilisateurs, soit dans le cadre de l'interface utilisateur du portail DHIS2, soit dans le cadre d'une application externe plus librement couplée et interagissant par le biais de l'API Web du DHIS2.

En résumé, le DHIS2 fournit une solution HIS complète pour les besoins de rapport et d'analyse des utilisateurs d'informations sanitaires à tous les niveaux.

## Utilisation du DHIS2 dans le HIS : collecte, traitement, interprétation et analyse des données. { #use-of-dhis2-in-his-data-collection-processing-interpretation-and-analysis }

Le contexte plus large du SIS peut être décrit de manière exhaustive grâce au cycle d'information présenté dans la figure 1.1 ci-dessous. Le cycle de l'information représente de manière imagée les différents composants, étapes et processus par lesquels les données sont collectées, contrôlées quant à leur qualité, traitées, analysées et utilisées.

![Cycle de l'information sanitaire](resources/images/dhis2UserManual/dhis2_information_cycle.png)

Le DHIS2 prend en charge les différentes facettes du cycle de l'information, notamment :

-   Collecte de données.

-   Effectuer des contrôles de qualité.

-   Accès aux données à plusieurs niveaux.

-   Rapports.

-   Réalisation de graphiques et de cartes ainsi que d'autres formes d'analyse.

-   Permettre la comparaison dans le temps (par exemple, les mois précédents) et dans l'espace (par exemple, entre les établissements et les districts).

-   Voir les tendances (affichage des données en séries chronologiques pour voir leurs niveaux min et max).

Dans un premier temps, le DHIS2 sert d'outil de collecte, d'enregistrement et de compilation de données, et toutes les données (qu'elles soient sous forme de chiffres ou de texte) peuvent y être saisies. La saisie des données peut se faire dans des listes d'éléments de données ou dans des formulaires personnalisés définis par l'utilisateur, qui peuvent être développés pour imiter les formulaires papier afin de faciliter le processus de saisie des données.

Dans une prochaine étape, le DHIS2 peut être utilisé pour améliorer la qualité des données. Tout d'abord, au point d'entrée des données, il est possible de vérifier si les données se situent dans les limites acceptables des valeurs minimales et maximales pour un élément de données particulier. Cette vérification peut, par exemple, aider à identifier les erreurs de frappe au moment de la saisie des données. En outre, l'utilisateur peut définir diverses règles de validation, et le DHIS2 peut faire passer les données par les règles de validation pour identifier les violations. Ces types de contrôles permettent de s'assurer que les données saisies dans le système sont de bonne qualité dès le départ, et peuvent être améliorées par les personnes qui les connaissent le mieux.

Lorsque les données sont saisies et vérifiées, le DHIS2 peut aider à faire différents types de rapports. Le premier type est celui des rapports de routine qui peuvent être prédéfinis, de sorte que tous les rapports qui doivent être générés en routine peuvent l'être en un clic. En outre, le DHIS2 peut aider à générer des rapports analytiques en comparant, par exemple, des indicateurs entre les installations ou dans le temps. Les graphiques, les cartes, les rapports et les profils de santé font partie des résultats que le DHIS2 peut produire, et ceux-ci doivent être produits, analysés et utilisés de manière routinière par les responsables de la santé.

## Contexte technique { #technical-background }

### DHIS2 en tant que plateforme { #dhis2-as-a-platform }

Le DHIS2 peut être perçu comme une plate-forme à plusieurs niveaux. Tout d'abord, la base de données de l'application est conçue de manière à être flexible. Les structures de données telles que les éléments de données, les unités d'organisation, les formulaires et les rôles des utilisateurs peuvent être définis en toute liberté par l'interface utilisateur de l'application. Cela permet d'adapter le système à une multitude de contextes locaux et de cas d'utilisation. Nous avons vu que le DHIS2 prend en charge la plupart des principales exigences de saisie et d'analyse de données de routine qui apparaissent dans les mises en œuvre nationales. Il permet également à DHIS2 de servir de système de gestion pour des domaines tels que la logistique, les laboratoires et les finances.

Deuxièmement, grâce à sa conception modulaire, le système DHIS2 peut être étendu par des modules logiciels supplémentaires ou par des applications personnalisées. Ces modules/applications logicielles peuvent cohabiter avec les modules de base du système DHIS2 et peuvent être intégrés dans le portail et le système de menu du système DHIS2. Il s'agit d'une fonction puissante car elle permet d'étendre le système avec des fonctionnalités supplémentaires si nécessaire, généralement pour des besoins spécifiques à un pays, comme indiqué précédemment.

L'inconvénient de l'extensibilité du module logiciel est qu'elle impose plusieurs contraintes au processus de développement. Les développeurs qui créent les fonctionnalités supplémentaires sont limités à la technologie DHIS2 en termes de langage de programmation et de cadres logiciels, en plus des contraintes imposées à la conception des modules par la solution de portail DHIS2. En outre, ces modules doivent être inclus dans le logiciel DHIS2 lorsque le logiciel est construit et déployé sur le serveur web, et non de manière dynamique pendant l'exécution.

Afin de surmonter ces limitations et de parvenir à un couplage plus souple entre la couche de service DHIS2 et les artefacts logiciels supplémentaires, une API basée sur REST a été développée dans le cadre de DHIS2. Cette API Web est conforme aux règles du style architectural REST. Cela implique que :

-   L'API Web fournit une interface navigable et lisible par la machine pour l'ensemble du modèle de données DHIS2. Par exemple, on peut accéder à la liste complète des éléments de données, puis naviguer à l'aide de l'URL fournie vers un élément de donnée d'intérêt particulier, puis naviguer à l'aide de l'URL fournie vers la liste des ensembles de données dont l'élément de donnée est membre.

-   Les (Meta) données sont accessibles par une interface uniforme (URL) utilisant des requêtes HTTP simples. Il n'y a pas de formats ou de protocoles de transport fantaisistes, mais seulement le protocole HTTP bien testé et bien compris qui est le principal élément constitutif du Web aujourd'hui. Cela implique que les développeurs tiers peuvent développer des logiciels en utilisant le modèle de données et les données DHIS2 sans connaître la technologie spécifique de DHIS2 2 ou se conformer aux contraintes de conception de DHIS2.

-   Toutes les données, y compris les métadonnées, les rapports, les cartes et les graphiques, connus sous le nom de ressources dans la terminologie REST, peuvent être récupérées dans la plupart des formats de représentation populaires du Web d'aujourd'hui, tels que XML, JSON, PDF et PNG. Ces formats sont largement pris en charge dans les applications et les langages de programmation et offrent aux développeurs tiers un large éventail d'options de mise en œuvre.

### Comprendre l'indépendance de la plate-forme { #understanding-platform-independence }

Tous les ordinateurs ont un système d'exploitation (OS) pour le gérer et les programmes qui l'exécutent. Le système d'exploitation sert de couche intermédiaire entre l'application logicielle, telle que DHIS2, et le matériel, tel que l'unité centrale et la mémoire vive. DHIS2 fonctionne sur la machine virtuelle Java, et peut donc fonctionner sur n'importe quel système d'exploitation qui supporte Java. L'indépendance de la plate-forme implique que l'application logicielle peut fonctionner sur n'importe quel système d'exploitation - Windows, Linux, Macintosh, etc. DHIS2 est indépendant de la plate-forme et peut donc être utilisé dans de nombreux contextes différents en fonction des exigences exactes du système d'exploitation à utiliser.

En outre, le DHIS2 prend en charge trois grands systèmes de gestion de base de données (SGBD). DHIS2 utilise le cadre d'abstraction de base de données Hibernate et est compatible avec les systèmes de base de données suivants : PostgreSQL, MySQL et H2. PostgreSQL et MySQL sont des bases de données de haute qualité prêtes pour la production, tandis que H2 est une base de données en mémoire utile pour les applications à petite échelle ou les activités de développement.

Enfin, et c'est peut-être le plus important, étant donné que DHIS2 est une application basée sur un navigateur, la seule véritable exigence pour interagir avec le système est un navigateur web. DHIS2 est compatible avec la plupart des navigateurs web, bien qu'actuellement, Google Chrome, Mozilla Firefox ou Opera soient recommandés.

### Stratégies de déploiement - en ligne ou hors ligne { #deployment-strategies-online-vs-offline }

DHIS2 est une application en réseau à laquelle on peut accéder par Internet, un intranet local ainsi qu'un système installé localement. Les alternatives de déploiement pour DHIS2 sont définies dans ce chapitre comme i) un déploiement hors ligne, ii) un déploiement en ligne et iii) un déploiement hybride. La signification et les différences seront examinées dans les sections suivantes.

#### Le deployment hors ligne { #offline-deployment }

Un déploiement hors ligne implique que plusieurs instances autonomes hors ligne soient installées pour les utilisateurs finaux, généralement au niveau du district. La maintenance du système est assurée principalement par les utilisateurs finaux/agents de santé du district qui saisissent les données et génèrent des rapports à partir du système fonctionnant sur leur serveur local. Le système est également géré par une équipe nationale de super-utilisateurs qui se rend régulièrement sur les sites de déploiement des districts. Les données sont déplacées vers le haut de la hiérarchie par les utilisateurs finaux qui produisent des fichiers d'échange de données qui sont envoyés électroniquement par courrier électronique ou physiquement par courrier ou par déplacement personnel. (Il est à noter que la brève connectivité Internet requise pour l'envoi de courriers électroniques ne peut être considérée comme étant en ligne). Ce type de déploiement présente l'avantage évident de fonctionner lorsque la connectivité Internet appropriée n'est pas disponible. D'autre part, ce style présente des défis importants qui sont décrits dans la section suivante.

-   **Matériel :**  L'exécution des systèmes autonomes nécessite du matériel à la pointe de la technologie comme des serveurs et onduleurs fiables, généralement installé au niveau des districts, dans tout le pays. Cela exige un financement conséquent pour l'acquisition et la maintenance à long terme de ce matériel.

-   **Plate-forme logicielle:** L'installation locale implique un besoin important de maintenance. Par expérience, le plus grand défi est celui des virus et autres logiciels malveillants qui ont tendance à infecter les installations locales à long terme. La raison principale est que les utilisateurs finaux utilisent des clés USB pour transporter des fichiers et des documents d'échange de données entre des ordinateurs privés, d'autres postes de travail et le système qui exécute l'application. Maintenir à jour les logiciels antivirus et les correctifs du système d'exploitation dans un environnement hors ligne est un défi et les mauvaises pratiques en termes de sécurité sont souvent adoptées par les utilisateurs finaux. La meilleure façon de surmonter ce problème est d'utiliser un serveur dédié à l'application, où aucune clé USB n'est autorisée, et d'utiliser un système d'exploitation basé sur Linux qui n'est pas aussi sujet aux infections virales que MS Windows.

-   **Application logicielle:** Pouvoir distribuer aux utilisateurs de nouvelles fonctionnalités et des corrections de bogues dans le logiciel d'information sur la santé est essentiel pour la maintenance et l'amélioration du système. Compter sur les utilisateurs finaux pour effectuer les mises à jour des logiciels nécessite une formation approfondie et un haut niveau de compétence de leur part, car la mise à jour des applications logicielles peut être une tâche techniquement difficile. Compter sur une équipe nationale de super-utilisateurs pour assurer la maintenance du logiciel implique de nombreux déplacements.

-   **Maintenance de la base de données : **Une condition préalable pour un système efficace est que tous les utilisateurs saisissent des données avec un ensemble de métadonnées normalisées (éléments de données, formulaires, etc.). Comme pour le point précédent concernant les mises à jour logicielles, la distribution des modifications apportées à l'ensemble de métadonnées à de nombreuses installations hors ligne nécessite une compétence de l'utilisateur final si les mises à jour sont envoyées par voie électronique ou une équipe de super-utilisateurs bien organisée. Si l'ensemble de métadonnées n'est pas synchronisé, il sera impossible de transférer les données des districts et/ou la base de données nationale sera incohérente, car les données saisies, par exemple, au niveau du district ne seront pas compatibles avec celles du niveau national.

#### Le déploiement en ligne { #online-deployment }

Un déploiement en ligne implique qu'une seule instance de l'application soit installée sur un serveur connecté à l'Internet. Tous les utilisateurs (clients) se connectent au serveur central en ligne sur l'internet en utilisant un navigateur web. Ce type de déploiement est de plus en plus possible en raison de la disponibilité accrue de la couverture Internet (mobile) au niveau mondial, ainsi que des ressources informatiques en nuage facilement disponibles et bon marché. Ces développements permettent d'accéder à des serveurs en ligne même dans les zones les plus rurales en utilisant des modems Internet mobiles (également appelés _dongles_).

Ce style de déploiement en ligne a d'énormes implications positives pour le processus de mise en œuvre et la maintenance des applications par rapport au style traditionnel autonome hors ligne :

-   **Matériel :** Les exigences en matière de matériel du côté de l'utilisateur final se limitent à un ordinateur/ordinateur portable raisonnablement moderne et à une connectivité Internet par ligne fixe ou modem mobile. Il n'est pas nécessaire d'avoir un serveur spécialisé pour chaque utilisateur, n'importe quel ordinateur connecté à Internet sera suffisant. Un serveur sera nécessaire pour les déploiements en ligne, mais comme il n'y a qu'un (ou plusieurs) serveur(s) à acheter et à entretenir, cela est nettement plus simple (et moins cher) que de maintenir de nombreux serveurs séparés dans des endroits disparates. Étant donné que le prix des ressources informatiques en nuage continue de diminuer régulièrement tout en augmentant la puissance de calcul, la mise en place d'un serveur puissant dans le nuage est bien moins coûteuse que l'achat de matériel.

-   **Plate-forme logicielle:** Les utilisateurs finaux n'ont besoin que d'un navigateur web pour se connecter au serveur en ligne. Tous les systèmes d'exploitation courants sont aujourd'hui livrés avec un navigateur web et il n'y a pas d'exigence particulière quant au type ou à la version. Cela signifie qu'en cas de problèmes graves tels que des infections par des virus ou la corruption de logiciels, on peut toujours recourir au reformatage et à l'installation du système d'exploitation de l'ordinateur ou obtenir un nouvel ordinateur/ordinateur portable. L'utilisateur peut continuer à saisir les données là où elles ont été laissées et aucune donnée ne sera perdue.

-   **Application logicielle:** Le style de déploiement de serveur central signifie que l'application peut être mise à niveau et maintenue de manière centralisée. Lorsque de nouvelles versions des applications sont publiées avec de nouvelles fonctionnalités et des corrections de bogues, elles peuvent être déployées sur le serveur unique en ligne. Toutes les modifications seront alors répercutées du côté client lors de la prochaine connexion des utilisateurs finaux sur Internet. Cela a évidemment un impact positif énorme sur le processus d'amélioration du système car les nouvelles fonctionnalités peuvent être distribuées aux utilisateurs immédiatement, tous les utilisateurs accèdent à la même version de l'application, et les bogues et les problèmes peuvent être triés et déployés à la volée.

-   **Maintenance de la base de données : **Comme pour le point précédent, les modifications des métadonnées peuvent être effectuées sur le serveur en ligne de manière centralisée et se propageront automatiquement à tous les clients lors de leur prochaine connexion au serveur. Cela permet d'éviter les problèmes liés à la maintenance d'un ensemble de métadonnées mis à jour et normalisé, comme c'est le cas pour le déploiement traditionnel hors ligne. C'est extrêmement pratique par exemple pendant la phase initiale de développement de la base de données et pendant les processus annuels de révision de la base de données, car les utilisateurs finaux auront accès à une base de données cohérente et normalisée même si les changements sont fréquents.

Cette approche peut poser problème dans les cas où la connectivité à l'internet est volatile ou fait défaut pendant de longues périodes. Le DHIS2 présente toutefois certaines caractéristiques qui font que la connectivité internet n'est disponible qu'une partie du temps pour que le système fonctionne correctement, comme la saisie de données hors ligne. En général, le DHIS2 nécessite toutefois une certaine forme de connectivité à l'internet, mais ce problème est de plus en plus facile à résoudre, même dans des endroits éloignés.

#### Le déploiement hybride { #hybrid-deployment }

D'après les discussions menées jusqu'à présent, on se rend compte que le style de déploiement en ligne est plus favorable que le style hors ligne, mais qu'il nécessite une connectivité Internet décente là où il sera utilisé. Il est important de noter que les styles mentionnés peuvent coexister dans un déploiement commun. Il est parfaitement possible d'avoir des déploiements en ligne et hors ligne dans un seul pays. La règle générale serait que les districts et les installations doivent accéder au système en ligne sur l'internet lorsque la connectivité internet est suffisante, et que les systèmes hors ligne doivent être déployés dans les districts où ce n'est pas le cas.

Il est difficile de définir avec précision une connectivité Internet décente, mais en règle générale, la vitesse de téléchargement devrait être d'au moins 10 Kbyte/seconde pour le client et d'au moins 1 Mbit/sec (dédié) pour le serveur.

À cet égard, les modems Internet mobiles qui peuvent être connectés à un ordinateur ou à un portable et accéder au réseau mobile sont une solution extrêmement performante et réalisable. La couverture de l'internet mobile augmente rapidement dans le monde entier, offre souvent une excellente connectivité à bas prix et constitue une excellente alternative aux réseaux locaux et aux lignes internet fixes mal entretenues. Il peut être utile de prendre contact avec les sociétés nationales de réseaux mobiles pour connaître les abonnements post-payés et les avantages potentiels des commandes importantes. La couverture du réseau pour chaque opérateur de réseau dans le pays concerné doit être étudiée au moment de décider de l'approche de déploiement à adopter, car elle peut être différente et couvrir différentes parties du pays.

#### Hébergement du serveur { #server-hosting }

L'approche de déploiement en ligne soulève la question de savoir où et comment héberger le serveur qui exécutera l'application DHIS2. En général, il existe plusieurs options :

1.  L’hébergement interne au sein du Ministère de la Santé

2.  L’hébergement par une société externe d'hébergement

3.  Hosting through an external hosting company

Le choix de la première option est principalement motivé par une volonté politique: celle d'avoir la "propriété physique" de la base de données. Ceci est perçu comme important pour beaucoup afin de "posséder" et de contrôler les données. Il y'a aussi une volonté de renforcer les capacités locales pour l'administration des serveurs nécessaire pour garantir la pérennisation du projet. C'est souvent un choix fait par les donateurs car il est perçu comme une réalisation concrète et utile.

En ce qui concerne la deuxième option, elle est motivée par le fait qu'en certains endroits, un centre de données gouvernemental est construit en vue de promouvoir et d'améliorer l'utilisation et l'accessibilité des données publiques. Une autre raison est qu'il est plus efficace d'établir une infrastructure centralisée pour éviter la prolifération des environnements de serveurs internes.

En ce qui concerne l'hébergement externe, il convient d'avoir à l'esprit que la tendance actuelle est à l'externalisation de l'exploitation et de l'administration des ressources informatiques chez un fournisseur externe, lequel peut assurer la disponibilité de ces ressources sur le réseau; cette manière de procéder est populairement appelée "cloud computing" ou "logiciel en tant que service". Ces ressources sont généralement accessibles sur Internet par le biais d'un navigateur Web.

L'objectif premier du déploiement d'un serveur en ligne est de fournir une accessibilité stable et performante à long terme aux services prévus. De nombreux aspects doivent être pris en compte lors du choix de l'option pour l'environnement du serveur :

1.  Capacités humaines pour l'administration et l'exploitation du serveur. Il doit y avoir des ressources humaines ayant des compétences générales en administration de serveur et dans les technologies spécifiques utilisées pour l'application qui fournit les services. Ces technologies sont par exemple les serveurs Web et les systèmes de gestion de base de données.

2.  L'existence de solutions fiables pour les sauvegardes automatiques, et les sauvegardes à distance.

3.  Une connectivité stable et une bande passante réseau élevée pour le trafic entrant et sortant du serveur.

4.  Une alimentation électrique stable, redondante.

5.  La sécurisation de l'environnement du serveur physique par rapport à l'accès, aux risques de vol et de feu.

6.  L'existence d'un plan de restauration après désastre. Ce plan doit contenir une stratégie réaliste pour faire en sorte que le service puisse avoir le minimum de temps d'arrêt lors de la survenue de pannes matérielles, d'arrêts du réseau ou autres incidents.

7.  Un matériel puissant et robuste.

Tous ces aspects doivent être considérés pour créer un environnement d'hébergement approprié. L'aspect matériel a été délibérément mis en dernier car il est habituel d'y prêter le plus d'attention au détriment des autres aspects tout aussi importants.

En analysant les trois principales options d'hébergement, l'expérience bâtie sur les missions de mise en œuvre dans les pays en développement montre que tous les aspects considérés ci-dessus pour le choix de la solution d'hébergement sont rarement présents pour les options 1 et 2. La prise en compte de manière suffisante de tous ces aspects est difficile tant en termes de ressources humaines que de ressources financières, surtout lorsqu'on les compare au coût de l'option 3. Le principal avantage de ces 2 solutions, c'est qu'il répond aux besoins politiques de propriété et de contrôle des infrastructures, et qu'elles peuvent favoriser le développement de compétences locales.

La troisième option - l'hébergement externe - présente l'avantage de prendre en charge tous les aspects de l'hébergement mentionnés à un prix très abordable. Plusieurs fournisseurs d'hébergement - de serveurs virtuels ou de logiciels en tant que service - offrent des services fiables pour l'exécution de la plupart des types d'applications. Il s'agit par exemple de [Linode] (http://www.linode.com) et de [Amazon Web Services] (http://aws.amazon.com). L'administration de ces serveurs s'effectue via une connexion réseau, ce qui est de toute façon le plus souvent le cas pour l'administration de serveurs locaux. Dans ce cas, l'emplacement physique du serveur n'a pas d'importance, car ces fournisseurs offrent des services dans la plupart des régions du monde. Cette solution devient de plus en plus la solution standard pour l'hébergement de services d'applications. L'aspect de la création de capacités locales pour l'administration du serveur est compatible avec cette option puisqu'une équipe TIC locale peut être chargée de maintenir le serveur hébergé en externe, mais sans avoir à se soucier des contraintes d'alimentation électrique et de bande passante qui existent généralement en dehors des grands centres de données.

Il est possible de combiner les avantages de l'hébergement externe et la nécessité de l'hébergement local sur des serveurs physiques présents localement. La solution consiste à utiliser un fournisseur externe d'hébergement pour le système transactionnel primaire, et d'effectuer un miroir de ce serveur sur un serveur hébergé localement, ce dernier étant alors utilisé en lecture seule en intranet à des fins d'analyse de données.

## Différence entre les données agrégées et les données des patients dans un HIS { #difference-between-aggregated-and-patient-data-in-a-his }

_Les données des patients_ sont des données relatives à un seul patient, telles que son diagnostic, son nom, son âge, ses antécédents médicaux, etc. Ces données sont généralement basées sur une seule interaction patient-agent de santé. Par exemple, lorsqu'un patient se rend dans une clinique de soins de santé, divers détails peuvent être enregistrés, tels que la température du patient, son poids et divers tests sanguins. Si ce patient est diagnostiqué comme souffrant d'une "anémie par carence en vitamine B 12, non spécifiée", correspondant au code D51.9 de la CIM-10, cette interaction particulière peut éventuellement être enregistrée comme un cas d'"anémie" dans un système basé sur des agrégats. Les données relatives aux patients sont importantes lorsque l'on veut suivre longitudinalement les progrès d'un patient dans le temps. Par exemple, si nous voulons suivre la façon dont un patient adhère et répond au processus de traitement de la tuberculose (qui se déroule généralement sur 6-9 mois), nous avons besoin de données basées sur le patient.

_Les données agrégées_ sont la consolidation des données relatives à plusieurs patients, et ne peuvent donc pas être rattachées à un patient spécifique. Il s'agit simplement de comptages, comme l'incidence du paludisme, de la tuberculose ou d'autres maladies. En général, les données de routine dont dispose un établissement de santé sont ce type de statistiques agrégées et sont utilisées pour la production de rapports et d'indicateurs de routine et, surtout, pour la planification stratégique au sein du système de santé. Les données agrégées ne peuvent pas fournir le type d'informations détaillées que les données au niveau du patient peuvent fournir, mais elles sont cruciales pour la planification et l'orientation des performances des systèmes de santé.

Entre les deux, vous disposez de données basées sur des cas ou de données anonymes sur les "patients". De nombreux détails peuvent être collectés sur un événement de santé spécifique sans nécessairement devoir identifier le patient concerné. Les visites de patients hospitalisés ou ambulatoires, un nouveau cas de choléra, un décès maternel, etc. sont des cas d'utilisation courante pour lesquels on aimerait recueillir beaucoup plus de détails que la simple addition au nombre total de cas ou de visites. Ces données sont souvent collectées dans des formulaires de type liste de lignes ou dans des formulaires d'audit plus détaillés. Elles diffèrent des données agrégées en ce sens qu'elles contiennent de nombreux détails sur un événement spécifique, alors que les données agrégées compteraient combien d'événements d'un certain type, par exemple combien de visites de patients ambulatoires avec diagnostic principal "Malaria", ou combien de décès maternels où la personne décédée n'a pas assisté aux soins prénatals, ou combien de flambées de choléra pour les enfants de moins de 5 ans. Dans le DHIS2, ces données sont collectées par le biais de programmes du type "événement unique" sans inscription.

Les données des patients sont hautement confidentielles et doivent donc être protégées afin que personne d'autre que les médecins ne puisse les obtenir. Lorsqu'elles sont sur papier, elles doivent être correctement conservées dans un endroit sûr. Pour les ordinateurs, les données des patients nécessitent des systèmes sécurisés avec des mots de passe, des accès restreints et des journaux d'audit.

Les préoccupations de sécurité pour les données agrégées ne sont pas aussi cruciales que pour les données sur les patients, car il est généralement impossible d'identifier une personne particulière dans une statistique agrégée . Toutefois, les données peuvent toujours être utilisées à mauvais escient et mal interprétées par d'autres personnes, et ne devraient pas être diffusées sans que des politiques de diffusion des données adéquates soient mises en place.

## Logiciels libres et open source (FOSS) : avantages et défis { #free-and-open-source-software-foss-benefits-and-challenges }

Le logiciel contient les instructions qui indiquent à l'ordinateur comment fonctionner. La forme humaine de ces instructions, écrite et lisible par l'homme, est appelée code source. Avant que l'ordinateur puisse effectivement exécuter les instructions, le code source doit être traduit dans un format lisible par la machine (binaire), appelé code objet. Tous les logiciels distribués comprennent le code objet, mais FOSS met également le code source à disposition.

Les propriétaires de logiciels propriétaires accordent une licence sur leur code objet protégé par le droit d'auteur à un utilisateur, ce qui lui permet d'exécuter le programme. Les programmes FOSS, en revanche, accordent une licence à la fois sur le code objet et sur le code source, ce qui permet à l'utilisateur d'exécuter, de modifier et éventuellement de redistribuer les programmes. Avec l'accès au code source, les utilisateurs ont la liberté d'exécuter le programme à n'importe quelle fin, de le redistribuer, de le tester, de l'adapter, d'en tirer des enseignements, de le personnaliser pour répondre à leurs besoins et de publier les améliorations pour le bien de la communauté. C'est pourquoi certains logiciels libres sont également connus sous le nom de "logiciels libres", où le terme "libre" fait référence, avant tout, aux libertés susmentionnées plutôt qu'au sens monétaire du terme.

Dans le secteur de la santé publique, les FOSS peuvent potentiellement présenter toute une série d'avantages, notamment

-   Des coûts plus faibles car il ne s'agit pas de payer des frais de licence prohibitifs.

-   Étant donné que les besoins d'information du secteur de la santé sont en constante évolution, il est nécessaire que l'utilisateur soit libre d'apporter les changements nécessaires en fonction de ses besoins. Cette liberté est souvent limitée dans les systèmes propriétaires.

-   Accès au code source pour permettre l'intégration et l'interopérabilité. Dans le secteur de la santé, l'interopérabilité entre différentes applications logicielles devient de plus en plus importante, ce qui signifie qu'il faut permettre à deux ou plusieurs systèmes de communiquer des métadonnées et des données. Ce travail est beaucoup plus facile, et dépend parfois de la disponibilité du code source pour les développeurs qui créent l'intégration. Cette disponibilité n'est souvent pas possible dans le cas de logiciels propriétaires. Et lorsqu'elle l'est, elle s'accompagne d'un coût élevé et d'obligations contractuelles.

-   Les applications FOSS comme DHIS2 sont généralement soutenues par un réseau mondial de développeurs, et ont donc accès à des connaissances de pointe en matière de recherche et de développement.

# Utilisation de l'application de saisie des données { #data_entry_app }

## À propos de l'application de saisie de données { #about_data_entry_app }

L'application **Saisie de données** est une plateforme où vous saisissez manuellement des données agrégées dans DHIS2. Vous enregistrez à la fois les données pour une unité d'organisation, une période donnée, et un ensemble d'éléments de donnée (ensemble de données). Un ensemble de données correspond généralement à un outil de collecte de données sur papier. Les ensembles de données sont configurés dans l'application de **Maintenance**.

> **N.B.**
>
> Si un ensemble de données possède à la fois un formulaire par section et un formulaire personnalisé, le système affiche le formulaire personnalisé durant la saisie de données. L'utilisateur qui saisit les données n'a pas la possibilité de choisir le formulaire qui lui convient. Dans le cas de saisie de données sur le web, l'ordre de préférence d'affichage est le suivant :
>
> 1.  Formulaire personnalisé (s'il existe)
>
> 2.  Formulaire à section (s'il existe)
>
> 3.  Formulaire par défaut
>
> Les appareils mobiles ne prennent pas en charge les formulaires personnalisés. Dans le cas de la saisie de données sur appareil mobile, l'ordre de de préférence d'affichage est :
>
> 1.  Formulaire à section (s'il existe)
>
> 2.  Formulaire par défaut

Lorsque vous fermez une unité d'organisation, vous ne pourrez plus la modifier dans l'application **saisie des données**.

## Saisir des données dans un formulaire de saisie { #enter_data_in_data_entry_form }

![](resources/images/data_entry/data_entry_overview.png)

1.  Ouvrez l'application **Saisie de données**.

2.  Sélectionnez une unité d'organisation dans l'arborescence à gauche.

3.  Sélectionnez un **Ensemble de données**.

4.  Sélectionnez une **période**.

    Les périodes disponibles sont contrôlées par le type de période défini dans l'ensemble de données (fréquence de rapports). Vous pouvez revenir en arrière ou aller en avant en cliquant sur **Année précédente** ou **Année suivante**.

    > **Note**
    >
    > Depending on how you've configured the data entry form, you might have to enter additional information before you can open the date entry form. This can for example be a project derived from a category combination.

5.  Saisir des données dans un formulaire de saisie.

    -   Un champ vert signifie que la valeur a été sauvegardée par le système.

    -   Un champ gris signifie que le champ est grisé et que vous ne pouvez pas entrer de valeur. Le curseur passe automatiquement au prochain champ non grisé.

    -   Pour passer au champ suivant, appuyez sur la touche de Tabulation ou la touche Flèche vers le bas.

    -   Pour revenir au champ précédent, appuyez simultanément sur les touches Shift+Tabulation ou la touche Flèche vers le haut.

    -   Si vous entrez une valeur invalide, par exemple un caractère dans un champ qui n'accepte que des valeurs numériques, un message pop-up apparaîtra pour expliquer le problème et le champ passera à la couleur jaune (non enregistré) jusqu'à ce que la valeur soit modifiée.

    -   Si vous avez défini une fourchette de valeurs pour le champ et que la valeur que vous saisissez n'y est pas comprise, un message pop-up apparaîtra pour vous indiquer que la valeur n'est pas incluse dans la fourchette. La valeur n'est pas enregistrée jusqu'à ce qu'elle soit modifiée ou que la fourchette soit élargie pour une resaisie de la donnée.

6.  Une fois le formulaire rempli, cliquez sur **Exécuter la validation** en haut à droite ou en-dessous du formulaire de saisie.

    Toutes les règles de validation nécessitant des élements de données du même formulaire de saisie (ensemble de données) sont éxécutées par rapport aux nouvelles données. Si les règles de validation sont réspectées, vous verrez le message suivant : **_L'écran de saisie de données a été validé avec succès_**. Dans le cas où les règles n'ont pas été respéctées, les violations seront présentées sous forme d'une liste.

    ![](resources/images/dhis2UserManual/Validation_Rule_Result.png)

7.  (Facultatif) Corriger les erreurs de validation.

    > **Note**
    >
    > Zero (0) will delete the value if the data element has been configured to not store zeros.

8.  Une fois les erreurs corrigées et la saisie de données terminée, cliquez sur **Terminé**.

    Le système utilise ces informations pour générer des rapports d'avancement pour les arrondissements, les comtés, les provinces ou pour le niveau national.

## Marquer une valeur de donnée pour suivi { #mark_data_for_followup_in_data_entry_form }

![](resources/images/data_entry/data_entry_section_history.png)

Si vous avez des doutes par rapport à une valeur dont vous voulez vous assurer, vous pouvez la conserver dans le système en la marquant pour un suivi. Dans l'application **Qualité de données**, vous pouvez analyser et corriger toutes les valeurs marquées.

1.  Ouvrez l'application **Saisie de données**.

2.  Ouvrez un formulaire de saisie existant.

3.  Double-cliquez sur le champ contenant la valeur que vous souhaitez marquer pour un éventuel suivi.

4.  Appuyez sur l'icône étoile.

## Modifier des valeurs de données dans un formulaire de donnée rempli { #edit_data_value_in_completed_form }

1.  Ouvrez l'application **Saisie de données**.

2.  Ouvrez un formulaire de saisie existant.

3.  Cliquez sur **Incomplet**.

4.  Modifiez les valeurs de données appropriées.

    > **Note**
    >
    > Zero (0) will delete the value if the data element has been configured to not store zeros,

5.  Cliquez sur **Terminé**.

## Afficher l'historique d'une valeur de donnée { #display_data_value_history }

![](resources/images/data_entry/data_entry_section_history.png)

Vous pouvez afficher les 12 dernières valeurs enregistrées pour un champ.

1.  Ouvrez l'application **Saisie de données**.

2.  Ouvrez un formulaire de saisie existant.

3.  Double-cliquez sur le champ qui contient la valeur dont vous voulez afficher l'historique.

4.  Cliquez sur **Historique de l'élément de donnée**.

## Afficher le journal d'audit d'une valeur de donnée { #display_data_value_audit_trail }

![](resources/images/data_entry/data_entry_audit_trail.png)

Un journal d'audit permet d'afficher les valeurs saisies avant la valeur actuelle. Il permet également de savoir si la valeur a été modifiée et quel utilisateur a effectué ce changement.

1.  Ouvrez l'application **Saisie de données**.

2.  Ouvrez un formulaire de saisie existant.

3.  Double-cliquez sur le champ contenant la valeur dont vous voulez afficher l'historique.

4.  Cliquez sur **Journal d'audit**.

## Créer manuellement une plage de valeurs { #change_min_max_range_manually }

![](resources/images/data_quality/set_min_max_manually.png)

1.  Dans l'application **Saisie de données**, ouvrez un formulaire de saisie.

2.  Double-cliquez sur le champs auquel vous souhaitez affecter une plage de valeurs.

3.  Entrez **la limite Mini** et **la limite Maxi**.

4.  Cliquez sur **Sauvegarder**.

    Si les valeurs que vous entrez ensuite ne sont pas incluses dans la plage des valeurs, la case de saisie prendra une couleur orange.

5.  (Facultatif) Saisissez un commentaire pour expliquer la raison de cette différence. Il peut s'agir par exemple d'un événement qui aurait pu générer un nombre important de clients.

6.  (Facultatif) Cliquez sur **Enregistrer le commentaire**.

> **Astuce**
>
> Cliquez sur l'icône étoile pour marquer la valeur en vue d'un suivi ultérieur.

## Saisir des données en mode Hors-ligne { #enter_data_offline }

L'application **Saisie de données** fonctionne même si vous avez une connexion internet instable lors de la saisie de données. En mode hors-ligne, les données saisies sont enregistrées dans votre ordinateur local. Une fois connecté au réseau, l'application transfère les données vers le serveur. L'utilisation de la bande passante est réduite puisque les formulaires de saisie ne sont plus récupérés depuis le serveur pour chaque rendu.

> **N.B.**
>
> Pour utiliser cette fonctionnalité, vous devez vous connecter au serveur lorsque vous êtes connecté au réseau.

-   Lorsque vous êtes connecté à l'internet, l'application affiche le message suivant en haut du formulaire de saisie :

    ![](resources/images/data_entry/data_entry_online1.png)

-   Si votre connexion internet est interrompue lors de la saisie des données, l'application affiche le message suivant :

    ![](resources/images/data_entry/data_entry_offline1.png)

    Vos données seront stockées localement et vous pouvez donc continuer la saisie normalement.

-   Dès que vous avez saisi les données nécessaires et que l'application détecte le rétablissement de la connexion, vous verrez ce message apparaître :

    ![](resources/images/data_entry/data_entry_offline_upload.png)

    Cliquez sur **Télécharger** pour synchroniser les données avec le serveur.

-   Lorsque vous avez réussi à synchroniser les données avec le serveur, vous verrez ce message de confirmation apparaître :

    ![](resources/images/data_entry/data_entry_offline_upload_success1.png)

## Activer la saisie de données dans une unité multi-organisation { #data_entry_multiple_organisation_units }

![](resources/images/data_entry/data_entry_multiple_org_unit.png)

Il peut être utile de saisir des données pour plusieurs unités d'organisation dans le même formulaire de saisie, par exemple s'il y a peu d'éléments de données dans un formulaire et un nombre important d'unités d'organisation dans l'arborescence. Dans ce cas, la saisie de données dans plusieurs unités d'organisation peut être activée.

> **Note**
>
> La saisie de données pour plusieurs unités d'organisation à la fois, fonctionne seulement avec les formulaires à section.

1.  Ouvrez l'application **paramètres système**.

2.  Sélectionnez **Activer les formulaires de plusieurs unités d'organisation**.

3.  Dans l'application **saisie de données**, sélectionnez l'unité d'organisation juste au dessus de l'unité d'organisation dans laquelle vous souhaitez saisir des données dans l'arborescence.

    Les éléments de données apparaitront sous forme de colonnes et les unités d'organisation sous forme de lignes dans le formulaire.

    > **Note**
    >
    > The data entry forms should still be assigned to the facilities that you actually enter data for, that is the organisation units now appearing in the form.

## Voir également { #data_entry_app_see_also }

-   [Contrôler la qualité des données](https://docs.dhis2.org/master/en/user/html/control_data_quality.html)

-   [Gestion des données et des formulaires de saisie de données](https://docs.dhis2.org/master/en/user/html/manage_data_set.html)

-   [Utilisation de l'application Maintenance](https://docs.dhis2.org/master/en/user/html/maintenance_app.html)

# Contrôler la qualité des données { #control_data_quality }

## À propos des contrôles qualité des données { #about_data_quality }

L'application **Qualité des données** dispose d'outils permettant de valider l'exactitude et la fiabilité des données du système. Vous pouvez évaluer différentes dimensions de la qualité des données comme l'indique le tableau ci-dessous :

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Dimension</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Exactitude</p></td>
<td><p>Les données doivent se situer dans la plage normale des données collectées dans cette structure sanitaire. Il ne devrait y avoir aucune différence significative lorsqu'elles sont comparées avec des éléments de connexes.</p></td>
</tr>
<tr class="even">
<td><p>Complétude</p></td>
<td><p>Les données de tous les éléments de données de toutes les unités d'organisation devraient être soumises.</p></td>
</tr>
<tr class="odd">
<td><p>Cohérence</p></td>
<td><p>Les données doivent être cohérentes avec les données saisies au cours des mois et des années précédents, tout en permettant les modifications liées à la réorganisation, l'augmentation de la charge de travail, ..., et compatibles avec d'autres structures sanitaires similaires..</p></td>
</tr>
<tr class="even">
<td><p>Ponctualité</p></td>
<td><p>Toutes les données de toutes les unités d'organisation doivent être soumises à la date convenue.</p></td>
</tr>
</tbody>
</table>

Vous pouvez contrôler la qualité des données de différentes manières. Par exemple :

-   Au moment de la saisie des données, DHIS2 peut examiner les données saisies pour vérifier si elles se situent entre les valeurs maximales et minimales de la plage de valeurs de cet élément de données (basé sur les données précédentes enregistrées).

-   En définissant des règles de validation, qui peuvent être exécutées une fois que l'utilisateur a terminé la saisie de données. L'utilisateur peut également vérifier les données saisies pour une période particulière et une ou des unité (s) d'organisation par rapport aux règles de validation et afficher les violations de ces règles.

-   En analysant les ensembles de données, c'est-à-dire, examiner les écarts dans les données.

-   Par triangulation de données, c'est-à-dire en comparant les mêmes données ou indicateurs de différentes sources.

## Analyse des règles de validation { #validation_rule_analysis }

### À propos de l'analyse des règles de validation { #about-validation-rule-analysis }

Une règle de validation repose sur une expression qui définit une relation numérique entre les valeurs des éléments de données. L'expression constitue une condition qui doit permettre de vérifier que certains critères logiques sont remplis.

L'expression se compose de :

-   Un  côté gauche

-   Un côté droit

-   Un opérateur

Une règle de validation pourrait être : "Les cas suspects de paludisme testés" \>= "Cas de paludisme confirmés".

Les côtés gauche et droit doivent renvoyer des valeurs numériques.

L'analyse des règles de validation permet de tester les règles de validation par rapport aux données enregistrées dans le système. Les violations de ces règles sont signalées lorsque la condition définie dans l'expression de règle de validation n'est pas remplie, c'est à dire lorsque la condition est fausse.

Vous pouvez configurer une analyse de règle de validation pour envoyer automatiquement les informations relatives aux  violations aux groupes d'utilisateurs sélectionnés. Ces messages sont appelés _notifications de validation_ et sont créés dans l'application **Maintenance**. Les notifications de validation sont envoyées via le système de messagerie interne de DHIS2.

### Déroulement { #workflow }

1.  Dans l'application **Maintenance**, créez des règles de validation et des groupes de règles de validation.

2.  (Facultatif) Dans l'application **Maintenance**, créez des notifications de validation.

3.  Exécutez l'analyse automatiquement ou manuellement des règles de validation.

    -   Dans l'application **Programmateur**, vous pouvez programmer l'analyse des règles de validation pour qu'elle s'exécute automatiquement pour toutes les règles de validation incluses dans un ou plusieurs groupes de règles de validation. Après l'exécution de l'analyse par le système, vous verrez les violations de validation (le cas échéant) dans les notifications de validation envoyées via le système de messagerie interne de DHIS 2.

    -   Dans l'application **Qualité des données**, vous exécutez manuellement l'analyse des règles de validation pour celles qui sont sélectionnées. À la fin du processus d'analyse, une liste de violations de règles (s'il y en a) s'affichera.

### Programmez l'éxécution automatique de l'analyse des règles de validation { #schedule-a-validation-rule-analysis-to-run-automatically }

> **N.B.**
>
> Seules les règles de validation associées à une ou plusieurs notifications de validation seront prises en compte dans l'analyse des règles de validation. Au cas où il n'y a pas de notification de validation correspondante à une règle de validation, le système n'a nulle part où envoyer les violations de validation.

> **N.B.**
>
> Lors de l'exécution automatique de l'analyse des règles de validation, les résultats  non encore maintenus seront conservés pendant cette exécution. Les résultats conservés ne sont actuellement accessibles que via l'API. Veuillez consulter le guide du développeur pour plus d'informations sur la manière d'accéder aux violations persistantes des règles de validation.

1.  Vérifiez que vous avez créé toutes les règles de validation, les groupes de règles de validation ainsi que les notifications de validation dont vous avez besoin.

2.  Ouvrez l'application **Programmateur** et cliquez sur le bouton d'ajout dans le coin inférieur droit.

3.  Choisissez un nom approprié pour la nouvelle tâche.

4.  Sélectionnez le type de tâche **Monitoring** à l'aide du menu déroulant.

5.  Choisissez une fréquence d'exécution de la tâche, c'est-à-dire quand et à quelle fréquence la tâche doit être exécutée.

6.  Renseignez la section **Paramètres**, y compris les groupes de règles de validation.

7.  Appuyez sur le bouton **Ajouter une tâche** pour confirmer la création de la tâche. Pour plus d'informations sur l'ajout de tâches, voir [Scheduling] (data-administration.html#scheduling).

### Exécuter  manuellement une analyse de règles de validation { #run-a-validation-rule-analysis-manually }

![](resources/images/data_quality/validation_rule_analysis.png)

1.  Vérifiez que vous avez créé toutes les règles de validation, les groupes de règles de validation ainsi que les notifications de validation dont vous avez besoin.

2.  Ouvrez l'application **Qualité des données** et cliquez sur **Analyse des règles de validation**.

3.  Sélectionnez une **Date de début** et une **Date de fin**.

4.  Sélectionnez le **Groupe de règles de validation** à inclure dans l'analyse.

    Vous pouvez sélectionner toutes les règles de validation ou toutes les règles de validation d'un seul groupe de règles de validation.

5.  (Facultatif) Sélectionnez **Envoyer les notifications** pour déclencher les notifications de validation.

    > **Note**
    >
    > If you want to send out validation notifications, you must first create them in the **Maintenance** app.

6.  (Facultatif) Sélectionnez _Maintenir les nouveaux résultats_ pour conserver tous les résultats de l'analyse.

7.  Sélectionnez une **unité d'organisation mère**.

8.  Cliquez sur **Valider**.

    La durée du processus d'analyse dépend de la quantité de données à analyser. S'il n'y a aucune violation des règles de validation, vous verrez un message disant _Validation réussie_. Dans le cas où il y a des violations de validation, celles-ci seront présentées sous forme d'une liste.

    ![](resources/images/data_quality/validation_rule_analysis_result.png)

9.  (Facultatif) Cliquez sur l'icône Afficher les détails pour obtenir plus d'informations sur la violation d'une règle de validation. Dans la fenêtre pop-up, vous trouverez des informations sur les éléments de données inclus dans les règles de validation et leur valeurs de données correspondantes. Vous pouvez utiliser ces informations pour identifier la source de la violation de la règle de validation.

10. (Facultatif) Cliquez sur **Télécharger au format PDF**, **Télécharger au format Excel** ou **Télécharger au format CSV** pour télécharger la liste des violations de validation dans les formats PDF, Excel ou CSV.

### Voir également { #see-also }

-   [Gérer les règles de validation](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html)

-   [Application Administration des données](https://docs.dhis2.org/master/en/user/html/data_admin.html)

## Analyse des aberrations d'écart-type { #standard_deviation_analysis }

### À propos de l'analyse des aberrations d'écart-type { #about-standard-deviation-outlier-analysis }

L'analyse des valeurs aberrantes de l'écart type identifie les valeurs numériquement distantes du reste des données, ce qui indique potentiellement qu'il s'agit de valeurs aberrantes. L'analyse est basée sur la distribution normale standard. DHIS 2 calcule la moyenne de toutes les valeurs pour une unité d'organisation, un élément de données, une combinaison d'options de catégorie et une combinaison d'options d'attributs. Les valeurs aberrantes peuvent bien sûr survenir par hasard, mais elles peuvent potentiellement indiquer une erreur de mesure ou de saisie.

> **N.B.**
>
> Comme indiqué plus haut, cette analyse de la qualité des données n'est appropriée que pour les données distribuées normalement. Les données présentant d'importantes variations saisonnières ou pouvant être distribuées selon d'autres modèles statistiques (par exemple, logistiques) peuvent conduire à signaler des valeurs devant être considérées comme valides. Il est donc recommandé de confirmer d'abord si les données sont effectivement distribuées avant de procéder à une analyse des valeurs aberrantes de l'écart type.

### Exécuter une analyse des aberrations d'écart-type { #run-a-standard-deviation-outlier-analysis }

![](resources/images/data_quality/std_dev_analysis.png)

1.  Ouvrez l'application **Qualité des données** et cliquez sur **Détection des valeurs atypiques**.

2.  Sélectionnez un ou des ensemble(s) de données.

3.  Sélectionnez **Unités d'organisation**.

    Il est possible de sélectionner plusieurs unités d'organisation. L'analyse porte sur les données brutes de toutes les unités d'organisation de la sous-hiérarchie des unités sélectionnées, et non sur des données agrégées.

4.  Sélectionnez **À partir de la date** et **À la date**.

5.  Set **Algorithm** to **Z-score**

6.  Sélectionnez un **seuil**.

    Ceci fait référence au nombre d'écarts-types par rapport à la moyenne autorisée au-dessus duquel les données sont identifiées comme valeurs abérrantes.

7.  Sélectionnez **Résultats maximums**

    Il s'agit du nombre maximum de valeurs atypiques figurant dans les résultats.

8.  (Facultatif) Sélectionnez une **Date de début des données** et une **Date de fin des données**.

    These fields can be used to perform outlier detection analysis on a subset of the data within the provided date range. When left blank, the natural start and end date of the dataset will be used _(In advanced section)_.

9.  (Optional) Select a measure to **Sort by**

    The outliers can be sorted by **Z-score** or by **Absolute deviation from Mean** _(In advanced section)_.

10. Cliquez sur **Démarrer** La durée du processus d'analyse dépend de la quantité de données analysées. S'il y a des valeurs atypiques des écarts types, celles-ci seront présentées sous forme de liste. ![](resources/images/data_quality/std_dev_analysis_outlier_result.png) Pour chaque valeur atypique, vous verrez l'élément de données, la période, l'unité d'organisation, la valeur, le z-score, l'écart, l'écart type, la moyenne, le minimum et le maximum. Les valeurs minimales et maximales font référence aux valeurs limites dérivées du nombre d'écarts types sélectionnés pour l'analyse.

11. (Facultatif) Cliquez sur **Télécharger au format CSV** pour télécharger la liste au format CSV.

> **Astuce**
>
> Cliquez sur la case à cocher pour marquer une valeur atypique pour un suivi ultérieur.

## Analyse des valeurs aberrantes minimales et maximales { #min_max_analysis }

### À propos de l'analyse des valeurs aberrantes minimales et maximales { #about-minimum-maximum-value-based-outlier-analysis }

Vous pouvez vérifier la qualité des données au moment de la saisie en définissant une plage de valeurs maximales et minimales pour chaque élément de donnée. Vous pouvez définir ces plages de valeurs manuellement ou les générer automatiquement.

La plage de valeurs générée automatiquement ne convient que pour des données normalement distribuées. DHIS2 déterminera la moyenne arithmétique et l'écart-type de toutes les valeurs pour un élément de donnée, une options de catégorie, une unité d'organisation et attribuer une combinaison. Le système calculera ensuite la plage de valeurs maximales et minimales sur la base du **Facteur d'analyse de l'écart-type des données** spécifié dans l'application **Paramètres Système**.

Pour les données fortement asymétriques ou nulles (comme c'est souvent le cas pour les données agrégées), les valeurs générées automatiquement par DHIS2 ne peuvent pas fournir une plage de valeurs précise. Cela peut entraîner de fausses violations de règles, si vous analysez par exemple des valeurs liées à des maladies saisonnières.

> **Note**
>
> Les plages de valeurs minimales et maximales sont calculées pour toutes les options de combinaison d'attributs pour un élément de donnée particulier, une option de catégories et une combinaison d'unités d'organisation.

### Déroulement { #workflow }

1.  Créer automatiquement ou manuellement une plage de valeurs minimum et maximum.

    -   Dans l'application **Administration des données**, vous pouvez générer automatiquement des plages de valeurs

    -   Dans l'application **Saisie des données**, vous pouvez définir manuellement les plages de valeurs.

2.  Dans l'application **Qualité des données**, vous pouvez exécuter **L'analyse des valeurs aberrantes mini-maxi**.

### Configurer une analyse des valeurs aberrantes minimum maximum { #configure-a-minimum-maximum-outlier-analysis }

#### Créer automatiquement une plage de valeurs minimum maximum { #create-minimum-maximum-value-range-automatically }

![](resources/images/data_quality/generate_min_max.png)

> **Note**
>
> Les plages de valeurs maximales et minimales générées automatiquement peuvent être utiles pour de nombreuses applications, mais il est recommandé de vérifier que les données sont normalement distribuées avant l'utilisation de cette fonction.

Vous pouvez générer des plages de valeurs maximales et minimales calculées par l'ensemble de donnée défini dans l'application **Administration des données**. Les nouvelles plages de valeurs remplaceront toutes les valeurs que le système a calculées précédemment.

1.  Définissez le **Facteur d'analyse des valeurs d'écart-type (std dev) des données** :

    1.  Ouvrez l'application **Paramètres système**, puis cliquez sur **Général**.

    2.  Dans le champ **Facteur d'analyse des valeurs d'écart-type des données**, entrez une valeur.

        Cela permet de fixer le nombre d'écarts types à utiliser dans l'analyse des valeurs aberrantes. La valeur par défaut est de 2. Des valeurs plus élevées indiquent une distribution plus large, ce qui peut créer un situation dans laquelle les valeurs aberrantes ne seront pas correctement signalées par l'analyse.

2.  Ouvrez l'application **Administration des données** et cliquez sur **Génération des valeurs mini-maxi**.

3.  Sélectionnez un ou des ensemble(s) de données.

4.  Sélectionnez une **unité d'organisation**.

5.  Cliquez sur **Générer**.

    De nouvelles plages de valeurs maximales minimales sont générées pour tous les éléments de données définis dans les ensembles de données sélectionnés pour toutes les unités d'organisation (y compris les descendants) des unités d'organisation sélectionnées.

#### Créer manuellement une plage de valeurs minimum-maximum { #create-minimummaximum-value-range-manually }

![](resources/images/data_quality/set_min_max_manually.png)

1.  Dans l'application **Saisie de données**, ouvrez un formulaire de saisie.

2.  Double-cliquez sur le champs auquel vous souhaitez affecter une plage de valeurs minimum/maximum.

3.  Dans la boîte de dialogue qui s'affiche, entrez **la limite Mini** et **la limite Maxi** 

4.  Cliquez sur **Sauvegarder**.

    Si les valeurs que vous entrez ensuite ne sont pas incluses dans la plage des valeurs, la case de saisie prendra une couleur orange.

5.  (Facultatif) Saisissez un commentaire pour expliquer la raison de cette différence. Il peut s'agir par exemple d'un événement qui aurait pu générer un nombre important de clients.

6.  (Facultatif) Cliquez sur **Enregistrer le commentaire**.

> **Astuce**
>
> Cliquez sur l'icône étoile pour marquer la valeur en vue d'un suivi ultérieur.

#### Supprimer une plage de valeurs minimum maximum { #delete-minimum-maximum-value-range }

Vous pouvez supprimer définitivement toutes les plages de valeurs maximales minimales pour des ensembles de données et unités d'organisation sélectionnés dans l'application **Administration des données**.

1.  Ouvrez l'application **Administration des données** et cliquez sur **Génération des valeurs mini-maxi**.

2.  Sélectionnez un ou des ensemble(s) de données.

3.  Sélectionnez une **Unité d'organisation**. Notez que la sélection se fait en cascade vers les unités d'organisation descendantes !

4.  Cliquez sur **Supprimer**.

### Exécuter une analyse de valeurs aberrantes minimales et maximales { #run-a-minimum-maximum-outlier-analysis }

![](resources/images/data_quality/min_max_analysis.png)

1.  Vérifiez que vous avez créé des plages de valeurs maximales minimales.

2.  Ouvrez l'application **Qualité des données** et cliquez sur **Détection des valeurs atypiques**.

3.  Sélectionnez un ou des ensemble(s) de données.

4.  Sélectionnez une **Unité d'organisation mère**.

    Il est possible de sélectionner plusieurs unités d'organisation. L'analyse porte sur les données brutes de toutes les unités d'organisation de la sous-hiérarchie des unités sélectionnées, et non sur des données agrégées.

5.  Sélectionnez **À partir de la date** et **À la date**.

6.  Définissez **Algorithme** sur **Valeurs min-max**.

7.  Sélectionnez **Résultats maximums**

    Il s'agit du nombre maximum de valeurs atypiques figurant dans les résultats.

8.  Cliquez sur **Démarrer**

    La durée du processus d'analyse dépend de la quantité des données à analyser. S'il existe des valeurs aberrantes, celles-ci seront présentées sous forme d'une liste.

    ![](resources/images/data_quality/min_max_result.png)

    Pour chaque valeur atypique, vous verrez l'élément de données, la période, l'unité d'organisation, la valeur, l'écart, le minimum et le maximum.

9.  (Facultatif) Cliquez sur **Télécharger au format CSV** pour télécharger la liste au format CSV.

> **Astuce**
>
> Cliquez sur la case à cocher pour marquer la valeur pour un suivi ultérieur.

## Analyse de suivi { #follow_up_analysis }

### À propos de l'analyse de suivi { #about-follow-up-analysis }

L'analyse de suivi crée une liste de toutes les valeurs de données marquées pour suivi ultérieur. Vous pouvez marquer une valeur de données pour suivi ultérieur dans l'application **Saisie de données** et dans la liste de résultats que vous obtenez de l'analyse des valeurs aberrantes d'écart-type ou de l'analyse des valeurs aberrantes minimales et maximales.

### Créer une liste de valeurs de données marquées pour un suivi ultérieur { #create-list-of-data-values-marked-for-follow-up }

![](resources/images/data_quality/follow_up_analysis.png)

1.  Ouvrez l'application **Qualité des données** et cliquez sur **Analyse de suivi**.

2.  Sélectionnez un ou plusieurs ensembles de données. 

3.  Sélectionnez **Unités d'organisation**.

    Il est possible de sélectionner plusieurs unités d'organisation. L'analyse porte sur les données brutes "sous" l'unité d'organisation, et non sur les données agrégées.

4.  Sélectionnez une **date de début** et une **date de fin** qui définissent les périodes pour lesquelles vous souhaitez rechercher des valeurs marquées pour le suivi.

5.  Appuyez sur **Suivre** pour générer une liste de valeurs marquées pour le suivi.

6.  (Facultatif) Cliquez sur **Télécharger au format PDF**, **Télécharger au format Excel** ou **Télécharger au format CSV** pour télécharger la liste des violations de validation dans les formats PDF, Excel ou CSV.

![](resources/images/data_quality/follow_up_analysis_result.png)

> **Astuce**
>
> Cliquez sur l'icône étoile pour supprimer la balise de suivi de la valeur de donnée. Vous pouvez également saisir un commentaire dans le champ pour indiquer toute information supplémentaire concernant la valeur.

# Utilisation de l'application Saisie { #capture_app }

## À propos de l'application Saisie { #about_capture_app }

> **N.B.**
>
> L'application Saisie remplace l'application Saisie d'événements. À l'avenir, l'application Saisie Tracker et l'application Saisie de données seront également intégrées à l'application Saisie.

Dans l'application Saisie d'événements, vous pouvez enregistrez des événements qui se sont produits à un moment et un endroit précis. Un événement peut se produire à n'importe quel moment. Cela contraste avec les données de routine, qui peuvent être saisies à intervalles réguliers prédéfinis. Les événements sont parfois appelés cas ou enregistrements. Dans le DHIS2, les événements sont liés à un programme. L'application Saisie d'événements vous permet de sélectionner l'unité d'organisation et le programme et de spécifier une date à laquelle un événement s'est produit, avant de saisir les informations relatives à l'événement.

## Enregistrer un événement { #capture_register_event }

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.

   Vous ne verrez que les programmes associés à l'unité organisationnelle sélectionnée et les programmes auxquels vous avez accès, et qui sont partagés avec votre groupe d'utilisateurs par le biais du partage des niveaux de données.

4. Si le programme comporte une combinaison de catégories, l'option de catégorie devra être sélectionnée.

5. Cliquez sur **Nouveau**.

    ![create new event](resources/images/capture_app/create_new_event.png)

6. Remplissez les informations requises. Si l'étape du programme est configurée pour saisir un lieu :

    - Si le champ est un champ de coordonnées, vous pouvez soit entrer les coordonnées directement, soit cliquer sur l'icône **carte** à gauche du champ de coordonnées. Cette dernière ouvrira une carte sur laquelle vous pourrez rechercher un lieu ou sur laquelle vous pourrez cliquer directement en cliquant sur la carte.

    - Si le champ est un champ de polygone, vous pouvez cliquer sur l'icône **carte** à gauche du champ. Cela ouvrira une carte où vous pourrez rechercher un lieu et capturer un polygone (bouton dans le coin supérieur droit de la carte).

7. Si vous le souhaitez, vous pouvez ajouter un commentaire en cliquant sur le bouton **Ecrire un commentaire** au bas du formulaire.

8. Si vous le souhaitez, vous pouvez ajouter une relation en cliquant sur le bouton **Ajouter une relation** au bas du formulaire. Voir la section**Ajouter une relation** pour plus d'informations.

9. Cliquez sur ** Enregistrer et quitter** ou cliquez sur la flèche située à côté du bouton pour sélectionner ** Enregistrer et ajouter un autre**.

    - **Sauvegarder et ajouter un autre** permettra de sauvegarder l'événement en cours et d'effacer le formulaire. Tous les événements que vous avez saisis seront affichés dans une liste en bas de page. Lorsque vous souhaitez terminer la saisie des événements, vous pouvez, si le formulaire est vide, cliquer sur le bouton "Terminer" ou, si votre formulaire contient des données, cliquer sur la flèche à côté de **Sauvegarder et ajouter un autre** et sélectionner **Sauvegarder et quitter**.

> **N.B.**
>
> Certains éléments de données d'un événement peuvent être obligatoires (marqués d'une étoile rouge à côté de l'étiquette de l'élément de données). Tous les éléments de données obligatoires doivent être saisis avant que l'utilisateur ne soit autorisé à terminer l'événement. Il y aura une exception à cette règle si l'utilisateur dispose de l'autorisation **"Ignorer la validation des champs obligatoires dans Saisie Tracker et Saisie d'événements".** Si l'utilisateur dispose de cette autorisation, les éléments de données obligatoires ne seront pas requis et l'étoile rouge ne s'affichera pas à côté de l'étiquette de l'élément de données. Notez que les super utilisateurs disposant de l'autorité **"TOUT"** disposent automatiquement de cette autorité.

> **Conseil**
>
> Le formulaire de saisie des données peut également être affiché en mode **Vue ne rangée**. Dans ce mode, les éléments de données sont disposés horizontalement. Pour ce faire, il suffit de cliquer sur le bouton **Passer à la vue en rangée** situé en haut à droite du formulaire de saisie des données. Si vous êtes actuellement en mode **Vue en ligne**, vous pouvez passer à la vue par défaut du formulaire en cliquant sur le bouton **Passer à la vue en ligne** en haut à droite du formulaire de saisie des données.

## Enregistrer une instance d'entité suivie{ #register-a-tracked-entity-instance }

Il existe deux manières différentes d'enregistrer une instance d'entité suivie sous une unité d'organisation. La première consiste à enregistrer une instance d'entité suivie sans l'inscrire à un programme de suivi. La seconde consiste à enregistrer une instance d'entité suivi et l'inscrire au programme.

### Sans inscription au programme { #without-a-program-enrollment }

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Cliquez sur le bouton "Nouveau".

    ![image](resources/images/capture_app/register-without-enrollment-new-button.png)

    Vous serez maintenant dirigé vers la page d'inscription. Sur cette page, vous verrez un menu déroulant semblable à celui de l'image ci-dessous. Dans le menu déroulant, vous pouvez sélectionner un type d'entité suivie, par exemple. Bâtiment, Personne, etc.

    ![image](resources/images/capture_app/register-without-enrollment-dropdown-menu.png)

4. Sélectionnez le type d'entité suivie pour lequel vous souhaitez créer une nouvelle instance.

    ![image](resources/images/capture_app/register-without-enrollment-dropdown-menu-with-arrow.png)

5. Dès que vous sélectionnez un type d'entité suivie, un formulaire s'affiche à l'écran.

    La section "Profil" s'affichera. Dans cette section, vous pouvez ajouter des données pertinentes pour l'instance d'entité suivie. La section de profil contient principalement tous les attributs d'entité suivie liés au type d'entité suivie.

    ![image](resources/images/capture_app/register-without-enrollment-form.png)

6. Remplissez les informations requises.

    Si le type d'entité suivie est configuré pour saisir un emplacement :

    - Si le champ est un champ de coordonnées, vous pouvez soit entrer les coordonnées directement, soit cliquer sur l'icône **carte** à gauche du champ de coordonnées. Cette dernière ouvrira une carte sur laquelle vous pourrez rechercher un lieu ou sur laquelle vous pourrez cliquer directement en cliquant sur la carte.

    - Si le champ est un champ de polygone, vous pouvez cliquer sur l'icône **carte** à gauche du champ. Cela ouvrira une carte où vous pourrez rechercher un lieu et capturer un polygone (bouton dans le coin supérieur droit de la carte).

7. Cliquez sur le bouton **Sauvegarder nouveau** pour enregistrer l'instance d'entité suivie.
8. Vous serez invité à accéder au tableau de bord de l'instance d'entité suivie.

    Le tableau de bord affichera des informations pertinentes sur l'instance d'entité suivie nouvellement créée.

### Avec une inscription au programme { #with-a-program-enrollment }

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme de suivi de votre choix similaire à l'image ci-dessous.

    ![create new event](resources/images/capture_app/register-and-enroll-program-selection.png)

4. Cliquez sur le bouton déroulant "Nouveau", puis cliquez sur la première option.

    The first option will look something similar to the image below. The text in our example is "New person in Child programme". Clicking this option will prompt you to the registration and enrollment page of the program you selected. ![create new event](resources/images/capture_app/register-and-enroll-dropdown-button-new-person-in-program.png)

5. Vous pourrez voir un formulaire semblable à l'image ci-dessous.

    The form will have two sections. The first section has the title "Enrollment". There you will add all the information relevant to this program's enrollment. The second section has the title "Profile" there you will add data relevant to the tracked entity instance. The profile section mainly contains all the tracked entity attributes linked to the program or tracked entity type.

    ![create new event](resources/images/capture_app/register-and-enroll-form.png)

6. Fill in the required information for both sections. If the tracked entity type is configured to capture a location:

    - Si le champ est un champ de coordonnées, vous pouvez soit entrer les coordonnées directement, soit cliquer sur l'icône **carte** à gauche du champ de coordonnées. Cette dernière ouvrira une carte sur laquelle vous pourrez rechercher un lieu ou sur laquelle vous pourrez cliquer directement en cliquant sur la carte.

    - Si le champ est un champ de polygone, vous pouvez cliquer sur l'icône **carte** à gauche du champ. Cela ouvrira une carte où vous pourrez rechercher un lieu et capturer un polygone (bouton dans le coin supérieur droit de la carte).

7. Cliquez sur **Enregistrer nouveau** pour enregistrer l'instance d'entité suivie.
8. Vous serez invité à accéder au tableau de bord de l'instance d'entité suivie.

    Le tableau de bord affichera des informations pertinentes sur l'instance d'entité suivie nouvellement créée.

> **N.B.**
>
> Certains éléments de données d'un événement peuvent être obligatoires (marqués d'une étoile rouge à côté de l'étiquette de l'élément de données). Tous les éléments de données obligatoires doivent être saisis avant que l'utilisateur ne soit autorisé à terminer l'événement. Il y aura une exception à cette règle si l'utilisateur dispose de l'autorisation **"Ignorer la validation des champs obligatoires dans Saisie Tracker et Saisie d'événements".** Si l'utilisateur dispose de cette autorisation, les éléments de données obligatoires ne seront pas requis et l'étoile rouge ne s'affichera pas à côté de l'étiquette de l'élément de données. Notez que les super utilisateurs disposant de l'autorité **"TOUT"** disposent automatiquement de cette autorité.

> **Conseil**
>
> Le formulaire de saisie des données peut également être affiché en mode **Vue ne rangée**. Dans ce mode, les éléments de données sont disposés horizontalement. Pour ce faire, il suffit de cliquer sur le bouton **Passer à la vue en rangée** situé en haut à droite du formulaire de saisie des données. Si vous êtes actuellement en mode **Vue en ligne**, vous pouvez passer à la vue par défaut du formulaire en cliquant sur le bouton **Passer à la vue en ligne** en haut à droite du formulaire de saisie des données.

### Inscription avec des événements générés automatiquement { #enrollment-with-auto-generated-events }

Un programme peut être configuré de sorte à avoir zéro ou plusieurs étapes générées automatiquement lors d'une nouvelle inscription. Ces étapes seront générées automatiquement en fonction de la configuration des métadonnées, tel qu'expliqué ci-dessous.

Pour configurer la génération automatique d'un événement, vous devez suivre les étapes suivantes.

1. Ouvrez l'application Maintenance

2. Select the Program tab ![](resources/images/capture_app/auto-generated-01.png)

3. Select a Tracker program ![](resources/images/capture_app/auto-generated-02.png)

4. Select the Program stages tab ![](resources/images/capture_app/auto-generated-03.png)

5. Click on the stage you would like to configure ![](resources/images/capture_app/auto-generated-04.png)

6. Mark the stage as Auto-generated ![](resources/images/capture_app/auto-generated-05.png)

Désormais, pour chaque nouvelle inscription à ce programme, un événement sera généré automatiquement. Un programme peut également avoir plusieurs étapes marquées comme générées automatiquement. Pour tous les événements générés automatiquement

a) l'unité d'organisation sera la même que celle pour laquelle l'utilisateur se présente, lors de l'inscription et

b) tous les événements seront intégrés à l'inscription en cours.

Selon la configuration, l'événement généré automatiquement peut être ACTIF ou PROGRAMMÉ.

#### Type d'événement actif { #active-type-of-event }

If the stage has the "Open data entry form after enrollment" selected, then the event will be generated into the ACTIVE status. Also its execution date will be calculated for the event, in addition to a due date. The generation happens based on either the enrollment date or the incident date. You can choose the reporting date from the dropdown menu "Report date to use". ![](resources/images/capture_app/auto-generated-06.png)

Comme le montre l'image, vous avez trois options, a) Date de l'incident b) Date d'inscription ou c) Aucune valeur. Choisir la date de déclaration comme "Date de l'incident" indique que la date d'exécution de l'événement et la date d'échéance seront les mêmes que la date de l'incident. Choisir la date de déclaration comme "Date d'inscription" ou "Aucune valeur" indique que la date d'exécution de l'événement et la date d'échéance seront les mêmes que la date d'inscription.

#### Type d'événement programmé { #schedule-type-of-event }

When the "Open data entry after enrollment" is not checked, it means that the event generated will be a SCHEDULE event. The scheduled event does not have an execution date, but only a due date. The due date for these future events are calculated based on either enrollment date or incident date. If the flag below is checked, the reference date is the enrollment date, if the flag is not checked, the incident date is used. ![](resources/images/capture_app/auto-generated-07.png)

Lorsqu'il n'y a pas de date d'incident, la date de référence reviendra à la date d'inscription, que le drapeau ci-dessus soit coché ou non.

On SCHEDULE type of events the user can also configure the "Scheduled days from start". Which means if a stage has a number in "Scheduled days from start" the reference date will increased by that number. In the example below we increase the due date by 30 days. ![](resources/images/capture_app/auto-generated-08.png)

Lorsque les "Jours programmés depuis le début" ne contiennent pas de nombre ou contiennent le chiffre 0, la date de référence est utilisée sans augmentation de jours.

### Possibilité de détection de duplicatas{ #possible-duplicates-detection }

In both cases of registering a tracked entity instance, (with enrollment or without enrollment) the system will warn you for possible duplicates. Note that, programs need to be correctly configured through the maintenance app for the duplicates warning to appear.

Pour configurer un programme via l'application de maintenance, il vous faudra :

1. Open the maintenance app. ![](resources/images/capture_app/duplicates-maintenance-config-00.png)

2. In the program section select your program. We select Child Programme for this example. ![](resources/images/capture_app/duplicates-maintenance-config-01.png)

3. Select the Attributes tab. ![](resources/images/capture_app/duplicates-maintenance-config-02.png)

4. Enable duplicates search by checking program attributes as searchable ![](resources/images/capture_app/duplicates-maintenance-config-03.png)

Les attributs que vous avez sélectionnés comme "Recherchables" seront ceux que le système utilisera pour détecter d'éventuels doublons.
Expliquons cela à l'aide d'un exemple qui démontre la détection d'éventuels doublons lors de l'inscription d'un enfant au Programme pour Enfants.

1. Open the **Capture** app. ![](resources/images/capture_app/duplicates-on-creation-00.png)

2. Select your organisation unit and program from the menu on the top. ![](resources/images/capture_app/duplicates-on-creation-01.png)

3. Click "New" -> "New person in Child Programme" ![](resources/images/capture_app/duplicates-on-creation-02.png)

4. Fill in the first name in the form. **Remember, the first name we have checked as "Searchable" in the maintenance app.** It is because we have checked the first name as "Searchable" that the system will start looking for possible duplicates that match the name Sarah as you see in the image below. ![](resources/images/capture_app/duplicates-on-creation-03.png)

5. Click the link with text "Possible duplicates" ![](resources/images/capture_app/duplicates-on-creation-04.png)

6. View the possible duplicates ![](resources/images/capture_app/duplicates-on-creation-05.png)

> **Astuce**
>
> Vous pouvez configurer la détection des enregistrements doubles pour les types d'entités suivies de la même manière que nous l'avons fait pour les programmes.

### Exécution des règles du programme { #program-rules-execution }

Dans les deux cas d'enregistrement d'une instance d'entité suivie (avec ou sans inscription), le système mettra en application les règles de programme que vous avez configurées. Notez que les règles peuvent être configurées dans l'application de maintenance.

Pour voir qu'une règle est en cours d'application lors de l'inscription d'une instance d'entité suivie, vous devrez suivre les étapes suivantes.

1. Configurez une règle dans l'application de maintenance. Pour l'exemple ci-dessous, nous avons configuré une règle pour qu'elle lance un avertissement lorsque la date de naissance est inférieure à un an.

2. Open the **Capture** app. ![](resources/images/capture_app/duplicates-on-creation-00.png)

3. Select your organisation unit and program from the menu on the top. ![](resources/images/capture_app/program-rules-on-creation-00.png)

4. Fill in the date of birth with a value which is less than a year. In our case this is 27th of January 2021. ![](resources/images/capture_app/program-rules-on-creation-01.png)

5. You will now be able to see the warning produced by the program rule underneath the birth date field. ![](resources/images/capture_app/program-rules-on-creation-02.png)

## Ajouter une relation { #capture_add_relationship }

Les relations peuvent être ajoutées soit lors de l'inscription, soit lors de l'édition ou de la visualisation d'un événement. Actuellement, l'application **Saisie** ne prend en charge que les relations _Événement à Instance d'entité suivie_.

1. Lorsque vous ouvrez un événement, cliquez sur **Ajouter une relation**.

2. Sélectionnez le type de relation que vous souhaitez créer.

Vous avez désormais deux options :

-   **Lier à une instance d'entité suivie existante** ou

-   **Créer une nouvelle instance d'entité suivie**.

![relationship options](resources/images/capture_app/relationship_options.png)

### Lier à une instance d'entité suivie existante { #link-to-an-existing-tracked-entity-instance }

1. Cliquez sur **Lier à une instance d'entité suivie existante**.

-   Vous devriez disposer de quelques options pour rechercher une **Instance d'entité suivie**. Vous avez la possibilité de sélectionner un **Programme**. Si un **Programme** est sélectionné, les attributs sont dérivés du **Programme sélectionné**. Si aucun **Programme** n'est sélectionné, seuls les attributs appartenant à l'**Instance d'entité suivie** seront visibles.

    ![search for Tracked Entity Instance](resources/images/capture_app/search_tei.png)

    -   Si l'**Instance d'entité suivie** ou le **programme** est configuré avec un attribut unique, cet attribut peut être utilisé pour trouver une **Instance d'entité suivie** ou **programme** spécifique. Cet attribut doit être présenté seul. Lorsque le champ de l'attribut unique a été rempli, cliquez sur le bouton **Recherche** situé juste en dessous du champ de l'attribut unique.

    -   Si l'**Instance d'entité suivie** ou le **programme** dispose d'attributs, ceux-ci peuvent être utilisés pour la recherche en élagissant la case **Recherche par attributs**. Après remplissage de tous les champs d'attributs souhaités, cliquez sur le bouton **Recherche par attributs** situé en bas. Vous pouvez également limiter la recherche en définissant le **Champ de l'unité d'organisation**. Si le paramètre est défini sur _Tout accessible_, vous rechercherez l'**Instance d'entité suivie** dans toutes les unités d'organisation auxquelles vous avez accès. Si vous sélectionnez _Sélectionné_, il vous sera demandé de sélectionner les unités d'organisation dans lesquelles vous souhaitez effectuer une recherche.

2. Après une recherche réussie, une liste de **Instances d'entités suivies** correspondant aux critères de recherche vous sera présentée. Pour créer une relation, cliquez sur le bouton **Lien** de  l'**Instance d'entité suivie** avec laquelle vous souhaitez créer une relation.

-   Au cas où vous n'avez pas pu trouver l'**Instance d'entité suivie** que vous cherchiez, vous pouvez soit cliquer sur les boutons **Nouvelle recherche** ou **Modifier la recherche**. Le bouton **Nouvelle recherche** vous conduit à une nouvelle recherche vide tandis que le bouton **Modifier la recherche** vous ramènera à la recherche que vous venez d'effectuer en conservant les critères de recherche.

### Créer une nouvelle instance d'entité suivie { #create-new-tracked-entity-instance }

1. Cliquez sur **Créer une nouvelle instance d'entité suivie**.

-   Un formulaire d'enregistrement d'une nouvelle **Instance d'entité suivie** vous est maintenant présenté. Vous pouvez alors choisir de vous enregistrer avec ou sans programme. Si vous sélectionnez un programme, la nouvelle **Instance d'entité suivie** sera inscrite dans ce programme. Vous pouvez également modifier l'**Unité d'organisation** en supprimant celle qui est automatiquement définie et en en sélectionnant une nouvelle.

    ![register new Tracked Entity Instance](resources/images/capture_app/register_tei.png)

2. Remplissez les attributs souhaités (et éventuellement obligatoires) ainsi que les détails de l'inscription.

3. Cliquez sur **Créer une nouvelle instance d'entité suivie et un lien**.

> **N.B**
>
> En entrant les données, vous pouvez recevoir un avertissement vous indiquant la présence éventuelle d'un doublon. Vous pouvez cliquer sur l'avertissement pour voir ces doublons et si le doublon concorde, vous pouvez choisir de lier cette **Instance d'entité suivie** en cliquant sur le bouton **Lien**. Si l'avertissement est toujours présent après l'entrée des données, le bouton **Créer un instance d'entité suivie et lier** ne s'affiche pas. À la place, vous devrez appuyer sur un bouton appelé **Vérifier les doublons**. Lorsque vous cliquez sur ce bouton, une liste des doublons possibles s'affiche. Si l'un de ces doublons correspond à l'**Instance d'entité suivie** que vous essayez de créer, vous pouvez cliquer sur le bouton **Lien**, sinon vous pouvez cliquer sur le bouton **Enregistrer comme nouvelle personne** pour enregistrer une nouvelle **Instance d'entité suivie**.

## Modifier un événement { #capture_edit_event }

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.

   Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4. Cliquez sur l'événement que vous souhaitez modifier.

5. Cliquez sur le bouton **Modifier l'événement**.

6. Modifiez les détails de l'événement et cliquez sur **Sauvegarder**.

## Supprimer un événement { #capture_delete_event }

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.

   Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4. Cliquez sur l'icône **triple point** sur l'événement que vous souhaitez supprimer.

5. Dans le menu qui s'affiche, cliquez sur **Supprimer l'événement**.

    ![delete event](resources/images/capture_app/delete_event.png)

## Modifier la mise en page d'une liste d'événements { #capture_modify_event_list_layout }

Vous pouvez sélectionner les colonnes à afficher ou à masquer dans une liste d'événements. Cela peut être utile par exemple lorsque vous avez une longue liste d'éléments de données affectés à une étape du programme.

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.

   Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4. Cliquez sur l'icône de l' **engrenage** en haut à droite de la liste des événements.

5. Sélectionnez les colonnes que vous souhaitez afficher et cliquez sur **Enregistrer**.

    ![modify event list](resources/images/capture_app/modify_event_list.png)

> **Conseil**
>
> Vous pouvez réorganiser l'ordre des éléments de données en les faisant glisser et en les déposant dans la liste.

## Filtrer une liste d'événements { #capture_filter_event_list }

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.

   Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

   En haut de la liste des événements se trouvent des boutons portant les mêmes noms que les en-têtes de colonne de la liste.

4. Utilisez les boutons en haut de la liste pour effectuer le  filtrage sur la base d'une date de rapport ou d'un élément de donnée spécifique.

    ![filter event](resources/images/capture_app/filter_event.png)

> **N.B.**
>
> Les différents types d'éléments de données sont filtrés de différentes manières. Un élément de données **Nombre** affichera par exemple une plage à filtrer, tandis qu'un élément de données **Texte** vous demandera d'entrer une requête de recherche à filtrer.

## Trier une liste d'événements { #capture_sort_event_list }

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme. Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4. Cliquez sur l'un des en-têtes de colonne pour trier la liste de cet élément de donnée par ordre croissant.

   Une petite flèche vers le haut s'affiche à côté de la colonne pour indiquer que la liste est triée par ordre croissant.

5. Cliquez à nouveau sur l'en-tête de la colonne pour trier la liste de cet élément de donnée par ordre décroissant.

   Une petite flèche vers le bas s'affiche à côté de la colonne pour indiquer que la liste est triée par ordre décroissant.

    ![sort event](resources/images/capture_app/sort_event.png)

## Télécharger une liste d'événements { #capture_download_event_list }

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme. Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4. Cliquez sur l'icône **flèche vers le bas** en haut à droite de la liste des événements.

5. Sélectionnez le format que vous souhaitez télécharger.

    ![download event list](resources/images/capture_app/download_event_list.png)

> **N.B**
>
> Vous pouvez télécharger une liste d'événements aux formats JSON, XML ou CSV.

## Listes des vues prédéfinies { #capture_views }

Vous pouvez créer vos propres vues et les sauvegarder pour un usage ultérieur. Les vues peuvent également être partagées avec d'autres personnes. Une vue se compose de filtres, de l'ordre des colonnes et de l'ordre de tri des événements.

### Sauvegarder une nouvelle vue { #capture_view_save }

1. Sélectionnez une unité d'organisation et un programme.

2. Définissez des filtres en utilisant les boutons de filtre au-dessus de la liste des événements (décrits en détail [ici](#capture_filter_event_list)).

    ![](resources/images/capture_app/view_save_filters.png)

3. Définissez l'ordre des colonnes en cliquant sur l'icône de la roue dentée, puis, dans la fenêtre contextuelle, spécifiez la mise en page selon votre préférence (la manière de modifier la mise en page est décrite en détail [ici](#capture_modify_event_list_layout)).

    ![](resources/images/capture_app/view_save_column_order.png)

4. Triez les événements en cliquant sur l'une des en-têtes de colonne (décrites en détail [ici](#capture_sort_event_list)).

    ![](resources/images/capture_app/view_save_sort_order.png)

5. Ouvrez le menu Plus (icône à trois points) sur la droite et sélectionnez ensuite "Sauvegarder la vue actuelle..."

    ![](resources/images/capture_app/view_save_menu.png)

6. Choisissez un nom pour la vue et cliquez sur enregistrer.

    ![](resources/images/capture_app/view_save_name.png)

### Charger une vue { #capture_view_load }

1. Sélectionnez une unité d'organisation et un programme avec une vue prédéfinie.

2. Les vues doivent être disponibles au-dessus de la liste d'événements elle-même. Cliquez sur une vue pour la charger.

    ![](resources/images/capture_app/view_load_unselected.png)

3. Exemple d'une vue chargée. 

    ![](resources/images/capture_app/view_load_selected.png)

### Mise à jour d'une vue { #capture_view_update }

1. Chargez la vue que vous souhaitez mettre à jour (voir [loading a view](#capture_view_load)).

2. Apportez vos modifications aux filtres, à l'ordre des colonnes et/ou à l'ordre de tri des événements.

    > **Note**
    >
    > An asterisk(\*) is appended to the view name when the view has unsaved changes.

3. Ouvrez le menu Plus (icône à trois points) sur la droite et sélectionnez ensuite "Mise à jour de la vue".

    ![](resources/images/capture_app/view_update.png)

### Partager une vue { #capture_view_share }

1. Chargez la vue que vous souhaitez partager (voir [loading a view](#capture_view_load)).

2. Ouvrez le menu Plus (icône à trois points) sur la droite et sélectionnez ensuite "Paratger la vue...".

    ![](resources/images/capture_app/view_share.png)

3. Apportez vos modifications. Vous ajouterez généralement des utilisateurs/groupes (1) et/ou modifierez les droits d'accès des utilisateurs/groupes ajoutés précédemment (2).

    ![](resources/images/capture_app/view_share_access.png)

### Supprimer une vue { #capture_view_delete }

1. Chargez la vue que vous souhaitez supprimer (voir [loading a view](#capture_view_load)).

2. Ouvrez le menu Plus (icône à trois points) sur la droite et sélectionnez ensuite "Supprimer la vue".

    ![](resources/images/capture_app/view_delete.png)

## Affectation des utilisateurs { #capture_user_assignment }

Les événements peuvent être attribués aux utilisateurs. Cette fonction doit être activée par programme.

### Attribution de nouveaux événements { #capture_user_assignment_new }

1. Sélectionnez une unité d'organisation et un programme dont l'affectation des utilisateurs est activée.

2. Cliquez sur **Nouvel événement** dans le coin supérieur droit.

3. Vous trouverez la section sur le cessionnaire au bas de la page de saisie des données. Recherchez et sélectionnez l'utilisateur auquel vous souhaitez attribuer l'événement. Le cessionnaire sera préservé lorsque vous sauvegarderez l'événement.

    ![](resources/images/capture_app/user_assignment_new.png)

    ![](resources/images/capture_app/user_assignment_new_filled.png)

### Changement de cessionnaire { #capture_user_assignment_edit }

1. Sélectionnez une unité d'organisation et un programme dont l'affectation des utilisateurs est activée.

2. Cliquez sur un événement dans la liste

3. Dans la colonne de droite, vous trouverez la section sur les cessionnaires.

    ![](resources/images/capture_app/user_assignment_edit.png)

4. Cliquez sur le bouton "Modifier", ou sur le bouton **Attribuer** si l'événement n'a pas encore d'attributaire.

    ![](resources/images/capture_app/user_assignment_edit_button.png)

    ![](resources/images/capture_app/user_assignment_edit_add.png)

5. Recherchez et sélectionnez l'utilisateur auquel vous souhaitez réattribuer l'événement. L'attribution est alors enregistrée immédiatement.

### L'attributaire dans la liste des événements { #capture_user_assignment_event_list }

Dans la liste des événements, vous pourrez consulter le nom de l'attributaire par événement. De plus, vous pouvez trier et filtrer la liste en fonction de l'attributaire.

#### Filtrer par attributaire { #filter-by-assignee }

1. Cliquez sur le filtre **Attribué à**.

    ![](resources/images/capture_app/user_assignment_event_list.png)

2. Sélectionnez votre filtre d'affectation préféré, puis cliquez sur mettre à jour.

    ![](resources/images/capture_app/user_assignment_event_list_options.png)

## Les programmes Tracker { #capture_tracker_programs }

L'application Saisie ne prend pas encore en charge les programmes Tracker, mais ceux-ci sont toujours répertoriés. Si vous sélectionnez un programme Tracker, l'application vous dirigera vers l'application Saisie Tracker comme indiqué ci-dessous.

![](resources/images/capture_app/tracker_program.png)

## Rechercher les instances d'entités suivies { #search-for-tracked-entity-instances }

### Dans le champ d'application d'un programme { #in-program-scope }

1. Ouvrez l'application **Capture**.

2. Sélectionnez un programme.

   Vous ne verrez que les programmes associés à l'unité organisationnelle sélectionnée et les programmes auxquels vous avez accès, et qui sont partagés avec votre groupe d'utilisateurs par le biais du partage des niveaux de données.

3. Si le programme comporte une combinaison de catégories, l'option de catégorie devra être sélectionnée.

4. Cliquez sur le bouton Rechercher.

5. Dans le menu déroulant, cliquez sur la première option.

    ![](resources/images/capture_app/search-by-attributes-find-button.png)

   Ces étapes vous conduiront à la page de recherche. Vous y trouverez, en fonction de la configuration de votre organisation, les différents attributs avec lesquels vous pouvez effectuer une recherche. Voici donc un exemple de comment cela se présente.

    ![](resources/images/capture_app/search-by-attributes-on-scope-program-overview-0.png)

   Désormais, vous pouvez effectuer une recherche :

6. Indiquez les attributs avec lesquels vous souhaitez effectuer la recherche.

7. Cliquez sur le bouton **Recherche par attributs**.

    ![](resources/images/capture_app/search-by-attributes-on-scope-program-overview-1.png)

8. Les résultats de la recherche seront affichés comme suit.

    ![](resources/images/capture_app/search-by-attributes-on-scope-program-overview-2.png)

   Dans cette liste, vous pouvez voir les éléments correspondant à votre recherche. Pour chaque élément, vous pouvez choisir parmi trois options.

   a. Vous pouvez choisir de consulter le tableau de bord de l'**Instance d'entité suivie** en cliquant sur le bouton "Voir le tableau de bord"

    ![](resources/images/capture_app/search-by-attributes-on-scope-program-overview-5.png)

   b. Vous pouvez visualiser l'inscription active d'une **Instance d'entité suivie** en cliquant sur le bouton "Voir l'inscription active"

    ![](resources/images/capture_app/search-by-attributes-on-scope-program-overview-3.png)

   c. Vous pouvez réinscrire une **Instance d'entité suivie** au programme en cours dans lequel vous effectuez une recherche.

    ![](resources/images/capture_app/search-by-attributes-on-scope-program-overview-4.png)

#### Recherche de repli { #fallback-search }

Effectuez une recherche complète comme décrit ci-dessus. Si la recherche effectuée aboutit à des résultats, ceux-ci seront donc affichés. Toutefois, l'**Instance d'entité suivie** que vous recherchez peut appartenir à un autre programme. Dans ce cas, vous pourriez étendre la recherche à d'autres programmes. On parle alors d'une recherche de repli.

Pour effectuer une recherche de repli, il suffit d'appuyer sur le bouton "Rechercher dans tous les programmes" situé dans la partie inférieure.

> **N.B.**
>
> La recherche de repli n'est possible que lors d'une recherche au sein d'un Programme.

![](resources/images/capture_app/search-by-attributes-fallback-overview-0.png)

### Dans le champ d'application d'un type d'entité suivie { #in-tracked-entity-type-scope }

1. Ouvrez l'application **Capture**.

2. Cliquez sur le bouton **Rechercher** pour ouvrir la page de recherche.

3. Cliquez sur le menu déroulant et sélectionnez le type d'entité que vous souhaitez rechercher.

    ![](resources/images/capture_app/search-by-attributes-domain-selector-overview-0.png)

4. Faites un choix dans la liste.

    ![](resources/images/capture_app/search-by-attributes-domain-selector-overview-1.png)

   Vous y trouverez, en fonction de la configuration de votre organisation, les différents attributs avec lesquels vous pouvez effectuer une recherche. Voici donc un exemple de comment cela se présente.

    ![](resources/images/capture_app/search-by-attributes-on-scope-tetype-overview-0.png)

   Désormais, vous pouvez effectuer une recherche :

5. Indiquez les attributs avec lesquels vous souhaitez effectuer la recherche.

6. Cliquez sur le bouton Recherche par attributs.

    ![](resources/images/capture_app/search-by-attributes-on-scope-tetype-overview-1.png)

7. Les résultats de la recherche seront affichés comme suit.

    ![](resources/images/capture_app/search-by-attributes-on-scope-tetype-overview-2.png)

   Dans cette liste, vous pouvez voir les entrées correspondant à votre recherche. Pour chaque entrée, vous avez la possibilité de cliquer sur le bouton "Voir le tableau de bord" pour voir le tableau de bord de l'**Instance d'entité suivie**.

### Fonctionnalité des résultats trop nombreux { #too-many-results-functionality }

Le type de programme ou d'entité suivie utilisé pour la recherche peut être configuré de manière à limiter le nombre de résultats renvoyés par une recherche. Si le nombre de résultats de votre recherche dépasse cette limite, vous recevrez un message d'avertissement comme celui ci-dessous.

![](resources/images/capture_app/search-by-attributes-on-scope-program-overview-too-many-results-message.png)

### Pagination { #pagination }

La page de résultats affiche jusqu'à cinq résultats à la fois. Vous devez essayer d'utiliser des critères de recherche spécifiques pour éviter qu'il y ait trop de résultats. Cependant, lorsqu'il y a plus de cinq résultats, vous pouvez consulter les résultats suivants en utilisant le bouton **>** situé en fin de page.

![](resources/images/capture_app/search-by-attributes-on-scope-program-overview-pagination.png)

## Répertorier les instances d'entité suivie inscrites au programme { #list-tracked-entity-instances-enrolled-in-program }

1. Ouvrez l'application **Capture**.

2. Sélectionnez une unité d'organisation.

3. Select a tracker program.

4. Le programme peut avoir des catégories qui lui sont associées (par exemple un partenaire de mise en œuvre). Si tel est le cas, remplissez-les.

### Filtrer la liste { #filter-the-list }

Utilisez les touches au dessus de la liste pour la filtrer.

![](resources/images/capture_app/tei_list_filters.png)

Par exemple, vous pouvez filtrer la liste de sorte que seules les instances d'entité suivie auxquelles un événement vous a été attribué soient affichées : cliquez sur le filtre "Attribué à" (1), sélectionnez "Moi" (2) puis "Appliquer" les modifications (3).

![](resources/images/capture_app/tei_list_filter_example.png)

### Trier la liste { #sort-the-list }

Cliquez sur l'un des en-têtes de colonne pour trier la liste à travers cette colonne. Une petite flèche s'affiche à côté de l'en-tête de la colonne pour indiquer l'ordre de tri actuel. Cliquez à nouveau pour basculer entre l'ordre croissant et l'ordre décroissant.

![](resources/images/capture_app/tei_list_sort_order.png)

### Modifier la présentation de la liste { #modify-the-list-layout }

Vous pouvez sélectionner les colonnes qui doivent apparaître dans la liste et également réorganiser l'ordre des colonnes.

Cliquez sur l'icône **engrenage** dans l'angle supérieur droit de la liste. Cochez les cases des colonnes que vous souhaitez afficher (1) et réorganisez les colonnes par par la fonction glisser-déposer (2).

![](resources/images/capture_app/tei_list_column_layout.png)

### Charger une vue de liste prédéfinie { #loading-a-predefined-list-view }

Les vues de liste prédéfinies sont perceptibles au-dessus des filtres de la liste. Cliquez pour charger une vue.

![](resources/images/capture_app/tei_list_predefined_views.png)

## Informations sur Ie gestionnaire / I'administrateur { #implementer_info }

### Mise en cache des métadonnées { #metadata_caching }

Pour des raisons de performances, l'application Capture met en cache les métadonnées dans le navigateur du client. Lorsque les métadonnées sont mises à jour sur le serveur, les modifications doivent être communiquées aux clients ayant déjà mis les métadonnées en cache. Selon le changement, cette opération se fait de trois manières différentes :

1. Si la modification est limitée à un programme, vous devrez alors accroître la version de ce programme. Par exemple, si vous modifiez les éléments de données d'un programme ou d'une règle de programme, la version du programme en question doit être augmentée.

2. Lorsque la modification n'est PAS limitée à un programme, vous devrez donc augmenter TOUTE version de programme afin que cette modification soit transmise aux clients. Il s'agit par exemple de modifications de constantes, de niveaux d'unités d'organisation ou de groupes d'unités d'organisation.

3. Les ensembles d'options constituent l'exception aux deux règles ci-dessus. Les ensembles d'options disposent de leur propre propriété de version, ce qui veut dire que l'augmentation de la version de l'ensemble d'options doit garantir la transmission des métadonnées de l'ensemble d'options aux clients.

## Tableau de bord d'inscription { #enrollment-dashboard }

### Accéder au tableau de bord d'inscription avec l'url { #reaching-the-enrollment-dashboard-via-url }

Vous accédez au tableau de bord d'inscription en utilisant la barre d'adresse de votre navigateur ou l'interface utilisateur de l'application de saisie. Dans cette section, nous nous concentrons sur le premier cas d'utilisation, où vous saisissez ou collez dans la barre d'adresse, l'URL à laquelle vous souhaitez accéder .

![](resources/images/capture_app/enrollment-dash-01.png)

One way to reach the enrollment dashboard and view a specific tracked entity instance's enrollment is by using _only_ the enrollment id. For example the link .../dhis-web-capture/#/?enrollmentId=wBU0RAsYjKE will take you the dashboard for the enrollment with id `wBU0RAsYjKE`.

Le haut du tableau de bord définit votre contexte. Par exemple, sur l'image ci-dessous, le contexte se présente comme suit : le programme sélectionné est "Programme Enfant", l'unité d'organisation est "Ngelehun CHC", la personne sélectionnée est "Anna Jones" et l'inscription sélectionnée est "2017-11-16 11 :38".

![](resources/images/capture_app/enrollment-dash-02.png)

Vous pouvez modifier votre contexte en cliquant sur le bouton "x".

![](resources/images/capture_app/enrollment-dash-03.png)

#### Désélection du programme { #deselecting-the-program }

Lorsque vous désélectionnez le programme, vous voyez ce qui suit

![](resources/images/capture_app/enrollment-dash-05.png)

##### Sélection d'un programme avec des inscriptions { #selecting-a-program-with-enrollments }

Lorsque les sélections de programmes _et_ d'inscriptions sont vides, vous devez d'abord sélectionner un programme. Si l'instance d'entité suivie (dans ce cas "Anna Jones") a des inscriptions au programme que vous sélectionnez, vous verrez le message suivant.

![](resources/images/capture_app/enrollment-dash-09.png)

##### Sélection d'un programme sans aucune inscription { #selecting-a-program-with-zero-enrollments }

Si l'instance de l'entité suivie (dans ce cas, "Anna Jenkins") n'a aucune inscription au programme que vous sélectionnez, vous verrez un message indiquant l'absence d'inscriptions pour ce programme. Vous aurez également la possibilité d'inscrire "Anna Jenkins" dans le programme.

![](resources/images/capture_app/enrollment-dash-10.png)

##### Sélection d'un programme d'événement { #selecting-an-event-program }

Lorsque vous sélectionnez un programme d'événement, vous verrez ce qui suit. (N'oubliez pas que les programmes d'événements n'ont pas d'inscriptions dans le système, seuls les programmes de suivi en ont).

![](resources/images/capture_app/enrollment-dash-11.png)

Vous aurez également la possibilité de créer un nouvel événement pour le programme sélectionné ou d'afficher les listes de tâches du programme sélectionné.

##### Sélection d'un programme avec un type d'entité suivi différent { #selecting-a-program-with-a-different-tracked-entity-type }

Lorsque le type d'entité suivie que vous avez sélectionné est une personne (comme dans notre exemple avec Anna Jenkins) et que vous sélectionnez un programme qui ne désigne pas une personne mais, par exemple, un Cas de paludisme, vous verrez ce qui suit.

![](resources/images/capture_app/enrollment-dash-12.png)

Vous avez également la possibilité d'inscrire une instance d'entité suivie au programme que vous avez sélectionné.

#### Désélection de l'unité d'organisation { #deselecting-the-organisation-unit }

Lorsque vous désélectionnez l'unité d'organisation, vous voyez ce qui suit

![](resources/images/capture_app/enrollment-dash-06.png)

#### Désélection de l'instance d'entité suivie { #deselecting-the-tracked-entity-instance }

Lorsque vous désélectionnez l'instance de l'entité suivie, dans ce cas "Anna Jones", vous êtes redirigé vers les listes de tâches de ce programme de suivi.

![](resources/images/capture_app/enrollment-dash-07.png)

#### Désélection de l'inscription { #deselecting-the-enrollment }

Lorsque vous désélectionnez l'inscription, vous voyez ce qui suit

![](resources/images/capture_app/enrollment-dash-08.png)

# Utilisation de l'application Saisie d'événements { #event_capture_app }

## À propos de l'application Saisie d'événements { #about_event_capture_app }

![](resources/images/event_capture/event_list.png)

Dans l'application **Saisie d'événements**, vous pouvez enregistrez des événements qui se sont produits à un moment et un endroit précis. Un événement peut se produire à n'importe quel moment. Cela contraste avec les données de routine, qui peuvent être saisies à intervalles réguliers prédéfinis. Les événements sont parfois appelés cas ou enregistrements. Dans le DHIS2, les événements sont liés à un programme. L'application **Saisie d'événements** vous permet de sélectionner l'unité d'organisation et le programme et de spécifier une date à laquelle un événement s'est produit, avant de saisir les informations relatives à l'événement.

L'application **Saisie d'événements** fonctionne en ligne et hors ligne. Si la connectivité Internet diminue, vous pouvez continuer à saisir des événements. Les événements seront stockés localement dans votre navigateur web (client). Lorsque la connectivité sera rétablie, le système vous demandera de télécharger les données stockées localement. Le système envoie ensuite les données au serveur où elles sont stockées.

> **N.B.**
>
> Si vous fermez le navigateur web en mode hors ligne, il n'est pas possible de rouvrir une nouvelle fenêtre de navigateur web et de continuer la session de travail. Toutefois, les données seront toujours enregistrées localement et pourront être téléchargées sur le serveur la prochaine fois que la machine sera en ligne et que vous vous serez connecté au serveur.

-   Vous ne voyez que les programmes associés à l'unité d'organisation que vous avez sélectionnée et les programmes auxquels vous avez accès grâce à votre rôle d'utilisateur.

-   Les messages d'erreur/avertissement de type "skip-logic" et de validation sont pris en charge lors de l'enregistrement.

-   Lorsque vous fermez une unité d'organisation, vous ne pouvez donc pas enregistrer ou modifier des événements pour cette unité d'organisation dans l'application **Saisie d'événements**. Vous pouvez toujours afficher et filtrer la liste des événements et consulter les détails d'un événement.

-   L'évaluation à la volée de l'expression des indicateurs est prise en charge. Si un programme a des indicateurs définis pour lui et au moment où toutes les valeurs liées à l'expression de l'indicateur sont remplies, le système calculera l'indicateur et affichera le résultat.

    ![](resources/images/event_capture/event_editing.png)

-   **Triage:** cela peut être fait en cliquant sur l'icône de tri de chaque en-tête de colonne. Une icône de tri rouge indique la colonne de tri en cours. Cependant, la fonctionnalité de tri ne fonctionne que dans la page affichée. Actuellement, il n'est pas possible d'effectuer un tri depuis le serveur.

-   **Filtrage:** cela se fait en cliquant sur la petite icône de recherche qui se trouve à droite de chaque en-tête de colonne. En cliquant dessus, vous obtenez un champ de saisie pour taper un critère de filtrage. Le système commence à appliquer le filtre dès qu'un utilisateur commence à taper. Pendant le filtrage, il est possible de définir des dates de début et de fin pour les éléments de données de type date et des limites inférieure et supérieure pour les types de nombres. Le filtrage côté serveur n'est pas pris en charge pour le moment.

## Enregistrer un événement { #event_capture_register_event }

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Vous ne verrez que les programmes associés à l'unité organisationnelle sélectionnée et les programmes auxquels vous avez accès grâce à votre rôle d'utilisateur.

4.  Cliquez sur **Enregistrer l'événement**.

5.  Choisissez une date. 

6.  Remplissez les informations requises.

    Lorsque l'étape du programme est configurée de manière à saisir les coordonnées GPS, vous pouvez entrer les coordonnées de deux façons :

    -   Entrez les valeurs directement dans les champs correspondants.

    -   Choisissez un lieu sur une carte. L'option carte affiche également les polygones et les points qui sont définis pour les unités d'organisation.

7.  Cliquez sur **Sauvegarder et ajouter un nouveau** ou **Sauvegarder et revenir en arrière**.

> N.B : Certains éléments de données relatifs à un événement peuvent être obligatoires (marqués d'une étoile rouge à côté de l'étiquette de l'élément de données). Cela signifie que tous les champs d'éléments de données obligatoires doivent être remplis avant que l'utilisateur n'ait l'autorisation d'enregistrer l'événement. Il y aura une exception à cette règle si l'utilisateur dispose de l'autorisation appelée ** "Ignorer la validation des champs obligatoires dans Saisie Tracker et Saisie d'événements".** Si l'utilisateur dispose déjà de cette autorisation, il n'a donc pas besoin de remplir les éléments de données obligatoires avant la sauvegarde et l'étoile rouge ne sera pas affichée à côté de l'étiquette de l'élément de données. Notez que les super-utilisateurs qui ont l'autorisation **"ALL "** disposent automatiquement cette autorisation.

## Modifier un événement { #event_capture_edit_event }

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur l'événement que vous souhaitez modifier et sélectionnez **Modifier**.

5.  Modifiez les détails de l'événement et cliquez sur **Mettre à jour**.

## Modifier les événements dans la grille { #event_capture_edit_event_grid }

La fonction **Modifier dans la grille** permet de modifier un événement sélectionné dans le tableau mais uniquement les colonnes (éléments de données) visibles dans la grille. Si vous avez besoin de plus de colonnes, utilisez la fonction **Afficher/masquer les colonnes** pour spécifier quelles colonnes doivent être affichées dans la liste.

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur l'événement que vous souhaitez modifier et sélectionnez **Modifier dans la grille**.

5.  Modifiez les détails de l'événement.

6.  Cliquez sur un autre événement pour fermer le mode d'édition.

## Partager des événements en mode édition { #event_capture_share_event_edit_mode }

Vous pouvez partager un événement en mode édition via son adresse web.

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Ouvrez l'événement que vous souhaitez partager en mode édition.

3.  Copiez l'URL.

    Assurez-vous que l'URL contient les paramètres "Evénement" et "UO" (unité d'organisation).

4.  Collez l'URL dans la méthode de partage de votre choix, par exemple un e-mail ou un message dans le DHIS2.

    Si vous n'êtes pas connecté à DHIS2 lorsque vous cliquez sur le lien, il vous sera demandé de le faire, puis vous serez dirigé vers le tableau de bord.

## Voir l'historique de l'audit d'un événement { #event_capture_view_event_audit_history }

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur un événement et sélectionnez **Historique de l'audit**.

## Supprimer un événement { #event_capture_delete_event }

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur un événement et sélectionnez **Supprimer**.

5.  Cliquez sur **Supprimer** pour confirmer la suppression.

## Modifier la mise en page d'une liste d'événements { #event_capture_modify_event_list_layout }

Vous pouvez sélectionner les colonnes à afficher ou à masquer dans une liste d'événements. Cela peut être utile par exemple lorsque vous avez une longue liste d'éléments de données affectés à une étape du programme. Une fois que vous avez modifié la présentation, elle est enregistrée dans votre profil d'utilisateur. Vous pouvez avoir différentes mises en page pour différents programmes.

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur l'icône **Afficher/masquer les colonnes**.

5.  Sélectionnez les colonnes que vous souhaitez afficher et cliquez sur **Fermer**.

## Imprimer une liste d'événements { #event_capture_print_event_list }

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur **Imprimer la liste**.

## Télécharger une liste d'événements { #event_capture_download_event_list }

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur l'icône **Télécharger** et sélectionnez un format.

    Vous pouvez télécharger une liste d'événements aux formats XML, JSON ou CSV.

# Utilisation de l'application Saisie Tracker { #tracker_capture_app }

## À propos de l'application Saisie Tracker { #about_tracker_capture_app }

![](resources/images/tracker_capture/tracker-capture-tei-list.png)

L'application **Saisie Tracker** est une version avancée de l'application **Saisie d'événements**.

-   **Saisie dévénements** : gère les événements uniques _sans_ inscription

-   **Tracker Capture** : gère plusieurs événements (y compris un seul événement) _avec_ inscription.

-   Vous saisissez des données d'événement pour une instance d'entité suivie (TEI) enregistrée.

-   Vous ne voyez que les programmes associés à l'unité d'organisation que vous avez sélectionnée et les programmes auxquels vous avez accès grâce à votre rôle d'utilisateur.

-   Les options qui s'affichent dans les fonctions de recherche et d'enregistrement dépendent du programme que vous avez sélectionné. Ces options sont contrôlées par les attributs du programme. Les attributs déterminent également les noms des colonnes dans la liste des TEI.

    Si vous ne sélectionnez pas un programme, le système choisit les attributs par défaut.

-   Les messages d'erreur/avertissement de type "skip-logic" et de validation sont pris en charge lors de l'enregistrement.

-   Lorsque vous fermez une unité d'organisation, vous ne pouvez donc pas enregistrer ou modifier des événements pour cette unité d'organisation dans l'application **Saisie d'événements**. Vous pouvez toujours rechercher des TEI et filtrer les résultats de la recherche. Vous pouvez également consulter le tableau de bord d'une TEI donnée.

## À propos des tableaux de bord des instances d'entités suivies (TEI) { #about_tracked_entity_instance_dashboard }

![](resources/images/tracker_capture/tei_dashboard.png)

Vous pouvez gérer une TEI à partir de son tableau de bord dans l'application **Saisie Tracker**.

-   Le tableau de bord est constitué de widgets. Glissez et déposez les widgets pour les placer dans l'ordre et la position que vous souhaitez.

-   Cliquez sur l'icône en forme d'épingle pour coller la colonne de droite des widgets à une position fixe. Ceci est utile notamment lors de la saisie de données.

    Si vous avez de nombreux éléments de données ou un grand formulaire à remplir, collez la colonne de widgets de droite. Tous les widgets que vous avez placés dans la colonne de droite restent alors visibles pendant que vous faites défiler la partie de saisie des données.

-   Tout indicateur défini pour le programme que vous avez sélectionné verra sa valeur calculée et affichée dans le widget **Indicateurs**.

-   Navigation :

    -   **Retour** : vous ramène à la page de recherche et d'enregistrement

    -   Les boutons "Précédent" et "Suivant" : vous permettent d'accéder au tableau de bord précédent ou suivant dans la liste des résultats de la recherche sur les TEI

    <!-- end list -->

    -   Le Champ **Autres programmes** : si la TEI est inscrite dans d'autres programmes, elles sont alors énumérés ici. Cliquez sur un programme pour modifier le programme pour lequel vous entrez des données pour la TEI  sélectionnée. Lorsque vous changez de programme, le contenu des widgets change également.

## Déroulement { #workflow_tracker_capture }

Processus de travail du programme de santé maternelle et infantile

![](resources/images/patients_programs/name_based_information_tracking_process.png)

1.  Créer une nouvelle TEI ou trouver une TEI existante.

    Vous pouvez effectuer une recherche sur des attributs définis, par exemple le nom ou l'adresse.

2.  Inscrire la TEI à un programme.

3.  En se basant sur les services du programme disponibles à ce moment-là, l'application crée un plan d'activité pour la TEI.

4.  La TEI est dotée de divers services selon le programme et tous ces services sont enregistrés.

5.  Utilisez les informations sur les cas individuels pour créer des rapports.

## Lien vers l'application Saisie Tracker { #linking_to_the_tracker_capture_app }

### Lien vers un programme spécifique sur l'"écran d'accueil" { #link-to-a-specific-program-on-the-home-screen }

Vous pouvez partager une sélection de programmes sur l'"écran d'accueil".

1. Ouvrez l'application **Saisie Tracker**.

2. Sélectionnez le programme auquel vous voulez vous relier.

3. Copiez l'URL.

    - Assurez-vous que l'URL contient le paramètre "programme".

4. Collez l'URL dans la méthode de partage de votre choix, par exemple un e-mail ou un message dans le DHIS2.

> N.B. : Si le programme n'existe pas dans l'unité d'organisation sélectionnée (c'est-à-dire stocké dans le cache local), le système sélectionnera à la place le premier programme disponible pour cette unité organisationnelle. Si le cache local est vide ou nettoyé et que l'unité organisationnelle racine de l'utilisateur actuel ne dispose pas du programme spécifié, le système sélectionnera également le premier programme disponible pour l'unité organisationnelle racine.

### Lien vers le tableau de bord de la TEI { #linking-to-tei-dashboard }

Vous pouvez partager un tableau de bord de la TEI via son adresse web.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord que vous souhaitez partager.

3.  Copiez l'URL.

    Assurez-vous que l'URL contient les paramètres "tei", "programme" et "ou" (unité d'organisation).

4.  Collez l'URL dans la méthode de partage de votre choix, par exemple un e-mail ou un message dans le DHIS2.

    Si vous n'êtes pas connecté à DHIS2 lorsque vous cliquez sur le lien, il vous sera demandé de le faire, puis vous serez dirigé vers le tableau de bord.

## Créer un TEI et l'inscrire à un programme { #create_and_enroll_tracked_entity_instance }

Vous pouvez créer une TEI et l'inscrire à un programme à partir d'une seule opération :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Dans l'arbre des unités d'organisation du volet de gauche, sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

4.  Cliquez sur **Enregistrer**. 

5.  Remplissez les informations requises.

    Le type d'entité suivie et le programme peuvent être configurés pour utiliser un type de caractéristique. Cela permet de saisir la géométrie soit pour la TEI, soit pour l'inscription. Les types d'entités pris en charge sont Point et Polygone. Veuillez consulter **Comment utiliser la géométrie** pour plus de détails

6.  Si le programme sélectionné est configuré pour afficher la première étape lors de l'enregistrement, tous les champs obligatoires de l'étape devront être remplis. À la fin de l'étape, il vous sera également demandé si vous souhaitez terminer l'étape pour laquelle vous avez saisi des données. Si vous sélectionnez **Oui**, l'étape aura le statut "terminé" une fois enregistrée. Si vous sélectionnez **Non**, l'étape aura le statut actif.

7.  Si la recherche de programme est configurée, une recherche en arrière-plan sera effectuée sur les champs interrogeables pour vous aider à éviter l'enregistrement de doublons. S'il existe des TEI correspondantes, une case bleue s'affichera sur le côté droit du formulaire avec la possibilité de visualiser ces TEI.

![](resources/images/tracker_capture/tracker_capture_register_integrated_search.png)

S'il existe des TEI correspondantes, cliquez sur **Continuer** pour examiner les éventuels doublons avant d'enregistrer une nouvelle.

S'il n'y a pas de TEI correspondantes, cliquez sur **Enregistrer et continuer** ou **Enregistrer et ajouter une nouvelle**

-   **Enregistrer et continuer** : cette option complète l'enregistrement et ouvre le tableau de bord de la TEI enregistrée

-   **Enregistrer et ajouter une nouvelle** : complète l'inscription mais reste sur la même page. Utilisez cette option lorsque vous souhaitez enregistrer et inscrire une TEI après l'autre sans avoir à saisir de données.

> N.B. : Tous les attributs obligatoires doivent être remplis pour pouvoir enregistrer. Les attributs obligatoires sont marqués d'une étoile rouge à côté de l'attribut lable. Si l'utilisateur dispose de l'autorisation ** "Ignorer la validation des champs obligatoires dans Tracker et Event Capture "**, vous ne serez pas tenu de remplir les attributs obligatoires et ne verrez pas l'étoile rouge à côté de l'attribut lable. Notez que les super-utilisateurs qui ont l'autorité **"TOUT"** ont automatiquement cette autorité.

## Ouvrir un tableau de bord d'une TEI existante { #open_existing_tracked_entity_instance_dashboard }

Il existe de multiples façons de trouver une TEI : En utilisant les "Listes" qui sont des listes prédéfinies dans la sélection actuelle, ou "Recherche" pour une recherche globale.

### Listes { #simple_tracked_entity_instance_search }

Les listes sont utilisées pour trouver et afficher les TEI dans l'unité d'organisation et le programme sélectionnés.

1.  Ouvrez l'application Saisie Tracker

2.  Dans l'arbre des unités d'organisation dans le volet de gauche, sélectionnez une unité d'organisation

3.  Sélectionnez un programme

4.  Cliquez sur le bouton "Listes" s'il n'est pas encore sélectionné

S'il n'est pas configuré, un ensemble de listes prédéfinies sera disponible :

1.  Toute TEI ayant un statut d'inscription quelconque

2.  Les TEI dont l'inscription au programme en cours est active

3.  Les TEI dont l'inscription au programme en cours est terminée

4.  Les TEI dont l'inscription au programme en cours a été annulée

![](resources/images/tracker_capture/tracker_capture_lists.png)

Vous pouvez sélectionner les colonnes à afficher ou à masquer dans les listes pour chaque programme. Cela sera enregistré dans vos paramètres d'utilisateur.

1.  Cliquez sur le bouton de l'icône **grille**.

2.  Cochez les colonnes que vous souhaitez inclure

3.  Cliquez sur **Enregistrer**

Il est également possible de créer une liste de travail personnalisée avec ses propres filtres. Cette option peut être utilisée pour créer des listes personnalisées à la volée.

![](resources/images/tracker_capture/tracker_capture_lists_custom.png)

Les listes peuvent également être téléchargées ou imprimées.

![](resources/images/tracker_capture/tracker_capture_lists_download.png)

#### Listes prédéfinies personnalisées { #custom-predefined-lists }

Si le programme est associé à des filtres d'entités traquées personnalisés, ceux-ci remplaceront les quatre listes prédéfinies mentionnées ci-dessus. Les listes prédéfinies constitueront, lorsqu'elles seront bien configurées, un moyen efficace de trouver ou de travailler avec les données pertinentes pour l'utilisateur dans ce programme.

Les listes de travail peuvent être définies avec une grande variété d'options, en voici quelques exemples :

-   Afficher toutes les TEI ayant au moins un événement dans une étape donnée du programme
-   qui a une date d'échéance à la date actuelle.
-   Afficher toutes les TEI ayant au moins un événement attribué
-   à l'utilisateur connecté.
-   Afficher toutes les TEI actives, mais non attribuées à aucun utilisateur.

![Listes de tâches prédéfinies dans Saisie Tracker](resources/images/tracker_capture/predefined_working_list_based_on_user_assignment.png)

Consultez la documentation de l'API pour obtenir une liste complète des fonctionnalités prises en charge pour ces filtres d'instance d'entités suivies prédéfinies.

### Recherche { #advanced_tracked_entity_instance_search }

Le bouton **recherche** permet de rechercher des TEI dans les unités d'organisation auxquelles l'utilisateur a accès. Cette fonction peut être utilisée lorsque vous souhaitez trouver une TEI, mais vous ne savez pas dans quelle unité d'organisation ou quel programme elle était inscrite. Il y a deux façons de le faire : Avec et sans contexte de programme. Les champs de recherche doivent être configurés. La configuration de la recherche avec le contexte du programme se fait individuellement pour chaque programme dans l'application de maintenance du programme. Quant à la configuration de la recherche sans contexte du programme, elle se fait individuellement pour chaque type d'entité suivie dans l'application de maintenance des types d'entités suivies.

**Recherche sans contexte de programme:**

1.  Ouvrez l'application **Saisie Tracker**.

2.  Cliquez sur le bouton **Recherche**.

3.  Les champs interrogeables seront affichés par groupes. Les attributs uniques ne peuvent faire l'objet d'une recherche qu'individuellement. Les attributs non uniques peuvent être combinés.

4.  Remplissez les critères de recherche et cliquez sur le bouton de l'icône **recherche**.

**Recherche dans le contexte d'un programme:**

1.  Ouvrez l'application **Saisie Tracker**.

2.  Sélectionnez une unité organisationnelle qui possède le programme dans lequel vous souhaitez effectuer une recherche

3.  Sélectionnez le programme

4.  Cliquez sur le bouton **Recherche**.

5.  Les champs interrogeables seront affichés par groupes. Les attributs uniques ne peuvent faire l'objet d'une recherche qu'individuellement. Les attributs non uniques peuvent être combinés.

6.  Remplissez les critères de recherche et cliquez sur le bouton de l'icône **recherche**.

![](resources/images/tracker_capture/tracker_capture_search_screen.png)

Une fois la recherche effectuée, le résultat de la recherche vous sera présenté. L'affichage dépend du résultat de la recherche.

Pour la recherche d'attributs uniques :

-   Si aucune TEI correspondante n'est trouvée, vous aurez la possibilité d'ouvrir le formulaire d'inscription.

-   Si la TEI est trouvée dans l'unité d'organisation sélectionnée, le tableau de bord de la TEI s'ouvrira automatiquement.

-   Si la TEI est trouvée en dehors de l'unité d'organisation sélectionnée, vous aurez alors la possibilité d'ouvrir la TEI.

Pour la  recherche d'attributs non-uniques :

-   Si aucune TEI correspondante n'est trouvée, vous aurez la possibilité d'ouvrir le formulaire d'inscription.

-   Si vous trouvez une TEI correspondante, vous pouvez soit cliquer sur n'importe quelle TEI dans la liste des résultats, soit ouvrir le formulaire d'inscription.

-   Si un trop grand nombre de correspondances a été trouvé, vous serez invité à affiner vos critères de recherche

![](resources/images/tracker_capture/tracker_capture_search_results.png)

Les résultats de la recherche comportent une fonctionnalité permettant de signaler les instances d'entités suivies comme des doublons possibles, voir le chapitre suivant.

En choisissant d'ouvrir le formulaire d'inscription, les valeurs de recherche seront automatiquement remplies dans le formulaire d'inscription.

### Repérage de l'instance de l'entité suivie comme doublon potentiel { #flagging-tracked-entity-instance-as-potential-duplicate }

Lors de la recherche d'instances d'entités suivies dans l'application Saisie Tracker, l'utilisateur supposer parfois qu'un ou plusieurs des résultats de la recherche sont des doublons d'autres instances d'entités suivies. L'utilisateur a la possibilité de cliquer sur le lien **signaler un éventuel doublon** dans la colonne la plus à droite de la grille des résultats de la recherche.

Les instances d'entités tracées ainsi repérées seront marquées comme "doublons possibles" dans la base de données DHIS2. Le drapeau indique que l'instance de l'entité suivie est/a un doublon. La présence d'un tel drapeau est visible par l'utilisateur à deux endroits. Le premier est la liste des résultats elle-même (dans cet exemple, Mark Robinson est déjà marqué comme un doublon potentiel) :

![Résultats de recherche de Saisie Tracker](resources/images/tracker_capture/tracker_capture_search_results.png)

L'autre endroit se trouve dans le tableau de bord des instances d'entités suivies :

![Instance d'entité suivie signalée comme doublon](resources/images/tracker_capture/tracked_entity_instance_flagged_as_duplicate.png)

En plus d'informer les utilisateurs sur l'instance de l'entité suivie qui pourrait être un doublon, le drapeau sera utilisé par le système sous-jacent pour trouver et fusionner les doublons dans les prochaines versions de DHIS2.

### Briser le verre { #break_glass }

Si le programme est configuré avec le niveau d'accès **protégé**, et que l'utilisateur recherche et trouve des instances d'entités suivies qui appartiennent à une unité organisationnelle pour laquelle l'utilisateur n'a pas de pouvoir de saisie de données, l'utilisateur a la possibilité de briser la vitre. L'utilisateur trouvera une raison de briser la vitre, puis obtiendra la propriété temporaire de l'instance de l'entité traquée.

## Inscrire une TEI existante dans un programme { #enroll_existing_tracked_entity_instance_in_program }

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Sélectionnez un programme.

4.  Dans le widget **Enregistrement**, cliquez sur **Ajouter nouveau**.

5.  Enterez les informations requises et cliquez sur **Inscrire**.

## Saisir les données d'événement pour une TEI { #enter_event_data_for_tracked_entity_instance }

### Widgets pour la saisie de données { #widgets-for-data-entry }

####

Dans un tableau de bord de TEI, vous saisissez les données de l'événement dans les widgets **Saisie de données chronologiques** ou **Saisie de données tabulaires**.

<table>
<caption>Widgets de saisie de données dans l'application Saisie Tracker</caption>
<colgroup>
<col style="width: 31%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Nom du widget</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Calendrier Saisie des données</strong></p></td>
<td><p>Pour la saisie de données à partir de formulaires par défaut ou personnalisés.</p>
<p>En fonction de la définition du programme, en particulier des étapes du programme, les événements seront affichés dans les délais prévus. En cliquant sur l'un d'entre eux, vous pouvez alors afficher les données correspondantes. Si une étape nécessite un nouvel événement, une icône Plus s'affiche pour la création d'un nouvel événement. Pour procéder à la saisie des données, il est obligatoire d'avoir la date de l'événement. Une fois qu'une date d'événement est spécifiée, il n'est donc pas possible de modifier la date d'échéance. L'hypothèse est qu'en spécifiant une date d'événement, l'événement a déjà eu lieu. Si l'événement n'a pas encore eu lieu, il est possible de changer la date d'échéance - ce qui ne fait rien d'autre que de reprogrammer. Les boutons en bas de page permettent de modifier le statut d'un événement sélectionné.</p>
<p>Une autre caractéristique clé de ce widget est l'ajout de plusieurs notes pour un événement. Normalement, l'enregistrement des données se fait par le biais d'éléments de données, mais il y a des cas où il est nécessaire d'enregistrer des informations ou des commentaires supplémentaires. C'est là que la section des notes s'avère pratique. Cependant, il n'est pas possible de supprimer une note. L'idée est que les notes ressemblent plus à des journaux de bord. Les messages d'erreur/avertissement de type "skip-logic" et "validation" sont pris en charge pendant la saisie des données.</p>
<p>Le calendrier de saisie de données donne également la possibilité de comparer votre saisie de données aux saisies précédentes. Cette fonction peut être activée en cliquant sur le bouton &quot;Passer au formulaire de comparaison&quot ; (Deux feuilles de papier) dans le coin supérieur droit du widget Calendrier de saisie des données.</p></td>
</tr>
<tr class="even">
<td><p><strong>Saisie des données sous forme de tableau</strong></p></td>
<td><p>Pour la saisie de données sous forme de tableau.</p>
<p>Le widget affiche la liste des étapes du programme sous forme d'étiquettes sur le côté gauche. Les événements seront listés dans un tableau pour les étapes de programme reproductibles, et permet de modifier en ligne les valeurs de données des événements.</p></td>
</tr>
</tbody>
</table>

### Créer un événement { #creating-an-event }

Vous pouvez créer un événement pour une TEI en suivant les étapes suivantes :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Saisie de données chronologiques**" ou **Saisie de données tabulaires**, cliquez sur le bouton **+**.

4.  Sélectionnez un **Stade du programme** et fixez une **Date de rapport**.

    Les étapes du programme peuvent être configurées pour utiliser un type de fonctionnalité. Cela permet de saisir la géométrie d'un événement. Les types d'éléments pris en charge sont Point et Polygone. Veuillez consulter **Comment utiliser la géométrie**.

5.  Cliquez sur **Sauvegarder**.

### Programmer un événement { #schedule-an-event }

Vous pouvez programmer un événement pour une date ultérieure en suivant les étapes suivantes :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Saisie de données chronologiques**" ou **Saisie de données tabulaires**, cliquez sur l'icône **Calendrier**.

4.  Sélectionnez un **Stade du programme** et fixez une **Date prévue**.

5.  Cliquez sur **Sauvegarder**.

### Renvoyer un événement { #refer-an-event }

Il est parfois nécessaire référer un patient vers une autre **unité de l'organisation**. Pour référer une TEI :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Saisie de données chronologiques** ou **Saisie de données tabulaires**, cliquez sur la **flèche**.

4.  Sélectionnez un **Stade du programme**, une **Unité d'organisation** et fixez une \***\*Date de rapport\*\***.

5.  Cliquez soit sur **Renvoi unique** qui ne renverra la TEI que pour un seul événement, soit sur **Déplacement permanent** qui déplacera la propriété de la TEI vers l' **Unité d'organisation** sélectionnée. L'accès ultérieur à la TEI sera basé sur l'unité d'organisation propriétaire.

### Éléments de données obligatoires dans les événements { #mandatory-data-elements-in-events }

Certains éléments de données relatifs à un événement peuvent être obligatoires (marqués d'une étoile rouge à côté de l'étiquette de l'élément de données). Cela signifie que tous les champs d'éléments de données obligatoires doivent être remplis avant que l'utilisateur n'ait l'autorisation d'enregistrer l'événement. Il y aura une exception à cette règle si l'utilisateur dispose de l'autorisation appelée ** "Ignorer la validation des champs obligatoires dans Saisie Tracker et Saisie d'événements".** Si l'utilisateur dispose déjà de cette autorisation, il n'a donc pas besoin de remplir les éléments de données obligatoires avant la sauvegarde et l'étoile rouge ne sera pas affichée à côté de l'étiquette de l'élément de donnée. Notez que les super-utilisateurs ayant l'autorisation **"TOUT "** disposent automatiquement cette autorisation.

## Comment utiliser la géométrie { #how-to-use-geometry }

Le type d'entité suivie, le programme et l'étape du programme peuvent être configurés pour utiliser un type de fonctionnalité. Cela permet de saisir la géométrie d'une TEI, d'un programme ou d'un événement. Point et Polygone sont les types d'entités pris en charge.

### Saisie des coordonnées { #capture-coordinate }

**Option 1:** Remplissez la latitude et la longitude dans le champ.

**Option 2:**

1.  Cliquez sur l'icône **carte**.
2.  Trouvez l'endroit que vous souhaitez en le recherchant ou en le localisant sur la carte
3.  Faites un clic droit sur l'endroit souhaité, et sélectionnez **Définir les coordonnées**.
4.  Cliquez sur **Capture** en bas

### Capture du Polygone { #capture-polygon }

1.  Cliquez sur l'icône **carte**.
2.  Trouvez l'endroit que vous souhaitez en le recherchant ou en le localisant sur la carte
3.  En haut à gauche de la carte, cliquez sur l'icône **polygone**.
4.  Dessinez un polygone sur la carte. Pour terminer, reliez le dernier point au premier point
5.  Cliquez sur **Capture** en bas

![](resources/images/tracker_capture/capture_geometry.png)

Les polygones peuvent également être supprimés

1.  Cliquez sur l'icône **carte**.
2.  Cliquez sur l'icône **corbeille** à gauche de la carte et sélectionnez **Effacer tout**

## Comment affecter un utilisateur à un événement { #how-to-assign-a-user-to-an-event }

Dans l'application Maintenance, une étape du programme peut être configurée pour permettre l'affectation des utilisateurs. Si l'affectation des utilisateurs est activée, vous pourrez affecter un utilisateur à un événement.

1. Cliquez sur le champ **Utilisateur assigné**.
2. Faites défiler ou recherchez un utilisateur.
3. Cliquez sur l'utilisateur.

## Gérer les inscriptions d'une TEI { #manage_tracked_entity_instance_enrollment }

Le widget d'inscription donne accès à des informations et des fonctionnalités pour l'inscription au programme sélectionné.

![Widget d'inscriptions](resources/images/tracker_capture/enrollment_widget.png)

### TEI ownership { #tei-ownership }

La propriété actuelle de toutes les inscriptions au programme sélectionné s'affichée dans la partie "Propriété" du widget d'inscription. La propriété commence toujours par l'unité d'organisation ayant inscrit en premier la TEI au programme.

La propriété peut être différente pour les différents programmes d'une TEI : par exemple, une clinique peut suivre un patient atteint du VIH, tandis qu'une autre clinique suit le même patient dans un HME.

Pour mettre à jour la propriété d'une combinaison TEI/programme, l'utilisateur se doit d'utiliser la fonctionnalité de renvoi et sélectionner l'option "Déplacer de façon permanente" lors du renvoi.

Un utilisateur disposant d'un accès de saisir dans l'unité d'organisation propriétaire actuel de la combnaison TEI/Programme aura un accès à saisir en ce qui concerne toutes les inscriptions relatives à cette combinaison TEI/Programme. Un utilisateur ayant un accès de recherche à l'unité d'organisation propriétaire actuel aura accès à la recherche et à l'identification de la combinaison TEI/Programme.

### Désactiver l'inscription d'une TEI { #deactivate_tracked_entity_instance_enrollment }

Si vous désactivez un tableau de bord d'une TEI, celui-ci passe "en lecture seule". Vous ne pouvez donc pas saisir de données, ni inscrire la TEI, ni modifier le profil de la TEI.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur **Désactiver**.

4.  Cliquez sur **Oui** pour confirmer.

### Activer l'inscription d'une TEI { #activate_tracked_entity_instance_enrollment }

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur **Activer**.

4.  Cliquez sur **Oui** pour confirmer.

### Marquer l'inscription de la TEI comme terminée { #mark_tracked_entity_instance_enrollment_complete }

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur **Terminé**.

4.  Cliquez sur **Oui** pour confirmer.

### Rouvrir une inscription déjà effectuée { #reopen_complete_tracked_entity_instance_enrollment }

A enrollment in a program can be re-opened if the enrollment was completed. But it is not possible to re-open the enrollment if there is another active enrollment going on in the same program (because you cannot enroll into a program if another active enrollment already exists for the program).

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur **Rouvrir**.

4.  Cliquez sur **Oui** pour confirmer.

### Afficher l'historique des inscriptions de la TEI { #display_tracked_entity_instance_enrollment_history }

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Profil**, cliquez sur l'icône **Historique de l'audit**.

### Créer une note d'inscription de la TEI { #create_tracked_entity_instance_enrollment_note }

Une note d'inscription est indispensable pour consigner des informations relatives à, par exemple, la raison d"annulation d'une inscription.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Notes**, tapez votre note et cliquez sur **Ajouter**.

## Envoyer un message à une TEI { #send_message_to_tracked_entity_instance }

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Messagerie**, sélectionnez **SMS** ou **E-mail**.

4.  Entrez les informations de contact requises.

    Si le profil de la TEI contient une adresse électronique ou un numéro de téléphone, ces champs sont remplis automatiquement.

5.  Saisissez un message. 

6.  Cliquez sur **Envoyer**.

## Marquer une TEI pour suivi { #mark_tracked_entity_instance_for_follow_up }

Vous pouvez utiliser le marquage de l'inscription d'une TEI pour le suivi et ensuite utiliser ce statut comme un filtre lorsque vous créez des rapports sur les **Événements futurs** et les **Événements en retard**. Cela peut être utile lorsqu'il s'agit par exemple de suivre les cas à haut risque en matière de grossesse.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur l'icône **Marquer pour suivi**.

## Modifier le profil d'une TEI { #edit_tracked_entity_instance_profile }

Vous modifiez le profil d'une TEI ou les attributs de l'entité suivie dans le widget **Profil**.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Profil**, cliquez sur **Editer**.

4.  Modifiez le profil et cliquez sur **Enregistrer**.

## Ajouter une relation à une TEI { #add_relationship_to_tracked_entity_instance }

Vous pouvez créer une relation d'un TEI à un autre, par exemple en reliant une mère et un enfant ou un mari et une femme. Selon la configuration du type de relation, le parent peut hériter d'attributs.

Supposons qu'il y ait deux programmes : Soins prénataux pour la mère et vaccination pour l'enfant. Si les attributs prénom, nom et adresse sont requis pour les deux programmes, il est possible de configurer les attributs nom et adresse comme héréditaires. Il n'est alors pas nécessaire de saisir ces attributs héritables lors de l'enregistrement de l'enfant. Vous pouvez les ajouter automatiquement en fonction de la valeur de la mère. Si vous souhaitez avoir une valeur différente pour l'enfant, vous pouvez remplacer la valeur générée automatiquement.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Dans le widget **Relations**, cliquez sur **Ajouter**.

4.  Sélectionnez un type de relation.

5.  Cherchez le parent et sélectionnez-le. La recherche suit le même schéma que la recherche d'instances d'entités suivies à partir de la page d'accueil du tracker. Les recherches couvrent par défaut le champ de recherche de l'utilisateur.

6.  Sélectionnez l'instance de l'entité suivie correspondant aux critères de recherche dans la fenêtre popup.

7.  Cliquez sur **Sauvegarder**.

> Note : Si la relation est bidirectionnelle, elle s'affichera dans la TEI dans laquelle elle a été créée ainsi que celle à laquelle elle est liée. De plus, si la relation est bidirectionnelle, chaque extrémité de la relation aura un nom unique s'affichera dans le widget de la relation situé sous la colonne "Relation".

## Partager un tableau de bord de TEI { #share_tracked_entity_instance_dashboard }

Vous pouvez partager un tableau de bord de la TEI via son adresse web.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord que vous souhaitez partager.

3.  Copiez l'URL.

    Assurez-vous que l'URL contient les paramètres "tei", "programme" et "ou" (unité d'organisation).

4.  Collez l'URL dans la méthode de partage de votre choix, par exemple un e-mail ou un message dans le DHIS2.

    Si vous n'êtes pas connecté à DHIS2 lorsque vous cliquez sur le lien, il vous sera demandé de le faire, puis vous serez dirigé vers le tableau de bord.

## Désactiver une TEI { #deactivate_tracked_entity_instance }

Si vous désactivez une TEI, celle-ci devient accessible "en lecture uniquement". Les données associées à cette TEI ne sont pas supprimées.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  In the top right corner, click the ![](resources/images/tracker_capture/tc_tei_red_icon.png) button \> **Deactivate**.

4.  Cliquez sur **Oui** pour confirmer.

## Activer une TEI { #activate_tracked_entity_instance }

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  In the upper top corner, click the ![](resources/images/tracker_capture/tc_tei_red_icon.png) button \> **Activate**.

4.  Cliquez sur **Oui** pour confirmer.

## Supprimer une TEI { #delete_tracked_entity_instance }

> **Attention**
>
> Lorsque vous supprimez une TEI, vous supprimez également toutes les données associées à cette TEI.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  In the top right corner, click the ![](resources/images/tracker_capture/tc_tei_red_icon.png) button \> **Delete**.

4.  Cliquez sur **Oui** pour confirmer.

## Configurer le tableau de bord de la TEI { #configure_tracked_entity_instance_dashboard }

### Afficher ou masquer des widgets { #tracked_entity_instance_dashboard_show_hide_widget }

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Cliquez sur l'icône **Réglages**, et sélectionnez **Afficher/masquer les widgets**.

4.  Sélectionnez les widgets que vous souhaitez afficher ou masquer.

5.  Cliquez sur **Fermer**

### Sauvegarder la disposition du tableau de bord par défaut { #tracked_entity_instance_dashboard_save_layout }

Vous pouvez sauvegarder la disposition du tableau de bord par défaut pour un programme.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Cliquez sur l'icône **Réglages**, et sélectionnez **Sauvegarder la présentation du tableau de bord par défaut**.

### Verrouiller la disposition du tableau de bord { #lock-dashboards-layout }

Si vous êtes l' **administrateur**, vous avez la possibilité de verrouiller la disposition du tableau de bord pour tous les utilisateurs.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Organisez les widgets selon la disposition souhaitée et enregistrez-la par défaut (voir section ci-dessus).

4.  Cliquez sur l'icône **Réglages**, et sélectionnez **Verrouiller la mise en page pour tous les utilisateurs**.

Les utilisateurs pourront toujours réorganiser temporairement les widgets, mais la mise en page sera réinitialisée à la mise en page enregistrée par l'administrateur après l'actualisation de la page. Les boutons de suppression des widgets seront masqués lorsque la mise en page du tableau de bord sera verrouillée.

### Barre supérieure { #top-bar }

La barre supérieure peut être un outil utile pour visualiser facilement et rapidement les données. Pour commencer à utiliser la barre supérieure :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrir un tableau de bord d'une TEI existante.

3.  Cliquez sur l'icône **Paramètres**, et sélectionnez **Paramètres de la barre supérieure**.

4.  Cliquez sur **Activer la barre supérieure** et cliquez sur les données que vous souhaitez afficher dans la barre supérieure.

![](resources/images/tracker_capture/top_bar.png)

### Changer le mode d'affichage des tableaux pour le widget **Saisie de données chronologique**. { #change-table-display-mode-for-timeline-data-entry-widget }

Le widget **Saisie de données chronologique** dispose de 5 modes d'affichage de tableaux différents qui peuvent être sélectionnés. Les différentes options sont les suivantes :

-   **Formulaire par défaut** - Affiche tous les éléments de données verticalement.

-   **Comparer le formulaire précédent** - Affiche l'étape de programme précédente (reproduisible) à côté de l'étape de programme actuellement sélectionnée.

-   **Comparer tout le formulaire** - Affiche les stades du programme précédents (reproduisibles) à côté du stade du programme actuellement sélectionné.

-   **Formulaire grille** - Affiche les éléments de données horizontalement.

-   **Formulaire POP-over** - Identique au **Formulaire grille**, mais lorsqu'on clique dessus, les éléments de données s'affichent dans une nouvelle fenêtre.

Pour changer le mode d'affichage actuel, cliquez sur la deuxième icône dans la barre supérieure des widgets (voir image ci-dessous) :

![](resources/images/tracker_capture/compareForm.png)

Une fois qu'une option est sélectionnée, la sélection est alors enregistrée pour cette étape spécifique du programme. Cela signifie que vous pouvez avoir différents modes de tableau pour les différentes étapes d'un programme.

> **N.B. :**
>
> 1.  _Les options du **Formulaire de comparaison** fonctionneront mieux si vous avez plusieurs événements répétables (de la même étape du programme)._
> 2.  _Les options **Formulaire grille** et **Formulaire POP-over** ne sont pas sélectionnables si l'étape du programme comporte plus de 10 éléments de données._
> 3.  _L'icône dans la barre de widgets change en fonction de l'option que vous avez sélectionnée._

## Créer des rapports { #create_report_tracker_capture }

1.  Ouvrez l'application **Saisie Tracker**.

2.  Cliquez sur **Rapports**.

3.  Sélectionnez un type de rapport.

    <table>
    <caption>Report types in the Tracker Capture app</caption>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th>Report type</th>
    <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Program summary</p></td>
    <td><p>A summary report for a particular program, organisation unit and time frame. The report consist of a list of TEIs and their records organised based on program stages.</p></td>
    </tr>
    <tr class="even">
    <td><p>Program statistics</p></td>
    <td><p>A statistics report for a particular program. The report provides for example an overview of drop-outs or completion rates in a given time frame at a particular organisation unit.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Upcoming events</p></td>
    <td><p>A tabular report showing tracked entity instances and their upcoming events for a selected program and time. You can sort the columns and search the values. Show/hide operations are possible on the columns. You can also export the table to Microsoft Excel.</p></td>
    </tr>
    <tr class="even">
    <td><p>Overdue events</p></td>
    <td><p>A list of events for a selected program. The report displays a list of TEIs and their events that are not completed on time. You can sort the columns and search the values You can also export the table to Microsoft Excel.</p></td>
    </tr>
    </tbody>
    </table>

![](resources/images/tracker_capture/program_summary_report.png)

Le rapport de synthèse affiche une liste des TEI et leurs dossiers pour le programme "MNCH/PNC (femme adulte)". Les dossiers sont organisés sous forme d'onglets où chaque onglet correspond à une étape du programme. Les colonnes du tableau sont des éléments de données configurés pour être affichés dans les rapports selon la définition des étapes du programme.

# Approbation des données { #data_approval }

Le DHIS2 dispose d'une fonctionnalité optionnelle qui permet aux utilisateurs autorisés d'approuver les données saisies. Elle permet d'examiner et d'approuver les données à des niveaux sélectionnés dans la hiérarchie des unités d'organisation, de sorte que l'approbation suit la structure de la hiérarchie des niveaux inférieurs aux niveaux supérieurs.

Les données sont approuvées pour une combinaison de (a) période, (b) unité organisationnelle et (c) flux de travail. Les données peuvent être approuvées pour l'unité d'organisation pour laquelle elles sont saisies, ainsi que pour les unités d'organisation de niveau supérieur auxquelles les données sont agrégées. Dans le cadre des paramètres du système, vous pouvez choisir le(s) niveau(x) de l'unité d'organisation auquel(s) les données sont approuvées. Les données ne peuvent être approuvées à des niveaux supérieurs qu'après avoir été approuvées pour tous les descendants de cette unité d'organisation à des niveaux inférieurs pour le même flux de travail et la même période. Lorsque vous approuvez un flux de travail, il approuve à son tour les données pour tous les ensembles de données qui lui ont été affectés.

Après l'approbation d'une combinaison de période, d'unité d'organisation et de flux de travail, les ensembles de données associés à ce flux de travail seront verrouillés pour cette période et cette unité d'organisation, et toute autre saisie ou modification de données sera interdite sauf si elle n'a pas été approuvée au préalable.

Par exemple, le diagramme suivant illustre que les données ont déjà été approuvées pour les unités d'organisation C et D, pour une période et un flux de travail donnés. Elles peuvent maintenant être approuvées pour l'unité d'organisation B pour la même période et le même flux de travail. Mais elles ne sont pas prêtes à être approuvées pour l'unité d'organisation A. Pour pouvoir être approuvées pour l'unité d'organisation A, elles doivent être approuvées pour B, et pour tout autre enfant de l'unité d'organisation A, pour cette période et ce flux de travail.

![Validation au niveau des unités
d'organisation](resources/images/data_approval/approval_hierarchy.png){.largeur du centre = 50 %. }

## Approuver et accepter { #data_approvals_approving_accepting }

Le DHIS2 prend en charge deux types de processus d'approbation différents : soit un processus en une étape où les données sont approuvées à chaque niveau, soit un processus en deux étapes où les données sont d'abord approuvées puis acceptées à chaque niveau. Ceci est illustré dans le diagramme suivant :

![Approbation et
acceptation](resources/images/data_approval/approval_level_steps.png){.largeur du centre=69% }

Dans le processus en une seule étape, les données sont approuvées à un niveau, puis approuvées au niveau supérieur suivant. Tant qu'elles n'ont pas été approuvées au niveau supérieur, elles peuvent ne pas l'être au premier niveau. (Par exemple, si les données ont été approuvées par erreur, cela permet à l'approbateur de réparer son erreur). Une fois que les données sont approuvées au niveau supérieur, elles ne peuvent pas être refusées au niveau inférieur, à moins qu'elles ne soient d'abord refusées au niveau supérieur.

Dans le processus en deux étapes, les données sont approuvées à un niveau, puis l'approbation est acceptée au même niveau. Cette acceptation est faite par un utilisateur autorisé à approuver les données au niveau supérieur suivant. Une fois que les données sont acceptées, elles ne peuvent être modifiées ou non approuvées, sauf si elles sont d'abord _non acceptées_.

Le processus en deux étapes n'est pas requis par le DHIS2. Il s'agit d'une étape facultative pour un utilisateur qui examine les données au niveau supérieur suivant. Elle présente l'avantage de verrouiller l'acceptation au niveau inférieur, de sorte que l'examinateur n'a pas à s'inquiéter que les données puissent être modifiées par le niveau inférieur pendant qu'elles sont examinées. Elle peut également être utilisée par l'utilisateur de niveau supérieur pour savoir quelles données de niveau inférieur ont déjà été examinées.

Le processus en deux étapes peut être activé en cochant **Acceptation requise avant l'approbation** dans l'application Paramètres système dans la section générale.

## Autorisations permettant d'approuver les données { #data_approvals_authorities }

Pour approuver les données, vous devez avoir un rôle contenant l'une des autorités suivantes :

-   **Approuver les données** - Vous pouvez approuver les données pour la ou les unité(s) d'organisation auxquelles vous êtes affecté. Notez que cette autorité ne vous permet pas d'approuver les données pour les niveaux inférieurs à l'unité ou aux unités d'organisation auxquelles vous êtes affecté. Ceci est utile pour séparer les utilisateurs autorisés à approuver à un niveau des utilisateurs autorisés à approuver aux niveaux inférieurs.

-   **Approuver les données aux niveaux inférieurs** - Cette autorité vous permet d'approuver les données pour tous les niveaux inférieurs en dessous des unités d'organisation qui vous ont été attribuées. Cette fonction est utile si, par exemple, vous êtes un utilisateur au niveau du district dont le rôle consiste à approuver les données pour tous les établissements de ce district, mais pas pour le district lui-même. Si cette fonction vous est attribuée en même temps que l'autorité _Approuver les donner_, vous pouvez alors approuver les données au niveau de l'unité ou des unités d'organisation auxquelles vous avez été affecté, et pour tout niveau inférieur.

-   **Accepter les données aux niveaux inférieurs** - Cette autorité vous permet d'accepter les données pour le niveau juste en dessous de l'unité ou des unités d'organisation qui vous sont attribuées. Cette autorisation peut être accordée aux mêmes utilisateurs que ceux qui approuvent les données. Elle peut également être accordée à différents utilisateurs, si vous souhaitez que certains utilisateurs acceptent les données du niveau inférieur et qu'un autre groupe d'utilisateurs approuve les données pour passer au niveau supérieur.

## Configurer l'approbation des données { #data_approvals_configuration }

Dans la section _Application Maintenance_ sous _Niveau d'approbation des données_, vous pouvez spécifier les niveaux auxquels vous souhaitez approuver les données dans le système. Cliquez sur le bouton Ajouter un nouveau de cette page et sélectionnez le niveau de l'unité d'organisation auquel vous souhaitez obtenir des approbations. Il sera ajouté à la liste des paramètres d'approbation. Vous pouvez configurer le système de façon à approuver les données à chaque niveau d'unité d'organisation, ou seulement à certains niveaux d'unité d'organisation.

Notez que lorsque vous ajoutez un nouveau niveau d'approbation, vous pouvez choisir un ensemble de groupes d'options de catégorie. Cette fonctionnalité est abordée plus loin dans ce chapitre.

Dans la maintenance, sous _Flux d'approbation des données _, vous pouvez également définir les flux à utiliser lors de l'approbation des données. Chaque flux peut être associé à un ou plusieurs niveaux d'approbation. Deux flux peuvent fonctionner à tous les mêmes niveaux d'approbation l'un par rapport à l'autre, certains de ces niveaux étant identiques et d'autres différents, voire complètement différents.

Si vous souhaitez que les données d'un ensemble de données soient approuvées selon un flux, affectez donc ce flux à l'ensemble de données lorsque vous ajoutez ou modifiez l'ensemble de données. Si vous ne voulez pas que les données d'un ensemble de données soient soumises à approbation, n'affectez aucun flux à cet ensemble de données. Pour les ensembles de données que vous voulez approuver en même temps que les autres, assignez-les au même flux. Pour les ensembles de données que vous souhaitez approuver indépendamment les uns des autres, assignez à chaque ensemble de données son propre flux.

Sous _Paramètres système_ -> _Analyses_, vous pouvez contrôler quelles données non approuvées (le cas échéant) apparaîtront dans les analyses. Voir la section "Paramètres d'analyse" de ce guide. Notez que les utilisateurs affectés à des unités d'organisation où les données sont prêtes à être approuvées peuvent toujours visualiser ces données dans les analyses, tout comme les utilisateurs affectés à des unités d'organisation de niveau supérieur s'ils disposent de l'autorité _Voir les données approuvées aux niveaux inférieurs_ ou de l'autorité _Voir les données non approuvées_.

## Visibilité des données { #data_approvals_data_visibility }

Si l'option _Masquer les données non approuvées dans les analyses_ est activée, les données seront masquées de la visualisation par les utilisateurs associés aux niveaux supérieurs. En déterminant si un bloc de données doit être masqué pour un utilisateur spécifique, le système associe un utilisateur à un niveau d'approbation spécifique et le compare au niveau jusqu'auquel le bloc de données a été approuvé. Un utilisateur est associé au niveau d'approbation correspondant au niveau de l'unité ou des unités d'organisation auxquelles il est lié, ou si aucun niveau d'approbation n'existe à ce niveau, au niveau d'approbation suivant lié à un niveau d'unité d'organisation inférieur au sien. Un utilisateur sera autorisé à voir les données approuvées jusqu'au niveau immédiatement inférieur au niveau d'approbation qui lui est associé. La raison en est qu'un utilisateur doit être en mesure de voir les données approuvées à un niveau inférieur pour pouvoir éventuellement les consulter et les approuver lui-même.

Notez que si l'utilisateur a l'autorisation _Voir les données non approuvées_ ou l'autorisation _TOUT_, il pourra alors consulter les données quel que soit le statut d'approbation.

_Prenons l'exemple suivant :_ il y a quatre niveaux d'unité d'organisation, avec des niveaux d'approbation associés aux niveaux 2 et 4. _L'utilisateur A_ au niveau national (1) est associé au niveau d'approbation 1 puisque le niveau d'approbation existe au même niveau que le niveau de l'unité d'organisation. _L'utilisateur B_ est associé au niveau d'approbation 2, car il n'existe pas de niveau d'approbation directement lié à son unité d'organisation et le niveau d'approbationt 2 est le niveau immédiatement inférieur. _L'utilisateur C_ est associé au niveau d'approbation 2. _L'utilisateur D_ est en dessous de tous les niveaux d'approbation, ce qui implique qu'il peut voir toutes les données saisies au niveau de son unité d'organisation ou en dessous.

![Masquer les données non
approuvées](resources/images/data_approval/approval_data_hiding.png){.centre}

A partir de cet exemple, considérons quelques scénarios :

-   Les données sont saisies au niveau de l'établissement : Seul _l'Utilisateur D_ peut voir les données, puisqu'elles ne sont pas encore approuvées.

-   Les données sont approuvées par _l'Utilisateur D_ au niveau de l'établissement : Les données deviennent alors visibles pour l'utilisateur C et l'utilisateur B, puisqu'elles sont maintenant approuvées à leur niveau.

-   Les données sont approuvées par _l'Utilisateur C_ au niveau du district : Les données deviennent donc visibles pour l'utilisateur A étant donné qu'elles sont maintenant approuvées au niveau immédiatement inférieur à lui-même.

## Approbation de données { #data_approvals_approving_data }

Pour approuver les données, allez à _Rapports_ et choisissez _Approbation des données_. Lorsque le rapport affiche des données configurées pour approbation, il indique le statut d'approbation des données dans le rapport. Le statut d'approbation sera l'un des suivants :

-   **En attente d'approbation des unités d'organisation de niveau inférieur** - Ces données ne sont pas encore prêtes à être approuvées, puisqu'elles doivent d'abord être approuvées pour toutes les unités d'organisation enfants de cette unité d'organisation, pour le même flux et la même période.

-   **Prêt pour l'approbation** - Ces données peuvent maintenant être approuvées par un utilisateur autorisé.

-   **Approuvé** - Ces données ont déjà été approuvées.

-   **Approuvé et accepté** - Ces données ont déjà été approuvées, et également acceptées.

Si les données que vous consultez sont dans un état d'approbation qui peut faire l'objet d'une action, et si vous disposez d'une autorité suffisante, une ou plusieurs des actions suivantes vous seront alors proposées sur le formulaire _Approbation des données_ :

-   **Approuver** - Approuver les données qui n'ont pas encore été approuvées, ou qui ont été approuvées précédemment et n'ont pas encore été approuvées.

-   **Ne pas approuver** - Retour à un état non approuvé des données qui ont été approuvées ou acceptées.

-   **Accepter** - Accepter les données approuvées.

-   **Ne pas accepter** - Retour à un état non accepté (mais toujours approuvé) des données acceptées.

Pour ne pas approuver les données d'une unité organisationnelle donnée, vous devez avoir l'autorisation d'approuver les données de cette unité d'organisation ou d'approuver les données d'une unité d'organisation de niveau supérieur à laquelle ces données sont agrégées. La raison en est la suivante : Si vous examinez des données pour approbation à un niveau d'unité d'organisation supérieur, vous devez vous demander si les données des unités d'organisation inférieures sont raisonnables. Si toutes les données de niveau inférieur sont de bonne qualité, vous pouvez alors approuver les données au niveau supérieur. Si certaines données de niveau inférieur semblent suspectes, vous pouvez ne pas approuver les données du niveau inférieur. Cela permet de revoir les données au niveau inférieur, de les corriger si nécessaire, et de les approuver à nouveau au niveau supérieur de l'unité d'organisation, selon la hiérarchie.

## Approbation par l'ensemble de groupes d'options de catégorie { #data_approvals_approving_by_cogs }

Supposons par exemple que vous définissiez un ensemble de groupes d'options de catégorie pour représenter les ONG qui servent de partenaires en matière de soins de santé dans une ou plusieurs unités d'organisation. Chaque groupe d'options de catégorie de cet ensemble représente un partenaire différent. Le groupe d'options de catégorie pour le partenaire 1 peut regrouper des options de catégorie (telles que les codes de compte de financement) utilisées par ce partenaire comme une dimension des données. Ainsi, les données saisies par le partenaire 1 sont attribuées à une option de catégorie dans le groupe d'options de catégorie du partenaire 1. Alors que les données saisies par le partenaire 2 sont attribuées à une option de catégorie dans le groupe d'options de catégorie du partenaire 2 :

### Approbation par un ensemble de groupes d'options de catégorie { #approving-by-one-category-option-group-set }

Supposons par exemple que vous définissiez un ensemble de groupes d'options de catégorie pour représenter les ONG qui servent de partenaires en matière de soins de santé dans une ou plusieurs unités d'organisation. Chaque groupe d'options de catégorie de cet ensemble représente un partenaire différent. Le groupe d'options de catégorie pour le partenaire 1 peut regrouper des options de catégorie (telles que les codes de compte de financement) utilisées par ce partenaire comme une dimension des données. Ainsi, les données saisies par le partenaire 1 sont attribuées à une option de catégorie dans le groupe d'options de catégorie du partenaire 1. Alors que les données saisies par le partenaire 2 sont attribuées à une option de catégorie dans le groupe d'options de catégorie du partenaire 2 :

<table align="center">
<caption>Exemple de groupes d'options de catégorie</caption>
<thead>
<tr class="header">
<th>Ensemble de groupes d'options de catégorie</th>
<th>Groupe d'options de catégorie</th>
<th>Options de catégories</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Partenaire</td>
<td>Partenaire 1</td>
<td>Compte 1A, Compte 1B</td>
</tr>
<tr class="even">
<td>Partenaire</td>
<td>Partenaire 2</td>
<td>Compte 2A, Compte 2B</td>
</tr>
</tbody>
</table>

Chaque partenaire pourrait saisir des données pour ses comptes indépendamment de l'autre, pour des flux identiques ou différents, dans des établissements identiques ou différents. Ainsi, par exemple, les données peuvent être saisies et/ou agrégées aux niveaux suivants pour chaque partenaire, indépendamment l'une de l'autre :

![Exemple de groupes d'options de
catégories](resources/images/data_approval/approval_partner_example.png){.centre}

> **Conseil**
>
> Vous pouvez utiliser la fonction de partage des options de catégorie et des groupes d'options de catégorie pour vous assurer qu'un utilisateur est autorisé à entrer des données (et/ou voir des données) uniquement pour certaines options de catégorie et certains groupes. Si vous ne voulez pas que les utilisateurs voient des données agrégées au-delà des options de catégorie et/ou des groupes d'options de catégorie qui leur sont attribués, vous pouvez alors attribuer des _Restrictions de dimensions sélectionnées pour l'analyse des données_, lors de l'ajout ou de la mise à jour d'un utilisateur.

Vous pouvez éventuellement définir des niveaux d'approbation pour les données des partenaires au sein de l'un ou de tous ces niveaux d'unité d'organisation. Par exemple, vous pouvez définir l'un ou l'ensemble des niveaux d'approbation suivants :

<table align="center">
<caption>Exemple de niveaux d'approbation d'un ensemble de groupe d'options de catégories</caption>
<thead>
<tr class="header">
<th>Niveau d'approbation</th>
<th>Niveau de l'unité d'organisation</th>
<th>Ensemble de groupes d'options de catégorie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Pays</td>
<td>Partenaire</td>
</tr>
<tr class="even">
<td>2</td>
<td>District</td>
<td>Partenaire</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Etablissement</td>
<td>Partenaire</td>
</tr>
</tbody>
</table>

## Approbation par plusieurs ensembles de groupes d'options de catégories { #approving_by_multiple_category_option_group_sets }

Vous pouvez également définir des niveaux d'approbation pour différents ensembles de groupes d'options de catégorie. En reprenant notre exemple, supposons que vous ayez plusieurs agences chargées de la gestion du financement des différents partenaires. Par exemple, l'agence A finance les comptes 1A et 2A, tandis que l'agence B finance les comptes 1B et 2B. Vous pourriez créer des groupes d'options de catégorie pour l'Agence A et l'Agence B, et les intégrer tous deux dans un ensemble de groupes d'options de catégorie appelé Agence. Vous aurez donc :

<table align="center">
<caption>Exemple d'ensembles de groupes d'options à catégories multiples</caption>
<thead>
<tr class="header">
<th>Ensemble de groupes d'options de catégorie</th>
<th>Groupe d'options de catégorie</th>
<th>Options de catégorie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Partenaire</td>
<td>Partenaire 1</td>
<td>Compte 1A, Compte 1B</td>
</tr>
<tr class="even">
<td>Partenaire</td>
<td>Partenaire 2</td>
<td>Compte 2A, Compte 2B</td>
</tr>
<tr class="odd">
<td>Agence</td>
<td>Agence A</td>
<td>Compte 1A, Compte 2A</td>
</tr>
<tr class="even">
<td>Agence</td>
<td>Agence B</td>
<td>Compte 1B, Compte 2B</td>
</tr>
</tbody>
</table>

Supposons maintenant qu'au niveau national, vous vouliez que chaque partenaire approuve les données qu'il a saisies. Une fois cette approbation effectuée, vous voulez que chaque agence approuve ensuite les données des comptes qu'elle gère. Enfin, vous voulez que toutes les agences approuvent les données au niveau national. Pour ce faire, vous pouvez définir les niveaux d'approbation suivants :

<table align="center">
<caption>Exemple de niveaux d'approbation d'ensemble de groupes d'options à catégories multiples</caption>
<thead>
<tr class="header">
<th>Niveau d'approbation</th>
<th>Niveau d'unité d'organisation</th>
<th>Ensemble de groupes d'options de catégorie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Pays</td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>Pays</td>
<td>Agence</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Pays</td>
<td>Partenaire</td>
</tr>
</tbody>
</table>

Notez que plusieurs niveaux d'approbation peuvent être définis pour le même niveau d'unité d'organisation. Dans notre exemple, le partenaire 1 approuverait les données nationales au niveau d'approbation 3 à partir des options de catégorie Compte 1A et Compte 1B. Ensuite, l'agence A approuverait les données nationales au niveau d'approbation 2 des options de catégorie Compte 1A (après approbation par le partenaire 1) et Compte 2A (après approbation par le partenaire 2.) Enfin, après approbation de toutes les agences, les données nationales peuvent être approuvées au niveau d'approbation 1 dans toutes les options de catégorie. Notez que le niveau d'approbation 1 ne spécifie pas d'ensemble de groupes d'options de catégorie, ce qui signifie qu'il sert à approuver les données dans toutes les options de catégorie.

Cet exemple n'a qu'une valeur illustrative. Vous pouvez définir autant de groupes d'options de catégorie que vous le souhaitez, et autant de niveaux d'approbation que vous le souhaitez au même niveau d'unité d'organisation pour différents ensembles de groupes d'options de catégorie.

Si vous avez plusieurs niveaux d'approbation pour différents ensembles de groupes d'options de catégorie au même niveau d'unité d'organisation, vous pouvez alors modifier l'ordre d'approbation dans la section _Paramètres_, sous _Paramètres d'approbation du système_. Il vous suffit de cliquer sur le niveau d'approbation que vous souhaitez déplacer, et de sélectionner _Déplacer vers le haut_ ou _Déplacer vers le basoption de catégorie_. Si vous avez un niveau d'approbation sans groupe d'options de catégorie défini, il doit donc s'agir du niveau d'approbation le plus élevé pour ce niveau d'unité d'organisation.

# Gérer les tableaux de bord { #dashboard }

## À propos des tableaux de bord { #about-dashboards }

Les tableaux de bord permettent à un utilisateur individuel d'accéder rapidement à différents objets d'analyse (cartes, graphiques, rapports, tableaux, etc.). Ils peuvent être partagés avec des groupes d'utilisateurs. On peut également les imprimer.

Un utilisateur ou un administrateur peut créer un tableau de bord appelé "Soins prénatals" qui pourrait contenir toutes les informations ralatives aux soins prénatals. Ce tableau de bord pourrait être partagé avec le groupe d'utilisateurs appelé "contrôle ANC", qui peut concerner tous les utilisateurs du programme de contrôle ANC. Tous les utilisateurs au sein de ce groupe seraient alors en mesure de visualiser le même tableau de bord.

## Tableau de bord et barre de contrôle { #dashboards_setup }

Les tableaux de bord se composent d'un titre, d'une description et d'un nombre quelconque d'éléments. Les éléments constituant le tableau bord peuvent être de différents types, dont des graphiques, cartes, rapports, tableaux, ressources, messages et éléments de texte. Au dessus du tableau de bord se trouve la barre de contrôle, qui affiche tous vos tableaux de bord disponibles, comprenant un champ de recherche dans le tableau de bord et un bouton **+** pour créer un nouveau tableau de bord.

Le tableau de bord comporte deux modes : affichage et édition/création. Lorsque vous vous connectez pour la première fois à DHIS2, votre tableau de bord le plus récemment utilisé s'affiche en mode visualisation, si vous êtes sur le même ordinateur que précédemment. Si vous utilisez un autre ordinateur, le premier tableau de bord étoilé s'affichera. S'il n'y a pas de tableau de bord étoilé, le premier tableau de bord (par ordre alphabétique) s'affichera. Les tableaux de bord étoilés s'affichent toujours en premier dans la liste des tableaux de bord.

La capture d'écran ci-dessous montre un tableau de bord appelé "Soins prénatals", qui a été alimenté de graphiques et de cartes.

![](resources/images/dashboard/dashboard-view-mode.png)

### Affichage adapté aux écrans de petite taille { #responsive-view-on-small-screens }

When viewing dashboards on small screens (for instance, mobile phone in portrait orientation), the dashboard will adapt to the screen and show all items in a single column. Some options, including editing, filtering and sharing, will not be available.

![](resources/images/dashboard/dashboard-small-screen.png)

### Effectuer une recherche dans la liste de tableaux de bord { #searching-in-the-list-of-dashboards }

Il est possible de rechercher un tableau de bord spécifique en utilisant le champ de recherche dans le menu déroulant en haut à gauche de la barre de contrôle intitulé « Rechercher un tableau de bord ». La recherche est insensible à la casse. Au fur et à mesure que vous saisissez, la liste des tableaux de bord se rétrécie jusqu'à ceux qui correspondent à votre recherche.

### Personnaliser la taille de la barre de contrôle { #customizing-the-height-of-the-control-bar }

Vous pouvez définir une taille spécifique de la barre de contrôle des tableaux de bord en cliquant dessus et en faisant glisser le bord inférieur. Lorsque vous relachez la souris, la nouvelle taille sera définie. En cliquant sur **Afficher plus** la barre de contrôle s'étendra à sa hauteur maximale (10 "rangées"). En cliquant sur **Afficher moins**, la taille sera réinitialisée à celle que vous avez personnalisée.

## Créer un tableau de bord { #creating-a-dashboard }

Pour créer un nouveau tableau de bord, cliquez sur le bouton vert **+** dans le coin gauche de la barre de contrôle pour passer en mode création. Ajoutez un titre dans le champ titre, et éventuellement une description dans le champ description. Si vous n'ajoutez pas de titre, le tableau de bord prend automatiquement le titre "Tableau de bord sans titre".

![](resources/images/dashboard/dashboard-add-new.png)

**Créer un mode :**

![](resources/images/dashboard/dashboard-create-mode.png)

### Ajouter des éléments au tableau de bord { #adding-items-to-the-dashboard }

Ajoutez des éléments au tableau de bord en effectuant une recherche à partir du sélecteur d’élément dans la partie supérieure droite de la zone du tableau de bord. Les éléments disponibles sont entre autres :

-   Visualisations

-   Cartes

-   Rapports d'évènements

-   Graphiques d'évènements

-   Rapports

-   Ressources

-   Applications

-   Adresses électronique

-   Zones de texte

-   Espaceur

La liste des éléments de la liste déroulante affiche initialement 10 visualisations (graphiques et tableaux), et 5 de chacune des autres catégories, en fonction du texte de recherche que vous saisissez. Les courriers électroniques, les zones de texte et les éléments d'espacement se trouvent également dans la liste déroulante. Pour afficher plus d'éléments, cliquez sur **Afficher plus**, et la liste de ce type sera étendue à 25 éléments. Si vous ne trouvez toujours pas l'élément souhaité, essayez de saisir un texte de recherche plus précis.

![](resources/images/dashboard/dashboard-item-selector.png)

Une fois que vous avez sélectionné un élément, il sera ajouté en haut à gauche du tableau de bord. Les éléments ajoutés peuvent être déplacés à l'aide de la souris en en cliquant sur l'élément et en le faisant glisser vers l'emplacement souhaité. Il est également possible de modifier la taille d'un élément avec la souris en faisant un clique droit sur la poignée de glissement dans le coin inférieur droit de l'élément et en glissant la souris jusqu'à la taille souhaitée.

#### Eléments d'espacement { #spacer-items }

Le tableau de bord est configuré avec le paramètre "anti-gravité" pour le positionnement des éléments. Cela signifie que les élément "monteront" vers le haut jusqu'à ce qu'ils atteignenet un autre élément. Afin de forcer un espace vertical vide entre deux éléments (comme une rangée vide), vous pouvez ajouter des éléments d'espacement au tableau de bord. Ils ne sont visibles qu'en mode édition/création. En mode affichage, ils ne sont pas visibles, mais occupent l’espace défini.

**Elément d'espacement en mode édition/création** :

![](resources/images/dashboard/dashboard-spacer-edit-mode.png)

Elément d'espacement en **mode visualisation** :

![](resources/images/dashboard/dashboard-spacer-view-mode.png)

### Supprimer des éléments { #removing-items }

Supprimer des éléments en cliquant sur la corbeille rouge en haut à droite de chaque élément. Sachez qu’en raison du paramètre "anti-gravité" dans le tableau de bord, lorsque vous supprimez un élément, les éléments positionnés en dessous "montent" vers le haut.

### Aperçu avant impression { #print-preview }

Cliquez sur le bouton **Aperçu avant impression** pour voir comment le tableau de bord se présenterait lors de l'impression de la mise en page du tableau de bord.

![](resources/images/dashboard/dashboard-edit-print-preview.png)

Cliquez sur **Quitter l'aperçu avant impression** pour revenir à l'édition du tableau de bord.

Il convient de noter que certains éléments peuvent être déplacés vers le bas afin d'éviter les sauts de page. Les éléments peuvent également être réduits pour pouvoir tenir sur une page. Les éléments réduits affichent une icône d'information dans le coin supérieur droit lors de la prévisualisation. Cette icône sera supprimée lors de l'impression.

### Restriction des filtres du tableau de bord { #restricting-dashboard-filters }

By default, users will be able to filter dashboard items by any dimension defined in your system. Dashboard filter settings can be edited for a given dashboard by clicking on **Filter settings**.

![](resources/images/dashboard/dashboard-filter-settings-button.png)

To restrict available filters, you can click **Only allow filtering by selected dimensions** and select the filters which you wish to allow on the dashboard. When the dashboard is in view mode, users will only be able to choose from among the filters selected. Period and Organisation Unit will be selected by default but can be removed if desired.

![](resources/images/dashboard/dashboard-filter-settings.png)

In order to save updates to filter settings, you need to first click **Confirm** to close the filter settings and then click **Save changes** to save the dashboard changes.

### Sauvegarder le tableau de bord { #saving-the-dashboard }

Lors de la création ou de la modification d'un tableau de bord, les modifications ne sont enregistrées que si vous cliquez sur le bouton **Enregistrer les modifications** dans la barre de modification du tableau de bord en haut de la page. Si vous ne souhaitez pas enregistrer vos modifications, cliquez sur le bouton **Quitter sans enregistrer** en haut à droite. Vous serez alors renvoyé en mode affichage avec le tableau de bord que vous consultiez précédemment.

## Éditer un tableau de bord existant { #editing-an-existing-dashboard }

Si vous disposez des droits d'accès pour modifier le tableau de bord actif, vous trouverez un bouton **Modifier** à droite du titre du tableau de bord en mode affichage. Cliquez donc sur ce bouton pour entrer en mode édition.

![](resources/images/dashboard/dashboard-title-bar.png)

Reportez-vous à la section ci-dessus sur la création de tableaux de bord pour plus d'informations sur la création et suppression des éléments du tableau de bord.

![](resources/images/dashboard/dashboard-edit-mode.png)

### Traduire le titre et la description du tableau de bord { #translating-dashboard-title-and-description }

Vous pouvez ajouter des traductions du titre et de la description du tableau de bord en Mode édition. La boîte de dialogue fournit une liste des langues de traduction, et affiche le titre original du tableau de bord sous le champ de saisie du nom.

![](resources/images/dashboard/dashboard-translation-dialog.png)

1.  Cliquez sur le bouton **TRADUIRE** situé au-dessus du tableau de bord.

2.  Sélectionnez la langue vers laquelle vous souhaitez traduire.

3.  Ajoutez le titre et/ou la description et cliquez sur **SAUVEGARDER**.

## Supprimer un tableau de bord { #deleting-a-dashboard }

Si vous disposez des droits d'accès pour supprimer un tableau de bord, vous trouverez un bouton **Supprimer** situé au-dessus du tableau de bord, en mode édition. La boîte de dialogue de confirmation s’affichera pour vous permettre de confirmer que vous souhaitez vraiment supprimer le tableau de bord.

## Afficher un tableau de bord { #viewing-a-dashboard }

En mode visualisation, vous pouvez afficher la description, mettre un tableau de bord en étoile, appliquer des filtres et partager le tableau de bord avec d'autres utilisateurs et groupes.

### Affichage de la description { #show-description }

Pour changer la description, cliquez sur le bouton **...Plus** et choisissez **Afficher la description** (ou **Masquer la description**). Ce paramètre est conservé pour tous les tableaux de bord que vous ouvrez et s'applique uniquement à vous, et non aux autres utilisateurs.

![](resources/images/dashboard/dashboard-title-bar-show-description.png)

### Tableaux de bord marqués { #starred-dashboards }

Vos tableaux de bord marqués sont répertoriés en premier dans la liste des tableaux de bord. Pour marquer un tableau de bord, cliquez sur le bouton étoile à droite du titre. Vous pouvez également activer ou désactiver l'étoile dans le menu **...Plus**. Lorsque l’étoile est «coloriée», cela signifie que le tableau de bord a été marqué. Le marquage d'un tableau de bord ne s'applique qu'à vous, et non aux autres utilisateurs.

### Filtrer un tableau de bord { #filtering-a-dashboard }

Plusieurs filtres peuvent être appliqués à un tableau de bord pour modifier les données affichées dans les différents éléments du tableau de bord. Les filtres sont appliqués à chaque élément du tableau de bord de la même manière : chaque filtre ajouté remplace la valeur originale pour cette dimension dans le graphique, le tableau ou la carte d'origine (visualisation). Il est possible de filtrer sur les unités d'organisation, les périodes et d'autres dimensions dynamiques en fonction de l'instance DHIS2.

Pour ajouter un filtre, cliquez sur le bouton **Add Filter** et choisissez la dimension :

![Ajout d'un filtre](resources/images/dashboard/dashboard-filters.png)

Une boîte de dialogue s'ouvre et permet de sélectionner le filtre.

![Sélection du filtre de l'unité d'organisation](resources/images/dashboard/dashboard-orgunit-filter-dialog.png)

Cliquez sur **Confirmer** dans la boîte de dialogue pour appliquer le filtre au tableau de bord actuel.

Les filtres ne sont pas stockés, de sorte que lorsqu'on passe à un autre tableau de bord, ils sont perdus. Les badges de filtre apparaissent au-dessus des éléments du tableau de bord pour indiquer que ce qui est indiqué dans les éléments du tableau de bord n'est pas la visualisation originale, mais une visualisation manipulée où les filtres remplacent les valeurs des dimensions stockées.

![Les filtres actuels sont affichés sous forme de badges au-dessus du tableau de bord.](resources/images/dashboard/dashboard-filter-badges.png)

Les badges de filtre peuvent être cliqués pour ouvrir les dialogues de sélection de filtre, ce qui permet d'éditer le filtre. Un filtre peut être retiré en cliquant sur le bouton **Remove** dans le badge. Chaque fois qu'un filtre est ajouté, modifié ou supprimé, les éléments du tableau de bord se rechargent pour afficher les données mises à jour. Les badges de filtre sont toujours visibles en haut de la page lorsque l'on fait défiler le contenu du tableau de bord.

By default, users are able to filter dashboard items by any dimension defined in your system. To limit available filters, see [Restricting dashboard filters](#restricting-dashboard-filters).

### Impression du tableau de bord { #printing-a-dashboard }

Dans le menu **...Plus**, vous pouvez imprimer le tableau de bord actif. Il existe deux styles d'impression du tableau de bord : la mise en page du tableau de bord et un élément par page. Pour les deux styles, une page de titre est ajoutée qui affiche le titre du tableau de bord, la description (si le paramètre Afficher la description est activé), et tout filtre appliqué au tableau de bord.

![](resources/images/dashboard/dashboard-print-menu.png)

Pour de meilleurs résultats lors de l'impression :

-   utilisez Chrome ou Edge
-   attendez que tous les éléments du tableau de bord soient chargés avant d'imprimer
-   utilisez le format A4 en mode paysage avec des marges par défaut

#### Impression de la mise en page du tableau de bord { #print-dashboard-layout }

L'impression de la mise en page du tableau de bord se fera approximativement de la même manière que celle du navigateur. Il convient de noter que certains ajustements peuvent être nécessaires pour éviter les sauts de page : la position de certains éléments peut être ajustée vers le bas, et les éléments qui sont plus hauts qu'une page sont réduits.

Cliquez sur le bouton **Imprimer** dans le coin supérieur droit pour lancer la fonction d'impression du navigateur.

![](resources/images/dashboard/dashboard-print-layout.png)

#### Imprimer un élément par page { #print-one-item-per-page }

Ce style d'impression permettra d'imprimer chaque élément du tableau de bord sur une page séparée, ce qui permettra de maximiser l'utilisation du papier.

Cliquez sur le bouton **Imprimer** dans le coin supérieur droit pour lancer la fonction d'impression du navigateur.

![](resources/images/dashboard/dashboard-print-oipp.png)

## Éléments du tableau de bord avec graphiques, tableaux croisés dynamiques ou cartes { #dashboard-items-with-charts-pivot-tables-or-maps }

Dashboard items with charts, pivot table or maps may have a context menu button in the upper right corner of the item with additional viewing options, depending on the system settings that have been configured for the instance. If all the relevant system settings have been disabled, then there will not be a context menu button. Here are the possible menu options:

### Basculer entre les visualisations { #switching-between-visualizations }

Dashboard items showing charts, pivot tables and maps can be toggled between these visualizations. Click on the item context menu button and choose the desired view (e.g., **View as Table**, **View as Map**, **View as Chart**):

![](resources/images/dashboard/dashboard-item-menu.png)

### Afficher l'élément en plein écran { #view-item-in-fullscreen }

Pour afficher le graphique, le tableau ou la carte en plein écran, cliquez sur l'option **Afficher en plein écran**. Pour quitter le plein écran, vous pouvez soit appuyer sur la touche **esc**, soit cliquer sur le bouton de sortie situé dans le coin supérieur droit de l'affichage en plein écran.

### Ouvrir dans l'application { #open-in-app }

To open the visualization in its relevant app (e.g., Data Visualizer, Maps) click on the **Open in [app name] app** option.

## Afficher les interprétations et les détails { #show-interpretations-and-details }

Vous pouvez écrire des interprétations pour les graphiques, les tableaux croisés dynamiques, les cartes, les rapports d'événements et les éléments des graphiques en cliquant sur **Afficher les interprétations et les détails** :

![](resources/images/dashboard/dashboard-item-menu-interpretations.png)

> **Note**
>
> This option may be disabled on your system if the system setting _Allow users to show dashboard favorite interpretations and details_ is unchecked.)

L'article sera développé verticalement en dessous pour montrer la description, les interprétations et les réponses. Vous pouvez aimer une interprétation, répondre à une interprétation et ajouter votre propre interprétation. Vous pouvez modifier, partager ou supprimer vos propres interprétations et réponses, et si vous avez le statut de modérateur, vous pouvez supprimer les interprétations des autres.

Il est possible de formater le champ de description, et les interprétations avec **gras**, _italique_ en utilisant les marqueurs de style Markdown \* et \_ pour **gras** et _italique_ respectivement. Le champ de texte pour la rédaction de nouvelles interprétations est doté d'une barre d'outils pour l'ajout de texte enrichi. Des raccourcis clavier sont également disponibles : Ctrl/Cmd + B et Ctrl/Cmd + I. Un ensemble limité de smileys est pris en charge et peut être utilisé en tapant l'une des combinaisons de caractères suivantes : :) :-) :( :-( :+1 :-1. Les URL sont automatiquement détectées et converties en un lien cliquable.

Les interprétations sont classées par ordre décroissant de date, la plus récente étant indiquée en haut. Les réponses aux interprétations sont classées par ordre croissant de date, la plus ancienne étant indiquée en haut.

![](resources/images/dashboard/dashboard-interpretations.png)

## Partager un tableau de bord { #dashboard_sharing }

Pour partager un tableau de bord avec des groupes d’utilisateurs, cliquez sur le bouton **PARTAGER** à droite du titre du tableau de bord pour afficher les paramètres de partage du tableau de bord. Pour partager le tableau de bord avec des utilisateurs ou groupes d’utilisateurs spécifiques, saisissez leurs noms dans le champ de saisie pour les identifier dans les paramètres de partage du tableau de bord.

![](resources/images/dashboard/dashboard-sharing-dialog.png)

Tous les tableaux de bord ont deux groupes de partage définis par défaut.

-   Accès externe (sans login)

    Cette option, lorsqu'elle est sélectionnée, permet d'accéder au tableau de bord en tant que ressource externe via l'API. Cette option est utile lorsque vous créez un portail web externe mais que vous souhaitez appeler des informations d'un tableau de bord que vous avez créé en interne dans le DHIS2. Par défaut, cette option n'est pas sélectionnée. Pour plus d'informations, voir [Visualisation des représentations des ressources analytiques](https://docs.dhis2.org/master/en/developer/html/webapi_viewing_analytical_resource_representations.html#) dans le guide du développeur.

-   Accès public (avec login)

    Cette option permet de rendre disponible le tableau de bord sélectionné à tous les utilisateurs au sein de votre instance DHIS2. Cela peut aussi être masqué de la vue du public en sélectionnant l'option "Aucun", qui est l'option par défaut pour les nouveaux tableaux de bord.

Les groupes d’utilisateurs qui ont été ajoutés manuellement peuvent se voir attribuer deux types d'autorisations dans le tableau de bord :

-   Lecture seule

    Fournit au groupe d'utilisateurs des droits de visualisation uniquement sur le tableau de bord.

-   Lecture et saisie

    Permet aux groupes d'utilisateurs de modifier le tableau de bord en plus de le visualiser. L’édition permet de modifier la mise en page, de redimensionner et de supprimer des éléments, renommer/supprimer le tableau de bord, etc.

Vous pouvez fournir aux utilisateurs l'URL du tableau de bord, ce qui leur pemet de naviguer directement dans le tableau de bord. Pour obtenir l'URL du tableau de bord, il suffit d''y accéder en mode visualisation et de copier l'URL du navigateur. Par exemple, l'URL du tableau de bord des soins anténatals dans play.dhis2.org/demo est:

https://play.dhis2.org/demo/dhis-web-dashboard/\#/nghVC4wtyzi

# Utiliser l'application Visualiseur de données { #data_visualizer }

![](resources/images/data-visualizer/data-visualizer-overview.png)

## Création et édition de visualisations { #creating-and-editing-visualizations }

Lorsque vous ouvrez l'application data-visualizer à partir du menu dhis2, vous obtenez une ardoise vierge et vous pouvez commencer à créer votre visualisation immédiatement.

![](resources/images/data-visualizer/data-visualizer-new.png)

### Sélectionnez un type de visualisation { #select-visualization-type }

Sélectionnez le type de visualisation souhaité à l'aide du sélecteur situé dans le coin supérieur gauche. Pour chaque type de visualisation, vous trouverez une brève description avec des suggestions sur l'utilisation des principales dimensions dans la mise en page.

![](resources/images/data-visualizer/data-visualizer-visualization-type.png)

| Type de visualisation | Description |
| --- | --- |
| Colonne | Affiche les informations sous forme de colonnes rectangulaires verticales dont la longueur est proportionnelle aux valeurs qui y sont contenues.<br><br>Par exemple : la comparaison des performances de différents districts.<br><br>Restrictions relatives à la mise en page : 1 seule dimension comme série, 1 seule dimension comme catégorie. |
| Colonnes empilées | Affiche les informations sous forme de colonnes rectangulaires verticales, où des barres représentant plusieurs catégories sont empilées les unes par-dessus les autres.<br><br>Par exemple : affichage des tendances ou des sommes d'éléments de données connexes.<br><br>Restrictions relatives à la mise en page : identiques à celles de la Colonne. |
| Barre | Identique aux colonnes, mais avec des barres horizontales. |
| Barres empilées | Identique aux colonnes empilées, mais avec des barres horizontales. |
| Ligne | Affiche les informations sous la forme d'une série de points reliés par des lignes droites. Également appelée série chronologique.<br><br>Exemple : visualisation des tendances des données des indicateurs sur des intervalles de temps.<br><br>Restrictions relatives à la mise en page : identiques à celles de la Colonne. |
| Zone | Elle repose sur une ligne (ci-dessus), l'espace entre l'axe et la ligne étant rempli de couleurs et les lignes étant empilées les unes par-dessus les autres.<br><br>Par exemple : comparaison des tendances des indicateurs connexes.<br><br>Restrictions relatives à la mise en page : identiques à celles de la Colonne. |
| Zones empilées | Similaire à Zone, mais les zones des différents éléments de dimension sont empilées les unes par-dessus les autres.<br><br>Par exemple : comparaison des tendances des indicateurs connexes.<br><br>Restrictions relatives à la mise en page : identiques à celles de la Zone. |
| Secteur | Cercle divisé en secteurs (ou sections).<br><br>Exemple : visualisation de la proportion de données pour des éléments de données individuels par rapport à la somme totale de tous les éléments de données.<br><br>Restrictions relatives à la mise en page : 1 seule dimension comme série, sans catégorie. |
| Radar | Affiche les données sur les axes à partir du même point. Il est également connu sous le nom de diagramme en araignée.<br><br>Restrictions de mise en page : les mêmes que pour la Colonne. |
| Jauge | Demi-cercle affichant une seule valeur, généralement sur 100% (les valeurs de début et de fin sont configurables).<br><br>Restrictions relatives à la mise en page : 1 seule dimension avec 1 seul élément comme série, la dimension des données est verrouillée sur la série. |
| D'année en année (ligne) | Utile lorsque vous souhaitez comparer une année de données à d'autres années de données sur la base des années civiles.<br><br>Restrictions relatives à la mise en page : la dimension Période est désactivée. |
| D'année en année (colonne) | Identique à l'option Année après année (ligne), uniquement avec des colonnes. |
| Valeur unique | Affiche une valeur unique de manière conviviale sur le tableau de bord.<br><br>Restrictions de mise en page : identiques à celle de la Jauge. |
| Tableau croisé dynamique | Résume les données d'un tableau plus détaillé et pourrait reprendre des sommes, des moyennes ou d'autres statistiques regroupées de manière significative par le tableau croisé dynamique.<br><br>Restrictions relatives à la mise en page : aucune. |
| Diffusion | Les diagrammes de diffusion permettent aux utilisateurs de représenter les unités organisationnelles sous forme de tableaux en fonction de deux variables pour une seule période fixe ou relative. <br><br>Les restrictions de mise en page : 1 seul élément vertical et horizontal, la dimension des données est verrouillée à la verticale et à l'horizontale, l'unité organisationnelle est verrouillée en fonction des tableaux. |

### Sélectionner les dimensions { #select-dimensions }

Dans le menu de dimension sur la gauche, vous pouvez sélectionner la dimension que vous voulez afficher dans votre visualisation, y compris les données, la période, les unités d'organisation et les dimensions dynamiques. Vous pouvez le ajouter en cliquant sur une dimension, en glissant et déposant une dimension dans la zone de mise en page ou en survolant une dimension et en utilisant son menu contextuel (trois points).

![](resources/images/data-visualizer/data-visualizer-dimensions.png)

Tout comme dans le menu des dimensions, dans la zone de mise en page, vous pouvez également modifier les sélections en cliquant sur une dimension, en glissant et déposant une dimension ou en utilisant le menu contextuel d'une dimension (trois points).

![](resources/images/data-visualizer/data-visualizer-layout-area.png)

-   **Séries** : Une série est un ensemble d'éléments continus et liés (par exemple, périodes ou éléments de données) que vous souhaitez visualiser afin de souligner les tendances ou les relations dans ses données. Elles sont également connues sous le nom de Colonnes pour les visualisations de tableaux croisés dynamiques.

<!-- end list -->

-   **Catégories** : Une catégorie est un ensemble d'éléments (par exemple des indicateurs ou unités d'organisation) pour lesquelles vous souhaitez comparer les données. On les appelle également Rangées pour les visualisations de Tableaux croisés dynamiques.

<!-- end list -->

-   **Filtre** : La sélection du filtre permettra de filtrer les données affichées dans la visualisation. Notez que si vous utilisez la dimension des données comme filtre, vous ne pouvez spécifier qu'un seul indicateur ou ensemble de données comme élément de filtre, alors qu'avec les autres types de dimension, vous pouvez sélectionner un nombre indéfini d'éléments.

### Sélectionner les éléments de dimension { #data_vis_select_dim_items }

Une dimension renvoie aux éléments décrivant les valeurs de données dans le système. Il existe trois dimensions principales dans le système :

-   **Données** : Cette dimension comprend des éléments de données, des indicateurs et des ensembles de données (taux de reporting), décrivant le phénomène ou l'événement des données.

<!-- end list -->

-   **Périodes** : Indique quand l'événement a eu lieu.

<!-- end list -->

-   **Unités d'organisation** : Décrit où l'événement a eu lieu.

L'application Visualiseur de données est très flexible puisqu'il vous permet d'utiliser ces dimensions comme séries, catégories et filtres.

Pour sélectionner les éléments d'une dimension, ouvrez la fenêtre modale de la dimension en cliquant sur une dimension. Cette fenêtre s'ouvre également automatiquement lorsque vous ajoutez une dimension sans éléments sélectionnés dans la mise en page. Sélectionnez les éléments à ajouter à la visualisation en double-cliquant sur un élément ou en sélectionnant un élément en un seul clic et en utilisant les flèches au milieu. L'ordre d'apparition sera le même que l'ordre dans lequel ils sont sélectionnés. Les éléments sélectionnés peuvent alors être réorganisés par simple glisser-déposer dans la section Sélectionnés.

#### Sélection des données { #select-data-items }

Lors de la sélection des éléments de données, il existe plusieurs façons de filtrer les éléments affichés. En utilisant le champ de recherche situé en haut de la page, une recherche générale par nom d'élément est effectuée sur le **Type de données** sélectionné. En sélectionnant un **type de données** dans la barre de menu déroulante, les éléments peuvent être filtrés par type et sous-type, le sous-type disponible dépendant du type de données sélectionné. La recherche par nom et le filtrage par type/sous-type peuvent être combinés pour obtenir un filtre plus détaillé. Le type de chaque élément affiché est indiqué par une icône correspondante sur l'élément. En survolant un élément, le nom du type peut être visualisé.

![](resources/images/data-visualizer/data-visualizer-dimension-modal.png)

#### Sélectionner les périodes { #select-periods }

Lorsque vous sélectionnez une période, vous devez choisir entre des périodes fixes et des périodes relatives. Celles-ci peuvent également être combinées. Les périodes imbriquées sont filtrées de manière à n'apparaître qu'une seule fois. Pour les périodes relatives, les noms sont relatifs à la date du jour, par exemple si le mois en cours est mars et que vous sélectionnez **Mois passé**, le mois de février apparaît alors dans la visualisation.

![](resources/images/data-visualizer/data-visualizer-period-dimension-modal.png)

#### Sélectionnez les unités d'organisation { #select-organisation-units }

La boîte de dialogue des unités d'organisation est flexible et propose essentiellement trois façons de sélectionner les unités d'organisation :

-   Sélection explicite : Utilisez l'**arborescence** pour sélectionner explicitement les unités d'organisation que vous souhaitez voir apparaître dans la visualisation. Lorsque vous faites un clic droit sur une unité d'organisation, vous pouvez alors facilement choisir de sélectionner toutes les unités d'organisation situées en dessous de celle-ci.

-   Niveaux et groupes : Les menus déroulants **Niveau** et **Groupe** permettent de sélectionner facilement toutes les unités d'un ou de plusieurs groupes d'unités d'organisation ou à des niveaux spécifiques. Exemple : sélectionnez _Chefferie_ (niveau 3) pour obtenir toutes les unités d'organisation de ce niveau.

    Veuillez noter que dès que vous avez sélectionné au moins un niveau ou un groupe, la hiérarchie des unités organisationnelles fait office de limite pour les niveaux/groupes. Par exemple : si vous sélectionnez _Chefferie_ (niveau 3) et _Kailahun_ unité d'organisation (au niveau 2) dans la hiérarchie, vous obtenez toutes les unités de chefferie du district de Kailahun.

-   Les unités d'organisation de l'utilisateur :

    -   Unité d'organisation des utilisateurs : Il s'agit d'un moyen de sélectionner de façon dynamique les unités d'organisation auxquelles l'utilisateur connecté est associé.

    -   Sous-unités d'utilisateurs : Sélectionne les sous-unités de l'unité d'organisation des utilisateurs.

    -   Sous-unités utilisateur x2 : Sélectionne les unités à deux niveaux en dessous de l'unité d'organisation des utilisateurs.

![](resources/images/data-visualizer/data-visualizer-organisation-unit-dimension-modal.png)

### Graphiques à deux catégories { #two-category-charts }

La plupart des types de visualisation graphique peuvent présenter deux catégories. En passant d'un tableau croisé dynamique à une colonne, une barre, une zone (et leurs versions empilées) et une ligne, les deux premières dimensions sont conservées dans la catégorie, toute dimension supplémentaire est déplacée vers le filtre. Les étiquettes de la première dimension dans la catégorie sont affichées en haut du graphique, tandis que celles de la seconde dimension sont affichées en bas. La visualisation qui en résulte est composée de graphiques séparés, soit un pour chaque élément de la première dimension.

![](resources/images/data-visualizer/data-visualizer-two-category.png)

## Modifier l'affichage de votre visualisation { #change-the-display-of-your-visualization }

Vous pouvez modifier l'affichage d'une visualisation en activant/désactivant et en configurant plusieurs options. Chaque type de visualisation peut disposer d'un ensemble différent d'options. Les options sont organisées en onglets dans la **Boîte de dialogue des options** et en sections à l'intérieur de chaque onglet.

1.  Cliquez sur **Options** pour ouvrir la **Boîte de dialogue des options**.

2.  Parcourez les onglets de la boîte de dialogue pour accéder aux options disponibles.

3.  Configurez les options souhaitées selon vos besoins.

4.  Cliquez sur **Mettre à jour** pour appliquer les modifications apportées à la visualisation.

### Liste des options disponibles { #list-of-available-options }

| Option | Description |
| --- | --- |
|  | **Onglet Données** |
| Type d'agrégation | Permet de définir comment les éléments de données ou les indicateurs seront agrégés dans la visualisation. Certains des types d'agrégation sont Par élément de donnée, Nombre, Min et Max. |
| Ligne de base | Affiche une ligne horizontale à la valeur de domaine concernée. Elle est utile, par exemple, lorsque vous souhaitez afficher l'évolution de vos performances depuis le début d'un processus. |
| Sous-totaux des colonnes | Affiche les sous-totaux dans un tableau croisé dynamique pour chaque dimension.<br>Si vous ne sélectionnez qu'une seule dimension, les sous-totaux seront masqués pour ces colonnes. Ceci est dû au fait que les valeurs seront égales aux sous-totaux. |
| Totaux des colonnes | Affiche les valeurs totales dans un tableau croisé dynamique pour chaque colonne, ainsi qu'un total pour toutes les valeurs du tableau. |
| Valeurs cumulées | Affiche les valeurs cumulées sous forme de Colonnes, de colonnes empilées, de Barres, de Barres empilées, de Lignes et de Zones |
| Ordre de tri personnalisé | Contrôle l'ordre de tri des valeurs. |
| Étiquettes des dimensions | Affiche les noms des dimensions dans un tableau croisé dynamique. |
| Masquer les catégories vides | Masque les éléments de catégorie sans données provenant de la visualisation.<br>**Avant la première** : masque les valeurs manquantes uniquement avant la première valeur<br>**Après la dernière** : masque les valeurs manquantes uniquement après la dernière valeur<br>**Avant la première et après la dernière** : masque les valeurs manquantes uniquement avant la première valeur et après la dernière valeur<br>**Tout** : masque toutes les valeurs manquantes<br>TCeci s'avère utile, par exemple, lorsque vous créez des visualisations de colonnes et de barres. |
| Masquer les colonnes vides | Masque les colonnes vides d'un tableau croisé dynamique. Ceci est utile lorsque vous consultez de grands tableaux dans lesquels une grande partie des éléments de dimension ne dispose pas de données, ceci afin de préserver la lisibilité du le tableau. |
| Masquer les rangées vides | Masque les rangées vides d'un tableau croisé dynamique. Ceci est utile lorsque vous regardez de grands tableaux dans lesquels une grande partie des éléments de dimension ne dispose pas de données, ceci afin de préserver la lisibilité du tableau. |
| Type de nombre | Définit le type de valeur que vous souhaitez afficher dans un tableau croisé dynamique : Valeur, Pourcentage de la ligne ou Pourcentage de la colonne.<br>Les options Pourcentage de la ligne et Pourcentage de la colonne impliquent la visualisation des valeurs en pourcentage du total de la ligne ou en pourcentage du total de la colonne au lieu de la valeur agrégée. Cette option est utile lorsque vous souhaitez voir la contribution des éléments de données, des catégories ou des unités d'organisation à la valeur totale. |
| Inclure uniquement les événements achevés | Inclut uniquement les événements achevés dans le processus d'agrégation. Ceci est utile par exemple pour exclure des événements non finalisés dans le calcul des indicateurs. |
| Sous-totaux des rangées | Affiche les sous-totaux dans un tableau croisé dynamique pour chaque dimension.<br>Si vous ne sélectionnez qu'une seule dimension, les sous-totaux seront masqués pour ces rangées. Ceci est dû au fait que les valeurs seront égales aux sous-totaux. |
| Totaux des rangées | Affiche les valeurs totales dans un Tableau croisé dynamique pour chaque rangée, ainsi qu'un total pour toutes les valeurs du tableau. |
| Ignorer les arrondis | Ignore les arrondis des valeurs des données, ce qui permet d'obtenir une précision totale des valeurs des données. Cela peut être utile pour les données financières lorsque le montant total en dollars est requis. |
| Les valeurs empilées totalisent 100% | Affiche des valeurs empilées à 100 % dans les visualisations de colonnes empilées et de barres empilées. |
| Ligne cible | Affiche une ligne horizontale à la valeur de domaine concernée. Elle est utile, par exemple, lorsque vous souhaitez comparer vos performances à l'objectif actuel. |
| Ligne de tendance | Affiche la ligne de tendance permettant de visualiser l'évolution de vos données dans le temps. Elle indique, par exemple, si les performances s'améliorent ou se détériorent. Elle est utile lorsque l'on choisit des périodes comme catégorie. |
| Étiquettes de valeur | Affiche les valeurs supérieures à la série dans la visualisation. |
|  | Onglet Axes |
| Axe de la plage | Définit la valeur maximale et minimale à afficher sur l'axe de la plage. |
| Titre des axes | Saisissez un titre ici pour afficher une étiquette à côté de l'axe x ou y. Ceci est utile lorsque vous souhaitez donner des informations contextuelles à la visualisation, par exemple sur l'unité de mesure. |
| Décimales | Définit le nombre de décimales à utiliser pour les valeurs de l'axe des plages. |
| Étapes | Définit le nombre de tiques qui seront visibles sur l'axe de la plage. |
|  | **Onglet Légende** |
| Afficher la légende | Applies a legend to the values, which means that you can apply a color to the values. You configure legends in the `Maintenance app`. |
| Type de légende | Contrôle du type de légende attribuée. <br>`Utiliser une légende prédéfinie par élément de données` attribue une légende à chaque élément de données ou indicateur concerné, en fonction de la légende attribuée à chacun d'eux dans `l'application Maintenance`. <br>`Sélectionner une légende unique pour l'ensemble de la visualisation` attribue une légende unique à tous les éléments de données, choisis dans une liste déroulante de légendes disponibles. |
| style de la légende | Contrôle l'endroit où la couleur de la légende est appliquée, soit au texte, soit à l'arrière-plan. Vous pouvez utiliser cette option pour les tableaux de bord afin d'identifier les valeurs élevées et faibles en un clin d'œil. Ne s'applique pas aux visualisations `Single Value`, `Column` ou `Bar`. |
|  | **Onglet Séries** |
|  | Cet onglet permet d'ajouter des axes supplémentaires et de modifier l'affichage des différentes séries. Veuillez consulter la description détaillée de cette opération dans les sections correspondantes ci-dessous. |
|  | **Onglet Style** |
| Séparateur de groupes de chiffres | Permet de contrôler le caractère à utiliser dans la séparation de groupes de chiffres ou de "milliers". Vous pouvez le définir sur Virgule, Espace ou Aucun. |
| Densité d'affichage | Permet de contrôler la taille des cellules dans un tableau croisé dynamique. Vous pouvez le définir sur Confortable, Normal ou Compact.<br>Le mode compact est utile lorsque vous voulez adapter de grands tableaux à l'écran du navigateur. |
| Afficher la hiérarchie des unités d'organisation | Affiche le nom de tous les ascendants des unités d'organisation, par exemple "Sierra Leone / Bombali / Tamabaka / CPS Sanya" pour le "CPS Sanya".<br>Les unités d'organisation sont ensuite triées par ordre alphabétique, ce qui permet de les classer selon la hiérarchie.<br>Lorsque vous téléchargez un tableau croisé dynamique ayant des unités d'organisation comme lignes et que vous avez sélectionné Afficher la hiérarchie des unités d'organisation, chaque niveau d'unité d'organisation est rendu sous la forme d'une colonne séparée. Cette opération est utile, par exemple, lorsque vous créez des tableaux croisés dynamiques Excel sur un ordinateur local. |
| Taille de la police | Contrôle la taille de la police de texte d'un tableau croisé dynamique. Vous pouvez la définir sur Grande, Normale ou Petite. |
| Titre des tableaux/graphiques | Contrôle le titre figurant au-dessus de la visualisation.<br>L'option Auto généré permet d'utiliser le titre par défaut généré à partir des dimensions/filtres de la visualisation.<br>L'option Aucun permet de supprimer le titre.<br>L'option Personnalisé vous permet de saisir un titre personnalisé. |
| Sous-titre des Tableaux/Graphiques | Contrôle le sous-titre figurant au-dessus de la visualisation.<br>L'option Auto généré permet d'utiliser le sous-titre par défaut généré à partir des dimensions/filtres de la visualisation.<br>L'option Aucun permet de supprimer le sous-titre.<br>L'option Personnalisé vous permet de saisir un sous-titre personnalisé. |
| Afficher la clé de la légende | Permet d'activer et de désactiver la légende tout en laissant libre cours à la visualisation elle-même. |
| Aucun espace entre les barres/colonnes | Supprime l'espace entre les colonnes ou les barres dans la visualisation. Cette option est utile pour afficher la visualisation sous forme de courbe EPI. |
| Étiquettes de valeur | Affiche les valeurs supérieures à la série dans la visualisation. |
| Titre des tableaux/graphiques | Contrôle le titre figurant au-dessus de la visualisation.<br>L'option Auto généré permet d'utiliser le titre par défaut généré à partir des dimensions/filtres de la visualisation.<br>L'option Aucun permet de supprimer le titre.<br>L'option Personnalisé vous permet de saisir un titre personnalisé. |
| Jeu de couleurs | Contrôle les couleurs utilisées dans les graphiques. Une liste des jeux de couleurs disponibles s'affiche avec un aperçu des couleurs. Il existe également une option "Motifs mono" qui utilise des motifs colorés au lieu de couleurs pleines. |
|  | **Onglet Valeurs limites** |
| Valeurs limites minimales/maximales | Permet de filtrer les données côté serveur.<br>Vous pouvez configurer le système de manière à ne renvoyer que les enregistrements dont la valeur des données agrégées est égale, supérieure, supérieure ou égale, inférieure ou inférieure ou égale à une valeur donnée.<br>Lorsque les deux parties du filtre sont utilisées, il est alors possible de filtrer une série d'enregistrements de données. |
|  | **Onglet Paramètres** |
| Ordre de tri personnalisé | Contrôle l'ordre de tri des valeurs. |
| Inclure les valeurs cumulées | Inclut une colonne de valeurs cumulées à un tableau croisé dynamique. |
| Inclure les valeurs obtenues par régression | Inclut une colonne de valeurs obtenues par régression dans un tableau croisé dynamique. |
| Unité d’organisation | Permet de déterminer s'il faut demander à l'utilisateur d'entrer une unité d'organisation lors de la création d'un rapport standard dans l'application Rapports. |
| Unité d'organisation mère | Permet de déterminer s'il faut demander à l'utilisateur d'entrer une unité d'organisation mère lors de la création d'un rapport standard dans l'application Rapports. |
| Période de référence | Permet de déterminer s'il faut demander à l'utilisateur d'entrer une période de déclaration lors de la création d'un rapport standard dans l'application Rapports. |
| Limite maximale | Permet de contrôler le nombre maximum de lignes à inclure dans un tableau croisé dynamique. |
|  | **Onglet Outliers (valeurs aberrantes)** |
| Méthode de recherche de valeurs aberrantes  | L'analyse des valeurs aberrantes est un processus qui consiste à identifier les observations anormales dans un ensemble de données. Dans Data Visualizer, les valeurs aberrantes sont détectées en normalisant d'abord les données dans une ligne de régression linéaire, puis en analysant la distance de chaque point par rapport à la ligne de régression. Actuellement, trois méthodes sont prises en charge. **L'intervalle interquartile (IQR)** est basé sur la division d'un ensemble de données en quartiles, tandis que le **Modified z-score** est basé sur l'écart absolu de la médiane (MAD). Le IQR et le MAD sont considérés comme les deux mesures robustes les plus courantes de l'échelle. Le**Standard z-score** est basé sur un écart type et est donc considéré comme moins robuste, car il est fortement influencé par les valeurs aberrantes. |
| Le facteur seuil | Le chiffre par lequel les seuils de valeurs aberrantes sont multipliés. Contrôle la sensibilité de I'échelle des seuils. Les facteurs par défaut sont 1,5 pour l'IQR et 3 pour les z-scores. |

### Personnalisation des textes et légendes des graphiques { #custom-styling-for-text-and-legend-in-charts }

Vous pouvez personnaliser les options suivantes à l'aide de l'outil de mise en forme de texte : `Titre du graphique`, `Sous-titre du graphique`, `Clé de la légende`, `Ligne cible`, `Ligne de base`, `Titre de l'axe` et `Étiquettes` pour les axes horizontal et vertical. L'outil de mise en forme de texte permet de choisir une taille de police, une couleur et des variantes en italique/gras. Il est également possible de choisir la position du texte.

![](resources/images/data-visualizer/data-visualizer-text-styling-tool.png)

## Ajout de catégories attribuées { #adding-assigned-categories }

Les Catégories attibuées sont une dimension composite représentant les combinaisons d'options de catégories associées à la combinaison de catégories de l'élément de données sélectionné. Cette dimension peut être ajoutée en faisant glisser la dimension **Catégories attibuées** du menu de dimensions à gauche dans la disposition de visualisation :

![](resources/images/data-visualizer/data-visualizer-assigned-categories.png)

Une autre façon d'ajouter des catégories attribuées consiste à accéder à l'option **Ajouter des catégories attribuées** dans le menu contextuel de la dimension `Données` (non disponible pour `Jauge`, `Année après année` ou `Valeur unique`).

## Ajouter d'autres axes { #adding-more-axes }

En combinant des données avec différentes échelles de mesure, vous obtiendrez une visualisation plus significative en ayant plus qu'un seul axe. Pour les  graphique à `Colonnes`, `barres` et  `lignes`, et en `Zone` vous pouvez cliquer sur **Gérer les axes du graphique** dans le menu contextuel de la dimension  `Données`. Si l'option est désactivée, assurez-vous que la dimension  `Données` se trouve sur l'axe  `Série` et qu'au moins deux éléments y ont été ajoutés.

On dispose de quatre axes, deux sur le côté gauche (axes 1 et 3) du tableau et deux sur le côté droit (axes 2 et 4). Chaque axe a une couleur différente et les éléments du graphique seront colorés en conséquence.

N.B. : Lorsque plusieurs axes sont utilisés, certaines options comme `Lignes`, `Axe vertical (y)` et `Jeu de couleurs` dans les autres onglets d'options seront désactivées.

![](resources/images/data-visualizer/data-visualizer-series-tab-multi-axis.png)

## Utilisation de plusieurs types de visualisation { #using-multiple-visualization-types }

Il est possible de combiner un diagramme à `Colonnes` avec des éléments à `Lignes` et vice versa. Cela se fait en cliquant sur l'onglet **Séries** dans la fenêtre de dialogue `Options` et en changeant le `Type de visualisation`. Il est également possible de combiner ces éléments en utilisant plusieurs axes (tel que décrit dans la section ci-dessus).

![](resources/images/data-visualizer/data-visualizer-series-tab-multi-axis-multi-type.png)

Il en résulte un graphique qui combine les types `Colonne` et `Ligne`.

![](resources/images/data-visualizer/data-visualizer-multi-type-chart.png)

## Exploration de données { #data-drilling }

Cette fonction est activée pour le type de visualisation `Tableau croisé dynamique` et permet d'analyser les données en profondeur en cliquant sur une cellule contenant des valeurs dans le tableau. Un menu contextuel s'ouvre avec diverses options.

Vous pouvez explorer les données par unité d'organisation, c'est-à-dire naviguer de haut en bas dans l'arborescence des unités d'organisation. L'exploration des données affecte la sélection de la dimension actuelle dans la zone de présentation.

![](resources/images/data-visualizer/data-visualizer-pt-drill.png)

## Gérer les visualisations sauvegardées { #manage-saved-visualizations }

La sauvegarde de vos visualisations permet de les retrouver facilement par la suite. Vous pouvez également choisir de les partager avec d'autres utilisateurs ou de les afficher sur un tableau de bord.

### Ouvrir une visualisation { #open-a-visualization }

1.  Cliquez sur **Fichier** \> **Ouvrir**.

2.  Entrez le nom d'une visualisation dans le champ de recherche, ou cliquez sur les flèches **<** et **>** pour naviguer entre les différentes pages. Le résultat peut également être filtré par type et par propriétaire en utilisant les menus correspondants dans le coin supérieur droit.

3.  Cliquez sur le nom de celle que vous voulez ouvrir.

![](resources/images/data-visualizer/data-visualizer-open-dialog.png)

### Enregistrer une visualisation { #save-a-visualization }

1. a) Cliquez sur **Fichier** \> **Enregistrer**.

2. Entrez un **Nom** et une **Description** pour votre visualisation.

3. Cliquez sur **Sauvegarder**.

![](resources/images/data-visualizer/data-visualizer-save-dialog.png)

### Renommer une visualisation { #rename-a-visualization }

1.  Cliquez sur **Fichier** \> **Renommer**.

2.  Entrez le nouveau nom et/ou une description.

3.  Cliquez sur **Renommer**.

![](resources/images/data-visualizer/data-visualizer-rename-dialog.png)

### Supprimer une visualisation { #delete-a-visualization }

1.  Cliquez sur **Fichier** \> **Supprimer**.

2.  Cliquez sur **Supprimer**.

### Obtenir le lien vers la visualisation { #get-the-link-to-the-visualization }

1. Cliquez sur **Fichier** \> **Obtenir le lien**.

2. Vous pouvez copier l'URL via le menu contextuel du navigateur qui s'ouvre lorsque vous faites un clic droit sur le lien.

![](resources/images/data-visualizer/data-visualizer-delete-dialog.png)

## Les interprétations de la visualisation { #visualization-interpretations }

Lorsque vous affichez une visualisation enregistrée, vous pouvez élargir les interprétations sur le côté droit en cliquant sur le bouton Interprétations dans le coin supérieur droit. La description de la visualisation s'affichera également. La description prend en charge le Format Texte Enrichi.

De nouvelles interprétations peuvent être ajoutées en entrant dans le champ texte en bas à droite. Les autres utilisateurs peuvent être mentionnés avec  `@nom d'utilisateur`. Commencez par taper `@` plus les premières lettres du nom d'utilisateur ou du nom réel et une liste des utilisateurs correspondants s'affichera. Les utilisateurs mentionnés recevront un message DHIS2 interne avec l'interprétation ou le commentaire. Les interprétations peuvent également être consultées dans l'application **Tableau de bord**.

Il est possible de formater le texte avec **gras**, _italique_ en utilisant les marqueurs de style Markdown `*` et `_` pour **gras** et _italique_ respectivement (des raccourcis clavier sont également disponibles : `Ctrl`/`Cmd` + `B` et `Ctrl`/`Cmd` + `I`). Un ensemble limité de smileys est pris en charge et peut être utilisé en tapant l'une des combinaisons de caractères suivantes : `:)` `:-)` `:(` `:-(` `:+1` `:-1`. Les URL sont automatiquement détectées et converties en un lien cliquable.

Pour afficherer la visualisation en fonction de la date d'une interprétation donnée, cliquez sur l'interprétation ou sur son bouton  `Voir`. Cela régénérera la visualisation avec la date correspondante, qui est indiquée à côté du titre de la visualisation. En cliquant sur `Retour à toutes les interprétations`, la visualisation sera régénérée avec la date actuelle.

Pour souscrire à la visualisation sauvegardée, cliquez sur l'icône de la cloche dans le coin supérieur droit. Vous recevrez alors des messages internes chaque fois qu'un autre utilisateur appréciera, créera ou mettra à jour une interprétation dans cette visualisation sauvegardée.

![](resources/images/data-visualizer/data-visualizer-view-interpretation.png)

## Partager une visualisation { #share-a-visualization }

Vous pouvez accéder aux paramètres de partage en cliquant sur **Fichier** \> **Partager**. Modifiez les paramètres de partage pour les groupes d'utilisateurs que vous souhaitez modifier. Les paramètres disponibles sont les suivants :

-   **Peut modifier et visualiser** : Peut afficher et modifier la visualisation.

-   **Peut seulement visualiser** : Peut seulement voir la visualisation.

-   **Pas d'accès** : N'aura pas accès à la visualisation. Ce paramètre n'est applicable qu'à **l'accès public** et **l'accès externe**.

Les nouveaux utilisateurs peuvent être ajoutés en les recherchant par leur nom sous `Ajouter des utilisateurs et des groupes d'utilisateurs`.

![](resources/images/data-visualizer/data-visualizer-share-dialog.png)

## Télécharger { #download }

Les visualisations peuvent être téléchargées à partir du menu **Télécharger**. Tous les types de visualisation supportent les téléchargements sous forme de `Graphique` et de `Source de donnée brute`, à l'exception `Tableau croisé dynamique`, qui peut être téléchargé sous forme de `Mise en page du tableau` et `Source de donnée brute`.

### Téléchargement sous forme de `Graphique` { #graphics-download }

Télécharge une image (.png) ou un fichier PDF (.pdf) sur votre ordinateur.

### Téléchargement sous forme de `Mise en page du tableau` { #table-layout-download }

Télécharge un fichier Excel (.xls), CSV (.csv) ou HTML (.html) sur votre ordinateur.

### Téléchargement sous forme de `Source de donnée brute` { #plain-data-source-download }

Vous pouvez télécharger les sources de données d'une visualisation au format JSON, XML, Excel, CSV, JXRML, formats de données brutes SQL avec différents clés d'identification (ID, code et nom). Le document de données utilise des identifiants des éléments de dimension et ouvre une nouvelle fenêtre de navigateur pour afficher l'URL de la demande à l'API Web dans la barre d'adresse. Ceci est utile pour les développeurs d'applications et d'autres modules clients basés sur DHIS2 Web API ou pour ceux qui ont besoin d'une source de données du plan, par exemple pour l'importation à des fins statistiques.

**Formats disponibles**

| Format | Action | Description |
| --- | --- | --- |
| JSON | Cliquez sur JSON | Télécharge le format JSON selon la propriété ID, Code ou Nom. |
| XML | Cliquez sur XML | Télécharge le format XML selon la propriété ID, Code ou Nom. |
| Microsoft Excel | Cliquez sur Microsoft Excel | Télécharge le format Microsoft Excel selon la propriété ID, Code ou Nom. |
| CSV | Click CSV | Télécharge le format CSV selon la propriété ID, Code ou Nom. |
| Ensemble de valeurs de données XML | Cliquez sur Avancé > XML | Télécharge les valeurs des données brutes en XML, par opposition aux données agrégées selon diverses dimensions. |
| Ensemble de valeurs des données JSON | Cliquez sur Avancé > JSON | Télécharge les valeurs des données brutes en JSON, par opposition aux données agrégées selon diverses dimensions. |
| JRXML | Cliquez sur Avancé > JRXML | Produit un modèle de rapport Jasper pouvant être personnalisé en fonction de vos besoins spécifiques et utilisé comme base d'un rapport standard dans le système DHIS 2. |
| Données brutes SQL | Cliquez sur Avancé > Données brutes SQL | Fournit la véritable instruction SQL utilisée pour générer la visualisation des données. Vous pouvez l'utiliser comme source de données dans un rapport Jasper, ou comme base d'une vue SQL. |

## Voir la visualisation sous forme de carte { #see-visualization-as-map }

Pour avoir un aperçu d'une visualisation sur une carte, sélectionnez le type de visualisation `Ouvrir comme carte` une fois que vous avez fini d'élaborer votre visualisation.

![](resources/images/data-visualizer/data-visualizer-open-as-map.png)

# Utiliser l'application Maps { #using_maps }

## À propos de l'application Maps { #about_maps }

L'application Maps est introduite dans la version 2.29 et sert de remplacement de l'application SIG en offrant une interface plus intuitive et conviviale. Le moteur cartographique de la version 2.34 est basé sur la technologie WebGL, capable d'afficher simultanément des milliers d'éléments sur une carte.

Avec l'application Maps, vous pouvez superposer plusieurs couches et choisir parmi différentes cartes de base. Vous pouvez créer des cartes thématiques de zones et de points, visualiser les structures sanitaires en fonction des classifications et visualiser les bassins versants pour chaque structure. Vous pouvez marquer les zones et les points et effectuer une recherche et filtrer en utilisant divers critères. Vous pouvez déplacer des points et définir des emplacements à la volée. Les cartes peuvent être enregistrées en tant que favorites et partagées avec d'autres utilisateurs et groupes d'utilisateurs ou téléchargées sous forme d'image.

> **Note**
>
> Pour utiliser des légendes prédéfinies dans l'application **Maps**, vous devez tout d'abord les créer dans l'application de **Maintenance**.

![](resources/images/maps/maps_main.png)

-   Le panneau **couche** situé à gauche de l'espace de travail affiche un aperçu des couches cartographiques pour la carte actuelle :

    -   Au fur et à mesure que des couches sont ajoutées, en utilisant le bouton **(+) Ajouter une couche**, elles sont disposées et gérées dans ce panneau.

    -   La **carte de référence** s'affiche toujours dans le panneau. La carte de référence par défaut est OSM Light et est donc sélectionnée par défaut. OpenStreetMap Detailed contient plus de caractéristiques cartographiques et de noms de lieux. Il existe 4 cartes de références de Bing Maps, qui remplacent les cartes Google Maps fournies dans les versions précédentes. Bing Road et Bing Dark montrent les routes, les frontières et les lieux. Utilisez la version sombre si les couleurs des couches de votre carte sont claires. Bing Aerial et Bing Aerial Labels présentent des images satellites et des images aériennes détaillées. Passez de l'une à l'autre en sélectionnant l'image souhaitée.

    -   La petite flèche situé à droite du panneau des couches, au niveau supérieur, permet de masquer ou d'afficher le panneau.

<!-- end list -->

-   Le bouton **Fichier** situé en haut à gauche vous permet d'ouvrir et d'enregistrer les cartes :

    -   Nouveau

        effacera toutes les couches cartographiques existantes pour créer une nouvelle carte.

    -   Ouvrir

        affichera une boîte de dialogue avec une liste des cartes existantes où elles pourront être ouvertes, renommées, partagées et supprimées.  _Le titre de la carte actuelle est affiché dans la barre d'en-tête au-dessus du bouton Fichier. _

    -   Sauvegarder

        permettra d'enregistrer les modifications apportées à la carte actuelle.

    -   Enregistrer sous

        enregistrera la carte actuelle sous un nouveau nom.

    -   Renommer

        vous permet de modifier le nom et/ou la description de la carte actuelle.

    -   Traduire

        vous permet de traduire le nom et/ou la description de la carte actuelle.

    -   Partager

        ouvrira un dialogue dans lequel la carte actuelle pourra être partagée avec tout le monde ou un groupe d'utilisateurs.

    -   Obtenir le lien

        fournira un lien direct vers la carte actuelle.

    -   Supprimer

        permet de supprimer la carte actuelle.

<!-- end list -->

-   Le bouton **Télécharger** à côté du bouton Fichier vous permet de télécharger la carte actuelle sous forme d'image PNG.

<!-- end list -->

-   Le bouton **Interprétations** en haut à droite ouvre un panneau d'interprétations sur le côté droit de l'espace de travail. Le bouton n'est cliquable que si la carte est enregistrée.

    -   Le bouton **Détails de la carte** affiche des informations sur la carte actuelle.

    -   Le bouton **Interprétations** vous permet de visualiser, d'ajouter, de modifier et de partager des interprétations sur la carte actuelle.

<!-- end list -->

-   Les boutons **+** et **-** de la carte vous permettent respectivement d'effectuer un zoom avant et arrière sur la carte. Le zoom effectué à l'aide de la roulette de la souris est continu, ce qui permet d'adapter parfaitement la carte à votre contenu.

-   Le bouton **rotation de la carte** (flèches triangulaires) vous permet de faire pivoter et d'incliner la carte pour améliorer la visualisation de vos données. Appuyez sur le bouton (ou sur la touche Ctrl de votre clavier) tout en déplaçant votre souris pour changer la vue de la carte. Cliquez à nouveau sur le bouton pour réinitialiser la vue.

-   **Le mode plein écran** (quatre flèches) vous permet de visualiser la carte en mode plein écran. Pour quitter le plein écran, cliquez à nouveau sur le bouton ou sur la touche d'échappement de votre clavier.

*   **Zoom sur le contenu** (symbole de la loupe délimitée) ajuste automatiquement le niveau de zoom et la position centrale de la carte pour mettre en avant les données sur votre carte.

*   **Rechercher** (symbole de la loupe) permet de rechercher et de sauter à un endroit sur la carte.

*   Le bouton **règle** vous permet de mesurer des distances et des surfaces sur la carte.

*   Faites un clic droit sur la carte pour afficher la longitude et la latitude de cet emplacement.

**Cartes de référence**

Les couches de la carte de référence sont représentées par des _cartes_ de couche dans le panneau comme :

![](resources/images/maps/maps_basemap_card.png)

En haut de la carte de référence, de gauche à droite, se trouvent :

-   Le titre de la carte de référence sélectionnée

-   Un symbole de flèche pour réduire et agrandir la carte de fond de référence

Au milieu de la carte de fond de référence figure la liste des cartes de référence disponibles. La carte de référence actuelle est mise en surbrillance.

En bas de la carte de fond de référence se trouvent :

-   Un symbole d'oeil pour basculer la visibilité de la couche

-   Un curseur pour modifier la transparence de la couche

## Créer une nouvelle carte { #using_maps_create_map }

1.  Dans le menu **Applications**, cliquez sur **Cartes**. La fenêtre **DHIS2 Maps** s'ouvre.

2.  Cliquez sur le bouton (+) Ajouter une couche en haut à gauche. Le dialogue de sélection de couche apparaît :

    ![](resources/images/maps/maps_layer_selection.png)

3.  Sélectionnez une couche à ajouter à la carte actuelle. Les options possibles sont les suivantes :

    -   [Thématique](#using_maps_thematic_layer)

    -   [Événements](#utiliser_la couche_d'évènements_des cartes)

    -   [Entités suivies](#utiliser_la couche_des entités_suivies_des cartes)

    -   [Etablissements](#utiliser_la couche_d'établissments_des cartes)

    -   [Boundaries](#using_maps_boundary_layer)

    En outre, il existe plusieurs couches fournies par Google Earth et autres services :

    -   Population

    -   Tranches d'âge de la population

    -   Altitude

    -   Précipitation

    -   Température

    -   Couverture terrestre

    _La superposition d'étiquettes_ est une [couche externe] (#using_maps_external_map_layers) définie dans l'application Maintenance.

## Gérer les couches thématiques { #using_maps_thematic_layer }

_Les couches thématiques_ représentent la variation spatiale des distributions géographiques. Sélectionnez votre combinaison indicateur/élément de donnée, période et niveau de l'unité d'organisation. Si votre base de données contient des coordonnées et des valeurs de données agrégées pour ces unités d'organisation, elles apparaîtront sur la carte.

> **N.B**
>
> Vous devez générer les tableaux analytiques du DHIS2 pour disposer de valeurs de données agrégées.

![](resources/images/maps/maps_thematic_mapping.png)

Les couches thématiques sont représentés par des _ cartes _ de couches dans le panneau des couches, comme par exemple :

En haut de la carte thématique, de gauche à droite, vous trouverez :

-   un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

-   Le titre et la période associés à la couche

-   Un symbole de flèche pour réduire et agrandir la carte thématique

Au centre de la carte thématique se trouve une légende indiquant les plages de valeurs affichées sur la couche.

En bas de la carte thématique, de gauche à droite, vous trouverez :

-   Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

-   Un symbole d'oeil pour basculer la visibilité de la couche

-   Un curseur pour modifier la transparence de la couche

-   Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

    -   Un bouton **tableau de données** pour afficher ou masquer le tableau de données associé à la couche

    -   **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

    -   **Modifier la couche** est le même que le bouton Modifier ci-dessus

    -   **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche thématique { #create-a-thematic-layer }

Pour créer une couche Evénements, choisissez **Thématique** dans la section **Ajouter une couche**. Cela ouvre la boîte de dialogue de configuration d'une couche Evénement.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps/maps_thematic_layer_dialog_DATA.png)

    -   Sélectionnez un type de données puis sélectionnez respectivement le groupe et l'élément cible. Les champs disponibles dépendent du type d'article sélectionné.

    -   Sélectionnez une valeur dans le champ **Type d'agrégation** pour les valeurs de données à afficher sur la carte. Par défaut, "Par élément de donnée" est sélectionné. Les valeurs alternatives sont : Nombre ; Moyenne ; Somme ; Écart type ; Variance ; Min ; Max. Voir également [Aggregation operators](https://dhis2.github.io/dhis2-docs/master/en/user/html/ch10s05.html#d0e8082).

2.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps/maps_thematic_layer_dialog_PERIOD.png)

    -   sélectionner la période de temps sur laquelle les données thématiques sont cartographiées. Vous pouvez sélectionner une période relative ou fixe.

        -   Période relative

            Dans le champ **Type de période**, sélectionnez **Relatif**, puis sélectionnez une des périodes relatives, par exemple **Année dernière** ou **12 derniers mois**, dans le champ **Période**.

            Une **période relative par défaut pour l'analyse** peut être définie dans l'application **Paramètres des systèmes**.

            Si vous sélectionnez une période relative couvrant plusieurs années/mois/semaines/jours, la couche peut être affichée sous forme de couche

            -   Unique (agrégée)

                Afficher les valeurs agrégées pour la période relative sélectionnée (par défaut).

            -   Délais

                Comprend un calendrier permettant de parcourir les périodes. On ne peut ajouter qu'une seule couche chronologique à la même carte.

            -   Vues de carte fractionnées

                Cette bouton affiche plusieurs cartes vous permettant de comparer différentes périodes côte à côte.  Les vues fractionnées sont prises en charge pour les périodes relatives à 12 éléments ou moins. Aucune combinaison avec d'autres types de couche n'est possible.

        -   Période fixe

            Dans le champ **Type de période**, sélectionnez la durée de la période, puis sélectionnez la cible dans le champ **Période**.

        -   Dates de début et de fin

            Dans le champ **Type de période**, sélectionnez **Dates de début /de fin** et remplissez une date de début et une date de fin.

3.  Dans l'onglet **Unités d'Org.**:

    ![](resources/images/maps/maps_thematic_layer_dialog_ORG_UNITS.png)

    -   Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Il est possible de sélectionner :

        -   Une ou plusieurs unités d'organisation spécifiques, des niveaux d'unité d'organisation dans la hiérarchie, des groupes d'unités d'organisation, ou

        -   An niveau relatif dans la hiérarchie des unités d'organisation, par rapport à l'utilisateur. En sélectionnant une **unité d'organisation d'un utilisateur**, les données cartographiques apparaîtront différemment pour les utilisateurs à différents niveaux dans la hiérarchie de l'unité d'organisation.

4.  Dans l'onglet **FILTRE**:

    ![](resources/images/maps/maps_thematic_layer_dialog_FILTER.png)

    -   Cliquez sur AJOUTER UN FILTRE et sélectionnez un élément de données disponible pour ajouter un nouveau filtre à l'ensemble de données.

        -   Sélectionnez une dimension de données dans la liste déroulante. Vous pouvez réduire le nombre de dimensions affichées en utilisant le champ de recherche. Cliquez sur le nom pour sélectionner une dimension.

        -   Lorsqu'une dimension est sélectionnée, un deuxième menu déroulant apparaît avec des éléments de dimension. Cochez les éléments que vous voulez inclure dans le filtre.

        Plusieurs filtres peuvent être ajoutés. Cliquez sur le bouton "Corbeille" à droite du filtre pour le supprimer.

5.  Dans l'onglet **STYLE**:

    ![](resources/images/maps/maps_thematic_layer_dialog_STYLE.png)

    -   Sélectionner soit les carte **Choroplèthes** ou à **Bulles**.

        -   La carte choroplèthe attribuera une couleur à chaque forme d'unité d'organisation en fonction de la valeur des données. Cette technique est recommandée lorsque les données sont normalisées (par habitant).

        -   La carte à bulles affichera les valeurs des données sous forme de cercles proportionnels. Cette technique devrait être utilisée lorsque les données ne sont pas normalisées (nombres absolus). Les cercles sont placés au centre de chaque unité d'organisation.

    -   Définir le **Rayon faible** et le **Rayon élevé** pour les cercles proportionnels ou les installations ponctuelles. Les cercles seront redimensionnés en fonction de la valeur des données, entre rayon faible et rayon élevé. Le rayon doit être compris entre 0 et 50 px.

    -   **Afficher les étiquettes** : Cette option permet d'afficher les noms des unités d'organisation sur la couche. La taille, le poids, le style et la couleur de la police peuvent également être modifiés à ce niveau.

    -   ** N'afficher aucune donnée** : Par défaut, les unités d'organisation dont les données sont manquantes n'apparaîtront pas sur la carte. Veuillez cocher cette case si vous souhaitez les afficher avec une couleur. Cliquez sur la couleur pour que celle-ci change.

    -   Sélectionner le type de légende :

        -   **Légende de couleur automatique** : l'application créera une légende pour vous en fonction de la méthode de classification, du nombre de classes et de l'échelle de couleur que vous aurez choisis. Définissez **Classification** selon les deux critères suivants :

            -   Intervalles égaux

                chaque intervalle aura une plage (valeur la plus élevée des données - valeur la plus faible des données / nombre de classes)

            -   Nombres égaux

                le créateur de la légende va tenter de répartir les unités d'organisation uniformément.

        -   **Légende des couleurs prédéfinie** : Choisissez parmi les légendes prédéfinies.

        -   **Légende unique des couleurs** : Sélectionnez la couleur des bulles ou des cercles. Disponible uniquement pour les cartes à bulles.

6.  Cliquez sur **AJOUTER UNE COUCHE**.

### Modifier une couche thématique { #modify-a-thematic-layer }

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) sur la carte de la couche thématique.

2.  Modifiez le paramètre de l'un des onglets comme vous le souhaitez.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Filtrer les valeurs dans une couche thématique { #filter-values-in-a-thematic-layer }

Les couches thématiques ont une option **tableau de données** qui peut être activée ou désactivée à partir de la carte de couche thématique.

![](resources/images/maps/maps_thematic_layer_data_table.png)

La table de données affiche les données qui forment la couche thématique

-   en cliquant sur un titre, le tableau sera trié en fonction de cette colonne tout en donnant la possibilité de basculer entre un classement ascendant et descendant.

-   entrer du texte ou des expressions dans les champs de filtre situé sous les titres appliquera ces filtres aux données et l'affichage s'ajustera selon le filtre. Les filtres sont appliqués comme suit :

    -   NOM

        filtrer par noms contenant ce texte

    -   VALEUR

        filtrer les valeurs par des nombres et/ou des plages de valeurs données, par exemple : 2,\>3&\<8

    -   LÉGENDE

        filtrer par légendes contenant ce texte

    -   INTERVALLE

        filtrer par plages contenant ce texte

    -   NIVEAU

        filtrez le niveau par nombres et/ou plages de valeurs, par exemple : 2,\>3&\<8

    -   PARENT

        filtrer par noms de parent contenant ce texte

    -   Identifiant

        filtrer par Identifiants contenant ce texte

    -   TYPE

        filtrer par types d'affichage SIG contenant ce texte

    -   COULEUR

        filtrer par noms de couleurs contenant ce texte

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.

### Rechercher une unité d'organisation { #search-for-an-organisation-unit }

Le champ de filtre NOM dans le tableau de données constitue un moyen efficace de rechercher des unités d'organisation individuelles.

### Naviguer entre les hiérarchies d'organisation { #navigate-between-organisation-hierarchies }

Lorsqu'il y a des unités d'organisation visibles sur la carte, vous pouvez facilement naviguer de haut en bas dans la hiérarchie sans utiliser l'interface utilisateur niveau/parent.

1.  Faites un clique droit sur l'une des unités d'organisation.

2.  Sélectionnez **Accéder au niveau supérieur** ou **Accéder au niveau inférieur**.

    L'option d'exploration est désactivée si vous vous trouvez au niveau le plus bas ou s'il n'y a pas de coordonnées disponibles au niveau inférieur. De même, l'option d'exploration en amont est désactivée à partir du niveau le plus élevé.

### Supprimer une couche thématique { #remove-thematic-layer }

Pour effacer toutes les données d'une couche thématique :

1.  Dans la carte de couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches d'évènements { #using_maps_event_layer }

La couche Evénement affiche la localisation géographique des événements enregistrés dans le tracker DHIS2. Si les événements sont associés à des coordonnées de points ou de polygones, vous pouvez alors utiliser cette couche pour effectuer des recherches à partir des données agrégées affichées dans les couches thématiques jusqu'aux événements ou cas individuels sous-jacents.

Vous pouvez également afficher des évènements agrégés sur le site ou au niveau de la frontière. Vous faites cela à travers une couche thématique en utilisant des éléments de données d'évènements. Ceci est utile lorsque vous n’avez que les coordonnées de l’unité d'organisation sous laquelle sont enregistrés les événements.

![](resources/images/maps/maps_event_layer.png)

Les couches d'évènements sont représentées par des couches _cartes_ dans le panneau des couches, par exemple :

En haut de la carte d'évènement, de gauche à droite, se trouvent :

-   un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

-   Le titre et la période associés à la couche

-   Un symbole de flèche pour réduire et développer la carte d'évènement

Au centre de la carte d'évènement se trouve une légende indiquant le style de la couche.

En bas de la carte d'évènement, de gauche à droite, se trouvent :

-   Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

-   Un symbole d'oeil pour basculer la visibilité de la couche

-   Un curseur pour modifier la transparence de la couche

-   Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

    -   Un bouton **tableau de données** pour afficher ou masquer le tableau de données associé à la couche

    -   **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

    -   **Modifier la couche** est le même que le bouton Modifier ci-dessus

    -   **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'évènements { #maps_create_event_layer }

Pour créer une couche Evénements, choisissez **Événement** dans la fenêtre **Ajouter une couche**. La boîte de dialogue de configuration de la couche Evénement s'ouvre.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps/maps_event_layer_dialog_DATA.png)

    -   Sélectionnez un programme, puis sélectionnez une étape du programme. **L'étape** n'est affiché qu'après la sélection d'un programme.

        S'il y a seulement une étape disponible pour le programme, celle-ci est automatiquement sélectionnée.

    -   Sélectionnez une valeur dans le champ **Coordonnées** pour les positions indiquées sur la carte. Par défaut, "localisation de l'évènement" est sélectionné. En fonction des éléments de données ou des attributs appartenant à un programme, d'autres coordonnées telles que "Position du ménage" sont disponibles.

    -   Par défaut, tous les événements ayant des coordonnées sont indiqués sur la carte. Utilisez le champ **État de l'événement** pour n'afficher que les événements ayant un seul état : Actif, Terminé, Programmé, En retard ou Ignoré.

2.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps/maps_event_layer_dialog_PERIOD.png)

    -   sélectionnez la période pendant laquelle les événements ont eu lieu. Vous pouvez sélectionner une période fixe ou une période relative.

        -   Période relative

            Dans le champ **Période**, sélectionnez l'une des périodes relatives, par exemple **Ce mois** ou **L'année dernière**.

            Une **période relative par défaut pour l'analyse** peut être définie dans l'application **Paramètres des systèmes**.

        -   Période fixe

            Dans le champ **Période**, sélectionnez **Dates de début /de fin** et remplissez une date de début et une date de fin.

3.  Dans l'onglet **Unités d'Org.**:

    ![](resources/images/maps/maps_event_layer_dialog_ORG_UNITS.png)

    -   Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Il est possible de sélectionner :

        -   Une ou plusieurs unités d'organisation spécifiques, ou

        -   An niveau relatif dans la hiérarchie des unités d'organisation, par rapport à l'utilisateur. En sélectionnant une **unité d'organisation d'un utilisateur**, les données cartographiques apparaîtront différemment pour les utilisateurs à différents niveaux dans la hiérarchie de l'unité d'organisation.

4.  Dans l'onglet **FILTRE**:

    ![](resources/images/maps/maps_event_layer_dialog_FILTER.png)

    -   Cliquez sur AJOUTER UN FILTRE et sélectionnez un élément de données disponible pour ajouter un nouveau filtre à l'ensemble de données.

        -   Pour les données de type _ensemble d'options_, vous pouvez sélectionner les options de la liste déroulante en utilisant la flèche vers le bas ou en commençant à saisir directement dans la case pour filtrer les options.

        -   Pour les données de type _nombre_, vous pouvez sélectionner des opérateurs tels que égal, non égal, supérieur ou inférieur à.

        -   Pour les données de type _booléen_ (oui/non), vous pouvez cocher la case si la condition doit être valide ou vraie.

        -   Pour les données de type _texte_, vous aurez deux choix : **Contient** implique que la requête correspond à toutes les valeurs qui contiennent la valeur de votre recherche, et **Est exact** implique que seules les valeurs qui sont complètement identiques à la valeur de votre requête seront renvoyées.

        Plusieurs filtres peuvent être ajoutés. Cliquez sur le bouton "Corbeille" à droite du filtre pour le supprimer.

5.  Dans l'onglet **STYLE**:

    ![](resources/images/maps/maps_event_layer_dialog_STYLE.png)

    -   Sélectionnez **Grouper les événements** pour regrouper les événements proches (groupe), ou **Voir tous les événements** pour afficher les événements individuellement.

    -   Sélectionnez une **couleur** pour l'événement ou les points de regroupement.

    -   Sélectionnez le **rayon** (entre 1 et 20) pour les événements.

    -   Sélectionnez **Afficher le tampon** pour afficher un tampon visuel autour de chaque événement. Le rayon du tampon peut être modifié ici. Cette option n'est disponible que si vous sélectionnez **Voir tous les événements** situé au dessus.

    -   Sélectionnez un **Style par élément de donnée** pour colorier les événements en fonction d'une valeur de données. Si vous choisissez également de regrouper les événements, les culsters s'afficheront alors sous forme de petits graphiques en beignet montrant la distribution des valeurs des données. Les options varient en fonction des différents types de données :

        -   **Ensembles d'options** : Sélectionnez une couleur pour chaque option d'un ensemble d'options. Vous pouvez définir des couleurs par défaut pour une option dans l'application Maintenance.

        -   **Nombres** : Vous pouvez styliser un élément de données numériques [de la même manière que les couches thématiques] (#using_maps_thematic_layer_style) en utilisant des légendes automatiques ou prédéfinies.

        -   **Booléens** : Choisissez une couleur pour vrai/oui et une autre pour faux/non.

6.  Cliquez sur **AJOUTER UNE COUCHE**.

### Modifier une couche d'évènements { #modify-an-event-layer }

1.  Dans le panneau de couches, cliquez sur l'icône d'édition (crayon) de la couche de l'évènement.

2.  Modifiez les paramètres des onglets DATA, PÉRIODE, FILTRE, UNITÉ D'ORG et STYLE. comme vous le souhaitez.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Liste et filtrage des événements { #listing-and-filtering-events }

Les couches d'événements ont une option **tableau de données** qui peut être activée ou désactivée à partir de la carte de la couche d'événements.

![](resources/images/maps/maps_event_layer_data_table.png)

Le tableau de données affiche les données formant la couche d'événements.

-   en cliquant sur un titre, le tableau sera trié en fonction de cette colonne tout en donnant la possibilité de basculer entre un classement ascendant et descendant.

-   entrer du texte ou des expressions dans les champs de filtre situé sous les titres appliquera ces filtres aux données et l'affichage s'ajustera selon le filtre. Les filtres sont appliqués comme suit :

    -   Identifiant

        filtrer par ID d'événement contenant le texte en question

    -   UNITÉ D'ORGANISATION

        filtrer selon le nom d'unité d'organisation contenant le texte en question

    -   TEMPS DE L'ÉVÉNEMENT

        filtrer selon le temps de l'événement contenant le texte donné

    -   TYPE

        filtrer par types d'affichage SIG contenant ce texte

    -   **Style par élément de données** : Si les événements sont définis selon un élément de données (par exemple le sexe), la valeur des données et la couleur peuvent toutes deux être filtrées.

    -   **Affichage dans les rapports** : Les éléments de données sélectionnés pour l'affichage dans les rapports figureront dans des colonnes séparées (voir ci-dessous comment les ajouter).

    -   Les valeurs numériques des données peuvent être filtrées par nombres spécifiques et/ou par plages, par exemple : 2,\>3&\<8

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.

### Modifier les informations dans le tableau des données de l'événement et les popups { #modify-information-in-event-data-table-and-popups }

Vous pouvez modifier les informations affichées dans la fenêtre fenêtre pop-up de l'événement.

![](resources/images/maps/maps_eventlayer_eventinfopopup.png)

1.  Ouvrez l'application **Maintenance**.

2.  Sélectionnez **Programme**.

3.  Cliquez sur le programme que vous souhaitez modifier et sélectionnez **2 Assigner des éléments de données**.

4.  Pour chaque élément de données que vous souhaitez afficher dans la fenêtre pop-up, sélectionnez **Afficher dans les rapports**.

5.  Cliquez sur **Sauvegarder**.

### Télécharger les données brutes de la couche Evénement { #download-raw-event-layer-data }

Les données brutes des couches Evénements peuvent être téléchargées au format GeoJSON pour une géo-analyse et un traitement plus avancés dans un logiciel SIG de bureau tel que [QGIS](https://www.qgis.org/). Les données téléchargées comprennent tous les événements individuels en tant que caractéristiques GeoJSON, y compris les attributs de chaque élément de données sélectionné pour **Afficher dans les rapports**

![](resources/images/maps/maps_data_download_dialog.png)

-   Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), puis sur **Télécharger les données**.

-   Sélectionnez le format de l'**ID** à utiliser comme clé pour les valeurs des éléments de données du fichier GeoJSON téléchargé. Trois options sont disponibles :

    -   **ID** - Utiliser l'identifiant unique de l'élément de données
    -   **Nom** - Utilisez le nom simple de l'élément de données (traduit)
    -   **Code** - Utilisez le code de l'élément de données

-   Choisissez d'utiliser ou non **des touches lisibles** pour d'autres attributs de l'événement, tels que la phase du programme, la latitude, la longitude, les données de l'événement et l'ID, le nom et le code de l'unité d'organisation. Lorsque cette option est **non** sélectionnée, ces valeurs seront alors l'identifiant lisible par l'ordinateur au lieu du nom lisible par l'homme (et traduit).

-   Cliquez sur le bouton **TELECHARGER** pour générer et télécharger un fichier GeoJSON. L'application de cartographie demandera au serveur DHIS2 des données qu'elle va ensuite traiter. Cette opération peut prendre plusieurs minutes.

-   Une fois que le fichier GeoJSON a été téléchargé, il peut être importé dans la plupart des applications logicielles SIG standard.

> Notez que les données téléchargées ne contiennent pas d'informations de style étant donné qu'elles ne sont pas prises en charge naturellement par le format GeoJSON. Les styles peuvent éventuellement être recréés dans des applications SIG externes en utilisant les attributs de chaque élément.

### Effacer une couche d'évènements { #clear-event-layer }

Pour effacer toutes les données de la couche d'un événement d'une carte :

1.  Dans la carte de couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches d'entités suivies { #using_maps_tracked_entity_layer }

La couche Entité suivie affiche la localisation géographique des entités suivies enregistrées dans le DHIS2. Lorsque les entités suivies ont des coordonnées de points ou de polygones associées, vous pouvez alors les explorer sur une carte.

![](resources/images/maps/maps_tracked_entity_layer.png)

Les couches d'entités suivies sont représentées par des cartes de couche dans le panneau des couches, telles que

En haut de la carte d'entité suivie, de gauche à droite, se trouvent les éléments suivants :

-   un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris.

-   Le titre et la période associés à la couche.

-   Un symbole de flèche pour réduire et élargir la carte d'entité suivie.

Au centre de la carte d'entité suivie se trouve une légende indiquant le style de la couche.

En bas de la carte d'entité suivie, de gauche à droite, on peut mener les actions suivantes :

-   Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

-   Un symbole d'oeil pour basculer la visibilité de la couche

-   Un curseur pour modifier la transparence de la couche

-   Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

    -   **Modifier la couche** est le même que le bouton Modifier ci-dessus

    -   **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'entité suivie { #maps_create_tracked_enity_layer }

Pour créer une couche d'entités suivies, choisissez **Entités suivies** sur la sélection **Ajouter une couche**. La boîte de dialogue de configuration de la couche d'entités suivies s'ouvre.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps/maps_tracked_entity_layer_dialog_DATA.png)

    -   Sélectionnez le **Type d'entité suivie** que vous souhaitez afficher sur la carte.

    -   Sélectionnez un **Programme** auquel appartiennent les entités suivies.

    -   Utilisez le champ **Statut du programme** pour sélectionner le statut d'inscription des entités suivies à inclure : Tout, Actif, Terminé ou Annulé.

    -   Définir le statut **Suivi** de l'entité suivie pour le programme donné.

2.  Dans l'onglet **Relations**

    ![](resources/images/maps/maps_tracked_entity_layer_dialog_RELATIONSHIPS.png)

    > **Caution**
    >
    > Displaying tracked entity relationships in Maps is an experimental feature

    -   Si un type d'entité suivie est sélectionné, vous pouvez alors cocher la case **Afficher les relations des entités suivies**.

    -   Une fois coché, vous pouvez sélectionner le type de relation à afficher sur la carte dans la liste déroulante. Seules les relations provenant du type d'entité suivie sélectionné sont disponibles.

3.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps/maps_tracked_entity_layer_dialog_PERIOD.png)

    -   Si aucun programme n'est sélectionné, vous pouvez alors fixer les dates de début et de fin de la dernière mise à jour des entités suivies.

    -   Lorsque vous sélectionnez un programme, vous pouvez définir la période à laquelle les entités suivies ont été mises à jour pour la dernière fois ou à laquelle elles ont été enregistrées ou inscrites au programme.

4.  Dans l'onglet **Unités d'Org.**:

    ![](resources/images/maps/maps_tracked_entity_layer_dialog_ORG_UNITS.png)

    -   Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :

        -   **Sélectionné seulement** : Inclut les entités suivies appartenant aux unités d'organisation sélectionnées uniquement.

        -   **Sélectionné et en dessous** : Inclut les entités suivies dans et juste en dessous des unités d'organisation sélectionnées.

        -   **Sélectionnés et tous en dessous** : Inclut les entités suivies dans les unités d'organisation sélectionnées et toutes celles se trouvant en dessous.

5.  Dans l'onglet **STYLE**:

    ![](resources/images/maps/maps_tracked_entity_layer_dialog_STYLE.png)

    -   Sélectionnez une **couleur** pour les points et les polygones des entités suivies.

    -   Sélectionnez la **taille de point** (rayon entre 1 et 20) pour les points.

    -   Sélectionnez **Afficher le tampon** pour afficher un tampon visuel autour de chaque entité suivie. La distance tampon en mètres peut être modifiée ici.

    -   Lorsque vous sélectionnez un type de relation dans l'onglet "Relations", vous pouvez sélectionner **couleur**, **taille du point** et **couleur de la ligne** pour les relations et les instances d'entités suivies connexes.

6.  Cliquez sur **AJOUTER/METTRE A JOUR UNE COUCHE**.

### Modifier une couche d'entités suivies { #modify-a-tracked-entity-layer }

1.  Dans le panneau de couches, cliquez sur l'icône d'édition (crayon) de la carte de couches d'entités suivies.

2.  Modifiez les paramètres des onglets DONNÉES, PÉRIODE, FILTRE, UNITÉ D'ORG et STYLE. comme vous le souhaitez.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Effacer une couche d'entité suivie { #clear-a-tracked-entity-layer }

Pour effacer une couche d'entité suivie d'une carte :

1.  Dans la carte de couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches d'infrastructures { #using_maps_facility_layer }

La couche d'infrastrctures affiche des icônes représentant les types d'établissements. Les polygones n'apparaissent pas sur la carte, assurez-vous donc de sélectionner un niveau de l'unité d'organisation incluant des intrastructures.

_Un polygone est une zone fermée sur une carte représentant un pays, un quartier ou un parc._

![](resources/images/maps/maps_facility_layer.png)

Les couches d'infrastructures sont représentées par des _cartes_ de couche comme par exemple :

En haut de la carte des infrastructures, de gauche à droite, se trouvent :

-   un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

-   Le titre **Infrastructures**

-   Un symbole d'oeil pour basculer la visibilité de la couche

-   Un symbole de flèche pour réduire et agrandir la carte des infrastructures

Au centre de la carte des infrastructures se trouve une légende indiquant la représentation de l'ensemble de groupes.

En bas de la carte des infrastructures, de gauche à droite, se trouvent :

-   Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

-   Un curseur pour modifier la transparence de la couche

-   Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

    -   Un bouton **tableau de données** pour afficher ou masquer le tableau de données associé à la couche

    -   **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

    -   **Modifier la couche** est le même que le bouton Modifier ci-dessus

    -   **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'infrastructures { #create-a-facility-layer }

Pour créer une couche d'infrastructures, choisissez **Infrastructures** dans **Ajouter une couche**. La boîte de dialogue de configuration de la couche de l'infrastructure s'ouvre.

1.  Dans l'onglet **ENSEMBLE DE GROUPES**:

    ![](resources/images/maps/maps_facility_layer_dialog_GROUPSET.png)

    -   Sélectionnez un **ensemble de groupes** dans la liste des ensembles de groupes d'unités d'organisation définis pour votre instance de DHIS2.

2.  Dans l'onglet **UNITÉS D'ORGANISATION**

    ![](resources/images/maps/maps_facility_layer_dialog_ORG_UNITS.png)

    -   sélectionnez le(s) niveau(x) et/ou le(s) groupe(s) de l'unité d'organisation dans la liste de sélection sur le côté droit.

    -   Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Il est possible de sélectionner :

        -   Une ou plusieurs unités d'organisation spécifiques, ou

        -   An niveau relatif dans la hiérarchie des unités d'organisation, par rapport à l'utilisateur. En sélectionnant une **unité d'organisation d'un utilisateur**, les données cartographiques apparaîtront différemment pour les utilisateurs à différents niveaux dans la hiérarchie de l'unité d'organisation.

3.  Dans l'onglet **STYLE**:

    ![](resources/images/maps/maps_facility_layer_dialog_STYLE.png)

    -   sélectionnez le style que vous souhaitez appliquer aux infrastructures

        -   Afficher les étiquettes

            Permet d'afficher les marques sur la couche. La taille de police, le poids et la couleur peuvent être modifiés ici.

        -   Afficher le buffer

            Permet d'afficher un buffer visuel sur la couche autour de chaque infrastructure. Le rayon du buffer peut être modifié ici.

4.  Cliquez sur **AJOUTER UNE COUCHE**.

### Créer ou modifier une couche d'infrastructures { #create-or-modify-a-facility-layer }

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) de couche de la carte de l'infrastructure

2.  Modifiez les paramètres dans les onglets ENSEMBLE DE GROUPES, UNITÉS D'ORGANISATION et STYLE.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Filtrer les valeurs dans une couche d'infrastructures { #filter-values-in-a-facility-layer }

Les couches d'infrastructures ont une option **table de données** qui peut être activée ou désactivée depuis la couche de la carte de l'infrastructure.

![](resources/images/maps/maps_facility_layer_data_table.png)

La table de données affiche les données qui composent la couche de l'infrastructure.

-   en cliquant sur un titre, le tableau sera trié en fonction de cette colonne tout en donnant la possibilité de basculer entre un classement ascendant et descendant.

-   entrer du texte ou des expressions dans les champs de filtre situé sous les titres appliquera ces filtres aux données et l'affichage s'ajustera selon le filtre. Les filtres sont appliqués comme suit :

    -   NOM

        filtrer par noms contenant ce texte

    -   Identifiant

        filtrer par Identifiants contenant ce texte

    -   TYPE

        filtrer par types d'affichage SIG contenant ce texte

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.

### Rechercher une infrastructure { #search-for-a-facility }

Le champ filtre de NOMS dans le tableau de données constitue un moyen efficace de rechercher des infrastructures individuellement.

### Supprimer une couche d'infrastructures { #remove-facility-layer }

Pour effacer toutes les données d'une couche d'infrastructures :

1.  Dans la carte de couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

### Gérer les infrastructures dans une couche { #manage-facilities-in-a-layer }

Vous pouvez avoir des infrastructures dans les couches **Infrastructure**, **Frontière** et **Thématique**

#### Relocaliser une infrastructure { #relocate-a-facility }

1.  Faites un clique droit sur une infrastructure et cliquez sur **Relocaliser**.

2.  Placez le curseur dans le nouvel emplacement.

    Les nouvelles coordonnées sont stockées de façon permanente. Cette action ne peut pas être annulée.

#### Permuter la longitude et la latitude d'une infrastructure { #swap-longitude-and-latitude-of-a-facility }

1.  Faites un clique droit sur une infrastructure et cliquez sur **Permuter la longitude/latitude**.

    Ceci est utile au cas où un utilisateur inverserait les coordonnées de latitude et de longitude lors de la création de l'unité d'organisation.

#### Afficher les informations de l'infrastructure { #display-facility-information }

Vous pouvez afficher les informations sur l'unité d'organisation définies par l'administrateur comme suit :

<table>
<caption>Afficher les informations sur les unités d'organisation</caption>
<colgroup>
<col style="width: 40%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="header">
<th>Fonction</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Afficher les informations pour la période en cours</p></td>
<td><ol type="1">
<li><p>Cliquez sur un établissement.</p></li>
</ol></td>
</tr>
<tr class="even">
<td><p>Afficher les informations pour une période sélectionnée</p></td>
<td><ol type="1">
<li><p>Faites un clic droit sur une installation et cliquez <strong>Afficher les informations</strong>.</p></li>
<li><p>Dans la <strong>section</strong> Données sur l'infrastructure, selectionnez une periode.</p></li>
</ol>
<blockquote>
<p><strong>N.B.</strong></p>
<p>Vous pouvez configurer les données sur l'infrastructure affichées dans l' <strong>Application</strong> Paramètres système</p>
</blockquote></td>
</tr>
</tbody>
</table>

## Gérer les calques frontières { #using_maps_boundary_layer }

La couche frontière affiche les bordures et les emplacements de votre unité d'organisation. Cette couche est particulièrement utile si vous êtes hors ligne et n'avez pas accès aux cartes d'arrière-plan.

![](resources/images/maps/maps_bound_layers.png)

Les couches frontières sont représentées par des _cartes_ de couche dans le panneau de couches, par exemple :

En haut de la carte frontière, de gauche à droite, se trouvent :

-   un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

-   Le titre **Frontières**

-   Un symbole de flèche pour réduire et agrandir la carte frontière

Au bas de la carte frontière, de gauche à droite, se trouvent :

-   Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

-   Un symbole d'oeil pour basculer la visibilité de la couche

-   Un curseur pour modifier la transparence de la couche

-   Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

    -   Un bouton **tableau de données** pour afficher ou masquer le tableau de données associé à la couche

    -   **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

    -   **Modifier la couche** est le même que le bouton Modifier ci-dessus

    -   **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche frontière { #create-a-boundary-layer }

Pour créer une couche frontière, choisissez **Frontières** dans la selection **Ajouter une couche**. La boîte de dialogue de configuration de la couche frontière s'ouvre.

1.  Dans l'onglet **UNITÉS D'ORGANISATION**

    ![](resources/images/maps/maps_boundary_layer_dialog_ORG_UNITS.png)

    -   sélectionnez le(s) niveau(x) et/ou le(s) groupe(s) de l'unité d'organisation dans la liste de sélection sur le côté droit.

    -   Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Il est possible de sélectionner :

        -   Une ou plusieurs unités d'organisation spécifiques, ou

        -   An niveau relatif dans la hiérarchie des unités d'organisation, par rapport à l'utilisateur. En sélectionnant une **unité d'organisation d'un utilisateur**, les données cartographiques apparaîtront différemment pour les utilisateurs à différents niveaux dans la hiérarchie de l'unité d'organisation.

2.  Dans l'onglet **STYLE**:

    ![](resources/images/maps/maps_boundary_layer_dialog_STYLE.png)

    -   sélectionnez le style que vous souhaitez appliquer aux frontières.

        -   Afficher les étiquettes

            Permet d'afficher les étiquettes sur la couche. La taille de la police et le poids peuvent être modifiés ici.

        -   Rayon de point

            Définit le rayon de base lorsque des éléments de type point, tels que les installations, sont présentés sur la couche frontière.

3.  Cliquez sur **AJOUTER UNE COUCHE**.

### Modifier une couche frontière { #modify-a-boundary-layer }

1.  Dans le panneau de couche, cliquez sur l'icône Édition (crayon) située sur la carte de la couche frontière.

2.  Modifiez les paramètres des onglets UNITÉS D'ORGANISATION et STYLE à votre convenance.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Filtrer les valeurs dans une couche frontière { #filter-values-in-a-boundary-layer }

Les couches frontières ont une option **table de données** qui peut être activée ou désactivée depuis la carte de la couche frontière.

![](resources/images/maps/maps_bound_layer_data_table.png)

Le tableau de données affiche les données qui forment la couche frontière

-   en cliquant sur un titre, le tableau sera trié en fonction de cette colonne tout en donnant la possibilité de basculer entre un classement ascendant et descendant.

-   entrer du texte ou des expressions dans les champs de filtre situé sous les titres appliquera ces filtres aux données et l'affichage s'ajustera selon le filtre. Les filtres sont appliqués comme suit :

    -   NOM

        filtrer par noms contenant ce texte

    -   NIVEAU

        filtrez le niveau par nombres et/ou plages de valeurs, par exemple : 2,\>3&\<8

    -   PARENT

        filtrer par noms de parent contenant ce texte

    -   Identifiant

        filtrer par Identifiants contenant ce texte

    -   TYPE

        filtrer par types d'affichage SIG contenant ce texte

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.

### Rechercher une unité d'organisation { #search-for-an-organisational-unit }

Le champ de filtre NOM dans le tableau de données constitue un moyen efficace de recherche des unités d'organisation individuelles affichées dans la couche frontière.

### Naviguer entre les hiérarchies d'organisation { #navigate-between-organisation-hierarchies }

Vous pouvez modifier la cible de la couche frontière dans la hiérarchie sans utiliser l'interface utilisateur de niveau / parent.

1.  Faites un clique droit sur l'une des frontières.

2.  Sélectionnez **Accéder au niveau supérieur** ou **Accéder au niveau inférieur**.

    L'option d'exploration est désactivée si vous vous trouvez au niveau le plus bas. De même, l'option d'exploration en amont est désactivée à partir du niveau le plus élevé.

### Supprimer une couche frontière { #remove-boundary-layer }

Pour effacer toutes les données d'une couche frontière :

1.  Dans la carte de couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer une couche Earth Engine { #using_maps_gee }

![](resources/images/maps/maps_earth_eng_layer.png)

The layers from Google Earth Engine lets you display and aggregate external data to your organisation units. Use the population layer to calculate the number of people living in a district, or within a distance from a health facility. The elevation layer allows you to find the lowest, highest and mean elevation. Use the landcover layer to see the forest cover, croplands or urban areas, and calculate the percentage for each organisation unit.

Les couches suivantes sont prises en charge :

![](resources/images/maps/maps_earth_eng_layer_types.png)

-   **Population**: Detailed population data from WorldPop showing the estimated number of poeple living in an area. Available for yearly periods from 2000 and onwards.

-   **Population age groups**: Estimated number of people living in an area, grouped by age and gender.

-   **Altitude** : altitude au-dessus du niveau de la mer.

-   **Precipitation**: The values are in millimeters within 5 days periods. Updated monthly, during the 3rd week of the following month. Collected from satellite and weather stations on the ground.

-   **Temperature**: Land surface temperatures collected from satellite. Blank spots will appear in areas with a persistent cloud cover.

-   **Couverture terrestre** : 17 types de couverture terrestre distincts collectés à partir de satellites par la NASA.

### Créer une couche Earth Engine { #create-an-earth-engine-layer }

To create an Earth Engine layer, choose the desired layer from the **Add layer** selection. This opens the layer configuration dialog.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps/maps_ee_layer_dialog_DATA.png)

    -   For "population age groups" you can select the age/gender **groups** you would like to include when aggregating the data.

    -   Select the **aggregation methods** you would like to use when calculating values for the selected organisation units.

        -   **Sum**: Calculates the total number within each organisation unit. Recommended to use for the population layers.

        -   **Min**: Returns the minimum value in the layer unit displayed below the selection. For population layers it will be the minimum _people per hectar_. For elevation layer it will return the lowest elevation (meters above sea level).

        -   **Max**: Returns the maximum value in the layer unit. For population layers it will be the minimum _people per hectar_. For elevation layer it will return the highest elevation for each organisation unit.

        -   **Mean**: Returns the mean value in the layer unit. For population layers it will be the mean _people per hectar_. For precipitation layer it will be the mean rainfall in millimeters across the organisation unit.

        -   **Median**: Returns the mean value in the layer unit. For population layers it will be the median _people per hectar_. For temperature layer it will be the median °C during daytime for the organisation unit.

        -   **Standard deviation**: Returns the standard deviation value in the layer unit.

        -   **Variance** : renvoie la valeur de variance dans l'unité de couche.

2.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps/maps_ee_layer_dialog_PERIOD.png)

    -   Select the period for the data source. The available periods are set by data provider. There is only one period for the "population age groups" layer, while the "population" layer has yearly data available from 2000 and onwards. Precipitation data is available in 5 days periods, and temperature data for 8 days periods.

3.  Dans l'onglet **Unités d'Org.**:

    ![](resources/images/maps/maps_ee_layer_dialog_ORG_UNITS.png)

    -   Select the organisation units you where you want to see aggregated data values. It is possible to select either

        -   Une ou plusieurs unités d'organisation spécifiques, des niveaux d'unité d'organisation dans la hiérarchie, des groupes d'unités d'organisation, ou

        -   An niveau relatif dans la hiérarchie des unités d'organisation, par rapport à l'utilisateur. En sélectionnant une **unité d'organisation d'un utilisateur**, les données cartographiques apparaîtront différemment pour les utilisateurs à différents niveaux dans la hiérarchie de l'unité d'organisation.

4.  Dans l'onglet **STYLE**

    ![](resources/images/maps/maps_ee_layer_dialog_STYLE.png)

    -   Modifier les paramètres spécifiques au type de couche.

    -   Ajustez la plage, les étapes et les couleurs de la légende comme vous le souhaitez.

    -   If you select organisation units having a single point coordinate (facilities) you can set a radius buffer to calculate the data value within. A radius of 5000 meters will aggregate all values available within a 5 km distance from a facility.

5.  Cliquez sur **AJOUTER UNE COUCHE**.

Click on the map regions or facilities to see the aggregation result for that organisation unit.

### Listing of data values { #listing-of-data-values }

Earth Engine layers have a **data table** option that can be toggled on or off from the layer card.

![](resources/images/maps/maps_ee_layer_data_table.png)

Le tableau de données affiche toutes les valeurs agrégées pour les unités d'organisation sélectionnées.

-   en cliquant sur un titre, le tableau sera trié en fonction de cette colonne tout en donnant la possibilité de basculer entre un classement ascendant et descendant.

-   entrer du texte ou des expressions dans les champs de filtre situé sous les titres appliquera ces filtres aux données et l'affichage s'ajustera selon le filtre. Les filtres sont appliqués comme suit :

-   NOM

    filtrer selon le nom d'unité d'organisation contenant le texte en question

-   Identifiant

    filtrer par ID d'événement contenant le texte en question

-   TYPE

    filtrer par types d'affichage SIG contenant ce texte

-   VALEURS D'AGRÉGATION

    Il existe une colonne pour chacun des types d'agrégation sélectionnés

    numeric data values can be filtered by given numbers, and/or ranges, for example: 2,\>3&\<8

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte.

## Ajouter des couches de carte externes { #using_maps_external_map_layers }

![](resources/images/maps/maps_terrain_imagery.png)

Les couches de carte externes sont représentées comme suit :

-   Cartes de référence

    Celles-ci sont disponibles dans la carte **carte de référence** dans le panneau des couches et sont sélectionnéss au même titre que n'importe quelle autre carte de référence.

-   Les superpositions

    Celles-ci sont disponibles dans la sélection **Ajouter une couche**. Contrairement aux cartes de référence, les superpositions peuvent être placées au-dessus ou au-dessous de toute autre couche de superposition.

Les couches superposées sont représentées par des _cartes_ de couches supplémentaires dans le panneau des couches comme suit :

En haut de la carte superposée, de gauche à droite, vous trouverez :

-   un champ de saisie permettant de faire glisser et de réorganiser les couches avec la souris

-   le titre de la couche de carte externe

-   Un symbole de flèche pour réduire et agrandir la carte de superposition

Au milieu de la carte se trouve une légende si la couche en a une.

En bas de la carte de superposition, de gauche à droite, se trouvent :

-   Un curseur pour modifier la transparence de la couche

-   Une icône de suppression (corbeille) pour supprimer la couche de la carte actuelle.

## Le menu Fichier { #using_maps_file_menu }

![](resources/images/maps/maps_file_menu.png)

Utilisez le menu **Fichier** pour gérer vos cartes. Plusieurs éléments du menu seront désactivés jusqu'à ce que vous ouvriez ou enregistriez une carte.

La sauvegarde de vos cartes vous permet de les restaurer facilement par la suite. Elle vous donne également la possibilité de les partager avec d'autres utilisateurs sous forme d'interprétations ou de les mettre sur le tableau de bord. Vous pouvez enregistrer tous les types de configurations de couche comme favoris.

### Créer une nouvelle carte { #create-a-new-map }

Cliquez sur **Fichier** \> **Nouveau**.

NB ! Cette action effacera les couches de carte actuelles que vous avez créées sans les sauvegarder.

### Ouvrir une nouvelle carte { #open-a-new-map }

1.  Cliquez sur **Fichier** \> **Ouvrir**. Une boîte de dialogue s'ouvre avec une liste de cartes.

2.  Recherchez le favori que vous souhaitez ouvrir. Vous pouvez soit utiliser \< et \> ou le champ de recherche pour trouver un favori préalablement enregistré. La liste est filtrée par chaque caractère que vous entrez. Vous pouvez filtrer la liste en sélectionnant **Afficher tout**, **Créé par moi** ou **Créé par d'autres**.

3.  Cliquez sur le nom de la carte que vous souhaitez ouvrir.

### Enregistrer une carte { #save-a-map }

Après création d'une carte, il est nécessaire de la sauvegarder pour une utilisation ultérieure :

1.  Cliquez sur **Fichier** \> **Enregistrer**.

2.  Entrez un **Nom** (obligatoire) et une **Description** (facultative) la première fois que vous sauvegardez une carte.

3.  Cliquez sur **SAUVEGARDER**.

### Enregistrer une copie de la carte { #save-a-copy-of-a-map }

1.  Cliquez sur **Fichier** \> **Enregistrer sous**.

2.  Indiquez un **Nom** (obligatoire) et une **Description** (facultative) pour la carte.

3.  Cliquez sur **SAUVEGARDER**.

### Renommer une carte { #rename-a-map }

1.  Cliquez sur **Fichier** \> **Renommer**.

2.  Entrez un nouveau **Nom** et/ou **Description** pour votre carte.

3.  Cliquez sur **RENOMMER**. La carte est alors mise à jour.

### Traduire une carte { #translate-a-map }

1.  Cliquez sur **Fichier** \> **Traduire**.

2.  Sélectionnez la **Locale** (langue) de votre traduction.

3.  Entrez un **Nom** et une **Description** traduits. Le texte original apparaîtra en dessous du champ.

4.  Cliquez sur **SAUVEGARDER**.

### Modifier les paramètres de partage d'une carte { #modify-sharing-settings-for-a-map }

Après avoir créé et enregistré une carte, vous pouvez alors la partager avec tous les utilisateurs ou un groupe d'utilisateurs. Pour modifier les paramètres de partage :

1.  Cliquez sur **Fichier** \> **Partager**. La boîte de dialogue des paramètres de partage s'ouvre.

2.  Dans la zone de texte, recherchez le nom de l'utilisateur ou du groupe d'utilisateurs avec lequel vous souhaitez partager votre favori et sélectionnez-le.

    L'utilisateur ou le groupe choisi est ajouté à la liste des destinataires.

    Répétez cette étape pour ajouter plus de groupes d'utilisateurs.

3.  Si vous souhaitez autoriser l'accès externe, cochez la case correspondante.

4.  Pour chaque groupe d'utilisateurs, choisissez un paramètre d'accès. Les options possibles sont les suivantes :

    -   Aucun (uniquement pour les groupes par défaut, car ils ne peuvent pas être supprimés)

    -   Lecture seule

    -   Lecture et saisie

5.  Cliquez sur **FERMER** pour fermer la boîte de dialogue.

### Obtenir le lien vers une carte { #get-the-link-to-a-map }

1.  Cliquez sur **Fichier** \> **Lien vers le site**. Une boîte de dialogue de lien s'ouvre.

2.  Copiez le lien.

### Supprimer une carte { #delete-a-map }

1.  Cliquez sur **Fichier** \> **Supprimer**. Une boîte de dialogue de confirmation s'affiche.

2.  Cliquez sur **SUPPRIMER** pour confirmer la suppression du favori. Votre carte est supprimée et les couches sont supprimées de l'affichage.

## Interprétations de carte { #mapsInterpretation }

Une interprétation est une description d'une carte à une période donnée. Cette information est visible dans l'application **Dashboard**. Cliquez sur **Interprétations** en haut à droite de l'espace de travail pour ouvrir le panneau des interprétations. Le bouton n'est cliquable que si la carte est enregistrée.

![](resources/images/maps/maps_interpretations_panel.png)

### Afficher les interprétations basées sur des périodes relatives { #view-interpretations-based-on-relative-periods }

Pour afficher les interprétations pour des périodes relatives, par exemple des interprétations de l'année dernière :

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez sur **Interprétations** en haut à droite de l'espace de travail pour ouvrir le panneau des interprétations.

3.  Cliquez sur une interprétation. Votre carte affiche les données et la date en fonction de la date de création de l'interprétation. Pour visualiser d'autres interprétations, cliquez dessus.

### Écrire l'interprétation pour une carte { #write-interpretation-for-a-map }

Pour créer une interprétation, vous devez d'abord créer une carte et l'enregistrer. Si vous avez partagé votre carte avec d'autres personnes, l'interprétation que vous écrivez sera donc visible par ces personnes.

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez sur **Interprétations** en haut à droite de l'espace de travail pour ouvrir le panneau des interprétations.

3.  Un champ de texte apparaît avec un espace "Ecrire une interprétation" pour les utilisateurs ayant un accès en lecture au favori.

4.  Dans le champ de texte, tapez un commentaire, une question ou une interprétation. Vous pouvez également mentionner d'autres utilisateurs avec '@nomd'utilisateur'. Commencez par taper '@' suivi par les premières lettres du nom d'utilisateur ou du nom réel et une barre de mention affichera les utilisateurs disponibles. Les utilisateurs mentionnés recevront un message DHIS2 en interne à propos de  l'interprétation ou le commentaire. Vous pouvez voir l'interprétation dans l'application **Tableau de bord**.

5.  Cliquez sur **SAUVEGARDER** si vous souhaitez que votre interprétation ait les mêmes paramètres de partage que la carte.

    Cliquez sur **SAUVEGARDER ET & PARTAGER** si vous souhaitez modifier les paramètres de partage (voir ci-dessous) pour votre interprétation.

### Modifier les paramètres de partage d'une interprétation { #change-sharing-settings-for-an-interpretation }

1.  Cliquez sur une interprétation (voir ci-dessus comment visualiser une interprétation).

2.  Cliquez sur **Partager** sous l'interprétation. La boîte de dialogue des paramètres de partage s'ouvre.

3.  Recherchez et ajoutez un utilisateur et des groupes d'utilisateurs avec lesquels vous souhaitez partager votre carte.

4.  Modifiez les paramètres de partage pour les utilisateurs que vous souhaitez modifier :

    -   **Lecture et écriture** : Tout le monde peut consulter et éditer l'objet.

    -   **Lecture uniquement** : tout le monde peut consulter l'objet.

    -   **Pas d'accès** : Le public n'aura pas accès à l'objet. Ce paramètre n'est applicable qu'à l'Accès public.

5.  Cliquez sur **FERMER** après la mise à jour des paramètres de partage.

## Enregistrer une carte en tant qu'image { #using_maps_image_export }

Vous pouvez télécharger votre carte sous forme d'image en cliquant sur le bouton "Télécharger" dans le menu du haut

![](resources/images/maps/maps_download.png)

Le téléchargement de cartes n'est pas pris en charge dans Internet Explorer ou Safari, nous recommandons d'utiliser donc Google Chrome ou Firefox.

1.  Choisissez si vous voulez inclure le nom de la carte ou non. Cette option n'est disponible que si la carte est enregistrée.

2.  Choisissez si vous voulez inclure la légende de la carte. Vous pouvez placer la légende dans l'un des 4 coins de votre carte.

3.  Cliquez sur **Télécharger** pour télécharger votre carte.

## Rechercher un emplacement { #using_maps_search }

La fonction de recherche d'emplacement vous permet de rechercher presque n'importe quel lieu ou adresse. Cette fonction est utile pour localiser par exemple des sites, structures sanitaires, villages ou villes sur la carte.

![](resources/images/maps/maps_place_search.png)

1.  Sur le côté droit de la fenêtre Cartes, cliquez sur l'icône loupe.

2.  Saisissez l'emplacement que vous recherchez.

    Une liste des emplacements correspondants apparaît au fur et à mesure que vous saisissez.

3.  Dans la liste proposée, sélectionnez un emplacement. Une épingle indique l'emplacement sur la carte.

## Mesurer des distances et des surfaces sur une carte { #using_maps_measure_distance }

1.  Dans le coin supérieur gauche de la carte, placez le curseur sur le bouton **Mesurer distances et surfaces** icône (règle) et cliquez sur **Créer une nouvelle mesure**.

2.  Ajouter des points à la carte.

3.  Cliquez sur **Terminer la mesure**.

![](resources/images/maps/maps_measure_distance.png)

## Obtenir la latitude et la longitude d'un emplacement { #using_maps_latitude_longitude }

Faites un clique droit sur un point de la carte et sélectionnez **Afficher la longitude/latitude**. Les valeurs s'affichent dans une fenêtre pop-up.

## Voir également { #see-also }

-   [Manage legends](https://docs.dhis2.org/master/en/user/html/manage_legend.html)

# Analyser des données dans des tableaux croisés dynamiques { #pivot }

## À propos de l'application de tableaux croisés dynamiques { #pivot_about }

Avec l'application **Tableau croisé dynamique**, vous pouvez créer des tableaux croisés dynamiques basés sur des dimensions de données disponibles dans DHIS2. Un tableau croisé dynamique est un outil dynamique pour l'analyse des données qui vous permet de manipuler et d'organiser les données en fonction de leurs dimensions. Voici des exemples de dimensions de données dans DHIS2 :

-   la dimension de données elle-même (par exemple éléments de données, indicateurs et événements)

-   périodes (représentant la période de temps pour les données)

-   hiérarchie d'organisation (représentant la localisation géographique des données)

À partir de ces dimensions, vous pouvez sélectionner librement les _éléments de dimension_ à inclure dans le tableau croisé dynamique. Vous pouvez créer des dimensions supplémentaires dans DHIS2 avec la fonctionnalité de l'ensemble de groupes. Cela permet d'avoir de différents itinéraires agrégation, tels que l'agrégation par « Partenaire » ou par type de structure sanitaire.

Un tableau croisé dynamique peut organiser des dimensions de données sur des _colonnes_, _lignes_ et sous forme de _filtres_. Lorsque vous placez une dimension de données sur des colonnes, le tableau croisé dynamique affichera une colonne par élément de dimension. Si vous placez plusieurs dimensions de données par colonnes, le tableau croisé dynamique affiche une colonne pour toutes les combinaisons d'éléments dans les dimensions sélectionnées. Quand vous placez une dimension de données sur les lignes, le tableau croisé dynamique affiche une ligne par dimension de façon similaire. Les dimensions que vous sélectionnez comme filtres ne seront pas incluses dans le tableau croisé dynamique, mais agrégeront et filtreront les données du tableau.

> **Tip**
>
> -   You must select at least one dimension on columns or rows.
>
> -   You must include at least one period.
>
> -   Data element group sets and reporting rates can't appear in the same pivot table.
>
> -   A pivot table can't contain more than the maximum number of analytic records which have been specified in the system settings. The maximum number of records could also be constrained by the maximum RAM which is available to your browser. You will be prompted with a warning if your requested table exceeds a particular size. From this prompt, you can either cancel the request or continue building the table. Consider making smaller tables instead of one table which displays all of your data elements and indicators together.
>
> -   The **Pivot Table** app supports drill-down and up for periods and organisation unit. This means that you can for example drill down from yearly periods to quarters, months and weeks inside a pivot table. You can also drill down from the global organisation unit to countries, provinces and facilities.

## Créer un tableau croisé dynamique { #pivot_create }

1.  Ouvrez l'application **Tableau croisé dynamique**.

2.  Dans le menu de gauche, sélectionnez les éléments de dimension que vous souhaitez analyser. Il peut s'agir par exemple des éléments de données ou des indicateurs.

3.  Cliquez sur **Mise en page** et organisez les dimensions de données sous forme de colonnes, de lignes et de filtres.

    Vous pouvez conserver la sélection par défaut si vous le souhaitez.

4.  Cliquez sur **Mettre à jour**.

Dans cet exemple, les indicateurs sont répertoriés sous forme de colonnes et les périodes sous forme de lignes.

![](resources/images/pivot_table/basic_pivot.png)

### Sélectionner les éléments de dimension { #select-dimension-items }

Le menu de gauche répertorie les sections de toutes les dimensions de données disponibles. Dans chaque section, vous pouvez sélectionner un nombre quelconque d'éléments de dimension. Vous pouvez par exemple ouvrir la section des éléments de données et sélectionner autant d'éléments de données de la liste disponible que vous souhaitez. Vous pouvez sélectionner un élement en le marquant et en cliquant sur la flèche dans l'en-tête de la section ou tout simplement en double-cliquant sur l'élément. Avant de pouvoir utiliser une dimension de données dans votre tableau croisé dynamique, vous devez au moins sélectionner un élément de dimension. Si vous arrangez une dimension sous forme de colonnes ou de lignes mais ne sélectionnez aucun élément de dimension, la dimension sera ignorée.

Vous devez choisir au moins un type de dimension de données pour créer un tableau croisé dynamique. Les types disponibles sont décrits dans ce tableau :

<table>
<caption>Types de dimension de données</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Types de dimension de données</th>
<th>Définition</th>
<th>Exemples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Indicateurs</td>
<td>Un indicateur est une formule calculée basée sur des éléments de données.</td>
<td>Couverture de la vaccination dans un arrondissement spécifique.</td>
</tr>
<tr class="even">
<td>Éléments de données</td>
<td>Représente le phénomène pour lequel des données ont été saisies.</td>
<td>Nombre de cas de paludisme ; nombre de doses de BCG administrées.</td>
</tr>
<tr class="odd">
<td>Ensemble de données</td>
<td>Une collection d'éléments de données regroupés pour la collecte de données. Vous pouvez sélectionne r:
<ul>
<li><p><strong>Taux de rapport</strong>: le pourcentage de rapports réels par rapport au nombre de rapports prévus</p></li>
<li><p><strong>Taux de rapport à temps</strong>: les taux de rapport basés sur les soumissions de formulaires à temps. Une soumission dans les délais doit avoir lieu dans un délai de quelques jours à compter de la période de rapport.</p></li>
<li><p><strong>Rapports réels</strong>: le nombre réel de rapports</p></li>
<li><p><strong>Rapports réels à temps</strong>: le nombre réels de raports basés sur les soumissions de formulaires à temps. Une soumission dans les délais doit avoir lieu dans un délai de quelques jours à compter de la période de rapport.</p></li>
<li><p><strong>Rapports prévus</strong>: le nombre de rapports prévus en fonction des unités d'organisation auxquelles l'ensemble des données et la fréquence de rapport ont été attribués.</p></li>
</ul></td>
<td>Taux de rapport pour les formulaires de vaccination et de morbidité.</td>
</tr>
<tr class="even">
<td>Éléments de données d'événements</td>
<td>Un élément de données qui fait partie d'un programme représentant des événements qui ont été saisis.</td>
<td>Poids et taille moyens des enfants dans un programme de nutrition.</td>
</tr>
<tr class="odd">
<td>Indicateurs du programme</td>
<td>Une formule calculée basée sur des éléments de données dans un programme représentant des événements.</td>
<td>Indice de masse corporelle moyen pour les enfants participant à un programme de nutrition.</td>
</tr>
</tbody>
</table>

Vous pouvez combiner ces dimensions pour afficher, par exemple, des données agrégées avec des taux de rapport ou des éléments de données d'événement avec les indicateurs du programme, le tout dans les mêmes tableaux croisés dynamiques. Pour la dimension de donnée de"l'élément de donnée", vous pouvez également sélectionner "Totaux" et "Détails", ce qui vous permettra de voir différentes options de combinaison de catégories sur le même tableau croisé dynamique.

Pour la dimension période, vous pouvez choisir d'utiliser des périodes fixes ou périodes relatives. "Janvier 2012" est un exemple de période fixe. Pour sélectionner des périodes fixes, commencez par sélectionner un type de période à partir de la liste des types de période. Vous pouvez ensuite sélectionner des périodes dans la liste des périodes disponibles.

Les périodes relatives sont des périodes relatives à la date du jour. Des exemples de périodes relatives sont entre autres : "Le mois dernier", "Les 12 derniers mois", "Les 5 dernières années". Vous pouvez sélectionner des périodes relatives en cochant les cases correspondantes. Le principal avantage de l'utilisation des périodes relatives réside dans le fait que lorsque vous sauvegardez un tableau croisé dynamique favori, il se mettra à jour au fil du temps avec les données les plus récentes sans que vous ayez besoin de le mettre à jour constamment.

Pour la dimension unité d'organisation, vous pouvez sélectionner un nombre quelconque d'unités d'organisation de la hiérarchie. Pour sélectionner toutes les unités d'organisation sous une unité d'organisation parente spécifique, faites un clic droit et cliquez "Sélectionner tous les enfants". Pour sélectionner manuellement plusieurs unités d'organisation, maintenez la touche **Ctrl** enfoncée tout en cliquant sur les unités d'organisation. Vous pouvez cocher "Unité d'organisation d'utilisateur", "Sous-unités d'utilisateur" ou "Sous-unités x2 d'utilisateur" afin d'insérer dynamiquement la ou les unités d'organisation associée(s) à votre compte d'utilisateur. Ceci est utile lorsque vous enregistrez un tableau croisé dynamique en favori et souhaitez le partager avec d'autres utilisateurs, de manière à ce que les unités d'organisation liées au compte de l'autre utilisateur soient utilisées lors de l'affichage du favori.

![](resources/images/pivot_table/period_dimension.png)

Les dimensions dynamiques peuvent être constituées d'ensembles de groupes d'unités d'organisation, d'ensembles de groupes d'éléments de données, ou d'ensembles de groupes d'options de catégorie qui ont été configurés avec le type de "Désagrégation". Une fois la configuration des ensembles de groupes terminée, ceux-ci seront disponibles dans les tableaux croisés dynamiques, et pourront être utilisés comme dimension d'analyse supplémentaire, par exemple pour analyser des données agrégées par type d'unité d'organisation ou de partenaire d'exécution. Les dimensions dynamiques fonctionnent de la même manière que les dimensions fixes.

> **Astuce**
>
> Certaines dimensions dynamiques peuvent contenir de nombreux éléments. Cela peut causer des problèmes avec certains navigateurs en raison de la longueur de l'URL lorsque plusieurs membres de la dimension sont sélectionnés. Une case spéciale "Tout" à cocher est disponible pour les dimensions dynamiques, ce qui vous permet d'inclure tous les éléments de dimension disponibles dans votre tableau croisé dynamique, sans avoir à spécifier chaque membre de la dimension.

### Modifier la mise en page du tableau croisé dynamique { #modify-pivot-table-layout }

Après avoir sélectionné les dimensions des données, il est temps d'organiser votre tableau croisé dynamique. Cliquez sur "Mise en page" dans le menu du haut pour ouvrir l'écran de mise en page. Dans cet écran, vous pouvez positionner vos dimensions de données sous forme de colonnes, de lignes ou de filtres en cliquant et en faisant glisser les dimensions de la liste des dimensions vers les listes respectives de colonnes, de lignes et de filtres. Vous pouvez définir un nombre quelconque de dimensions dans l'une des listes. Par exemple, vous pouvez cliquer sur "Unités d'organisation" et la faire glisser dans la liste des lignes afin de positionner la dimension de l'unité d'organisation sous forme de lignes dans le tableau. Notez que les indicateurs, les éléments de données et les taux de rapport des ensembles de données font partie de la dimension de "donnée" commune et seront affichés ensemble dans le tableau croisé dynamique. Par exemple, après avoir sélectionné des indicateurs et des éléments de données dans le menu de gauche, vous pouvez faire glisser l'"Unité d'organisation" de la liste des dimensions disponibles vers la liste des dimensions de la ligne afin de les disposer en lignes dans le tableau croisé dynamique.

![](resources/images/pivot_table/table_layout.png)

Après avoir configuré votre tableau croisé dynamique, vous pouvez cliquer sur "Mettre à jour" pour restituer le rendu de votre tableau croisé dynamique, ou cliquez sur "Masquer" pour masquer l'écran de mise en page sans qu'aucune changement ne prenne effet. Dans notre exemple où nous avons sélectionné à la fois la période et la dimension de l'unité d'organisation sous forme de lignes, le tableau croisé dynamique générera toutes les combinaisons d'éléments dans ces dimensions et produira un tableau semblable à ceci :

![](resources/images/pivot_table/pivot_rows.png)

## Modifier l'affichage de votre tableau croisé dynamique { #pivot_change_display }

1.  Ouvrez l'application **Tableau croisé dynamique**.

2.  Créez un nouveau tableau croisé dynamique ou ouvrez un favori.

3.  Cliquez sur **Options**.

4.  Définissez les options selon les besoins.

    <table>
    <caption>Pivot table options</caption>
    <colgroup>
    <col style="width: 21%" />
    <col style="width: 35%" />
    <col style="width: 42%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Option</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Data</strong></p></td>
    <td><p><strong>Show column totals</strong></p>
    <p><strong>Show row totals</strong></p></td>
    <td><p>Displays total values in the table for each row and column, as well as a total for all values in the table.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Show column sub-totals</strong></p>
    <p><strong>Show row sub-totals</strong></p></td>
    <td><p>Displays subtotals in the table for each dimension.</p>
    <p>If you only select one dimension, subtotals will be hidden for those columns or rows. This is because the values will be equal to the subtotals.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Show dimension labels</strong></p></td>
    <td><p>Shows the dimension names as part of the pivot tables.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide empty rows</strong></p></td>
    <td><p>Hides empty rows from the table. This is useful when you look at large tables where a big part of the dimension items don't have data in order to keep the table more readable.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Hide empty columns</strong></p></td>
    <td><p>Hides empty columns from the table. This is useful when you look at large tables where a big part of the dimension items don't have data in order to keep the table more readable.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Skip rounding</strong></p></td>
    <td><p>Skips the rounding of data values, offering the full precision of data values. Can be useful for finance data where the full dollar amount is required.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Aggregation type</strong></p></td>
    <td><p>The default aggregation operator can be over-ridden here, by selecting a different aggregation operator. Some of the aggregation types are <strong>Count</strong>, <strong>Min</strong> and <strong>Max</strong>.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Number type</strong></p></td>
    <td><p>Sets the type of value you want to display in the pivot table: <strong>Value</strong>, <strong>Percentage of row</strong> or <strong>Percentage of column</strong>.</p>
    <p>The options <strong>Percentage of row</strong> and<strong>Percentage of column</strong> mean that you'll display values as percentages of row total or percentage of column total instead of the aggregated value. This is useful when you want to see the contribution of data elements, categories or organisation units to the total value.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Measure criteria</strong></p></td>
    <td><p>Allows for the data to be filtered on the server side.</p>
    <p>You can instruct the system to return only records where the aggregated data value is equal, greater than, greater or equal, less than or less or equal to certain values.</p>
    <p>If both parts of the filter are used, it's possible to filter out a range of data records.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Events</strong></p></td>
    <td><p><strong>Include only completed events</strong></p></td>
    <td><p>Includes only completed events in the aggregation process. This is useful for example to exclude partial events in indicator calculations.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Organisation units</strong></p></td>
    <td><p><strong>Show hierarchy</strong></p></td>
    <td><p>Shows the name of all ancestors for organisation units, for example &quot;Sierra Leone / Bombali / Tamabaka / Sanya CHP&quot; for Sanya CHP.</p>
    <p>The organisation units are then sorted alphabetically which will order the organisation units according to the hierarchy.</p>
    <p>When you download a pivot table with organisation units as rows and you've selected <strong>Show hierarchy</strong>, each organisation unit level is rendered as a separate column. This is useful for example when you create Excel pivot tables on a local computer.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Legend</strong></p></td>
    <td><p><strong>Apply legend</strong></p></td>
    <td><p>Applies a legend to the values. This mean that you can apply a colour to the values.</p>
    <p>Select <strong>By data item</strong> to color the table cells individually according to each data element or indicator.</p>
    <p>You configure legends in the <strong>Maintenance</strong> app.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Style</strong></p></td>
    <td><p>Colors the text or background of cells in pivot tables based on the selected legend.</p>
    <p>You can use this option for scorecards to identify high and low values at a glance.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Style</strong></p></td>
    <td><p><strong>Display density</strong></p></td>
    <td><p>Controls the size of the cells in the table. You can set it to <strong>Comfortable</strong>, <strong>Normal</strong> or <strong>Compact</strong>.</p>
    <p><strong>Compact</strong> is useful when you want to fit large tables into the browser screen.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Font size</strong></p></td>
    <td><p>Controls the size of the table text font. You can set it to <strong>Large</strong>, <strong>Normal</strong> or <strong>Small</strong>.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Digit group separator</strong></p></td>
    <td><p>Controls which character to separate groups of digits or &quot;thousands&quot;. You can set it to <strong>Comma</strong>, <strong>Space</strong> or <strong>None</strong>.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>General</strong></p></td>
    <td><p><strong>Table title</strong></p></td>
    <td><p>Type a title here to display it above the table.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Parameters (for standard reports only)</strong></p></td>
    <td><blockquote>
    <p><strong>Note</strong></p>
    <p>You create standard reports in the <strong>Reports</strong> app.</p>
    <p>In the <strong>Pivot Table</strong> app you set which parameters the system should prompt the user for.</p>
    </blockquote></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Reporting period</strong></p></td>
    <td><p>Controls whether to ask user to enter a report period.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Organisation unit</strong></p></td>
    <td><p>Controls whether to ask user to enter an organisation unit.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Parent organisation unit</strong></p></td>
    <td><p>Controls whether to ask user to enter a parent organisation unit.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Include regression</strong></p></td>
    <td><p>Includes a column with regression values to the pivot table.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Include cumulative</strong></p></td>
    <td><p>Includes a column with cumulative values to the pivot table.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Sort order</strong></p></td>
    <td><p>Controls the sort order of the values.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Top limit</strong></p></td>
    <td><p>Controls the maximum number of rows to include in the pivot table.</p></td>
    </tr>
    </tbody>
    </table>

5.  Cliquez sur **Mettre à jour**.

## Gérer les favoris { #manage-favorites }

La sauvegarde de vos graphiques ou tableaux croisés dynamiques dans les favoris facilite leur recherche plus tard. Vous pouvez également choisir de les partager avec d'autres utilisateurs comme interprétation ou les afficher sur le tableau de bord.

Vous pouvez visualiser les détails et interprétations de vos favoris dans les applications **Tableau croisé dynamique**, **Visualiseur de données**, **Visualiseur d'évènements**, **Rapports d'évènements**. Utilisez le menu **Favoris** pour gérer vos favoris.

### Ouvrir un favori { #open-a-favorite }

1.  Cliquez sur **Favoris** \> **Ouvrir**.

2.  Entrez le nom d'un favori dans le champ de recherche ou cliquez sur **Précédent** et **Suivant** pour afficher les favoris.

3.  Cliquez sur le nom du favori que vous souhaitez ouvrir.

### Sauvegarder un favori { #save-a-favorite }

1.  Cliquez sur **Favoris** \> **Sauvegarder**.

2.  Entrez un **Nom** et une **Description** pour votre favori. Le champ de description supporte un format RTF, voir la section interprétations pour plus de détails.

3.  Cliquez sur **Sauvegarder**.

### Renommer un favori { #rename-a-favorite }

1.  Cliquez sur **Favoris** \> **Renommer**.

2.  Entrez le nouveau nom que vous souhaitez donner à votre favori.

3.  Cliquez sur **Mettre à jour**.

### Écrire une interprétation d'un favori { #write-an-interpretation-for-a-favorite }

Une interprétation est un lien vers une ressource avec une description des données à une période donnée. Cette information est visible dans l'application **Tableau de bord**. Pour créer une interprétation, vous devez d'abord créer un favori. Si vous avez partagé votre favori avec d'autres personnes, votre interprétation sera visible pour ces personnes.

1.  Cliquez sur **Favoris** \> **Écrire une interprétation**.

2.  Dans le champ de texte, tapez un commentaire, une question ou une interprétation. Vous pouvez également mentionner d'autres utilisateurs avec '@nomd'utilisateur'. Commencez par taper '@' suivi par les premières lettres du nom d'utilisateur ou du nom réel et une barre de mention affichera les utilisateurs disponibles. Les utilisateurs mentionnés recevront un message DHIS2 en interne à propos de  l'interprétation ou le commentaire. Vous pouvez voir l'interprétation dans l'application **Tableau de bord**.

    Il est possible de formater le texte avec **gras**, _italique_ en utilisant les marqueurs de style Markdown \* et \_ pour **gras** et _italique_ respectivement. Des raccourcis clavier sont également disponibles : Ctrl/Cmd + B et Ctrl/Cmd + I. Un ensemble limité de smileys est pris en charge et peut être utilisé en tapant l'une des combinaisons de caractères suivantes : :) :-) :( :-( :+1 :-1. Les URL sont automatiquement détectées et converties en un lien cliquable.

3.  Recherchez un groupe d'utilisateurs avec lequel vous souhaitez partager votre favori, puis cliquez sur l'icône **+**.

4.  Modifiez les paramètres de partage pour les groupes d'utilisateurs que vous souhaitez modifier.

    -   **Lecture et écriture** : Tout le monde peut consulter et éditer l'objet.

    -   **Lecture uniquement** : tout le monde peut consulter l'objet.

    -   **Aucun** : le public n'aura pas accès à l'objet. Ce paramètre ne s'applique qu'à **Accès public**.

5.  Cliquez sur **Partager**.

### S'abonner à un favori { #subscribe-to-a-favorite }

Lorsque vous vous abonnez à un favori, vous recevez des messages internes chaque fois qu'un autre utilisateur aime/crée/met à jour une interprétation ou crée/met à jour un commentaire d'interprétation de ce favori.

1.  Ouvrez un favori.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur l'icône en cloche en haut à droite pour vous abonner à ce favori.

### Créer un lien vers un favori { #create-a-link-to-a-favorite }

1.  Cliquez sur **Favoris** \> **Créer un lien**.

2.  Sélectionnez l'une des options suivantes :

    -   **Ouvrir dans cette application** : Vous obtenez un lien URL pour le favori que vous souhaitez partager avec d'autres utilisateurs via email ou chat.

    -   **Ouvrir dans un navigateur web api** : vous obtenez un lien URL de la ressource API. Il s'agit d'une ressource HTML par défaut, mais vous pouvez changer l'extension du fichier à ".json" ou ".csv".

### Supprimer un favori { #delete-a-favorite }

1.  Cliquez sur **Favoris** \> **Supprimer**.

2.  Cliquez sur **OK**.

### Afficher les interprétations basées sur des périodes relatives { #view-interpretations-based-on-relative-periods }

Pour afficher les interprétations pour des périodes relatives, par exemple des interprétations de l'année dernière :

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur une interprétation. Votre graphique affiche les données et la date relative en fonction de la date de création de l'interprétation. Pour afficher d'autres interprétations, cliquez dessus.

## Télécharger des données à partir d'un tableau croisé dynamique { #pivot_download_data }

### Télécharger le format de données du tableau de présentation { #download-table-layout-data-format }

Pour télécharger les données depuis le tableau croisé dynamique actuel :

1.  Cliquez sur **Télécharger**.

2.  Sous **Disposition du tableau**, cliquez sur le format que vous souhaitez télécharger : Microsoft Excel, CSV ou HTML.

    Le tableau de données aura une colonne par dimension et contiendra des noms d'éléments de dimension.

    > **Tip**
    >
    > When you download a pivot table with organisation units as rows and you've selected **Show hierarchy** in **Table options**, each organisation unit level is rendered as a separate column. This is useful for example when you create Excel pivot tables on a local computer.

> **Astuce**
>
> Vous pouvez créer un tableau croisé dynamique dans Microsoft Excel à partir du fichier Excel téléchargé.

### Télécharger les formats standards de source de données { #download-plain-data-source-format }

Vous pouvez télécharger des données dans le tableau croisé dynamique actuel au format JSON, XML, Excel, et CSV comme formats de données simples avec différents schémas d'identification (ID, Code et Nom). Le document de données utilise des identifiants des éléments de dimension et s'ouvre dans une nouvelle fenêtre du navigateur pour afficher l'URL de la requête à l'API Web dans la barre d'adresse. Ceci est utile pour les développeurs d'applications et d'autres modules clients basés sur l'interface de programmation Web de DHIS2 ou pour ceux qui ont besoin d'une source de données du plan, par exemple pour l'importation pour des fins statistiques.

Pour télécharger les formats standards de source de données :

1.  Cliquez sur **Télécharger**.

2.  Sous **Source de données standards**, cliquez sur le format que vous souhaitez télécharger.

    <table>
    <caption>Available formats</caption>
    <colgroup>
    <col style="width: 18%" />
    <col style="width: 33%" />
    <col style="width: 47%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Format</p></th>
    <th><p>Action</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>JSON</p></td>
    <td><p>Click <strong>JSON</strong></p></td>
    <td><p>Downloads JSON format based on ID property.</p>
    <p>You can also download JSON format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="even">
    <td><p>XML</p></td>
    <td><p>Click <strong>XML</strong></p></td>
    <td><p>Downloads XML format based on ID property.</p>
    <p>You can also download XML format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Microsoft Excel</p></td>
    <td><p>Click <strong>Microsoft Excel</strong></p></td>
    <td><p>Downloads XML format based on ID property.</p>
    <p>You can also download Microsoft Excel format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="even">
    <td><p>CSV</p></td>
    <td>Click <strong>CSV</strong></td>
    <td><p>Downloads CSV format based on ID property.</p>
    <p>You can also download CSV format based on <strong>Code</strong> or <strong>Name</strong> property.</p></td>
    </tr>
    <tr class="odd">
    <td><p>JRXML</p></td>
    <td><p>Put the cursor on <strong>Advanced</strong> and click <strong>JRXML</strong></p></td>
    <td><p>Produces a template of a Jasper Report which can be further customized based on your exact needs and used as the basis for a standard report in DHIS2.</p></td>
    </tr>
    <tr class="even">
    <td><p>Raw data SQL</p></td>
    <td><p>Put the cursor on <strong>Advanced</strong> and click <strong>Raw data SQL</strong></p></td>
    <td><p>Provides the actual SQL statement used to generate the pivot table. You can use it as a data source in a Jasper report, or as the basis for an SQL view.</p></td>
    </tr>
    </tbody>
    </table>

### Télécharger un format CSV sans passer par le navigateur Web { #download-a-csv-format-without-rendering-data-in-the-web-browser }

Vous pouvez télécharger directement des données au format CSV sans passer par le navigateur web. Cela aide à réduire les contraintes dans les paramètres système qui ont été définis en ce qui concerne le nombre maximal d'enregistrements analytiques. Cela vous permet de télécharger des lots de données beaucoup plus volumineux que ceux que vous pouvez utiliser pour une analyse hors ligne ultérieure.

Pour télécharger des données au format CSV sans passer au préalable par le Web navigateur :

1.  Cliquez sur la flèche à côté de **Mettre à jour**.

    ![](resources/images/pivot_table/data_dump.png)

2.  Cliquez sur **CSV** pour télécharger le format basé sur la propriété ID.

    Le fichier est téléchargé sur votre ordinateur.

    > **Tip**
    >
    > You can also download CSV format based on **Code** or **Name** property.

## Intégrer un tableau croisé dynamique dans une page Web externe { #pivot_embed }

Certaines ressources liées à l'analyse dans DHIS2, telles que les tableaux croisés dynamiques, les graphiques et les cartes, peuvent être intégrées à n'importe quelle page Web à l'aide d'un plug-in. Vous trouverez plus d'informations sur les plug-ins dans le chapitre API Web du _Manuel du développeur DHIS2_.

Pour générer un fragment HTML que vous pouvez utiliser pour afficher le tableau croisé dynamique dans une page web externe :

1.  Cliquez sur **Intégrer**.

2.  Cliquez sur **Sélectionner** pour mettre en évidence le fragment HTML.

## Visualiser les données d'un tableau croisé dynamique sous forme de graphique ou de carte { #pivot_integration }

Lorsque vous avez créé un tableau croisé dynamique, vous pouvez basculer entre la visualisation de ce dernier, celles du graphique et de la carte.

### Ouvrir un tableau croisé dynamique sous forme de graphique { #open-a-pivot-table-as-a-chart }

1.  Cliquez sur **Graphique** \> **Ouvrir ce tableau sous forme de graphique**.

    Votre tableau croisé dynamique actuel s'ouvre sous forme de graphique.

![](resources/images/pivot_table/pivot_integration.png)

### Ouvrir une sélection de tableau croisé dynamique sous forme de graphique { #open-a-pivot-table-selection-as-a-chart }

Si vous souhaitez visualiser une petite partie de votre tableau croisé dynamique sous forme de graphique, vous pouvez cliquer directement sur une valeur dans le tableau au lieu d'ouvrir l'ensemble du tableau.

1.  Dans le tableau croisé dynamique, cliquez sur une valeur.

    ![](resources/images/pivot_table/pivot_integration_table.png)

2.  Pour vérifier la sélection, maintenez le curseur de la souris sur **Ouvrir la sélection sous forme de graphique**. Les en-têtes de dimension en surbrillance dans le tableau indiquent les données qui seront visualisées sous forme de graphique.

3.  Cliquez sur **Ouvrir la sélection sous forme de graphique**.

### Ouvrir un tableau croisé dynamique sous forme de carte { #open-a-pivot-table-as-a-map }

1.  Cliquez sur **Graphique** \> **Ouvrir ce tableau sous forme de carte**.

    Votre tableau croisé dynamique actuel s'ouvre sous forme de carte.

### Ouvrir une sélection de tableau croisé dynamique sous forme de carte { #open-a-pivot-table-selection-as-a-map }

1.  Dans le tableau croisé dynamique, cliquez sur une valeur.

    Un menu s'affiche.

2.  Cliquez sur **Ouvrir la sélection sous forme de carte**.

    Votre sélection s'ouvre sous forme de carte.

# Utilisation de l'application Rapports d'événements { #event_reports_app }

## À propos de l'application Rapports d'événements { #event_reports_about }

![](resources/images/event_report/event_report.png)

Avec l'application **Rapport d'événements**, vous pouvez analyser les événements dans deux types de rapports :

-   Rapports d'événements agrégés : Analyse de type tableau croisé dynamique avec nombre agrégé d'événements

    En sélectionnant **Valeurs agrégées** dans le menu en haut à gauche, vous pouvez utiliser l'application **Rapports d'événements** pour créer des tableaux croisés dynamiques avec des nombres d'événements agrégés. Un rapport d'événement est toujours basé sur un programme. Vous pouvez effectuer une analyse basée sur une série de dimensions. Chaque dimension peut avoir un filtre correspondant. Les dimensions peuvent être sélectionnées dans le menu de gauche. Comme pour les tableaux croisés dynamiques, les rapports d'événements agrégés peuvent être limités par la quantité de mémoire vive accessible par le navigateur. Si le tableau que vous avez demandé dépasse une dimension donnée, vous recevrez un message d'avertissement vous demandant si vous voulez continuer ou non.

-   Rapports d'événements individuels : Listes d'événements

    En sélectionnant **Evénements** dans le menu en haut à gauche, vous pouvez utiliser l'application **Rapports d'événements** pour effectuer des recherches ou des requêtes sur des événements en fonction d'un ensemble de critères flexibles. Le rapport s'affichera sous forme de tableau avec une ligne par événement. Chaque dimension peut être utilisée comme une colonne dans le tableau ou comme un filtre. Chaque dimension peut avoir un critère (filtre). Les éléments de données du type "ensemble d'options" permettent d'utiliser des critères "dans", où plusieurs options peuvent être sélectionnées. Les valeurs numériques peuvent être comparées aux valeurs de filtre en utilisant des opérateurs supérieur, égal ou inférieur.

## Créer un rapport d'événements { #event_reports_create }

1.  Ouvrez l'application **Rapports d'événements**.

2.  Sélectionnez **Valeurs agrégées** ou **Événements**.

3.  Dans le menu de gauche, sélectionnez les méta-données que vous souhaitez analyser.

4.  Cliquez sur **Mise en page** et organisez les dimensions.

    Vous pouvez conserver la sélection par défaut si vous le souhaitez.

5.  Cliquez sur **Mettre à jour**.

## Sélectionner les éléments de dimension { #event_reports_select_dimensions }

Un rapport d'événement est toujours basé sur un programme et vous pouvez faire une analyse basée sur une série de dimensions. Pour les programmes avec des combinaisons de catégories, vous pouvez utiliser les catégories de programmes et les groupes d'options de catégories comme dimensions pour les tableaux et les graphiques. Chaque dimension peut avoir un filtre correspondant.

1.  Sélectionner des éléments de données :

    1.  Cliquez sur **Données**.

    2.  Sélectionnez un programme et une étape du programme.

        Les éléments de données associés au programme sélectionné sont énumérés sous la rubrique **Disponible**. Chaque élément de données agit comme une dimension.

    3.  Sélectionnez les éléments de données dont vous avez besoin en double-cliquant sur leurs noms.

        Les éléments de données peuvent être filtrés par type (éléments de données, attributs de programme, indicateurs de programme) et sont préfixés pour les rendre facilement identifiables.

        Après avoir sélectionné un élément de données, il devient alors visible sous **Eléments de données sélectionnés**.

    4.  (Facultatif) Pour chaque élément de données, spécifiez un filtre avec des opérateurs tels que "supérieur à", "dans" ou "égal" ainsi qu'une valeur de filtre.

2.  Sélectionner les périodes.

    1.  Cliquez sur **Périodes**.

    2.  Sélectionnez une ou plusieurs périodes.

        Vous avez le choix entre trois périodes : les périodes relatives, les périodes fixes et les dates de début et de fin. Vous pouvez combiner des périodes fixes et des périodes relatives dans le même tableau. Vous ne pouvez pas combiner des périodes fixes et des périodes relatives avec des dates de début/fin dans le même graphique. Les périodes qui se chevauchent sont filtrées de manière à n'apparaître qu'une seule fois.

        -   Périodes fixes: dans la zone **Sélectionner le type de période**, sélectionnez un type de période. Vous pouvez sélectionner un nombre quelconque de périodes fixes parmi les types de période. Les périodes fixes peuvent par exemple être "janvier 2014".

        -   Périodes relatives: dans la partie inférieure de la section **Périodes**, sélectionnez autant de périodes relatives que vous le souhaitez. Les noms sont associés à la date du jour. Cela signifie que si le mois en cours est mars et vous sélectionnez **Le mois dernier**, le mois de février sera inclus dans le graphique. Les périodes relatives présentent l'avantage de maintenir les données du rapport à jour au fil du temps.

        -   Dates de début et de fin : Dans la liste sous l'onglet **Périodes**, sélectionnez **Dates de début/fin**. Ce type de période vous permet de spécifier des dates flexibles pour l'intervalle de temps du rapport.

3.  Sélectionner les unités d'organisation

    1.  Cliquez sur **Unités d'organisation**.

    2.  Cliquez sur l'icône de la boîte de vitesse.

    3.  Sélectionnez un **Mode de sélection** et une unité d'organisation.

        Il existe trois différents modes de sélection :

        <table>
        <caption>Selection modes</caption>
        <colgroup>
        <col style="width: 38%" />
        <col style="width: 61%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Selection mode</p></th>
        <th><p>Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p><strong>Select organisation units</strong></p></td>
        <td><p>Lets you select the organisation units you want to appear in the chart from the organization tree.</p>
        <p>Select <strong>User org unit</strong> to disable the organisation unit tree and only select the organisation unit that is related to your profile.</p>
        <p>Select <strong>User sub-units</strong> to disable the organisation unit tree and only select the sub-units of the organisation unit that is related to your profile.</p>
        <p>Select <strong>User sub-x2-units</strong> to disable the organisation unit tree and only select organisation units two levels down from the organisation unit that is related to your profile.</p>
        <p>This functionality is useful for administrators to create a meaningful &quot;system&quot; favorite. With this option checked all users find their respective organisation unit when they open the favorite.</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>Select levels</strong></p></td>
        <td><p>Lets you select all organisation units at one or more levels, for example national or district level.</p>
        <p>You can also select the parent organisation unit in the tree, which makes it easy to select for example, all facilities inside one or more districts.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Select groups</strong></p></td>
        <td><p>Lets you select all organisation units inside one or several groups and parent organisation units at the same time, for example hospitals or chiefdoms.</p></td>
        </tr>
        </tbody>
        </table>

4.  Cliquez sur **Mettre à jour**.

## Sélectionner une série, une catégorie et un filtre { #event_reports_select_series_category_filter }

Vous pouvez définir la dimension des données que vous souhaitez voir apparaître sous forme de colonnes, de lignes et de filtres dans le tableau croisé dynamique. Chaque élément de données apparaît sous forme de dimensions individuelles et peut être placé sur n'importe quel axe.

> **N.B.**
>
> Les éléments de données de type valeur constante (nombres réels/nombres décimaux) ne peuvent être utilisés que comme des filtres, et seront automatiquement positionnés comme filtres dans boîte de dialogue de mise en page. La raison en est que les nombres constants ne peuvent pas être regroupés en plages sensibles et utilisés sur des colonnes et des lignes.

1.  Cliquez sur **Mise en page**.

2.  Glissez et déposez les dimensions dans l'espace approprié.

3.  Cliquez sur **Mettre à jour**.

## Modifier l'affichage de votre tableau { #event_reports_change_display }

Vous pouvez personnaliser l'affichage d'un rapport d'événement.

1.  Cliquez sur **Options**.

2.  Configurez les options nécessaires. Les options disponibles sont différentes selon qu'il s'agit de rapports d'événements agrégés ou de rapports d'événements individuels.

    <table style="width:100%;">
    <caption>Event reports options</caption>
    <colgroup>
    <col style="width: 22%" />
    <col style="width: 22%" />
    <col style="width: 33%" />
    <col style="width: 22%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Option</p></th>
    <th><p>Description</p></th>
    <th><p>Available for report type</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Data</strong></p></td>
    <td><p><strong>Show column totals</strong></p></td>
    <td><p>Displays totals at the end of each column in the pivot table.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Show column sub-totals</strong></p></td>
    <td><p>Displays sub-totals for each column in the pivot table.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Show row totals</strong></p></td>
    <td><p>Displays totals at the end of each row in the pivot table.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Show row sub-totals</strong></p></td>
    <td><p>Displays sub-totals for each row in the pivot table.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Show dimension labels</strong></p></td>
    <td>Displays labels for dimensions.</td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide empty rows</strong></p></td>
    <td><p>Hides empty rows in the pivot table.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Hide n/a data</strong></p></td>
    <td><p>Hides data tagged as N/A from the chart.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Include only completed events</strong></p></td>
    <td><p>Includes only completed events in the aggregation process. This is useful when you want for example to exclude partial events in indicator calculations.</p></td>
    <td><p>Aggregated event report</p>
    <p>Individual event report</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Limit</strong></p></td>
    <td><p>Sets a limit of the maximum number of rows that you can display in the table, combined with a setting for showing top or bottom values.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Output type</strong></p></td>
    <td><p>Defines the output type. The output types are <strong>Event</strong>, <strong>Enrollment</strong> and<strong>Tracked entity instance</strong>.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Program status</strong></p></td>
    <td><p>Filters data based on the program status: <strong>All</strong>, <strong>Active</strong>, <strong>Completed</strong> or <strong>Cancelled</strong>.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Event status</strong></p></td>
    <td><p>Filters data based on the event status: <strong>All</strong>, <strong>Active</strong>, <strong>Completed</strong>, <strong>Scheduled</strong>, <strong>Overdue</strong> or <strong>Skipped</strong>.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="odd">
    <td><strong>Organisation units</strong></td>
    <td><p><strong>Show hierarchy</strong></p></td>
    <td><p>Includes the names of all parents of each organisation unit in labels.</p></td>
    <td><p>Aggregated event report</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Style</strong></p></td>
    <td><p><strong>Display density</strong></p></td>
    <td><p>Controls the size of the cells in the table. You can set it to <strong>Comfortable</strong>, <strong>Normal</strong> or <strong>Compact</strong>.</p>
    <p><strong>Compact</strong> is useful when you want to fit large tables into the browser screen.</p></td>
    <td><p>Aggregated event report</p>
    <p>Individual event report</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Font size</strong></p></td>
    <td><p>Controls the size of the table text font. You can set it to <strong>Large</strong>, <strong>Normal</strong> or <strong>Small</strong>.</p></td>
    <td><p>Aggregated event report</p>
    <p>Individual event report</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Digit group separator</strong></p></td>
    <td><p>Controls which character to separate groups of digits or &quot;thousands&quot;. You can set it to <strong>Comma</strong>, <strong>Space</strong> or <strong>None</strong>.</p></td>
    <td><p>Aggregated event report</p>
    <p>Individual event report</p></td>
    </tr>
    </tbody>
    </table>

3.  Cliquez sur **Mettre à jour**.

## Télécharger les sources de données du graphique { #event_reports_download_report }

Vous pouvez télécharger la source des données d'un rapport d'événement aux formats HTML, JSON, XML, Microsoft Excel ou CSV.

1.  Cliquez sur **Télécharger**.

2.  Sous **Source de données standards**, cliquez sur le format que vous souhaitez télécharger.

    <table>
    <caption>Available formats</caption>
    <colgroup>
    <col style="width: 27%" />
    <col style="width: 72%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Format</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>HTML</p></td>
    <td><p>Creates HTML table based on selected meta data</p></td>
    </tr>
    <tr class="even">
    <td><p>JSON</p></td>
    <td><p>Downloads data values in JSON format based on selected meta data</p></td>
    </tr>
    <tr class="odd">
    <td><p>XML</p></td>
    <td><p>Downloads data values in XML format based on selected meta data</p></td>
    </tr>
    <tr class="even">
    <td><p>Microsoft Excel</p></td>
    <td><p>Downloads data values in Microsoft Excel format based on selected meta data</p></td>
    </tr>
    <tr class="odd">
    <td><p>CSV</p></td>
    <td><p>Downloads data values in CSV format based on selected meta data</p></td>
    </tr>
    </tbody>
    </table>

## Gérer les favoris { #manage-favorites }

La sauvegarde de vos graphiques ou tableaux croisés dynamiques dans les favoris facilite leur recherche plus tard. Vous pouvez également choisir de les partager avec d'autres utilisateurs comme interprétation ou les afficher sur le tableau de bord.

Vous pouvez visualiser les détails et interprétations de vos favoris dans les applications **Tableau croisé dynamique**, **Visualiseur de données**, **Visualiseur d'évènements**, **Rapports d'évènements**. Utilisez le menu **Favoris** pour gérer vos favoris.

### Ouvrir un favori { #open-a-favorite }

1.  Cliquez sur **Favoris** \> **Ouvrir**.

2.  Entrez le nom d'un favori dans le champ de recherche ou cliquez sur **Précédent** et **Suivant** pour afficher les favoris.

3.  Cliquez sur le nom du favori que vous souhaitez ouvrir.

### Sauvegarder un favori { #save-a-favorite }

1.  Cliquez sur **Favoris** \> **Sauvegarder**.

2.  Entrez un **Nom** et une **Description** pour votre favori. Le champ de description supporte un format RTF, voir la section interprétations pour plus de détails.

3.  Cliquez sur **Sauvegarder**.

### Renommer un favori { #rename-a-favorite }

1.  Cliquez sur **Favoris** \> **Renommer**.

2.  Entrez le nouveau nom que vous souhaitez donner à votre favori.

3.  Cliquez sur **Mettre à jour**.

### Écrire une interprétation d'un favori { #write-an-interpretation-for-a-favorite }

Une interprétation est un lien vers une ressource avec une description des données à une période donnée. Cette information est visible dans l'application **Tableau de bord**. Pour créer une interprétation, vous devez d'abord créer un favori. Si vous avez partagé votre favori avec d'autres personnes, votre interprétation sera visible pour ces personnes.

1.  Cliquez sur **Favoris** \> **Écrire une interprétation**.

2.  Dans le champ de texte, tapez un commentaire, une question ou une interprétation. Vous pouvez également mentionner d'autres utilisateurs avec '@nomd'utilisateur'. Commencez par taper '@' suivi par les premières lettres du nom d'utilisateur ou du nom réel et une barre de mention affichera les utilisateurs disponibles. Les utilisateurs mentionnés recevront un message DHIS2 en interne à propos de  l'interprétation ou le commentaire. Vous pouvez voir l'interprétation dans l'application **Tableau de bord**.

    Il est possible de formater le texte avec **gras**, _italique_ en utilisant les marqueurs de style Markdown \* et \_ pour **gras** et _italique_ respectivement. Des raccourcis clavier sont également disponibles : Ctrl/Cmd + B et Ctrl/Cmd + I. Un ensemble limité de smileys est pris en charge et peut être utilisé en tapant l'une des combinaisons de caractères suivantes : :) :-) :( :-( :+1 :-1. Les URL sont automatiquement détectées et converties en un lien cliquable.

3.  Recherchez un groupe d'utilisateurs avec lequel vous souhaitez partager votre favori, puis cliquez sur l'icône **+**.

4.  Modifiez les paramètres de partage pour les groupes d'utilisateurs que vous souhaitez modifier.

    -   **Lecture et écriture** : Tout le monde peut consulter et éditer l'objet.

    -   **Lecture uniquement** : tout le monde peut consulter l'objet.

    -   **Aucun** : le public n'aura pas accès à l'objet. Ce paramètre ne s'applique qu'à **Accès public**.

5.  Cliquez sur **Partager**.

### S'abonner à un favori { #subscribe-to-a-favorite }

Lorsque vous vous abonnez à un favori, vous recevez des messages internes chaque fois qu'un autre utilisateur aime/crée/met à jour une interprétation ou crée/met à jour un commentaire d'interprétation de ce favori.

1.  Ouvrez un favori.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur l'icône en cloche en haut à droite pour vous abonner à ce favori.

### Créer un lien vers un favori { #create-a-link-to-a-favorite }

1.  Cliquez sur **Favoris** \> **Créer un lien**.

2.  Sélectionnez l'une des options suivantes :

    -   **Ouvrir dans cette application** : Vous obtenez un lien URL pour le favori que vous souhaitez partager avec d'autres utilisateurs via email ou chat.

    -   **Ouvrir dans un navigateur web api** : vous obtenez un lien URL de la ressource API. Il s'agit d'une ressource HTML par défaut, mais vous pouvez changer l'extension du fichier à ".json" ou ".csv".

### Supprimer un favori { #delete-a-favorite }

1.  Cliquez sur **Favoris** \> **Supprimer**.

2.  Cliquez sur **OK**.

### Afficher les interprétations basées sur des périodes relatives { #view-interpretations-based-on-relative-periods }

Pour afficher les interprétations pour des périodes relatives, par exemple des interprétations de l'année dernière :

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur une interprétation. Votre graphique affiche les données et la date relative en fonction de la date de création de l'interprétation. Pour afficher d'autres interprétations, cliquez dessus.

## Visualiser un rapport d'événement sous forme de graphique { #event_reports_open_as_chart }

Après avoir produit un rapport d'événement, vous pouvez l'ouvrir sous forme de tableau :

Cliquez sur **Graphique** \> **Ouvrir cette graphique sous forme de tableau**.

# Utilisation de l'application Event Visualizer { #event_visualizer_app }

## À propos de l'application "Visualiseur d'événement" { #about-the-event-visualizer-app }

![](resources/images/event_visualizer/event_visualizer.png)

Avec l'application **Visualiseur d'événement**, vous pouvez créer des graphiques basés sur des données d'événements.

## Créer un graphique { #create-a-chart }

1.  \<Ouvrez l'application **Visualiseur d'événement** et sélectionnez un type de graphique.

2.  Dans le menu de gauche, sélectionnez les méta-données que vous souhaitez analyser.

3.  Cliquez sur **Mise en page** et organisez les dimensions.

    Vous pouvez conserver la sélection par défaut si vous le souhaitez.

4.  Cliquez sur **Mettre à jour**.

## Sélectionnez un type de graphique { #select-a-chart-type }

L'application **Visualiseur d'événement** comporte huit types de graphiques différents, chacun ayant des caractéristiques différentes. Pour sélectionner un type de graphique :

1.  Dans **Type de graphique**, cliquez sur le type de graphique dont vous avez besoin.

    <table>
    <caption>Chart types</caption>
    <colgroup>
    <col style="width: 33%" />
    <col style="width: 66%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Chart type</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Column chart</p></td>
    <td><p>Displays information as vertical rectangular columns with lengths proportional to the values they represent.</p>
    <p>Useful when you want to, for example, compare performance of different districts.</p></td>
    </tr>
    <tr class="even">
    <td><p>Stacked column chart</p></td>
    <td><p>Displays information as vertical rectangular columns, where bars representing multiple categories are stacked on top of each other.</p>
    <p>Useful when you want to, for example, display trends or sums of related data elements.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Bar chart</p></td>
    <td><p>Same as column chart, only with horizontal bars.</p></td>
    </tr>
    <tr class="even">
    <td><p>Stacked bar chart</p></td>
    <td><p>Same as stacked column chart, only with horizontal bars.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Line chart</p></td>
    <td><p>Displays information as a series of points connected by straight lines. Also referred to as time series.</p>
    <p>Useful when you want to, for example, visualize trends in indicator data over multiple time periods.</p></td>
    </tr>
    <tr class="even">
    <td><p>Area chart</p></td>
    <td><p>Is based on line chart, with the space between the axis and the line filled with colors and the lines stacked on top of each other.</p>
    <p>Useful when you want to compare the trends of related indicators.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Pie chart</p></td>
    <td><p>Circular chart divided into sectors (or slices).</p>
    <p>Useful when you want to, for example, visualize the proportion of data for individual data elements compared to the total sum of all data elements in the chart.</p></td>
    </tr>
    <tr class="even">
    <td><p>Radar chart</p></td>
    <td><p>Displays data on axes starting from the same point. Also known as spider chart.</p></td>
    </tr>
    </tbody>
    </table>

2.  Cliquez sur **Mettre à jour**.

## Sélectionner les éléments de dimension { #event_visualizer_select_dimensions }

Un rapport d'événement est toujours basé sur un programme et vous pouvez faire une analyse basée sur une série de dimensions. Pour les programmes avec des combinaisons de catégories, vous pouvez utiliser les catégories de programmes et les groupes d'options de catégories comme dimensions pour les tableaux et les graphiques. Chaque dimension peut avoir un filtre correspondant. Vous pouvez sélectionner les éléments de dimension dans le menu de gauche.

1.  Sélectionner des éléments de données :

    1.  Cliquez sur **Données**.

    2.  Sélectionnez un programme et une étape du programme.

        Les éléments de données associés au programme sélectionné sont énumérés sous la rubrique **Disponible**. Chaque élément de données agit comme une dimension.

    3.  Sélectionnez les éléments de données dont vous avez besoin en double-cliquant sur leurs noms.

        Les éléments de données peuvent être filtrés par type (éléments de données, attributs de programme, indicateurs de programme) et sont préfixés pour les rendre facilement identifiables.

        Après avoir sélectionné un élément de données, il devient alors visible sous **Eléments de données sélectionnés**.

    4.  (Facultatif) Pour chaque élément de données, spécifiez un filtre avec des opérateurs tels que "supérieur à", "dans" ou "égal" ainsi qu'une valeur de filtre.

2.  Sélectionner les périodes.

    1.  Cliquez sur **Périodes**.

    2.  Sélectionnez une ou plusieurs périodes.

        Vous avez le choix entre trois périodes : les périodes relatives, les périodes fixes et les dates de début et de fin. Vous pouvez combiner des périodes fixes et des périodes relatives dans le même tableau. Vous ne pouvez pas combiner des périodes fixes et des périodes relatives avec des dates de début/fin dans le même graphique. Les périodes qui se chevauchent sont filtrées de manière à n'apparaître qu'une seule fois.

        -   Périodes fixes: dans la zone **Sélectionner le type de période**, sélectionnez un type de période. Vous pouvez sélectionner un nombre quelconque de périodes fixes parmi les types de période. Les périodes fixes peuvent par exemple être "janvier 2014".

        -   Périodes relatives: dans la partie inférieure de la section **Périodes**, sélectionnez autant de périodes relatives que vous le souhaitez. Les noms sont associés à la date du jour. Cela signifie que si le mois en cours est mars et vous sélectionnez **Le mois dernier**, le mois de février sera inclus dans le graphique. Les périodes relatives présentent l'avantage de maintenir les données du rapport à jour au fil du temps.

        -   Dates de début et de fin : Dans la liste sous l'onglet **Périodes**, sélectionnez **Dates de début/fin**. Ce type de période vous permet de spécifier des dates flexibles pour l'intervalle de temps du rapport.

3.  Sélectionner les unités d'organisation

    1.  Cliquez sur **Unités d'organisation**.

    2.  Cliquez sur l'icône de la boîte de vitesse.

    3.  Sélectionnez un **Mode de sélection** et une unité d'organisation.

        Il existe trois différents modes de sélection :

        <table>
        <caption>Selection modes</caption>
        <colgroup>
        <col style="width: 38%" />
        <col style="width: 61%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Selection mode</p></th>
        <th><p>Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p><strong>Select organisation units</strong></p></td>
        <td><p>Lets you select the organisation units you want to appear in the chart from the organization tree.</p>
        <p>Select <strong>User org unit</strong> to disable the organisation unit tree and only select the organisation unit that is related to your profile.</p>
        <p>Select <strong>User sub-units</strong> to disable the organisation unit tree and only select the sub-units of the organisation unit that is related to your profile.</p>
        <p>Select <strong>User sub-x2-units</strong> to disable the organisation unit tree and only select organisation units two levels down from the organisation unit that is related to your profile.</p>
        <p>This functionality is useful for administrators to create a meaningful &quot;system&quot; favorite. With this option checked all users find their respective organisation unit when they open the favorite.</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>Select levels</strong></p></td>
        <td><p>Lets you select all organisation units at one or more levels, for example national or district level.</p>
        <p>You can also select the parent organisation unit in the tree, which makes it easy to select for example, all facilities inside one or more districts.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Select groups</strong></p></td>
        <td><p>Lets you select all organisation units inside one or several groups and parent organisation units at the same time, for example hospitals or chiefdoms.</p></td>
        </tr>
        </tbody>
        </table>

4.  Cliquez sur **Mettre à jour**.

## Sélectionner une série, une catégorie et un filtre { #select-series-category-and-filter }

Vous pouvez définir la dimension des données que vous souhaitez voir apparaître en tant que série, catégorie et filtre. Chaque élément de données apparaît comme une dimension individuelle et peut être placé sur n'importe quel axe. Les panneaux de séries et de catégories ne peuvent avoir qu'une seule dimension à la fois.

> **N.B.**
>
> Les éléments de données de type valeur constante (nombres réels/nombres décimaux) ne peuvent être utilisés que comme des filtres, et seront automatiquement positionnés comme filtres dans boîte de dialogue de mise en page. La raison en est que les nombres constants ne peuvent pas être regroupés en plages sensibles et utilisés sur des colonnes et des lignes.

1.  Cliquez sur **Mise en page**.

2.  Faites glisser les dimensions et déposez-les dans l'espace approprié. Une seule dimension peut être glissée dans chaque section.

3.  Cliquez sur **Mettre à jour**.

## Modifier l'affichage de votre graphique { #event_visualizer_change_display }

Vous pouvez personnaliser l'affichage d'un rapport d'événement.

1.  Cliquez sur **Options**.

2.  Définissez les options selon les besoins.

    <table>
    <caption>Chart options</caption>
    <colgroup>
    <col style="width: 28%" />
    <col style="width: 28%" />
    <col style="width: 42%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Option</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Data</strong></p></td>
    <td><p><strong>Show values</strong></p></td>
    <td><p>Displays values as numbers on top of each series.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Use 100% stacked values</strong></p></td>
    <td><p>Displays 100 % stacked values in column charts.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Use cumulative values</strong></p></td>
    <td><p>Displays cumulative values in line charts.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide n/a data</strong></p></td>
    <td><p>Hides data tagged as N/A from the chart.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Include only completed events</strong></p></td>
    <td><p>Includes only completed events in the aggregation process. This is useful when you want for example to exclude partial events in indicator calculations.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide empty categories</strong></p></td>
    <td><p>Hides the category items with no data from the chart.</p>
    <p><strong>None</strong>: doesn't hide any of the empty categories</p>
    <p><strong>Before first</strong>: hides missing values only before the first value</p>
    <p><strong>After last</strong>: hides missing values only after the last value</p>
    <p><strong>Before first and after last</strong>: hides missing values only before the first value and after the last value</p>
    <p><strong>All</strong>: hides all missing values</p>
    <p>This is useful for example when you create column and bar charts.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Trend line</strong></p></td>
    <td><p>Displays the trend line which visualizes how your data evolves over time. For example if performance is improving or deteriorating. Useful when periods are selected as category.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Target line value/title</strong></p></td>
    <td><p>Displays a horizontal line and title (optional) at the given domain value. Useful for example when you want to compare your performance to the current target.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Base line value/title</strong></p></td>
    <td><p>Displays a horizontal line and title (optional) at the given domain value. Useful for example when you want to visualize how your performance has evolved since the beginning of a process.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Sort order</strong></p></td>
    <td><p>Allows you to sort the values on your chart from either low to high or high to low.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Output type</strong></p></td>
    <td><p>Defines the output type. The output types are <strong>Event</strong>, <strong>Enrollment</strong> and<strong>Tracked entity instance</strong>.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Program status</strong></p></td>
    <td><p>Filters data based on the program status: <strong>All</strong>, <strong>Active</strong>, <strong>Completed</strong> or <strong>Cancelled</strong>.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Event status</strong></p></td>
    <td><p>Filters data based on the event status: <strong>All</strong>, <strong>Active</strong>, <strong>Completed</strong>, <strong>Scheduled</strong>, <strong>Overdue</strong> or <strong>Skipped</strong>.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Axes</strong></p></td>
    <td><p><strong>Range axis min/max</strong></p></td>
    <td><p>Defines the maximum and minimum value which will be visible on the range axis.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Range axis tick steps</strong></p></td>
    <td><p>Defines the number of ticks which will be visible on the range axis.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Range axis decimals</strong></p></td>
    <td><p>Defines the number of decimals which will be used for range axis values.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Range axis title</strong></p></td>
    <td><p>Type a title here to display a label next to the range axis (also referred to as the Y axis). Useful when you want to give context information to the chart, for example about the unit of measure.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Domain axis title</strong></p></td>
    <td><p>Type a title here to display a label below the domain axis (also referred to as the X axis). Useful when you want to give context information to the chart, for example about the period type.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>General</strong></p></td>
    <td><p><strong>Hide chart legend</strong></p></td>
    <td><p>Hides the legend and leaves more room for the chart itself.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide chart title</strong></p></td>
    <td><p>Hides the title (default or custom) of your chart.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Chart title</strong></p></td>
    <td><p>Type a title here to display a custom title above the chart. If you don't enter a title, the default title is displayed.</p></td>
    </tr>
    <tr class="even">
    <td></td>
    <td><p><strong>Hide chart subtitle</strong></p></td>
    <td><p>Hides the subtitle of your chart.</p></td>
    </tr>
    <tr class="odd">
    <td></td>
    <td><p><strong>Chart subtitle</strong></p></td>
    <td><p>Type a subtitle here to display a custom subtitle above the chart but below the title. If you don't enter a subtitle, no subtitle is displayed in the chart.</p></td>
    </tr>
    </tbody>
    </table>

3.  Cliquez sur **Mettre à jour**.

## Télécharger un graphique au format image ou PDF { #download-a-chart-as-an-image-or-a-pdf }

Après avoir créé un graphique, vous pouvez le télécharger localement sur votre ordinateur ordinateur au format image ou PDF.

1.  Cliquez sur **Télécharger**.

2.  Sous **Graphiques**, cliquez sur **Image (.png)** ou **PDF (.pdf)**.

    Le fichier est automatiquement téléchargé sur votre ordinateur. Maintenant, vous pouvez par exemple insérer le fichier image dans un document texte dans le cadre d'un rapport.

## Télécharger les sources de données du graphique { #download-chart-data-source }

Vous pouvez télécharger la source de données d'un graphique aux formats HTML, JSON, XML, Microsoft Excel ou CSV. Le document de données utilise les identifiants des éléments de dimension et s'ouvre dans une nouvelle fenêtre de navigateur pour afficher l'URL de la requête à l'API Web dans la barre d'adresse. Ceci est utile pour les développeurs d'applications et d'autres modules clients basés sur l'interface de programmation Web de DHIS2 ou pour ceux qui ont besoin d'une source de données simples, par exemple pour l'importation à des fins statistiques.

Pour télécharger les formats standards de source de données :

1.  Cliquez sur **Télécharger**.

2.  Sous **Source de données standards**, cliquez sur le format que vous souhaitez télécharger.

    <table>
    <caption>Available formats</caption>
    <colgroup>
    <col style="width: 27%" />
    <col style="width: 72%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Format</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>HTML</p></td>
    <td><p>Creates HTML table based on selected meta data</p></td>
    </tr>
    <tr class="even">
    <td><p>JSON</p></td>
    <td><p>Downloads data values in JSON format based on selected meta data</p></td>
    </tr>
    <tr class="odd">
    <td><p>XML</p></td>
    <td><p>Downloads data values in XML format based on selected meta data</p></td>
    </tr>
    <tr class="even">
    <td><p>Microsoft Excel</p></td>
    <td><p>Downloads data values in Microsoft Excel format based on selected meta data</p></td>
    </tr>
    <tr class="odd">
    <td><p>CSV</p></td>
    <td><p>Downloads data values in CSV format based on selected meta data</p></td>
    </tr>
    </tbody>
    </table>

## Gérer les favoris { #manage-favorites }

La sauvegarde de vos graphiques ou tableaux croisés dynamiques dans les favoris facilite leur recherche plus tard. Vous pouvez également choisir de les partager avec d'autres utilisateurs comme interprétation ou les afficher sur le tableau de bord.

Vous pouvez visualiser les détails et interprétations de vos favoris dans les applications **Tableau croisé dynamique**, **Visualiseur de données**, **Visualiseur d'évènements**, **Rapports d'évènements**. Utilisez le menu **Favoris** pour gérer vos favoris.

### Ouvrir un favori { #open-a-favorite }

1.  Cliquez sur **Favoris** \> **Ouvrir**.

2.  Entrez le nom d'un favori dans le champ de recherche ou cliquez sur **Précédent** et **Suivant** pour afficher les favoris.

3.  Cliquez sur le nom du favori que vous souhaitez ouvrir.

### Sauvegarder un favori { #save-a-favorite }

1.  Cliquez sur **Favoris** \> **Sauvegarder**.

2.  Entrez un **Nom** et une **Description** pour votre favori. Le champ de description supporte un format RTF, voir la section interprétations pour plus de détails.

3.  Cliquez sur **Sauvegarder**.

### Renommer un favori { #rename-a-favorite }

1.  Cliquez sur **Favoris** \> **Renommer**.

2.  Entrez le nouveau nom que vous souhaitez donner à votre favori.

3.  Cliquez sur **Mettre à jour**.

### Écrire une interprétation d'un favori { #write-an-interpretation-for-a-favorite }

Une interprétation est un lien vers une ressource avec une description des données à une période donnée. Cette information est visible dans l'application **Tableau de bord**. Pour créer une interprétation, vous devez d'abord créer un favori. Si vous avez partagé votre favori avec d'autres personnes, votre interprétation sera visible pour ces personnes.

1.  Cliquez sur **Favoris** \> **Écrire une interprétation**.

2.  Dans le champ de texte, tapez un commentaire, une question ou une interprétation. Vous pouvez également mentionner d'autres utilisateurs avec '@nomd'utilisateur'. Commencez par taper '@' suivi par les premières lettres du nom d'utilisateur ou du nom réel et une barre de mention affichera les utilisateurs disponibles. Les utilisateurs mentionnés recevront un message DHIS2 en interne à propos de  l'interprétation ou le commentaire. Vous pouvez voir l'interprétation dans l'application **Tableau de bord**.

    Il est possible de formater le texte avec **gras**, _italique_ en utilisant les marqueurs de style Markdown \* et \_ pour **gras** et _italique_ respectivement. Des raccourcis clavier sont également disponibles : Ctrl/Cmd + B et Ctrl/Cmd + I. Un ensemble limité de smileys est pris en charge et peut être utilisé en tapant l'une des combinaisons de caractères suivantes : :) :-) :( :-( :+1 :-1. Les URL sont automatiquement détectées et converties en un lien cliquable.

3.  Recherchez un groupe d'utilisateurs avec lequel vous souhaitez partager votre favori, puis cliquez sur l'icône **+**.

4.  Modifiez les paramètres de partage pour les groupes d'utilisateurs que vous souhaitez modifier.

    -   **Lecture et écriture** : Tout le monde peut consulter et éditer l'objet.

    -   **Lecture uniquement** : tout le monde peut consulter l'objet.

    -   **Aucun** : le public n'aura pas accès à l'objet. Ce paramètre ne s'applique qu'à **Accès public**.

5.  Cliquez sur **Partager**.

### S'abonner à un favori { #subscribe-to-a-favorite }

Lorsque vous vous abonnez à un favori, vous recevez des messages internes chaque fois qu'un autre utilisateur aime/crée/met à jour une interprétation ou crée/met à jour un commentaire d'interprétation de ce favori.

1.  Ouvrez un favori.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur l'icône en cloche en haut à droite pour vous abonner à ce favori.

### Créer un lien vers un favori { #create-a-link-to-a-favorite }

1.  Cliquez sur **Favoris** \> **Créer un lien**.

2.  Sélectionnez l'une des options suivantes :

    -   **Ouvrir dans cette application** : Vous obtenez un lien URL pour le favori que vous souhaitez partager avec d'autres utilisateurs via email ou chat.

    -   **Ouvrir dans un navigateur web api** : vous obtenez un lien URL de la ressource API. Il s'agit d'une ressource HTML par défaut, mais vous pouvez changer l'extension du fichier à ".json" ou ".csv".

### Supprimer un favori { #delete-a-favorite }

1.  Cliquez sur **Favoris** \> **Supprimer**.

2.  Cliquez sur **OK**.

### Afficher les interprétations basées sur des périodes relatives { #view-interpretations-based-on-relative-periods }

Pour afficher les interprétations pour des périodes relatives, par exemple des interprétations de l'année dernière :

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur une interprétation. Votre graphique affiche les données et la date relative en fonction de la date de création de l'interprétation. Pour afficher d'autres interprétations, cliquez dessus.

## Visualiser un graphique comme un tableau croisé dynamique { #visualize-a-chart-as-a-pivot-table }

Après création d'un graphique, vous pouvez l'ouvrir comme un tableau croisé dynamique :

Cliquez sur **Graphique** \> **Ouvrir cette graphique sous forme de tableau**.

# Fonctionnalité de Reporting dans l'application Rapports { #using_the_reports_app }

L'application Rapports permet de produire des rapports standard, des rapports sur les ensembles de données, des rapports sur les ressources et des rapports sur la répartition des unités d'organisation.

## Utiliser des rapports standards { #standard_reports_in_the_beta_reports_app }

Vous pouvez accéder aux rapports disponibles via Apps-\>Rapports. Dans le menu rapports dans la barre gauche, cliquez sur Rapport standard. Une liste de tous les rapports prédéfinis apparaîtra alors dans la fenêtre principale.

![](resources/images/dhis2UserManual/react_reports_app_standard_reports.png)

Vous lancez/visualisez un rapport en cliquant sur l'icône à trois points du rapport, puis en sélectionnant "Créer" dans le menu contextuel. S'il existe des paramètres prédéfinis, vous verrez afficher une fenêtre de paramètres de rapport dans laquelle vous devez saisir les valeurs nécessaires pour l'orgunit et/ou le mois de référence, en fonction de ce qui a été défini dans le(s) tableau(x) de rapport sous-jacent(s). Cliquez sur "Générer le rapport" lorsque vous êtes prêt. Le rapport s'affiche directement dans votre navigateur ou pourra être téléchargé sous forme de fichier PDF, en fonction des paramètres de votre navigateur pour le traitement des fichiers PDF. Vous pouvez enregistrer le fichier et le conserver localement sur votre ordinateur pour une utilisation ultérieure.

## Utiliser des rapports des ensembles de données { #dataset_reports_in_the_beta_reports_app }

Dataset reports are printer friendly views of the data entry screen filled with either raw or aggregated data.

Vous pouvez accéder aux rapports des ensembles de données depuis Apps-\>Rapports.

Une fenêtre de critères, dans laquelle vous renseignez les détails de votre rapport, apparaît :

**Ensemble de données:** L'ensemble de données que vous souhaitez afficher.

**Période de rapport :** La période réelle pour laquelle vous souhitez récupérer les données. Il peut s'agir de périodes agrégées ou brutes. Cela signifie que vous pouvez demander un rapport trimestriel ou annuel même si l'ensemble de données est collecté mensuellement. Le type de période d'un ensemble de données (fréquence de collecte) est défini dans la maintenance de l'ensemble de données. Sélectionnez d'abord le type de période (Mensuel, Trimestriel, Annuel, etc.) dans le menu déroulant à côté des boutons Précédent et Suivant, puis sélectionnez l'une des périodes disponibles dans la liste déroulante ci-dessous. Utilisez Précédent et Suivant pour sauter d'un an en arrière ou en avant.

**Utiliser les données uniquement pour l'unité sélectionnée :** Utilisez cette option si vous souhaitez avoir un rapport pour une unité d'organisaton ayant des ramifications (enfants), mais seulement si vous avez besoin des données collectées directement par cette unité et non par ses enfants. Si vous souhaitez un rapport agrégé typique pour une unité d'organisation spécifique, ne cochez pas cette option.

**Rapport d'unité d'organisation :** Ici, vous sélectionnez l'orgunit pour laquelle vous souhaitez avoir le rapport. Cette opération peut s'effectuer à n'importe quel niveau de la hiérarchie étant donné que les données seront automatiquement agrégées jusqu'à ce niveau (si vous ne cochez pas l'option d'en haut).

Après avoir entré les critères du rapport, cliquez sur "Générer". Le rapport apparaîtra sous format HTML et imprimable. Utilisez les fonctions d'impression et d'enregistrement dans le navigateur pour imprimer ou sauvegarder le rapport (sous forme de fichier HTML). Vous pouvez également exporter le rapport de l'ensemble de données aux formats Excel et PDF.

## Utiliser le résumé du taux de génération de rapports { #reporting_rate_summary_in_the_beta_reports_app }

Accédez au récapitulatif du taux de génération de rapports à partir du menu Apps-\> Rapports. Les récapitulatifs de taux de rapports afficheront le nombre d'ensembles de données (formulaires) soumis par unité d'organisation et par période.

Le calcul du taux de déclaration est basé sur les enregistrements de l'ensemble de données. Un enregistrement d'ensemble de données complet se réfère à un utilisateur marquant un formulaire de saisie comme étant complet, généralement en cliquant sur le bouton dans l'onglet de saisie de données, indiquant ainsi au système de considérer le formulaire comme étant complet. Il s'agit d'une approche subjective du calcul de l'exhaustivité.

Le récapitulatif du taux de génération de rapports affichera pour chaque ligne un éventail de mesures spécifiques :

-   Rapports réels : indique le nombre de sauvegardes de saisies de données terminées pour l'ensemble de données concerné.

-   Rapports prévus : indique le nombre prévu de saisies de données terminées. Ce nombre est basé sur le nombre d'unités d'organisation auxquelles l'ensemble de données a été affecté (activé pour la saisie de données).

-   Taux de déclaration : Le pourcentage de rapports enregistrés comme complets sur la base du nombre attendu.

-   Rapports à temps : identiques aux rapports réels, uniquement les rapports enregistrés comme compléts pendant le nombre maximum de jours suivant la fin de la période de rapport. Ce nombre de jours suivant la période de rapport peut être défini pour chaque ensemble de données dans la gestion des ensembles de données.

-   Taux de déclaration  à temps : Identique au pourcentage, uniquement les rapports enregistrés comme complets à l'heure utilisée au numérateur.

Pour exécuter le rapport, vous pouvez suivre les étapes ci-dessous :

-   Sélectionnez une unité d'organisation dans l'arborescence.

-   Sélectionnez un ensemble de données.

-   Sélectionnez un type de période et une période dans la liste des périodes disponibles pour ce type de période.

-   Le rapport sera alors généré. Modifiez l'un des paramètres ci-dessus et cliquez à nouveau sur "Obtenir le rapport" pour voir les résultats correspondants.

![](resources/images/dhis2UserManual/react_reports_app_reporting_rate_summary.png)

## Utiliser les ressources { #resources_in_the_beta_reports_app }

L'outil de ressources vous permet de télécharger les fichiers de votre répertoire local au serveur DHIS et d'ajouter des liens vers d'autres ressources sur Internet via des liens URL. Si le stockage en nuage est configuré pour votre système, les ressources y seront sauvegardées.

Pour créer une nouvelle ressource :

1.  Ouvrez l'application **Rapports** et cliquez sur **Ressource**.

2.  Cliquez sur **AJOUTER**.

3.  Entrez un **Nom**.

4.  Sélectionnez un **Type**: **Télécharger un fichier** ou **URL externe**.

5.  Cliquez sur **Sauvegarder**.

## Utiliser des rapports de distribution des unités d'organisation { #orgunit_distribution_reports_in_the_beta_reports_app }

Vous pouvez accéder aux rapports de distribution des unités d'organisation à partir du menu à gauche dans Applications-\>Rapports.

Les rapports de distribution d'unités d'organisation montrent comment les unités d'organisation sont distribuées sur diverses propriétés comme le type et la propriété, et ceci par zones géographiques.

Le résultat peut être présenté dans un rapport sous forme de tableau ou dans un graphique.

**Exécuter un rapport:**

Pour générer un rapport, sélectionnez d'abord une orgunit dans l'arborescence des unités d'organisation en haut à gauche. Le rapport sera basé sur les unités d'organisation situées sous l'unité d'organisation sélectionnée. Sélectionnez le groupe d'orgunit que vous souhaitez utiliser. Il s'agit généralement du Type, la Propriété, Rural/Urbain, mais notez qu'ils peuvent également être définis par l'utilisateur. Vous pouvez cliquer sur le bouton Générer un rapport pour obtenir la présentation sous forme de tableau ou un graphique pour le même résultat. Vous pouvez également le télécharger le rapport basé sur les tableaux sous un autre format tel que PDF, Excel et CSV.

![](resources/images/dhis2UserManual/react_reports_app_org_unit_dist.png)

# Messagerie { #messages }

## À propos des messages et des commentaires { #about-messages-and-feedback-messages }

![](resources/images/messaging/view_inbox.png)

Dans DHIS2, vous pouvez envoyer des messages et des commentaires aux utilisateurs, à des groupes d'utilisateurs et aux unités d'organisation. Lorsque vous envoyez un commentaire, il est routé vers un groupe d'utilisateurs particulier appelé groupe de destinataires. Si vous êtes membre de ce groupe d'utilisateurs, vous avez alors accès aux outils de gestion des commentaires. Vous pouvez, par exemple, définir le statut d'un nouveau commentaire à "En attente" pendant que vous attendez d'avoir plus d'informations.

En plus des messages entre utilisateurs et des commentaires, en fonction de votre configuration, le système vous enverra également des messages génériques. Ces messages peuvent être déclenchés par différents événements, y compris les échecs et défaillances de tâches en arrière-plan et la validation des résultats d'analyse. Les outils de gestion des commentaires sont également disponibles pour les résultats de validation et la priorité sera attribuée à l'importance de la règle de validation violée.

Pour aller à l'application, cliquez sur **l'icône du message dans l'en-tête** ou recherchez l'application **Messagerie** dans le champ de recherche des applications.

> **Note**
>
> Messages and feedback messages are not sent to users' e-mail addresses, the messages only appear within DHIS2.
>
> With 2.30 we introduced a new messaging app which offers a richer messaging experience. Specifically:
>
> -   Switch between list view and compact view by clicking the icon in the top right corner.
>
>     -   The list view is simplistic and gives a good overview of all messages and is especially suited for feedback and validation messages.
>     -   The compact view is a modern way of view messages where the user has more information in one view, hence viewing and replying several messages is easier.
>
>     The first screenshot in this section displays list view, while the screenshot in section **Read a message** displays the compact view.
>
> -   A new search field is added which enables the user to search for messages. The search filters messages on different message attributes; subject, text and senders. This implies that you are able to narrow down the message conversation list by entering a search.
>
> -   A auto refresh feature is added so that the app fetches new messages at a set interval, every 5 minutes. This feature is disabled by default.
>
> -   For every message conversation you are able to add participants to the conversation. This is very useful if you want input on that particular conversation or if someone should also see the information. It is not possible to delete participants from a conversation.

## Créer un message { #create-a-message }

![](resources/images/messaging/create_private_message.png)

1.  Cliquez sur **Composer**.

2.  Définissez à qui vous souhaitez envoyer le message. Vous pouvez envoyer un message aux unités d'organisation, aux utilisateurs ainsi qu'à des groupes d'utilisateurs.

    -   Dans le champ **À**, vous pouvez rechercher des unités d'organisation, des utilisateurs et des groupes d'utilisateurs et sélectionner les destinataires souhaités.

3.  Saisissez un objet et le corps du message.

4.  Cliquez sur **Envoyer**.

## Lire un message { #read-a-message }

![](resources/images/messaging/read_message.png)

1.  Sélectionnez le type de message approprié à gauche.

2.  Cliquez sur un message.

    Si le message fait partie d'une conversation, vous verrez tous les messages de cette conversation.

## Créer un commentaire { #create-a-feedback-message }

1.  Suivez les étapes pour créer un message, en sélectionnant uniquement **Commentaire** au lieu de saisir les destinataires.

2.  Le message sera créé en tant que commentaire et apparaîtra dans le dossier **Tickets** de tous les utilisateurs spécifiés.

## Pièces jointes. { #attachments }

Avec 2.31, nous avons ajouté les pièces jointes aux messages. Lors de la création ou de la réponse dans une conversation, vous avez la possibilité d'ajouter des pièces jointes. Il n’existe actuellement aucune limitation quant au type ou à la taille du fichier.

## Gérer les commentaires et validations { #manage-validation-and-feedback-messages }

> **Note**
>
> Vous ne verrez que les commentaires et aurez accès aux outils de traitement  si vous êtes membre du groupe d'utilisateurs autorisés à gérer les commentaires.
>
> Avec la nouvelle application, vous gérez les outils  pour les tickets et les messages de validation via le menu d'icônes qui apparaît lors de la visualisation d'un message ou de la vérification des messages dans la liste de conversations.

### Tous les messages sont sélectionnés. { #all-messages-selected }

![Tous les messages sélectionnés](resources/images/messaging/view_validation_select_all.png)

### Tous les messages sont sélectionnés et le sélecteur de choix étendu est sélectionné { #all-messages-selected-and-extended-choice-picker-selected }

![Tous les messages sélectionnés et sélection des choix](resources/images/messaging/view_validation_select_all_icon_menu.png)

Vous recevrez des commentaires dans votre dossier **Tickets** et des messages de validation dans votre dossier **Validation**. Pour les commentaires et les messages de validation, vous disposez des options suivantes, en plus de celles des messages:

<table style="width:100%;">
<caption>Outils de gestion des commentaires</caption>
<colgroup>
<col width="23%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Fonction</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Priorité</strong></p></td>
<td><p>Vous pouvez marquer un commentaire avec différentes priorités: <strong>neutre</strong>, <strong>Faible</strong>, <strong>Moyenne</strong> ou <strong>Élevée</strong>.</p>
<p>Définir la priorité facilite la distinction du commentaire que vous devez résoudre en premier et ceux pouvant attendre.</p></td>
</tr>
<tr class="even">
<td><p><strong>Statut</strong></p></td>
<td><p>Tous les commentaires reçoivent le statut <strong>Ouvert</strong> à la création.</p>
<p>Pour garder une traçabilité des commentaires existants, vous pouvez définir le statut sur <strong>En attente</strong>, <strong>non valide</strong> ou <strong>Résolu</strong>.</p>
<p>Vous pouvez filtrer les commentaires dans votre boîte de réception en fonction de leur statut. Ceci facilite le basculement entre les commentaires et les messages normaux.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Attribué à</strong></p></td>
<td><p>Vous pouvez affecter un commentaire à n'importe quel membre du groupe d'utilisateurs autorisé à les gérer.</p>
<p></p>
<p><strong>-</strong> Aucun signifie que vous n'avez affecté aucun utilisateur au commentaire.</p></td>
</tr>
<tr class="even">
<td><p><strong>Réponse interne</strong></p></td>
<td><p>Lorsque vous travaillez au sein d'une équipe de traitement des commentaires, vous pouvez en discuter avant de répondre à l'expéditeur. Vous pouvez conserver cette discussion dans la même conversation que le commentaire lui-même.</p>
<p>Pour envoyer une réponse dans le groupe d'utilisateurs de traitement des commentaires, cliquez sur <strong>Réponse interne</strong>.</p></td>
</tr>
</tbody>
</table>

## Configurer la fonction commentaire { #configure-feedback-message-function }

Pour configurer la fonction commentaire, vous devez :

1.  Créez un groupe d'utilisateurs (par exemple, "Destinataires du commentaire") qui contient tous les utilisateurs qui devraient le recevoir.

2.  Ouvrez l'application **Paramètres système** et cliquez sur **Général** \> **destinataires** et sélectionnez le groupe d'utilisateurs créé lors de l'étape précédente.

# Définir les préférences du compte d'utilisateur { #user_account_preferences }

Dans **Paramètres de l'utilisateur**, vous pouvez modifier la langue d'affichage de DHIS2 et la langue de la base de données. La langue de la base de données est la traduction du contenu des métadonnées, tels que des éléments de données et des indicateurs. Vous pouvez également choisir un style d'affichage et activez ou désactivez la réception des SMS et e-mails. Si vous le souhaitez, vous pouvez utiliser un nom abrégé, tel que "Joe" dans les modules d'analyse, au lieu d'utiliser votre nom complet.

Dans **Profil de l'utilisateur**, vous pouvez ajouter des informations personnelles à votre profil comme votre adresse électronique, votre numéro de téléphone mobile, votre date de naissance, votre photo de profil et plus. Lorsque vous envoyez des messages, la personne qui les reçoit pouvant voir ces détails de votre profil. Vous pouvez également fournir des noms de compte pour divers services de messagerie directes, qui seront utilisés par le système.

Dans **Paramètres du compte**, vous pouvez réinitialiser votre mot de passe et configurer l'authentification à 2 facteurs. La configuration de l'authentification à 2 facteurs requiert le téléchargement de l'application Google Authenticator sur votre appareil mobile.

Dans la section **Voir le profil complet**, vous trouverez un résumé des détails de votre profil. Cette section comprend quelques champs que vous ne pouvez pas modifier vous-même, tels que les rôles d'utilisateur et les unités d'organisation d'utilisateur.

Dans la section **A propos de DHIS2**, vous trouverez une liste détaillée sur l'instance DHIS2.

# Configurer les métadonnées { #maintenance_app }

## À propos de l'application Maintenance { #about_maintenance_app }

Dans l'application **Maintenance**, vous pouvez configurer tous les objets de métadonnées dont vous avez besoin pour collecter et analyser les données :

-   Les catégories

-   Eléments de données

-   Ensemble de données et formulaires de saisie de données

-   Indicateurs

-   Les unités d’organisation

-   Les métadonnées du programme : entité suivie, attribut de l'entité suivie et type de relation

-   Règles de validation

-   Les attributs

-   Les constantes

-   Les ensembles d'options

-   Les légendes

-   Les prédicteurs

-   Les push reports

-   Les couches de carte externes

> **N.B.**
>
> Les fonctions auxquelles vous avez accès dépendent des autorisations d'accès de votre rôle d'utilisateur.

### Naviguer à travers les objets de métadonnées { #navigating_metadata }

Les objets de métadonnées sont présentés dans une liste avec des colonnes prédéfinies qui sont utiles pour chaque objet. Vous pouvez personnaliser les colonnes de la liste pour l'objet en cours. Ces personnalisations sont effectuées par utilisateur et n'affecteront donc pas les autres utilisateurs. Notez que ces modifications ne modifient pas les métadonnées, mais seulement la façon dont se présente la liste.

#### Gestion des colonnes visibles { #managing-visible-columns }

![](resources/images/maintainence/configurable_columns_dialog.png)

1. Click the ![settings-icon](resources/images/maintainence/icon_settings.png) -icon to the top right of the list of objects you want to configure.
2. Un menu déroulant apparaît, sélectionnez **Gérer les colonnes**.
3. Une boîte de dialogue apparaît, avec les colonnes sélectionnées par défaut.
4. Cliquez sur n'importe quel nom de colonne dans la liste des **Colonnes disponibles** pour les ajouter à la liste des colonnes sélectionnées.
5. You may reorder the selected columns by drag-and-dropping the ![reorder-icon](resources/images/maintainence/icon_reorder.png) -icon.
6. Vous pouvez également supprimer n'importe quelle colonne de la visualsation en cliquant sur l'icône X à côté du nom.
7. Cliquez sur **Enregistrer** une fois que vous êtes satisfait de vos modifications.

Vous pouvez facilement réinitialiser les valeurs par défaut en cliquant sur le bouton **Rétablir les valeurs par défaut**.

##### Télécharger les métadonnées { #download-metadata }

Vous pouvez télécharger les métadonnées relatives à l'objet que vous consultez actuellement. Le téléchargement des métadonnées tiendra compte de tous les filtres que vous avez activés pour la liste.

1. Click the ![settings-icon](resources/images/maintainence/icon_settings.png) -icon to the top right of the list of objects you want to configure.
2. Un menu déroulant apparaît, sélectionnez **Télécharger**.
3. Une boîte de dialogue, dans laquelle vous pourrez sélectionner le format et la compression souhaités, apparaît.
4. **Avec partage** peut être sélectionné pour inclure des données de partage pour les métadonnées.

## Gérer les catégories { #manage_category }

### À propos des catégories { #about_category }

Les catégories sont généralement un concept, par exemple "sexe", "âge" ou "état de la maladie". Les éléments de données tels que le "nombre de cas de paludisme confirmés" sont souvent divisés en plus petits éléments afin de déterminer, par exemple, le nombre de cas de paludisme confirmés pour des groupes d'âge particuliers.

Utilisez des catégories pour désagréger les éléments de données en composantes individuelles. Vous pouvez également utiliser des catégories pour affecter des attributs de métadonnées à toutes les données enregistrées dans un ensemble de données spécifique, comme "Partenaire de mise en œuvre" ou "Organisme de financement".

Créer trois catégories : "Moins de 1", "1-5" et "Plus de 5". Assignez-les comme catégories à l'élément de donnée. Cela crée alors trois champs distincts pour ces données dans les formulaires de saisie :

-   Nombre de cas de paludisme confirmés (Moins de 1 an)

-   Nombre de cas de paludisme confirmés (1-5 ans)

-   Nombre de cas de paludisme confirmés (plus de 5 ans)

Sans les catégories, vous auriez dû créer séparément chacun des éléments de données énumérés ci-dessus.

Dans l'application **Maintenance**, vous gérez less catégories d'objets ainsi que les éléments suivants :

<table>
<caption>Objets de catégorie dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Option de catégorie</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Catégorie</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Combinaison de catégories</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Combinaison d'options de catégorie</p></td>
<td><p>Modifier et afficher les détails</p></td>
</tr>
<tr class="odd">
<td><p>Groupe d'options de catégorie</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Ensemble de groupes d'options de catégorie</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

### Déroulement { #workflow_category }

1.  Créez toutes les options de catégorie.

2.  Créer des catégories composées des options de catégorie que vous avez créées.

3.  Créer des combinaisons de catégories composées d'une ou plusieurs catégories.

4.  Créer des éléments de données et attribuez-les à une combinaison de catégories.

### Créer ou modifier une option de catégorie { #create_category_option }

Dans la mesure du possible, recyclez les options de catégorie. Par exemple, il peut y avoir deux catégories qui peuvent partager une option de catégorie particulière (par exemple \<1 an). Lors de la création des catégories, cette option de catégorie pourrait être réutilisée. Cette réutilisation est importante si des options de catégorie particulières (ou des combinaisons d'options de catégories) doivent être analysées ensemble.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Option de catégorie**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Date de début**

    3.  **Date de fin**

4.  Sélectionnez des unités d'organisation et attribuez-les.

    > **Tip**
    >
    > You can automatically select all organisation units that belong to an organisation unit level or organisation unit group, for example "Chiefdom" or "Urban. To do this:
    >
    > Select an **Organisation unit level** or **Organisation unit group** and click **Select**.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier une catégorie { #create_category }

Après avoir créé toutes les options de catégorie pour une catégorie particulière, vous pouvez alors créer cette catégorie.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Catégorie**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Code**

    3.  **Type de dimension des données**

        A category either be of type "Disaggregation" or "Attribute". For disaggregation of data elements, you select **Disaggregation**. The data dimension type "Attribute" allows the category to be used to assign a combination of categories to data recorded through a data set or a program (event or tracker).

    4.  **Dimension des données**

        Si vous sélectionnez **Dimension des données**, la catégorie sera disponible pour l'analyse sous forme d'une autre dimension, en plus des dimensions standard de "Période" et "Unité d'organisation".

4.  Sélectionnez les options de catégorie et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier une combinaison de catégories { #create_category_combination }

Les combinaisons de catégories vous permettent de combiner plusieurs catégories dans un ensemble connexe.

Vous pouvez ventiler l'élément de données "Nombre de nouvelles infections par le VIH" dans les catégories suivantes :

-   Service VIH : "Autres", "PTME", "Tuberculose"

-   Sexe : "Masculin", "Féminin"

Dans cet exemple, il y a deux niveaux de désagrégation composés deux catégories distinctes d'éléments de données. Chaque catégorie d'éléments de données se compose à son tour de plusieurs options de catégories d'éléments de données.

Dans DHIS2, les différents éléments de données sont désagrégés selon un ensemble commun de catégories. En combinant ces différentes catégories en une combinaison de catégories et en affectant ces combinaisons aux éléments de données, vous pouvez appliquer rapidement les niveaux de désagrégation appropriés à un grand nombre d'éléments de données.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Combinaison de catégories**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Code**

    3.  **Type de dimension des données**

    4.  **Sauter le total des catégories dans les rapports**

4.  Sélectionnez des catégories et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'options de catégorie { #create_category_option_group }

Vous pouvez regrouper et classer les options de catégorie à partir des groupes d'options de catégorie. L'objectif principal du groupe d'options de catégorie est d'ajouter plus de dimensionnalité à vos données saisies pour l'analyse, par exemple dans les applications **Tableau croisé dynamique** ou **Visualiseur de données**.

Envisagez un système où les données sont collectées par "projets", et où les projets sont modélisés comme étant des options de catégories. Le système doit être capable d'analyser les données en fonction du donateur qui soutient le projet. Dans ce cas, créez un ensemble de groupes d'options de catégorie appelé "donateur". Chaque donateur peut être créé comme un étant un groupe d'options de catégorie, où chaque option de catégorie / projet est placé dans le groupe approprié. Dans les applications d'analyse des données, le groupe "Donateur" s'affichera comme étant une dimension de données, tandis que chaque donateur apparaîtra comme un élément de dimension, prêt à être inclus dans les rapports.

Pour créer un groupe d'options de catégorie :

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Groupe d'options de catégorie**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Nom abrégé** : Définissez un nom abrégé pour l'élément de données.

    3.  **Code**

    4.  **Type de dimension des données**

4.  Sélectionnez les **Options de catégorie** et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'options de catégorie { #create_category_option_group_set }

Vous pouvez regrouper les groupes d'options de catégorie dans des ensembles de groupes d'options de catégorie. L'objectif principal des groupes d'options de catégorie est d'ajouter plus de dimensionnalité à vos données saisies pour l'analyse, par exemple dans les applications **Tableau croisé dynamique** ou **Visualiseur de données**.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Ensemble de groupes d'options de catégorie**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Description**

    3.  **Dimension des données**

    4.  **Type de dimension des données**

4.  Sélectionnez les **Groupes d'options de catégorie** et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Utiliser des combinaisons de catégories pour les ensembles de données { #use_category_combo_for_data_set }

Lorsque les catégories et les combinaisons de catégories ont le type de dimension de données "Attribut", elles peuvent donc appliquer un ensemble commun d'attributs à un ensemble connexe de valeurs de données contenues dans un ensemble de données. Lorsque les combinaisons de catégories sont utilisées comme attribut, elles servent alors de dimension supplémentaire (similaire à "Période" et "Unité d'organisation") que vous pouvez utiliser dans votre analyse.

Supposons qu'une ONG fournisse des services du TAR dans un établissement donné. Elle devrait faire rapport chaque mois sur le "sommaire mensuel du TAR", qui contiendrait un certain nombre d'éléments de données. L'ONG et le projet pourraient potentiellement changer au fil du temps. Afin d'attribuer des données à une ONG et à un projet donnés à un moment donné, vous devez alors enregistrer ces informations avec chaque valeur de données au moment de la saisie des données.

1.  Créez deux catégories avec le type de dimension de données "Attribut" : "Partenaire de mise en œuvre" et "Projets".

2.  Créez une combinaison de catégories avec le type de dimension de données "Attribut" : "Partenaires de mise en œuvre et projets".

3.  Affectez les catégories que vous avez créées à la combinaison de catégories.

4.  Créez un ensemble de données appelé "Résumé mensuel des TAR" et sélectionnez la combinaison de catégories "Partenaires de mise en œuvre et projets".

Lorsque vous saisissez des données dans l'application **Saisie de données**, vous pouvez sélectionner un "Partenaire de mise en œuvre" et un "Projet". Chaque valeur de données enregistrée, se voit attribuer une combinaison spécifique de ces catégories en tant qu'attribut. Ces attributs (lorsqu'ils sont spécifiés comme étant une dimension) peuvent être utilisés dans les applications d'analyse de la même manière que d'autres dimensions, par exemple la période et l'unité d'organisation.

![](resources/images/maintainence/categories_dataset_attributes.png)

### Attribuer un code à une combinaison d'options de catégories { #assign_code_category_option_combo }

Vous pouvez attribuer un code aux combinaisons d'options de catégorie. Cela facilite l'échange de données entre le DHIS2 et les systèmes externes. Le système crée automatiquement les combinaisons d'options de catégorie.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Combinaison d'options de catégories**.

2.  Dans la liste, cherchez l'objet que vous souhaitez modifier.

3.  Cliquez sur le menu des options et sélectionnez **Modifier**.

4.  Entrez un code.

5.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les éléments de données { #manage_data_element }

### À propos des éléments de données { #about_data_element }

Les éléments de données constituent la base du DHIS2. Les éléments de données définissent ce qui est réellement enregistré dans le système, par exemple le nombre de vaccinations effectués ou le nombre de cas de malaria.

Les éléments de données tels que le "nombre de cas de paludisme confirmés" sont souvent divisés en plus petites parties pour déterminer, par exemple, le nombre de cas de paludisme confirmés dans des groupes d'âge particuliers.

Dans l'application **Maintenance**, vous pouvez gérer les objets suivants de l'ensemble des données :

<table>
<caption>Objets d'éléments de données dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Élément de donnée</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Groupe d'éléments de données</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Ensemble de groupes d'éléments de données</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

### Déroulement { #workflow_data_element }

1.  Créez toutes les options de catégorie.

2.  Créer des catégories composées des options de catégorie que vous avez créées.

3.  Créer des combinaisons de catégories composées d'une ou plusieurs catégories.

4.  Créer des éléments de données et attribuez-les à une combinaison de catégories.

### Créer ou modifier un élément de données { #create_data_element }

![](resources/images/maintainence/create_data_element.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur ** Éléments de données** \> **Élément de données**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, définissez le nom précis de l'élément de données.

    Chaque élément de données doit avoir un nom unique.

4.  Dans le champ **Nom abrégé**, définissez un nom abrégé pour l'élément de données.

    Généralement, le nom abrégé est une abréviation du nom complet de l'élément de données. Cet attribut est souvent utilisé pour afficher le nom de l'élément de données lorsque l'espace est limité.

5.  (Facultatif) Dans le champ **Code**, attribuez un code.

    Dans de nombreux pays, les éléments de données se voient attribuer un code.

6.  (Facultatif) Dans le champ **Couleur**, attribuez une couleur qui sera utilisée pour cet élément de données dans les applications de saisie de données.

7.  (Facultatif) Dans le champ **Icône**, attribuez une couleur qui sera utilisée pour cet élément de données dans les applications de saisie de données.

8.  Dans le champ **Description**, saisissez une description de l'élément de données. Soyez aussi précis que possible et donnez des informations complètes sur la façon dont l'élément de données est mesuré ainsi que sur son objectif.

9.  (Facultatif) Dans le champ **Masque de champ**, vous pouvez taper un modèle qui est utilisé pour fournir des conseils permettant un bon formatage de l'élément de donnée.

    > **NOTE**
    >
    > So far this is only implemented in the DHIS2 Android Capture app; not in the Capture and Tracker Capture web apps.

    Voici donc les caractères spéciaux qui peuvent être utilisés dans le masque. Les caractères spéciaux correspondent exactement à un caractère du type donné.

    | Caractère  | Correspondance                      |
    | --------- | -------------------------- |
    | \\d       | chiffre                      |
    | \\x       | lettre minuscule          |
    | \\X       | lettre majuscule             |
    | \\w       | tout caractère alphanumérique |

    Par exemple, le modèle peut être utilisé pour afficher des traits d'union dans le champ de saisie de l'élément de données selon les besoins. Par exemple, "\d\d\d-\d\d\d-\d\d\d" montrerait un trait d'union après chaque troisième chiffre.

10. Dans le champ **Nom du formulaire**, saisissez un autre nom de l'élément de données. Ce nom peut être utilisé dans le formulaire à sections ou dans les formulaires de saisie automatique des données. Le nom du formulaire est appliqué automatiquement.

11. Dans le champ **Type de domaine**, sélectionnez si l'élément de données est un agrégat ou un élément de données de type tracker.

12. Dans le champ **Type de valeur**, sélectionnez le type de données que l'élément de données pourra enregistrer.

    <table>
    <caption>Value types</caption>
    <colgroup>
    <col style="width: 53%" />
    <col style="width: 46%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Value type</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Age</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>Coordinate</p></td>
    <td><p>A point coordinate specified as longitude and latitude in decimal degrees. All coordinate should be specified in the format &quot;-19.23 , 56.42&quot; with a comma separating the longitude and latitude.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Date</p></td>
    <td><p>Dates rendered as calendar widget in data entry.</p></td>
    </tr>
    <tr class="even">
    <td><p>Date &amp; time</p></td>
    <td><p>Is a combination of the <strong>DATE</strong> and <strong>TIME</strong> data elements.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Email</p></td>
    <td><p>Email.</p></td>
    </tr>
    <tr class="even">
    <td><p>File</p></td>
    <td><p>A file resource where you can store external files, for example documents and photos.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Image</p></td>
    <td><p>A file resource where you can store photos.</p>
    <p>Unlike the <strong>FILE</strong> data element, the <strong>IMAGE</strong> data element can display the uploaded image directly in forms.</p></td>
    </tr>
    <tr class="even">
    <td><p>Integer</p></td>
    <td><p>Any whole number (positive and negative), including zero.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Letter</p></td>
    <td><p>A single letter.</p></td>
    </tr>
    <tr class="even">
    <td><p>Long text</p></td>
    <td><p>Textual value. Renders as text area with no length constraint in forms.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Negative integer</p></td>
    <td><p>Any whole number less than (but not including) zero.</p></td>
    </tr>
    <tr class="even">
    <td><p>Number</p></td>
    <td><p>Any real numeric value with a single decimal point. Thousands separators and scientific notation is not supported.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Percentage</p></td>
    <td><p>Whole numbers inclusive between 0 and 100.</p></td>
    </tr>
    <tr class="even">
    <td><p>Phone number</p></td>
    <td><p>Phone number.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Positive integer</p></td>
    <td><p>Any whole number greater than (but not including) zero.</p></td>
    </tr>
    <tr class="even">
    <td><p>Positive or zero integer</p></td>
    <td><p>Any positive whole number, including zero.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Organisation unit</p></td>
    <td><p>Organisation units rendered as a hierarchy tree widget.</p>
    <p>If the user has assigned &quot;search organisation units&quot;, these will be displayed instead of the assigned organisation units.</p></td>
    </tr>
    <tr class="even">
    <td><p>Unit interval</p></td>
    <td><p>Any real number greater than or equal to 0 and less than or equal to 1.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Text</p></td>
    <td><p>Textual value. The maximum number of allowed characters per value is 50,000.</p></td>
    </tr>
    <tr class="even">
    <td><p>Time</p></td>
    <td><p>Time is stored in HH:mm format.</p>
    <p>HH is a number between 0 and 23</p>
    <p>mm is a number between 00 and 59</p></td>
    </tr>
    <tr class="odd">
    <td><p>Tracker associate</p></td>
    <td><p>Tracked entity instance. Rendered as dialog with a list of tracked entity instances and a search field.</p></td>
    </tr>
    <tr class="even">
    <td><p>Username</p></td>
    <td><p>DHIS2 user. Rendered as a dialog with a list of users and a search field. The user will need the "View User" authority to be able to utilise this data type</p></td>
    </tr>
    <tr class="odd">
    <td><p>Yes/No</p></td>
    <td><p>Boolean values, renders as drop-down lists in data entry.</p></td>
    </tr>
    <tr class="even">
    <td><p>Yes only</p></td>
    <td><p>True values, renders as check-boxes in data entry.</p></td>
    </tr>
    </tbody>
    </table>

13. Dans le champ **Type d'agrégation**, sélectionnez l'opération d'agrégation par défaut qà utiliser sur l'élément de données.

    La plupart des éléments de données devraient avoir l'opérateur **Somme**. Cela inclut tous les éléments de données qui doivent être additionnés. D'autres éléments de données, tels que les niveaux d'effectifs, doivent être définis pour utiliser l'opérateur **Moyenne**,  c'est-à-dire lorsque les valeurs de la dimension temporelle ne doivent pas être additionnées, elles doivent plutôt être calculées sous forme de moyenne.

    <table>
    <caption>Aggregation operators</caption>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Aggregation operator</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Average</p></td>
    <td><p>Average the values in both the period as and the organisation unit dimensions.</p></td>
    </tr>
    <tr class="even">
    <td><p>Average (sum in organisation unit hierarchy)</p></td>
    <td><p>Average of data values in the period dimension, sum in the organisation unit dimensions.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Count</p></td>
    <td><p>Count of data values.</p></td>
    </tr>
    <tr class="even">
    <td><p>Min</p></td>
    <td><p>Minimum of data values.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Max</p></td>
    <td><p>Maximum of data values.</p></td>
    </tr>
    <tr class="even">
    <td><p>None</p></td>
    <td><p>No aggregation is performed in any dimension.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Sum</p></td>
    <td><p>Sum of data values in the period and organisation unit dimension.</p></td>
    </tr>
    <tr class="even">
    <td><p>Standard deviation</p></td>
    <td><p>Standard deviation (population-based) of data values.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Variance</p></td>
    <td><p>Variance (population-based) of data values.</p></td>
    </tr>
    </tbody>
    </table>

14. Si vous souhaitez enregistrer des zéros pour une raison particulière, sélectionnez **Enregistrer les valeurs de données zéro**. Par défaut, DHIS2 ne stocke pas les valeurs zéro saisis dans le module de saisie des données.

15. Dans le champ **URL**, entrez un lien vers une description détaillée de l'élément de données.

    Il peut par exemple s'agir d'un lien vers un référentiel ou un registre de métadonnées contenant des informations techniques détaillées sur la définition et la mesure de l'élément de données.

16. Dans le champ **Combinaison de catégories**, définissez la combinaison de catégories que l'élément de données doit avoir. C'est ce qu'on appelle la "désagrégation".

17. Sélectionnez un **ensemble d'options**.

    Les ensembles d'options sont des listes prédéfinies d'options pouvant être utilisées pour la saisie de données.

18. Sélectionnez un **Ensemble d'options pour les commentaires**.

    Les ensembles d'options pour commentaires sont des listes prédéfinies d'options peuvant être utilisées pour spécifier des commentaires normalisés pour les valeurs des données dans la saisie des données.

19. Attribuez une ou plusieurs **Légendes**.

    Les légendes sont utilisées par exemple dans l'application **Maps** pour afficher certains éléments de données avec certaines icônes.

20. Définissez les **Niveaux d'agrégation** pour permettre l'agrégation de l'élément de données à un ou plusieurs niveaux :

    1.  Dans le menu de gauche, sélectionnez les niveaux que vous souhaitez attribuer à l'élément de données.

    2.  Cliquez sur la flèche de droite pour attribuer les niveaux d'agrégation.

    Par défaut, l'agrégation commencera au niveau de l'unité d'organisation la plus basse qui a été assignée. Si vous sélectionnez par exemple "Chefferie", cela signifie que les agrégats "Chefferie", "District" et "National" utilisent la "Chefferie" (le niveau d'agrégation le plus élevé disponible) comme source de données, et les données de l'USP ne seront pas incluses. Les données de l'USP seront toujours disponibles pour le niveau de l'USP, mais ne seront pas incluses dans les agrégations aux niveaux supérieurs.

    Si vous sélectionnez à la fois "District" et "Chefferie", cela signifie que les agrégats de niveau "District" et "National" utiliseront les données du district comme source, "Chefferie" utilisera la les données de la chefferie, et "USP" utilisera les données de l'USP.

21. Le cas échéant, entrez les valeurs des attributs personnalisés, par exemple **Classification** ou **Méthode de collecte**.

    > **Note**
    >
    > You create custom attributes in the **Maintenance** app: **Other** > \> **Attributes**.

22. Le cas échéant, sélectionnez les ensembles de groupes d'éléments de données obligatoires, par exemple **Groupe d'éléments de données principal** ou **Données basées sur le tracker**.

    > **Note**
    >
    > You'll only see data element group sets in this form if you've created them and set them to **Compulsory**.
    >
    > You create data element group sets in the **Maintenance** app: **Data element** \> **Date element group set**.

23. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'éléments de données { #create_data_element_group }

Les groupes d'éléments de données vous permettent de classer des éléments de données connexes dans un thème commun. Par exemple, deux éléments de données "Vaccination contre la rougeole" et "Vaccination contre le BCG" peuvent être regroupés dans un groupe d'éléments de données "Vaccination des enfants".

Pour créer un groupe d'éléments de données :

1.  Ouvrez l'application **Maintenance** et cliquez sur ** Éléments de données** \> **Groupe d'éléments de données**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Nom abrégé**

    3.  **Code**

4.  Sélectionnez des éléments de données et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'éléments de données { #create_data_element_group_set }

Les ensembles de groupes d'éléments de données vous permettent de classer plusieurs groupes d'éléments de données dans un ensemble. Le système utilise les ensembles de groupes d'éléments de données lors de l'analyse et de la production de rapports pour combiner des groupes d'éléments de données similaires en un thème commun. Un groupe d'éléments de données peut faire partie de plusieurs ensembles de groupes d'éléments de données.

1.  Ouvrez l'application **Maintenance** et cliquez sur ** Éléments de données** \> **Ensemble de groupes d'éléments de données**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Code**

    3.  **Description**

    4.  **Obligatoire** 

    5.  **Dimension des données**

4.  Sélectionnez des groupe d'éléments de données et attribuez-les.

    Les groupes d'éléments de données disponibles sont affichés dans le panneau de gauche. Les groupes d'éléments de données qui font actuellement partie de l'ensemble des groupes d'éléments de données sont affichés dans le panneau de droite.

5.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les ensembles de données et les formulaires de saisie de données { #manage_data_set }

### À propos des ensembles de données et des formulaires de saisie des données { #about_dataset_dataform }

Toutes les données saisies dans le DHIS2 sont organisées en ensembles de données. Un ensemble de données est une collection d'éléments de données regroupés pour la saisie et l'exportation de données entre les instances du DHIS2. Pour utiliser un ensemble de données afin de collecter des données pour une unité organisationnelle spécifique, vous devez affecter l'unité organisationnelle à l'ensemble de données. Une fois que vous avez affecté l'ensemble de données à une unité organisationnelle, cet ensemble de données est disponible dans l'application **Saisie de données**. Seules les unités organisationnelles auxquelles vous avez affecté l'ensemble de données peuvent utiliser l'ensemble de données pour la saisie de données.

Une combinaison de catégories peut être liée à la fois à des éléments de données et à des ensembles de données. Si vous utilisez une combinaison de catégories pour un ensemble de données, la combinaison de catégories est applicable à l'ensemble du formulaire. Cela signifie que vous pouvez utiliser des catégories pour saisir des informations communes à l'ensemble du formulaire, par exemple le nom d'un projet ou d'une subvention. Lorsqu'un ensemble de données est lié à une combinaison de catégories, ces catégories seront affichées sous forme de menus déroulants dans l'application **Saisie de données**. Les données saisies dans le formulaire seront ensuite liées aux options de catégorie sélectionnées dans ces boîtes déroulantes. Pour savoir comment créer des catégories et des combinaisons de catégories, voir la section "Gérer les éléments de données et les catégories". Veillez à définir le type de catégories et de combinaisons de catégories sur "Attribuer".

Un scénario pour lequel les catégories sont utiles est celui où vous devez saisir un formulaire de saisie de données pour une organisation partenaire de mise en œuvre et un projet. Dans ce cas :

1.  Créer des options et des catégories pour toutes les organisations partenaires et les projets et les relier dans une nouvelle combinaison de catégories.

2.  Attribuez la combinaison de catégories à l'ensemble de données (formulaire) pour lequel vous devez saisir ces informations.

    Lorsque vous ouvrez cet ensemble de données dans le module de saisie des données, les catégories d'organisations partenaires et de projets seront automatiquement affichées sous forme de menus déroulants, ce qui vous permettra de sélectionner une organisation partenaire et un projet spécifique avant de continuer à saisir les données.

Vous créez et modifiez les ensembles de données dans l'application **Maintenance**. Vous y définissez, par exemple, les éléments de données que vous souhaitez inclure dans l'ensemble de données et la fréquence de collecte des données.

Vous saisissez les données dans l'application **Saisie de données**. L'application **Saisie de données** utilise des formulaires de saisie de données pour afficher les ensembles de données. Il existe trois types de formulaires de saisie de données :

<table>
<caption>Types de formulaires de saisie</caption>
<colgroup>
<col style="width: 37%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="header">
<th>Type de formulaire de saisie</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Formulaire par défaut</p></td>
<td><p>Une fois que vous avez attribué un ensemble de données à une unité d'organisation, un formulaire par défaut est créé automatiquement. Le formulaire par défaut est alors disponible dans l'application <strong>Saisie de données</strong> pour les unités d'organisation auxquelles vous l'avez attribué</p>
<p>Un formulaire par défaut consiste en une liste des éléments de données appartenant à l'ensemble de données ainsi qu'une colonne pour la saisie des valeurs. Si votre ensemble de données contient des éléments de données avec une combinaison de catégories autre que celle par défaut, par exemple des groupes d'âge ou le sexe, des colonnes supplémentaires sont automatiquement créées dans le formulaire par défaut en fonction des différentes catégories.</p>
<p>Si vous utilisez plus d'une combinaison de catégories, vous obtenez alors plusieurs colonnes dans le formulaire par défaut avec différents intitulés de colonne pour les options.</p></td>
</tr>
<tr class="even">
<td><p>Formulaire à sections</p></td>
<td><p>Si le formulaire par défaut ne correspond pas à vos besoins, vous pouvez le modifier pour créer un formulaire à sections. Les formulaires à sections vous donnent plus de flexibilité pour l'utilisation des formes tabulaires.</p>
<p>Dans un formulaire à sections, vous pouvez, par exemple, créer plusieurs tableaux avec des sous-titres et désactiver (griser) des cellules dans un tableau.</p>
<p>Lorsque vous ajoutez un formulaire à sections à un ensemble de données, le formulaire à sections est disponible dans l' <strong>application</strong> Saisie de données.</p></td>
</tr>
<tr class="odd">
<td><p>Formulaire personnalisé</p></td>
<td><p>Si le formulaire que vous souhaitez concevoir est trop compliqué pour les formulaires par défaut ou à sections, vous pouvez alors créer un formulaire personnalisé. La création d'un formulaire personnalisé prend plus de temps que celle d'un formulaire à sections, mais vous avez le plein contrôle de la conception.</p>
<p>Vous pouvez, par exemple, reproduire un formulaire d'agrégation papier existant avec un formulaire personnalisé. Cela facilite la saisie des données et devrait réduire le nombre d'éléments de données mal saisis.</p>
<p>Lorsque vous ajoutez un formulaire personnalisé à un ensemble de données, le formulaire personnalisé est disponible dans l' <strong>application</strong> Saisie de données.</p></td>
</tr>
</tbody>
</table>

> **N.B.**
>
> Si un ensemble de données possède à la fois un formulaire par section et un formulaire personnalisé, le système affiche le formulaire personnalisé durant la saisie de données. L'utilisateur qui saisit les données n'a pas la possibilité de choisir le formulaire qui lui convient. Dans le cas de saisie de données sur le web, l'ordre de préférence d'affichage est le suivant :
>
> 1.  Formulaire personnalisé (s'il existe)
>
> 2.  Formulaire à section (s'il existe)
>
> 3.  Formulaire par défaut
>
> Les appareils mobiles ne prennent pas en charge les formulaires personnalisés. Dans le cas de la saisie de données sur appareil mobile, l'ordre de de préférence d'affichage est :
>
> 1.  Formulaire à section (s'il existe)
>
> 2.  Formulaire par défaut

Dans l'application **Maintenance**, vous gérez les objets suivants de l'ensemble de données :

<table>
<caption>Objets de l'ensemble de données dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Ensemble de données</p></td>
<td><p>Créer, affecter aux unités d'organisation, éditer, partager, supprimer, afficher les détails et traduire</p>
<p>Modifier un élément de données obligatoire</p>
<p>Ajouter et supprimer simultanément plusieurs ensembles de données des unités d'organisation</p></td>
</tr>
<tr class="even">
<td><p>Formulaire à sections</p></td>
<td><p>Créer, éditer et gérer les zones grises</p></td>
</tr>
<tr class="odd">
<td><p>Section</p></td>
<td><p>Modifier l'ordre d'affichage, supprimer et traduire</p></td>
</tr>
<tr class="even">
<td><p>Formulaire personnalisé</p></td>
<td><p>Créer, modifier et scripter</p></td>
</tr>
</tbody>
</table>

### Déroulement { #workflow_data_set }

Vous devez disposer d'éléments et de catégories de données pour créer des ensembles de données et des formulaires de saisie de données.

1.  Créez un ensemble de données. 

2.  Affectez l'ensemble de données à des unités d'organisation.

    Un formulaire par défaut est créé automatiquement.

3.  Créer un formulaire de section ou un formulaire personnalisé.

    Vous pouvez maintenant enregistrer des données dans l'application **Saisie de données**.

### Créer ou modifier un ensemble de données { #create_data_set }

![](resources/images/datasets/data_set_create.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, saisissez le nom précis de l'ensemble de données.

4.  Dans le champ **Nom abrégé**, définissez un nom abrégé pour l'ensemble de données.

    Généralement, le nom abrégé est une abréviation du nom complet de l'ensemble de données. Cet attribut est souvent utilisé pour afficher le nom de l'ensemble de données lorsque l'espace est limité.

5.  (Facultatif) Dans le champ **Code**, attribuez un code.

6.  Dans le champ **Description**, saisissez une description de l'ensemble de données.

7.  Indiquez le nombre de **Jours d'expiration**.

    Le nombre de jours d'expiration contrôle la durée pendant laquelle il devrait être possible de saisir des données dans l'application **Saisie de données** pour cet ensemble de données. Les jours d'expiration font référence au nombre de jours après la date de fin de la période de saisie sélectionnée où le formulaire de saisie doit être ouvert pour la saisie. Après l'expiration de ce nombre de jours, l'ensemble de données sera verrouillé pour une nouvelle saisie.

    Vous pouvez définir des exceptions manuelles à cette règle en utilisant la fonctionnalité d'exception de verrouillage dans l'application **Administration des données**.

    > **Note**
    >
    > To allow data entry into all possible historical time periods, set the number of expiry days to zero.

8.  Si vous souhaitez qu'il y ait la possible de saisir des données pour des périodes futures, saisissez le nombre de périodes dans le champ **Ouvrir des périodes futures pour la saisie de données**.

    La valeur est le nombre de périodes futures disponibles pour la saisie des données.

    Pour un ensemble de données mensuelles, une valeur de 2 vous permet de saisir des données pendant 2 mois à l'avance. Cela est utile pour, par exemple, les données relatives à la population, aux objectifs et à la planification.

9.  Dans le champ **Jours après la période d’admissibilité à une soumission dans les délais**, entrez le nombre de jours pendant lesquels les données peuvent être saisies pour être considérées comme transmises dans les délais.

    Pour vérifier le nombre de rapports soumis en temps voulu, allez à **Rapports** \> **Résumé du taux de déclaration**.

10. Sélectionnez un **Type de période**.

    Le type de période définit la fréquence de déclaration pour l'ensemble de données particulier. La fréquence peut par exemple être quotidienne, trimestrielle ou annuelle.

11. Sélectionnez une **Combinaison de catégories** pour l'affecter à l'ensemble de données.

    > **Tip**
    >
    > Click **Add new** to create category combinations that you're missing. In the form that opens, create the category combinations you need. When you're done, click **Refresh values**.

12. Si vous avez sélectionné une combinaison de catégories autre que **Aucune**, vous pouvez saisir zéro ou un nombre positif pour **Périodes ouvertes après la date de fin de l'option de catégorie**. Cela vous permet de saisir des données dans cet ensemble de données pour une option de catégorie jusqu'au nombre spécifié de périodes après la date de fin de cette option de catégorie.

13. Dans la liste des **Destinataires de notification complets**, sélectionnez un groupe d'utilisateurs qui devrait recevoir un message lorsque l'ensemble de données est marqué comme complet dans l'application **Saisie de données**.

    Le message est transmis via le système de messagerie DHIS2.

14. Si vous souhaitez que l'utilisateur qui a saisi les données reçoive un message lorsque l'ensemble de données est marqué comme complet dans l'application **Saisie de données**, sélectionnez **Envoyer une notification à l'utilisateur complet**.

    Le message est transmis via le système de messagerie DHIS2.

15. Le cas échéant, sélectionnez un ** Flux d'approbation des données**.

16. Si vous souhaitez qu'il y ait la possibilité d'utiliser l'ensemble de données dans l'application DHIS2 Java mobile, sélectionnez **Activer pour le client Java mobile**.

17. Si vous souhaitez qu'il soit obligatoire de remplir toutes les valeurs pour un élément de données lors de la saisie si une ou plusieurs valeurs ont été remplies, sélectionnez **Tous les champs pour les éléments de données requis**.

    Cela signifie que si vous saisissez une valeur pour un élément de données dans un champ de saisie (c'est-à-dire pour une combinaison d'options de catégorie), vous devez alors saisir des données pour tous les champs appartenant à cet élément de données (c'est-à-dire toutes les combinaisons d'options de catégorie).

18. Si vous souhaitez qu'un formulaire de saisie puisse être marqué comme complet uniquement si la validation de ce formulaire est réussie, sélectionnez **Complète autorisé uniquement en cas de validation réussie**.

    Si vous sélectionnez cette option, vous ne pouvez pas marquer le formulaire comme complet en cas d'échec de la validation.

19. Si vous voulez qu'il soit obligatoire de fournir un commentaire justifiant l'absence de toute valeur manquante, sélectionnez **Les valeurs manquantes nécessitent un commentaire à la fin**.

20. (Facultatif) Attribuez une ou plusieurs **Légendes**.

21. Le cas échéant, sélectionnez **Sauter hors ligne**.

    Cette option permet de déterminer si ce formulaire de saisie doit être téléchargé et enregistré dans le navigateur web de l'utilisateur. Normalement, vous ne devriez pas sélectionner **Sauter hors ligne**. C'est le paramètre par défaut. Si vous avez des formulaires volumineux qui sont rarement utilisés, vous pouvez alors envisager de sélectionner cette option pour accélérer le chargement initial dans le module de saisie des données.

22. Le cas échéant, sélectionnez **Décoration des éléments de données**.

    Si vous sélectionnez cette option, les descriptions des éléments de données sont rendues dans les rappels dans les ensembles de données téléchargés en mode hors ligne dans l'application **Saisie de données**.

23. Le cas échéant, sélectionnez **Rendre les sections sous forme d'onglets**.

    Cette option n'est applicable que pour les formulaires à sections. Elle vous permet de rendre chaque section sous forme d'un onglet horizontal au-dessus de l'ensemble de données. Elle est également utile pour les grands ensembles de données puisqu'elle permet de sélectionner rapidement les sections appropriées sans avoir à parcourir le formulaire dans son intégralité.

24. Le cas échéant, sélectionnez **Rendre verticalement**.

    Cette option n'est applicable que pour les formulaires à sections.

25. Sélectionnez des éléments de données et attribuez-les.

    Vous pouvez passer outre la combinaison de catégories pour chaque ensemble de données sélectionné en cliquant sur l'icône de l'engrenage au-dessus de la liste des éléments de données sélectionnés. Cela vous permet d'utiliser une combinaison de catégories spécifique (désagrégation) dans l'ensemble de données actuel au lieu de la combinaison de catégories associée directement à l'élément de données lui-même.

26. Sélectionnez des indicateurs et attribuez-les.

27. Dans l'arbre des unités d'organisation, sélectionnez les unités d'organisation auxquelles vous voulez attribuer l'ensemble de données.

    > **Tip**
    >
    > -   Click **Organisation unit level** to select all organisation units that belong to a certain organisation level.
    >
    > -   Click **Organisation unit group** to select all organisation units that belong to a certain organisation unit group.

28. Cliquez sur **Sauvegarder**.

Vous pouvez maintenant utiliser l'ensemble de données dans l'application **Saisie de données** pour les unités d'organisation que vous avez affectées et pour les périodes selon la fréquence sélectionnée (type de période).

### Créer ou modifier la notification d'un ensemble de données { #create_data_set_notification }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Notification des ensembles de données**.

2.  Cliquez sur le bouton d'ajout.

#### Ce qu'il faut envoyer { #what-to-send }

![](resources/images/datasets/dataset_notification_create.png)

1.  Dans le champ **Nom**, saisissez le nom précis de la notification de l'ensemble de données.

2.  (Facultatif) Dans le champ **Code**, attribuez un code.

3.  Saisissez **Ensembles de données**.

    Ces ensembles de données seront associés à cette notification. Si l'un d'entre eux est complété pour une certaine période et unité d'organisation, la notification sera alors générée par le système.

    > **Note**
    >
    > Nothing will happen if no data set is selected

4.  Dans la section **Modèle de message**, nous avons deux paramètres.

    -   **Modèle d'objet** :  objet de la notification envoyée dans la notification. Il peut avoir des valeurs provenant de la liste de variables disponible sur le côté droit.

    -   **Modèle de message** : message réel envoyé en notification. Il peut avoir des valeurs provenant de la liste des variables disponibles sur le côté droit.

    > **Note**
    >
    > Subject is only relevant in case of Email and internal DHIS2 messages. It is ignored in case of SMS.

#### Quand faut-il envoyer ? { #when-to-send }

![](resources/images/datasets/when_to_send.png)

1.  Le champ **Déclencheur de notification d'un ensemble de données** déterminer quand envoyer la notification.

    -   **Fin de l'ensemble de données** déclenchera une notification dès que l'ensemble de données sera achevé.

    -   **Fixer les jours** planifiera la notification en fonction du nombre de jours par rapport à la date prévue. La date prévue sera déterminée par la période associée à l'ensemble de données.

        -   **Envoyer une notification sous forme de ** prévoit deux types de notification différents

            -   **Résumé collectif** envoie la notification en mode résumé

            -   **Notification unique** envoie la notification en mode unique

    > **Note**
    >
    > **Send notification as** option is only available in case of scheduled notification. This option is set to default which is **Single notification** in case of completion notification

#### À qui envoyer ? { #who-to-send }

![](resources/images/datasets/who_to_send.png)

1.  Le champ **Destinataire de la notification** permet de déterminer les destinataires de la notification.

    -   **Contact de l'unité d'organisation** permet d'envoyer la notification au contact affecté à l'unité organisationnelle auprès de laquelle les données ont été collectées.

    -   **UserGroup** enverra une notification à tous les membres du groupe d'utilisateurs sélectionné.

    > **Note**
    >
    > An internal DHIS2 message will be sent in case if recipient is UserGroup. Moreover user will also receive SMS/EMAIL if phone number and email address exist for that user and SMS/EMAIL notifications are enabled in SystemSettings

### Ignorer les combinaisons de catégories d'éléments de données dans un ensemble de données { #override_dataelement_catcombo_in_dataset }

Vous pouvez modifier la combinaison de catégories à utiliser pour un élément de données au sein d'un ensemble de données. Cela signifie qu'un élément de données peut utiliser différentes combinaisons de catégories au sein de différents ensembles de données. Ceci est utile lorsque vous souhaitez réutiliser un élément de données puisque vous n'avez pas besoin de le reproduire pour permettre des combinaisons de catégories multiples.

Au cas où de différentes régions au sein de votre hiérarchie d'unités d'organisation utilisent des désagrégations différentes, ou lorsque les désagrégations changent au fil du temps, vous pouvez représenter cela en créant différents ensembles de données avec les combinaisons de catégories appropriées.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données que vous souhaitez modifier.

3.  Cliquez sur le menu des options et sélectionnez **Modifier**.

4.  Allez à la section des éléments de données et cliquez sur l'icône de clé.

5.  Sélectionnez de nouvelles combinaisons de catégories et cliquez sur **Fermer**.

6.  Cliquez sur **Sauvegarder**.

### Modifier les éléments de données obligatoires dans un ensemble de données { #edit_compulsory_dataelement_in_dataset }

Vous pouvez ajouter ou supprimer des éléments de données qui seront marqués comme obligatoires lors de la saisie des données.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données que vous souhaitez modifier.

3.  Cliquez sur le menu des options et sélectionnez **Modifier les éléments de données obligatoires**.

4.  Attribuer les éléments de données obligatoires.

5.  Cliquez sur **Sauvegarder**.

### Télécharger les formulaires de données par défaut au format PDF { #download_defaultform_pdf }

Vous pouvez télécharger une donnée par défaut au format PDF pour la saisie de données hors ligne.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'objet que vous souhaitez télécharger.

3.  Cliquez sur le menu des options et sélectionnez **Obtenir le PDF pour la saisie des données**.

### Gérer les formulaires à sections { #manage_section_form }

#### Créer un formulaire à sections { #create-a-section-form }

Les formulaires à sections sont séparés automatiquement par des combinaisons de catégories d'éléments de données, ce qui génère un formulaire de saisie semblable à un tableur pour chaque section.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous souhaitez créer un formulaire à sections.

3.  Cliquez sur le menu des options et sélectionnez **Gérer les sections**.

4.  Cliquez sur le bouton d'ajout.

5.  (Facultatif) Dans le champ **Nom**, saisissez le nom de la section.

6.  (Facultatif) Dans le champ **Description**, saisissez une description de la section.

7.  (Facultatif) Pour afficher les totaux des lignes dans le formulaire à sections lors de la saisie des données, sélectionnez **Afficher les totaux des lignes**.

8.  (Facultatif) Pour afficher les totaux des colonnes dans le formulaire à sections lors de la saisie des données, sélectionnez **Afficher les totaux des colonnes**.

9.  Attribuer des éléments de données à la section :

    1.  (Facultatif) Sélectionnez un **Filtre de combinaison de catégories**.

        > **Note**
        >
        > You can only use one category combination per section.

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Option</p></th>
        <th><p>Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p><strong>None</strong></p></td>
        <td><p>Displays all data elements that don't have a category combination.</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>&lt;No filter&gt;</strong></p></td>
        <td><p>Displays all data elements.</p></td>
        </tr>
        </tbody>
        </table>

    2.  Sélectionnez des éléments de données et attribuez-les.

10. (Facultatif) Trier les éléments de données dans la section en utilisant les flèches vers le haut et vers le bas à gauche du champ des éléments de données attribués.

11. Cliquez sur **Sauvegarder**.

12. Répétez les étapes d'ajout de section pour chaque section que vous voulez avoir dans votre formulaire de section.

    Dans l'application **Saisie de données**, vous pouvez maintenant utiliser le formulaire à sections. Le formulaire à sections s'affiche automatiquement lorsque des sections sont disponibles pour l'ensemble de données sélectionné. Les ensembles de données ayant des formulaires à sections afficheront automatiquement le formulaire à sections.

Veuillez noter comment chaque catégorie d'éléments de données est séparée dans une section distincte, et un tableau de saisie des données est automatiquement généré par le système. L'utilisation de formulaires à sections en combinaison avec des catégories d'éléments de données peut réduire considérablement le temps nécessaire à la création de formulaires de saisie de données pour les ensembles de données.

![](resources/images/dhis2UserManual/section_form.png)

#### Modifier un formulaire à sections { #edit-a-section-form }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous souhaitez modifier le formulaire à sections.

3.  Cliquez sur le menu des options et sélectionnez **Gérer les sections**.

4.  Dans la liste, cherchez la section que vous souhaitez modifier.

5.  Cliquez sur le menu des options et sélectionnez **Modifier**.

6.  Modifiez la section et cliquez sur **Enregistrer**.

7.  Répétez les étapes de modification de section pour chaque section que vous souhaitez éditer.

#### Gérer les champs gris dans un formulaire à sections { #manage-grey-fields-in-a-section-form }

Vous pouvez désactiver les éléments de données et les options de catégories pour la saisie des données. Cela signifie qu'il sera impossible d'entrer des données dans ces champs lors de la saisie des données.

![](resources/images/datasets/section_form_grey_fields.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous souhaitez modifier le formulaire à sections.

3.  Cliquez sur le menu des options et sélectionnez **Gérer les sections**.

4.  Dans la liste, cherchez la section que vous souhaitez modifier.

5.  Cliquez sur le menu des options et sélectionnez **Gérer les champs gris**.

6.  Sélectionnez les champs que vous souhaitez désactiver.

    > **Note**
    >
    > If you've sections that contain data elements assigned to multiple category combinations, switch between the category combinations to view all fields.

7.  Cliquez sur **Sauvegarder**.

#### Modifier l'ordre d'affichage des sections dans un formulaire à sections { #change-section-display-order-in-a-section-form }

Vous pouvez contrôler l'ordre dans lequel les sections sont affichées dans un formulaire à sections.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous souhaitez modifier le formulaire à sections.

3.  Cliquez sur le menu des options et sélectionnez **Gérer les sections**.

4.  Dans la liste, cherchez la section que vous souhaitez déplacer.

5.  Cliquez sur le menu des options et sélectionnez **Déplacer vers le haut** ou **Déplacer vers le bas**.

    Si la section que vous souhaitez déplacer est la première ou la dernière position sur la liste, vous ne verrez qu'une des options de déplacement.

#### Supprimer une section dans un formulaire à sections { #delete-a-section-in-a-section-form }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous souhaitez modifier le formulaire à sections.

3.  Cliquez sur le menu des options et sélectionnez **Gérer les sections**.

4.  Dans la liste, cherchez la section que vous souhaitez supprimer.

5.  Cliquez sur le menu des options et sélectionnez **Supprimer**.

#### Traduire une section dans un formulaire à sections { #translate-a-section-in-a-section-form }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous souhaitez modifier le formulaire à sections.

3.  Cliquez sur le menu des options et sélectionnez **Traduire**.

4.  Sélectionnez un lieu.

5.  Entrez les informations requises.

6.  Cliquez sur **Fermer**

### Gérer les formulaires personnalisés { #manage_customform }

#### Créer un formulaire personnalisé { #create-a-custom-form }

Les formulaires personnalisés sont conçus dans un éditeur HTML WYSIWYG intégré. Si vous sélectionnez **Source**, vous pouvez coller le code HTML directement dans la zone d'édition. Pour un guide complet sur l'utilisation de l'éditeur, voir <http://docs.ckeditor.com/>.

![](resources/images/datasets/data_set_custom_form_create.png)

Pour créer un formulaire personnalisé :

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous souhaitez ajouter un formulaire personnalisé.

3.  Cliquez sur le menu des options et sélectionnez **Concevoir le formulaire de saisie**.

4.  Dans la zone d'édition, créez le formulaire personnalisé.

    -   Double-cliquez sur un objet dans la liste de gauche pour l'insérer dans le formulaire.

    -   Si vous avez déjà le code HTML de votre formulaire, cliquez sur **Source** et collez le code.

5.  Sélectionnez un **Style d'affichage du formulaire**.

6.  Cliquez sur **Sauvegarder**.

#### Scripting dans les formulaires personnalisés { #scripting-in-custom-forms }

Dans le formulaire de saisie de données personnalisées, vous pouvez utiliser JavaScript pour créer un comportement dynamique et des personnalisations. Par exemple, vous pouvez masquer les sections du formulaire basées sur des entrées spécifiques de l'utilisateur pour les éléments de données, ou afficher des informations spécifiques lors du chargement d'un formulaire.

##### Événements { #events }

Le module de saisie de données dans DHIS2 fournit une série d'événements auxquels vous pouvez vous inscrire et que vous pouvez utiliser pour effectuer des actions à certains moments. Les événements sont enregistrés sur l'élément du document. L'objet d'événement jQuery et l'identifiant de l'ensemble de données sont toujours les deux premiers arguments fournis aux fonctions de rappel. Le tableau ci-dessous donne un aperçu des événements ainsi que du moment où ils sont déclenchés.

<table>
<caption>Événements de saisie de données</caption>
<colgroup>
<col style="width: 32%" />
<col style="width: 39%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="header">
<th>Clé</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>dhis2.de.event.formLoaded</p></td>
<td><p>Déclenché après le rendu du formulaire de saisie, mais avant la définition des valeurs de données dans les champs de saisie.</p></td>
<td><p>Événement | ID de l'ensemble de données</p></td>
</tr>
<tr class="even">
<td><p>dhis2.de.event.dataValuesLoaded</p></td>
<td><p>Déclenché après la définition des valeurs de données dans les champs de saisie.</p></td>
<td><p>Événement | ID de l'ensemble de données</p></td>
</tr>
<tr class="odd">
<td><p>dhis2.de.event.formReady</p></td>
<td><p>Déclenché lorsque le formulaire de saisie est entièrement rendu et chargé avec tous les éléments.</p></td>
<td><p>Événement | ID de l'ensemble de données</p></td>
</tr>
<tr class="even">
<td><p>dhis2.de.event.dataValueSaved</p></td>
<td><p>Déclenché lorsqu'une valeur de données est sauvegardée avec succès.</p></td>
<td><p>Événement | ID de l'ensemble de données | Objet de la valeur de données</p></td>
</tr>
<tr class="odd">
<td><p>dhis2.de.event.completed</p></td>
<td><p>Déclenché lorsqu'un ensemble de données est marqué avec succès comme étant complet.</p></td>
<td><p>Événement | ID de l'ensemble de données | Objet de l'enregistrement complet</p></td>
</tr>
<tr class="even">
<td><p>dhis2.de.event.uncompleted</p></td>
<td><p>Déclenché lorsqu'un ensemble de données est marqué avec succès comme étant incomplet.</p></td>
<td><p>Événement | ID de l'ensemble de données</p></td>
</tr>
<tr class="odd">
<td><p>dhis2.de.event.validationSuccess</p></td>
<td><p>Triggered when validation is done and there were no violations.</p></td>
<td><p>Événement | ID de l'ensemble de données</p></td>
</tr>
<tr class="even">
<td><p>dhis2.de.event.validationError</p></td>
<td><p>Déclenché lorsque la validation est effectuée et il y a eu une ou plusieurs violations.</p></td>
<td><p>Événement | ID de l'ensemble de données</p></td>
</tr>
<tr class="odd">
<td><p>dhis2.ou.event.orgUnitSelected</p></td>
<td><p>Déclenché lorsqu'une ou plusieurs unités d'organisation sont sélectionnées dans l'arbre web des unités d'organisation.</p></td>
<td><p>Événement | Le ID des unités d'Org | Noms des unités d'Org | Les ID des des sous-unités d'org</p></td>
</tr>
</tbody>
</table>

Pour s'inscrire à un événement :

    <script type="text/javascript">

    dhis2.util.on( 'dhis2.de.event.formReady', function( event, ds ) {
      console.log( 'The form with id: ' + ds + ' is loaded!' );
    } );

    dhis2.util.on( 'dhis2.de.event.dataValueSaved', function( event, ds, dv ) {
      console.log( 'Data value: ' + dv.value + ' was saved with data element: ' + dv.de );
    } );

    dhis2.util.on( 'dhis2.de.event.completed', function( event, ds, cr ) {
      console.log( 'Form was completed for org unit: ' + cr.ou );
    } );

    </script>

> **N.B.**
>
> Veillez à n'utiliser que des événements "namespaced" comme ceux de l'exemple ci-dessus et non des événements généraux comme "clic" car la méthode dhis2.util.on révoque d'abord l'enregistrement de l'événement.

Si votre fonction ne s'applique qu'à certains ensembles de données, vous pouvez utiliser l'identificateur d'ensemble de données fourni et raccourcir votre fonction pour les ensembles de données indésirables comme celui-ci :

    dhis2.de.on( 'dhis2.de.event.validationSuccess', function( event, ds ) {
      if ( $.inArray( ds, ['utXOiGbEj14', 'Re7qzHEThSC'] ) == -1 ) {
        return false;
      }
      console.log( 'Form with id: ' + ds + ' validated successfully!' );
    } );

Les identificateurs des champs de saisie du formulaire de saisie sont au format décrit ci-dessous. Ce format peut être utilisé pour sélectionner les champs de saisie dans votre script et effectuer des actions sur ceux-ci :

    <dataelementid>-<optioncomboid>-val

Étant donné que l'identifiant de l'ensemble de données est fourni pour tous les événements, une alternative possible consiste à utiliser la ressource API Web "files" et à conserver vos fonctions de rappel dans un seul fichier, où vous laissez le code JavaScript agir en fonction de l'ensemble de données actuellement chargé.

##### Fonctions { #functions }

Le module de saisie de DHIS2 contient des fonctions API JavaScript auxquelles on peut accéder à partir de formulaires de saisie personnalisés.

**dhis2.de.api.getSelections**: Cette fonction retourne un objet JavaScript contenant des propriétés pour toutes les dimensions avec des valeurs correspondantes pour les identificateurs des options sélectionnées. Cet objet contient des propriétés pour "ds" (ensemble de données), "pe" (période), "ou" (unité d'organisation) et des identificateurs pour toutes les catégories d'ensembles de données.

Voici un exemple de réponse :

    {
     +  ds: "lyLU2wR22tC",
     +  pe: "201605",
     +  ou: "g8upMTyEZGZ",
     +  LFsZ8v5v7rq: "CW81uF03hvV",
     +  yY2bQYqNt0o: "yMj2MnmNI8L"
     +}

Exemple d'utilisation de cette fonction en JavaScript :

    var sel = dhis2.de.api.getSelections();
     +var orgUnit = sel["ou"];
     +var partner = sel["LFsZ8v5v7rq"];

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gestion des indicateurs { #manage_indicator }

### À propos des indicateurs { #about_indicator }

Un indicateur est une formule qui peut se composer de plusieurs éléments de données, de constantes, du nombre de groupes d'unités d'organisation et d'opérateurs mathématiques. L'indicateur se compose généralement d'un numérateur et d'un dénominateur. Vous utilisez les indicateurs pour calculer les taux de couverture, l'incidence et d'autres valeurs qui sont le résultat des valeurs d'éléments de données saisies dans le système. Les totaux calculés n'ont pas de dénominateur.

> **N.B.**
>
> Ne saisissez jamais les valeurs des indicateurs directement dans le DHIS2, calculez-les.

Une formule d'indicateur peut se composer d'opérateurs mathématiques, par exemple des plus et des moins, de fonctions (voir ci-dessous) et des éléments suivants :

<table>
<caption>Éléments d'indicateurs</caption>
<colgroup>
<col style="width: 36%" />
<col style="width: 30%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Élément d'indicateurs</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Constante</p></td>
<td><p>Composante</p></td>
<td><p>Les constantes sont des valeurs numériques qui restent les mêmes pour tous les calculs d'indicateurs. Ceci est utile lorsqu'on veut avoir un endroit unique pour changer les valeurs susceptibles de changer dans le temps.</p>
<p>Les constantes sont appliquées APRÈS l'agrégation des valeurs des éléments.</p></td>
</tr>
<tr class="even">
<td><p>Éléments de données</p></td>
<td><p>Composante</p></td>
<td><p>Les éléments de données sont remplacés par la valeur des données saisies pour l'élément de donnée.</p></td>
</tr>
<tr class="odd">
<td><p>Jours</p></td>
<td><p>Opérateur</p></td>
<td><p>&quot;Jours&quot; est un opérateur spécial qui fournit toujours le nombre de jours pour le calcul d'un indicateur donné.</p>
<p>Par exemple : si vous voulez calculer le &quot;Pourcentage de temps où le réfrigérateur à vaccins n'a pas fonctionné&quot ;, vous pouvez alors définir le numérateur comme</p>
<p>(&quot;Days-&quot;Nombre de jours où le réfrigérateur à vaccins était disponible&quot;&quot;)/&quot;Jours&quot ;</p>
<p>Si le réfrigérateur était disponible pendant 25 jours en juin, l'indicateur serait alors calculé comme suit</p>
<p>(30-25/25)*100 = 17 %</p>
<p>Si vous voulez calculer le total pour le premier trimestre, le nombre de jours (&quot;Jours&quot ;) serait :</p>
<p>31+28+31 = 90</p>
<p>Le paramètre &quot;Jours&quot; sera toujours le nombre de jours dans la période d'intérêt.</p></td>
</tr>
<tr class="even">
<td><p>Nombre d'unités d'organisation</p></td>
<td><p>Composante</p></td>
<td><p>Vous pouvez utiliser des groupes d'unités d'organisation dans les formules. Ils seront remplacés par le nombre d'unités d'organisation du groupe. Lors de l'agrégation, les unités d'organisation du groupe seront recoupées avec la partie requise de la hiérarchie des unités d'organisation.</p>
<p>Ceci vous permet d'utiliser le nombre d'établissements publics dans un district spécifique dans les indicateurs. Cela est utile par exemple lorsque vous créez des enquêtes et des rapports sur les infrastructures des établissements.</p></td>
</tr>
<tr class="odd">
<td><p>Programmes</p></td>
<td><p>Composante</p></td>
<td><p>Cliquez sur <strong>Programmes</strong> et sélectionnez un programme pour visualiser tous les éléments de données, attributs et indicateurs liés à un programme spécifique.</p>
<p>Les composantes de programme que vous incluez dans votre formule auront une étiquette de programme qui leur sera attribuée.</p></td>
</tr>
</tbody>
</table>

Vous pouvez utiliser les fonctions suivantes dans une formule d'indicateur :

<table>
<caption>Fonctions des indicateurs</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Fonction de l'indicateur</p></th>
<th><p>Arguments</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>si</p></td>
<td><p>(boolean-expr, true-expr, false-expr)</p></td>
<td><p>Évalue l'expression booléenne et si vrai retourne la valeur de l'expression vraie, si faux retourne la valeur de l'expression fausse. Les arguments doivent respecter les règles pour toute expression d'indicateur.</p></td>
</tr>
<tr class="even">
<td><p>estNul</p></td>
<td><p>(élément)</p></td>
<td><p>Retourne vrai si la valeur de l'élément est manquante (nulle), sinon faux.</p></td>
</tr>
<tr class="odd">
<td><p>n'est pas Nul</p></td>
<td><p>(élément)</p></td>
<td><p>Retourne vrai si la valeur de l'élément n'est pas manquante (non nulle), sinon faux.</p></td>
</tr>
<tr class="even">
<td><p>premier non Nul</p></td>
<td><p>(élément [, élément ...])</p></td>
<td><p>Retourne la valeur du premier élément qui n'est pas manquant (pas nul). Peut être fourni avec un nombre quelconque d'arguments. Tout argument peut également être un numérique ou une chaîne littérale, qui sera renvoyé si tous les objets précédents ont des valeurs manquantes.</p></td>
</tr>
<tr class="odd">
<td><p>plus grande</p></td>
<td><p>(expression [, expression ...])</p></td>
<td><p>Retourne la plus grande (la plus élevée) valeur des expressions données. Peut être fourni avec un nombre quelconque d'arguments.</p></td>
</tr>
<tr class="even">
<td><p>plus faible</p></td>
<td><p>(expression [, expression ...])</p></td>
<td><p>Retourne la valeur la plus faible (la plus basse) des expressions données. Peut être fourni avec un nombre quelconque d'arguments.</p></td>
</tr>
<tr class="odd">
<td><p>logarithme</p></td>
<td><p>(expression [, base ])</p></td>
<td><p>Renvoie le logarithme naturel (base e) de l'expression numérique. Lorsqu'un nombre entier est indiqué comme deuxième argument, le logarithme est renvoyé en utilisant cette base.</p></td>
</tr>
<tr class="even">
<td><p>logarithme10</p></td>
<td><p>(expression)</p></td>
<td><p>Renvoie le logarithme commun (base 10) de l'expression numérique.</p></td>
</tr>
<tr class="odd">
<td><p>.décalage de période</p></td>
<td><p>(constante entière)</p></td>
<td><p>Placée après une valeur ou une expression de données, elle renvoie la valeur d'un décalage de période par rapport à la période déclarée. Elle peut être imbriquée. Voir les exemples ci-dessous.</p></td>
</tr>
</tbody>
</table>

Exemples de fonction Offset() de la période dans une expression d'indicateur :

| Expression d'indicateur | Signification |
| --- | --- |
| #{FH8ab5Rog83}.periodOffset(-1) | l'élément de données FH8ab5Rog83 de la période précédente |
| #{FH8ab5Rog83}.periodOffset(+1) | l'élément de données FH8ab5Rog83 de la période suivant |
| #{FH8ab5Rog83}.periodOffset(1) | l'élément de données FH8ab5Rog83 de la période suivant |
| #{FH8ab5Rog83} - 2 \* D{IpHINAT79UW.uf3svrmp8Oj}.periodOffset(-1) | l'élément de données FH8ab5Rog83 de la période de déclaration moins deux fois l'élément de données de programme IpHINAT79UW.uf3svrmp8Oj de la période précédente |
| ( #{FH8ab5Rog83} - <br /> #{QOlfIKgNJ3D2} ).periodOffset(-2) | l'élément de données FH8ab5Rog83 de 2 périodes précédentes moins l'élément de données QOlfIKgNJ3D2 de 2 périodes précédentes |
| #{FH8ab5Rog83}.periodOffset(-2) + <br /> #{FH8ab5Rog83}.periodOffset(-1) | l'élément de données FH8ab5Rog83 de 2 périodes précédentes plus la valeur de 1 période précédente |
| ( #{FH8ab5Rog83}.periodOffset(-1) + <br /> #{FH8ab5Rog83} ).periodOffset(-1) | l'élément de données FH8ab5Rog83 de 2 périodes précédentes plus la valeur de 1 période précédente (notez que les fonctions sont imbriquées) |

<br />

Dans l'application **Maintenance**, vous pouvez gérer les objets d'indicateurs suivants :

<table>
<caption>Objets d'indicateurs dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Indicateur</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, montrer les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Type d'indicateur</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Groupe d'indicateurs</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Ensemble de groupes d'indicateurs</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

### Déroulement { #workflow_indicator }

1.  Créer des types d'indicateurs.

2.  Créer des indicateurs.

3.  Créer des groupes d'indicateurs.

4.  Créer des ensembles de groupes d'indicateurs.

### Créer ou modifier un type d'indicateur { #create_indicator_type }

![](resources/images/maintainence/indicator_type_create.png)

Les types d'indicateurs définissent un facteur appliqué lors de l'agrégation. Les valeurs des indicateurs qui sont calculées lors d'une exportation d'un magasin de données ou d'un processus de génération de tableau de rapport apparaîtront en étant correctement formatées, et ne nécessiteront donc pas de multiplicateur supplémentaire (par exemple 100 dans le cas d'un pourcentage) pour que les valeurs apparaissent en étant correctement formatées.

> **N.B.**
>
> Depuis la version 2.4 du DHIS2, l'objet "Élément de donnée calculé" est devenu obsolète. À la place, vous pouvez créer un élément de donnée calculé en créant un type d'indicateur avec un facteur de "1" et en réglant l'option "Nombre" sur "Oui". Si vous réglez l'option "Nombre" sur "Oui", l'indicateur n'aura pas de dénominateur. Vous ne pourrez donc définir qu'un numérateur, qui servira de formule pour l'élément de donnée calculé.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Type d'indicateur**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, saisissez le nom du type d'indicateur, par exemple "Pour cent", "Pour mille", "Pour dix mille".

4.  Entrez un **Facteur**.

    Le facteur est le facteur numérique qui sera multiplié par la formule de l'indicateur lors du calcul de l'indicateur.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un indicateur { #create_indicator }

![](resources/images/maintainence/indicator_create.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Indicateur**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, saisissez le nom complet de l'indicateur, par exemple "Incidence des cas confirmés de paludisme pour 1000 habitants".

4.  Dans le champ **Nom abrégé**, saisissez un nom abrégé de l'indicateur, par exemple "Inc conf. malaria pour 1000 pop".

    Le nom abrégé doit être inférieur ou égal à 25 caractères, espaces compris.

5.  (Facultatif) Dans le champ **Code**, attribuez un code.

    Dans de nombreux pays, les indicateurs se voient attribuer un code.

6.  (Facultatif) Dans le champ **Couleur**, attribuez une couleur pour représenter l'indicateur.

7.  (Facultatif) Dans le champ **Icône**, attribuez une icône pour illustrer la signification de l'indicateur.

8.  Dans le champ **Description**, saisissez une brève description informative de l'indicateur et de son mode de calcul.

9.  Si vous souhaitez appliquer un facteur d'annualisation lors du calcul de l'indicateur, sélectionnez **Annualisé**.

    Généralement, le numérateur d'un indicateur annualisé est multiplié par un facteur de 12, et le dénominateur est par exemple un chiffre annuel de population. Cela permet de calculer des valeurs de couverture mensuelles avec des chiffres annuels de population.

10. Sélectionnez le nombre de **Décimales dans la sortie des données**.

11. Sélectionnez un **Type d'indicateur**.

    Ce champ détermine un facteur qui sera automatiquement appliqué lors du calcul de l'indicateur. Les choix possibles sont déterminés par les types d'indicateurs. Par exemple, un indicateur "Pourcentage" sera automatiquement multiplié par un facteur de 100 lorsqu'il sera exporté vers le magasin de données, pour qu'il s'affiche en pourcentage.

12. (Facultatif) Attribuez une ou plusieurs **Légendes**.

13. Dans le champ **URL**, saisissez un lien, par exemple un lien vers un registre d'indicateurs, où une description complète des métadonnées de l'indicateur peut être disponible.

14. (Facultatif) Entrez une **Combinaison d'options de catégorie pour l'exportation de données agrégées**.

    Vous utilisez ce paramètre pour cartographier les données agrégées exportées sous forme de données brutes vers un autre serveur. Généralement, vous effectuez ce type cartographie d'échange de données lorsque vous souhaitez créer des données agrégées anonymes à partir de données de patients enregistrées dans des programmes (données d'événements).

15. (Facultatif) Entrez une **Combinaison d'options d'attributs pour l'exportation de données agrégées**.

    Vous utilisez ce paramètre pour cartographier les données agrégées exportées sous forme de données brutes vers un autre serveur. Généralement, vous effectuez ce type cartographie d'échange de données lorsque vous souhaitez créer des données agrégées anonymes à partir de données de patients enregistrées dans des programmes (données d'événements).

16. Le cas échéant, entrez les valeurs des attributs personnalisés, par exemple **Classification** ou **Méthode de collecte**.

    > **Note**
    >
    > You create custom attributes in the **Maintenance** app: **Other** > \> **Attributes**.

17. Cliquez sur **Modifier le numérateur**.

    1.  Saisissez une description claire du numérateur.

    2.  Définissez le numérateur en double-cliquant sur les composants dans le champ de droite. Les composants apparaissent alors comme partie de la formule dans le champ de gauche. Ajoutez des opérateurs mathématiques en double-cliquant sur les icônes situées en dessous du champ de gauche.

        Votre formule doit être mathématiquement valable. Cela inclut l'utilisation correcte des parenthèses si nécessaire.

    3.  Cliquez sur **Terminé** pour enregistrer toutes les modifications apportées au numérateur.

18. Cliquez sur **Modifier le dénominateur**.

    1.  Saisissez une description claire du dénominateur.

    2.  Définissez le dénominateur en double-cliquant sur les composants dans le champ de droite. Les composants apparaissent alors comme partie de la formule dans le champ de gauche. Ajoutez des opérateurs mathématiques en double-cliquant sur les icônes situées en dessous du champ de gauche.

        Votre formule doit être mathématiquement valable. Cela inclut l'utilisation correcte des parenthèses si nécessaire.

    3.  Cliquez sur **Terminé** pour enregistrer toutes les modifications apportées au dénominateur.

19. Le cas échéant, sélectionnez les ensembles de groupes d'indicateurs obligatoires, par exemple **Ressources humaines**.

    > **Note**
    >
    > You'll only see indicator group sets in this form if you've created them and set them to **Compulsory**.
    >
    > You create indicator group sets in the **Maintenance** app: **Indicator** \> **Indicator group set**.

20. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'indicateurs { #create_indicator_group }

![](resources/images/maintainence/indicator_group_create.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Groupe d'indicateurs**.

2.  Cliquez sur le bouton d'ajout.

3.  Saisissez un nom.

4.  Sélectionnez des indicateurs et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'indicateurs { #create_indicator_group_set }

![](resources/images/maintainence/indicator_group_set_create.png)

Les ensembles de groupes d'indicateurs créent des groupes combinés d'indicateurs similaires. Par exemple, vous pouvez avoir un groupe d'indicateurs appelé "Paludisme" et "Leishmaniose". Ces deux groupes peuvent être combinés pour former un ensemble de groupes appelé "Maladies vectorielles". Les ensembles de groupes d'indicateurs sont utilisés lors de l'analyse des données pour combiner des thèmes d'indicateurs similaires.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateurs** \> **Groupe d'indicateurs**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Description**

    3.  **Obligatoire** 

4.  Sélectionnez des indicateurs et attribuez-les.

    Les groupes d'indicateurs disponibles sont affichés dans le panneau de gauche. Les groupes d'indicateurs faisant actuellement partie de l'ensemble des groupes d'indicateurs sont affichés dans le panneau de droite.

5.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les unités d’organisation { #manage_organisation_unit }

Dans cette partie, nous verrons comment :

-   Créer une nouvelle unité d'organisation et mettre en place la hiérarchie de l'unité d'organisation

-   Créer des groupes d'unités d'organisation, des ensembles de groupes et leur attribuer des unités d'organisation

-   Modifier la hiérarchie des unités d'organisation

### À propos des unités d’organisation { #about_organisation_unit }

The organisation unit hierarchy defines the organisation structure of DHIS2, for example how health facilities, administrative areas and other geographical areas are arranged with respect to each other. It is the _where_ dimension of DHIS2, similar to how periods represent the _when_ dimension.

La hiérarchie des unités d'organisation est élaborée à partir des relations parents-enfants. Dans DHIS2, chacun de ces nœuds est une unité d'organisation. Un pays peut par exemple compter huit provinces, et chaque province peut avoir un certain nombre de districts comme enfants. Normalement, les niveaux les plus bas sont constitués par les établissements où les données sont collectées. Les établissements de collecte de données peuvent également être situées à des niveaux plus élevés, par exemple les hôpitaux nationaux ou provinciaux. Par conséquent, vous pouvez créer des arbres d'organisation biaisés dans DHIS2.

-   Vous ne pouvez avoir qu'une seule hiérarchie d'organisation en même temps.

-   Vous pouvez avoir un nombre illimité de niveaux dans une hiérarchie.

    En général, les hiérarchies des organisations nationales de santé publique comportent quatre à six niveaux.

-   Vous pouvez établir des classifications supplémentaires en utilisant des groupes d'organisations et des ensembles de groupes d'organisations.

    Par exemple, pour créer des frontières administratives parallèles au secteur de santé.

-   Il est recommandé d'utiliser des groupes d'unités d'organisation pour créer une hiérarchie non géographique.

-   Une unité d'organisation ne peut être membre que d'un seul groupe d'unités d'organisation au sein d'un ensemble de groupes d'unités d'organisation.

-   Un groupe d'unités d'organisation peut appartenir à plusieurs ensembles de groupes d'unités d'organisation.

-   La hiérarchie des unités d'organisation est le principal vecteur d'agrégation des données relatives à la dimension géographique.

-   Lorsque vous fermez une unité d'organisation, vous ne pouvez donc pas enregistrer ou modifier les événements de cette unité d'organisation dans les applications **Saisie d'événements** et **Saisie Tracker**.

> **N.B.**
>
> Vous pouvez modifier la hiérarchie de l'unité d'organisation après l'avoir créée, même les unités d'organisation qui collectent des données. Cependant, le DHIS2 utilise toujours la dernière hiérarchie pour l'agrégation des données. Ainsi, si vous modifiez la hiérarchie, vous perdez la représentation temporelle de la hiérarchie dans le temps.
>
> Le district A est subdivisé en district B et en district C. Les établissement appartenant au district A sont réaffectées aux districts B et C. Toute donnée historique, que vous avez saisie avant la scission, est toujours enregistrée comme appartenant aux districts B et C, et non au district A, devenu obsolète.

Dans l'application **Maintenance**, vous pouvez gérer les objets d'unité d'organisation suivants :

<table>
<caption>Objets d'unité d'organisation dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Unité d'organisation</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Groupe d'unités d'organisation</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Ensemble de groupes d'unités d'organisation</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Niveau de l'unité d'organisation</p></td>
<td><p>Modifier et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Opérations de la hiérarchie</p></td>
<td><p>Déplacer les unités d'organisation</p></td>
</tr>
</tbody>
</table>

### Déroulement { #workflow_organisation_unit }

Le flux de travail recommandé est le suivant :

1.  Créer des unités d'organisation.

2.  Créer des groupes d'unités d'organisation.

3.  Créer des ensembles de groupes d'unités d'organisation.

### Créer ou modifier une unité d'organisation { #create_organisation_unit }

![](resources/images/orgunits/create_new_orgunit.png)

Vous ajoutez les unités d'organisation à la hiérarchie une par une, soit comme unité racine, soit comme enfant d'une unité d'organisation sélectionnée. Vous ne pouvez avoir qu'une seule unité racine.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \> **Unité d'organisation**.

2.  Cliquez sur le bouton d'ajout.

3.  Sélectionnez l'unité organisationnelle à laquelle votre nouvelle unité organisationnelle appartiendra :

    1.  Cliquez sur **Unité d'organisation mère**.

    2.  Dans l'arbre des unités d'organisation, localisez l'unité d'organisation mère et sélectionnez-la. Votre sélection est marquée en jaune.

        > **Tip**
        >
        > Click the arrows to expand the organisation unit tree.

    3.  Cliquez sur **Sélectionner**.

4.  Entrez un **Nom** de l'unité d'organisation.

    Chaque unité organisationnelle doit avoir un nom unique.

5.  Entrez un **nom abrégé** pour l'unité d'organisation.

    Généralement, le nom abrégé est une abréviation du nom complet de l'unité d'organisation. Cet attribut est souvent utilisé dans les rapports pour afficher le nom de l'unité organisationnelle, lorsque l'espace est limité.

6.  (Facultatif) Attribuez un **Code**.

    Dans de nombreux pays, les unités d'organisation se voient attribuer un code.

7.  (Facultatif) Tapez une **Description** de l'unité d'organisation.

8.  Sélectionnez une **Date d'ouverture**.

    Les dates d'ouverture permettent de déterminer quelles unités organisationnelles ont existé à un moment donné, par exemple lors de l'analyse de données historiques.

9.  Le cas échéant, sélectionnez une **date de fermeture**.

10. Dans le champ **Commentaire**, entrez toute information supplémentaire que vous souhaitez ajouter.

11. (Facultatif) Dans le champ **URL**, entrez un lien vers un site web externe contenant des informations supplémentaires sur l'unité d'organisation.

12. Entrez les coordonnées : 

    -   Personne de contact

    -   Addresse

    -   E-mail

    -   Numéro de téléphone

13. (Facultatif) Entrez la **Latitude** et la **Longitude**.

    Vous devez disposer de valeurs de latitude et de longitude pour créer des cartes dans l'application **Cartes**. Vos unités d'organisation peuvent alors être représentées sous forme de points sur une carte, par exemple un établissement de santé. Sans ces informations, l'application **Cartes** ne fonctionnera pas.

    Il pourrait être plus efficace d'importer les coordonnées plus tard sous forme de travail exécuté par lots pour toutes les unités d'organisation en utilisant l'application **Import-Export**. Vous pouvez également utiliser l'application **Import-Export** pour créer des polygones. Un polygone est une unité d'organisation qui représente une frontière administrative.

14. Le cas échéant, sélectionnez des **Ensembles de données** et attribuez-les.

    > **Note**
    >
    > You control whether a user should be able to assign data sets to an organisation unit in the **System Settings** app:
    >
    > Open the **System Settings** app, click **Access** and select **Allow assigning object to related objects during add or update**.

15. Le cas échéant, sélectionnez des **Programmes** et attribuez-les.

    > **Note**
    >
    > You control whether a user should be able to assign programs to an organisation unit in the **System Settings** app:
    >
    > Open the **System Settings** app, click **Access** and select **Allow assigning object to related objects during add or update**.

16. Le cas échéant, entrez les valeurs des attributs personnalisés, par exemple **Identifiant RH**.

    > **Note**
    >
    > You configure the custom attributes in the **Maintenance** app:
    >
    > Open the **Maintenance** app and click **Other** \> **Attribute**.

17. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'unités d'organisation { #create_organisation_unit_group }

Les groupes d'unités d'organisation vous permettent de classer des unités d'organisation connexes dans un thème commun. Vous pouvez par exemple regrouper toutes les unités d'organisation qui sont des hôpitaux dans un groupe **Hôpital**.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \> **Groupe d'unités d'organisation**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez le formulaire :

    1.  **Nom** : Donnez un nom précis, unique et descriptif au groupe d'unités d'organisation.

    2.  **Nom abrégé** : Le nom abrégé doit comporter moins de 25 caractères. En général, le nom abrégé est une abréviation du nom complet de l'unité d'organisation. Cet attribut est utilisé à certains endroits du DHIS2 où l'espace est limité.

    3.  **Code**

    4.  **Symbole** : Sélectionnez un symbole à utiliser pour afficher l'unité d'organisation (points uniquement) lorsque la couche est affichée dans l'application **Cartes**.

4.  Dans l'arbre d'organisation, cliquez sur les unités d'organisation que vous souhaitez ajouter au groupe d'unités d'organisation.

    Vous pouvez localiser une unité d'organisation dans l'arbre en élargissant les branches (cliquez sur le symbole de la flèche) ou en la recherchant par son nom.

    Les unités d'organisation sélectionnées s'affichent en orange.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'unités d'organisation { #create_organisation_unit_group_set }

Les ensembles de groupes d'unités d'organisation vous permettent de créer des classifications supplémentaires d'unités d'organisation. Les ensembles de groupes créent de nouvelles dimensions vous permettant d'effectuer une analyse plus détaillée des données. Vous pouvez facilement filtrer, organiser ou agréger les données par groupes au sein d'un ensemble de groupes.

-   Vous pouvez avoir un nombre quelconque d'ensembles de groupes d'unités d'organisation.

-   Les ensembles de groupes d'unités d'organisation par défaut sont **Type** et **Propriété**.

-   Une unité d'organisation ne peut être membre que d'un seul groupe d'unités d'organisation au sein d'un ensemble de groupes d'unités d'organisation.

-   Un groupe d'unités d'organisation peut appartenir à plusieurs ensembles de groupes d'unités d'organisation.

-   Vous pouvez définir si un ensemble de groupes d'unités d'organisation est obligatoire ou non, ce qui aura une incidence sur l'exhaustivité des données. Obligatoire signifie que toutes les unités d'organisation doivent être membres d'un groupe de cet ensemble de groupes.

> **N.B.**
>
> Dans la partie **Intégrité des données** de l'application **Administration des données**, vous pouvez vérifier si vous avez accidentellement affecté la même unité d'organisation à plusieurs groupes au sein du même ensemble de groupes. Dans cette application, vous trouverez également des informations relatives aux unités d'organisationnelles qui n'appartiennent pas à un ensemble de groupes d'unités d'organisation obligatoire.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \> **Ensemble de groupes d'unités d'organisation**.

2.  Cliquez sur le bouton d'ajout.

3.  Remplissez :

    1.  **Nom** : Donnez un nom précis à l'ensemble de groupes d'unités d'organisation.

    2.  **Code**

    3.  **Description** : Décrivez ce que l'ensemble de groupes d'unités d'organisation mesure ou saisit.

4.  Si vous souhaitez que toutes les unités d'organisation soient membres d'un groupe au sein de l'ensemble de groupes défini, sélectionnez **Obligatoire**.

5.  (Facultatif) Sélectionnez une **Dimension des données**.

6.  (Facultatif) Sélectionnez **Inclure la sous-hiérarchie dans l'analyse**.

    Si vous sélectionnez cette option, une sous-unité d'organisation héritera de la propriété du groupe d'unités d'organisation de son unité d'organisation "mère" la plus proche. Toute propriété de la sous-unité d'organisation aura alors priorité sur la valeur héritée.

    Au cas où une unité d'organisation n'a pas de groupe d'unités d'organisation associé, elle peut hériter du groupe d'unités d'organisation de son parent le plus proche. Si aucun des groupes d'unités d'organisation parents n'a de groupe d'unités d'organisation pour un ensemble de groupes d'unités d'organisation donné, le résultat sera toujours "vide", mais si au moins un des parents a un groupe d'unités d'organisation, la sous-unité d'organisation en héritera.

    "inclure la sous-hiérarchie dans l'analyse" est activé, ce qui signifie que les unités d'organisation héritent du groupe d'unités d'organisation de leurs parents les plus proches SI l'unité dorganisation est blanche (aucun groupe d'unités d'organisation ne lui est associé).

7.  Sélectionnez des groupes d'unités d'organisation et attribuez-les.

    Dans la liste de gauche, vous trouverez les groupes d'unités d'organisation disponibles. Utilisez les flèches pour déplacer les groupes sélectionnés entre les deux listes.

    S'il n'y aucun groupe d'unités d'organisation dans la liste de gauche, cliquez sur **Ajouter nouveau**. Dans le formulaire qui s'ouvre, créez le groupe d'unités d'organisation dont vous avez besoin. Lorsque vous avez terminé, cliquez sur **Actualiser les valeurs**.

    > **Note**
    >
    > An organisation unit can only be a member of a single organisation unit group within an organisation unit group set.

8.  Cliquez sur **Sauvegarder**.

![](resources/images/implementation_guide/organisation_unit_hiearchy.png)

Vous voulez analyser des données en fonction de la propriété des établissements. Tous les établissements ont un propriétaire et vous devez donc vous assurer que toutes les unités d'organisation obtiennent cette classification. Pour ce faire, vous pouvez utiliser l'option **Obligatoire** :

1.  Créez un groupe pour chaque type de propriété, par exemple "Ministère de la santé", "Privé" et "Confessionnel".

2.  Affectez tous les établissements de la base de données à l'un de ces groupes.

3.  Créez un ensemble de groupes d'unités d'organisation appelé "Propriété" et sélectionnez **Obligatoire**.

4.  Affectez les groupes d'unités d'organisation "Ministère de la santé", "Privé" et "confessionnel" à l'ensemble de groupes d'unités d'organisation "Propriété".

![](resources/images/maintainence/analytics-include-org-unit-subhierarchy.png)

![](resources/images/maintainence/include-subhierarchy-analytics.png)

Regroupez votre unité d'organisation de deux façons et agrégez les données sur la base de ces deux hiérarchies parallèles

Utilisation dans l'agrégation des données (uniquement dans les applications d'analyse)

Un paramètre supplémentaire de l'ensemble de groupes d'unités d'organisation permet de créee une "adhésion" dynamique à un ensemble de groupes d'unités d'organisation.

Vous ne devez pas changer la hiérarchie de l'unité d'organisation

Flexible et dynamique

Inclusion dynamique de la hiérarchie

Classification dynamique supplémentaire

### Attribuer des noms aux niveaux d'unité d'organisation { #name_organisation_unit_level }

Lorsque vous ajoutez des enfants à une unité d'organisation, le DHIS2 crée automatiquement un nouveau niveau d'unité d'organisation si nécessaire. Le système attribue également un nom générique à ce niveau, par exemple "Niveau 5". Vous pouvez remplacer le nom générique par un nom contextuel, par exemple "Pays", "Province", "District" ou "Établissement de santé". Le DHIS2 utilise les noms contextuels partout où il est fait référence aux niveaux, par exemple dans l'application **Cartes**.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \> **Niveau d'unité d'organisation**.

    Le temps de chargement de la liste dépend de la portée de l'arborescence des unités d'organisation.

2.  Pour les niveaux d'unité d'organisation que vous souhaitez modifier, entrez un nom.

3.  Sélectionnez le nombre de niveaux hors ligne.

    > **Note**
    >
    > You configure the default value in the **System Settings** app:
    >
    > Open the **System Settings** app, click **General** and select a level in the **Max offline organisation unit levels** list.

4.  Cliquez sur **Sauvegarder**.

### Déplacer les unités d'organisation au sein d'une hiérarchie { #move_organisation_unit }

Vous pouvez déplacer les unités d'organisation dans la hiérarchie en changeant le parent d'une unité d'organisation sélectionnée.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \> **Opérations hiérarchiques**.

2.  Dans l'arbre hiérarchique de gauche, sélectionnez la ou les unité(s) d'organisation que vous souhaitez déplacer.

    > **Note**
    >
    > If the selected organisation unit is has sub-organisation units, all of them move to the new parent organisation unit.

3.  Dans l'arbre hiérarchique de droite, sélectionnez l'unité organisationnelle vers laquelle vous souhaitez déplacer la ou les unité(s) d'organisation sélectionnées.

4.  Cliquez sur **Déplacer x unités d'organisation**, où x représente le nombre d'unités d'organisation que vous avez sélectionnées.

    Vos modifications sont immédiatement reflétées dans l'arbre hiérarchique de gauche.

### Fermer une unité d'organisation { #close_organisation_unit }

Lorsque vous fermez une unité d'organisation, vous ne pouvez donc pas enregistrer ou modifier les événements de cette unité d'organisation dans les applications **Saisie d'événements** et **Saisie Tracker**.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \> **Unité d'organisation**.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Editer**.

3.  Sélectionnez une **Date de fermeture**.

4.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Manage validation rules { #manage_validation_rule }

### À propos des règles de validation { #about_validation_rule }

Une règle de validation est basée sur une expression. L'expression définit une relation entre les valeurs des éléments de données. L'expression forme une condition avec certains critères logiques.

L'expression se compose de : 

-   Une partie gauche

-   Une partie droite

-   Un opérateur

Une règle de validation affirmant que le nombre total de vaccins administrés aux nourrissons est inférieur ou égal au nombre total de nourrissons.

Les côtés gauche et droit doivent renvoyer des valeurs numériques.

Dans l'application **Maintenance**, vous gérez les objets de règles de validation suivants :

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Ce que vous pouvez faire</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Règle de validation</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Groupe de règles de validation</p></td>
<td><p>Créer, modifier, cloner, supprimer, partager, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Notification de validation</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

#### À propos des fenêtres coulissantes { #sliding_windows }

Vous pouvez utiliser des fenêtres coulissantes pour regrouper des données _sur plusieurs périodes_ au lieu de sélectionner des données pour _une seule période_. Les fenêtres coulissantes ont une taille, c'est-à-dire le nombre de jours à couvrir, un point de départ et un point d'arrivée. L'exemple ci-dessous montre les données de surveillance des maladies :.

-   Les données dans la section orange, sélectionnent les données en fonction de la période en cours. Il existe un seuil calculé une fois pour chaque semaine ou période, et qui est indiqué dans la section "Résultat".

-   Les données dans la section bleue constituent la fenêtre coulissante. Elle sélectionne les données des 7 derniers jours. Le "Résultat" indique le nombre total de cas confirmés d'une maladie.

-   La règle de validation garantit que les utilisateurs sont informés lorsque le nombre total de cas dépasse le seuil fixé pour la période.

![](resources/images/maintainence/validation_rules_sliding_window.gif)

<table>
<caption>Différents comportements des règles de validation</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Avec fenêtres coulissantes</p></th>
<th><p>Sans fenêtres coulissantes</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Utilisées uniquement pour les données sur les événements.</p></td>
<td><p>Utilisées pour les données sur les événements et les données agrégées.</p></td>
</tr>
<tr class="even">
<td><p>La sélection des données est basée sur un nombre fixe de jours (Type de period).</p></td>
<td><p>La sélection des données est toujours basée sur une période.</p></td>
</tr>
<tr class="odd">
<td><p>La position de la fenêtre coulissante est toujours<em>relative à</em> la période comparée.</p></td>
<td><p>Les données sont toujours sélectionnées pour la <em>même période</em> que celle faisant l'objet de comparaison.</p></td>
</tr>
</tbody>
</table>

Voir également : Comment utiliser les fenêtres coulissantes lorsque vous [créez ou modifiez une règle de validation].(https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html#create_validation_rule).

#### À propos des groupes de règles de validation { #about-validation-rule-groups }

Un groupe de règles de validation vous permet de regrouper des règles de validation connexes. Lorsque vous exécutez une _[analyse des règles de validation](https://docs.dhis2.org/master/en/user/html/validation_rule_analysis.html)_, vous pouvez alors choisir d'exécuter toutes les règles de validation dans votre système, ou seulement les règles de validation d'un groupe.

#### À propos des notifications de validation { #validation_notifications }

Vous pouvez configurer une analyse des règles de validation pour envoyer automatiquement des notifications sur les erreurs de validation à des groupes d'utilisateurs sélectionnés. Ces messages sont appelés _notifications de validation_. Ils sont envoyés via le système de messagerie interne du DHIS2.

Vous pouvez envoyer des notifications de règles de validation sous forme de messages individuels ou de résumés de messages. Cela est utile, par exemple, si vous souhaitez envoyer des messages individuels pour les épidémies de maladies hautement prioritaires, et des résumés pour les erreurs de validation de données de routine de faible priorité.

#### À propos des fonctions des règles de validation { #about-validation-rule-functions }

You can use the following functions in a validation rule left side or right side:

<table>
<caption>Validation Rule functions</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Validation Rule Function</p></th>
<th><p>Arguments</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>if</p></td>
<td><p>(boolean-expr, true-expr, false-expr)</p></td>
<td><p>Evaluates the boolean expression and if true returns the true expression value, if false returns the false expression value. The arguments must follow the rules for any indicator expression.</p></td>
</tr>
<tr class="even">
<td><p>isNull</p></td>
<td><p>(element)</p></td>
<td><p>Returns true if the element value is missing (null), otherwise false.</p></td>
</tr>
<tr class="odd">
<td><p>isNotNull</p></td>
<td><p>(element)</p></td>
<td><p>Returns true if the element value is not missing (not null), otherwise false.</p></td>
</tr>
<tr class="even">
<td><p>firstNonNull</p></td>
<td><p>(element [, element ...])</p></td>
<td><p>Returns the value of the first element that is not missing (not null). Can be provided any number of arguments. Any argument may also be a numeric or string literal, which will be returned if all the previous objects have missing values.</p></td>
</tr>
<tr class="odd">
<td><p>greatest</p></td>
<td><p>(expression [, expression ...])</p></td>
<td><p>Returns the greatest (highest) value of the expressions given. Can be provided any number of arguments.</p></td>
</tr>
<tr class="even">
<td><p>least</p></td>
<td><p>(expression [, expression ...])</p></td>
<td><p>Returns the least (lowest) value of the expressions given. Can be provided any number of arguments.</p></td>
</tr>
<tr class="odd">
<td><p>log</p></td>
<td><p>(expression [, base ])</p></td>
<td><p>Returns the natural logarithm (base e) of the numeric expression. If an integer is given as a second argument, returns the logarithm using that base.</p></td>
</tr>
<tr class="even">
<td><p>log10</p></td>
<td><p>(expression)</p></td>
<td><p>Returns the common logarithm (base 10) of the numeric expression.</p></td>
</tr>
</tbody>
</table>

### Créer ou modifier une règle de validation { #create_validation_rule }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Validation** \> **Règle de validation**.

2.  Cliquez sur le bouton d'ajout.

3.  Tapez un **Nom**.

    Le nom doit être unique parmi les règles de validation.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  (Facultatif) Tapez une **Description**.

6.  Sélectionnez une **Importance** : **Haute**, **Moyenne** ou **Faible**.

7.  Sélectionnez un **Type de période**.

8.  Sélectionnez un **Opérateur** : **Paire obligatoire**, **Égale à**, **Couple exclusive**, **Supérieur à**, **Supérieur ou égale à** ou **Non égale à**.

    L'opérateur **Paire obligatoire** permet d'exiger que les valeurs des données soient saisies pour un formulaire à la fois pour les côtés gauche et droit de l'expression, ou pour aucun des deux côtés. Cela signifie que vous pouvez exiger que si un champ d'un formulaire est rempli, alors un ou plusieurs autres champs doivent également être remplis.

    La  **paire exclusive** permet d'affirmer que si une valeur existe sur le côté gauche, alors il ne devrait y avoir aucune valeur sur le côté droit (ou vice versa). Cela signifie que les éléments de données qui composent la règle de chaque côté doivent être mutuellement exclusifs l'un de l'autre, pour une combinaison donnée période / unité organisationnelle / option d'attribut.

9.  Créer le côté gauche de l'expression :

    1.  Cliquez sur **Côté gauche**.

    2.  Sélectionnez **Fenêtre coulissante** si vous souhaitez afficher les données relatives à la période que vous comparez. Voir aussi [À propos des règles de validation](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html#about_validation_rule).

    3.  Sélectionnez une stratégie de **valeur manquante**. Cette sélection détermine comment le système évalue une règle de validation si des données sont manquantes.

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Option</p></th>
        <th><p>Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>Skip if any value is missing</p></td>
        <td><p>The validation rule will be skipped if any of the values which compose the expression are missing. This is the default option.</p>
        <p>Always select this option you use the <strong>Exclusive pair</strong> or <strong>Compulsory pair</strong> operator.</p></td>
        </tr>
        <tr class="even">
        <td><p>Skip if all values are missing</p></td>
        <td><p>The validation rule will be skipped only if all of the operands which compose it are missing.</p></td>
        </tr>
        <tr class="odd">
        <td><p>Never skip</p></td>
        <td><p>The validation rule will never be skipped in case of missing data, and all missing operands will be treated effectively as a zero.</p></td>
        </tr>
        </tbody>
        </table>

    4.  Tapez une **Description**.

    5.  Construire une expression basée sur les éléments de données, les objets de programme, les unités d'organisation, les comptages et les constantes disponibles.

        Dans le volet de droite, double-cliquez sur les objets de données que vous voulez inclure dans l'expression. Combinez avec les opérateurs mathématiques situés sous le panneau de gauche.

    6.  Cliquez sur **Sauvegarder**.

10. Créer le côté droit de l'expression :

    1.  Cliquez sur **Côté droit**.

    2.  Sélectionnez une stratégie de **valeur manquante**. Cette sélection détermine comment le système évalue une règle de validation si des données sont manquantes.

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Option</p></th>
        <th><p>Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>Skip if any value is missing</p></td>
        <td><p>The validation rule will be skipped if any of the values which compose the expression are missing. This is the default option.</p>
        <p>Always select this option you use the <strong>Exclusive pair</strong> or <strong>Compulsory pair</strong> operator.</p></td>
        </tr>
        <tr class="even">
        <td><p>Skip if all values are missing</p></td>
        <td><p>The validation rule will be skipped only if all of the operands which compose it are missing.</p></td>
        </tr>
        <tr class="odd">
        <td><p>Never skip</p></td>
        <td><p>The validation rule will never be skipped in case of missing data, and all missing operands will be treated effectively as a zero.</p></td>
        </tr>
        </tbody>
        </table>

    3.  Sélectionnez **Fenêtre coulissante** si vous souhaitez afficher les données relatives à la période que vous comparez. Voir aussi [À propos des règles de validation](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html#about_validation_rule).

    4.  Tapez une **Description**.

    5.  Construire une expression basée sur les éléments de données, les objets de programme, les unités d'organisation, les comptages et les constantes disponibles.

        Dans le volet de droite, double-cliquez sur les objets de données que vous voulez inclure dans l'expression. Combinez avec les opérateurs mathématiques situés sous le panneau de gauche.

    6.  Cliquez sur **Sauvegarder**.

11. (Facultatif) Choisissez les **Niveaux d'unité d'organisation** pour lesquels cette règle doit être évaluée. Si vous laissez ce champ vide, la règle de validation sera alors évaluée à tous les niveaux.

12. (Facultatif) Cliquez sur **Sauter cette règle pendant la validation du formulaire** pour éviter de déclencher cette règle pendant la saisie des données

13. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe de règles de validation { #create_validation_rule_group }

1.  Open the **Maintenance** app and click **Validation** \> **Validation rule group**.

2.  Cliquez sur le bouton d'ajout.

3.  Tapez un **Nom**.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  (Facultatif) Tapez une **Description**.

6.  Double-cliquez sur les **Règles de validation** que vous souhaitez attribuer au groupe.

7.  Cliquez sur **Sauvegarder**.

### Créer ou modifier une notification de validation { #create_validation_notification }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Validation** \> **Notification de validation**.

2.  Cliquez sur le bouton d'ajout.

3.  Tapez un **Nom**.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Sélectionnez **Règles de validation**.

6.  Sélectionnez **Groupes d'utilisateurs bénéficiaires**

7.  (Facultatif) Sélectionnez **Notifier uniquement les utilisateurs dans la hiérarchie**.

    Si vous sélectionnez cette option, le système filtrera les utilisateurs destinataires. (Le système dérive les utilisateurs destinataires des groupes d'utilisateurs destinataires.) Le filtre est basé sur l'unité d'organisation à laquelle l'utilisateur destinataire appartient. Les utilisateurs liés à des unités d'organisation ayant des ancêtres de l'unité d'organisation où la violation a eu lieu recevront des notifications de validation. Le système ignorera les autres utilisateurs et ceux-ci ne recevront donc pas de notifications de validation.

8.  Créer le modèle de message :

    1.  Créer le **Modèle d'objet**.

        Double-cliquez sur les paramètres dans le champ **Modèle de variables** pour les ajouter à votre objet.

    2.  Créer le **Modèle de message**.

        Double-cliquez sur les noms des paramètres dans le champ **Modèle de variables** pour les ajouter à votre message.

9.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les attributs { #manage_attribute }

### À propos des attributs { #about_attribute }

Vous pouvez utiliser les attributs de métadonnées pour ajouter des informations supplémentaires aux objets de métadonnées. En plus des attributs standard pour chacun de ces objets, il peut être utile de stocker des informations pour des attributs supplémentaires, par exemple la méthode de collecte d'un élément de donnée.

![](resources/images/maintainence/attribute_create.png)

Dans l'application **Maintenance**, vous pouvez gérer les attributs suivants :

<table>
<caption>Objets d'attribut dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Attribut</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

### Créer ou modifier un attribut { #create-or-edit-an-attribute }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Attributs**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, tapez le nom de l'attribut.

    Chaque attribut doit avoir un nom unique

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Sélectionnez un **Type de valeur**.

    Si la valeur fournie pour l'attribut ne correspond pas au type de valeur, vous recevrez un message d'avertissement.

6.  Sélectionnez un **ensemble d'options**.

7.  Sélectionnez les options que vous souhaitez, par exemple :

    -   Sélectionnez **Obligatoire** si vous voulez qu'un objet ait toujours l'attribut dynamique.

    -   Sélectionnez **Unique** si vous voulez que le système fasse en sorte que les valeurs soient uniques pour un type d'objet spécifique.

8.  Cliquez sur **Sauvegarder**.

    L'attribut dynamique est maintenant disponible pour les objets auxquels vous l'avez attribué.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les constantes { #manage_constant }

### À propos des constantes { #about_constant }

Les constantes sont des valeurs statiques qui peuvent être mises à la disposition des utilisateurs pour être utilisées dans les éléments de données et les indicateurs. Certains indicateurs, tels que le "Taux de protection sur deux ans", dépendent de constantes qui ne changent généralement au fil du temps.

![](resources/images/maintainence/constant_create.png)

Dans l'application **Maintenance**, vous pouvez gérer les objets de constante suivants :

<table>
<caption>Objets de constante dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Constante</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

### Créer ou modifier une constante { #create_constant }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Constante**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, entrez le nom de la constante.

4.  (Facultatif) Dans le champ **Nom abrégé**, entrez un nom abrégé de la constante.

5.  (Facultatif) Dans le champ **Code**, attribuez un code.

6.  Dans le champ **Description**, saisissez une brève description informative de la constante.

7.  Dans le champ **Valeur**, définissez la valeur de la constante.

8.  Cliquez sur **Sauvegarder**.

    La constante est maintenant disponible.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les ensembles d'options { #manage_option_set }

### À propos des ensembles d'options { #about_option_set }

Les ensembles d'options fournissent une liste déroulante (énumérée) prédéfinie à utiliser dans DHIS2. Vous pouvez définir n'importe quel type d'options.

Un ensemble d'options appelé "Type d'accouchemet" aurait les options : "Normal", "Du siège", "Césarienne" et "Assisté".

![](resources/images/maintainence/option_set_create.png)

<table>
<caption>Objets de l'ensemble d'options dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Ensemble d'options</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Groupe d'options</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Ensemble de groupes d'options</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

### Créer ou modifier un ensemble d'options { #create_option_set }

> **N.B.**
>
> Les ensembles d'options doivent avoir un code ainsi qu'un nom. Vous pouvez changer les noms, mais pas les codes. Les noms et les codes de toutes les options doivent être uniques, même entre différents ensembles d'options.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Ensemble d'options**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans l'onglet **Détails primaires**, définissez l'ensemble d'options :

    1.  Dans le champ **Nom**, entrez le nom de la constante.

    2.  Dans le champ **Code**, attribuez un code.

    3.  Sélectionnez un **Type de valeur**.

    4.  Cliquez sur **Sauvegarder**.

4.  Pour chaque option dont vous avez besoin, effectuez les tâches suivantes :

    1.  Cliquez sur l'onglet **Options**.

    2.  Cliquez sur le bouton d'ajout.

    3.  Entrez un **Nom** et un **Code**. Vous pouvez également sélectionner une **Couleur** et une **Icône** qui seront utilisées pour cette option dans les applications de saisie de données.

    4.  Triez les options par nom, code/valeur ou manuellement.

    5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'options { #create_option_group }

Vous pouvez regrouper et classer les **options** dans un **ensemble d'options** en utilisant les **groupes d'options**. Ainsi, vous pouvez créer un sous-ensemble d'options dans un ensemble d'options. L'objectif principal est de pouvoir filtrer d'énormes ensembles d'options en parties plus petites et apparentées.

Les options regroupées peuvent être masquées ou affichées ensemble dans le tracker et la saisie d'événements grâce aux règles du programme.

> **N.B.**
>
> Vous ne pouvez pas modifier l' **ensemble d'options** sélectionné dans un **Groupe d'options** une fois qu'il est créé.

1. Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Groupe d'options**.

2. Cliquez sur le bouton d'ajout.

3. Remplissez le formulaire :

    1. **Nom**
    2. **Nom abrégé**
    3. **Code**
    4. **Ensemble d'options**

4. Une fois qu'un **Ensemble d'options** est sélectionné, vous pouvez attribuer les **Options** que vous souhaitez regrouper.

5. Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'options { #create_option_group_set }

Les **Ensembles de groupes d'options** vous permettent de classer plusieurs **Groupes d'options** dans un ensemble. L'objectif principal de l'ensemble de groupes d'options est d'ajouter plus de dimensionnalité à vos données saisies pour l'analyse.

> **N.B.**
>
> Vous ne pouvez pas modifier l' **Ensemble d'options** sélectionné dans un **Ensemble de groupes d'options** une fois qu'il est créé.

1. Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Ensemble de groupes d'options**.

2. Cliquez sur le bouton d'ajout.

3. Remplissez le formulaire :

    1. **Nom**
    2. **Code**
    3. **Description**
    4. **Ensemble d'options**
    5. **Dimension des données**

       Si vous sélectionnez **Dimension des données**, l'ensemble de groupes sera alors disponible pour l'analyse sous forme d'une autre dimension, en plus des dimensions standard de "Période" et "Unité d'organisation".

4. Sélectionnez des groupes d'options et attribuez-les.

   Les groupes d'options disponibles sont affichés dans le panneau de gauche. Par contre, les groupes d'options faisant actuellement partie de l'ensemble de groupes d'options sont affichés dans le panneau de droite.

5. Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les légendes { #manage_legend }

### À propos des légendes { #about_legend }

Vous pouvez créer, modifier, cloner, supprimer, afficher les détails et traduire les légendes pour donner un sens aux cartes que vous créez pour vos utilisateurs. Vous pouvez créer des cartes dans l'application **Maps**.

> **N.B**
>
> Les légendes continues doivent être constituées d'éléments de légende qui se terminent et commencent par la même valeur, par exemple : 0-50 et 50-80. Ne définissez pas les éléments de légende de cette façon : 0-50 et 51-80. Cela créerait des lacunes dans votre légende.

### Créer ou modifier une légende { #create_legend }

> **N.B.**
>
> Il n'est pas permis d'avoir des lacunes dans une légende.
>
> Il n'est pas permis d'avoir des éléments de légende qui se chevauchent.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Légende**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, tapez le nom de la légende.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Créez les éléments de légende que vous voulez avoir dans votre légende :

    1.  Sélectionnez **Valeur de départ** et **Valeur de fin**.

    2.  Sélectionnez **Nombre d'éléments de la légende**.

    3.  Sélectionnez un schéma de couleurs.

    4.  Cliquez sur **Créer des éléments de légende**.

    > **Tip**
    >
    > Click the options menu to edit or delete a legend item.

6.  (Facultatif) Ajoutez d'autres éléments de légende :

    1.  Cliquez sur le bouton d'ajout.

    2.  Entrez un nom et sélectionnez une valeur de départ, une valeur de fin et une couleur.

    3.  Cliquez sur **OK**.

7.  (Facultatif) Changez les échelles de couleurs.

    1.  Cliquez sur l'échelle de couleurs pour afficher une liste des options de l'échelle de couleurs, et sélectionnez une échelle de couleurs.

    2.  Pour personnaliser une échelle de couleurs, cliquez sur le bouton "Ajouter". Dans la boîte de dialogue **Modifier la légende**, cliquez sur le bouton de l'échelle de couleurs et choisissez les couleurs, ou entrez vos valeurs de couleur.

8.  Cliquez sur **Sauvegarder**.

<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Élément de légende</th>
<th>Valeur de départ</th>
<th>Valeur finale</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Faible mauvais</td>
<td>0</td>
<td>50</td>
</tr>
<tr class="even">
<td>Moyen</td>
<td>50</td>
<td>80</td>
</tr>
<tr class="odd">
<td>Elevé Bon</td>
<td>80</td>
<td>100</td>
</tr>
<tr class="even">
<td>Trop élevé</td>
<td>100</td>
<td>1000</td>
</tr>
</tbody>
</table>

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

### Attribuer une légende à l'indicateur ou à l'élément de données { #assign-a-legend-to-indicator-or-data-element }

Vous pouvez attribuer une légende à un indicateur ou à un élément de donnée dans l'application **Maintenance**, soit lorsque vous créez l'objet, soit lorsque vous le modifiez. Lorsque vous sélectionnez ensuite l'indicateur ou l'élément de donnée dans l'application **Cartes**, le système sélectionne automatiquement la légende attribuée.

### Voir également { #see_also_legend }

-   [Using the GIS app](https://docs.dhis2.org/master/en/user/html/using_gis.html)

## Gérer les prédicteurs { #manage_predictor }

### À propos des prédicteurs { #about-predictors }

Un prédicteur permet de définir comment générer une valeur de données agrégées à partir d'une expression contenant des données agrégées et/ou d'événements. La valeur prédite peut être basée sur :

-   Des données de la même période que la valeur prédite, et/ou

-   Données des périodes antérieures à la valeur prédite

#### Des données de la même période { #data_from_the_same_period }

Un prédicteur peut utiliser des données de la même période que la valeur prédite. Par exemple, vous pouvez compter le nombre d'unités d'organisation ayant une valeur non nulle d'un élément de données en utilisant une expression de prédiction comme :

<pre><code>if( #{ji7o0ILHuU2} != 0, 1, 0 )</code></pre>

Lorsque vous exécutez ce prédicteur au niveau de l'unité d'organisation où les données sont collectées, il enregistrera 1 comme valeur prédite si l'élément de données a une valeur non nulle pour cette unité d'organisation, sinon 0. (Si l'élément de données pour lequel vous faites la prédiction n'enregistre pas de zéros, alors les zéros ne seront pas enregistrés dans la base de données, ceci pour gagner de la place). Vous pouvez ensuite additionner cette valeur prédite dans l'analyse à un niveau d'unité d'organisation supérieur, pour compter le nombre d'unités d'organisation ayant une valeur non nulle et qui se trouvent sous chaque unité d'organisation dans le rapport.

#### Données des périodes antérieures { #data_from_previous_periods }

Un prédicteur utilisera les données des périodes précédentes lorsque vous spécifiez une fonction d'agrégation telle que somme() ou moyenne(). Par exemple, l'expression génératrice suivante identifie une valeur qui correspond à la moyenne plus deux fois l'écart-type des données de la période précédente :

<pre><code>avg( #{ji7o0ILHuU2} ) + 2 * stddev( #{ji7o0ILHuU2} )</code></pre>

#### Données de la même période et des périodes antérieures { #data_from_the_same_and_previous_periods }

Une expression prédictive peut permettre d'accéder à des données à la fois de la même période que la prédiction et des périodes précédentes en accédant aux données à la fois dans une fonction agrégée (pour les périodes précédentes), et en dehors de toute fonction agrégée (pour la même période). Par exemple, une expression comme celle ci-dessous peut être utilisée pour obtenir une valeur de solde de la période précédente (#{KOh02hHko7C}) ; il faut y ajouter la variation nette de cette période (#{ji7o0ILHuU2}), ce qui donne le solde de cette période :

<pre><code>sum( #{KOh02hHko7C} ) + #{ji7o0ILHuU2}</code></pre>

La première valeur des données se trouve dans une expression agrégée (somme) pour indiquer qu'il s'agit d'un échantillonnage de données de la période précédente (même s'il n'y a qu'une seule période précédente), tandis que la deuxième valeur des données ne figure pas dans une fonction agrégée pour indiquer qu'il s'agit de données de référence de la même période.

Vous pouvez, si vous le souhaitez, indiquer l'élément de données de sortie d'un prédicteur dans l'expression du même prédicteur. Vous pouvez, par exemple, utiliser l'expression de cet exemple pour prédire le solde d'une période, puis combiner cette valeur avec la variation de la période suivante pour calculer le solde de la période suivante. Lorsqu'un prédicteur est exécuté sur plusieurs périodes, celles-ci sont traitées dans l'ordre chronologique et le résultat d'une période antérieure peut être utilisé comme valeur d'entrée pour une période ultérieure.

#### Niveaux des unités d'organisation des prédicteurs { #predictor_organisation_unit_levels }

Vous devez sélectionner un ou plusieurs niveaux d'unité d'organisation pour les valeurs de sortie d'un prédicteur. Toutes les valeurs générées par le prédicteur sont stockées pour les unités d'organisation au(x) niveau(x) que vous avez sélectionné(s). Chaque élément de l'expression du prédicteur est la somme de la valeur stockée pour cette unité d'organisation (le cas échéant) plus toutes les valeurs stockées dans les unités d'organisation inférieures à celle-ci (le cas échéant).

> **N.B.**
>
> Lors de la configuration d'un prédicteur, vous devez choisir un ou plusieurs niveaux d'unité d'organisation auxquels les données prédites seront produites. Si aucun niveau n'est sélectionné, aucune valeur prédite ne sera générée.

> **Attention**
>
> Si vous souhaitez utiliser les valeurs prédites dans les rapports analytiques, ou faire d'autres prédictions, _ne sélectionnez pas plus d'un niveau d'unité organisationnelle_. Lorsque vous sélectionnez plus d'un niveau, les prédictions au(x) niveau(x) supérieur(s) incluront également toutes les données utilisées dans les prédictions au(x) niveau(x) inférieur(s). Si les prédictions de plusieurs niveaux sont utilisées par la suite dans des analyses ou dans les expressions d'autres prédicteurs, cela peut entraîner un double comptage car les valeurs prédites pour un niveau supérieur incluent les valeurs prédites d'un niveau inférieur.

Vous pouvez sélectionner plusieurs niveaux d'unités d'organisation si vous utilisez les valeurs prédites uniquement dans les règles de validation. Par exemple, dans la surveillance des maladies, vous pourriez avoir une alerte de règle de validation si une valeur réelle est supérieure à la fourchette des valeurs prévues pour cette période sur la base des données de la période précédente. Pour ce faire, vous pouvez créer un prédicteur pour calculer la moyenne plus deux fois l'écart-type des données de la période précédente. Vous pouvez utiliser une règle de validation pour comparer cette valeur prévisionnelle la plus élevée avec la valeur réelle. Vous pouvez exécuter le prédicteur et la règle de validation à plusieurs niveaux pour détecter différents scénarios d'épidémie. Dans un scénario, il pourrait y avoir une augmentation significative dans un établissement qui dépasse sa fourchette prévue, mais le district où se trouve cet établissement pourrait ne pas dépasser sa fourchette prévue parce que les valeurs du district sont combinées avec de nombreux autres établissements. Dans un autre scénario encore, il peut y avoir une augmentation modérée dans plusieurs établissements qui ne dépasse pas la fourchette prévue pour chaque établissement (parce que l'écart-type pour chaque établissement peut être élevé), mais elle dépasse la fourchette prévue pour le district (parce que l'écart-type pour le district dans son ensemble peut être plus faible).

Si vous souhaitez générer des prédictions à plusieurs niveaux, vous pouvez également utiliser différents prédicteurs à différents niveaux. Par exemple, vous pouvez choisir d'être alerté si la valeur à un niveau dépasse la moyenne plus deux fois l'écart-type, mais être alerté à un autre niveau si elle dépasse la moyenne plus 1,8 fois l'écart-type. Si vous le souhaitez, vous pouvez configurer les différents prédicteurs de manière à avoir le même élément de données de sortie. Si vous utilisez le même élément de données de sortie, cela fonctionnera toujours avec des règles de validation à différents niveaux d'unités d'organisation, mais vous devez également veiller à ne pas utiliser les résultats dans des analyses ou dans d'autres calculs de prédicteurs pour éviter un double comptage.

Dans l'application **Maintenance**, vous pouvez gérer les objets prédicteurs suivants :

<table>
<caption>Objets prédicteurs dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Prédicteur</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

### Échantillonnage des périodes antérieures { #sampling-previous-periods }

Les prédicteurs peuvent générer des valeurs de données pour des périodes du passé, du présent ou du futur. Ces valeurs sont basées sur des données de la période prédite et/ou sur des données échantillonnées de périodes antérieures à la période prédite.

Si vous n'avez besoin que des données de la période dans laquelle la prédiction est faite, vous n'avez pas besoin de lire cette section. Cette section décrit comment échantillonner des données provenant de périodes antérieures à la période prédite.

#### Comptage séquentiel des échantillons { #sequential_sample_count }

Le _Comptage séquentiel d'échantillons_ d'un prédicteur donne le nombre de périodes immédiatement antérieures à échantillonner. Par exemple, si le type de période d'un prédicteur est _Hebdomadaire_ et que le _Comptage séquentiel d'échantillons_ est 4, cela signifie qu'il faut échantillonner quatre semaines antérieures précédant immédiatement la semaine de valeur prédite. Ainsi, la valeur prédite pour la semaine 9 utiliserait les échantillons des semaines 5, 6, 7 et 8 :

![](resources/images/maintainence/predictor_sequential.png){.center width=50% }

Si le type de période d'un prédicteur est _Mensuel_ et le _Comptage séquentiel de l'échantillon_ est 4, cela signifie qu'il faut échantillonner quatre mois antérieurs précédant immédiatement le mois de la valeur prédite. Ainsi, la valeur prédite pour le mois de mai utiliserait des échantillons des mois de janvier, février, mars et avril :

![](resources/images/maintainence/predictor_sequential_month.png){.center width=51% }

Le _nombre séquentiel d'échantillons_ peut être supérieur au nombre de périodes dans une année. Par exemple, si vous voulez échantillonner les 24 mois qui précèdent immédiatement le mois de la valeur prédite, réglez le _nombre séquentiel d'échantillons_ sur 24 :

![](resources/images/maintainence/predictor_24_months.png){.center width=57% }

#### Comptage séquentiel des sauts { #sequential_skip_count }

Le _nombre séquentiel de sauts_ d'un prédicteur indique combien de périodes doivent être sautées immédiatement avant la période de la valeur prédite, dans le _nombre séquentiel d'échantillons_. Il peut être utilisé, par exemple, dans la détection d'une épidémie pour sauter un ou plusieurs échantillons immédiatement précédents qui pourraient en fait contenir des valeurs du début d'une épidémie que vous essayez de détecter.

Par exemple, si le _nombre séquentiel d'échantillons_ est de 4, mais que le _nombre séquentiel de sauts_ est de 2, alors les deux échantillons précédant immédiatement la période prévue seront sautés, ce qui fait que seules deux périodes sont échantillonnées :

![](resources/images/maintainence/predictor_skip.png){.center width=50% }

#### Comptage annuel de l'échantillon { #annual_sample_count }

Le _Comptage annuel d'échantillons_ d'un prédicteur donne le nombre d'années antérieures pour lesquelles des échantillons doivent être collectés à la même période de l'année. Il peut être utilisé, par exemple, pour la surveillance des maladies dans les cas où l'incidence prévue de la maladie varie au cours de l'année et peut être comparée au mieux avec la même période relative des années précédentes. Par exemple, si le _nombre annuel d'échantillons_ est de 2 (et le _nombre séquentiel d'échantillons_ est de zéro), les échantillons seraient alors collectés sur des périodes des deux années précédentes, à la même période de l'année.

![](resources/images/maintainence/predictor_annual.png){.center width=53% }

#### Comptage séquentiel et annuel de l'échantillon en même temps { #sequential_annual_sample_count }

Vous pouvez utiliser ensemble les comptages séquentiels et annuels pour collecter des échantillons sur plusieurs périodes séquentielles au cours de plusieurs années passées. Dans ce cas, les échantillons seront prélevés au cours des années précédentes, pendant la période correspondant à la période de valeur prédite, ainsi qu'au cours des années précédentes, avant et après la même période de l'année, comme le détermine le _Nombre séquentiel d'échantillons_.

Par exemple, si le _Nombre séquentiel d'échantillons_ est de 4 et le _Nombre annuel d'échantillons_ est de 2, les échantillons seront prélevés sur les 4 périodes précédant immédiatement la période de valeur prédite. En outre, des échantillons seront collectés au cours des 2 années précédentes pour la période correspondante, ainsi que pour 4 périodes de part et d'autre :

![](resources/images/maintainence/predictor_sequential_annual.png){.center width=66% }

#### Comptage séquentiel, annuel et sauté d'échantillons réunis { #sequential_annual_skip_sample_count }

Vous pouvez utiliser le _Comptage séquentiel des sauts_ en même temps que les comptages séquentiels et annuels des échantillons. Dans ce cas, le _Comptage séquentiel des sauts_ indique le nombre de périodes à sauter dans la même année que la période de valeur prédite. Par exemple, si le _nombre séquentiel d'échantillons_ est de 4 et le _nombre séquentiel de sauts_ est de 2, les deux périodes précédant immédiatement la période de valeur prédite seront sautées, mais les deux périodes précédentes seront échantillonnées :

![](resources/images/maintainence/predictor_skip_2_weeks.png){.center width=66% }

Si le _nombre séquentiel de sauts_ est égal ou supérieur au _nombre séquentiel d'échantillons_, alors aucun échantillon ne sera collecté pour l'année contenant la période de valeur prédite ; seules les périodes des années passées seront échantillonnées :

![](resources/images/maintainence/predictor_skip_current_year.png){.center width=66% }

#### Test de saut d'échantillon { #sample_skip_test }

Vous pouvez utiliser le _Test de saut d'échantillon_ pour sauter des échantillons de certaines périodes qui seraient autrement incluses, sur la base des résultats du test d'une expression au cours de ces périodes. Cela peut être utilisé, par exemple, dans la détection de foyers de maladies, où le test de saut d'échantillon peut identifier des foyers de maladies antérieurs, pour exclure ces échantillons de la prédiction d'une valeur attendue de base non liée à un foyer.

Le _Test de saut d'échantillon_ est une expression qui devrait retourner une valeur de vrai ou de faux, pour indiquer si la période doit être sautée ou non. Il peut s'agir d'une expression qui teste toute valeur de données de la période précédente. Par exemple, elle peut tester une valeur de donnée explicitement saisie pour indiquer qu'une période précédente doit être sautée. Elle peut aussi comparer une valeur prédite précédemment pour une période avec la valeur réelle enregistrée pour cette période, afin de déterminer si cette période doit être sautée.

Toute période pour laquelle le _Sample skip test_ est _vrai_ ne sera pas échantillonnée. Exemple :

![](resources/images/maintainence/predictor_sample_skip_test.png){.center width=66% }

### Créer ou modifier un prédicteur { #create_predictor }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Prédicteur**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, entrez le nom du prédicteur.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  (Facultatif) Tapez une **Description**.

6.  Sélectionnez un **Élément de donnée de sortie**. Les valeurs générées par ce prédicteur sont stockées sous forme de données agrégées associées à cet élément de donnée et à la période prédite.

    La valeur est arrondie en fonction du type de valeur de l'élément de donnée : Si le type de valeur est un type d'entier, la valeur prévue est arrondie à l'entier le plus proche. Pour tous les autres types de valeur, le nombre est arrondi à quatre chiffres significatifs. (Toutefois, s'il y a plus de quatre chiffres à gauche de la décimale, ils ne sont pas remplacés par des zéros).

7.  (Facultatif) Sélectionnez une **Combo de catégories de sortie**. Ce menu déroulant n'apparaîtra que si l'élément de donnée sélectionné est associé à une combinaison de catégories. Si tel est le cas, vous pouvez alors sélectionner la combo de catégories  que vous souhaitez utiliser.

8.  Sélectionnez un **Type de période**.

9.  Attribuer un ou plusieurs niveaux d'unité d'organisation. La valeur de sortie sera attribuée à une unité d'organisation à ce niveau (ou à ces niveaux). Les valeurs d'entrée proviendront de l'unité d'organisation à laquelle la sortie est attribuée, ou de tout niveau inférieur à l'unité d'organisation de sortie.

10. Créer un **Générateur**. Le générateur est l'expression utilisée pour le calcul de la valeur prédite.

    1.  Tapez une **Description** de l'expression du générateur.

    2.  Sélectionnez une stratégie de **valeur manquante**. Cette sélection détermine comment le système évalue une règle de validation si des données sont manquantes.

        | Option                         | Description                                                                                                                                                                                                                     |
        | --- | --- |
        | Ignorer si une valeur est manquante | La règle de validation sera ignorée si l'une des valeurs composant l'expression est manquante.  C'est l'option par défaut. <br><br>Sélectionnez toujours cette option si vous utilisez l'opérateur **Paire exclusive** ou **Paire obligatoire**. |
        | Ignorez si toutes les valeurs sont manquantes | La règle de validation ne sera ignorée que si toutes les valeurs qui la composent sont manquantes.                                                                                                                                     |
        | Ne jamais ignorer                     | La règle de validation ne sera jamais ignorée en cas de données manquantes, et toutes les valeurs manquantes seront effectivement traitées comme un zéro.                                                                                                |

    3.  Entrez l'expression du générateur. Vous pouvez générer l'expression en sélectionnant des éléments de données pour les données agrégées, ou des éléments de données de programme, des attributs ou des indicateurs. Le comptage des unités d'organisation n'est pas encore pris en charge.

        Pour utiliser les données échantillonnées de la période passée, vous devez inclure tout élément que vous sélectionnez dans l'une des fonctions agrégées suivantes (veuillez noter que les noms de ces fonctions sont sensibles à la casse) :
        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Aggregate function</p></th>
        <th><p>Means</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>avg(x)</p></td>
        <td><p>Average (mean) value of x</p></td>
        </tr>
        <tr class="even">
        <td><p>count(x)</p></td>
        <td><p>Count of the values of x</p></td>
        </tr>
        <tr class="odd">
        <td><p>max(x)</p></td>
        <td><p>Maximum value of x</p></td>
        </tr>
        <tr class="even">
        <td><p>median(x)</p></td>
        <td><p>Median value of x</p></td>
        </tr>
        <tr class="odd">
        <td><p>min(x)</p></td>
        <td><p>Minimum value of x</p></td>
        </tr>
        <tr class="even">
        <td><p>percentileCont(p, x)</p></td>
        <td><p>Continuous percentile of x, where p is the percentile as a floating point number between 0 and 1. For example, p = 0 will return the lowest value, p = 0.5 will return the median, p = 0.75 will return the 75th percentile, p = 1 will return the highest value, etc. Continuous means that the value will be interpolated if necessary. For example, percentileCont( 0.5, #{FTRrcoaog83} ) will return 2.5 if the sampled values of data element FTRrcoaog83 are 1, 2, 3, and 4.</p></td>
        </tr>
        <tr class="odd">
        <td><p>stddev(x)</p></td>
        <td><p>Standard deviation of x. This function is eqivalent to stddevSamp. It's suggested that you use the function stddevSamp instead for greater clarity.</p></td>
        </tr>
        <tr class="even">
        <td><p>stddevPop(x)</p></td>
        <td><p>Population standard deviation of x: sqrt( sum( (x - avg(x))^2 ) / n )</p></td>
        </tr>
        <tr class="even">
        <td><p>stddevSamp(x)</p></td>
        <td><p>Sample standard deviation of x: sqrt( sum( (x - avg(x))^2 ) / ( n - 1 ) ). Note that this value is not computed when there is only one sample.</p></td>
        </tr>
        <tr class="odd">
        <td><p>sum(x)</p></td>
        <td><p>Sum of the values of x</p></td>
        </tr>
        </tbody>
        </table>

        Tout élément à l'intérieur d'une fonction agrégée sera évalué pour toutes les périodes passées échantillonnées, puis combiné selon la formule à l'intérieur de la fonction agrégée. Tout élément en dehors d'une fonction agrégée sera évalué pour la période au cours de laquelle la prédiction est faite.

        Vous pouvez construire des expressions plus complexes en cliquant (ou en tapant) sur l'un des éléments situés sous le champ d'expression : ( ) \* / + - Jours. Des nombres constants peuvent être ajoutés. L'option Jours insère \[jours] dans l'expression qui renvoie au nombre de jours de la période de provenance des données.

        Vous pouvez également utiliser les fonctions non agrégatoires suivantes dans votre expression, soit à l'intérieur de fonctions agrégées, soit contenant des fonctions agrégées, soit indépendantes de fonctions agrégées :

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Function</p></th>
        <th><p>Means</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>if(test, valueIfTrue, valueIfFalse)</p></td>
        <td><p>Evaluates <strong>test</strong> which is an expression that evaluates to a boolean value -- see <strong>Boolean expression notes</strong> below. If the test is <strong>true</strong>, returns the <strong>valueIfTrue</strong> expression. If it is <strong>false</strong>, returns the <strong>valueIfFalse</strong> expression.</p></td>
        </tr>
        <tr class="even">
        <td><p>isNull(item)</p></td>
        <td><p>Returns the boolean value <strong>true</strong> if the <strong>item</strong> is null (missing), otherwise returns <strong>false</strong>. The <strong>item</strong> can be any selected item from the right (data element, program data element, etc.).</p></td>
        </tr>
        <tr class="odd">
        <td><p>isNotNull(item)</p></td>
        <td><p>Returns <strong>true</strong> if the <strong>item</strong> value is not missing (not null), otherwise <strong>false</strong>.</p></td>
        </tr>
        <tr class="even">
        <td><p>firstNonNull(item [, item ...])</p></td>
        <td><p>Returns the value of the first <strong>item</strong> that is not missing (not null). Can be provided any number of arguments. Any argument may also be a numeric or string literal, which will be returned if all the previous items have missing values.</p></td>
        </tr>
        <tr class="odd">
        <td><p>greatest(expression [, expression ...])</p></td>
        <td><p>Returns the greatest (highest) value of the expressions given. Can be provided any number of arguments.</p></td>
        </tr>
        <tr class="even">
        <td><p>least(expression [, expression ...])</p></td>
        <td><p>Returns the least (lowest) value of the expressions given. Can be provided any number of arguments.</p></td>
        </tr>
        <tr class="odd">
        <td><p>log(expression [, base ])</p></td>
        <td><p>Returns the natural logarithm (base e) of the numeric expression. If an integer is given as a second argument, returns the logarithm using that base.</p></td>
        </tr>
        <tr class="even">
        <td><p>log10(expression)</p></td>
        <td><p>Returns the common logarithm (base 10) of the numeric expression.</p></td>
        </tr>
        </tbody>
        </table>

        **Notes sur les expressions booléennes :** Une expression booléenne doit être évaluée à **vrai** ou **faux**. Les opérateurs suivants peuvent être utilisés pour comparer deux valeurs aboutissant à une expression booléenne : \<, \>, \!=, ==, \>=, and \<=. Les opérateurs suivants peuvent être utilisés pour combiner deux expressions booléennes : && (logique et), et || (logique ou). L'opérateur unaire \ ! peut être utilisé pour annuler une expression booléenne.

        Exemples d'expressions génératrices :

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Generator expression</p></th>
        <th><p>Means</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>sum(#{FTRrcoaog83.tMwM3ZBd7BN})</p></td>
        <td><p>Sum of the sampled values of data element FTRrcoaog83 and category option combination (disaggregation) tMwM3ZBd7BN</p></td>
        </tr>
        <tr class="even">
        <td><p>avg(I{GSae40Fyppf}) + 2 * stddevSamp(I{GSae40Fyppf})</p></td>
        <td><p>Average of the sampled values of of program indicator GSae40Fyppf plus twice its sample standard deviation</p></td>
        </tr>
        <tr class="odd">
        <td><p>sum(D{IpHINAT79UW.eMyVanycQSC}) / sum([days])</p></td>
        <td><p>Sum of all sampled values of data element eMyVanycQSC from porgram IpHINAT79UW divided by the number of days in all sample periods (resulting in the overall average daily value)</p></td>
        </tr>
        <tr class="even">
        <td><p>sum(#{FTRrcoaog83}) + #{T7OyqQpUpNd}</p></td>
        <td><p>Sum of all sampled values of data element FTRrcoaog83 plus the value of data element T7OyqQpUpNd in the period being predicted for (includes all disaggregations)</p></td>
        </tr>
        <tr class="odd">
        <td><p>1.2 * A{IpHINAT79UW.RKLKz1H20EE}</p></td>
        <td><p>1.2 times the value of attribute RKLKz1H20EE of program IpHINAT79UW, in the period being predicted for</p></td>
        </tr>
        <tr class="even">
        <td><p>if(isNull(#{T7OyqQpUpNd}), 0, 1)</p></td>
        <td><p>If the data element T7OyqQpUpNd is null in the period being predicted, then 0, otherwise 1.</p></td>
        </tr>
        <tr class="odd">
        <td><p>percentileCont(0.5, #{T7OyqQpUpNd})</p></td>
        <td><p>Continuous 50th percentile of the sampled values for data element T7OyqQpUpNd. Note that this is the same as median(#{T7OyqQpUpNd})</p></td>
        </tr>
        <tr class="even">
        <td><p>if(count(#{T7OyqQpUpNd}) == 1, 0, stddevSamp(#{T7OyqQpUpNd}))</p></td>
        <td><p>If there is one sample value present for data element T7OyqQpUpNd, then 0, otherwise the sample standard deviation of these sample values. (Note that if no samples are present then the stddevSamp returns no value, so no value is predicted.)</p></td>
        </tr>
        </tbody>
        </table>

11. (Facultatif) Créer un **Test de saut d'échantillon**. Le test de saut d'échantillon indique les périodes précédentes à exclure de l'échantillon, le cas échéant.

    1.  Tapez une **Description** du test de saut.

    2.  Saisissez l'exemple d'expression de saut de test. Vous pouvez créer l'expression en sélectionnant des éléments de données pour les données agrégées, ou des éléments de données, des attributs ou des indicateurs de programme. Le comptage des unités d'organisation n'est pas encore pris en charge. Comme pour la fonction de génération, vous pouvez cliquer (ou taper) sur n'importe quel élément situé sous le champ de l'expression : ( ) \* / + - Jours.

        Les fonctions non agrégatoires décrites ci-dessus peuvent également être utilisées dans les tests de saut.

        L'expression doit être évaluée à une valeur booléenne de **vrai** ou **faux**. Voir les **Notes sur les expressions booléennes** ci-dessus.

        Exemples d'expression de test de saut :

        <table>
        <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Skip test expression</p></th>
        <th><p>Means</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>#{FTRrcoaog83} &gt; #{M62VHgYT2n0}</p></td>
        <td><p>The value of data element FTRrcoaog83 (sum of all disaggregations) is greater than the value of data element M62VHgYT2n0 (sum of all disaggregations)</p></td>
        </tr>
        <tr class="even">
        <td><p>#{uF1DLnZNlWe} &gt; 0</p></td>
        <td><p>The value of data element uF1DLnZNlWe (sum of all disaggregations) is greater than the zero</p></td>
        </tr>
        <tr class="odd">
        <td><p>#{FTRrcoaog83} &gt; #{M62VHgYT2n0} || #{uF1DLnZNlWe} &gt; 0</p></td>
        <td><p>The value of data element FTRrcoaog83 (sum of all disaggregations) is greater than the value of data element M62VHgYT2n0 (sum of all disaggregations) or the value of data element uF1DLnZNlWe (sum of all disaggregations) is greater than the zero</p></td>
        </tr>
        </tbody>
        </table>

12. Entrez une valeur de **Nombre séquentiel d'échantillons**.

    Il s'agit de savoir combien de périodes séquentielles le calcul doit remonter dans le temps pour échantillonner les données en vue des calculs.

13. Entrez une valeur de **Nombre annuel d'échantillons**.

    Il s'agit de savoir pendant combien d'années le calcul doit remonter dans le temps pour échantillonner les données en vue des calculs.

14. (Facultatif) Entrez une valeur de **Nombre séquentiel de sauts**.

    C'est le nombre de périodes séquentielles, précédant immédiatement la période de valeur prédite, qui doivent être sautées avant l'échantillonnage des données.

15. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe de prédicteurs { #create_predictor_group }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Groupe de prédicteurs**.

2.  Cliquez sur le bouton d'ajout.

3.  Saisissez un **Nom**. Ce champ doit être unique.

4.  (Facultatif) Dans le champ **Code**, attribuez un code. Ce champ doit être unique.

5.  (Facultatif) Tapez une **Description**.

6.  Double-cliquez sur les **prédicteurs** que vous souhaitez attribuer au groupe.

7.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les push reports { #manage_push_report }

### À propos des push reports { #about_push_report }

Les fonctionalité Push reports vous permet de faire connaître davantage et d'utiliser l'analyse des données en envoyant des rapports, contenant des graphiques, des tableaux et des cartes, directement aux adresses électroniques des utilisateurs.

-   Un rapport push tire son contenu des tableaux de bord existants.

-   Un rapport push classe les éléments du tableau de bord dans le même ordre que celui du tableau de bord.

-   Un rapport push ne peut contenir que des éléments de tableau de bord ayant des graphiques, des cartes ou des tableaux.

-   Vous pouvez créer le rapport push et son échéancier dans l'application **Maintenance**.

-   Les paramètres **Titre** et **Message** que vous définissez dans l'application **Maintenance**, sont inclus dans chaque rapport. Le **Nom** que vous donnez au rapport n'est pas inclus dans le rapport, mais est plutôt utilisé pour identifier l'objet de l'analyse push dans le système. Ainsi, un rapport peut être nommé d'une manière et le titre du rapport d'une autre.

-   Lorsque vous exécutez une tâche de Rapport push, le système compile une liste de destinataires à partir des groupes d'utilisateurs que vous avez sélectionnés. Le système génère ensuite un rapport pour chaque membre des groupes d'utilisateurs sélectionnés. Chacun des éléments du tableau de bord est généré spécifiquement pour chaque utilisateur. Cela signifie que les données incluses dans le rapport reflètent les données auxquelles l'utilisateur a accès. Tous les utilisateurs peuvent donc obtenir le même rapport (si toutes les données sont "statiques") ou des rapports personnalisés (si toutes les données sont "dynamiques"), ou une combinaison des deux.

-   Les rapports sont envoyés par courrier électronique aux destinataires, et non par le système de messagerie interne de DHIS2. Si un utilisateur ne dispose pas d'un e-mail valide, ou si la tâche échoue, aucun e-mail n'est envoyé. Dans ce cas, le problème est enregistré sur le serveur.

> **N.B**
>
> Les données générées dans les Rapports push sont publiques. Vérifiez donc que des données sensibles n'y sont pas incluses.

![](resources/images/maintainence/push_report_ex.png)

Dans l'application **Maintenance**, vous gérez les objets de Rapports push ci-après :

<table>
<caption>Objets de Rapports push dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Analyse push</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails, traduire, prévisualiser et exécuter</p></td>
</tr>
</tbody>
</table>

### Créer ou modifier un Push report { #create_push_report }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Analyse Push**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, tapez le nom du rapport prévu.

    Ce nom ne figure pas dans le courrier électronique du rapport. Il sert plutôt à identifier l'objet de l'analyse "push" dans le système.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Ajouter un **Titre** de rapport.

    Ce titre est inclus dans le courriel du rapport.

6.  (Facultatif) Ajoutez un **Message**.

    Ce message est inclus dans le courrier électronique du rapport.

7.  Sélectionnez un **Tableau de bord** sur lequel vous baserez le rapport.

8.  Sélectionnez et attribuez les groupes d'utilisateurs auxquels vous souhaitez envoyer le rapport.

9.  Sélectionnez une **Fréquence de programmation** : **Journalier**, **Hebdomadaire** ou **Mensuel**.

    > **Note**
    >
    > If you schedule a push report to "Monthly" and "31", the scheduled report job will not run if the month has less than 31 days.

10. (Facultatif) Sélectionnez **Activer** pour activer la tâche de Rapport push.

    La âche ne sera pas exécuté tant que vous ne l'aurez pas activée.

11. Cliquez sur **Sauvegarder**.

### Prévisualiser les Rapports push { #preview_push_report }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Analyse Push**.

2.  Dans la liste des Rapports push, trouvez le Rapport push que vous souhaitez visualiser.

3.  Cliquez sur le menu des options et sélectionnez **Aperçu**.

    Un aperçu du Rapport push s'ouvre dans une nouvelle fenêtre.

### Exécuter les tâches de Rapport push { #run_push_report }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Analyse Push**.

2.  Dans la liste des Rapports push, trouvez le Rapport push que vous souhaitez lancer.

3.  Cliquez sur le menu des options et sélectionnez **Exécuter maintenant**.

    La tâche de Rapport push s'exécute immédiatement.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les couches de carte externes { #manage_external_maplayer }

### À propos des couches de carte externes { #about_gis_map_layers }

Vous pouvez personnaliser le SIG en incluant des couches cartographiques provenant de diverses sources et les combiner avec vos propres données dans le DHIS2. DHIS2 prend en charge les formats de service cartographique courants tels que Web Map Service (WMS), Tile Map Service (TMS) et les carreaux XYZ.

### Créer ou modifier une couche de carte externe { #create_external_map_layer }

> **N.B.**
>
> Le DHIS2 ne prend en charge que la projection Web Mercator ([EPSG:3857](https://epsg.io/3857)) ; assurez-vous donc que le service externe prend en charge cette projection.

<table>
<caption>Objets de couche externe de la carte dans l'application Maintenance</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Couche externe de la carte</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Couche carte externe**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, saisissez un nom qui décrit le contenu de la couche de carte externe.

    C'est ce nom que vous verrez dans l'application **Cartes**.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Sélectionnez un format de **Service cartographique**.

    Le DHIS2 prend en charge trois formats habituels de services cartographiques :

    -   Le Web Map Service (WMS)

        **Format de l'image** : Le format PNG permet aux couches d'être transparentes, le format JPG offre une meilleure compression et est souvent plus rapide à charger.

        **Les couches** : Un WMS peut contenir plusieurs couches individuelles, et vous pouvez spécifier celles que vous souhaitez inclure (séparées par des virgules). Consultez le document WMS GetCapabilities pour voir les couches disponibles.

    -   Le Tile Map Service (TMS)

    -   Les pavés XYZ (peuvent également être utilisées pour le WMTS)

6.  Entrez le **URL** dans le service de cartographie.

    > **Note**
    >
    > XYZ and TMS URLs must contain placeholders {}, for example: http://{s}.tile.osm.org/{z}/{x}/{y}.png.

7.  (Facultatif) Entrez la **Source** des couches de la carte. Le champ peut contenir des balises HTML si vous souhaitez créer un lien vers la source.

    Lorsque vous utilisez un service cartographique externe, il est important de mettre en évidence la provenance des données.

8.  Sélectionnez un **Positionnement** :

    -   **Fond - carte de base ** : Pour l'application Cartes, cela permet de sélectionner la couche externe de la carte comme carte de base (c'est-à-dire comme alternative aux cartes de base de DHIS2).

    -   **Haut - superposition** : Pour l'application Cartes, cela permet d'ajouter la carte externe à partir de la sélection Ajouter une couche et de la placer n'importe où au-dessus de la carte de base.

9.  (Facultatif) Ajoutez une légende.

    Vous pouvez ajouter une légende de deux façons :

    -   Sélectionnez une **Légende** prédéfinie pour décrire les couleurs de la couche de la carte.

        > **Tip**
        >
        > Click **Add new** to create legends that you're missing. In the form that opens, create the legends you need. When you're done, click **Refresh values**.

    -   Saisissez un lien vers une légende d'image externe dans **URL de l'image de légende**.

        Ceux-ci sont souvent fournis pour le WMS. Voir l'URL de la légende dans le document GetCapabilites de WMS.

10. Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gestion des vues SQL { #maintenance_sql_view }

La fonctionnalité de la vue SQL de DHIS2 permet de stocker la définition de la vue SQL en interne, puis de matérialiser la vue lorsqu'elle est demandée.

Les administrateurs de bases de données doivent faire attention à ne pas créer des vues de base de données directement dans la base de données de DHIS2. Par exemple, lorsque les tableaux de ressources sont générés, ils seront d'abord tous supprimés puis recrées. Si des vues SQL dépendent de ces tableaux, une exception de violation de l'intégrité sera alors lancée et le processus sera interrompu.

Les vues SQL sont déposées par ordre alphabétique inverse en fonction de leurs noms dans DHIS2, et créées dans l'ordre alphabétique normal. Cela vous permet d'avoir des dépendances entre les vues SQL, étant donné que les vues ne dépendent que des autres vues qui arrivent plus tôt dans l'ordre alphabétique. Par exemple, "Vue B" peut dépendre sans risque de "Vue A". Sinon, le fait d'avoir des vues dépendantes d'autres vues entraîne une erreur de violation de l'intégrité.

### Créer une nouvelle vue SQL { #creating-a-new-sql-view }

Pour créer une nouvelle vue SQL, cliquez sur **Apps** \> **Maintenance** \> **Autre** \> **Vue SQL** et cliquez sur le bouton Ajouter **+**.

![](resources/images/maintainence/create_sql_view.PNG)

L'attribut "Nom" de la vue SQL sera utilisé pour déterminer le nom du tableau que DHIS2 créera lorsque la vue sera matérialisée par l'utilisateur. L'attribut "Description" permet de fournir un texte descriptif sur ce que fait réellement la vue SQL. Enfin, la "Requête SQL" doit contenir la définition de la vue SQL. Seules les instructions "SÉLECTIONNER" du SQL sont autorisées et certains tableaux sensibles (c'est-à-dire les informations sur l'utilisateur) ne sont pas accessibles. Appuyez sur "Enregistrer" pour enregistrer la définition de la vue SQL.

Keep in mind that the the columns returned by the used SELECT statement become table columns, that means they must be of a valid table column type. When functions are used it might be necessary to explicitly cast the result to a type by adding `::{TYPE}` after the function.

For example, instead of `jsonb_each` (which would return a record type that cannot be a column type) use `jsonb_each_text` and cast the result to `text`, like in the below sample:

```sql
sélectionnez jsonb_chacun_texte(donnéesévènements)::texte...
```

### Gestion des vues SQL { #sql-view-management }

Pour utiliser les vues SQL, il suffit de cliquer sur la vue et, dans le menu contextuel, de choisir "Exécuter la requête". Une fois le processus terminé, vous serez informé de la création d'un tableau. Le nom du tableau sera fourni, et est composé à partir de l'attribut "Description" fourni dans la définition de la vue SQL. Une fois que la vue est générée, vous pouvez alors la visualiser en cliquant à nouveau sur la vue et en sélectionnant "Afficher la vue SQL".

> **Conseils**
>
> Si vous avez une vue qui dépend d'une autre vue, vous devez donc faire attention à la façon dont les vues sont nommées. Lorsque l'analyse est exécutée sur le serveur DHIS2, toutes les vues doivent être supprimées et recréées. Lorsque vous lancez l'analyse, les vues sont supprimées par ordre alphabétique, puis recréées par ordre alphabétique inverse. Ainsi, si la vue A dépend de la vue B, elle doit apparaître avant la vue B dans l'ordre alphabétique. Si elle apparaît après la vue B dans l'ordre alphabétique, l'analyse peut échouer, car la vue et les dépendances ne seront pas disposées dans le bon ordre.

## Gérer les lieux { #maintenance_locale_management }

Il est possible de créer des lieux personnalisés dans le DHIS2. En plus des lieux disponibles dans le système, vous pouvez ajouter au système un lieu personnalisé tel que "English" et "Zambia". Cela vous permettrait de traduire les objets de métadonnées dans les langues locales, ou de tenir compte de légères variantes entre les pays utilisant une définition commune des métadonnées.

![](resources/images/maintainence/locale_management.png)

Le lieu estt composés d'une langue et d'un pays. Sélectionnez les valeurs souhaitées et appuyez sur "Ajouter". Ce lieu personnalisé sera maintenant disponible comme l'un des lieux de traduction dans le système.

## Modifier plusieurs groupes d'objets à la fois { #edit_multiple_object_groups }

L'**Éditeur de groupes de métadonnées** de l'application **Maintenance** vous permet de modifier plusieurs groupes d'objets en même temps. Vous pouvez modifier les types d'objets suivants :

<table>
<caption>Types d'objets dans l'éditeur de groupes de Métadonnées</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Option de catégorie</p></td>
<td></td>
</tr>
<tr class="even">
<td><p>Groupe d'options de catégorie</p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Élément de donnée</p></td>
<td><p>Ajouter un élément de donnée à plusieurs groupes d'éléments de données</p>
<p>Supprimer un élément de donnée de plusieurs groupes d'éléments de données</p></td>
</tr>
<tr class="even">
<td><p>Groupe d'éléments de données</p></td>
<td><p>Ajouter plusieurs éléments de données à un groupe d'éléments de données</p>
<p>Supprimer plusieurs éléments de données d'un groupe d'éléments de données</p></td>
</tr>
<tr class="odd">
<td><p>Indicateur</p></td>
<td><p>Ajouter un indicateur à plusieurs groupes d'indicateurs</p>
<p>Supprimer un indicateur de plusieurs groupes d'indicateurs</p></td>
</tr>
<tr class="even">
<td><p>Groupe d'indicateurs</p></td>
<td><p>Ajouter plusieurs indicateurs à un groupe d'indicateurs</p>
<p>Supprimer plusieurs indicateurs d'un groupe d'indicateurs</p></td>
</tr>
</tbody>
</table>

### Modifier plusieurs objets dans un groupe d'objets { #edit-multiple-objects-in-an-object-group }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Éditeur de groupes de métadonnées**.

2.  Cliquez sur **Gérer les éléments du groupe**.

3.  Sélectionnez un type de groupe d'objets, par exemple **Groupes d'indicateurs**.

4.  Sélectionnez un groupe d'objets, par exemple **VIH**.

5.  Dans la liste de gauche, sélectionnez le ou les objet(s) que vous souhaitez ajouter au groupe d'objets et cliquez sur la flèche de droite.

6.  Dans la liste de droite, sélectionnez le ou les objets que vous souhaitez retirer du groupe d'objets et cliquez sur la flèche gauche.

### Modifier un objet dans plusieurs groupes d'objets { #edit-an-object-in-multiple-object-groups }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Éditeur de groupes de métadonnées**.

2.  Cliquez sur **Gérer les groupes pour l'article**.

3.  Sélectionnez un type d'objet, par exemple **Indicateurs**.

4.  Sélectionnez un objet, par exemple **couverture de CPN MILD**.

5.  Dans la liste de gauche, sélectionnez le ou les groupe(s) d'objets auquel vous souhaitez ajouter l'objet et cliquez sur la flèche de droite.

6.  Dans la liste de droite, sélectionnez le ou les groupe(s) d'objets dont vous voulez retirer l'objet et cliquez sur la flèche de gauche.

# Configurer les programmes dans l'application Maintenance { #configure_programs_in_maintenance_app }

## À propos des programmes { #about_program_maintenance_app }

Traditionally, public health information systems have been reporting aggregated data of service provision across its health programs. This does not allow you to trace the people provided with these services. In DHIS2, you can define your own programs with stages. These programs are an essential part of the "tracker" functionality which lets you track individual records. You can also track other ‘entities’ such as wells or insurances. You can create two types of programs:

<table>
<caption>Types de programmes</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Types de programme</p></th>
<th><p>Description</p></th>
<th><p>Exemples d'application</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Programme d'événement</p></td>
<td><p>Événement unique <em>sans</em> programme d'enregistrement (programme anonyme ou SEWoR)</p>
<p>Les événements individuels anonymes sont suivis par le système de santé. Aucune personne ou entité n'est rattachée à ces opérations individuelles.</p>
<p>N'a qu'une seule étape de programme.</p></td>
<td><p>Enregistrer les cas sanitaires sans enregistrer aucune information dans le système.</p>
<p>Enregistrer des données d'enquête ou des listes de surveillance.</p></td>
</tr>
<tr class="even">
<td><p>Programme Tracker</p></td>
<td><p>Événement unique <em>avec</em> programme d'enregistrement (SEWR)</p>
<p>Une entité (personne, produit, etc.) est suivie à travers chaque opétarion individuelle avec le système de santé</p>
<p>N'a qu'une seule étape de programme.</p>
<p>Une instance d'entité suivie (TEI) ne peut s'inscrire au programme qu'une seule fois.</p></td>
<td><p>Enregistrer l'acte de naissance et l'acte de décès.</p></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Evénements multiples <em>avec</em> programme d'enregistrement (MEWR)</p>
<p>Une entité (personne, produit, etc.) est suivie à travers chaque opération individuelle avec le système de santé</p>
<p>Comporte plusieurs étapes de programme.</p></td>
<td><p>Programme de santé maternelle avec des étapes comme visite de CPN (2-4+), accouchement, visite de CPN.</p></td>
</tr>
</tbody>
</table>

Pour créer un programme, vous devez d'abord configurer plusieurs types d'objets de métadonnées. Vous pouvez créer ces objets de métadonnées dans l'application **Maintenance**.

<table>
<caption>Objets de métadonnées de programme dans l'application Maintenance</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th>Description</th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Programme d'événement</p></td>
<td><p>Un programme permettant d'enregistrer un événement unique sans inscription</p></td>
<td><p>Créer, modifier, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
+<td><p>Programme Tracker</p></td>
+<td><p>Un programme permettant d'enregistrer un ou plusieurs événements avec inscription</p></td>
+<td><p>Créer, modifier, partager, supprimer, afficher les détails et traduire</p></td>
+</tr>
<tr class="even">
<td><p>Indicateur de programme</p></td>
<td><p>Une expression basée sur les éléments de données et les attributs des entités suivies que vous utilisez pour calculer des valeurs selon une formule.</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Règle de programme</p></td>
<td><p>Vous permet de créer et de contrôler le comportement dynamique de l'interface utilisateur dans les <strong>applications</strong> comme <strong>Saisie Tracker</strong> et Saisie d'événements</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Variable de règle de programme</p></td>
<td><p>Variables que vous utilisez pour créer des expressions de règles de programme.</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Type de relation</p></td>
<td><p>Définit la relation entre l'entité suivie A et l'entité suivie B, par exemple la mère et l'enfant.</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Type d'entité suivie</p></td>
<td><p>Types d'entités qui peuvent être suivies par le système. Cela peut aller des personnes aux produits, par exemple un médicament ou une personne.</p>
<p>Un programme doit avoir une entité suivie. Pour inscrire une instance d'entité suiviee dans un programme, l'entité suivie d'une entité et l'entité suivie d'un programme doivent être les mêmes.</p>
<blockquote>
<p><strong>N.B.</strong></p>
<p>Un programme doit être spécifié avec une seule entité suivie. Seule une entité suivie identique à l'entité suivie du programme peut s'inscrire à ce programme.</p>
</blockquote></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Attribut d'entité suivie</p></td>
<td><p>Utilisé pour enregistrer des informations supplémentaires sur une entité suivie.</p>
<p>Peut être partagé entre les programmes.</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Programme</p></td>
<td><p>Un programme se compose de plusieurs étapes.</p></td>
<td><p>Créer, modifier, partager, supprimer, affecter à des unités d'organisation, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Étape du programme</p></td>
<td><p>Une étape du programme définit les actions à entreprendre à chaque étape.</p></td>
<td><p>Créer, modifier, partager, changer l'ordre de tri, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Groupe d'indicateurs du programme</p></td>
<td><p>Un groupe d'indicateurs de programme</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="odd">
<td><p>Règle de validation</p></td>
<td><p>Une règle de validation est basée sur une expression qui définit une relation entre les valeurs des éléments de données.</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Notification du programme</p></td>
<td><p>Rappel par message automatique</p>
<p>Définir des rappels qui seront automatiquement envoyés aux entités enregistrées et suivies avant les rendez-vous prévus et après les visites manquées.</p></td>
<td><p>Créer, modifier et supprimer</p></td>
</tr>
<tr class="odd">
<td><p>Notification de l'étape du programme</p></td>
<td><p>Rappel par message automatique</p>
<p>Définir des rappels à envoyer automatiquement chaque fois qu'une étape du programme est terminée, ou avant ou après la date d'échéance.</p></td>
<td><p>Créer, modifier et supprimer</p></td>
</tr>
</tbody>
</table>

## Configurer les programmes d'événements dans l'application Maintenance { #configure_event_program_in_maintenance_app }

### À propos des programmes d'événements { #about_event_program }

Les événements uniques _sans_ programmes d'inscription sont appelés programmes d'événements. Vous pouvez les configurer dans l'application **Maintenance**. Les programmes d'événements peuvent avoir trois types de formulaires de saisie de données :

<table>
<caption>Types de formulaires de saisie pour les programmes d'événements</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type de formulaire</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Elémentaire</p></td>
<td><p>Liste tous les éléments de données appartenant au programme. Vous pouvez modifier l'ordre des éléments de données.</p></td>
</tr>
<tr class="even">
<td><p>Section</p></td>
<td><p>Une section regroupe les éléments de données. Vous pouvez ensuite organiser l'ordre des sections pour créer la disposition souhaitée du formulaire de saisie des données.</p></td>
</tr>
<tr class="odd">
<td><p>Personnalisé</p></td>
<td><p>Définit le formulaire de saisie comme une page HTML.</p></td>
</tr>
</tbody>
</table>

> **Note**
>
> -   Custom forms takes precedence over section forms if both are present.
>
> -   If no custom or section form are defined, the basic form will be used.
>
> -   The Android apps only supports section forms.

Vous pouvez créer des _notifications de programme_ pour les programmes d'événements. Les notifications sont envoyées soit par le système de messagerie interne de DHIS2, soit par e-mail, soit par message texte (SMS). Vous pouvez utiliser les notifications de programme pour, par exemple, envoyer un rappel automatique à une entité suivie 10 jours avant un rendez-vous prévu. Vous utilisez les attributs de l'entité suivie du programme (par exemple le prénom) et les paramètres du programme (par exemple la date d'inscription) pour créer un modèle de notification. Dans le champ **Paramètres**, vous trouverez une liste des attributs de l'entité suivie et des paramètres du programme disponibles.

### Flux de production : Créer un programme d'événement { #workflow_event_program }

1.  Entrez les détails du programme de l'événement.

2.  Attribuer des éléments de données.

3.  Créer un ou plusieurs formulaires de saisie de données : **Base**, **Section** ou **Personnalisé**.

4.  Affectez le programme à une ou plusieurs unités d'organisation.

5.  Créer une ou des notifications de programme.

### Créer ou modifier un programme d'événement { #create_event_program }

#### Entrez les détails du programme de l'événement. { #enter-event-program-details }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Programme**.

2.  Cliquez sur le bouton d'ajout et sélectionnez **Programme de l'événement** dans le menu popup.

3.  Entrez les détails du programme, puis cliquez sur suivant.

    <table>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Champ</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Nom</strong></p></td>
    <td><p>Le nom du programme.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Couleur</strong></p></td>
    <td><p>Couleur utilisée pour ce programme dans les applications de saisie.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Icône</strong></p></td>
    <td><p>Icône utilisée pour ce programme dans les applications de saisie.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Nom abrégé</strong></p></td>
    <td><p>Un nom abrégé du programme. Le nom abrégé est utilisé comme titre de graphique ou de tableau par défaut dans les applications d'analyse.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Description</strong></p></td>
    <td><p>Une description détaillée du programme.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Version</strong></p></td>
    <td><p>La version du programme. Elle est utilisée par exemple lorsque des personnes collectent des données hors ligne dans une implémentation Android. Lorsqu'ellles se connectent et synchronisent leurs métadonnées, elles devront alors obtenir la dernière version du programme.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Combinaison de catégories</strong></p></td>
    <td><p>La combinaison de catégories que vous souhaitez utiliser. Le paramètre par défaut est <strong>Aucune</strong>.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Flux de travail pour l'approbation des données</strong></p></td>
    <td><p>Le flux de travail d'approbation des données que vous souhaitez utiliser. Le paramètre par défaut est <strong>Aucune valeur</strong>.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Date d'expiration des événements achevés</strong></p></td>
    <td><p>Définit le nombre de jours pendant lesquels vous pouvez modifier un événement terminé. Cela signifie que lorsqu'un événement est terminé et que le nombre de jours d'expiration spécifié est passé, l'événement est verrouillé.</p>
    <p>Si vous fixez &quot;les jours d'expiration des événements terminés&quot ; à 10&quot ;,un événement sera bloqué dix jours après la date d'achèvement. Vous ne pouvez donc plus modifier l'événement après cette date.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Type de période d'expiration</strong></p>
    <p><strong>Jours d'expiration</strong></p></td>
    <td><p>La date d'expiration définit pendant combien de jours après la fin de la période précédente, un événement peut être modifié. Le type de période est défini par le type de période d'expiration. Cela signifie que lorsque le nombre déterminé de jours d'expiration s'est écoulé depuis la date d'expiration de la période précédente, les événements de cette période sont bloqués.</p>
    <p>Si vous définissez le type d'expiration à &quot;Mensuel&quot ; et les jours d'expiration à &quot;10&quot ; et que le mois est octobre, alors vous ne pouvez pas ajouter ou modifier un événement d'octobre après le 10 novembre.</p></td>
    </tr>
    <tr class="odd">
    <td><strong>Vérouiller le formulaire de saisie après l'avoir rempli</strong></td>
    <td><p>Cochez la case pour bloquer le formulaire de saisie après la fin de l'événement de ce programme.</p>
    <p>Cela signifie que les données du formulaire de saisie ne peuvent pas être modifiées tant que le statut n'a pas été réinitialisé à "incomplet".</p></td>
    </tr>
    <tr class="even">
    <td><strong>Type d'élément</strong></td>
    <td><p>Sets whether the program is going to capture a geographical feature type or not.

-   **Aucun** Rien n'est capturé.
-   **Polygone** Une zone est capturée. Pour les programmes à événement unique, la zone sera la zone représentant l'événement capturé. Pour les programmes de suivi, la zone représentera la zone de l'inscription.
-   **Point** Un point ou une coordonnée est saisi(e). Pour les programmes à événement unique, le point représentera l'événement saisi. Pour les programmes de suivi, le point représentera l'inscription. </p></td> </tr> <tr class="odd"> <td><strong>Stratégie de validation</strong></td> <td>Définit les critères de validation côté serveur et côté client.
    > Les validations de type de données sont toujours effectuées quelle que soit la stratégie de validation. Un champ de nombre entier n'est jamais stocké losqu'il contient du texte, par exemple.
-   **On complete** Cette option permet d'appliquer les champs obligatoires et les messages d'erreur à corriger à la fin de l'événement, mais l'événement peut être enregistré sur le serveur sans passer par ces critères de validation.
    -   For legacy reasons, this is always the validation strategy for tracker programs, where each data value in the event is stored to the server while entering data.
-   **Sur mise à jour et insertion** Cette option imposera la validation des champs obligatoires lors de l'enregistrement de l'événement sur le serveur, quel que soit l'état d'achèvement. Lorsque vous utilisez cette option, aucun événement ne peut être enregistré sans réussir les validations.
      </td>
      </tr>
      <tr class="even">
      <td><strong>Pré-génération de l'UID de l'événement</strong></td>
      <td>Cochez la case pour pré-générer des numéros d'identification uniques de l'événement.</td>
      </tr>
      <tr class="odd">
      <td><strong>Description de la date du rapport</strong></td>
      <td><p>Saisissez une description de la date du rapport.</p>
      <p>Cette description s'affiche dans le formulaire de saisie.</p></td>
      </tr>
      </tbody>
      </table>

1.  Cliquez sur suivant.

#### Attribuer des éléments de données { #assign_data_elements }

1.  Cliquez sur **Attribuer des éléments de données**.

2.  Dans la liste des éléments disponibles, double-cliquez sur les éléments de données que vous souhaitez attribuer au programme de l'événement.

3.  (Facultatif) Pour chaque élément de données, ajoutez des paramètres supplémentaires :

    <table>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Setting</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Compulsory</strong></p></td>
    <td><p>The value of this data element must be filled into data entry form before you can complete the event.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Allow provided elsewhere</strong></p></td>
    <td><p>Specify if the value of this data element comes from other facility, not in the facility where this data is entered.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Display in reports</strong></p></td>
    <td><p>Displays the value of this data element into the single event without registration data entry function.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Date in future</strong></p></td>
    <td><p>Will allow user to select a date in future for date data elements.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Mobile render type</strong></p></td>
    <td><p>Can be used to select different render types for mobile devices. Available options vary depending on the data element's value type. For example, for a numerical value you may select &quot;Default&quot;, &quot;Value&quot;, &quot;Slider&quot;, &quot;Linear scale&quot;, and &quot;Spinner&quot;.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Desktop render type</strong></p></td>
    <td><p>WARNING: NOT IMPLEMENTED YET.</p>
    <p>Can be used to select different render types for desktop (i.e. the web interface). Available options vary depending on the data element's value type. For example, for a numerical value you may select &quot;Default&quot;, &quot;Value&quot;, &quot;Slider&quot;, &quot;Linear scale&quot;, and &quot;Spinner&quot;.</p></td>
    </tr>
    </tbody>
    </table>

4.  Cliquez sur suivant.

#### Créer des formulaires de saisie de données { #create_data_entry_forms }

Les formulaires de saisie définissent comment les éléments de données s'afficheront à l'utilisateur dans l'application **Saisie d'événements**.

1.  Cliquez sur **Créer un formulaire de saisie de données**.

2.  Cliquez sur **Base**, **Section** ou **Personnalisé**.

3.  Pour créer un formulaire de saisie **de base** : Glissez et déposez les éléments de données dans l'ordre que vous souhaitez.

4.  Pour créer un formulaire ** À section** :

    1.  Cliquez sur le bouton "Ajouter" et entrez le nom, la description et le type de rendu d'une section pour PC et mobile.

    2.  Cliquez sur la section pour qu'elle soit surlignée par une ligne noire.

    3.  Ajoutez des éléments de données en cliquant sur le signe "+" à côté du nom des éléments de données.

    4.  Répétez les étapes ci-dessus jusqu'à ce que vous ayez toutes les sections dont vous avez besoin.

    5.  Modifiez l'ordre des sections : cliquez sur le menu des options, puis faites glisser la section à l'endroit souhaité.

5.  Pour créer un formulaire de saisie de données **Personnalisé** : Utilisez l'éditeur WYSIWYG pour créer un formulaire entièrement personnalisé. Si vous sélectionnez **Source**, vous pouvez alors coller le code HTML directement dans la zone d'édition. Vous pouvez également insérer des images, par exemple des drapeaux ou des logos.

6.  Cliquez sur suivant.

#### Accès { #access }

Les options d'accès déterminent qui peut saisir les données pour le programme ou visualiser/modifier les métadonnées du programme. Un programme peut être partagé avec des unités d'organisation, et en outre, les options d'accès au programme principal et à toutes les étapes du programme peuvent être configurées par le biais de la boîte de dialogue **Partage**. Les options d'accès sont disponibles dans l'onglet **Accès**.

Attribuer des unités d'organisation :

1.  Dans l'arbre d'organisation, double-cliquez sur les unités d'organisation que vous souhaitez ajouter au programme.

    Vous pouvez localiser une unité d'organisation dans l'arbre en élargissant les branches (cliquez sur le symbole de la flèche) ou en la recherchant par son nom. Les unités organisationnelles sélectionnées s'affichent en orange.

Changer les rôles et l'accès :

1.  Faites défiler vers le bas jusqu'à la section **Rôles et accès**.

    La première ligne indique les options d'accès au programme principal, et chacune des lignes suivantes indique les options d'une étape du programme. Les étapes du programme comportant une icône d'avertissement (point d'exclamation) contiennent des options d'accès qui s'écartent du programme principal, ce qui signifie qu'elles sont accessibles à une combinaison différente d'utilisateurs.

2.  Cliquez sur l'une des lignes et la boîte de dialogue **Partage** s'affichera.

3.  Modifiez les options d'accès en conséquence. Voir la documentation sur le dialogue de partage pour plus de détails.

4.  Cliquez sur le bouton **Appliquer**.

5.  Répétez le processus pour chaque programme/étape du programme. Vous pouvez également copier toutes les options d'accès du programme principal vers vos programmes enfants :

    1.  Sélectionnez les étapes du programme pour lesquelles vous souhaitez avoir des options d'accès similaires à celles du programme principal en cochant les cases situées sur le côté droit des étapes du programme. Vous pouvez également choisir de **Sélectionner toutes** les étapes du programme, **Désélectionner toutes** les étapes du programme ou **Sélectionner des étapes similaires**, en termes d'options d'accès, à celle du programme principal. Les étapes similaires sont activées par défaut.

    2.  Cliquez sur **Appliquer aux étapes sélectionnées**.

#### Créer des notifications de programme { #create_program_notifications }

1.  Créez le message que vous voulez envoyer :

    1.  Cliquez sur **Quoi envoyer?**.

    2.  Entrez un **Nom**.

    3.  Créer le **Modèle d'objet** : Double-cliquez sur les paramètres dans le champ **Modèle de variables** pour les ajouter à votre objet.

        > **Note**
        >
        > The subject is not included in text messages.

    4.  Créer le **Modèle de message** : Double-cliquez sur les noms des paramètres dans la liste des **Variables du modèle** pour les ajouter à votre message.

        Cher A{w75KJ2mc4zz}, Vous êtes maintenant inscrit au V{programme_nom}.

2.  Définissez _quand_ vous voulez envoyer le message :

    1.  Cliquez sur **Quand l'envoyer?**.

    2.  Sélectionnez un **Déclencheur de notification**.

        <table>
        <colgroup>
        <col style="width: 33%" />
        <col style="width: 33%" />
        <col style="width: 33%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Trigger</p></th>
        <th><p>Description</p></th>
        <th><p>Note</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>Program stage completion</p></td>
        <td><p>The program stage notification is sent when the program stage is completed</p></td>
        <td><p>-</p></td>
        </tr>
        <tr class="even">
        <td><p>Days scheduled (due date)</p></td>
        <td><p>The notification is sent XX number of days before or after the due date</p></td>
        <td><p>You need to enter the number of days before or after the scheduled date that the notification will be send.</p></td>
        </tr>
        <tr class="odd">
        <td><p>Program Rule</p></td>
        <td><p>Notification will be triggered as a result of program rule execution.</p></td>
        <td><p>Program rule with ProgramRuleActionType.SENDMESSAGE need to be in place to make this trigger successful.</p></td>
        </tr>
        </tbody>
        </table>

3.  Définissez _à qui_ vous voulez envoyer le message :

    1.  Cliquez sur **L'envoyer à ?**.

    2.  Sélectionnez un **Destinataire de la notification**.

        <table>
        <colgroup>
        <col style="width: 33%" />
        <col style="width: 33%" />
        <col style="width: 33%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Recipient type</p></th>
        <th><p>Description</p></th>
        <th><p>Note</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td><p>Tracked entity instance</p></td>
        <td><p>Receives program notifications via e-mail or text message.</p></td>
        <td><p>To receive a program notification, the recipient must have an e-mail address or a phone number attribute.</p></td>
        </tr>
        <tr class="even">
        <td><p>Organisation unit contact</p></td>
        <td><p>Receives program notifications via e-mail or text message.</p></td>
        <td><p>To receive a program notification, the receiving organisation unit must have a registered contact person with e-mail address and phone number.</p></td>
        </tr>
        <tr class="odd">
        <td><p>Users at organisation unit</p></td>
        <td><p>All users registered to the selected organisation unit receive program notifications via the internal DHIS2 messaging system.</p></td>
        <td>-</td>
        </tr>
        <tr class="even">
        <td><p>User group</p></td>
        <td><p>All members of the selected user group receive the program notifications via the internal DHIS2 messaging system</p></td>
        <td>-</td>
        </tr>
        <tr class="odd">
        <td><p>Data Element</p></td>
        <td><p>Data Element associated with ProgramStage can be selected as recipient.</p></td>
        <td><p>Data Element will only be effective if DataElement has value type PHONE_NUMBER/EMAIL.</p></td>
        </tr>
        </tbody>
        </table>

    3.  Cliquez sur **Sauvegarder**.

4.  Répétez les étapes ci-dessus pour créer toutes les notifications de programme dont vous avez besoin.

5.  Cliquez sur **Sauvegarder**.

> **Note**
>
> You configure when the program notifications are sent in the **Data Administration** app \> **Scheduling** \> **Program notifications scheduler**.
>
> -   Click **Run now** to send the program notifications immediately.
>
> -   Select a time and click **Start** to schedule the program notifications to be send at a specific time.

### Informations de référence : Paramètres de notification du programme { #reference_information_event_program_notification_parameters }

<table>
<caption>Program notification parameters to use in program notifications</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Notification type</p></th>
<th><p>Variable name</p></th>
<th><p>Variable code</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Program</p></td>
<td><p>Current date</p></td>
<td><pre><code>V{current_date}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Days since enrollment date</p></td>
<td><pre><code>V{days_since_enrollment_date}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Enrollment date</p></td>
<td><pre><code>V{enrollment_date}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Incident date</p></td>
<td><pre><code>V{incident_date}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Organisation unit name</p></td>
<td><pre><code>V{org_unit_name}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Program name</p></td>
<td><pre><code>V{program_name}</code></pre></td>
</tr>
<tr class="odd">
<td><p>Program stage</p></td>
<td><p>Current date</p></td>
<td><pre><code>V{current_date}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Days since due date</p></td>
<td><pre><code>V{days_since_due_date}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Days until due date</p></td>
<td><pre><code>V{days_until_due_date}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Due date</p></td>
<td><pre><code>V{due_date}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Organisation unit name</p></td>
<td><pre><code>V{org_unit_name}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Program name</p></td>
<td><pre><code>V{program_name}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Program stage name</p></td>
<td><pre><code>V{program_stage_name}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Event status</p></td>
<td><pre><code>V{event_status}</code></pre></td>
</tr>
</tbody>
</table>

## Configurer les programmes Tracker dans l'application Maintenance { #configure_tracker_program_in_Maintenance_app }

### À propos des programmes Tracker { #about-tracker-programs }

Les programmes à événement unique ou multiple _avec_ inscription sont appelés des programmes Tracker. Un programme doit être spécifié avec une seule entité suivie. Seules les entités suivies identiques à l'entité suivie du programme peuvent s'inscrire à ce programme. Un programme a besoin de plusieurs types de métadonnées que vous pouvez créer dans les applications **Maintenance**.

### Flux de production : Créer un programme tracker { #workflow_tracker_program }

1.  Entrez les détails du programme Tracker.

2.  Entrer les détails de l'inscription.

3.  Assigner des attributs et créer un formulaire d'inscription **à section** ou **personnalisé**.

4.  Créer des étapes de programme.

5.  Configurer l'accès et l'attribuer aux unités d'organisation.

6.  Créer une ou plusieurs notifications de programme et d'étape de programme.

### Créer ou modifier un programme Tracker { #create-or-edit-a-tracker-program }

1. Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Programme**.

2. Cliquez sur le bouton Ajouter et sélectionnez **Programme Tracker** dans le menu popup.

#### Entrer les détails de programme { #tracker_enter_programs_details }

<table>
    <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
    </colgroup>
    <thead>
        <tr class="header">
            <th><p>Field</p></th>
            <th><p>Description</p></th>
        </tr>
    </thead>
    <tbody>
        <tr class="odd">
            <td>
                <p><strong>Name</strong></p>
            </td>
            <td><p>The name of the program.</p></td>
        </tr>
        <tr class="even">
            <td>
                <p><strong>Color</strong></p>
            </td>
            <td><p>Color used for this program in Tracker capture.</p></td>
        </tr>
        <tr class="odd">
            <td>
                <p><strong>Icon</strong></p>
            </td>
            <td><p>Icon used for this program in Tracker capture</p></td>
        </tr>
        <tr class="even">
            <td>
                <p><strong>Short name</strong></p>
            </td>
            <td>
                <p>
                    A short name of the program. The short name is used as the
                    default chart or table title in the analytics apps.
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <p><strong>Description</strong></p>
            </td>
            <td><p>A detailed description of the program.</p></td>
        </tr>
        <tr class="even">
            <td>
                <p><strong>Version</strong></p>
            </td>
            <td>
                <p>
                    The version of the program. This is used for example when
                    people collect data offline in an Android implementation.
                    When they go online and synchronize their metadata, they
                    should get the latest version of the program.
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <p><strong>Tracked Entity Type</strong></p>
            </td>
            <td>
                <p>
                    The tracked entity type you want to use. A program can only
                    have one type of tracked entity.
                </p>
            </td>
        </tr>
        <tr class="even">
            <td>
                <p><strong>Category combination</strong></p>
            </td>
            <td>
                <p>
                    The category combination you want to use. The default
                    setting is <strong>None</strong>.
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <p><strong>Display front page list</strong></p>
            </td>
            <td>
                <p>
                    Select checkbox to display a list of Tracked Entity
                    Instances in Tracker Capture. If not selected, the Search
                    will be displayed.
                </p>
            </td>
        </tr>
        <tr class="even">
            <td>
                <p><strong>First stage appears on registration page</strong></p>
            </td>
            <td>
                <p>
                    Select checkbox to display the first program stage together
                    with the registration (enrollment).
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <p><strong>Access level</strong></p>
            </td>
            <td><p>Choose the access level of the program.</p></td>
        </tr>
        <tr class="even">
            <td>
                <p><strong>Completed events expiry days</strong></p>
            </td>
            <td>
                <p>
                    Defines the number of days for which you can edit a
                    completed event. This means that when an event is completed
                    and the specified number of expiry days has passed, the
                    event is locked.
                </p>
                <p>
                    If you set &quot;Completed events expiry days&quot; to
                    10&quot;, an event is locked ten days after the completion
                    date. After this date you can no longer edit the event.
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <p><strong>Expiry period type</strong></p>
                <p><strong>Expiry days</strong></p>
            </td>
            <td>
                <p>
                    The expiry days defines for how many days after the end of
                    the previous period, an event can be edited. The period type
                    is defined by the expiry period type. This means that when
                    the specified number of expiry days has passed since the end
                    date of the previous period, the events from that period are
                    locked.
                </p>
                <p>
                    If you set the expiry type to &quot;Monthly&quot; and the
                    expiry days to &quot;10&quot; and the month is October, then
                    you can't add or edit an event to October after the 10th of
                    November.
                </p>
            </td>
        </tr>
        <tr class="even">
            <td>
                <strong>Minimum number of attributes required to search</strong>
            </td>
            <td>
                <p>
                    Specify the number of tracked entity attributes that needs
                    to be filled in to search for Tracked Entities in the
                    Program.
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <strong>Maximum number of tracked entity instances to return in
                    search</strong>
            </td>
            <td>
                <p>
                    Specify the maximum number of tracked entity instances that
                    should be returned in a search. Enter 0 for no limit.
                </p>
            </td>
        </tr>
    </tbody>
</table>

#### Enter enrollment details { #enter_enrollment_details }

<table>
    <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
    </colgroup>
    <thead>
        <tr class="header">
            <th><p>Field</p></th>
            <th><p>Description</p></th>
        </tr>
    </thead>
    <tbody>
        <tr class="odd">
            <td><strong>Allow future enrollment dates</strong></td>
            <td>
                <p>
                    Select checkbox if you want to allow tracked entity
                    instances to be enrolled in the program on a future date.
                </p>
            </td>
        </tr>
        <tr class="even">
            <td><strong>Allow future incident dates</strong></td>
            <td>
                <p>
                    Select checkbox if you want to allow the incident date in
                    the program to be on a future date.
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <strong>Only enroll once (per tracked entity instance lifetime)</strong>
            </td>
            <td>
                <p>
                    Select checkbox if you want a tracked entity to be able to
                    enroll only once in a program. This setting is useful for
                    example in child vaccination or post-mortem examination
                    programs where it wouldn’t make sense to enroll a tracked
                    entity more than once.
                </p>
            </td>
        </tr>
        <tr class="even">
            <td><strong>Show incident date</strong></td>
            <td>
                <p>
                    This setting allows you to show or hide the incident date
                    field when a tracked entity enroll in the program.
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td><strong>Description of incident date</strong></td>
            <td>
                <p>Type a description of the incident date</p>
                <p>For example:</p>
                <p>In an immunization program for child under 1 year old, the
                    incident date is the child's birthday. </p>
                <p>In a maternal program, the incident date is the date of last
                    menstrual period. </p>
            </td>
        </tr>
        <tr class="even">
            <td><strong>Type a description of the enrollment date</strong></td>
            <td>
                <p>
                    The date when the tracked entity is enrolled into the
                    program
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td><strong>Ignore overdue events</strong></td>
            <td>
                <p>
                    When a tracked entity enrolls into the program, the events
                    corresponding to the program stages are created. If you
                    select this checkbox, the system will not generate overdue
                    events.
                </p>
            </td>
        </tr>
        <tr class="even">
            <td><strong>Feature type</strong></td>
            <td>
                <p>
                    Sets whether the program is going to capture a geographical
                    feature type or not.
                </p>
                <ul>
                <li><strong>None</strong>: Nothing is captured.</li>
                <li><strong>Polygon</strong>: An area is captured. For single
                event programs the area will be the area representing the
                event being captured. For tracker programs, the area will
                represent the area of the enrollment. </li>
                <li><strong>Point</strong>: A point/coordinate is captured. For
                single event programs the point will be representing the
                event being captured. For tracker programs, the point will
                represent the enrollment. </li>
                </ul>
            </td>
        </tr>
        <tr class="odd">
            <td><strong>Related program</strong></td>
            <td>
                <p>
                    Choose a Tracker program which is related to the program you
                    are creating, for example an ANC and a Child program.
                </p>
            </td>
        </tr>
    </tbody>
</table>

#### Assign tracked entity attributes. { #assign_tracked_entity_attributes }

1. Dans la liste des **Attributs d'entités suivies de programme disponibles**, double-cliquez sur les attributs que vous souhaitez attribuer au programme.

2. (Optional) For each assigned attribute, add additional settings:
 <table>
         <colgroup>
             <col style="width: 50%" />
             <col style="width: 50%" />
         </colgroup>
         <thead>
             <tr class="header">
                 <th><p>Setting</p></th>
                 <th><p>Description</p></th>
             </tr>
         </thead>
         <tbody>
             <tr class="odd">
                 <td>
                     <p><strong>Display in list</strong></p>
                 </td>
                 <td>
                     <p>
                         Displays the value of this attribute in the list of tracked
                         entity instances in Tracker capture.
                     </p>
                 </td>
             </tr>
             <tr class="even">
                 <td>
                     <p><strong>Mandatory</strong></p>
                 </td>
                 <td>
                     <p>
                         The value of this attribute must be filled into data entry
                         form before you can complete the event.
                     </p>
                 </td>
             </tr>
             <tr class="odd">
                 <td>
                     <p><strong>Date in future</strong></p>
                 </td>
                 <td>
                     <p>
                         Will allow user to select a date in future for date
                         attributes.
                     </p>
                 </td>
             </tr>
             <tr class="even">
                 <td>
                     <p><strong>Mobile render type</strong></p>
                 </td>
                 <td>
                     <p>
                         Can be used to select different render types for mobile
                         devices. Available options vary depending on the attribute's
                         value type. For example, for a numerical value you may
                         select &quot;Default&quot;, &quot;Value&quot;,
                         &quot;Slider&quot;, &quot;Linear scale&quot;, and
                         &quot;Spinner&quot;.
                     </p>
                 </td>
             </tr>
             <tr class="odd">
                 <td>
                     <p><strong>Desktop render type</strong></p>
                 </td>
                 <td>
                     <p>WARNING: NOT IMPLEMENTED YET.</p>
                     <p>
                         Can be used to select different render types for desktop
                         (i.e. the web interface). Available options vary depending
                         on the attribute's value type. For example, for a numerical
                         value you may select &quot;Default&quot;, &quot;Value&quot;,
                         &quot;Slider&quot;, &quot;Linear scale&quot;, and
                         &quot;Spinner&quot;.
                     </p>
                 </td>
             </tr>
         </tbody>
 </table>

3. Créer un formulaire d'inscription

   Le formulaire d'inscription définit la manière dont les attributs seront affichés à l'utilisateur dans les applications consommatrices, telles qu'Android et Saisie Tracker.

    1. Cliquez sur **Créer un formulaire d'inscription**.

    2. Cliquez sur **À section** ou **Personnalisé**.

    3. Pour créer un formulaire ** À section** :

        1. Cliquez sur le bouton "Ajouter" et entrez le nom, la description et le type de rendu d'une section pour PC et mobile.
        2. Cliquez sur la section pour qu'elle surlignée par une bordure noire.
        3. Ajoutez des éléments de données en cliquant sur le signe "+" à côté du nom des éléments de données que vous souhaitez ajouter.
        4. Répétez les étapes ci-dessus jusqu'à ce que vous ayez toutes les sections dont vous avez besoin. Pour modifier l'ordre des sections : cliquez sur le menu des options, puis faites glisser la section à l'endroit souhaité.

    4. Pour créer un formulaire d'enregistrement **Personnalisé** : Utilisez l'éditeur WYSIWYG pour créer un formulaire entièrement personnalisé. Si vous sélectionnez Source, vous pouvez alors coller le code HTML directement dans la zone d'édition. Vous pouvez également insérer des images, par exemple des drapeaux ou des logos.

    5. Cliquez sur ajouter une étape.

#### Créer des étapes de programme { #create_program_stages }

Un programme se compose d'étapes. Une étape du programme définit les mesure devant être prises à chaque étape.

> **N.B.**
>
> Les modifications apportées à une étape du programme ne sont pas enregistrées tant que vous n'avez pas sauvegardé le programme.

1. Cliquez sur le signe "+" pour créer une étape du programme.
2. Entrez les détails de l'étape du programme : 1. Entrez un **Nom**. 2. (Facultatif) sélectionnez une **Couleur** et une **Icône** qui seront utilisées par les applications de saisie de données pour identifier cette étape du programme. 3. Saisissez une **Description**. 4. Dans le champ **Jours prévus à partir du début**, entrez le nombre minimum de jours d'attente pour le démarrage de l'étape du programme.
3. Entrez les détails reproduisibles des étapes du programme.
    1. Précisez si l'étape du programme est **Reproduisible** ou non.
    2. Sélectionnez un **Type de période**.
    3. Effacez **Affichez la boîte de génération d'événement après avoir terminé** si vous ne voulez pas afficher _Créer une nouvelle boîte d'événement_ pour créer un nouvel événement pour une étape reproduisible après avoir cliqué sur _Terminer_ pour un événement de l'étape dans le formulaire de saisie. Ce champ est sélectionné par défaut.
    4. Entrez **Jours d'intervalle standard**. Le nombre de jours pour répéter l'étape de programme reproduisible.
    5. (Facultatif) Sélectionnez une **Date prochaine prévue par défaut**. Une liste des éléments de données attribués de type **date** apparaîtra. Si un élément est sélectionné, le client Tracker utilisera cette date comme date de début par défaut. L'élément de données peut être utilisé par les règles du programme pour programmer de façon dynamique des intervalles entre les événements.
4. Entrez les détails du formulaire

 <table>
     <colgroup>
         <col style="width: 50%" />
         <col style="width: 50%" />
     </colgroup>
     <thead>
         <tr class="header">
             <th><p>Option</p></th>
             <th><p>Action</p></th>
         </tr>
     </thead>
     <tbody>
         <tr class="odd">
             <td>
                 <p><strong>Auto-generate event</strong></p>
             </td>
             <td>
                 <p>
                     Clear check box to prevent creating an event of this program
                     stage automatically when an entity is enrolled in the program.
                 </p>
             </td>
         </tr>
         <tr class="even">
             <td>
                 <p><strong>Open data entry form after enrollment</strong></p>
             </td>
             <td>
                 <p>
                     Select check box to automatically open the event of this
                     stage as soon as the entity has enrolled into the program.
                 </p>
             </td>
         </tr>
         <tr class="odd">
             <td>
                 <p><strong>Report date to use</strong></p>
             </td>
             <td>
                 If you have selected the
                 <strong>Open data entry form after enrollment</strong> check
                 box, also select a <strong>Report date to use</strong>:
                 <strong>Date of incident</strong> or
                 <strong>Date of enrollment</strong>.
                 <p>
                     This is the date used as report date for an event that has
                     been opened automatically.
                 </p>
                 <p>
                     If the <strong>Report date to use</strong> is selected as
                     one of those two ('incident date'/'enrollment date'), in
                     Dashboard, the 'Report date' of the event will be set as one
                     of those two.
                 </p>
             </td>
         </tr>
         <tr class="even">
             <td>
                 <p><strong>User assignment of events</strong></p>
             </td>
             <td>
                 <p>
                     Select check box to enable user assignment of the program
                     stage.
                 </p>
                 <p>
                     This means that in Tracker capture there will be a list of
                     users to which the event can be assigned.
                 </p>
             </td>
         </tr>
         <tr class="odd">
             <td>
                 <p><strong>Block entry form after completed</strong></p>
             </td>
             <td>
                 <p>
                     Select check box to block the entry form after completion of
                     the event of this stage.
                 </p>
                 <p>
                     This means that the data in the entry form can't be changed
                     until you reset the status to incomplete.
                 </p>
             </td>
         </tr>
         <tr class="even">
             <td>
                 <p>
                     <strong>Ask user to complete program when stage is
                         completed</strong>
                 </p>
             </td>
             <td>
                 <p>
                     Select check box to trigger a pop-up which asks the user if
                     he/she wants to create the event of next stage.
                 </p>
             </td>
         </tr>
         <tr class="odd">
             <td>
                 <p>
                     <strong>Ask user to create new event when stage is
                         complete</strong>
                 </p>
             </td>
             <td>
                 <p>
                     Select check box to trigger a pop-up which asks the users if
                     he/she wants to create a new event of this stage when an
                     event of this stage is completed.
                 </p>
                 <p>
                     This property is active only if you have selected
                     <strong>Repeatable</strong>.
                 </p>
             </td>
         </tr>
         <tr class="even">
             <td>
                 <p><strong>Generate events by enrollment date</strong></p>
             </td>
             <td>
                 <p>
                     Check on it for auto-generating due dates of events from
                     program-stages of this program based on the enrollment date.
                     If it is not checked, the due dates are generated based on
                     incident date.
                 </p>
             </td>
         </tr>
         <tr class="odd">
             <td>
                 <p><strong>Hide due dates</strong></p>
             </td>
             <td><p>Select checkbox to hide due dates for events.</p></td>
         </tr>
         <tr class="even">
             <td><strong>Feature type</strong></td>
             <td>
                 <p>
                     Sets whether the program is going to capture a geographical
                     feature type or not.
                 </p>
                 <ul>
                 <li><strong>None</strong>: Nothing is captured.</li>
                 <li>
                     <strong>Polygon</strong>: An area is captured. For single
                     event programs the area will be the area representing the
                     event being captured. For tracker programs, the area will
                     represent the area of the enrollment.
                 </li>
                 <li>
                     <strong>Point</strong>: A point/coordinate is captured. For
                     single event programs the point will be representing the
                     event being captured. For tracker programs, the point will
                     represent the enrollment.
                 </li>
                 </ul>
             </td>
         </tr>
         <tr class="odd">
             <td>
                 <p><strong>Pre-generate event UID</strong></p>
             </td>
             <td>
                 <p>Select check box to pre-generate unique event id numbers.</p>
             </td>
         </tr>
         <tr class="even">
             <td>
                 <p><strong>Description of report date</strong></p>
             </td>
             <td>
                 <p>Type a description of the report date.</p>
                 <p>This description is displayed in the data entry form.</p>
             </td>
         </tr>
         <tr class="odd">
             <td>
                 <p><strong>Description of due date</strong></p>
             </td>
             <td><p>Type a description of the due date.</p></td>
         </tr>
     </tbody>
 </table>

5. Attribuer des éléments de données à une étape du programme :

    1. Dans la liste des **Éléments de données disponibles**, double-cliquez sur les éléments de données que vous souhaitez attribuer à l'étape du programme.

    2. Pour chaque élément de données attribué, examinez les propriétés. Vous pouvez sélectionner :

<table>
    <colgroup>
        <col style="width: 50%" />
        <col style="width: 50%" />
    </colgroup>
    <thead>
        <tr class="header">
            <th><p>Option</p></th>
            <th><p>Action</p></th>
        </tr>
    </thead>
    <tbody>
        <tr class="odd">
            <td>
                <p><strong>Obligatoire</strong></p>
            </td>
            <td>
                <p>
                    La valeur de cet élément de donnée doit être indiquée dans le
                    formulaire de saisie avant de terminer l'evénement.
                </p>
            </td>
        </tr>
        <tr class="even">
            <td>
                <p><strong>Autorisation fournie ailleurs</strong></p>
            </td>
            <td>
                <p>
                    Préciser si la valeur de cet élément de donnée provient d'un autre établissement,
                    et non de l'établissement où cette donnée est saisie.
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <p><strong>Afficher dans les rapports</strong></p>
            </td>
            <td>
                <p>
                    Afficher la valeur de cet élément de donnée dans l'événement unique sans
                    fonction de saisie de données d'inscription.
                </p>
            </td>
        </tr>
        <tr class="even">
            <td>
                <p><strong>Date ultérieure</strong></p>
            </td>
            <td>
                <p>Permettre de sélectionner une date antérieure pour les éléments de données de date.</p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <p><strong>Ignorer la synchronisation</strong></p>
            </td>
            <td>
                <p>
                    Permettre de sauter l'élément de donnée lors de l'exécution
                    de tâches de synchronisation de données.
                </p>
            </td>
        </tr>
        <tr class="even">
            <td>
                <p><strong>Type de rendu pour mobile</strong></p>
            </td>
            <td>
                <p>
                    Peut être utilisé pour sélectionner différents types de rendu pour
                    les appareils mobiles. Les options disponibles varient en fonction du
                    type de valeur de l'attribut., Par exemple, pour une valeur numérique,
                    vous pouvez sélectionner &quot;Défaut&quot;, &quot;Valeur&quot;,
                    &quot;Slider&quot;, &quot;Échelle linéaire&quot; et
                    &quot;Spinner&quot;.
                </p>
            </td>
        </tr>
        <tr class="odd">
            <td>
                <p><strong>Type de rendu pour bureau</strong></p>
            </td>
            <td>
                <p>AVERTISSEMENT : PAS ENCORE MIS EN ŒUVRE.</p>
                <p>
                    Peut être utilisé pour sélectionner différents types de rendu pour le bureau
                    (c'est-à-dire l'interface web). Les options disponibles varient en fonction du type
                    de valeur de l'attribut. Par exemple, pour une.valeur numérique,
                    vous pouvez séléctionner &quot;Défaut&quot;, &quot;Valeur&quot;,
                    &quot;Slider&quot;, &quot;Échelle linéaire&quot; et
                    &quot;Spinner&quot;.
                </p>
            </td>
        </tr>
    </tbody>
</table>

6. Créer des formulaires de saisie de données pour une étape du programme

    The data entry forms decide how the data elements will be displayed to the user in the **Tracker Capture** app.

    1. Cliquez sur **Créer un formulaire de saisie de données**.

    2. Cliquez sur **Base**, **Section** ou **Personnalisé**.

    3. Pour créer un formulaire de saisie **de base** : Glissez et déposez les éléments de données dans l'ordre que vous souhaitez.

    4. Pour créer un formulaire ** À section** :

        1. Cliquez sur le bouton "Ajouter" et entrez le nom, la description et le type de rendu d'une section pour PC et mobile.

        2. Cliquez sur la section pour qu'elle soit mise en évidence par une bordure noire.

        3. Ajoutez des éléments de données en cliquant sur le signe "+" à côté du nom des éléments de données.

        4. Répétez les étapes ci-dessus jusqu'à ce que vous ayez toutes les sections dont vous avez besoin.

        5. Modifiez l'ordre des sections : cliquez sur le menu des options, puis faites glisser la section à l'endroit souhaité.

    5. Pour créer un formulaire de saisie de données **Personnalisé** : Utilisez l'éditeur WYSIWYG pour créer un formulaire entièrement personnalisé. Si vous sélectionnez **Source**, vous pouvez alors coller le code HTML directement dans la zone d'édition. Vous pouvez également insérer des images, par exemple des drapeaux ou des logos.

    6. Cliquez sur ajouter une étape.

#### Accès { #tracker_program_access }

Les options d'accès déterminent qui peut saisir les données pour le programme ou visualiser/modifier les métadonnées du programme. Un programme peut être partagé avec des unités d'organisation, et en outre, les options d'accès au programme principal et à toutes les étapes du programme peuvent être configurées par le biais de la boîte de dialogue **Partage**. Les options d'accès sont disponibles dans l'onglet **Accès**.

Attribuer des unités d'organisation :

1.  Dans l'arbre d'organisation, double-cliquez sur les unités d'organisation que vous souhaitez ajouter au programme.

    Vous pouvez localiser une unité d'organisation dans l'arbre en élargissant les branches (cliquez sur le symbole de la flèche) ou en la recherchant par son nom. Les unités organisationnelles sélectionnées s'affichent en orange.

Changer les rôles et l'accès :

1.  Faites défiler vers le bas jusqu'à la section **Rôles et accès**.

    La première ligne indique les options d'accès au programme principal, et chacune des lignes suivantes indique les options d'une étape du programme. Les étapes du programme comportant une icône d'avertissement (point d'exclamation) contiennent des options d'accès qui s'écartent du programme principal, ce qui signifie qu'elles sont accessibles à une combinaison différente d'utilisateurs.

2.  Cliquez sur l'une des lignes et la boîte de dialogue **Partage** s'affichera.

3.  Modifiez les options d'accès en conséquence. Voir la documentation sur le dialogue de partage pour plus de détails.

4.  Cliquez sur le bouton **Appliquer**.

5.  Répétez le processus pour chaque programme/étape du programme. Vous pouvez également copier toutes les options d'accès du programme principal vers vos programmes enfants :

    1.  Sélectionnez les étapes du programme pour lesquelles vous souhaitez avoir des options d'accès similaires à celles du programme principal en cochant les cases situées sur le côté droit des étapes du programme. Vous pouvez également choisir de **Sélectionner toutes** les étapes du programme, **Désélectionner toutes** les étapes du programme ou **Sélectionner des étapes similaires**, en termes d'options d'accès, à celle du programme principal. Les étapes similaires sont activées par défaut.

    2.  Cliquez sur **Appliquer aux étapes sélectionnées**.

#### Créer des notifications de programme { #create_tracker_program_notifications }

Vous pouvez créer des notifications de programme pour les programmes avec enregistrement et leurs étapes. Les notifications sont envoyées soit par le système de messagerie interne DHIS2, soit par e-mail, soit par SMS. Vous pouvez utiliser les notifications de programme pour, par exemple, envoyer un rappel automatique à une entité suivie 10 jours avant un rendez-vous prévu. Vous utilisez les attributs de l'entité suivie du programme (par exemple le prénom) et les paramètres du programme (par exemple la date d'inscription) pour créer un modèle de notification.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme puis notifications**.

    Une liste des notifications de programmes existants pour le programme sélectionné s'ouvre. Si le programme n'a pas de notifications de programme, la liste est vide.

2.  Cliquez sur le bouton ajouter et sélectionnez **Notification du programme**.

        ![](resources/images/program/what_to_send.png)

    ![](resources/images/program/where_to_send.png) ![](resources/images/program/who_to_send.png)

3.  Entrez un **Nom**.

4.  Créer le **Modèle d'objet**.

    Double-cliquez sur les paramètres dans le champ **Paramètres** pour les ajouter à votre objet.

    > **Note**
    >
    > The subject is not included in text messages.

5.  Créer le **Modèle de message**.

    Double-cliquez sur les noms des paramètres dans le champ **Paramètres** pour les ajouter à votre message.

    Cher A{w75KJ2mc4zz}, Vous êtes maintenant inscrit au V{programme_nom}.

6.  Dans le champ **Quand l'envoyer**, sélectionnez ce qui doit déclencher la notification.

    <table>
    <colgroup>
    <col style="width: 33%" />
    <col style="width: 33%" />
    <col style="width: 33%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Trigger</p></th>
    <th><p>Description</p></th>
    <th><p>Note</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Program enrollment</p></td>
    <td><p>The program notification is sent when the TEI enrols in the program.</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>Program completion</p></td>
    <td><p>The program notification is sent when the program of TEI is completed</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="odd">
    <td><p>Days scheduled (incident date)</p></td>
    <td><p>The program notification is sent XX number of days before or after the incident date</p></td>
    <td><p>You need to enter the number of days before or after the scheduled date that the notification will be send.</p></td>
    </tr>
    <tr class="even">
    <td><p>Days scheduled (enrollment date)</p></td>
    <td><p>The program notification is sent XX number of days before or after the enrollment date</p></td>
    <td><p>You need to enter the number of days before or after the scheduled date that the notification will be send.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Program Rule</p></td>
    <td><p>Notification will be triggered as a result of program rule execution.</p></td>
    <td><p>Program rule with ProgramRuleActionType.SENDMESSAGE need to be in place to make this trigger successful.</p></td>
    </tr>
    </tbody>
    </table>

7.  In the **Who-to-send-it** field, select who should receive the program notification.

    <table>
    <colgroup>
    <col style="width: 33%" />
    <col style="width: 33%" />
    <col style="width: 33%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Recipient type</p></th>
    <th><p>Description</p></th>
    <th><p>Note</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Tracked entity instance</p></td>
    <td><p>Receives program notifications via e-mail or text message.</p></td>
    <td><p>To receive a program notification, the recipient must have an e-mail address or a phone number attribute.</p></td>
    </tr>
    <tr class="even">
    <td><p>Organisation unit contact</p></td>
    <td><p>Receives program notifications via e-mail or text message.</p></td>
    <td><p>To receive a program notification, the receiving organisation unit must have a registered contact person with e-mail address and phone number.</p></td>
    </tr>
    <tr class="odd">
    <td>Users at organisation unit:</td>
    <td><p>All users registered to the selected organisation unit receive program notifications via the internal DHIS2 messaging system.</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>User group</p></td>
    <td><p>All members of the selected user group receive the program notifications via the internal DHIS2 messaging system</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="odd">
    <td><p>Limit To Hierarchy</p></td>
    <td><p>Send notification only to those users who belong to any of the organisation unit in the hierarchy.</p></td>
    <td><p>This option is only available when User Group is selected as recipient.</p></td>
    </tr>
    <tr class="even">
    <td><p>Parent OrgUnit Only</p></td>
    <td><p>Send notification only to those users who belong to parent organisation unit.</p></td>
    <td><p>This option is only available when User Group is selected as recipient.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Program Attribute</p></td>
    <td><p>TrackedEntityAttribute can also be selected as recipient.</p></td>
    <td><p>This parameter will only be effective if TrackedEntityAttribute value type is PHONE_NUMBER/EMAIL.</p></td>
    </tr>
    </tbody>
    </table>

8.  Cliquez sur **Sauvegarder**.

### Créer une notification d'étape de programme { #create-a-program-stage-notification }

![](resources/images/program/what_to_send-psnt.png)

![](resources/images/program/what_to_send-psnt.png)

![](resources/images/program/what_to_send-psnt.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme puis notifications**.

    Une liste des notifications existantes pour l'étape du programme sélectionnée s'ouvre. Si cette étape du programme ne comporte aucune notification d'étape du programme, la liste est vide.

2.  Cliquez sur le bouton d'ajout et sélectionnez**Notification de l'étape du programme**.

3.  Cliquez sur **AJOUTER**.

4.  Entrez un **Nom**.

5.  Créer le **Modèle d'objet**.

    Double-cliquez sur les noms des paramètres dans le champ **Paramètres** pour les ajouter à votre objet.

    > **Note**
    >
    > The subject is not included in text messages.

6.  Créer le **Modèle de message**.

    Double-cliquez sur les noms des paramètres dans le champ **Paramètres** pour les ajouter à votre message.

    Cher A{w75KJ2mc4zz}, veuillez vous présenter au rendez-vous le V{due_date}.

7.  Dans le champ **Quand l'envoyer**, sélectionnez ce qui doit déclencher la notification.

    <table>
    <colgroup>
    <col style="width: 33%" />
    <col style="width: 33%" />
    <col style="width: 33%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Trigger</p></th>
    <th><p>Description</p></th>
    <th><p>Note</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Program stage completion</p></td>
    <td><p>The program stage notification is sent when the program stage is completed</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>Days scheduled (due date)</p></td>
    <td><p>The program stage notification is sent XX number of days before or after the due date</p></td>
    <td><p>You need to enter the number of days before or after the scheduled date that the notification will be send.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Program Rule</p></td>
    <td><p>Notification will be triggered as a result of program rule execution.</p></td>
    <td><p>Program rule with ProgramRuleActionType.SENDMESSAGE need to be in place to make this trigger successful.</p></td>
    </tr>
    </tbody>
    </table>

8.  Dans le champ **Destinataires**, sélectionnez qui doit recevoir la notification de l'étape du programme. Vous pouvez sélectionner :

    <table>
    <colgroup>
    <col style="width: 33%" />
    <col style="width: 33%" />
    <col style="width: 33%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Recipient type</p></th>
    <th><p>Description</p></th>
    <th><p>Note</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Tracked entity instance</p></td>
    <td><p>Receives program notifications via e-mail or text message.</p></td>
    <td><p>To receive a program stage notification, the recipient must have an e-mail address or a phone number attribute.</p></td>
    </tr>
    <tr class="even">
    <td><p>Organisation unit contact</p></td>
    <td><p>Receives program notifications via e-mail or text message.</p></td>
    <td><p>To receive a program stage notification, the receiving organisation unit must have a registered contact person with e-mail address and phone number.</p>
    <p>The system selects the same organisation unit as where the event took place.</p></td>
    </tr>
    <tr class="odd">
    <td>Users at organisation unit:</td>
    <td><p>All users registered to the selected organisation unit receive program notifications via the internal DHIS2 messaging system.</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>User group</p></td>
    <td><p>All members of the selected user group receive the program notifications via the internal DHIS2 messaging system</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="odd">
    <td><p>Limit To Hierarchy</p></td>
    <td><p>Send notification only to those users who belong to any of the organisation unit in the hierarchy.</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>Parent OrgUnit Only</p></td>
    <td><p>Send notification only to those users who belong to parent organisation unit.</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="odd">
    <td><p>Data Element</p></td>
    <td><p>Data Element associated with ProgramStage can be selected as recipient.</p></td>
    <td><p>Data Element will only be effective if DataElement has value type PHONE_NUMBER/EMAIL.</p></td>
    </tr>
    <tr class="even">
    <td><p>Tracked Entity Attribute</p></td>
    <td><p>Tracked Entity Attribute associated with ProgramInstance/Enrollment can be selected as recipient.</p></td>
    <td><p>Attribute will only be effective if it has value type PHONE_NUMBER/EMAIL.</p></td>
    </tr>
    </tbody>
    </table>

9.  Flag **sendRepeatable**.

    This flag can be used if notification is required to be sent multiple times. For example in case of repeatable program stage, same notification will be sent as many times as the stage is repeated.

10. Cliquez sur **Sauvegarder**.

### Informations de référence : Paramètres de notification du programme { #reference_information_event_program_notification_parameters }

<table>
<caption>Program notification parameters to use in program notifications</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Notification type</p></th>
<th><p>Variable name</p></th>
<th><p>Variable code</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Program</p></td>
<td><p>Current date</p></td>
<td><pre><code>V{current_date}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Days since enrollment date</p></td>
<td><pre><code>V{days_since_enrollment_date}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Enrollment date</p></td>
<td><pre><code>V{enrollment_date}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Incident date</p></td>
<td><pre><code>V{incident_date}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Organisation unit name</p></td>
<td><pre><code>V{org_unit_name}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Program name</p></td>
<td><pre><code>V{program_name}</code></pre></td>
</tr>
<tr class="odd">
<td><p>Program stage</p></td>
<td><p>Current date</p></td>
<td><pre><code>V{current_date}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Days since due date</p></td>
<td><pre><code>V{days_since_due_date}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Days until due date</p></td>
<td><pre><code>V{days_until_due_date}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Due date</p></td>
<td><pre><code>V{due_date}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Organisation unit name</p></td>
<td><pre><code>V{org_unit_name}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Program name</p></td>
<td><pre><code>V{program_name}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Program stage name</p></td>
<td><pre><code>V{program_stage_name}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Event organisation unit</p></td>
<td><pre><code>V{event_org_unit_id}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Enrollment organisation unit</p></td>
<td><pre><code>V{enrollment_org_unit_id}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Program stage id</p></td>
<td><pre><code>V{program_stage_id}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Program id</p></td>
<td><pre><code>V{program_id}</code></pre></td>
</tr>
<tr class="even">
<td></td>
<td><p>Program instance id/Enrollment id</p></td>
<td><pre><code>V{enrollment_id}</code></pre></td>
</tr>
<tr class="odd">
<td></td>
<td><p>Tracked entity id</p></td>
<td><pre><code>V{tracked_entity_id}</code></pre></td>
</tr>
</tbody>
</table>

## Configurer les indicateurs du programme { #configure_program_indicator }

### À propos des indicateurs du programme { #about_program_indicators }

Les indicateurs de programme sont des expressions basées sur les éléments de données et les attributs des entités suivies qui peuvent être utilisées pour calculer des valeurs à partir d'une formule. Les indicateurs de programme se composent d'un type d'agrégation, d'un type d'analyse, d'une expression et d'un filtre.

Les indicateurs de programme sont évalués sur la base du type d'agrégation, de l'expression et du filtre attribués. L'ordre d'évaluation est le suivant :

1.  Le _filtre_ filtrera les événements qui font partie de la routine d'évaluation/agrégation.

2.  La _expression_ sera évaluée par événement.

3.  Toutes les valeurs des expression évaluées seront _agrégées_ en fonction du type d'agrégation de l'indicateur de programme.

<table>
<caption>Composantes des indicateurs du programme</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Composante des règles du programme</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Type d'agrégation</p></td>
<td><p>Le type d'agrégation détermine comment l'indicateur de programme sera agrégé. Les types d'agrégation suivants sont disponibles :</p>
<ul>
<li><p>Moyenne</p></li>
<li><p>Moyenne (nombre)</p></li>
<li><p>Moyenne (nombre, désagrégation)</p></li>
<li><p>Moyenne (somme dans la hiérarchie des unités d'organisation)</p></li>
<li><p>Moyenne (somme des nombres)</p></li>
<li><p>Moyenne (somme des nombres, désagrégation)</p></li>
<li><p>Moyenne (Oui/Non)</p></li>
<li><p>Comptage</p></li>
<li><p>Personnalisé</p>
<p>L'agrégation de type &quot;personnalisé&quot ; vous permet de spécifier le type d'agrégation en ligne dans l'expression. Tous les autres types d'agrégation sont appliqués à l'ensemble de l'expression.</p>
<p>L'utilisation d'agrégation de type &quot;personnalisé&quot ; peut conduire à une exception de l'ordre d'évaluation décrit ci-dessus où des parties individuelles de l'expression peuvent être évaluées et agrégées, par opposition à l'expression entière qui est évaluée avant l'agrégation.</p></li>
<li><p>Défaut</p></li>
<li><p>Max</p></li>
<li><p>Min</p></li>
<li><p>Aucun</p></li>
<li><p>Écart-type</p></li>
<li><p>Somme</p></li>
<li><p>Variance</p></li>
</ul></td>
</tr>
<tr class="even">
<td><p>Type d'analytique</p></td>
<td><p>Les types d'analytique disponibles sont les suivants : <em>événement</em> et <em>inscription</em>.</p>
<p>Le type d'analytique définit si l'indicateur de programme est calculé en fonction des événements ou des inscriptions au programme. Cela a un impact sur le type de calculs que l'on peut effectuer.</p>
<ul>
<li><p>Événements implique une source de données où chaque événement existe sous la forme d'une ligne indépendante. Cela convient pour effectuer des agrégations telles que des comptages et des sommes.</p></li>
<li><p>Inscriptions impliquent une source de données où tous les événements d'une même inscription sont combinés sur une même ligne. Cela permet d'effectuer des calculs qui peuvent comparer les données d'événements de différentes étapes d'un programme au sein d'une inscription à un programme.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><p>Limites de la période d'analyse</p></td>
<td><p>Définit les limites du calcul des indicateurs de programme. Les limites déterminent quels événements ou inscriptions sont inclus dans les agrégations, toujours par rapport au début et à la fin de la période de déclaration agrégée. Lors de la création de l'indicateur de programme, les limites par défaut seront présélectionnées en fonction du type d'analyse type.</p>
<ul>
<li><p>Pour l'analytique de type <em>événement</em>, les limites par défaut seront configurées pour englober tout événement dont la date est postérieure au début de la période de référence et antérieure à la fin de cette période.</p></li>
<li><p>Pour l'analytique de type <em>inscription</em>, les limites par défaut engloberont toutes les inscriptions dont la date d'inscription est postérieure au début de la date de déclaration et antérieure à la fin de la période de déclaration. En outre, l'indicateur de programme d'inscription par défaut évalue l'événement le plus récent pour toutes les étapes du programme, quelle que soit la date.</p></li>
</ul>
<p>Il est possible de modifier les limites supérieure et inférieure pour inclure une période plus longue ou plus courte par rapport à la période de référence, ou de supprimer l'une des limites - en fait, de renvoyer toutes les données avant ou après une certaine période. Il est également possible d'ajouter des contraintes supplémentaires, par exemple pour faire en sorte qu'un indicateur de programme d'inscription n'inclue que les données relatives aux événements jusqu'à un moment donné.</p>
<ul>
<li><p>Cible limite : elle peut être <em>la date de l'incident</em>, <em>la date de l'événement</em>, <em>la date de d'inscription</em> ou <em>personnalisée</em>. Désigne ce qui est contraint par la limite.</p>
<p><em>personnalisé</em> est utilisé pour établir des limites qui ciblent soit un élément de donnée de date, soit un attribut d'entité suivi, soit la présence d'un événement dans une étape du programme. Ceci se fait avec une expression personnalisée sur le formulaire :</p>
<ul>
<li><p>Élément de donnée de type date: #{programStageUid.dataElementUid}.</p>
<pre><code>#{A03MvHHogjR.a3kGcGDCuk6}</code></pre></li>
<li><p>Élément de données de type date : #{attributeUid}.</p>
<pre><code>A{GPkGfbmArby}</code></pre></li>
<li><p>Présence d'un événement dans une étape spécifique du programme : PS_EVENTDATE:programStageUid.</p>
<pre><code>PS_EVENTDATE:A03MvHHogjR</code></pre>
<blockquote>
<p><strong>N.B.</strong></p>
Cette limite cible n'est applicable qu'à
l'Analytique de type Inscription
</blockquote></li>
</ul></li>
<li><p>Type de limite de la période d'analyse : Définit si la limite est une limite de fin - commençant par &quot;avant...&quot ;, ou une limite de début - &quot;après...&quot ;. Définit également si la limite se rapporte à la fin de la période de déclaration agrégée ou au début de la période de déclaration agrégée.</p></li>
<li><p>Période de décalage par quantité : Dans certains cas, par exemple l'analyse de cohorte, la limite doit être décalée par rapport à la période de déclaration globale lors de l'exécution des pivots et des rapports. La période de décalage par quantité est utilisée pour déplacer la limite actuelle soit en arrière (négatif) soit en avant (positif) dans le temps. La quantité et le type de période détermineront ensemble l'importance du décalage. Par exemple, pour un indicateur de programme simple d'une cohorte d'inscription pour une cohorte d'un an, il peut suffire de compenser chaque limite de l'indicateur de programme avec &quot;-1&quot ; et &quot;Années&quot ;</p></li>
<li><p>Period type: See above. Can be any period, e.g. <em>Weekly</em> or <em>Quarterly</em>.</p></li>
</ul></td>
</tr>
<tr class="even">
<td><p>Expression</p></td>
<td><p>The expression defines how the indicator is being calculated. The expression can contain references to various entities which will be substituted with a related values when the indicator is calculated:</p>
<ul>
<li><p>Data elements: Will be substituted with the value of the data element for the time period and organisation unit for which the calculation is done. Refers to both program stage and data element.</p></li>
<li><p>Attributes: Will be substituted with the value of the attribute for the person / tracked entity for which the calculation is done.</p></li>
<li><p>Variables: Will be substituted with special values linked to the program, including incident date and date of enrollment for the person, current date and count of values in the expression for the time period and organisation unit for which the calculation is done.</p></li>
<li><p>Constants: Will be substituted with the value of the constant.</p></li>
</ul>
<p>The expression is a mathematical expression and can also contain operators.</p>
<p>For single event programs and tracker programs with analytics type <em>event</em>, the expression will be evaluated <em>per event</em>, then aggregated according to its aggregation type.</p>
<p>For tracker programs with analytics type <em>enrollment</em>, the expression will be evaluated <em>per enrollment</em>, then aggregated according to its aggregation type.</p></td>
</tr>
<tr class="odd">
<td><p>Filter</p></td>
<td><p>The filter is applied to events and filters the data source used for the calculation of the indicator. I.e. the filter is applied to the set of events before the indicator expression is being evaluated. The filter must evaluate to either true or false. It filter is applied to each individual event. If the filter evaluates to true then the event is included later in the expression evaluation, if not it is ignored. The filter can, in a similar way as expressions, contain references to data elements, attributes and constants.</p>
<p>The program indicator filter can in addition use logical operators. These operators can be used to form logical expressions which ultimately evaluate to either true or false. For example you can assert that multiple data elements must be a specific value, or that specific attributes must have numerical values less or greater than a constant.</p></td>
</tr>
</tbody>
</table>

Dans l'application **Maintenance**, vous pouvez gérer les objets d'indicateurs de programme suivants :

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Indicateur de programme</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Groupe d'indicateurs du programme</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, montrer les détails et traduire</p></td>
</tr>
</tbody>
</table>

### Créer ou modifier un indicateur de programme { #create_program_indicator }

> **N.B.**
>
> Un indicateur de programme appartient à un seul programme.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Indicateur de programme**.

2.  Cliquez sur le bouton d'ajout.

3.  Sélectionnez un **Programme** et entrez :

    -   **Nom**

    -   **Nom abrégé**

    -   **Code**

    -   **Couleur**

    -   **Icône**

    -   **Description**

4.  Sélectionnez le nombre de **Décimales dans la production de données**.

5.  Sélectionnez un **Type d'agrégation**.

6.  Select if you want to **Display in form**.

7.  Attribuez une ou plusieurs **Légende**.

8.  (Facultatif) Entrez une **Combinaison d'options de catégorie pour l'exportation de données agrégées**.

9.  (Facultatif) Entrez une **Combinaison d'options d'attributs pour l'exportation de données agrégées**.

10. Créer l'expression.

    1.  Cliquez sur **Modifier l'expression**.

    2.  Créez l'expression à partir d'opérateurs mathématiques et des attributs, variables et constantes énumérés à droite.

11. Créer le filtre.

    1.  Cliquez sur **Modifier le filtre**.

    2.  Créez l'expression à partir d'opérateurs mathématiques et des attributs, variables et constantes énumérés à droite.

12. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'indicateurs de programme { #create_program_indicator_group }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Groupe d'indicateurs de programme**.

2.  Cliquez sur le bouton d'ajout.

3.  Entrez **Nom** et **Code**.

4.  Dans la liste des indicateurs de programme disponibles, double-cliquez sur les indicateurs de programme que vous souhaitez attribuer à votre groupe.

5.  Cliquez sur **Sauvegarder**.

### Informations de référence : Exemples d'expressions et de filtres par type de valeur { #reference_information_program_indicator }

Le tableau ci-dessous présente des exemples de comment d'écrire des expressions et des filtres pour différents types d'éléments de données et de valeurs d'attribut :

<table>
<caption>Exemples d'expressions et de filtres par type de valeur</caption>
<thead>
<tr class="header">
<th>Type de valeur</th>
<th>Exemple de syntaxe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Nombre entier</p>
<p>Nombre entier négatif</p>
<p>Nombre entier positif ou nul</p>
<p>Nombre entier positif</p>
<p>Nombre</p>
<p>Pourcentage</p></td>
<td><p>Les champs numériques peuvent être utilisés pour l'agrégation sous forme d'une expression, ou dans des filtres :</p>
<pre><code>#{mCXR7u4kNBW.K0A4BauXJDl} &gt;= 3</code></pre></td>
</tr>
<tr class="even">
<td><p>Oui/Non</p>
<p>Oui uniquement</p></td>
<td><p>Les champs booléens. Oui est traduit par le chiffre 1, Non par le chiffre 0. Peuvent être utilisés pour l'agrégation sous forme d'expression, ou dans les filtres :</p>
<pre><code>#{mCXR7u4kNBW.Popa3BauXJss} == 1</code></pre></td>
</tr>
<tr class="odd">
<td><p>Texte</p>
<p>Texte long</p>
<p>Numéro de téléphone</p>
<p>Email</p></td>
<td><p>Text fields. Can be checked for equality in filters:</p>
<pre><code>#{mCXR7u4kNBW.L8K4BauIKsl} == &#39;LiteralValue&#39;</code></pre></td>
</tr>
<tr class="even">
<td><p>Date</p>
<p>Age</p></td>
<td><p>Champs de date. Très utile lorsqu'il est combiné avec une fonction d2:daysBetween, qui produit un nombre pouvant être agrégé sous forme d'expression ou utilisé dans des filtres :</p>
<pre><code>d2:daysBetween(#{mCXR7u4kNBW.JKJKBausssl},V{enrollment_date}) &gt; 100</code></pre>
<p>Il est également possible de vérifier directement l'égalité dans les filtres :</p>
<pre><code>#{mCXR7u4kNBW.JKJKBausssl} == &#39;2011-10-28&#39;</code></pre></td>
</tr>
</tbody>
</table>

### Informations de référence : Fonctions, variables et opérateurs à utiliser dans les expressions d'indicateurs de programmes et les filtres { #program_indicator_functions_variables_operators }

Une expression qui comprend à la fois des attributs, des éléments de données et des constantes ressemble à ceci :

    (A{GPkGfbmArby} + #{mCXR7u4kNBW.NFkjsNiQ9PH}) * C{bCqvfPR02Im}

Une expression qui utilise le type d'agrégation personnalisé et peut donc utiliser les types d'agrégation en ligne ressemble à ceci :

    (sum(#{mCXR7u4kNBW.K0A4BauXJDl} * #{mCXR7u4kNBW.NFkjsNiQ9PH}) / sum(#{mCXR7u4kNBW.NFkjsNiQ9PH})) * 100

Prêtez attention à la façon dont l'opérateur d'agrégation "somme" est utilisé à l'intérieur de l'expression elle-même.

#### Fonctions à utiliser dans une expression ou un filtre d'indicateur de programme { #functions-to-use-in-a-program-indicator-expression-or-filter }

L'expression des indicateurs de programme et le filtre prennent en charge une série de fonctions. Ces fonctions peuvent être appliquées à des éléments et des attributs de données :

<table>
<caption>Functions to use in a program indicator expression or filter</caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 30%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Function</p></th>
<th><p>Arguments</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>d2:hasValue</p></td>
<td><p>(object)</p></td>
<td><p>Returns true if the data element/attribute has a value. Can be used in filters to distinguish between the number 0 and no value, and to distinguish between explicit &quot;No&quot; and no selection for a Yes/No field.</p></td>
</tr>
<tr class="even">
<td><p>d2:minutesBetween</p></td>
<td><p>(datetime, datetime)</p></td>
<td><p>Produces the number of minutes between two data elements/attributes of type &quot;date and time&quot;. When the first argument datetime comes before the second argument datetime, the number will be positive - in the opposite case, the number will be negative. The static datetime format is 'yyyy-MM-dd hh:mm'. Any of the arguments can be replaced with PS_EVENTDATE:(programStageUid) to compare the latest event date from a given program stage.</p></td>
</tr>
<tr class="odd">
<td><p>d2:daysBetween</p></td>
<td><p>(date, date)</p></td>
<td><p>Produces the number of days between two data elements/attributes of type date. When the first argument date comes before the second argument date, the number will be positive - in the opposite case, the number will be negative. The static date format is 'yyyy-MM-dd'. Any of the arguments can be replaced with PS_EVENTDATE:(programStageUid) to compare the latest event date from a given program stage.</p></td>
</tr>
<tr class="even">
<td><p>d2:weeksBetween</p></td>
<td><p>(date, date)</p></td>
<td><p>Produces the number of full weeks between two data elements/attributes of type date. When the first argument date comes before the second argument date, the number will be positive - in the opposite case, the number will be negative. The static date format is 'yyyy-MM-dd'. Any of the arguments can be replaced with PS_EVENTDATE:(programStageUid) to compare the latest event date from a given program stage.</p></td>
</tr>
<tr class="odd">
<td><p>d2:monthsBetween</p></td>
<td><p>(date, date)</p></td>
<td><p>Produces the number of full months between two data elements/attributes of type date. When the first argument date comes before the second argument date, the number will be positive - in the opposite case, the number will be negative. The static date format is 'yyyy-MM-dd'. Any of the arguments can be replaced with PS_EVENTDATE:(programStageUid) to compare the latest event date from a given program stage.</p></td>
</tr>
<tr class="even">
<td><p>d2:yearsBetween</p></td>
<td><p>(date, date)</p></td>
<td><p>Produces the number of full years between two data elements/attributes of type date. When the first argument date comes before the second argument date, the number will be positive - in the opposite case, the number will be negative. The static date format is 'yyyy-MM-dd'. Any of the arguments can be replaced with PS_EVENTDATE:(programStageUid) to compare the latest event date from a given program stage.</p></td>
</tr>
<tr class="odd">
<td><p>d2:condition</p></td>
<td><p>(boolean-expr, true-expr, false-expr)</p></td>
<td><p>Evaluates the boolean expression and if true returns the true expression value, if false returns the false expression value. The conditional expression must be quoted. The true-expr and false-expr arguments must follow the rules of any program indicator expression (including functions).</p></td>
</tr>
<tr class="even">
<td><p>d2:zing</p></td>
<td><p>(expression)</p></td>
<td><p>Returns zero if the expression is negative, otherwise returns the expression value. The expression must follow the rules of any program indicator expression (including functions).</p></td>
</tr>
<tr class="odd">
<td><p>d2:oizp</p></td>
<td><p>(expression)</p></td>
<td><p>Returns one if the expression is zero or positive, otherwise returns zero. The expression must follow the rules of any program indicator expression (including functions).</p></td>
</tr>
<tr class="even">
<td><p>d2:zpvc</p></td>
<td><p>(object, [,object ...])</p></td>
<td><p>Returns the number of numeric zero and positive values among the given object arguments. Can be provided any number of arguments.</p></td>
</tr>
<tr class="odd">
<td><p>d2:relationshipCount</p></td>
<td><p>([relationshipTypeUid])</p></td>
<td><p>Produces the number of relationships of the given type that is connected to the enrollment or event. When no type is given, all types are counted.</p></td>
</tr>
<tr class="even">
<td><p>d2:count</p></td>
<td><p>(dataElement)</p></td>
<td><p>Useful only for enrollment program indicators. Counts the number of data values that has been collected for the given program stage and data element in the course of the enrollment. The argument data element is supplied with the #{programStage.dataElement} syntax.</p></td>
</tr>
<tr class="odd">
<td><p>d2:countIfValue</p></td>
<td><p>(dataElement, value)</p></td>
<td><p>Useful only for enrollment program indicators. Counts the number of data values that matches the given literal value for the given program stage and data element in the course of the enrollment. The argument data element is supplied with the #{programStage.dataElement} syntax. The value can be a hard coded text or number, for example 'No_anemia' if only the values containing this text should be counted.</p></td>
</tr>
<tr class="even">
<td><p>d2:countIfCondition</p></td>
<td><p>(dataElement, condition)</p></td>
<td><p>Useful only for enrollment program indicators. Counts the number of data values that matches the given condition criteria for the given program stage and data element in the course of the enrollment. The argument data element is supplied with the #{programStage.dataElement} syntax. The condition is supplied as an expression in single quotes, for example '&lt;10' if only the values less than 10 should be counted.</p></td>
</tr>
<tr class="odd">
<td><p>if</p></td>
<td><p>(boolean-expr, true-expr, false-expr)</p></td>
<td><p>Evaluates the boolean expression and if true returns the true expression value, if false returns the false expression value. This is identical to the d2:condition function except that the boolean-expr is not quoted.</p></td>
</tr>
<tr class="even">
<td><p>isNull</p></td>
<td><p>(object)</p></td>
<td><p>Returns true if the object value is missing (null), otherwise false.</p></td>
</tr>
<tr class="odd">
<td><p>isNotNull</p></td>
<td><p>(object)</p></td>
<td><p>Returns true if the object value is not missing (not null), otherwise false.</p></td>
</tr>
<tr class="even">
<td><p>firstNonNull</p></td>
<td><p>(object [, object ...])</p></td>
<td><p>Returns the value of the first object that is not missing (not null). Can be provided any number of arguments. Any argument may also be a numeric or string literal, which will be returned if all the previous objects have missing values.</p></td>
</tr>
<tr class="odd">
<td><p>greatest</p></td>
<td><p>(expression [, expression ...])</p></td>
<td><p>Returns the greatest (highest) value of the expressions given. Can be provided any number of arguments. Each expression must follow the rules of any program indicator expression (including functions).</p></td>
</tr>
<tr class="even">
<td><p>least</p></td>
<td><p>(expression [, expression ...])</p></td>
<td><p>Returns the least (lowest) value of the expressions given. Can be provided any number of arguments. Each expression must follow the rules of any program indicator expression (including functions).</p></td>
</tr>
<tr class="odd">
<td><p>log</p></td>
<td><p>(expression [, base ])</p></td>
<td><p>Returns the natural logarithm (base e) of the numeric expression. If an integer is given as a second argument, returns the logarithm using that base.</p></td>
</tr>
<tr class="even">
<td><p>log10</p></td>
<td><p>(expression)</p></td>
<td><p>Returns the common logarithm (base 10) of the numeric expression.</p></td>
</tr>
</tbody>
</table>

Un filtre utilisant la fonction "hasValue" ressemble à ceci :

    d2:hasValue(#{mCXR7u4kNBW.NFkjsNiQ9PH})

Un filtre utilisant la fonction "relationshipCount(relationshipTypeUid)" ressemble à ceci :

    d2:relationshipCount('KLkjshoQ90U')

Une expression utilisant les fonctions "zing" et "oizp" ressemble à ceci :

    d2:zing(A{GPkGfbmArby}) + d2:oizp(#{mCXR7u4kNBW.NFkjsNiQ9PH}))

Une expression utilisant la fonction "daysBetween" ressemble à ceci :

    d2:daysBetween(#{mCXR7u4kNBW.k8ja2Aif1Ae},'2015-06-01')

Voici une expression qui utilise la fonction "yearBetween" pour comparer le dernier événement de la phase du programme "mCXR7u4kNBW" à la date d'inscription :

    d2:daysBetween(V{enrollment_date},PS_EVENTDATE:mCXR7u4kNBW)

Une expression qui utilise la fonction "condition" ressemble à ceci :

    d2:condition('#{mCXR7u4kNBW.NFkjsNiQ9PH} > 100',150,50)

Une expression qui utilise la fonction "countIfValue" pour ne compter que le nombre de fois où la valeur 10 a été recueillie ressemble à ceci :

    d2:countIfValue(#{mCXR7u4kNBW.NFkjsNiQ9PH}),10)

Une expression utilisant la fonction "zpvc" ressemble à ceci :

    d2:zpvc(A{GPkGfbmArby}),#{mCXR7u4kNBW.NFkjsNiQ9PH}),4,-1)

Une expression utilisant les fonctions "if" et "isull" ressemble à ceci :

    if(isNull(A{GPkGfbmArby}),10,20)

Une expression utilisant la fonction "firstNonNull" ressemble à ceci :

    firstNonNull(A{GPkGfbmArby}),#{mCXR7u4kNBW.NFkjsNiQ9PH},44)

<table>
<caption>Variables à utiliser dans une expression ou un filtre d'indicateur de programme</caption>
<colgroup>
<col style="width: 21%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Variable</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr>
<td><p>date_événement</p></td>
<td><p>La date à laquelle l'événement ou le dernier événement de l'inscription a eu lieu.</p></td>
</tr>
<tr>
<td><p>date_création</p></td>
<td><p>La date à laquelle un événement ou une inscription a été créé dans le système.</p></td>
</tr>
<tr>
<td><p>date_échéance</p></td>
<td><p>La date à laquelle un événement est prévu.</p></td>
</tr>
<tr>
<td><p>date_synchro</p></td>
<td><p>La date à laquelle l'événement ou l'inscription a été synchronisé pour la dernière fois avec l'application Android.</p></td>
</tr>
<tr>
<td><p>date_incident</p></td>
<td><p>La date de l'incidence de l'événement.</p></td>
</tr>
<tr>
<td><p>date_inscription</p></td>
<td><p>La date à laquelle l'instance de l'entité suivie a été inscrite au programme.</p></td>
</tr>
<tr>
<td><p>statut_inscription</p></td>
<td><p>Peut être utilisé pour inclure ou exclure les inscriptions à certains statuts.</p>
<p>Pour calculer l'amélioration/la détérioration de l'hémoglobine tout au long d'une grossesse, il peut être judicieux de ne tenir compte que des inscriptions complètes. Si les inscriptions non terminées ne sont pas filtrées, elles représenteront des suivis de CPN à moitié terminés, où l'amélioration/détérioration finale n'est pas encore établie.</p></td>
</tr>
<tr>
<td><p>date_actuelle</p></td>
<td><p>La date actuelle.</p></td>
</tr>
<tr>
<td><p>nombre_valeur</p></td>
<td><p>Le nombre de valeurs non nulles dans la partie expression de l'événement.</p></td>
</tr>
<tr>
<td><p>nombre_valeur_zéro_positives</p></td>
<td><p>Le nombre de valeurs numériques positives dans la partie expression de l'événement.</p></td>
</tr>
<tr>
<td><p>nombre_événements</p></td>
<td><p>Le nombre d'événements (utile en combinaison avec des filtres).</p></td>
</tr>
<tr>
<td><p>nombre_inscriptions</p></td>
<td><p>Le nombre d'inscriptions (utile en combinaison avec les filtres). Le type d'agrégation pour l'indicateur de programme doit être COMPTER. </p></td>
</tr>
<tr>
<td><p>nombre_tei</p></td>
<td><p>Le nombre d'instances d'entités suivies (utile en combinaison avec des filtres). Le type d'agrégation pour l'indicateur de programme doit être COMPTER.</p></td>
</tr>
<tr>
<td><p>nombre_unités_d'org</p></td>
<td><p>Le nombre d'unités d'organisation (utile en combinaison avec les filtres). Le type d'agrégation pour l'indicateur de programme doit être COMPTER.</p></td>
</tr>
<tr>
<td><p>nom_étape_du programme</p></td>
<td><p>Peut être utilisé dans les filtres pour inclure seulement certaines étapes de programme dans un filtre pour les programmes de suivi. Utilise le nom de l'étape du programme :</p>
<pre><code>V{program_stage_name} == &#39;ANC first visit&#39;</code></pre></td>
</tr>
<tr>
<td><p>id_étape_du programme</p></td>
<td><p>Peut être utilisé dans les filtres pour inclure seulement certaines étapes de programme dans un filtre pour les programmes de suivi. Utilise l'identifiant unique de l'étape du programme :</p>
<pre><code>V{program_stage_id} == &#39;YPSSfbmAtt1&#39;</code></pre></td>
</tr>
<tr>
<td><p>début_période_d'analyse</p></td>
<td><p>Peut être utilisé dans des filtres ou des expressions pour comparer une date quelconque à la première date de chaque période de référence.</p>
<pre><code>d2:daysBetween(#{WZbXY0S00lP.w4ky6EkVahL}, V{analytics_period_start})</code></pre></td>
</tr>
<tr>
<td><p>fin_période_d'analyse</p></td>
<td><p>Peut être utilisé dans des filtres ou des expressions pour comparer une date quelconque à la dernière date incluse dans chaque période de référence.</p></td>
</tr>
</tbody>
</table>

    greatest(#{mCXR7u4kNBW.k8ja2Aif1Ae},#{mCXR7u4kNBW.NFkjsNiQ9PH},1)

#### Variables à utiliser dans une expression ou un filtre d'indicateur de programme { #variables-to-use-in-a-program-indicator-expression-or-filter }

L'expression et le filtre des indicateurs de programme prennent en charge toute une série de variables :

<table>
<caption>Variables to use in a program indicator expression or filter</caption>
<colgroup>
<col style="width: 21%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Variable</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr>
<td><p>event_date</p></td>
<td><p>The date of when the event or the last event in the enrollment took place.</p></td>
</tr>
<tr>
<td><p>creation_date</p></td>
<td><p>The date of when an event or enrollment was created in the system.</p></td>
</tr>
<tr>
<td><p>due_date</p></td>
<td><p>The date of when an event is due.</p></td>
</tr>
<tr>
<td><p>sync_date</p></td>
<td><p>The date of when the event or enrollment was last synchronized with the Android app.</p></td>
</tr>
<tr>
<td><p>incident_date</p></td>
<td><p>The date of the incidence of the event.</p></td>
</tr>
<tr>
<td><p>enrollment_date</p></td>
<td><p>The date of when the tracked entity instance was enrolled in the program.</p></td>
</tr>
<tr>
<td><p>enrollment_status</p></td>
<td><p>Can be used to include or exclude enrollments in certain statuses.</p>
<p>When calculating the haemoglobin improvement/deterioration throughout a pregnancy, it might make sense to only consider completed enrollments. If non-completed enrollments is not filtered out, these will represent half-finished ANC followups, where the final improvement/deterioration is not yet established.</p></td>
</tr>
<tr>
<td><p>current_date</p></td>
<td><p>The current date.</p></td>
</tr>
<tr>
<td><p>value_count</p></td>
<td><p>The number of non-null values in the expression part of the event.</p></td>
</tr>
<tr>
<td><p>zero_pos_value_count</p></td>
<td><p>The number of numeric positive values in the expression part of the event.</p></td>
</tr>
<tr>
<td><p>event_count</p></td>
<td><p>The count of events (useful in combination with filters).</p></td>
</tr>
<tr>
<td><p>enrollment_count</p></td>
<td><p>The count of enrollments (useful in combination with filters). Aggregation type for the program indicator must be COUNT. </p></td>
</tr>
<tr>
<td><p>tei_count</p></td>
<td><p>The count of tracked entity instances (useful in combination with filters). Aggregation type for the program indicator must be COUNT.</p></td>
</tr>
<tr>
<td><p>org_unit_count</p></td>
<td><p>The count of organisation units (useful in combination with filters). Aggregation type for the program indicator must be COUNT.</p></td>
</tr>
<tr>
<td><p>program_stage_name</p></td>
<td><p>Can be used in filters for including only certain program stages in a filter for tracker programs. Uses the name of the program stage:</p>
<pre><code>V{program_stage_name} == &#39;ANC first visit&#39;</code></pre></td>
</tr>
<tr>
<td><p>program_stage_id</p></td>
<td><p>Can be used in filters for including only certain program stages in a filter for tracker programs. Uses the unique identifier of the program stage:</p>
<pre><code>V{program_stage_id} == &#39;YPSSfbmAtt1&#39;</code></pre></td>
</tr>
<tr>
<td><p>analytics_period_start</p></td>
<td><p>Can be used in filters or expressions for comparing any date to the first date in each reporting period.</p>
<pre><code>d2:daysBetween(#{WZbXY0S00lP.w4ky6EkVahL}, V{analytics_period_start})</code></pre></td>
</tr>
<tr>
<td><p>analytics_period_end</p></td>
<td><p>Can be used in filters or expressions for comparing any date to the last inclusive date in each reporting period.</p></td>
</tr>
<tr>
<td><p>event_status</p></td>
<td><p>Can be used in filters or expressions for comparing event status.</p>
<pre><code>V{event_status} == &#39;COMPLETED&#39;</code></pre></td>
</tr>
</tbody>
</table>

Un filtre utilisant la variable "Fin de la période d'analyse" pour n'inclure que les femmes ayant une DM qui surviendrait au premier trimestre :

    d2:daysBetween(#{WZbXY0S00lP.w4ky6EkVahL}, V{analytics_period_end}) <= 84

Une expression utilisant la variable "value count" ressemble à ceci :

    (#{A03MvHHogjR.a3kGcGDCuk6} + #{A03MvHHogjR.wQLfBvPrXqq}) / V{value_count}

Une expression qui utilise les variables "date_événement" et "date_incident" ressemble à ceci :

    d2:daysBetween(V{incident_date},V{event_date})

#### Opérateurs à utiliser dans un filtre d'indicateurs de programme { #operators-to-use-in-a-program-indicator-filter }

<table>
<caption>Opérateurs à utiliser dans un filtre d'indicateurs de programme</caption>
<colgroup>
<col style="width: 16%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Opérateur</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>et</p></td>
<td><p>Logique ET</p></td>
</tr>
<tr class="even">
<td><p>ou</p></td>
<td><p>Logique OU</p></td>
</tr>
<tr class="odd">
<td><p>==</p></td>
<td><p>Égal à</p></td>
</tr>
<tr class="even">
<td><p>!=</p></td>
<td><p>Non égal à</p></td>
</tr>
<tr class="odd">
<td><p>&lt;</p></td>
<td><p>Inférieur à</p></td>
</tr>
<tr class="even">
<td><p>&lt;=</p></td>
<td><p>Inférieur ou égal à</p></td>
</tr>
<tr class="odd">
<td><p>&gt;</p></td>
<td><p>Supérieur à</p></td>
</tr>
<tr class="even">
<td><p>&gt;=</p></td>
<td><p>Supérieur ou égal à</p></td>
</tr>
</tbody>
</table>

Ces opérateurs peuvent être utilisés pour constituer des expressions logiques qui, en fin de compte, évaluent à vrai ou à faux. Vous pouvez par exemple affirmer que plusieurs éléments de données doivent avoir une valeur spécifique, ou que des attributs spécifiques doivent avoir des valeurs numériques inférieures ou supérieures à une constante.

Un filtre qui utilise à la fois des attributs et des éléments de données ressemble à ceci :

    A{cejWyOfXge6} == 'Female' and #{A03MvHHogjR.a3kGcGDCuk6} <= 2

> **Astuce**
>
> DHIS2 utilise la bibliothèque JEXL pour l'évaluation des expressions utilisant une syntaxe supplémentaire hormis ce qui est proposé dans cette documentation. Voir la référence sur la [page d'accueil du projet] (http://commons.apache.org/proper/commons-jexl/reference/syntax.html) pour savoir comment créer des expressions plus sophistiquées

## Configurer les règles du programme { #configure_program_rule }

### À propos des règles du programme { #about_program_rules }

Les règles du programme vous permettent de créer et de contrôler le comportement dynamique de l'interface utilisateur dans les applications **Saisie Tracker** et **Saisie dévénements**. Lors de la saisie des données, les expressions des règles du programme sont évaluées chaque fois que l'interface utilisateur est affichée, et chaque fois qu'un élément de donnée est modifié. La plupart des types d'actions prennent effet immédiatement lorsque l'utilisateur saisit des valeurs dans les applications **Saisie Tracker** et **Saisie d'événements**.

<table>
<caption>Composantes des règles du programme</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Composante des règles du programme</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Action de la règle du programme</p></td>
<td><p>Chaque règle de programme contient une ou plusieurs actions. Il s'agit des comportements qui sont déclenchés dans l'interface utilisateur lorsque l'expression est vraie. Les actions seront appliquées immédiatement si l'expression est vraie, et seront inversées lorsqu'elle n'est plus vraie. Il existe plusieurs types d'actions et vous pouvez avoir plusieurs actions dans une règle de programme.</p></td>
</tr>
<tr class="even">
<td><p>Expression de la règle du programme</p></td>
<td><p>Chaque règle de programme a une seule expression qui détermine si les actions de la règle de programme doivent être déclenchées, si l'expression est évaluée comme vraie. Si l'expression est vraie, la règle du programme est en vigueur et les actions seront exécutées. Si l'expression est fausse, la règle du programme n'est plus en vigueur et les actions ne seront plus appliquées.</p>
<p>Vous créez l'expression avec des opérateurs mathématiques standard, des fonctions personnalisées, des valeurs statiques définies par l'utilisateur et des variables de règles de programme. Les variables de règles de programme représentent les valeurs des attributs et des éléments de données qui seront évalués dans le cadre de l'expression.</p></td>
</tr>
<tr class="odd">
<td><p>Variable de règle de programme</p></td>
<td><p>Les variables de règles de programme vous permettent d'inclure des valeurs de données et des valeurs d'attributs dans les expressions de règles de programme. En règle générale, vous devez créer une ou plusieurs variables de règle de programme avant de créer une règle de programme. En effet, les expressions de règles de programme contiennent généralement au moins un élément de données ou une valeur d'attribut pour être significatives.</p>
<p>Les variables de règles de programme sont partagées entre toutes les règles de votre programme. Lorsque vous créez plusieurs règles de programme pour le même programme, ces règles partagent la même bibliothèque de variables de règles de programme.</p></td>
</tr>
</tbody>
</table>

Dans l'application **Maintenance**, vous gérez les objets de règles de programme suivants :

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objets</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Règle du programme</p></td>
<td><p>Créer, modifier, cloner, supprimer, afficher les détails et traduire</p></td>
</tr>
<tr class="even">
<td><p>Variable des règles du programme</p></td>
<td><p>Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire</p></td>
</tr>
</tbody>
</table>

### Déroulement { #workflow_program_rule }

1.  Dans l'application **Maintenance**, créez la ou les variable(s) de règle du programme si nécessaire.

2.  Dans l'application **Maintenance**, créez la règle du programme :

    1.  Entrez les détails des règles du programme.

    2.  Créez l'expression de la règle du programme.

    3.  Définissez les actions de la règle du programme.

3.  Dans les applications **Saisie Tracker** ou **Saisie d'événement**, vérifiez que la règle du programme fonctionne comme prévu.

### Créer ou modifier une variable de règle de programme { #create_program_rule_variable }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Variable de la règle du programme**.

2.  Cliquez sur le bouton d'ajout.

3.  Sélectionnez un **Programme** et entrez un **Nom**

4.  Sélectionnez si vous voulez **Utiliser le code pour l'ensemble des options**.

    Cette option n'est efficace que lorsque l'élément de données ou l'attribut de l'entité suivie est affilié à un ensemble d'options. Si vous ne sélectionnez pas cette option, la variable de règle du programme sera peuplée que du nom de l'ensemble d'options. Mais au cas où vous sélectionnez cette option, la variable de règle du programme sera peuplée du code de l'ensemble d'options.

5.  Sélectionnez un **Type de source** et saisissez les informations requises.

    Selon le type de source, vous devrez sélectionner, par exemple, une **étape du programme**, un **élément de données** ou un **attribut d'entité suivie**.

    Les types de source déterminent comment saisir une valeur dans la variable de règle de programme.

    <table>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Source type</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Data element from the newest event for a program stage</strong></p></td>
    <td><p>This source type works the same way as <strong>Data element from the newest event in the current program</strong>, except that it only evaluates values from one program stage.</p>
    <p>This source type can be useful in program rules where the same data element is used in several program stages, and a rule needs to evaluate the newest data value from within one specific stage.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Data element from the newest event in the current program</strong></p></td>
    <td><p>This source type is used when a program rule variable needs to reflect the newest known value of a data element, regardless of what event the user currently has open.</p>
    <p>This source type is populated slightly differently in <strong>Tracker Capture</strong> and <strong>Event Capture</strong> apps:</p>
    <p><strong>Tracker Capture</strong>: the program rule variable will be populated with the newest data value collected for the given data element within the enrollment.</p>
    <p><strong>Event Capture</strong>: the program rule variable will be populated with the newest data value found within the 10 newest events in the same organisation unit.</p>
    <p>The newest data value is determined with event date.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Data element in current event</strong></p></td>
    <td><p>Program rule variables with this source type will contain the data value from the same event that the user currently has open.</p>
    <p>This is the most commonly used source type, especially for skip logic (hide actions) and warning/error rules.</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Data element from previous event</strong></p></td>
    <td><p>Program rule variables with this source type will contain the value from a specified data element from a previous event. Only older events is evaluated, not including the event that the user currently has open.</p>
    <p>This source type is commonly used when a data element only should be collected once during an enrollment, and should be hidden in subsequent events.</p>
    <p>Another use case is making rules for validating input where there is an expected progression from one event to the next - a rule can evaluate whether the previous value is higher/lower and give a warning if an unexpected value is entered.</p>
    <p>This source type is populated slightly differently in <strong>Tracker Capture</strong> and <strong>Event Capture</strong> apps:</p>
    <p><strong>Tracker Capture</strong>: the program rule variable will be populated with the newest data value collected for the given data element within the enrollment - but only evaluating the events that comes before the current event date.</p>
    <p><strong>Event Capture</strong>: the program rule variable will be populated with the newest data value collected within the 10 events preceding the current event date - not including the current event.</p>
    <p>The newest data value is determined with event date.</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Calculated value</strong></p></td>
    <td><p>Program rule variable with this source type is not connected directly to any form data - but will be populated as a result of some other program rules <strong>ASSIGN</strong> action.</p>
    <p>This variable will be used for making preliminary calculations, having a <strong>ASSIGN</strong> program rule action and assigning a value, this value can be used by other program rules - potentially making the expressions simpler and more maintainable.</p>
    <p>These variables will not be persisted and will stay in memory only during the execution of the set of program rules. Any program rule that assigns a data value to a preliminary calculated value would normally also have a <strong>priority</strong> assigned - to make sure that the preliminary calculation is done before the rule that consumes the calculated value.</p>
    </td>
    </tr>
    <tr class="even">
    <td><p><strong>Tracked entity attribute</strong></p></td>
    <td><p>Populates the program rule variable with a specified tracked entity attribute for the current enrollment.</p>
    <p>Use this is the source type to create program rules that evaluate data values entered during registration.</p>
    <p>This source type is also useful when you create program rules that compare data in events to data entered during registration.</p>
    <p>This source type is only used for tracker programs (programs with registration).</p></td>
    </tr>
    </tbody>
    </table>

6.  Cliquez sur **Sauvegarder**.

### Créer ou modifier une règle de programme { #create_program_rule }

> **N.B.**
>
> Une règle de programme appartient à un seul programme.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Règle de programme**.

2.  Cliquez sur le bouton d'ajout.

3.  Entrez les détails des règles du programme. Ces champs ne sont pas affichés à l'utilisateur final, ils sont uniquement destinés à l'administrateur du programme.

    -   **Programme**

    -   **Règle de déclenchement uniquement pour la phase du programme**

        Lorsque vous sélectionnez une étape du programme, la règle du programme ne s'appliquera qu'à l'étape sélectionnée, et non à chaque étape du programme.

    -   **Nom**

    -   **Description**

    -   **Priorité**

        Supposons que votre programme comporte 16 règles. Vous configurez les règles du programme à partir des paramètres de priorité suivants :

        -   Priorité 1 pour la règle A du programme

        -   Priorité 2 pour les règles B - K du programme

        -   Pas de priorité pour les règles L - P du programme

        Résultat : le système exécute les règles du programme dans l'ordre suivant :

        1.  Règle A du programme

        2.  Règles du programme B - K (impossible de savoir ou de configurer l'ordre dans lequel le système exécute ces règles du programme)

        3.  Règles L - P du programme

4.  Cliquez sur **Entrez l'expression de la règle du programme** et créez l'expression de la règle du programme à l'aide de variables, de fonctions et d'opérateurs.

5.  Cliquez sur **Définir les actions de la règle du programme** et créez les actions exécutées lorsque l'expression est vraie.

    1.  Cliquez sur le bouton d'ajout, sélectionnez une **Action** et entrez les informations requises.

        Selon le type d'action, vous devrez effectuer différents types de réglages. Pour certains types d'action, vous devez également saisir du texte libre ou créer des expressions.

        <table>
        <colgroup>
        <col style="width: 33%" />
        <col style="width: 33%" />
        <col style="width: 33%" />
        </colgroup>
        <thead>
        <tr class="header">
        <th><p>Action type</p></th>
        <th><p>Required settings</p></th>
        <th><p>Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td></td>
        <td></td>
        <td></td>
        </tr>
        <tr class="even">
        <td><p><strong>Assign value</strong></p></td>
        <td><p><strong>Data element to assign value to</strong></p>
        <p><strong>Program rule variable to assign value to</strong></p>
        <p><strong>Expression to evaluate and assign</strong></p></td>
        <td><p>Used to help the user calculate and fill out fields in the data entry form. The idea is that the user shouldn’t have to fill in values that the system can calculate, for example BMI.</p>
        <p>When a field is assigned a value, the user sees the value but the user can't edit it.</p>
        <p>Example from Immunization stock card in Zambia: The data element for vaccine stock outgoing balance is calculated based on the data element for incoming stock balance minus the data elements for consumption and wastage.</p>
        <p>Advanced use: configure an 'assign value' to do a part of a calculation and then assign the result of the calculation to a program rule variable. This is the purpose with the &quot;Calculated value&quot; program rule variable.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Display text</strong></p></td>
        <td><p><strong>Display widget</strong></p>
        <p><strong>Static text</strong></p>
        <p><strong>Expression to evaluate and display after static text</strong></p></td>
        <td><p>Used to display information that is not an error or a warning, for example feedback to the user. You can also use this action to display important information, for example the patient's allergies, to the user.</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>Display key/value pair</strong></p></td>
        <td><p><strong>Display widget</strong></p>
        <p><strong>Key label</strong></p>
        <p><strong>Expression to evaluate and display as value</strong></p></td>
        <td><p>Used to display information that is not an error or a warning.</p>
        <p>Example: calculate number of weeks and days in a pregnancy and display it in the format the clinician is used to see it in. The calculation is based on previous recorded data.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Error on complete</strong></p></td>
        <td><p><strong>Data element to display error next to</strong></p>
        <p><strong>Tracked entity attribute to display error next to</strong></p>
        <p><strong>Static text</strong></p>
        <p><strong>Expression to evaluate and display after static text</strong></p></td>
        <td><p>Used whenever you've cross-consistencies in the form that must be strictly adhered to. This action prevents the user from continuing until the error is resolved.</p>
        <p>This action differs from the regular <strong>Show error</strong> since the error is not shown until the user tries to actually complete the form.</p>
        <p>If you don't select a data element or a tracked entity attribute to display the error next to, make sure you write a comprehensive error message that helps the user to fix the error.</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>Hide field</strong></p></td>
        <td><p><strong>Data element to hide</strong></p>
        <p><strong>Tracked entity attribute to hide</strong></p>
        <p><strong>Custom message for blanked field</strong></p></td>
        <td><p>Used when you want to hide a field from the user.</p>
        <p><strong>Custom message for blanked field</strong> allows you to define a custom message displayed to the user in case the program rule hides and blanks out the field after the user typed in or selected a value.</p>
        <p>If a hide field action hides a field that contains a value, the field will always be removed. If no message is defined, a standard message will be displayed to alert the user.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Hide section</strong></p></td>
        <td><p><strong>Program stage section to hide</strong></p></td>
        <td><p>TBA</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>Hide program stage</strong></p></td>
        <td><p><strong>Program stage to hide</strong></p></td>
        <td><p>Used when you want to hide a program stage section from the user.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Make field mandatory</strong></p></td>
        <td><p><strong>Data element to make mandatory</strong></p>
        <p><strong>Tracked entity attribute to make mandatory</strong></p></td>
        <td><p>TBA</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>Show error</strong></p></td>
        <td><p><strong>Data element to display error next to</strong></p>
        <p><strong>Tracked entity attribute to display error next to</strong></p>
        <p><strong>Static text</strong></p>
        <p><strong>Expression to evaluate and display after static text</strong></p></td>
        <td><p>Used whenever there are rules which must strictly be adhered to. The show error action prevents the user from continuing until the error is resolved.</p>
        <p>Such a strict validation should only be used when it's certain that the evaluated expression is never true unless the user has made a mistake in data entry.</p>
        <p>It's mandatory to define a message that is shown to the user when the expression is true and the action is triggered.</p>
        <p>You can select which data element or tracked entity attribute to link the error to. This will help the user to fix the error.</p>
        <p>In case several data elements or attributes are involved, select the one that is most likely that the user would need to change.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Show warning</strong></p></td>
        <td><p><strong>Data element to display warning next to</strong></p>
        <p><strong>Tracked entity attribute to display warning next to</strong></p>
        <p><strong>Static text</strong></p>
        <p><strong>Expression to evaluate and display after static text</strong></p></td>
        <td><p>Used to give the user a warning about the entered data, but at the same time to allow the user to save and continue.</p>
        <p>You can use warnings to help the user avoid errors in the entered data, while at the same time allow the user to consciously disregard the warnings and save a value that is outside present expectations.</p>
        <p><strong>Static text</strong> defines the message shown to the user when the expression is true and the action is triggered.</p>
        <p>You can select which data element or tracked entity attribute to link the error to. This will help the user to fix the error.</p>
        <p>In case several data elements or attributes are involved, select the one that is most likely that the user would need to change.</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>Warning on complete</strong></p></td>
        <td><p><strong>Data element to display warning next to</strong></p>
        <p><strong>Tracked entity attribute to display warning next to</strong></p>
        <p><strong>Static text</strong></p>
        <p><strong>Expression to evaluate and display after static text</strong></p></td>
        <td><p>Used to give the user a warning if he/she tries to complete inconsistent data, but at the same time to allow the user to continue. The warning is shown in a dialog when the user completes the form.</p>
        <p><strong>Static text</strong> defines the message shown to the user when the expression is true and the action is triggered. This field is mandatory.</p>
        <p>You can select which data element or tracked entity attribute to link the error to. This will help the user to fix the error.</p>
        <p>If you don't select a data element or a tracked entity attribute to display the error next to, make sure you write a comprehensive error message that helps the user to fix the error.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Send Message</strong></p></td>
        <td><p><strong>Message template to send</strong></p></td>
        <td><p>Send Message triggers a notification based on provided message template. This action will be taken immediately. The message template will be parsed and variables will be substituted with actual values.</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>Schedule Message</strong></p></td>
        <td><p><strong>Message template to send</strong></p>
        <p><strong>Data field which contains expression to evaluate the date which notification should be sent at. If this expression results in any value other than Date, then resultant will be discarded and notification will not get scheduled.</strong></p></td>
        <td><p>Schedule Message will schedule notification at date provided by Expression in the data field. Sample expression is given below</p>
        <pre><code>d2:addDays( &#39;2018-04-20&#39;, &#39;2&#39; )</code></pre>
        <p>Message template will be parsed and variables will be substituted with actual values.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Hide option</strong></p></td>
        <td><p><strong>Data element to hide option for</strong></p>
        <p><strong>Tracked entity attribute to hide option for</strong></p>
        <p><strong>Option that should be hidden</strong></p></td>
        <td><p>Used to selectively hide a single option for an option set in a given data element/tracked entity attribute.</p>
        <p>When combined with <strong>show option group</strong> the <strong>hide option</strong> takes precedence.</p></td>
        </tr>
        <tr class="even">
        <td><p><strong>Hide option group</strong></p></td>
        <td><p><strong>Data element to hide option group for</strong></p>
        <p><strong>Tracked entity attribute to hide option group for</strong></p>
        <p><strong>Option group that should be hidden</strong></p></td>
        <td><p>Used to hide all options in a given option group and data element/tracked entity attribute.</p>
        <p>When combined with <strong>show option group</strong> the <strong>hide option group</strong> takes precedence.</p></td>
        </tr>
        <tr class="odd">
        <td><p><strong>Show option group</strong></p></td>
        <td><p><strong>Data element to show option group for</strong></p>
        <p><strong>Tracked entity attribute to show option group for</strong></p>
        <p><strong>Option group that should be shown</strong></p></td>
        <td><p>Used to show only options from a given option group in a given data element/tracked entity attribute. To show an option group implicitly hides all options that is not part of the group(s) that is shown.</p></td>
        </tr>
        </tbody>
        </table>

    2.  Cliquez sur **Sauvegarder**.

    3.  (Facultatif) Répétez les étapes ci-dessus pour ajouter d'autres actions.

6.  Cliquez sur **Sauvegarder**.

### Exemple : Règles du programme { #program_rule_examples }

> **N.B.**
>
> Vous pouvez voir tous les exemples sur le serveur de démo : <https://play.dhis2.org/dev/dhis-web-maintenance/#/list/programSection/programRule>

Cet exemple montre comment configurer une règle de programme qui calcule le nombre de semaines et de jours d'une grossesse et affiche le résultat dans le format utilisé par le clinicien. Le calcul est basé sur les données enregistrées précédemment.

1.  ![](resources/images/maintainence/pg_rule_ex/keyvaluepair_details.png)

2.  ![](resources/images/maintainence/pg_rule_ex/keyvaluepair_expression.png)

3.  ![](resources/images/maintainence/pg_rule_ex/keyvaluepair_action.png)

    L'expression complète dans le champ **Données** :

        d2:concatenate(d2:weeksBetween(#{lmp}, V{current_date}), '+',
        d2:modulus(d2:daysBetween(#{lmp}, V{current_date}), 7))

![](resources/images/maintainence/pg_rule_ex/keyvaluepair_result.png)

Cet exemple montre comment configurer une règle de programme pour afficher du texte dans le widget Feedback de l'application **Saisie Tracker**.

1.  ![](resources/images/maintainence/pg_rule_ex/displaytext_pgrule_variable.png)

2.  ![](resources/images/maintainence/pg_rule_ex/displaytext_details.png)

3.  ![](resources/images/maintainence/pg_rule_ex/displaytext_expression.png)

4.  ![](resources/images/maintainence/pg_rule_ex/displaytext_action.png)

![](resources/images/maintainence/pg_rule_ex/displaytext_result.png)

Cet exemple montre comment configurer une règle de programme pour afficher toujours certaines données dans le widget Feedback de l'application **Saisie Tracker**. Ceci est utile lorsque l'on veut s'assurer que les données vitales, en l'occurence les allergies aux médicaments, sont toujours visibles.

1.  ![](resources/images/maintainence/pg_rule_ex/displaytext2_pgrule_variable.png)

2.  ![](resources/images/maintainence/pg_rule_ex/displaytext2_details.png)

3.  ![](resources/images/maintainence/pg_rule_ex/displaytext2_expression.png)

4.  ![](resources/images/maintainence/pg_rule_ex/displaytext2_action.png)

![](resources/images/maintainence/pg_rule_ex/displaytext2_first_pgstage.png)

![](resources/images/maintainence/pg_rule_ex/displaytext2_result.png)

En utilisant une règle de programme du type "Attribuer une valeur", vous pouvez calculer la valeur "Âge gestationnel à la visite" et la saisir dans le formulaire de saisie. Vous configurez la règle du programme pour calculer l'"âge gestationnel à la visite" sur la base de la "Date des dernières règles" ou de la "Date d'échéance estimée de l'échographie".

1.  ![](resources/images/maintainence/pg_rule_ex/assign_details.png)

2.  ![](resources/images/maintainence/pg_rule_ex/assign_expression.png)

3.  ![](resources/images/maintainence/pg_rule_ex/assign_action.png)

![](resources/images/maintainence/pg_rule_ex/assign_result.png)

### Informations de référence : Opérateurs et fonctions à utiliser dans l'expression de la règle du programme { #program_rules_operators_functions }

> **Conseil**
>
> Vous pouvez emboîter des fonctions les unes dans les autres et avec des sous-expressions pour former des conditions plus complexes. Voici un exemple qui génère l'âge gestationnel en semaines, basé sur la date des dernières menstruations :
>
>     d2:floor( d2:daysBetween(#{lastMenstrualDate},V{event_date}) / 7 )

> **Conseil**
>
> Le type de source déterminera comment les appels de fonction d2 : évalueront un paramètre (champ source).
>
> Exemple : où \#{hemoglobinCurrent} est défini sur le type de source **Élément de donnée dans l'événement en cours**. L'appel de fonction suivant permet d'évaluer si les données sur l'hémoglobine sont saisies dans l'événement en cours.
>
>     d2:hasValue( 'hemoglobinCurrent' )
>
> Exemple : où \#{hémoglobine} est défini sur le type de source **Élément de donnée provenant du dernier événement du programme en cours**. L'appel de fonction suivant  permet d'évaluer s'il existe une valeur pour l'hémoglobine dans un événement quelconque de l'inscription.
>
>     d2:hasValue( 'hemoglobin' )
>
> Exemple : où \#{hemoglobinPrevious} est défini sur le type de source **Élément de donnée de l'événement précédent** . L'appel de fonction suivant permet d'évaluer s'il existe une valeur pour l'hémoglobine parmi les événements précédant l'événement en cours.
>
>     d2:hasValue( 'hemoglobinPrevious' )

<table>
<caption>Opérateurs possibles à utiliser dans une expression de règle de programme</caption>
<colgroup>
<col style="width: 16%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="header">
<th>Opérateur</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>+</p></td>
<td><p>Additionner les nombres</p></td>
</tr>
<tr class="even">
<td><p>-</p></td>
<td><p>Soustraire des nombres les uns des autres</p></td>
</tr>
<tr class="odd">
<td><p>*</p></td>
<td><p>Multiplier deux nombres</p></td>
</tr>
<tr class="even">
<td><p>/</p></td>
<td><p>Diviser deux nombres</p></td>
</tr>
<tr class="odd">
<td><p>%</p></td>
<td><p>Le module de deux nombres</p></td>
</tr>
<tr class="even">
<td><p>&amp;&amp;</p></td>
<td><p>Logique ET. Vrai uniquement lorsque l'expression des côtés gauche et droit est vraie. Le côté gauche et le côté droit peuvent être oui/non, oui uniquement ou une sous-expression entre parenthèses.</p></td>
</tr>
<tr class="odd">
<td><p>||</p></td>
<td><p>Logique OU. Vrai lorsque l'expression de gauche ou l'expression de droite est vraie. Le côté gauche et le côté droit peuvent être oui/non, oui uniquement ou une sous-expression entre parenthèses.</p></td>
</tr>
<tr class="even">
<td><p>&gt;</p></td>
<td><p>Nombre de gauche supérieur à celui de droite</p></td>
</tr>
<tr class="odd">
<td><p>&gt;=</p></td>
<td><p>Nombre de gauche supérieur ou égal à celui de droite</p></td>
</tr>
<tr class="even">
<td><p>&lt;</p></td>
<td><p>Le nombre de gauche est inférieur à celui de droite</p></td>
</tr>
<tr class="odd">
<td><p>&lt;=</p></td>
<td><p>Le nombre de gauche inférieur ou égal à celui de droite.</p></td>
</tr>
<tr class="even">
<td><p>==</p></td>
<td><p>Le côté gauche est égal au côté droit. Prend en charge les chiffres, le texte, oui/non et oui uniquement.</p></td>
</tr>
<tr class="odd">
<td><p>!=</p></td>
<td><p>Le côté gauche n'est pas égal au côté droit. Prend en charge les chiffres, le texte, oui/non et oui uniquement.</p></td>
</tr>
<tr class="even">
<td><p>!</p></td>
<td><p>Annulez la valeur suivante. Peut être utilisé pour oui/non, oui uniquement ou une sous-expression entre parenthèses.</p></td>
</tr>
<tr class="odd">
<td><p>()</p></td>
<td><p>Les parenthèses sont utilisées pour regrouper les sous-expressions.</p></td>
</tr>
</tbody>
</table>

<table>
<caption>Custom functions to use in a program rule expression</caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 30%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Arguments</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>d2:ceil</td>
<td>(number)</td>
<td>Rounds the input argument <strong>up</strong> to the nearest whole number.
<p>Example:</p>
<pre><code>d2:ceil(#{hemoglobinValue})</code></pre></td>
</tr>
<tr class="even">
<td>d2:floor</td>
<td>(number)</td>
<td>Rounds the input argument <strong>down</strong> to the nearest whole number.
<p>An example producing the number of weeks the woman is pregnant. Notice that the sub-expression #{gestationalAgeDays}/7 is evaluated before the floor function is executed:</p>
<pre><code>d2:floor(#{gestationalAgeDays}/7)</code></pre></td>
</tr>
<tr class="odd">
<td>d2:round</td>
<td>(number)</td>
<td>Rounds the input argument to the nearest whole number.</td>
</tr>
<tr class="even">
<td>d2:modulus</td>
<td>(number,number)</td>
<td>Produces the modulus when dividing the first with the second argument.
<p>An example producing the number of days the woman is into her current pregnancy week:</p>
<pre><code>d2:modulus(#{gestationalAgeDays},7)</code></pre></td>
</tr>
<tr class="odd">
<td>d2:zing</td>
<td>(number)</td>
<td>Evaluates the argument of type number to zero if the value is negative, otherwise to the value itself.</td>
</tr>
<tr class="even">
<td>d2:oizp</td>
<td>(number)</td>
<td>Evaluates the argument of type number to one if the value is zero or positive, otherwise to zero.</td>
</tr>
<tr class="odd">
<td>d2:concatenate</td>
<td>(object, [,object, object,...])</td>
<td>Produces a string concatenated string from the input parameters. Supports any number of parameters. Will mainly be in use in future action types, for example to display gestational age with d2:concatenate('weeks','+','gestationalageDays').</td>
</tr>
<tr class="even">
<td>d2:daysBetween</td>
<td>(date, date)</td>
<td>Produces the number of days between the first and second argument. When the first argument date comes before the second argument date, the number will be positive - in the opposite case, the number will be negative. The static date format is 'yyyy-MM-dd'.
<p>Example, calculating the gestational age(in days) of a woman, based on the last menstrual period and the current event date:</p>
<pre><code>d2:daysBetween(#{lastMenstrualDate},V{event_date})</code></pre></td>
</tr>
<tr class="odd">
<td>d2:weeksBetween</td>
<td>(date, date)</td>
<td>Produces the number of full weeks between the first and second argument. When the first argument date comes before the second argument date, the number will be positive - in the opposite case, the number will be negative. The static date format is 'yyyy-MM-dd'.</td>
</tr>
<tr class="even">
<td>d2:monthsBetween</td>
<td>(date, date)</td>
<td>Produces the number of full months between the first and second argument. When the first argument date comes before the second argument date, the number will be positive - in the opposite case, the number will be negative. The static date format is 'yyyy-MM-dd'.</td>
</tr>
<tr class="odd">
<td>d2:yearsBetween</td>
<td>(date, date)</td>
<td>Produces the number of years between the first and second argument. When the first argument date comes before the second argument date, the number will be positive - in the opposite case, the number will be negative. The static date format is 'yyyy-MM-dd'.</td>
</tr>
<tr class="even">
<td>d2:addDays</td>
<td>(date, number)</td>
<td>Produces a date based on the first argument date, adding the second argument number of days.
<p>An example calculating the pregnancy due date based on the last menstrual period:</p>
<pre><code>d2:addDays(#{lastMenstrualDate},283)</code></pre></td>
</tr>
<tr class="odd">
<td>d2:count</td>
<td>(sourcefield)</td>
<td>Counts the number of values that is entered for the source field in the argument. The source field parameter is the name of one of the defined source fields in the program - see example
<p>Example usage where #{previousPregnancyOutcome} is one of the source fields in a repeatable program stage &quot;previous pregnancy&quot;:</p>
<pre><code>d2:count(&#39;previousPregnancyOutcome&#39;)</code></pre></td>
</tr>
<tr class="even">
<td>d2:countIfValue</td>
<td>(sourcefield,text)</td>
<td>Counts the number of matching values that is entered for the source field in the first argument. Only occurrences that matches the second argument is counted. The source field parameter is the name of one of the defined source fields in the program - see example.
<p>Example usage where #{previousPregnancyOutcome} is one of the source fields in a repeatable program stage &quot;previous pregnancy&quot;. The following function will produce the number of previous pregnancies that ended with abortion:</p>
<pre><code>d2:countIfValue(&#39;previousPregnancyOutcome&#39;,&#39;Abortion&#39;)
                                    </code></pre></td>
</tr>
<tr class="odd">
<td>d2:countIfZeroPos</td>
<td>(sourcefield)</td>
<td>Counts the number of values that is zero or positive entered for the source field in the argument. The source field parameter is the name of one of the defined source fields in the program - see example.
<p>Example usage where #{fundalHeightDiscrepancy} is one of the source fields in program, and it can be either positive or negative. The following function will produce the number of positive occurrences:</p>
<pre><code>d2:countIfZeroPos(&#39;fundalHeightDiscrepancy&#39;)
                                    </code></pre></td>
</tr>
<tr class="even">
<td>d2:hasValue</td>
<td>(sourcefield)</td>
<td>Evaluates to true of the argument source field contains a value, false if no value is entered.
<p>Example usage, to find if the source field #{currentPregnancyOutcome} is yet filled in:</p>
<pre><code>d2:hasValue(&#39;currentPregnancyOutcome&#39;)
                                    </code></pre></td>
</tr>
<tr class="odd">
<td>d2:zpvc</td>
<td>(object, [,object, object,...])</td>
<td>Returns the number of numeric zero and positive values among the given object arguments. Can be provided with any number of arguments.</td>
</tr>
<tr class="even">
<td>d2:validatePattern</td>
<td>(text, regex-pattern)</td>
<td>Evaluates to true if the input text is an exact match with the supplied regular expression pattern. The regular expression needs to be escaped.
<p>Example expression, triggering actions if a number is not on the pattern 9999/99/9:</p>
<pre><code>!d2:validatePattern(A{nrc},&#39;\\d{6}\/\\d{2}\/\\d&#39;)</code></pre>
<p>Example expression, triggering actions that if the address is not consisting of letters or white spaces, then a white space, then a number:</p>
<pre><code>!d2:validatePattern(A{registrationAddress},&#39;[\\w ]+ \\d+&#39;)</code></pre>
<p>Example, triggering actions if a name contains any numbers:</p>
<pre><code>!d2:validatePattern(A{name},&#39;[^\\d]*&#39;)</code></pre>
<p>Example expression, triggering actions if a mobile number contains the illegal number sequence 555:</p>
<pre><code>d2:validatePattern(A{mobile} ,&#39;.*555.*&#39;)</code></pre></td>
</tr>
<tr class="odd">
<td>d2:left</td>
<td>(text, num-chars)</td>
<td>Evaluates to the left part of a text, num-chars from the first character.
<p>The text can be quoted or evaluated from a variable:</p>
<pre><code>d2:left(#{variableWithText}, 3)</code></pre></td>
</tr>
<tr class="even">
<td>d2:right</td>
<td>(text, num-chars)</td>
<td>Evaluates to the right part of a text, num-chars from the last character.
<p>The text can be quoted or evaluated from a variable:</p>
<pre><code>d2:right(#{variableWithText}, 2)</code></pre></td>
</tr>
<tr class="odd">
<td>d2:substring</td>
<td>(text, start-char-num, end-char-num)</td>
<td>Evaluates to the part of a string specified by the start and end character number.
<p>Example expression:</p>
<pre><code>d2:substring(#{variableWithText}, 1, 3)</code></pre>
If the #{variableWithText} in the above example was 'ABCD', then the result of the evaluation would be 'BC'</td>
</tr>
<tr class="even">
<td>d2:split</td>
<td>(text, delimiter, element-num)</td>
<td>Split the text by delimiter, and keep the nth element(0 is the first).
<p>The text can be quoted or evaluated from a variable, the delimiter must be quoted:</p>
<pre><code>d2:split(#{variableWithText}, &#39;-&#39;, 1)</code></pre>
<p>Note: comma delimiter(,) is not supported.</p></td>
</tr>
<tr class="odd">
<td>d2:length</td>
<td>(text)</td>
<td>Find the length of a string.
<p>Example:</p>
<pre><code>d2:length(#{variableWithText})</code></pre></td>
</tr>
<tr class="even">
<td>d2:inOrgUnitGroup</td>
<td>(text)</td>
<td>Evaluates whether the current organisation unit is in the argument group. The argument can be defined with either ID or organisation unit group code. The current organisation unit will be the event organisation unit when the rules is triggered in the context of an event, and the enrolling organisation unit when the rules is triggered in the event of a TEI registration form.
<p>Example expression:</p>
<pre><code>d2:inOrgUnitGroup(&#39;HIGH_RISK_FACILITY&#39;)</code></pre></td>
</tr>
<tr class="odd">
<td>d2:hasUserRole</td>
<td>(user role)</td>
<td>Returns true if current user has this role otherwise false
<p>Example expression:</p>
<pre><code>d2:hasUserRole(&#39;UYXOT4A3ASA&#39;)</code></pre></td>
</tr>
<tr class="even">
<td>d2:zScoreWFA</td>
<td>Z-Score weight for age indicator</td>
<td>Calculates z-score based on data provided by WHO weight-for-age indicator.
e varies between -3.5 to 3.5 depending upon the value of weight.
<p>Example expression:</p>
<pre><code>d2:zScoreWFA( ageInMonths, weight, gender )</code></pre>

> **Gender** Gender is considered female by default. Any of the following codes can be used to denote male: 'Male', 'MALE', 'male', 'ma', 'm', 'M', 0, false

</td>
</tr>
<tr class="odd">
<td>d2:zScoreHFA</td>
<td>Z-Score height for age indicator</td>
<td>Calculates z-score based on data provided by WHO height-for-age indicator.
Its value varies between -3.5 to 3.5 depending upon the value of height.
<p>Example expression:</p>
<pre><code>d2:zScoreHFA( ageInMonths, height, gender )</code></pre></td>
</tr>
<tr class="even">
<td>d2:zScoreWFH</td>
<td>Z-Score weight for height indicator</td>
<td>Calculates z-score based on data derived from the WHO weight-for-length and weight-for-height indicators.
The data used for girls can be found [here](https://github.com/dhis2/dhis2-docs/blob/master/src/commonmark/en/content/user/resources/txt-files/zScoreWFH-girls-table.txt) and for boys [here](https://github.com/dhis2/dhis2-docs/blob/master/src/commonmark/en/content/user/resources/txt-files/zScoreWFH-boys-table.txt).
Its value varies between -3.5 to 3.5 depending upon the value of the weight.
<p>Example expression:</p>
<pre><code>d2:zScoreWFH( height, weight, gender )</code></pre></td>
</tr>
<tr class="odd">
<td>d2:minValue</td>
<td>Get minimum value for provided item</td>
<td>Function gets minimum value of provided data element across entire enrollment.
<p>Example expression:</p>
<pre><code>d2:minValue( 'blood-pressure' )</code></pre></td>
</tr>
<tr class="even">
<td>d2:maxValue</td>
<td>Get maximum value for provided item</td>
<td>Function gets maximum value of provided data element across entire enrollment.
<p>Example expression:</p>
<pre><code>d2:maxValue( 'blood-pressure' )</code></pre></td>
</tr>
</tbody>
</table>

<table>
<caption>Standard variables to use in program rule expressions</caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 30%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>V{current_date}</td>
<td>(date)</td>
<td>Contains the current date whenever the rule is executed.
<p>Example expression:</p>
<pre><code>d2:daysBetween(#{symptomDate},V{current_date}) &lt; 0 </code></pre></td>
</tr>
<tr class="even">
<td>V{event_date}</td>
<td>(date)</td>
<td>Contains the event date of the current event execution. Will not have a value at the moment the rule is executed as part of the registration form.</td>
</tr>
<tr class="odd">
<td>V{event_status}</td>
<td>(string)</td>
<td>Contains status of the current event or enrollment.
<p>Example expression to check status is:</p>
<pre><code>V{event_status} == &#39;COMPLETED&#39;</code></pre></td>
</tr>
<tr class="even">
<td>V{due_date}</td>
<td>(date)</td>
<td>This variable will contain the current date when the rule is executed. Note: This means that the rule might produce different results at different times, even if nothing else has changed.</td>
</tr>
<tr class="odd">
<td>V{event_count}</td>
<td>(number)</td>
<td>Contains the total number of events in the enrollment.</td>
</tr>
<tr class="even">
<td>V{enrollment_date}</td>
<td>(date)</td>
<td>Contains the enrollment date of the current enrollment. Will not have a value for single event programs.</td>
</tr>
<tr class="odd">
<td>V{incident_date}</td>
<td>(date)</td>
<td>Contains the incident date of the current enrollment. Will not have a value for single event programs.</td>
</tr>
<tr class="even">
<td>V{enrollment_id}</td>
<td>(string)</td>
<td>Unique identifier string(UID) of the current enrollment. Will not have a value for single event programs.</td>
</tr>
<tr class="odd">
<td>V{event_id}</td>
<td>(string)</td>
<td>Unique identifier string(UID) of the current event context. Will not have a value at the moment the rule is executed as part of the registration form.</td>
</tr>
<tr class="even">
<td>V{orgunit_code}</td>
<td>(string)</td>
<td>Contains the code of the orgunit that is linked to the current enrollment. For single event programs the code from the current event orgunit will be used instead.
<p>Example expression to check whether orgunit code starts with WB_:</p>
<pre><code>d2:left(V{orgunit_code},3) == &#39;WB_&#39;</code></pre></td>
</tr>
<tr class="odd">
<td>V{environment}</td>
<td>(string)</td>
<td>Contains a code representing the current runtime environment for the rules. The possible values is &quot;WebClient&quot;, &quot;AndroidClient&quot; and &quot;Server&quot;. Can be used when a program rule is only supposed to run in one or more of the client types.</td>
</tr>
<tr class="even">
<td>V{program_stage_id}</td>
<td>(string)</td>
<td>Contains the ID of the current program stage that triggered the rules. This can be used to run rules in specific program stages, or avoid execution in certain stages. When executing the rules in the context of a TEI registration form the variable will be empty.</td>
</tr>
<tr class="odd">
<td>V{program_stage_name}</td>
<td>(string)</td>
<td>Contains the name of the current program stage that triggered the rules. This can be used to run rules in specific program stages, or avoid execution in certain stages. When executing the rules in the context of a TEI registration form the variable will be empty.</td>
</tr>
<tr class="even">
<td>V{completed_date}</td>
<td>(string)</td>
<td>This variable contains completion date of event which triggered this rule. If event is not yet complete then &quot;completed_date&quot; contains nothing.</td>
</tr>

</tbody>
</table>

## Configurer les types de relation. { #configure_relationship_type }

### À propos des types de relation { #about_relationship_types }

Une relation est un lien entre deux entités dans le modèle Tracker. Une relation est considérée comme une donnée dans DHIS2 et est basée sur un type de relation, de la même manière qu'une instance d'entité suivie est basée sur un type d'entité suivie.

Les relations comprennent toujours deux entités, et ces entités peuvent inclure des instances d'entités suivies, des inscriptions et des événements, et toute combinaison de ceux-ci. Notez que toutes ces combinaisons ne sont pas disponibles dans les applications actuelles.

En outre, les relations peuvent être définies comme unidirectionnelles ou bidirectionnelles. La seule différence fonctionnelle est qu'elles nécessitent actuellement différents niveaux d'accès pour être créées. Les relations unidirectionnelles exigent que l'utilisateur ait un accès en écriture de données à l'entité "de" et un accès en lecture de données à l'entité "à", tandis que les relations bidirectionnelles exigent un accès en écriture de données pour les deux parties.

Pour plus d'informations sur la configuration et la signification de 'De la contrainte' et 'À la contrainte', voir [Modèle de relation](relationship_model#relationship_model_relationship_type).

### Créer ou modifier un type de relation { #create_relationship_type }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Type de relation**.

2.  Cliquez sur le bouton d'ajout.

3.  Entrez un **Nom** du type de relation.

4.  (Facultatif) Attribuez un **Code**.

5.  (Facultatif) Faites une **Description** de la relation.

6.  (Facultatif) Choisissez si la relation doit être bidirectionnelle

7.  Indiquez **Nom de la relation vu de l'entité initiale**. C'est le nom de la relation s'affichera dans l'application Saisie de données à gauche de la relation. Par exemple, dans une relation mère-enfant, il peut s'agir de "Mère de".

8.  (Facultatif) Indiquez **Nom de la relation vu de l'entité réceptrice**. C'est le nom de la relation qui s'affichera à droite de la relation dans l'application Saisie de données. Par exemple, dans le cas d'une relation mère-enfant, il peut s'agir de "Mère".

9.  Sélectionnez 'De la contrainte'. Cela limite le type d'entités pouvant être incluses dans la relation. [Modèle de relation](relationship_model#relationship_model_relationship_type).

10. Sélectionnez 'À la contrainte'. Cela limite le type d'entités pouvant être incluses dans la relation. [Modèle de relation](relationship_model#relationship_model_relationship_type).

11. Cliquez sur **Sauvegarder**.

## Configurer les types d'entités suivies { #configure_tracked_entity }

### À propos des types d'entités suivies { #about_tracked_entity }

A tracked entity is a type of entity which can be tracked through the system. It can be anything from persons to commodities, for example a medicine or a person.

Un programme doit avoir une entité suivie. Pour inscrire une instance d'entité suivie dans un programme, le type d'entité suivie et le type d'entité suivie d'un programme doivent être identiques.

Les attributs d'entités suivies sont utilisés pour enregistrer des informations supplémentaires pour une entité suivie. Les attributs des entités suivies peuvent être partagés entre les programmes.

### Créer ou modifier un attribut d'entité suivie { #create_tracked_entity_attribute }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Attribut d'entité suivie**.

2.  Cliquez sur le bouton d'ajout.

3.  Dans le champ **Nom**, saisissez le nom de l'attribut de l'entité suivie.

4.  (Facultatif) Tapez un **Nom abrégé**.

5.  (Facultatif) Entrez un **nom du formulaire**.

6.  (Facultatif) Dans le champ **Code**, attribuez un code.

7.  (Facultatif) Tapez une **Description**.

8.  (Facultatif) Dans le champ **Masque de champ**, vous pouvez entrer un modèle utilisé pour fournir des conseils pour un bon formatage de l'attribut. **N.B. : Jusqu'à présent, cette fonction n'a été implémentée que dans l'application Saisie Android de DHIS2, en non dans les applications web Saisie et Saisie Tracker.** Voici les caractères spéciaux qui peuvent être utilisés dans le masque. Ces caractères spéciaux correspondent exactement à un caractère du type donné.

    | Caractère  | Correspondance                      |
    | --------- | -------------------------- |
    | \\d       | chiffre                      |
    | \\x       | lettre minuscule          |
    | \\X       | lettre majuscule             |
    | \\w       | tout caractère alphanumérique |

For example, the pattern can be used to show hyphens as needed in the input field of the data element. E.g. "\d\d\d-\d\d\d-\d\d\d, would show a hyphen for every third digit.

8.  Sélectionnez un **ensemble d'options**.

9.  Dans le champ **Type de valeur**, sélectionnez le type de données que l'entité suivie pourra enregistrer.

    <table>
    <caption>Value types</caption>
    <colgroup>
    <col style="width: 53%" />
    <col style="width: 46%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Value type</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Age</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>Coordinate</p></td>
    <td><p>A point coordinate specified as longitude and latitude in decimal degrees. All coordinate should be specified in the format &quot;-19.23 , 56.42&quot; with a comma separating the longitude and latitude.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Date</p></td>
    <td><p>Dates render as calendar widget in data entry.</p></td>
    </tr>
    <tr class="even">
    <td><p>Date &amp; time</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="odd">
    <td><p>E-mail</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>File</p></td>
    <td><p>A file resource where you can store external files, for example documents and photos.</p></td>
    </tr>
    <tr class="odd">
    <td>Image</td>
    <td>Similar to File, but restricted to images.</td>
    </tr>
    <tr class="even">
    <td><p>Integer</p></td>
    <td><p>Any whole number (positive and negative), including zero.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Letter</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>Long text</p></td>
    <td><p>Textual value. Renders as text area in forms.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Negative integer</p></td>
    <td><p>Any whole number less than (but not including) zero.</p></td>
    </tr>
    <tr class="even">
    <td><p>Number</p></td>
    <td><p>Any real numeric value with a single decimal point. Thousands separators and scientific notation is not supported.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Percentage</p></td>
    <td><p>Whole numbers inclusive between 0 and 100.</p></td>
    </tr>
    <tr class="even">
    <td><p>Phone number</p></td>
    <td></td>
    </tr>
    <tr class="odd">
    <td><p>Positive integer</p></td>
    <td><p>Any whole number greater than (but not including) zero.</p></td>
    </tr>
    <tr class="even">
    <td><p>Positive of zero integer</p></td>
    <td><p>Any positive whole number, including zero.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Organisation unit</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>Unit interval</p></td>
    <td><p>Any real number greater than or equal to 0 and less than or equal to 1.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Text</p></td>
    <td><p>Textual value. The maximum number of allowed characters per value is 50,000.</p></td>
    </tr>
    <tr class="even">
    <td><p>Time</p></td>
    <td><p>Time is stored in HH:mm format.</p>
    <p>HH is a number between 0 and 23</p>
    <p>mm is a number between 00 and 59</p></td>
    </tr>
    <tr class="odd">
    <td><p>Tracker associate</p></td>
    <td><p>-</p></td>
    </tr>
    <tr class="even">
    <td><p>Username</p></td>
    <td><p> Rendered as a dialog with a list of users and a search field. The user will need the "View User" authority to be able to utilise this data type</p></td>
    </tr>
    <tr class="odd">
    <td><p>Yes/No</p></td>
    <td><p>Boolean values, renders as drop-down lists in data entry.</p></td>
    </tr>
    <tr class="even">
    <td><p>Yes only</p></td>
    <td><p>True values, renders as check-boxes in data entry.</p></td>
    </tr>
    </tbody>
    </table>

10. Sélectionnez un **Type d'agrégation**.

    <table>
    <caption>Aggregation operators</caption>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Aggregation operator</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Average</p></td>
    <td><p>Average the values in both the period as and the organisation unit dimensions.</p></td>
    </tr>
    <tr class="even">
    <td><p>Average (sum in organisation unit hierarchy)</p></td>
    <td><p>Average of data values in the period dimension, sum in the organisation unit dimensions.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Count</p></td>
    <td><p>Count of data values.</p></td>
    </tr>
    <tr class="even">
    <td><p>Min</p></td>
    <td><p>Minimum of data values.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Max</p></td>
    <td><p>Maximum of data values.</p></td>
    </tr>
    <tr class="even">
    <td><p>None</p></td>
    <td><p>No aggregation is performed in any dimension.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Sum</p></td>
    <td><p>Sum of data values in the period and organisation unit dimension.</p></td>
    </tr>
    <tr class="even">
    <td><p>Standard deviation</p></td>
    <td><p>Standard deviation (population-based) of data values.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Variance</p></td>
    <td><p>Variance (population-based) of data values.</p></td>
    </tr>
    </tbody>
    </table>

11. Sélectionnez **Unique** pour spécifier que les valeurs de l'attribut de l'entité suivie sont uniques.

    Il existe deux options pour ce cadre unique :

    -   **Tout le système** : Les valeurs de l'attribut d'entité suivie peuvent être dupliquées avec des valeurs appartiennant à d'autres attributs de l'entité suivie. Mais les valeurs de cet attribut d'entité suivie ne doivent pas se répéter.

        Sélectionnez **Généré automatiquement** pour permettre la création automatique de la valeur de l'attribut de l'entité suivie. Lorsque le paramètre de création est activé, un champ optionnel permettant de spécifier le modèle s'affiche également. Ce champ doit contenir un modèle basé sur la syntaxe TextPattern. Lorsque la valeur est générée automatiquement, elle sera unique pour cet attribut et ceci pour l'ensemble du système. Voir la section TextPattern pour plus d'informations sur son fonctionnement.

    -   **Unité d'organisation** : Les valeurs de l'attribut de l'entité suivie ne doivent pas se répéter dans la même unité d'organisation.

12. Sélectionnez **Hériter** pour enregistrer une nouvelle entité en vue d'une relation avec une entité disponible. Toutes les champs de valeurs des attributs de l'entité héritée seront pré-remplis dans le formulaire d'enregistrement.

13. (Facultatif) Sélectionnez **Confidentiel**.

    Cette option n'est disponible que si vous avez configuré le cryptage du système.

14. (Facultatif) Sélectionnez **Afficher dans la liste sans programme**.

15. (Facultatif) Attribuez une ou plusieurs **Légendes**.

16. Cliquez sur **Sauvegarder**.

### Créer ou modifier un type d'entité suivie { #create_tracked_entity }

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Type d'entité suivie**.

2.  Cliquez sur le bouton d'ajout ou sur un **type d'entité suivie** déjà existante.

3.  Entrez un **Nom** de l'entité suivie.

4.  (Facultatif) sélectionnez une **Couleur** et une **Icône** qui seront utilisées par les applications de saisie pour identifier ce type d'entité suivie.

5.  (Facultatif) Entrez une **Description** de l'entité suivie.

6.  (Facultatif) Entrez un **Nombre minimum d'attributs requis pour la recherche**. Ceci indique le nombre d'attributs à remplir pour pouvoir rechercher ce **type d'entité suivie** dans une _recherche globale_. Voir [Configurer la recherche](../search/search.xml#configure_search) pour plus d'informations.

7.  (Facultatif) Entrez un **Nombre maximal d'instances d'entités suivies à retourner dans la recherche**. Ceci spécifie le nombre d'instances d'entités suivies qui seront retournées dans une _recherche globale_. Voir [Configurer la recherche](../search/search.xml#configure_search) pour plus d'informations.

8.  (Facultatif) Ajouter **Attributs de type d'entité suivie**. Cette option est utilisés pour configurer la recherche, voir [Configurer la recherche](configure_search) pour plus d'informations.

9.  (Facultatif) Entrez un **Nom alternatif** de l'entité suivie.

10. Cliquez sur **Sauvegarder**.

## Configurer la recherche { #configure_search }

Les utilisateurs peuvent se voir attribuer des unités d'organisation de recherche, ce qui permet de rechercher des instances d'entités suivies en dehors de leurs unités d'organisation de saisie de données.

La recherche peut être effectuée soit dans le cadre d'un programme, soit dans le cadre d'un type d'entité suivie. Pour donner aux utilisateurs la possibilité d'effectuer une recherche dans le cadre d'un programme, il est nécessaire de configurer lequel des attributs de l'entité suivie du programme est interrogeable. Pour donner aux utilisateurs la possibilité d'effectuer une recherche dans le cadre d'un type d'entité suivie, il est nécessaire de configurer lequel des attributs du type d'entité suivi est interrogeable.

### Configurer la recherche pour le programme Tracker { #configure-search-for-tracker-program }

Pour pouvoir effectuer une recherche avec un programme, vous devrez rendre certains des attributs du programme consultables. Les attributs de programme uniques seront toujours consultables.

1.  Ouvrir l'application **Programme**

2.  Ouvrir ou créer un programme tracker

3.  Aller à **Attributs**

4.  Si vous n'avez pas d'attributs, ajoutez-en un

5.  Définir l'attribut interrogeable

Les attributs des programmes interrogeables seront attribués à un groupe de recherche.

-   Un groupe unique. Un groupe par attribut de programme unique. Les attributs uniques ne peuvent pas être combinés avec d'autres attributs de programme dans une recherche. Le résultat de la recherche ne peut être que 0 ou 1 instance d'entité suivie.

-   Groupe non-unique : Ce groupe contient tous les attributs non uniques du programme et permet de combiner plusieurs attributs dans une recherche.

Il y a deux limites qui peuvent être établies pour une recherche de programme, dans le cadre de la configuration du **Programme**.

-   Nombre minimum d'attributs requis pour la recherche : Cette propriété définit le nombre d'attributs non uniques devant être saisis avant qu'une recherche puisse être effectuée.

<!-- end list -->

-   Nombre maximum d'instances d'entité suivie à renvoyer : Cette propriété définit le degré de spécificité d'une recherche, en limitant le nombre d'instances d'entité suivie correspondantes qu'un utilisateur est autorisé à obtenir pour ses critères de recherche. Si le nombre d'enregistrements correspondants est supérieur à ce maximum, ils ne seront pas renvoyés. L'utilisateur doit fournir des critères de recherche plus spécifiques, afin de réduire le nombre d'enregistrements correspondants, avant qu'ils ne soient renvoyés.

    > **NOTE**
    >
    > This maximum is only applied to search results outside the users capture org unit. Within the capture scope, the user can see any number of results.

### Configurer la recherche pour le type d'entité suivie { #configure-search-for-tracked-entity-type }

> **N.B.**
>
> TET = Type d'entité suivie

Pour pouvoir effectuer une recherche sans programme, vous devrez rendre certains des attributs du TET consultables. Les attributs uniques du TET seront toujours interrogeables.

1.  Ouvrez l'application **Type d'entité suivie**

2.  Ouvrez un type d'entité suivie

3.  Si le TET n'a pas d'attributs, ajoutez-en un

4.  Définir l'attribut interrogeable

Les attributs de TET interrogeables seront attribués à un groupe de recherche.

-   Un groupe unique. Un groupe par attribut unique de TET. Les attributs uniques ne peuvent pas être combinés avec d'autres attributs de TET. Le résultat de la recherche ne peut être que 0 ou 1 instance d'entité suivie.

-   Groupe non-unique : Ce groupe contient tous les attributs non uniques de TET et permet de combiner plusieurs attributs dans une recherche.

Deux limites peuvent être établies pour une recherche de TET

-   Nombre minimum d'attributs requis pour la recherche : Cette propriété définit le nombre d'attributs non uniques devant être saisis avant qu'une recherche puisse être effectuée.

<!-- end list -->

-   Nombre maximum d'instances d'entité suivie à renvoyer : Cette propriété définit le degré de spécificité d'une recherche, en limitant le nombre d'instances d'entité suivie correspondantes qu'un utilisateur est autorisé à obtenir pour ses critères de recherche. Si le nombre d'enregistrements correspondants est supérieur à ce maximum, ils ne seront pas renvoyés. L'utilisateur doit fournir des critères de recherche plus spécifiques, afin de réduire le nombre d'enregistrements correspondants, avant qu'ils ne soient renvoyés.

    > **NOTE**
    >
    > This maximum is only applied to search results outside the users capture org unit. Within the capture scope, the user can see any number of results.

### Configurer les unités d'organisation de la recherche pour un utilisateur { #configure-search-organisation-units-for-a-user }

Pour pouvoir effectuer des recherches dans unités d'organisation autres que celles de la saisie des données de l'utilisateur, ce dernier doit se voir attribuer des unités d'organisation de recherche. Le fait d'attribuer une unité d'organisation de recherche à un utilisateur lui donnera également accès à la recherche dans tous les enfants de cette unité d'organisation.

1.  Ouvrir l'application**Utilisateurs**

2.  Cliquez sur un utilisateur

3.  Ouvert **Attribuer des unités d'organisation de recherche**

4.  Sélectionnez les unités d'organisation

5.  Cliquez sur **Enregistrer**

## Cloner des objets de métadonnées { #clone_metadata }

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez de nombreux objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez cloner.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Cloner**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

## Supprimer les objets de métadonnées { #delete-metadata-objects }

> **N.B.**
>
> Vous ne pouvez supprimer un élément de données et d'autres objets d'éléments de données que lorsqu'aucune donnée n'est associée à l'élément de données lui-même.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est irrévocablement perdu. Tous les formulaires de saisie de données et les formulaires de section qui ont pu être élaborés seront également supprimés. Assurez-vous que vous avez fait une sauvegarde de votre base de données avant de supprimer tout ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

## Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects }

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut considère que tout le monde (**Accès public**) peut trouver, afficher et modifier les objets de métadonnées.

1.  Ouvrez l'application **Maintenance** et trouvez le type d'objet de métadonnées que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Ajouter des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier l'objet.

    -   **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

    -   **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous souhaitez modifier.

    -   **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données pour l'objet.

    -   **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à l'objet.

    -   **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données relatives à l'objet.

6.  Cliquez sur **Fermer**

## Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects }

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Afficher les détails**.

## Traduire les objets de métadonnées { #translate-metadata-objects }

Le DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple des éléments de données, des groupes d'éléments de données, des indicateurs, des groupes d'indicateurs ou des unités d'organisation. Vous pouvez traduire ces éléments dans un nombre quelconque de lieux. Un lieu représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées que vous souhaitez traduire.

2.  Dans la liste des objets, cliquez sur le menu des options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click directly on the **Translate** icon next to each list item.

3.  Sélectionnez un lieu.

4.  Tapez un **Nom**, **Nom abrégé** et **Description**.

5.  Cliquez sur **Sauvegarder**.

# Gérer les utilisateurs, les rôles des utilisateurs et les groupes d'utilisateurs { #manage_user_role_group }

## À propos de la gestion des utilisateurs { #about_user_userrole }

Plusieurs utilisateurs peuvent accéder simultanément au DHIS2 et chaque utilisateur peut avoir des différents types d'autorisations. Vous pouvez donc régler ces autorisations de manière à ce que certains utilisateurs ne puissent que saisir des données, tandis que d'autres ne peuvent que générer des rapports.

-   Vous pouvez créer autant d'utilisateurs, de rôles d'utilisateurs et de groupes d'utilisateurs que vous le souhaitez.

-   Vous pouvez attribuer des pouvoirs spécifiques à des groupes d'utilisateurs ou à des utilisateurs individuels via des rôles d'utilisateur.

-   Vous pouvez créer plusieurs rôles d'utilisateur, chacun disposant de ses propres autorités.

-   Vous pouvez attribuer des rôles d'utilisateur aux utilisateurs pour leur accorder les autorités correspondantes.

-   Vous pouvez affecter chaque utilisateur à des unités d'organisation. L'utilisateur peut alors saisir des données pour les unités d'organisation assignées.

-   Vous pouvez définir une date d'expiration pour les utilisateurs individuels

<table>
<caption>Conditions et définitions de la gestion des utilisateurs</caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 40%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Condition</p></th>
<th><p>Définition</p></th>
<th><p>Exemple</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Authorité</p></td>
<td><p>Autorisation d'effectuer une ou plusieurs tâches spécifiques</p></td>
<td><p>Créer un nouvel élément de donnée</p>
<p>Mettre à jour une unité d'organisation</p>
<p>Visualiser un rapport</p></td>
</tr>
<tr class="even">
<td><p>Utilisateur</p></td>
<td><p>Compte d'utilisateur DHIS2 d'une personne</p></td>
<td><p>administrateur</p>
<p>traore</p>
<p>invité</p></td>
</tr>
<tr class="odd">
<td><p>Rôle de l'utilisateur</p></td>
<td><p>Un groupe d'autorités</p></td>
<td><p>Commis à la saisie de données</p>
<p>Administrateur du systèmer</p>
<p>Accès aux programmes de soins prénataux</p></td>
</tr>
<tr class="even">
<td><p>Groupe d'utilisateurs</p></td>
<td><p>Un groupe d'utilisateurs</p></td>
<td><p>Personnel du Kenya</p>
<p>Destinataires des messages de feedback</p>
<p>Coordinateurs du programme VIH</p></td>
</tr>
</tbody>
</table>

L'application **Utilisateurs** vous permet de gérer les utilisateurs, les rôles des utilisateurs et les groupes d'utilisateurs.

<table>
<caption>Objets dans l'application Utilisateurs</caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'objet</p></th>
<th><p>Fonctions disponibles</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Utilisateur</p></td>
<td><p>Créer, modifier, inviter, cloner, désactiver, afficher par unité d'organisation, supprimer et afficher les détails</p></td>
</tr>
<tr class="even">
<td><p>Rôle de l'utilisateur</p></td>
<td><p>Créer, modifier, partager, supprimer et afficher des détails</p></td>
</tr>
<tr class="odd">
<td><p>Groupe d'utilisateurs</p></td>
<td><p>Créer, modifier, rejoindre, quitter, partager, supprimer et afficher les détails</p></td>
</tr>
</tbody>
</table>

### À propos des utilisateurs { #about-users }

Chaque utilisateur dans DHIS2 doit avoir un compte d'utilisateur identifié par un nom d'utilisateur. Vous devez enregistrer un prénom et un nom de famille pour chaque utilisateur ainsi que des informations de contact, par exemple une adresse électronique et un numéro de téléphone.

Vous devez enregistrer les bonnes coordonnées. DHIS2 utilise ces informations pour contacter directement les utilisateurs, par exemple pour envoyer des courriels afin de les informer d'événements importants. Vous pouvez également utiliser les informations de contact pour partager, par exemple, des tableaux de bord et des tableaux croisés dynamiques.

Un utilisateur de DHIS2 est associé à une unité d'organisation. Vous devez donc attribuer l'unité d'organisation où l'utilisateur travaille.

Lorsque vous créez un compte d'utilisateur pour un responsable de l'enregistrement du district, vous devez lui attribuer le district où il travaille comme unité d'organisation.

L'unité organisationnelle assignée influence la manière dont l'utilisateur peut utiliser le DHIS2 :

-   Dans l'application **Saisie de données**, un utilisateur ne peut saisir des données que pour l'unité d'organisation à laquelle il est associé ainsi que les unités d'organisation situées en dessous de celle-ci dans la hiérarchie. Par exemple, un responsable des archives d'un district ne pourra enregistrer que les données relatives à son district et aux installations situées en dessous de ce district.

-   Dans l'application **Uutilisateurs**, un utilisateur ne peut créer de nouveaux utilisateurs que pour l'unité d'organisation à laquelle il est associé en plus des unités d'organisation situées en dessous dans la hiérarchie.

-   Dans l'application **Rapports**, un utilisateur a la possibilité de ne consulter que les rapports de son unité d'organisation ainsi que ceux qui se trouvent en dessous. (Nous envisageons de l'ouvrir pour permettre des rapports de comparaison).

Une aspect important de la gestion des utilisateurs consiste à contrôler quels utilisateurs sont autorisés à créer de nouveaux utilisateurs et avec quelles autorités. Dans le système DHIS2, vous pouvez contrôler quels utilisateurs sont autorisés à effectuer cette tâche. Le principe clé est qu'un utilisateur ne peut accorder des autorités et un accès à des ensembles de données que s'il y a accès lui-même. Le nombre d'utilisateurs au niveau national, provincial et du district est souvent relativement peu élevé et peut être créé et géré par les administrateurs du système. Si la grande majorité des établissements saisit directement les données dans le système, le nombre d'utilisateurs peut devenir trop important. Il est donc recommandé de déléguer et de décentraliser cette tâche aux responsables de district, ce qui rendra le processus plus efficace et permettra de mieux soutenir les utilisateurs des établissements.

### À propos des rôles des utilisateurs { #about-user-roles }

Un rôle d'utilisateur dans le DHIS2 est un groupe d'autorités. Une autorité signifie l'autorisation d'effectuer une ou plusieurs tâches spécifiques.

Un rôle d'utilisateur peut contenir des autorités permettant de créer un nouvel élément de donnée, mettre à jour une unité d'organisation ou visualiser un rapport.

Un utilisateur peut avoir plusieurs rôles d'utilisateur. Dans ce cas, les autorités de l'utilisateur seront la somme de toutes les autorités et de tous les ensembles de données contenus dans les rôles d'utilisateur. Cela signifie que vous pouvez mélanger et faire correspondre les rôles d'utilisateur à des fins particulières au lieu de n'en créer que de nouveaux.

Un rôle d'utilisateur est associé à une collection d'ensembles de données. Cela concerne l'application **Saisie de données** : un utilisateur ne peut saisir que les données des ensembles de données enregistrés pour son rôle d'utilisateur. Cela peut être utile lorsque, par exemple, vous souhaitez autoriser agents des programmes de santé à ne saisir que les données de leurs formulaires de saisie concernés.

Recommandations :

-   Créer un rôle d'utilisateur pour chaque poste au sein de l'organisation.

-   Créer les rôles des utilisateurs en définissant parallèlement quel utilisateur effectue quelles tâches dans le système.

-   Ne donnez aux utilisateurs que les autorisations dont ils ont besoin pour accomplir leur tâche, pas plus. Seuls ceux qui sont censés accomplir une tâche devraient avoir les autorisations nécessaires leur permettant de l'accomplir.

### À propos des groupes d'utilisateurs { #about-user-groups }

Un groupe d'utilisateurs est un groupe composés uniquement d'utilisateurs. Vous utilisez les groupes d'utilisateurs lorsque vous configurez le partage d'objets ou de notifications, par exemple les rapports push ou les notifications de programmes.

Voir également :

[Partage](https://ci.dhis2.org/docs/master/en/user/html/sharing.html)

[Gérer les notifications du programme](https://docs.dhis2.org/master/en/user/html/configure_tracker_program_in_Maintenance_app.html#create-a-program-stage-notification)

[Mange push reports](https://docs.dhis2.org/master/en/user/html/manage_push_report.html)

## Déroulement { #user_mgt_workflow }

1.  Définissez les postes dont vous avez besoin pour votre projet et identifiez les tâches que les différents postes devront accomplir.

2.  Créez plus ou moins un rôle d'utilisateur pour chaque poste.

3.  Créez des utilisateurs.

4.  Attribuez des rôles d'utilisateur aux utilisateurs.

5.  Affectez les utilisateurs à des unités d'organisation.

6.  (Facultatif) Regrouper les utilisateurs en groupes d'utilisateurs.

7.  Partager des ensembles de données avec des utilisateurs ou des groupes d'utilisateurs via la boîte de dialogue Partage dans la section Gestion des ensembles de données de l'application Maintenance

> **Conseil**
>
> Pour permettre aux utilisateurs de saisir des données, vous devez donc les ajouter au un niveau d'unité d'organisation et partager avec eux un ensemble de données.

## Gérer les utilisateurs { #mgt_user }

### Créer un utilisateur { #create_user }

![](resources/images/dhis2UserManual/select_user_menu.png)

1.  Ouvrez l'application **Utilisateurs** et cliquez sur le **+** de la carte **Utilisateurs**.

2.  Choisissez si vous voulez fournir toutes les informations personnelles de l'utilisateur, ou inviter ce dernier par e-mail à fournir le reste des informations de l'utilisateur :

-   **Créer un compte avec les informations de l'utilisateur** ![](resources/images/dhis2UserManual/user_management_details.png)Choisissez cette option lorsque vous souhaitez entrer toutes les informations de connexion du nouvel utilisateur telles que le nom d'utilisateur, le mot de passe, etc. Sous ces conditions, les champs nom d'utilisateur, mot de passe, nom, prénoms et rôles sont obligatoires.<br/><br/>Après cette étape, le compte est prêt à être utilisé par l'utilisateur avec le nom d'utilisateur et le mot de passe que vous fournissez.<br/><br/>
-   **Invitation par e-mail pour créer un compte** ![](resources/images/dhis2UserManual/user_management_invite.png) Choisissez cette option si vous souhaitez envoyer une invitation par e-mail à l'utilisateur. Il/elle devra retourner sur l'interface DHIS2 et terminer la configuration de son compte utilisateur. Le compte que l'utilisateur finit de configurer sera limité en fonction de la manière dont vous le configurez.

> **N.B**
>
> Pour pouvoir utiliser cette fonction, le système doit disposer d'une configuration de courrier électronique valide dans les Paramètres système -\> Email

Saisissez l'adresse électronique à laquelle l'invitation doit être envoyée. Si vous le souhaitez, vous pouvez également saisir le nom d'utilisateur que le compte aura. Si vous laissez le nom d'utilisateur vide, l'utilisateur peut alors choisir son propre nom d'utilisateur lorsqu'il répond à l'invitation (à condition qu'il ne soit pas déjà pris pour un autre utilisateur).<br/><br/> Après avoir créé l'utilisateur, le système envoie un courrier électronique à l'adresse que vous avez fournie. Ce courrier contient un lien web unique par lequel l'utilisateur peut revenir au système et activer son compte en saisissant le reste de ses informations d'utilisateur. L'utilisateur doit terminer la création de son compte dans les 4 jours, après quoi l'invitation devient invalide.

3. (Facultatif) Entrez des valeurs dans les champs **Cartographie de l'OpenID Connect, Identifiant LDAP, Numéro de téléphone portable, WhatsApp, Facebook Messenger, Skype, Telegram et Twitter**.

4. Sélectionnez une **langue d'interface**.<br/> Vous pouvez sélectionner une langue dans laquelle les éléments fixes de l'interface utilisateur de DHIS2 ont été traduits.

5. Sélectionnez une **Langue de la base de données**. <br/> Vous pouvez sélectionner une langue dans laquelle les éléments disponibles pour la mise en œuvre ont été traduits dans la base de données, par exemple les noms des éléments de données ou les noms de niveaux d'unités d'organisation.

6. Dans la section **Rôles disponibles**, double-cliquez sur les rôles que vous souhaitez attribuer à l'utilisateur.

7. Sélectionnez **Unités d'organisation de saisie et de maintenance des données**. <br/> ![](resources/images/dhis2UserManual/user_management_fewer_options.png) <br/> Les unités d'organisation de saisie et de maintenance des données contrôlent pour quelles unités d'organisation l'utilisateur peut entrer des données. Vous devez consacrer au moins une unité d'organisation de saisie et de maintenance des données à chaque utilisateur. <br/> <br/> Les utilisateurs auront accès à toutes les unités de sous-organisation pour les unités d'organisation qui leur seront attribuées. Par exemple, lorsque vous affectez un utilisateur à un district qui compte plusieurs établissements, l'utilisateur aura accès aux données du district, ainsi qu'à tous les établissements se trouvant dans le district.

8. (Facultatif) Sélectionnez **Unités d'organisation de sortie et d'analyse des données**.<br/><br/> Les unités d'organisation de sortie et d'analyse des données déterminent les unités d'organisation pour lesquelles l'utilisateur peut visualiser les données agrégées dans les applications d'analyse, par exemple les applications **Tableau croisé dynamique** et **SIG**. Vous pouvez attribuer à un utilisateur un nombre quelconque d'unités d'organisation de sortie et d'analyse de données.<br/><br/> Les utilisateurs auront donc accès à toutes les sous-unités d'organisation des unités d'organisation assignées. Vous ne devez pas sélectionner les descendants d'une unité d'organisation que vous avez déjà sélectionnée. Par exemple, si vous avez assigné l'utilisateur à un district, vous ne devez pas sélectionner les établssement de ce district.<br/><br/>

> **N.B.**
>
> L'attribution des unités d'organisation de sortie et d'analyse des données est facultative. Si vous ne spécifiez aucune unité d'organisation, l'utilisateur aura accès à la hiérarchie complète des unités d'organisation pour visualiser les données agrégées. Comme pour les unités d'organisation de saisie des données, _vous ne devez pas sélectionner les unités d'organisation descendantes d'une unité que vous avez déjà sélectionnée_.<br/><br/> À plusieurs endroits dans les applications d'analyse, vous pouvez sélectionner "unité d'organisation de l'utilisateur" pour la dimension "unité d'organisation". Ce mécanisme tentera d'abord d'utiliser les unités d'organisation de visualisation des données liées à l'utilisateur actuel. S'il n'est pas trouvé, il utilisera alors les unités d'organisation de saisie et de maintenance des données. Si l'utilisateur a été affecté à plusieurs unités d'organisation, l'utilisation de "unité d'organisation d'utilisateur" peut entraîner un comportement imprévisible.<br/><br/>

9. Cliquez sur **Afficher plus d'options** et trois autres champs s'afficheront. (Facultatif) <br/><br/>

10. Dans la rubrique **Recherche d'unités d'organisation**, sélectionnez les unités d'organisation au sein desquelles vous souhaitez que l'utilisateur effectue une recherche.<br/><br/>

11. (Facultatif) Dans la section **Groupes d'utilisateurs disponibles**, double-cliquez sur les groupes d'utilisateurs que vous souhaitez attribuer à l'utilisateur.<br/><br/>

12. (Facultatif) Dans la section **Restrictions de dimensions disponibles pour l'analyse des données**, double-cliquez sur les dimensions que vous souhaitez attribuer à l'utilisateur. <br/><br/> Vous pouvez limiter les valeurs visibles par l'utilisateur dans les applications d'analyse de données en sélectionnant des dimensions qui restreindront la vue de l'utilisateur.

> **Exemple**
>
> Supposons que vous ayez défini _Partenaire de mise en œuvre_ comme un ensemble de groupes d'options de catégorie, et que vous n'ayez partagé avec cet utilisateur qu'un ou plusieurs partenaires de mise en œuvre spécifiques (groupes d'options de catégorie). Si vous voulez vous assurer que l'utilisateur ne voit pas les totaux dans les analyses incluant des valeurs d'autres groupes, attribuez _Partenaire de mise en œuvre_ à l'utilisateur.<br/><br/> Ceci garantit que toute donnée visible par l'utilisateur par le biais des applications d'analyse sera filtrée pour ne sélectionner que le(s) groupe(s) d'options de catégorie du Partenaire de mise en œuvre visibles par l'utilisateur.<br/><br/>

13. Cliquez sur **Sauvegarder**.

### Modifier les objets utilisateurs { #edit-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez directement sur l'objet concerné ou cliquez sur l'icône du menu et sélectionnez **Modifier**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Définir la date d'expiration du compte { #user_account_expiration_date }

Si un compte utilisateur expire à une date spécifique, vous pouvez définir une date d'expiration de compte pour l'utilisateur

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  **Sélectionnez l'utilisateur** dont le compte doit avoir une date d'expiration

3.  Utilisez l'entrée **"Date d'expiration du compte"** pour définir la date

4.  **Enregistrer les mises à jour** en soumettant le formulaire

### Désactiver les utilisateurs { #disable_user }

Vous pouvez désactiver un utilisateur. Cela signifie que le compte de l'utilisateur n'est pas supprimé, mais que l'utilisateur ne peut pas se connecter ou utiliser le DHIS2.

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste, cliquez sur l'icône du menu de la fiche utilisateur concernée et sélectionnez **Désactiver**.

3.  Cliquez sur **OK** pour confirmer.

> **Attention**
>
> Si vous utilisez l'application [App Saisie Android] (https://www.dhis2.org/android), la désactivation d'un utilisateur entraînera la suppression des données locales stockées sur le téléphone la prochaine fois que l'utilisateur se connectera en ligne. Veuillez vous assurer que lorsque vous utilisez la fonction _désactiver l'utilisateur_, toutes les données ont été synchronisées avec le serveur ou que vous utilisez cette fonction pour assurer la suppression des données en cas de perte d'un appareil.

### Modifier le profil d'un utilisateur { #display-a-users-profile }

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste, cliquez sur l'icône du menu de la fiche utilisateur concernée et sélectionnez **Profil**.

### Filtrer les utilisateurs par unité d'organisation { #filter-users-by-organisation-unit }

Vous pouvez visualiser tous les utilisateurs affectés à une unité d'organisation donnée.

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Au-dessus de la liste des utilisateurs, cliquez sur le filtre d'entrée de l'**Unité d'organisation**.

3.  Une fenêtre pop up apparaîtra et vous pourrez y sélectionner les unités d'organisation par lesquelles vous souhaitez filtrer.

La liste des utilisateurs sera filtrée pour n'inclure que les utilisateurs ayant été affectés aux unités d'organisation sélectionnées.

### Cloner les utilisateurs { #clone_user }

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste d'objets, cliquez sur l'icône du menu de l'utilisateur concerné et sélectionnez **Répliquer**.

3.  Entrez un nouveau nom d'utilisateur et un nouveau mot de passe pour le compte d'utilisateur cloné.

4.  Cliquez sur **Répliquer**.

5.  Dans la liste d'objets, cliquez sur l'utilisateur que vous venez de créer et cliquez sur **Modifier**.

6.  Modifiez les options que vous souhaitez.

7.  Cliquez sur **Sauvegarder**.

### Changer le mot de passe de l'utilisateur { #user_manage_password }

Pour modifier le mot de passe d'un utilisateur, suivez les étapes suivantes :

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste d'objets, cliquez sur l'icône du menu de l'utilisateur concerné et sélectionnez **Modifier**.

3.  Saisissez un nouveau mot de passe et confirmez en le retapant.

4.  Cliquez sur **Sauvegarder**.

#### Les exigences en matière de mots de passe { #password-requirements }

Les règles ci-après s'appliquent lorsque vous créez un nouveau mot de passe. Le mot de passe :

-   Doit contenir au moins 8 caractères. Notez que ce nombre est configurable par le biais du paramètre du système "Minimum de caractères dans le mot de passe", qui peut comporter jusqu'à 14 caractères.

-   Ne doit pas contenir plus de 40 caractères.

-   Doit contenir au moins un caractère spécial (caractère non alphanumérique).

-   Doit contenir au moins un caractère majuscule.

-   Doit contenir au moins un caractère minuscule.

-   Doit contenir au moins un chiffre (nombre).

-   Ne doit pas contenir le nom d'utilisateur ou l'adresse électronique du compte d'utilisateur.

-   Ne doit  pas contenir de mots génériques tels que _système_, _admin_, _utilisateur_, _connexion_, et _gestionnaire_.

-   Ne doit pas être l'un des 24 mots de passe précédents que l'utilisateur a utilisés. Cette règle ne s'applique pas lorsqu'un super-utilisateur réinitialise le mot de passe pour un autre utilisateur.

### Supprimer des objets utilisateur { #delete-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur l'icône du menu de l'objet concerné et sélectionnez **Supprimer**.

3.  Cliquez sur **OK** pour confirmer.

### Afficher les détails des objets utilisateur { #display-details-of-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur l'icône du menu de l'objet concerné et sélectionnez **Afficher les détails**.

### Désactiver l'authentification à deux facteurs pour un utilisateur { #disable-two-factor-authentication-for-a-user }

Lorsqu'un un utilisateur active l'authentification à deux facteurs et perd ensuite l'accès à son dispositif d'authentification (par exemple, si son smartphone est perdu ou cassé), cet utilisateur ne pourra donc plus se connecter au système. Pour résoudre ce problème, un gestionnaire d'utilisateurs peut désactiver l'authentification à deux facteurs pour l'utilisateur concerné, afin que celui-ci puisse à nouveau accéder au système en utilisant simplement un mot de passe.

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste d'objets, cliquez sur l'icône du menu de l'utilisateur concerné et sélectionnez **Désactiver l'authentification à deux facteurs**.

3.  Cliquez sur **OK** pour confirmer.

> **N.B.**
>
> L'option de désactivation de l'authentification à deux facteurs ne sera disponible que pour les utilisateurs qui ont mis en place l'authentification à deux facteurs via l'application Profil de l'utilisateur.

## Gérer les rôles des utilisateurs { #mgt_userrole }

### Créer un rôle d'utilisateur { #create_userrole }

![](resources/images/dhis2UserManual/role_maintenance_page.png)

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Rôle de l'utilisateur**.

2.  Cliquez sur **AJOUTER**.

3.  Entrez un **Nom**, par exemple "Super utilisateur" ou "Utilisateur dmin ".

4.  Tapez une **Description**.

5.  Dans la section **Autorités**, sélectionnez les autorités que vous voulez associer au rôle d'utilisateur. Vous pouvez également utiliser les entrées de filtre au-dessus de la section "Autorités" pour rechercher une autorité spécifique.

6.  Cliquez sur **Ajouter**.

### Modifier les objets utilisateurs { #edit-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez directement sur l'objet concerné ou cliquez sur l'icône du menu et sélectionnez **Modifier**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer des objets utilisateur { #delete-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur l'icône du menu de l'objet concerné et sélectionnez **Supprimer**.

3.  Cliquez sur **OK** pour confirmer.

### Afficher les détails des objets utilisateur { #display-details-of-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur l'icône du menu de l'objet concerné et sélectionnez **Afficher les détails**.

### Modifier les paramètres de partage des objets utilisateur { #change-sharing-settings-for-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur l'objet concerné et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Recherchez un groupe d'utilisateurs et sélectionnez-le, puis cliquez sur l'icône plus. Le groupe d'utilisateurs est alors ajouté à la liste.

4.  (Facultatif) Sélectionnez **Accès externe (sans login)**.

5.  Modifiez les paramètres des groupes d'utilisateurs que vous souhaitez modifier.

-   **Aucun**
-   **Peut visualiser** : L'objet est visible par tout le monde dans le groupe d'utilisateurs
-   **Peut modifier et visualiser** : Tout le monde dans le groupe d'utilisateurs peut voir et modifier l'objet

6.  Cliquez sur **Sauvegarder**.

## Gérer des groupes d'utilisateurs { #mgt_usergroup }

### Créer un groupe d'utilisateurs { #create_usergroup }

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Groupe d'utilisateurs**.

2.  Cliquez sur **AJOUTER**.

3.  Dans le champ **Nom**, entrez le nom du groupe d'utilisateurs.

4.  Dans la section **Utilisateurs disponibles**, double-cliquez sur les utilisateurs que vous souhaitez ajouter au groupe d'utilisateurs.

5.  Dans la section **Groupes d'utilisateurs disponibles**, double-cliquez sur les groupes d'utilisateurs que vous souhaitez ajouter au groupe d'utilisateurs.

6.  Cliquez sur **Ajouter**.

### Rejoindre un groupe d'utilisateurs { #join_usergroup }

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Groupe d'utilisateurs**.

2.  Dans la liste, cliquez sur le groupe d'utilisateurs concerné et sélectionnez **Rejoindre le groupe**.

### Quitter un groupe d'utilisateurs { #leave_usergroup }

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Groupe d'utilisateurs**.

2.  Dans la liste, cliquez sur le groupe d'utilisateurs concerné et sélectionnez **Quitter le groupe**.

### Modifier les objets utilisateurs { #edit-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez directement sur l'objet concerné ou cliquez sur l'icône du menu et sélectionnez **Modifier**.

3.  Modifiez les options que vous souhaitez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer des objets utilisateur { #delete-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez supprimer.

2.  Dans la liste des objets, cliquez sur l'icône du menu de l'objet concerné et sélectionnez **Supprimer**.

3.  Cliquez sur **OK** pour confirmer.

### Afficher les détails des objets utilisateur { #display-details-of-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez visualiser.

2.  Dans la liste des objets, cliquez sur l'icône du menu de l'objet concerné et sélectionnez **Afficher les détails**.

### Modifier les paramètres de partage des objets utilisateur { #change-sharing-settings-for-user-objects }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'objet utilisateur que vous souhaitez modifier.

2.  Dans la liste des objets, cliquez sur l'objet concerné et sélectionnez **Paramètres de partage**.

3.  (Facultatif) Recherchez un groupe d'utilisateurs et sélectionnez-le, puis cliquez sur l'icône plus. Le groupe d'utilisateurs est alors ajouté à la liste.

4.  (Facultatif) Sélectionnez **Accès externe (sans login)**.

5.  Modifiez les paramètres des groupes d'utilisateurs que vous souhaitez modifier.

-   **Aucun**
-   **Peut visualiser** : L'objet est visible par tout le monde dans le groupe d'utilisateurs
-   **Peut modifier et visualiser** : Tout le monde dans le groupe d'utilisateurs peut voir et modifier l'objet

6.  Cliquez sur **Sauvegarder**.

## Décentraliser la gestion des utilisateurs { #decentralize-user-management }

DHIS2 prend en charge un concept de gestion des utilisateurs appelé _utilisateurs gérés_ qui permet de définir explicitement quels utilisateurs devraient être autorisés à gérer ou à modifier quels utilisateurs. "Gérer un utilisateur" implique que vous pouvez voir et modifier cet utilisateur. Le concept de base pour la gestion des utilisateurs est que vous pouvez voir et modifier les utilisateurs qui vous ont été attribués par toutes les autorités ; en d'autres termes, vous pouvez modifier les utilisateurs ayant un sous-ensemble de vos propres autorités. Le concept d'utilisateurs gérés vous donne un plus grand contrôle sur ce point.

Le concept Utilisateurs gérés vous permet de définir quels utilisateurs peuvent gérer quels utilisateurs. La configuration se fait par le biais de groupes d'utilisateurs et d'adhésions à ces groupes. Un groupe d'utilisateurs peut être configuré pour être autorisé à gérer d'autres groupes d'utilisateurs à partir de l'interface utilisateur standard d'ajout et de mise à jour. L'effet est qu'un utilisateur spécifique peut gérer tous les utilisateurs membres de groupes d'utilisateurs qui peuvent être gérés par un groupe d'utilisateurs dont l'utilisateur est membre. En d'autres termes, les utilisateurs peuvent être gérés par tous les membres des groupes d'utilisateurs gérant les groupes d'utilisateurs dont ils sont membres.

Pour activer ce concept, vous devez accorder aux utilisateurs l'autorisation d'"Ajouter/mettre à jour des utilisateurs au sein des groupes gérés", et _ne pas_ accorder l'accès à l'autorisation standard "Ajouter/mettre à jour des utilisateurs". Le concept d'utilisateurs gérés implique que lorsque vous créez un utilisateur avec la fonction "Ajouter/mettre à jour des utilisateurs au sein de groupes gérés" uniquement, l'utilisateur doit être membre d'au moins un groupe d'utilisateurs que l'utilisateur actuel peut gérer. Dans le cas contraire, l'utilisateur actuel perdrait immédiatement l'accès à l'utilisateur en cours de création. Ceci est validé par le système.

Lorsque l'autorisation "Ajouter/mettre à jour des utilisateurs au sein de groupes gérés" est accordée, le système permet à un utilisateur d'ajouter des membres à des groupes d'utilisateurs auxquels il a un accès en lecture seule. L'objectif est de permettre une gestion décentralisée des utilisateurs. Vous pouvez définir une série de groupes d'utilisateurs dans lesquels d'autres utilisateurs peuvent ajouter ou supprimer des membres, mais pas supprimer ou modifier le nom du groupe.

## Exemple : gestion des utilisateurs dans un système sanitaire { #user_mgt_example }

Dans un système de santé, les utilisateurs sont logiquement regroupés en fonction de la tâche qu'ils accomplissent et du poste qu'ils occupent.

1.  Définissez quels utilisateurs devraient avoir le rôle d'administrateur du système. Ils font souvent partie de la division nationale du SIS et doivent avoir pleine autorité au sein du système.

2.  Créez plus ou moins un rôle d'utilisateur pour chaque poste.

Voici des exemples de positions courantes :

<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 21%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Fonction</p></th>
<th><p>Tâches habituelles</p></th>
<th><p>Autorités recommandées</p></th>
<th><p>Commentaire</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Administrateurs de système</p></td>
<td><p>Mettre en place la structure de base (métadonnées) du système.</p></td>
<td><p>Ajouter, mettre à jour et supprimer les éléments essentiels du système, par exemple les éléments de données, les indicateurs et les ensembles de données.</p></td>
<td>Seuls les administrateurs du système doivent modifier les métadonnées.
<p>Si vous autorisez des utilisateurs extérieurs à l'équipe d'administrateurs du système à modifier les métadonnées, cela peut entraîner des problèmes de coordination.</p>
<p>Les mises à jour du système ne doivent être effectuées que par les administrateurs du système.</p></td>
</tr>
<tr class="even">
<td><p>Responsables nationaux de la santé</p>
<p>Responsables de santé des provinces</p></td>
<td><p>Suivre et analyser les données</p></td>
<td><p>Accès au module de rapports, aux <strong>applications</strong>, <strong>SIG</strong> Qualité des données et au tableau de bord.</p></td>
<td><p>N'ont pas besoin d'accès pour entrer des données, modifier des éléments de données ou des ensembles de données.</p></td>
</tr>
<tr class="odd">
<td><p>Responsables des divisions du système national d'information sur la santé (HISO)</p>
<p>Agents chargés des dossiers et informations sanitaires des districts (DHRIO)</p>
<p>Agents chargés des dossiers et informations sanitaires des établissements (HRIO)</p></td>
<td><p>Saisir les données provenant d'établissements qui ne peuvent pas le faire directement</p>
<p>Suivre, évaluer et analyser les données</p></td>
<td><p>Accès à toutes les applications d'analyse et de validation</p>
<p>Accès à l' <strong>application</strong> Saisie de données.</p></td>
<td><p>-</p></td>
</tr>
<tr class="even">
<td><p>Commis à la saisie des données</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>

# Autorités des utilisateurs { #user_authorities }

<table>
<tbody>
<tr class="odd">
<td>Accepter les données à des niveaux inférieurs</td>
<td>F_ACCEPT_DATA_LOWER_LEVELS</td>
</tr>
<tr class="even">
<td>Accéder à mon entrepôt de données</td>
<td>F_MYDATAMART_VIEW</td>
</tr>
<tr class="odd">
<td>Ajouter un établissement</td>
<td>F_FRED_CREATE</td>
</tr>
<tr class="even">
<td>Ajouter un lieu</td>
<td>F_LOCALE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter un ensemble d'options</td>
<td>F_OPTIONSET_ADD</td>
</tr>
<tr class="even">
<td>Ajouter un ensemble de groupes d'unités d'organisation</td>
<td>F_ORGUNITGROUPSET_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter une règle de programme</td>
<td>F_PROGRAM_RULE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter une carte publique</td>
<td>F_MAP_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter un type de relation</td>
<td>F_RELATIONSHIPTYPE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Supprimer des membres dans les groupes d'utilisateurs en lecture seule</td>
<td>F_USER_GROUPS_READ_ONLY_ADD_MEMBERS</td>
</tr>
<tr class="odd">
<td>Ajouter une vue SQL</td>
<td>F_SQLVIEW_ADD</td>
</tr>
<tr class="even">
<td>Ajouter des entités suivies</td>
<td>F_TRACKED_ENTITY_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter une valeur d'attribut d'entité suivie</td>
<td>F_TRACKED_ENTITY_ATTRIBUTEVALUE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter un formulaire d'entité suivie</td>
<td>F_TRACKED_ENTITY_FORM_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter un commentaire sur l'instance d'entité suivie</td>
<td>F_TRACKED_ENTITY_COMMENT_ADD</td>
</tr>
<tr class="even">
<td>Ajouter une relation d'entité suivie</td>
<td>F_RELATIONSHIP_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/mettre à jour un attribut</td>
<td>F_ATTRIBUTE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/mettre à jour un graphique</td>
<td>F_CHART_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un concept</td>
<td>F_CONCEPT_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une constante</td>
<td>F_CONSTANT_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/mettre à jour une valeur de données</td>
<td>F_DATAVALUE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/mettre à jour un type d'indicateur</td>
<td>F_INDICATORTYPE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour la règle Min/max</td>
<td>F_DATAELEMENT_MINMAX_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une unité d'organisation</td>
<td>F_ORGANISATIONUNIT_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un groupe d'options de catégorie privée</td>
<td>F_CATEGORY_OPTION_GROUP_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un ensemble de groupes d'options de catégorie privée</td>
<td>F_CATEGORY_OPTION_GROUP_SET_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un élément de donnée privé</td>
<td>F_DATAELEMENT_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une catégorie d'élément de donnée privé</td>
<td>F_CATEGORY_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour une combinaison de catégories d'élément de donnée privé</td>
<td>F_CATEGORY_COMBO_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une option de catégorie d'élément de donnée privé</td>
<td>F_CATEGORY_OPTION_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour une combo d'options de catégorie d'élément de donnée privé</td>
<td>F_CATEGORY_OPTION_COMBO_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour des groupes d'éléments de données privés</td>
<td>F_DATAELEMENTGROUP_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour des ensembles de groupes d'éléments de données privés</td>
<td>F_DATAELEMENTGROUPSET_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un ensemble de données privé</td>
<td>F_DATASET_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un document privé</td>
<td>F_DOCUMENT_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un indicateur privé</td>
<td>F_INDICATOR_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un groupe d'indicateurs privés</td>
<td>F_INDICATORGROUP_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour des ensembles de groupes d'indicateurs privés</td>
<td>F_INDICATORGROUPSET_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un ensemble d'options privées</td>
<td>F_OPTIONSET_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un groupe d'unités d'organisations privées</td>
<td>F_ORGUNITGROUP_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un ensemble de groupes d'unités d'organisation privées</td>
<td>F_ORGUNITGROUPSET_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un programme privé</td>
<td>F_PROGRAM_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un rapport privé</td>
<td>F_REPORT_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une vue SQL privée</td>
<td>F_SQLVIEW_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un attribut d'entité privée suivie</td>
<td>F_TRACKED_ENTITY_ATTRIBUTE_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un groupe d'utilisateurs privés</td>
<td>F_USERGROUP_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour le rôle de l'utilisateur privé</td>
<td>F_USERROLE_PRIVATE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour le groupe de règles de validation privées</td>
<td>F_VALIDATIONRULEGROUP_PRIVATE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un attribut de programme</td>
<td>F_PROGRAM_ATTRIBUTE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un indicateur de programme</td>
<td>F_ADD_PROGRAM_INDICATOR</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour une étape du programme</td>
<td>F_PROGRAMSTAGE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une section de l'étape du programme</td>
<td>F_PROGRAMSTAGE_SECTION_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un groupe d'options de catégorie publique</td>
<td>F_CATEGORY_OPTION_GROUP_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/mettre à jour un ensemble de groupes d'options de catégorie publique</td>
<td>F_CATEGORY_OPTION_GROUP_SET_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un graphique public</td>
<td>F_CHART_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un tableau de bord public</td>
<td>F_DASHBOARD_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un élément de donnée publique</td>
<td>F_DATAELEMENT_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une catégorie d'élément de donnée publique</td>
<td>F_CATEGORY_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour une combo de catégories d'éléments de données publiques</td>
<td>F_CATEGORY_COMBO_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une option de catégorie d'élément de donnée publique</td>
<td>F_CATEGORY_OPTION_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour une option de catégorie d'élément de donnée publique</td>
<td>F_CATEGORY_OPTION_DELETE</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une combo d'options de catégorie d'élément de donnée publique</td>
<td>F_CATEGORY_OPTION_COMBO_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour des groupes d'éléments de données publiques</td>
<td>F_DATAELEMENTGROUP_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour des ensembles de groupes d'éléments de données publiques</td>
<td>F_DATAELEMENTGROUPSET_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un ensemble de données publiques</td>
<td>F_DATASET_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un document public</td>
<td>F_DOCUMENT_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un indicateur public</td>
<td>F_INDICATOR_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un groupe d'indicateurs publics</td>
<td>F_INDICATORGROUP_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour des ensembles de groupes d'indicateurs publics</td>
<td>F_INDICATORGROUPSET_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un ensemble d'options publiques</td>
<td>F_OPTIONSET_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un groupe d'unités d'organisation publiques</td>
<td>F_ORGUNITGROUP_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un ensemble de groupes d'unités d'organisation publiques</td>
<td>F_ORGUNITGROUPSET_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un programme public</td>
<td>F_PROGRAM_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un rapport public</td>
<td>F_REPORT_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un tableau de rapports publics</td>
<td>F_REPORTTABLE_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une vue SQL publique</td>
<td>F_SQLVIEW_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un attribut d'entité suivie publique</td>
<td>F_TRACKED_ENTITY_ATTRIBUTE_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un groupe d'utilisateurs publics</td>
<td>F_USERGROUP_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un rôle d'utilisateur public</td>
<td>F_USERROLE_PUBLIC_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un groupe de règles de validation publiques</td>
<td>F_VALIDATIONRULEGROUP_PUBLIC_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour une section</td>
<td>F_SECTION_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une entité suivie</td>
<td>F_TRACKED_ENTITY_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour des attributs d'entité suivie</td>
<td>F_ALLOW_EDIT_TRACKED_ENTITY_ATTRIBUTES</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une valeur de données d'entité suivie</td>
<td>F_TRACKED_ENTITY_DATAVALUE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour une instance d'entité suivie</td>
<td>F_TRACKED_ENTITY_INSTANCE_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un utilisateur</td>
<td>F_USER_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour un groupe d'utilisateurs gérant les relations</td>
<td>F_USERGROUP_MANAGING_RELATIONSHIPS_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour un utilisateur au sein du groupe géré</td>
<td>F_USER_ADD_WITHIN_MANAGED_GROUP</td>
</tr>
<tr class="odd">
<td>Ajouter/Mettre à jour des critères de validation</td>
<td>F_VALIDATIONCRITERIA_ADD</td>
</tr>
<tr class="even">
<td>Ajouter/Mettre à jour une règle de validation</td>
<td>F_VALIDATIONRULE_ADD</td>
</tr>
<tr class="odd">
<td>Ajouter des groupes de règles de validation</td>
<td>F_VALIDATIONRULEGROUP_ADD</td>
</tr>
<tr class="even">
<td>Gérer un entrepôt de données</td>
<td>F_DATAMART_ADMIN</td>
</tr>
<tr class="odd">
<td>Gérer un entrepôt de données</td>
<td>F_DATA_MART_ADMIN</td>
</tr>
<tr class="even">
<td>Gérer le visualiseur de données</td>
<td>F_DV_ADMIN</td>
</tr>
<tr class="odd">
<td>Gérer le SIG</td>
<td>F_GIS_ADMIN</td>
</tr>
<tr class="even">
<td>Approuver des données</td>
<td>F_APPROVE_DATA</td>
</tr>
<tr class="odd">
<td>Approuver des données aux niveaux inférieurs</td>
<td>F_APPROVE_DATA_LOWER_LEVELS</td>
</tr>
<tr class="even">
<td>Archiver des données</td>
<td>F_ARCHIVE_DATA</td>
</tr>
<tr class="odd">
<td>Modifier la configuration du SIG</td>
<td>F_GIS_CONFIGURATION_UPDATE</td>
</tr>
<tr class="even">
<td>Modifier le lieu de l'instance d'entité suivie</td>
<td>F_TRACKED_ENTITY_INSTANCE_CHANGE_LOCATION</td>
</tr>
<tr class="odd">
<td>Modifier l'ordre dans l'ensemble de données</td>
<td>F_DATASET_ORDER_CHANGE</td>
</tr>
<tr class="even">
<td>Modifier les paramètres du système</td>
<td>F_SYSTEM_SETTING</td>
</tr>
<tr class="odd">
<td>Modifier le lieu de l'instance d'entité suivie</td>
<td>F_TRACKED_ENTITY_CHANGE_LOCATION</td>
</tr>
<tr class="even">
<td>Accès externe aux graphiques</td>
<td>F_CHART_EXTERNAL</td>
</tr>
<tr class="odd">
<td>Gestion de concept</td>
<td>F_CONCEPT_MANAGEMENT</td>
</tr>
<tr class="even">
<td>Gestion de constante</td>
<td>F_CONSTANT_MANAGEMENT</td>
</tr>
<tr class="odd">
<td>Copier un élément Excel</td>
<td>F_COPY_EXCEL_ITEM_ADMINISTRATION</td>
</tr>
<tr class="even">
<td>Créer et télécharger une sauvegarde</td>
<td>F_DASHBOARD_DOWNLOAD_BACKUP</td>
</tr>
<tr class="odd">
<td>Verrouillage de l'administration des données</td>
<td>F_DATAADMIN_LOCK</td>
</tr>
<tr class="even">
<td>Déverrouillage de l'administration des données</td>
<td>F_DATAADMIN_UNLOCK</td>
</tr>
<tr class="odd">
<td>Supprimer un attribut</td>
<td>F_ATTRIBUTE_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un groupe d'options de catégorie</td>
<td>F_CATEGORY_OPTION_GROUP_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un ensemble de groupes d'options de catégorie</td>
<td>F_CATEGORY_OPTION_GROUP_SET_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un graphique</td>
<td>F_CHART_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un concept</td>
<td>F_CONCEPT_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer une constante</td>
<td>F_CONSTANT_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un élément de donnée</td>
<td>F_DATAELEMENT_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer une catégorie d'élément de donnée</td>
<td>F_CATEGORY_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer une combo de catégories d'élément de donnée</td>
<td>F_CATEGORY_COMBO_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer des groupes d'éléments de données</td>
<td>F_DATAELEMENTGROUP_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer des ensembles de groupes d'éléments de données</td>
<td>F_DATAELEMENTGROUPSET_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un ensemble de données</td>
<td>F_DATASET_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer une valeur de donnée</td>
<td>F_DATAVALUE_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un document</td>
<td>F_DOCUMENT_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un modèle Excel</td>
<td>F_EXCEL_TEMPLATE_MANAGEMENT_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un établissement</td>
<td>F_FRED_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un indicateur</td>
<td>F_INDICATOR_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un groupe d'indicateurs</td>
<td>F_INDICATORGROUP_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer des ensembles de groupes d'indicateurs</td>
<td>F_INDICATORGROUPSET_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un type d'indicateur</td>
<td>F_INDICATORTYPE_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un lieu</td>
<td>F_LOCALE_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer la règle Min/max</td>
<td>F_DATAELEMENT_MINMAX_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un ensemble d'options</td>
<td>F_OPTIONSET_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer une unité d'organisation</td>
<td>F_ORGANISATIONUNIT_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un groupe d'unités d'organisation</td>
<td>F_ORGUNITGROUP_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un ensemble de groupes d'unités d'organisation</td>
<td>F_ORGUNITGROUPSET_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un programme</td>
<td>F_PROGRAM_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un attribut de programme</td>
<td>F_PROGRAM_ATTRIBUTE_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer l'inscription au programme</td>
<td>F_PROGRAM_INSTANCE_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer une étape du programme</td>
<td>F_PROGRAMSTAGE_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer une section de l'étape du programme</td>
<td>F_PROGRAMSTAGE_SECTION_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un type de relation</td>
<td>F_RELATIONSHIPTYPE_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un rapport</td>
<td>F_REPORT_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un tableau de rapport</td>
<td>F_REPORTTABLE_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer une section</td>
<td>F_SECTION_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un SMS</td>
<td>F_MOBILE_DELETE_SMS</td>
</tr>
<tr class="odd">
<td>Supprimer une vue SQL</td>
<td>F_SQLVIEW_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer une entité suivie</td>
<td>F_TRACKED_ENTITY_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un attribut d'entité suivie</td>
<td>F_TRACKED_ENTITY_ATTRIBUTE_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer la valeur de l'attribut d'entité suivie</td>
<td>F_TRACKED_ENTITY_ATTRIBUTEVALUE_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer la valeur de données de l'entité suivie</td>
<td>F_TRACKED_ENTITY_DATAVALUE_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un formulaire d'entité suivie</td>
<td>F_TRACKED_ENTITY_FORM_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer une instance d'entité suivie</td>
<td>F_TRACKED_ENTITY_INSTANCE_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un commentaire sur l'instance d'entité suivie</td>
<td>F_TRACKED_ENTITY_COMMENT_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer une visite de l'instance d'entité suivie</td>
<td>F_PROGRAM_STAGE_INSTANCE_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer la relation d'une l'entité suivie</td>
<td>F_RELATIONSHIP_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un utilisateur</td>
<td>F_USER_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un groupe d'utilisateurs</td>
<td>F_USERGROUP_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer le rôle de l'utilisateur</td>
<td>F_USERROLE_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer un utilisateur au sein d'un groupe géré</td>
<td>F_USER_DELETE_WITHIN_MANAGED_GROUP</td>
</tr>
<tr class="odd">
<td>Supprimer des critères de validation</td>
<td>F_VALIDATIONCRITERIA_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer une règle de validation</td>
<td>F_VALIDATIONRULE_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer un groupe de règles de validation</td>
<td>F_VALIDATIONRULEGROUP_DELETE</td>
</tr>
<tr class="even">
<td>Supprimer les éléments de données en double</td>
<td>F_ELIMINATE_DUPLICATE_DATA_ELEMENTS</td>
</tr>
<tr class="odd">
<td>Administration des rapports Excel</td>
<td>F_EXCEL_REPORT_ADMINISTRATION</td>
</tr>
<tr class="even">
<td>Exécuter une vue SQL</td>
<td>F_SQLVIEW_EXECUTE</td>
</tr>
<tr class="odd">
<td>Exporter le plan d'activité vers le fichier XLS</td>
<td>F_ACTIVITY_PLAN_EXPORT</td>
</tr>
<tr class="even">
<td>Exporter des données</td>
<td>F_EXPORT_DATA</td>
</tr>
<tr class="odd">
<td>Exporter des événements</td>
<td>F_EXPORT_EVENTS</td>
</tr>
<tr class="even">
<td>Exporter des méta-données</td>
<td>F_METADATA_EXPORT</td>
</tr>
<tr class="odd">
<td>Générer des plans d'activités</td>
<td>F_GENERATE_ACTIVITY_PLANS</td>
</tr>
<tr class="even">
<td>Générer des valeurs min-max</td>
<td>F_GENERATE_MIN_MAX_VALUES</td>
</tr>
<tr class="odd">
<td>Produire un rapport statistique des programmes</td>
<td>F_GENERATE_STATISTICAL_PROGRAM_REPORT</td>
</tr>
<tr class="even">
<td>Produire un rapport de synthèse des programmes</td>
<td>F_GENERATE_PROGRAM_SUMMARY_REPORT</td>
</tr>
<tr class="odd">
<td>Produire un rapport tabulaire des entités suivies</td>
<td>F_GENERATE_BENEFICIARY_TABULAR_REPORT</td>
</tr>
<tr class="even">
<td>Importer des données</td>
<td>F_IMPORT_DATA</td>
</tr>
<tr class="odd">
<td>Importer des événements</td>
<td>F_IMPORT_EVENTS</td>
</tr>
<tr class="even">
<td>Importer à partir d'autres systèmes</td>
<td>F_IMPORT_OTHER_SYSTEMS</td>
</tr>
<tr class="odd">
<td>Importer un fichier GML</td>
<td>F_IMPORT_GML</td>
</tr>
<tr class="even">
<td>Importer des méta-données</td>
<td>F_METADATA_IMPORT</td>
</tr>
<tr class="odd">
<td>Insérer un script Java et une feuille de style CSS personnalisés</td>
<td>F_INSERT_CUSTOM_JS_CSS</td>
</tr>
<tr class="even">
<td>Lister les modèles Excel</td>
<td>F_EXCEL_TEMPLATE_MANAGEMENT_LIST</td>
</tr>
<tr class="odd">
<td>Lister les instances d'entité suivie</td>
<td>F_TRACKED_ENTITY_INSTANCE_LIST</td>
</tr>
<tr class="even">
<td>Lister les groupes d'utilisateurs</td>
<td>F_USERGROUP_LIST</td>
</tr>
<tr class="odd">
<td>Lister les rôles des utilisateurs</td>
<td>F_USERROLE_LIST</td>
</tr>
<tr class="even">
<td>Charger les messages de rappel des événements</td>
<td>F_PROGRAM_STAGE_INSTANCE_REMINDER</td>
</tr>
<tr class="odd">
<td>Charger l'historique de l'instance d'entité suivie</td>
<td>F_TRACKED_ENTITY_INSTANCE_HISTORY</td>
</tr>
<tr class="even">
<td>Verrouiller un ensemble de données</td>
<td>F_DATASET_LOCK</td>
</tr>
<tr class="odd">
<td>Gérer les voies d'intégration</td>
<td>F_MANAGE_INTEGRATION_ROUTES</td>
</tr>
<tr class="even">
<td>Gérer des indicateurs du programme</td>
<td>F_PROGRAM_INDICATOR_MANAGEMENT</td>
</tr>
<tr class="odd">
<td>Gérer la règle du programme</td>
<td>F_PROGRAM_RULE_MANAGEMENT</td>
</tr>
<tr class="even">
<td>Gérer des entités suivies</td>
<td>F_TRACKED_ENTITY_MANAGEMENT</td>
</tr>
<tr class="odd">
<td>Gérer les rappels des instances d'entité suivie</td>
<td>F_TRACKED_ENTITY_INSTANCE_REMINDER_MANAGEMENT</td>
</tr>
<tr class="even">
<td>Accès externe à la cartes</td>
<td>F_MAP_EXTERNAL</td>
</tr>
<tr class="odd">
<td>Fusionner des unités d'organisation</td>
<td>F_MERGE_ORGANISATION_UNITS</td>
</tr>
<tr class="even">
<td>Déplacer une unité d'organisation</td>
<td>F_ORGANISATIONUNIT_MOVE</td>
</tr>
<tr class="odd">
<td>Saisie de données individuelles multiples</td>
<td>F_NAME_BASED_DATA_ENTRY</td>
</tr>
<tr class="even">
<td>Gestion des ensembles d'options</td>
<td>F_OPTIONSET_MANAGEMENT</td>
</tr>
<tr class="odd">
<td>Enregistrement d'une unité d'organisation</td>
<td>F_ORGANISATION_REGISTRATION</td>
</tr>
<tr class="even">
<td>Effectuer des tâches de maintenance</td>
<td>F_PERFORM_MAINTENANCE</td>
</tr>
<tr class="odd">
<td>Inscription au programme</td>
<td>F_PROGRAM_ENROLLMENT</td>
</tr>
<tr class="even">
<td>Gestion des événements du programme</td>
<td>F_PROGRAM_INSTANCE_MANAGEMENT</td>
</tr>
<tr class="odd">
<td>Gestion des sections d'une étape du programme</td>
<td>F_PROGRAMSTAGE_SECTION_MANAGEMENT</td>
</tr>
<tr class="even">
<td>Gestion du suivi des programmes</td>
<td>F_PROGRAM_TRACKING_MANAGEMENT</td>
</tr>
<tr class="odd">
<td>Désinscription au programme</td>
<td>F_PROGRAM_UNENROLLMENT</td>
</tr>
<tr class="even">
<td>Réduire la taille des unités d'organisation</td>
<td>F_PRUNE_ORGANISATION_UNITS</td>
</tr>
<tr class="odd">
<td>Supprimer les événements des entités suivies vides</td>
<td>F_TRACKED_ENTITY_REMOVE_EMPTY_EVENTS</td>
</tr>
<tr class="even">
<td>Renommer le fichier modèle Excel</td>
<td>F_EXCEL_TEMPLATE_MANAGEMENT_RENAME</td>
</tr>
<tr class="odd">
<td>Accès externe au tableau des rapports</td>
<td>F_REPORTTABLE_EXTERNAL</td>
</tr>
<tr class="even">
<td>Excuter la validation</td>
<td>F_RUN_VALIDATION</td>
</tr>
<tr class="odd">
<td>Administration de la planification</td>
<td>F_SCHEDULING_ADMIN</td>
</tr>
<tr class="even">
<td>Programmation du générateur de requêtes agrégées</td>
<td>F_SCHEDULING_CASE_AGGREGATE_QUERY_BUILDER</td>
</tr>
<tr class="odd">
<td>Planification de l'envoi des messages</td>
<td>F_SCHEDULING_SEND_MESSAGE</td>
</tr>
<tr class="even">
<td>Recherche d'un plan d'activités</td>
<td>F_ACTIVITY_PLAN</td>
</tr>
<tr class="odd">
<td>Recherche d'événements sans inscription</td>
<td>F_PROGRAM_STAGE_INSTANCE_SEARCH</td>
</tr>
<tr class="even">
<td>Recherche d'un événement avec inscription</td>
<td>F_PROGRAM_TRACKING_SEARCH</td>
</tr>
<tr class="odd">
<td>Recherche d'une instance d'entité suivie</td>
<td>F_TRACKED_ENTITY_INSTANCE_SEARCH</td>
</tr>
<tr class="even">
<td>Recherche d'instances d'entité suivie dans toutes les unités d'organisation</td>
<td>F_TRACKED_ENTITY_INSTANCE_SEARCH_IN_ALL_ORGUNITS</td>
</tr>
<tr class="odd">
<td>Voir le module API</td>
<td>M_dhis-web-api</td>
</tr>
<tr class="even">
<td>Voir le module Application Maintenance</td>
<td>M_dhis-web-maintenance-appmanager</td>
</tr>
<tr class="odd">
<td>Voir le module Nettoyeur de cache du navigateur</td>
<td>M_dhis-web-cache-cleaner</td>
</tr>
<tr class="even">
<td>Voir le module Intégration du tableau de bord</td>
<td>M_dhis-web-dashboard-integration</td>
</tr>
<tr class="odd">
<td>Voir le module Tableau de bord</td>
<td>M_dhis-web-dashboard</td>
</tr>
<tr class="even">
<td>Voir le module Administration de données</td>
<td>M_dhis-web-maintenance-dataadmin</td>
</tr>
<tr class="odd">
<td>Voir le module Maintenance des éléments de données et des indicateurs</td>
<td>M_dhis-web-maintenance-datadictionary</td>
</tr>
<tr class="even">
<td>Voir le module Saisie de données</td>
<td>M_dhis-web-dataentry</td>
</tr>
<tr class="odd">
<td>Voir le module Entrepôt de données</td>
<td>M_dhis-web-datamart</td>
</tr>
<tr class="even">
<td>Voir le module Maintenance des ensembles de données</td>
<td>M_dhis-web-maintenance-dataset</td>
</tr>
<tr class="odd">
<td>Voir le module Visualiseur de données</td>
<td>M_dhis-web-visualizer</td>
</tr>
<tr class="even">
<td>Voir le module Saisie d'événements</td>
<td>M_dhis-web-event-capture</td>
</tr>
<tr class="odd">
<td>Voir le module Rapports d'événements</td>
<td>M_dhis-web-event-reports</td>
</tr>
<tr class="even">
<td>Voir le module Visualiseur d'événements</td>
<td>M_dhis-web-event-visualizer</td>
</tr>
<tr class="odd">
<td>Voir le module Rapport Excel</td>
<td>M_dhis-web-excel-reporting</td>
</tr>
<tr class="even">
<td>Voir le module Exporter un entrepôt de données</td>
<td>M_dhis-web-exportdatamart</td>
</tr>
<tr class="odd">
<td>Voir le module API FRED</td>
<td>M_dhis-web-api-fred</td>
</tr>
<tr class="even">
<td>Voir le module SIG</td>
<td>M_dhis-web-gis</td>
</tr>
<tr class="odd">
<td>Voir le module SIG</td>
<td>M_dhis-web-mapping</td>
</tr>
<tr class="even">
<td>Voir le module Import-Export</td>
<td>M_dhis-web-importexport</td>
</tr>
<tr class="odd">
<td>Voir les dossiers individuels</td>
<td>M_dhis-web-caseentry</td>
</tr>
<tr class="even">
<td>Voir le module Light</td>
<td>M_dhis-web-light</td>
</tr>
<tr class="odd">
<td>Voir le module Saisie de données des listes sommaires</td>
<td>M_dhis-web-dataentry-national</td>
</tr>
<tr class="even">
<td>Voir le module Maintenance mobile</td>
<td>M_dhis-web-maintenance-mobile</td>
</tr>
<tr class="odd">
<td>Voir le module Rapports NRHM</td>
<td>M_dhis-web-reports</td>
</tr>
<tr class="even">
<td>Voir le module Maintenance des unités d'organisation</td>
<td>M_dhis-web-maintenance-organisationunit</td>
</tr>
<tr class="odd">
<td>Voir le module Tableau croisé dynamique</td>
<td>M_dhis-web-pivot</td>
</tr>
<tr class="even">
<td>Voir le module Rapport</td>
<td>M_dhis-web-reporting</td>
</tr>
<tr class="odd">
<td>Voir le module Maintenance des paramètres</td>
<td>M_dhis-web-maintenance-settings</td>
</tr>
<tr class="even">
<td>Voir le module Smartphone</td>
<td>M_dhis-web-mobile</td>
</tr>
<tr class="odd">
<td>Voir le module SMS</td>
<td>M_dhis-web-sms</td>
</tr>
<tr class="even">
<td>Voir le module Entité suivie et programmes</td>
<td>M_dhis-web-maintenance-program</td>
</tr>
<tr class="odd">
<td>Voir le module Saisie Tracker</td>
<td>M_dhis-web-tracker-capture</td>
</tr>
<tr class="even">
<td>Voir le module Maintenance des utilisateurs</td>
<td>M_dhis-web-maintenance-user</td>
</tr>
<tr class="odd">
<td>Voir le module Analyse de validation</td>
<td>M_dhis-web-validationrule-local-in</td>
</tr>
<tr class="even">
<td>Voir le module Règle de validation</td>
<td>M_dhis-web-validationrule</td>
</tr>
<tr class="odd">
<td>Envoyer un message</td>
<td>F_SEND_MESSAGE</td>
</tr>
<tr class="even">
<td>Envoyer un SMS</td>
<td>F_MOBILE_SENDSMS</td>
</tr>
<tr class="odd">
<td>Définir le paramètre mobile</td>
<td>F_MOBILE_SETTINGS</td>
</tr>
<tr class="even">
<td>Événement unique sans saisie de données d'inscription</td>
<td>F_ANONYMOUS_DATA_ENTRY</td>
</tr>
<tr class="odd">
<td>Événement unique avec saisie de données d'inscription</td>
<td>F_SINGLE_EVENT_DATA_ENTRY</td>
</tr>
<tr class="even">
<td>Accès externe à la vue Sql</td>
<td>F_SQLVIEW_EXTERNAL</td>
</tr>
<tr class="odd">
<td>Gestion de la vue Sql</td>
<td>F_SQLVIEW_MANAGEMENT</td>
</tr>
<tr class="even">
<td>Agrégation des entités suivies</td>
<td>F_TRACKED_ENTITY_AGGREGATION</td>
</tr>
<tr class="odd">
<td>Gestion des formulaires d'entités suivies</td>
<td>F_TRACKED_ENTITY_FORM_MANAGEMENT</td>
</tr>
<tr class="even">
<td>Tableau de bord des instances d'entité suivie</td>
<td>F_TRACKED_ENTITY_INSTANCE_DASHBOARD</td>
</tr>
<tr class="odd">
<td>Gestion des instances d'entité suivie</td>
<td>F_TRACKED_ENTITY_INSTANCE_MANAGEMENT</td>
</tr>
<tr class="even">
<td>Gestion des relations des entités suivies</td>
<td>F_RELATIONSHIP_MANAGEMENT</td>
</tr>
<tr class="odd">
<td>Mettre à jour un établissement</td>
<td>F_FRED_UPDATE</td>
</tr>
<tr class="even">
<td>Mettre à jour un niveau d'unité d'organisation</td>
<td>F_ORGANISATIONUNITLEVEL_UPDATE</td>
</tr>
<tr class="odd">
<td>Mettre à jour une règle de programme</td>
<td>F_PROGRAM_RULE_UPDATE</td>
</tr>
<tr class="even">
<td>Mettre à jour le type de relation</td>
<td>F_RELATIONSHIPTYPE_UPDATE</td>
</tr>
<tr class="odd">
<td>Mettre à jour des entités suivies</td>
<td>F_TRACKED_ENTITY_UPDATE</td>
</tr>
<tr class="even">
<td>Mettre à jour l'attribut de l'entité suivie</td>
<td>F_TRACKED_ENTITY_ATTRIBUTE_EDIT</td>
</tr>
<tr class="odd">
<td>Téléverser un modèle Excel</td>
<td>F_EXCEL_TEMPLATE_MAMAGEMENT_UPLOAD</td>
</tr>
<tr class="even">
<td>Afficher et rechercher les attributs et les identificateurs des entités suivies</td>
<td>F_ACCESS_TRACKED_ENTITY_ATTRIBUTES</td>
</tr>
<tr class="odd">
<td>Afficher le navigateur de données</td>
<td>F_VIEW_DATABROWSER</td>
</tr>
<tr class="even">
<td>Consulter le rapport d'exhaustivité de l'étape du programme</td>
<td>F_PROGRAM_STAGE_COMPLETENESS</td>
</tr>
<tr class="odd">
<td>Afficher le suivi des programmes</td>
<td>F_PROGRAM_TRACKING_LIST</td>
</tr>
<tr class="even">
<td>Consulter le rapport</td>
<td>F_REPORT_VIEW</td>
</tr>
<tr class="odd">
<td>Voir l'attribut d'entité suivie</td>
<td>F_TRACKED_ENTITY_ATTRIBUTE_VIEW</td>
</tr>
<tr class="even">
<td>Consulter les données non approuvées</td>
<td>F_VIEW_UNAPPROVED_DATA</td>
</tr>
<tr class="odd">
<td>Afficher l'utilisateur</td>
<td>F_USER_VIEW</td>
</tr>
<tr class="even">
<td>Afficher le groupe d'utilisateurs gérant les relations</td>
<td>F_USERGROUP_MANAGING_RELATIONSHIPS_VIEW</td>
</tr>
<tr class="odd">
<td>Afficher l'utilisateur au sein d'un groupe géré</td>
<td>F_USER_VIEW_WITHIN_MANAGED_GROUP</td>
</tr>
<tr class="even">
<td>Supprimer une instance d'entité suivie ainsi que les inscriptions et événements associés</td>
<td>F_TEI_CASCADE_DELETE</td>
</tr>
<tr class="odd">
<td>Supprimer une inscription et l'événement associé</td>
<td>F_ENROLLMENT_CASCADE_DELETE</td>
</tr>
<tr class="even">
<td>Modifier des données expirées</td>
<td>F_EDIT_EXPIRED</td>
</tr>
</tbody>
</table>

# À propos du partage d'objets { #sharing }

Ce chapitre traite de la fonction de partage des entités dans le DHIS2.

## Partage d'objets { #sharing-of-objects }

De nombreux objets dans le DHIS2, comme les rapports, les graphiques, les cartes et les indicateurs, peuvent être partagés. Le système DHIS2 permet le partage de métadonnées ou de données. Le partage des métadonnées consiste à rendre un objet, comme un rapport, disponible pour lecture ou modification à un groupe d'utilisateurs ou à tout le monde. Le partage des données  consiste à mettre à la disposition des autres les données réelles saisies et contrôler qui peut saisir ce type de données. Par exemple, pour les rapports, le dialogue de partage peut être ouvert en cliquant sur le bouton "Paramètres de partage" à côté de chaque rapport dans la liste. Les responsables de la mise en œuvre peuvent utiliser cette fonction pour permettre l'accès à certains objets à certains groupes d'utilisateurs seulement. Les utilisateurs peuvent utiliser cette fonction pour décider avec qui ils souhaitent partager des objets (des tableaux croisés dynamiques, des graphiques, des tableaux de bord, etc.).

Si le partage est pris en charge pour une catégorie particulière d'objets, un dialogue appelé "Paramètres de partage" sera disponible, généralement en cliquant sur le nom de l'objet ou dans les outils d'analyse, par le biais d'une icône (Partager avec d'autres personnes). Une fois que vous aurez accédé aux paramètres de partage pour l'objet que vous souhaitez partager, une boîte de dialogue similaire à celle ci-dessous s'affiche.

![](resources/images/maintainence/mtn_sharing_dialog.png)

Vous pouvez partager votre rapport avec tout le monde ou avec un certain nombre de groupes d'utilisateurs. Vous pouvez activer un "accès externe" pour permettre le partage de cette ressource avec tout le monde, y compris les utilisateurs qui ne peuvent pas se connecter au DHIS2. Cette activation est utile pour partager des ressources publiques avec des systèmes externes. Notez que si les objets sont partagés en externe, ils deviennent alors visibles par toute personne ayant accès à l'URL qui fournit la ressource sans aucune référence de connexion.

À côté de "Accès public", vous pouvez choisir votre option d'accès public sous "MÉTADONNÉES " : "Pas d'accès", "Peut uniquement consulter" ou "Peut modifier et consulter", et sous "DONNÉES" : "Aucun accès", "Peut visualiser les données", "Peut saisir les données". L'accès public fait référence aux utilisateurs qui sont connectés au système. L'édition implique également la suppression du rapport.

Pour partager avec un groupe, il suffit de commencer à entrer le nom du groupe et le champ de saisie "Recherche de groupes d'utilisateurs" et de sélectionner le groupe souhaité. Cliquez sur l'icône "+" à côté du champ de saisie pour partager avec ce groupe. Pour chaque groupe, vous pouvez définir une option d'accès, similaire à l'accès public.

Le partage avec un groupe d'utilisateurs implique que tous les utilisateurs de ce groupe auront accès à l'objet partagé. Pour créer un groupe d'utilisateurs, vous pouvez vous rendre dans le module "Tableau de bord" et cliquer sur "Groupes". Cela vous mènera à la liste des groupes où vous pourrez cliquer sur "Ajouter nouveau" dans le coin supérieur droit. Tout le monde peut créer des groupes d'utilisateurs à partir du module "Tableau de bord".

## Partage des métadonnées et contrôle d'accès { #metadata-sharing-and-access-control }

Les objets supportant le partage des métadonnées sont l'indicateur, le groupe d'indicateurs, l'ensemble de groupes d'indicateurs, le dictionnaire de données, l'ensemble de données, le programme, le rapport standard, la ressource, le tableau de rapport, le graphique, la carte et le groupe d'utilisateurs. Parmi ces objets, le tableau de rapport, le graphique, la carte et le groupe d'utilisateurs sont ouverts à tous et peuvent être créés en privé. Privé signifie que les objets ne sont disponibles que pour vous-même ou potentiellement pour un certain nombre de groupes d'utilisateurs si vous choisissez de partager l'objet. Ces objets sont appelés objets "ouverts" et peuvent être créés par tous les utilisateurs. Les autres objets, appelés objets "non ouverts", nécessitent que votre compte d'utilisateur soit habilité à les créer.

Un utilisateur peut avoir l'autorisation de créer des objets accessibles au public ou des objets accessibles à titre privé. Afin de créer un objet accessible au public (consultable ou modifiable par n'importe qui), votre compte d'utilisateur doit être habilité à le faire. Par exemple, pour créer une carte accessible au public, votre utilisateur doit avoir l'autorisation "Créer une carte publique". L'autorisation de créer des objets privés s'applique uniquement aux objets non ouverts. Par exemple, pour permettre à un utilisateur de créer des indicateurs qui ne seront accessibles qu'à cet utilisateur et non à tous, l'utilisateur peut se voir attribuer l'autorisation "Créer un indicateur privé".

Partager un objet non ouvert avec une autre personne et permettre à cette dernière de le modifier nécessite que le compte utilisateur de cette personne ait l'autorisation de mettre à jour ce type d'objets. Par exemple, si vous souhaitez laisser une autre personne modifier votre indicateur, le compte utilisateur de cette personne doit disposer de l'autorisation "Indicateur de mise à jour". Cela ne s'applique pas aux objets ouverts.

Lorsque vous créez un nouvel objet, il devient automatiquement visible par tous si votre compte d'utilisateur est habilité à créer des objets publics. Par exemple, si vous créez un rapport standard et que vous disposez de l'autorisation "Créer un rapport standard public", le rapport deviendra visible pour tout le monde. Si vous ne disposez pas de cette autorisation, le rapport ne sera visible que par vous. Une fois que vous avez créé un objet, vous pouvez, à partir de la boîte de dialogue "Paramètres de partage", définir le niveau de contrôle d'accès souhaité.

Si vous avez besoin d'un compte d'utilisateur pouvant visualiser absolument tous les objets, vous pouvez créer un rôle d'utilisateur avec l'autorité "TOUT" et attribuer un utilisateur à ce rôle. Si vous devez passer d'une vue "complète" des objets à une vue "personnelle" des objets, il est recommandé de créer deux comptes d'utilisateur, l'un avec l'autorité "TOUT" et l'autre sans.

## Application du partage des métadonnées { #metadata-sharing-applied }

La fonctionnalité de partage des métadonnées est utile dans plusieurs cas de figure. L'un des cas d'utilisation est la mise en place d'une instance DHIS2 pour une organisation mondiale opérant dans plusieurs pays. En général, l'organisation dispose d'un ensemble de données, d'indicateurs et de rapports mondiaux qui doivent s'appliquer à tous les pays, tandis que chaque pays aura besoin d'ensembles de données, d'indicateurs et de rapports spécifiques. Dans ce scénario, l'approche suivante pourrait fonctionner :

-   Créez un groupe d'utilisateurs pour le personnel mondial.

-   Créez un groupe d'utilisateurs pour le personnel dans chaque pays.

-   Créez des ensembles de données et des rapports globaux, rendez les visibles pour tous et modifiables uniquement pour le groupe d'utilisateurs mondial.

-   Créer des ensembles de données et des rapports spécifiques aux pays, les rendre visibles et modifiables pour le groupe d'utilisateurs nationaux et le groupe d'utilisateurs mondiaux uniquement.

Ce faisant, les indicateurs et les rapports mondiaux pourraient être consultés et analysés par tout le monde, mais gérés uniquement par le groupe d'utilisateurs mondiaux. Les ensembles de données, les indicateurs et les rapports spécifiques à chaque pays pourraient être consultés et mis à jour par le personnel du pays et du monde entier, sans être visibles ou avoir un impact sur le système pour les autres pays de l'organisation.

Une approche similaire pourrait fonctionner pour un scénario impliquant un donateur, de multiples organismes de financement et des partenaires de mise en œuvre dans un pays, où des groupes d'utilisateurs pourraient être mis en place pour chacune de ces entités. Ainsi, chaque partenaire de mise en œuvre pourrait créer et partager ses rapports au sein de son organisation sans affecter ou permettre l'accès aux autres. Les rapports pourraient également être partagés avec les superviseurs et les organismes de financement à la fin des périodes de référence.

Un autre cas d'utilisation est celui impliquant un ministère de la santé d'un pays ayant plusieurs programmes en matière de santé. En général, il est nécessaire de disposer de rapports et de tableaux généraux pour le ministère tout en permettant aux programmes de santé d'élaborer des rapports et des tableaux spécifiques à usage interne. Cela peut être réalisé en créant des groupes d'utilisateurs pour chaque programme de santé. Par la suite, lors de l'élaboration des rapports et des tableaux, ceux-ci peuvent être rendus visibles et modifiables uniquement pour le groupe d'utilisateurs du programme. De cette façon, les rapports ne seront pas visibles pour les autres programmes et utilisateurs. L'avantage ici c'est que les rapports sont conservés en interne dans le programme et parce que la liste visible des rapports des autres utilisateurs est plus courte et plus pertinente.

## Partage de données et contrôle d'accès { #data-sharing-and-access-control }

Les objets suivants supportent le partage des données : l'ensemble de données, le type d'entité suivie, le programme et l'étape du programme. L'objectif du partage des données est de contrôler quels utilisateurs peuvent saisir des données et quels utilisateurs peuvent voir les données saisies.

### Partage de données pour les programmes basés sur des événements { #data-sharing-for-event-based-programs }

Cette option s'applique aux types d'objets du type d'entité suivie, du programme et de l'étape du programme. Lorsqu'un utilisateur travaille avec des programmes d'événements individuels dans l'application Saisie d'événements, il devra disposer du niveau de partage "DONNÉES : Peut consulter les données" pour voir le programme et ses données. Sans ce niveau de partage, le programme et ses données ne seront pas visibles pour l'utilisateur. Lorsque l'utilisateur travaille avec des programmes Tracker dans la Saisie d'événements, il devra également disoposer du niveau de partage "DONNÉES : Peut consulter les données" pour voir le programme et le type d'entité suivie. Dans le cas d'un programme Tracker, l'utilisateur devra également disposer de "DONNÉES : Peux consulter les données" à chaque étape du programme individuellement pour pouvoir voir les données dans le programme. Pour saisir les données, l'utilisateur a besoin du niveau de partage "DONNÉES : Peut saisir des données".

> **N.B.**
>
> Pour consulter et saisir les données pour un programme, l'utilisateur saisissant les données doit également faire un rapport pour le compte d'une unité d'organisation à laquelle le programme a été affecté.

<table>
<caption>Partage de données pour les programmes Tracker</caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 30%" />
<col style="width: 30%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="header">
<th>Type d'objet</th>
<th>Peut visualiser les données</th>
<th>Peut saisir des données</th>
<th>Commentaire</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Type d'entité suivie</strong></p></td>
<td><ul>
<li><p>Recherche d'entités suivies à partir de ce type d'entité suivie.</p></li>
<li><p>Visualiser les valeurs des attributs du type d'entité suivie pour ce type d'entité suivie.</p></li>
</ul></td>
<td><ul>
<li><p>Modifier les attributs visibles d'entité suivie pour les instances d'entité suivie de ce type.</p></li>
<li><p>Enregistrer/créer de nouvelles instances d'entité suivie de ce type.</p></li>
<li><p>Supprimer les instances d'entité suivie de ce type.</p></li>
<li><p>Désactiver/réactiver les instances d'entité suivie de ce type.</p></li>
</ul></td>
<td></td>
</tr>
<tr class="even">
<td><p><strong>Programme</strong></p></td>
<td><ul>
<li><p>Rechercher des entités suivies dans le cadre de ce programme.</p></li>
<li><p>Visualiser les attributs d'entité suivie spécifiques à ce programme.</p></li>
<li><p>Voir les détails de l'inscription au programme.</p></li>
<li><p>Voir les notes relatives à l'inscription.</p></li>
</ul></td>
<td><ul>
<li><p>S'inscrire au programme.</p></li>
<li><p>Modifier les détails de l'inscription au programme.</p></li>
<li><p>Terminer/rouvrir les inscriptions au programme.</p></li>
<li><p>Ajouter des notes pour le programme.</p></li>
<li><p>Modifier les relations pour le programme.</p></li>
<li><p>Envoyer un message à l'instance d'entité suivie.</p></li>
<li><p>Supprimer les inscriptions au programme.</p></li>
</ul></td>
<td><p>&quot;Peut visualiser les données&quot; et &quot;Peut saisir des données&quot; exigent également que l'utilisateur ait &quot;Peut visualiser les données&quot; pour le type d'entité suivie.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Étape du programme</strong></p></td>
<td><ul>
<li><p>Voir l'étape du programme et ses événements ainsi que les données dans le cadre d'une inscription.</p></li>
<li><p>Voir les notes relatves à l'étape du programme.</p></li>
</ul></td>
<td><ul>
<li><p>Ajouter/planifier/référer un nouvel événement dans le cadre du programme.</p></li>
<li><p>Terminer/ouvrir les événements dans le cadre du programme.</p></li>
<li><p>Modifier les valeurs des données d'entité suivie dans le cadre d'événements de l'étape du programme.</p></li>
<li><p>Ajouter des notes pour les événements de l'étape du programme.</p></li>
<li><p>Supprimer des événements de l'étape du programme.</p></li>
</ul></td>
<td><p>&quot;Peut visualiser les données&quot; et &quot;Peut saisir des données&quot; exigent également que l'utilisateur ait &quot;Peut visualiser les données&quot;pour le programme et le type d'entité suivie.</p></td>
</tr>
</tbody>
</table>

<table>
<caption>Partage de données pour les programmes d'événements uniques</caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 30%" />
<col style="width: 30%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="header">
<th>Type d'objet</th>
<th>Peut visualiser les données</th>
<th>Peut saisir des données</th>
<th>Commentaire</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Programme</strong></p></td>
<td><ul>
<li><p>Voir la liste des événements dans le programme.</p></li>
<li><p>Voir les valeurs des données des entités suivies pour les événements du programme.</p></li>
</ul></td>
<td><ul>
<li><p>Ajouter de nouveaux événements au programme.</p></li>
<li><p>Modifier les données pour les événements dans le programme.</p></li>
<li><p>Supprimer des événements du programme.</p></li>
</ul></td>
<td></td>
</tr>
</tbody>
</table>

### Partage des données pour les ensembles de données { #data-sharing-for-data-sets }

S'applique aux types d'objets de l'ensemble de données et à l'option de catégorie . Lorsque l'utilisateur travaille dans l'application Saisie de données, il doit disposer de "DONNEES : peut saisir des données" pour voir et saisir les données dans l'ensemble de données. Pour enregistrer des données pour un champ de saisie dans Ensemble de données, les utilisateurs doivent disposer de :

1.  Autorisation : F_DATAVALUE_ADD (Peut ajouter des valeurs de données )

2.  L'ensemble de données est partagé avec "Données : Peut saisir des données".

3.  L'élément de données est partagé avec les "Métadonnées" : Peut consulter".

4.  Toutes les Options de catégorie utilisées par l'Ensemble de données sélectionné sont partagées avec "Données : Peut saisir des données".

> **N.B.**
>
> Pour consulter et saisir les données pour un ensemble de données, l'utilisateur saisissant les données doit également faire un rapport pour le compte d'une unité d'organisation à laquelle l'ensemble de données a été affecté.

<table>
<caption>Partage des données pour les ensembles de données</caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 30%" />
<col style="width: 30%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="header">
<th>Type d'objet</th>
<th>Peut visualiser les données</th>
<th>Peut saisir des données</th>
<th>Commentaire</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Ensemble de données</strong></p></td>
<td><ul>
<li><p>Visualiser les données de l'ensemble de données dans Analytics</p></li>
</ul></td>
<td><ul>
<li><p>Peut visualiser l'ensemble des données dans l'application Saisie de données</p></li>
<li><p>Peut sauvegarder les données pour l'ensemble de données en utilisant l'API</p></li>
</ul></td>
<td><p>Pour sauvegarder la valeur des données dans l'application de saisie de données, les utilisateurs ont également besoin de &quot;Peut saisir des données&quot ; pour les options de catégorie dans l'ensemble de données sélectionné.</p></td>
</tr>
<tr class="even">
<td><strong>Option de catégorie</strong></td>
<td><ul>
<li><p>Peut visualiser les valeurs de données appartenant à l'option de catégorie partagée dans l'analyse</p></li>
</ul></td>
<td><ul>
<li><p>Peut sauvegarder les valeurs de données pour les champs de saisie dans l'application Saisie de données appartenant aux options de catégories partagées.</p></li>
</ul></td>
<td>Pour que la Combo d'options de catégorie et la Combo d'options d'attribut soient accessibles en écriture, toutes les Options de category doivent être partagées avec &quot;Peut saisir des données&quot ;.</td>
</tr>
</tbody>
</table>

# Configurer l'application Maps { #gis_creating }

## Contexte { #gis_creating_context }

Pour configurer les Cartes, il suffit de stocker dans la base de données les coordonnées des unités d'organisation que vous souhaitez faire apparaître sur la carte. Les coordonnées sont souvent distribuées en formats propriétaires et devront être converties dans un format compréhensible par DHIS2. Les shapefiles ESRI sont le format de données vectorielles géospatiales le plus courant pour les applications de bureau. Vous pouvez trouver les shapefiles pour votre pays [ici](http://www.diva-gis.org/gdata) ou dans de nombreux autres référentiels de données géospatiales sur le web. Un travail préalable doit être effectué pour pouvoir utiliser ces coordonnées dans le SIG de DHIS2, à savoir transformer les données dans un format approprié et s'assurer que le nom contenu dans les données géospatiales correspond exactement aux noms des unités de l'organisation auxquelles elles doivent correspondre.

Seules les unités d'organisation avec des types de géométrie POINT peuvent être éditées par l'application de maintenance à ce moment. Pour modifier les géométries POLYGON, veuillez utiliser la fonction d'importation GML.

Pour modifier les coordonnées du POINT d'une unité d'organisation, ouvrez l'application de maintenance et naviguez jusqu'à la section Unité d'organisation. Cliquez sur l'unité d'organisation que vous souhaitez visualiser ou modifier, vous pouvez rechercher ou filtrer la liste dans la partie gauche de l'écran. Une fois qu'une unité d'organisation est sélectionnée, vous pouvez modifier les valeurs de **Latitude** et de **Longitude** pour mettre à jour les coordonnées des POINTS. Si l'unité organisationnelle a une géométrie de type  POLYGON, les coordonnées ne peuvent pas être modifiées.

Si vous allez ajouter ou mettre à jour les coordonnées d'un grand nombre d'unités, ou si vous devez mettre à jour des géométries de polygone, vous devez utiliser l'importation GML automatique. La section suivante explique comment effectuer une importation GML.

> **.B.**
>
> Le seul système de référence de coordonnées pris en charge par DHIS2 est l'EPSG:4326, également connu sous le nom de longitude/latitude géographique. Les coordonnées doivent être stockées avec la longitude (position est/ouest) précédant la latitude (position nord/sud). Si vos données vectorielles se trouvent dans un SIR différent de l'EPSG 4326, vous devrez d'abord re-projeter les données avant de les importer dans DHIS2.

## Importation de coordonnées { #gis_creating_setup }

Étape 1 - Simplifier/généraliser vos données géographiques

Les limites des fichiers de données géographiques sont généralement très précises, trop grandes pour les besoins d'un SIG basé sur le web. Cela n'affecte généralement pas les performances lors de l'utilisation de fichiers SIG sur un système local, mais il est généralement nécessaire d'optimiser les données géographiques pour le système SIG basé sur le web du DHIS2. Toutes les données géographiques doivent être téléchargées du serveur et rendues dans un navigateur. De ce fait, si les données sont trop complexes, la performance du SIG de DHIS2 sera négativement affectée. Ce processus d'optimisation peut être décrit comme suit :

Coordonnées : Le nombre de chiffres décimaux significatifs (par exemple 23.02937874993774) doit être réduit à un nombre inférieur de chiffres (par exemple 23.03). Bien que cela entraîne certaines inexactitudes sur la carte, étant donné l'échelle habituelle à laquelle les cartes dans le DHIS2 sont produites (\> 1:50.000), la perte de précision ne devrait pas être perceptible. Normalement, il ne devrait pas y avoir plus de quatre chiffres significatifs après la virgule. Polygones : en plus de raccourcir le nombre de chiffres significatifs, le nombre réel de points devrait également être réduit à un niveau optimal. Trouver ce niveau optimal peut nécessiter un peu d'expérimentation. Diminuer la précision des points ainsi que le nombre de points par généralisation, entraînera une dégradation du polygone. Cependant, après un peu d'expérimentation, un niveau optimal de généralisation peut être trouvé, où la précision du polygone est visuellement acceptable, et la performance du SIG est optimale.

Pour les polygones, nous devons rendre les lignes de délimitation moins détaillées en supprimant certains des points de ligne. Faites une sauvegarde de vos shapefiles avant de commencer. Une méthode possible consiste à utiliser [MapShaper] (http://www.mapshaper.org/) qui est un outil en ligne que l'on peut utiliser pour généraliser les données géographiques. Pour utiliser MapShaper, il suffit de télécharger votre shapefile sur le site. Ensuite, en bas au centre, vous voyez un curseur qui commence à 0 %. Il est généralement acceptable de le faire glisser jusqu'à environ 80%. Dans le menu de gauche, vous pouvez cocher "afficher les lignes originales" pour comparer le résultat et vous pouvez essayer une autre méthode de simplification. Lorsque vous êtes satisfait du résultat, cliquez sur "exporter" dans le coin supérieur droit. Ensuite, cochez la première des quatre options appelées "Shapefile - polygones", cliquez sur "créer" et attendez que les boutons de téléchargement apparaissent. Maintenant, téléchargez les deux fichiers sur votre ordinateur local et écrasez les fichiers existants. Passez à l'étape suivante avec votre nouveau shapefile simplifié.

Étape 2 - Convertir le Shapefile en GML

L'outil recommandé pour les conversions de format géographique est appelé "ogr2ogr". Il devrait être disponible pour la plupart des distributions Linux `sudo apt-get install gdal-bin`. Pour Windows, allez sur <http://fwtools.maptools.org/>et téléchargez "FWTools", installez-le et ouvrez l'interpréteur de commandes FWTools. Pendant la conversion du format, nous voulons également nous assurer que la sortie dispose de la projection correcte des coordonnées (appelée EPSG:4326 avec la longitude et la latitude géographiques). Pour une référence plus détaillée des coordonnées géographiques, veuillez consulter ce [site](http://www.epsg-registry.org/). Si vous avez déjà reprojeté les données géographiques dans le système de latitude/longitude géographique (EPSG:4326), il n'est pas nécessaire de définir explicitement le système de coordonnées de sortie, en supposant que `ogr2ogr` peut déterminer le système de référence spatiale d'entrée. Notez que la plupart des shapefiles utilisent le système EPSG:4326. Vous pouvez déterminer le système de référence spatiale en exécutant la commande suivante.

    ogrinfo -al -so filename.shp

En supposant que la projection telle que signalée par `ogrinfo` est de EPSG:27700 , nous pouvons la transformer en EPSG:4326 en exécutant la commande suivante.

    ogr2ogr -s_srs EPSG:27700 -t_srs EPSG:4326 -f GML filename.gml filename.shp

Si les données géographiques sont déjà en EPSG:4326, vous pouvez simplement transformer le shapefile en GML en exécutant la commande suivante.

    ogr2ogr -f GML filename.gml filename.shp

Vous trouverez le fichier GML créé dans le même dossier que le fichier Shapefile.

Étape 3 - Préparer le fichier GML

Malheureusement, le fichier GML n'est pas encore prêt pour l'importation. Ouvrez-le dans un éditeur de texte robuste comme Geany (Linux) ou Notepad++ (Windows). GML est un format basé sur XML, ce qui signifie que vous reconnaîtrez la hiérarchie de balises XML habituelle. Dans le fichier GML, une unité d'organisation est représentée par un \<gml:featureMember\>. Dans des éléments de la fonctionnalité, nous trouvons généralement beaucoup d'attributs, mais nous allons simplement importer leurs coordonnées.

Pour importer des données géospatiales à partir des éléments membres de l'entrée GML, le DHIS2 doit faire correspondre chacun d'eux à une unité d'organisation de sa base de données. En d'autres termes, l'élément membre doit contenir une référence à l'unité d'organisation correspondante. La référence elle-même doit être l'un des trois identificateurs possibles de DHIS2 : **uid**, **code** ou **nom**. L'identificateur choisi doit être fourni comme une propriété pour chaque élément membre principal. L'importateur recherchera une propriété dont le nom local est soit _Uid_, _Code_ ou _Name_, par exemple "ogr:Nom" ou "anyPrefix:Code".

Si les membres de votre fonctionnalité contiennent déjà une propriété de l'identifiant que vous souhaitez utiliser (comme le nom d'une zone), vous pouvez utiliser la fonction de recherche et de remplacement dans un éditeur de texte pour renommer ces éléments en un nom que DHIS2 reconnaîtra (voir le tableau ci-dessous). Il s'agit généralement d'un processus qui s'applique lorsque le nom est utilisé comme identifiant (le shapefile source ou même le GML contiendra généralement le nom de chaque zone qu'il définit).

<table>
<caption>Identificateurs d'unités d'organisation pris en charge pour l'importation GML</caption>
<thead>
<tr class="header">
<th>Priorité de correspondance</th>
<th>Identificateur</th>
<th>Orthographes valides</th>
<th>Unique garanti</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Uid</td>
<td>uid, Uid, UID</td>
<td>Oui</td>
</tr>
<tr class="even">
<td>2</td>
<td>Code</td>
<td>code, Code, CODE</td>
<td>Non</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Nom</td>
<td>nom, Nom, NOM</td>
<td>Non</td>
</tr>
</tbody>
</table>

Dans le cas de renommage des propriétés, on trouve généralement une balise nommée quelque chose comme "ogr:DISTRICT_NOM", "ogr:NOM_1" et on la renomme en "ogr:NOM". En revanche, si l'on utilise les identificateurs _code_ ou _uid_, il peut alors être nécessaire de rechercher les valeurs correctes dans la base de données DHIS2 et de parcourir le fichier GML, en ajoutant les propriétés de chaque membre correspondant de la caractéristique. Dans tous les cas, il est important de réaliser que l'identificateur utilisé doit **uniquement** identifier une unité d'organisation (par exemple, s'il y a deux unités d'organisation dans la base de données qui portent le même nom ou code, elles ne peuvent pas être mises en correspondance correctement sur l'une ou l'autre). Étant donné que _uid_ est le seul identifiant unique garanti, il s'agit du choix le plus robuste. Cependant, étant donné que la correspondance avec le nom est généralement plus facile (puisque le nom fait déjà partie de vos données), une approche viable pour résoudre les conflits d'unicité peut consister à faire correspondre toutes les unités d'organisation qui ne sont pas nommées de manière unique avec un identificateur différent (uid, de préférence) et le reste avec leur nom.

Comme on peut le voir dans le tableau ci-dessus, il existe une priorité de correspondance, ce qui signifie que si deux ou plusieurs identifiants sont fournis pour le même membre, la correspondance sera effectuée sur l'identifiant de plus haute priorité. Notez également les propriétés valides qui peuvent être utilisées dans votre GML. Le préfixe de l'espace de noms n'est pas important car seul le nom local est utilisé.

Les erreurs de syntaxe ou de dénomination des éléments constituent un écueil courant lors de la préparation des fichiers GML. Par conséquent, veuillez vous assurer que toutes les propriétés du fichier GML sont lancées et terminées avec les balises correspondantes. Assurez-vous également que les propriétés respectent l'une des orthographes valides données du nom de la propriété. Les propriétés d'identification sont censées ressembler, par exemple, à \<ogr:Name\>Moyamba District\</ogr:Name\>, \<somePrefix:uid\>x7uuia898nJ\</somePrefix:uid\> or \<CODE\>OU_12345\</CODE\>. Une autre erreur courante consiste à ne pas s'assurer que l'identifiant correspond exactement, en particulier lorsque l'on utilise la propriété _nom_. Toutes les correspondances sont effectuées sur des valeurs exactes, ce qui signifie que "Moyamba" dans un fichier GML source ne serait pas mis en correspondance avec "Moyamba District" dans la base de données.

Examinez brièvement les identifiants et comparez-les aux valeurs correspondantes dans la base de données. S'ils semblent correspondre assez bien, il est donc opportun de réaliser une prévisualisation dans le module "import-export".

Allez dans Services -\> Import-Export, sélectionnez "Aperçu", sélectionnez le fichier GML et cliquez sur "Importer". Recherchez les unités d'organisation nouvelles/mises à jour. Notre intention est d'ajouter des coordonnées aux unités d'organisation déjà existantes dans la base de données, nous voulons donc autant de mises à jour que possible et 0 nouvelle. Les unités répertoriées comme nouvelles seront créées en tant qu'unités racine et perturbent l'arborescence des unités d'organisation dans DHIS2. Si une unité est répertoriée comme nouvelle, cliquez sur le numéro et les unités d'organisation en question apparaîtront dans la liste en dessous. En cas de légères erreurs d'orthographe par rapport aux noms des unités d'organisation dans la base de données, corrigez-les et refaites l'aperçu. Sinon, cliquez sur le bouton "Supprimer tout" en dessous de la liste, puis sur le bouton "Importer tout" au-dessus de la liste.

Si le processus d'importation se termine avec succès, vous devriez maintenant pouvoir utiliser les données géographiques dans le SIG de DHIS2. Si ce n'est pas le cas, consultez le journal pour obtenir des conseils et rechercher des erreurs courantes telles que :

\- Nom en double dans le fichier GML. La colonne du nom dans la base de données est unique et n'accepte pas deux unités d'organisation portant le même nom.

\- La colonne "nom abrégé" du tableau des unités d'organisation de votre base de données a une définition trop petite du varchar. Augmentez-la à 100.

\- Caractères spéciaux des noms dans le fichier GML. Veillez à les convertir en équivalents XML ou en séquences d'échappement appropriés.

\- Entrée GML mal formatée, balises non concordantes

# Configurer la fonctionnalité de rapport { #setting_up_reporting }

## Sources de données pour les rapports { #reporting_data_sources }

### Types de données et agrégation { #types-of-data-and-aggregation }

Dans la terminologie générale du SIS, toutes les données du DHIS2 sont généralement appelées agrégées puisqu'il s'agit d'agrégats (par exemple, des résumés mensuels) de dossiers médicaux ou d'une sorte de registres de services déclarés par les établissements de santé. L'agrégation dans DHIS2, dont il est question ici, concerne toutefois la manière dont les données brutes saisies dans le DHIS2 (par saisie ou importation de données) sont ensuite agrégées au fil du temps (par exemple, des valeurs mensuelles aux valeurs trimestrielles) ou en remontant dans la hiérarchie organisationnelle (par exemple, des valeurs des établissements aux valeurs des districts).

#### Terminologie { #terminology }

-   Les _données brutes_ font référence aux données enregistrées dans DHIS2, soit par saisie, soit par importation, et qui n'ont pas été manipulées par le processus d'agrégation du DHIS2. Toutes ces données sont stockées dans la table (ou l'objet Java si vous préférez) appelée Valeur de données.

-   _Les données agrégées_ font référence aux données agrégées par le DHIS2, ce qui signifie qu'il ne s'agit plus de données brutes, mais d'une sorte d'agrégat des données brutes.

-   _Les valeurs des indicateurs_ peuvent également être considérées comme des données agrégées, mais elles sont particulières dans la mesure où elles sont calculées sur la base de formules définies par l'utilisateur (facteur \* numérateur/dénominateur). Les valeurs des indicateurs sont donc des données traitées et non des données brutes, et sont situées dans le tableau/objet des valeurs d'indicateurs agrégées. Les indicateurs sont calculés à n'importe quel niveau de la hiérarchie organisationnelle et ces calculs sont ensuite basés sur les valeurs des données agrégées disponibles à chaque niveau. Un attribut de niveau dans le tableau des valeurs agrégées fait référence au niveau organisationnel de l'orgunit pour lequel la valeur a été calculée.

-   _La période et le type de période_ sont utilisés pour spécifier la dimension temporelle des valeurs brutes ou agrégées, et les données peuvent être agrégées d'un type de période à un autre, par exemple de mensuel à trimestriel, ou de quotidien à mensuel. Chaque valeur de données a une période et cette période a un type de période. Par exemple, pour les données relatives aux périodes de janvier, février et mars 2009, tous les types de périodes mensuelles peuvent être agrégés en une valeur de données agrégée avec la période T1 2009 et le type de période Trimestriel.

#### Règles d'agrégation de base { #basic-rules-of-aggregation }

##### Les données agrégées ensemble { #what-is-added-together }

Les données (brutes) peuvent être enregistrées à n'importe quel niveau d'organisation, par exemple dans l'hôpital national au niveau 2, dans un établissement de santé au niveau 5 ou dans un SSP plus important au niveau 4. Cela varie d'un pays à l'autre, mais le DHIS2 est flexible en matière de saisie ou d'importation de données à n'importe quel niveau. Cela signifie que les organisations ayant elles-mêmes d'unités enfants peuvent enregistrer des données, parfois les mêmes éléments de données que leurs unités enfants. La règle de base de l'agrégation dans le DHIS2 stipule que _toutes les données brutes soient agrégées ensemble_, ce qui signifie que les données enregistrées dans un établissement au niveau 5 sont ajoutées aux données enregistrées pour un SSP au niveau 4.

Il appartient à l'utilisateur/administrateur système/concepteur de s'assurer qu'il n'y a pas de double saisie et que, par exemple, les données saisies au niveau 4 ne concernent pas les mêmes services/visites que ceux déclarés par les enfants de l'orgunit au niveau 5.

> **N.B.**
>
> Dans certains cas où vous souhaitez avoir une double saisie dans le système, faites-le de manière contrôlée. Exemple : lorsque vous avez deux sources de données différentes pour les estimations de population, à la fois les données démographiques des bassins versants de niveau 5 et une autre source de données démographiques pour le niveau 4 basée sur les données de recensement (car la somme des bassins versants de niveau 5 n'est pas toujours la même que les données de recensement de niveau 4). Vous pouvez ensuite spécifier, à l'aide des paramètres d'agrégation avancés (voir plus bas), que le système ne doit pas, par exemple, ajouter les données démographiques de niveau 5 aux données démographiques de niveau 4, et que les agrégats de données démographiques de niveau 3,2,1 sont uniquement basés sur les données de niveau 4 et n'incluent pas les données de niveau 5.

##### Comment agréger les données ensemble { #how-data-gets-added-together }

La manière dont les données sont agrégées dépend de la dimension de l'agrégation (voir plus bas).

Au niveau de l'orgunit, les données sont toujours résumées, c'est-à-dire simplement additionnées. Notez que les données brutes ne sont jamais des pourcentages, et peuvent donc être additionnées. Les valeurs d'indicateurs qui peuvent être des pourcentages sont traitées différemment (recalculées à chaque niveau, mais jamais additionnées).

Dans la dimension temporelle, il existe plusieurs possibilités, les deux façons les plus courantes d'agréger les données sont la somme et la moyenne. L'utilisateur peut spécifier pour chaque élément de données la méthode à utiliser en définissant l'opérateur d'agrégation (voir plus bas). Les données mensuelles relatives aux services sont normalement additionnées dans le temps, par exemple le nombre de vaccins administrés dans une année est la somme des vaccins administrés pour chaque mois de cette année. Pour la population, l'équipement, le personnel et d'autres types de données dites semi-permanentes, on doit souvent utiliser la méthode de la moyenne, car, par exemple, le "nombre d'infirmières" travaillant dans un établissement au cours d'une année ne serait pas la somme des deux chiffres indiqués dans le rapport semestriel sur la dotation en personnel, mais plutôt la moyenne des deux chiffres. Pour plus de détails, voir la rubrique 'opérateurs d'agrégation'.

#### Dimensions d'agrégation { #dimensions-of-aggregation }

##### Unités et niveaux d'organisation { #organisational-units-and-levels }

On utilise les unités d'organisation pour représenter la dimension "où" associée aux valeurs des données. Dans le DHIS2, les unités d'organisation sont disposées selon une hiérarchie correspondant généralement à la nature hiérarchique de l'organisation ou du pays. Les niveaux d'unité d'organisation correspondent aux niveaux distincts de la hiérarchie. Par exemple, un pays peut être organisé en provinces, puis en districts, puis en établissements, puis en sous-centres. Cette hiérarchie organisationnelle comporterait alors cinq niveaux. À l'intérieur de chaque niveau, il existerait un certain nombre d'unités d'organisation. Au cours du processus d'agrégation, les données sont agrégées des niveaux inférieurs de l'unité d'organisation aux niveaux supérieurs. Selon l'opérateur d'agrégation, les données peuvent être "additionnées" ou "calculées en moyenne" à un niveau d'unité d'organisation donné, pour obtenir le total agrégé de toutes les unités d'organisation contenues dans un niveau d'unité d'organisation supérieur. Par exemple, si une province compte dix districts et que l'opérateur d'agrégation pour un élément de données particulier a été défini comme "SOMME", le total agrégé pour la province sera calculé comme étant la somme des valeurs des dix districts individuels de cette province.

##### Période { #period }

Les périodes sont utilisées pour représenter la dimension "quand" associée aux valeurs de données. Les données peuvent facilement être agrégées de semaines à mois, de mois à trimestres et de trimestres à années. DHIS2 utilise des règles connues sur comment ces différents intervalles sont contenus dans d'autres intervalles (par exemple, le premier trimestre 2010 est connu pour contenir janvier 2010, février 2010 et mars 2010) afin d'agréger des données provenant d'intervalles de temps plus petits, par exemple des semaines, en intervalles de temps plus longs, par exemple des mois.

##### Éléments de données et Catégories { #data-elements-and-categories }

La dimension de l'élément de données spécifie "ce qui" est enregistré par une valeur de données particulière. Les catégories d'éléments de données sont en fait des dimensions dégénérées de la dimension d'élément de données, et sont utilisées pour désagréger la dimension d'élément de données en catégories plus fines. Les catégories d'éléments de données, telles que "âge" et "sexe", sont utilisées pour enregistrer un élément de données particulier, généralement pour différents groupes de population. Ces catégories peuvent ensuite être utilisées pour calculer le total global de la catégorie et le total de toutes les catégories.

#### Opérateurs d'agrégation, méthodes d'agrégation { #aggregation-operators-methods-for-aggregation }

##### Somme { #sum }

L'opérateur 'somme' calcule simplement la somme de toutes les valeurs de données contenues dans une matrice d'agrégation particulière. Par exemple, si les données sont enregistrées sur une base mensuelle au niveau du district et sont agrégées en totaux trimestriels provinciaux, toutes les données de tous les districts pour une province donnée et toutes les semaines pour le trimestre donné seront alors additionnées pour obtenir le total agrégé.

##### Moyenne { #average }

Lorsque l'opérateur d'agrégation moyenne est sélectionné, la moyenne non pondérée de toutes les valeurs des données dans une matrice d'agrégation donnée sont calculées.

Il est important de comprendre comment le DHIS2 traite les valeurs nulles dans le contexte de l'opérateur Moyenne. Il est assez courant que certaines unités d'organisation ne soumettent pas de données pour certains éléments de données. Dans le contexte de l'opérateur Moyenne, la moyenne résulte du nombre d'éléments de données effectivement présents (donc NON NUL) dans une matrice d'agrégation donnée. S'il y a 12 districts dans une province donnée, mais que seuls 10 d'entre eux ont soumis des données, le total moyen résultera alors de ces dix valeurs effectivement présentes dans la base de données, et ne tiendra donc pas compte des valeurs manquantes.

#### Paramètres d'agrégation avancés (niveaux d'agrégation) { #advanced-aggregation-settings-aggregation-levels }

##### Niveaux d'agrégation { #aggregation-levels }

La règle normale du système consiste à agréger toutes les données brutes lorsqu'on monte dans la hiérarchie organisationnelle, et le système ne prévoit pas la saisie des mêmes services fournis aux mêmes clients au niveau des deux établissements ainsi que la saisie d'un nombre "agrégé" (somme de tous les établissements) à un niveau supérieur. Cela permet de faciliter l'agrégation lorsque les mêmes services sont fournis mais à des clients/groupes de population différents dans les établissements au niveau 5 et dans un CSP (le parent des mêmes établissements) au niveau 4. De cette façon, un établissement au niveau 5 et un CSP au niveau 4 peuvent partager les mêmes éléments de données et simplement additionner leurs nombres pour fournir le total des services fournis dans la zone géographique.

Parfois, une telle agrégation n'est pas souhaitable, simplement parce qu'elle impliquerait une duplication des données relatives à une même population. C'est le cas lorsque vous avez deux sources de données différentes pour deux niveaux d'orgunit différents. Par exemple, la population du bassin versant des établissements peut provenir d'une source différente de celle des districts et, par conséquent, la somme des populations du bassin versant des établissements ne correspond pas à la population du district fournie par les données démographiques, par exemple. Si tel est le cas, nous souhaiterions en fait disposer de données dupliquées dans le système afin que chaque niveau puisse avoir des chiffres aussi précis que possible, mais nous ne voulons PAS regrouper ces sources de données.

Dans la section Élément de donnée, vous pouvez modifier les éléments de données et, pour chacun d'entre eux, préciser comment l'agrégation est effectuée pour chaque niveau. Dans le cas décrit ci-dessus, nous devons indiquer au système de NE PAS inclure les données relatives à la population des établissements dans les agrégations au-dessus de ce niveau, comme le niveau ci-dessus. Au cas où les districts ont enregistré leur population directement en tant que données brutes, les données sur la population des districts doivent alors être utilisées à tous les niveaux supérieurs, y compris celui des districts, tandis que les données sur les établissements doivent être utilisées au niveau des établissements.

##### Comment modifier l'agrégation des éléments de données { #how-to-edit-data-element-aggregation }

Cette activité est contrôlée par ce qu'on appelle les Niveaux d'agrégation. À la fin de l'écran de modification des éléments de données, vous verrez une case à cocher appelée Niveaux d'agrégation. Si vous cochez cette case, vous verrez une liste des niveaux d'agrégation, disponibles et sélectionnés. Par défaut, aucun niveau d'agrégation n'est défini, et toutes les données brutes de la hiérarchie seront alors additionnées. Pour spécifier la règle décrite ci-dessus, et étant donné une hiérarchie de Pays, Province, District, Etablissement : sélectionnez Etablissement et District comme vos niveaux d'agrégation. Fondamentalement, vous sélectionnez l'endroit où vous avez des données. En sélectionnant Etablissement, cela signifie que les Etablissements utiliseront des données provenant des établissements (indiqués étant donné qu'il s'agit du niveau le plus bas). La sélection de District signifie que les données brutes au niveau du district seront utilisées lors de l'agrégation des données pour le niveau du district (donc aucune agrégation n'aura lieu à ce niveau), et les données des établissements ne feront pas partie des valeurs agrégées du district. Lors de l'agrégation des données au niveau de la province, les données brutes au niveau du district seront utilisées car il s'agit du niveau d'agrégation le plus élevé disponible qui a été sélectionné. Les données brutes du district seront également utilisées pour les agrégats au niveau du pays. Pour rappel, si nous n'avions pas spécifié que le niveau du district était un niveau d'agrégation, les données des établissements et les données des districts auraient été additionnées, ce qui aurait entraîné une duplication (double) des données démographiques pour les districts ainsi que tous les niveaux supérieurs.

### Tableaux des ressources { #resource-tables }

Les tableaux de ressources fournissent des informations supplémentaires sur les dimensions des données dans un format qui convient bien aux outils externes pour les combiner avec le tableau des valeurs de données. En associant le tableau des valeurs de données à ces tableaux de ressources, il est donc facile d'agréger les dimensions des catégories d'éléments de données ou les dimensions des groupes d'éléments de données/indicateurs/unités d'organisation. Par exemple, en marquant toutes les valeurs de données avec l'option de catégorie homme ou femme et en les indiquant dans une colonne séparée 'genre', on peut alors obtenir des sous-totaux d'hommes et de femmes basés sur les valeurs de données collectées pour des combinaisons d'options de catégorie telles que (homme, \<5) et (homme,\>5). Voir la section Tableaux croisés dynamiques pour plus d'exemples de leur utilisation. L'orgunitstructure est un autre tableau important de la base de données qui permet de fournir des données à la hiérarchie des unités. En joignant le tableau orgunitstructure au tableau des valeurs de données, vous pouvez obtenir des lignes de valeurs de données avec la hiérarchie complète, par exemple sur le formulaire : OU1, OU2, OU3, OU4, Elément de données, Période, Valeur (Sierra Leone, Bo, Badija, Ngelehun CHC, BCG \<1, Jan-10, 32). Ce format facilite grandement la tâche des tableaux croisés dynamiques ou d'autres outils OLAPqui permettent, par exemple, d'agréger les données de manière ascendante dans la hiérarchie.

### Les tableaux de rapport { #reportTable }

Les tableaux de rapport sont des rapports définis et croisés pouvant servir de base pour d'autres rapports, tels que les tableaux croisés dynamiques Excel ou être simplement téléchargés sous forme de feuille Excel. Les tableaux de rapport sont destinés à fournir une vue spécifique des données requises, telles que les "Indicateurs nationaux mensuels de CPN". Ce tableau de rapport peut fournir tous les indicateurs de CPN pour un pays, agrégés par mois pour l'ensemble du pays. Ces données peuvent bien sûr être extraites du principal magasin de données, mais les tableaux de rapport sont généralement plus rapides et présentent aux utilisateurs des vues bien définies des données.

## Comment créer des tableaux de rapports { #reporting_creating_tables }

Pour créer un nouveau tableau de rapport, allez dans la section Tableaux de rapport du module Rapports (Rapports -\> Tableau de rapport). Au-dessus de la liste des rapports standard, utilisez les boutons "Ajouter un tableau de rapports" ou "Ajouter un tableau de dimensions d'éléments de données". Un tableau de rapport standard peut être utilisé pour conserver les informations sur les éléments de données, les indicateurs ou l'exhaustivité des ensembles de données, tandis que les tableaux de dimension des éléments de données sont utilisés pour inclure des catégories d'éléments de données dans les tableaux de rapport. La création des tableaux se fait de la même manière, la seule exception étant toutefois le choix des données.

Pour créer un tableau de rapport, vous devez commencez par opérer quelques choix généraux pour le tableau, dont le plus important est la dimension croisée. Ensuite, vous choisissez les éléments de données, les indicateurs, les ensembles de données ou les dimensions des éléments de données à inclure. Enfin, vous sélectionnez les unités d'organisation et les périodes de temps à utiliser dans le tableau du rapport. Chacune de ces étapes est décrite en détail ci-dessous.

### Options générales { #reporting_general_options }

![](resources/images/dhis2_creating_reporting/general_options.jpg)

**Recoupement des dimensions**

Vous pouvez croiser une ou plusieurs des dimensions suivantes : élément de donnée/indicateur, orgunit et période, ce qui signifie que les colonnes seront créées sur la base des valeurs des dimensions choisies. Par exemple, si des indicateurs sont sélectionnés, vous obtiendrez dans le tableau des noms de colonnes reflétant les noms des indicateurs sélectionnés.

Par exemple, si vous faites des recoupements entre les indicateurs et les périodes, les en-têtes de colonne indiqueront "\<indicator title\> \<period\>". Les unités d'organisation seront énumérées sous forme de lignes. Voir la capture d'écran pour plus de précisions :

![](resources/images/dhis2_creating_reporting/crosstab_ind-per.jpg)

Si vous faites des recoupements sur les indicateurs et les unités d'organisation, les en-têtes de colonne du tableau indiqueront "\<indicator title\> \<organisation unit\>". Les périodes seront désormais répertoriées sous forme de lignes. Voir la capture d'écran pour plus de précisions :

![](resources/images/dhis2_creating_reporting/crosstab_ind-org.jpg)

Notez que les options faites ici concernant le recoupement des dimensions peuvent avoir des conséquences sur les options disponibles lors de l'utilisation ultérieure du tableau de rapport comme source de données, par exemple pour les rapports standard.

**Ordre de tri**

Affecte la colonne la plus à droite du tableau, vous permet de choisir de la trier de bas en haut ou de haut en bas.

**Limite maximale**

La limite maximale vous permet de fixer un nombre maximum de lignes que vous souhaitez inclure dans le tableau du rapport.

**Inclure la régression**

Cette option ajoute des colonnes supplémentaires avec des valeurs de régression pouvant être incluses dans la conception du rapport, par exemple dans les graphiques linéaires.

### Sélection des données { #reporting_selecting_data }

![](resources/images/dhis2_creating_reporting/select_data.jpg)

**Indicateurs/Éléments de données**

Vous sélectionnez ici les éléments de données/indicateurs que vous souhaitez inclure dans le rapport. Utilisez le filtre de groupes pour trouver plus facilement ce que vous cherchez et double-cliquez sur les éléments que vous voulez inclure, ou utilisez les boutons pour ajouter/supprimer des éléments. Vous pouvez avoir à la fois des éléments de données et des indicateurs dans le même rapport.

**Ensembles de données**

Vous sélectionnez ici les ensembles de données que vous souhaitez inclure dans le rapport. L'inclusion d'un ensemble de données vous donnera des informations sur l'exhaustivité des données de l'ensemble donné, et non des informations sur ses éléments. Double-cliquez sur les éléments que vous souhaitez inclure, ou utilisez les boutons.

### Sélection des paramètres du rapport { #selecting_reporting_params }

![](resources/images/dhis2_creating_reporting/relative_options.jpg)

Il existe deux façons de sélectionner à la fois les unités d'organisation et les périodes (relatives ou fixes) à inclure dans un rapport. Les unités d'organisation et/ou les périodes fixes signifient que vous sélectionnez les unités/périodes à inclure dans le tableau du rapport lorsque vous créez le tableau du rapport. En utilisant des périodes relatives, vous pouvez sélectionner le temps et/ou les unités comme paramètres lorsque le tableau du rapport est rempli, par exemple lors de l'exécution d'un rapport standard ou de la création d'un graphique. Une combinaison est également possible, par exemple pour ajouter certaines unités d'organisation dans le rapport de manière permanente tout en laissant les utilisateurs choisir des unités supplémentaires. Les paramètres de rapport sont abordés plus loin. En général, l'utilisation d'unités dorganisation et/ou de périodes fixes constitue une restriction inutile.

**Unités d'organisation fixes**

Pour ajouter des unités d'organisation fixes, cliquez sur "Basculer les unités d'organisation fixes". Un panneau apparaîtra dans lequel vous pourrez choisir les unités d'organisation à inclure dans le rapport. Si vous le laissez vide, les utilisateurs choisissent les unités d'organisation lors de l'exécution du rapport grâce à l'utilisation des paramètres de rapport. Utilisez le menu déroulant pour filtrer les unités d'organisation par niveau, double-cliquez ou utilisez les boutons ajouter/supprimer.

**Périodes fixes**

Pour ajouter des périodes fixes, cliquez sur "Basculer les unités d'organisation fixes". Un panneau apparaîtra dans lequel vous pourrez choisir des périodes à inclure dans le rapport. Si vous le laissez vide, les utilisateurs sélectionnent les périodes lors de l'exécution du rapport grâce à l'utilisation des paramètres de rapport. Utilisez le menu déroulant pour choisir le type de période (semaine, mois, etc.), les boutons Précédent et Suivant pour choisir l'année, et double-cliquez ou utilisez les boutons ajouter/supprimer.

**Périodes relatives** 

Au lieu d'utiliser des périodes fixes/statiques comme 'Jan-2010' ou 'Q1-2010', vous pouvez utiliser des périodes plus génériques pour créer des tableaux de rapport réutilisables. Par exemple, pour les rapports mensuels, la période 'Mois de déclaration' choisira simplement le mois de déclaration actuel sélectionné par l'utilisateur lors de l'exécution du rapport. Notez que toutes les périodes relatives sont relatives à un 'mois de déclaration'. Le mois de déclaratio est soit sélectionné par les utilisateurs, soit le mois en cours est utilisé. Voici une description des périodes relatives possibles :

-   _Mois du rapport :_

    Utilisez cette option pour les rapports mensuels. Le mois sélectionné dans le paramètre Mois de rapport sera utilisé dans le rapport.

-   _Mois/trimestres de cette année_ :

    Cette option permettra d'obtenir une valeur par mois ou par trimestre de l'année. Cela convient bien aux rapports mensuels ou trimestriels standard, dans lesquels tous les mois/trimestres doivent être indiqués. Les périodes pour lesquelles il n'y a pas encore de données resteront vides, mais conserveront toujours le même nom de colonne.

-   _Cette année :_

    Il s'agit de faire le cumul depuis le début de l'année, en agrégeant les périodes depuis le début de l'année jusqu'au mois de déclaration sélectionné inclus.

-   _Mois/trimestres de l'année précédente_ :

    Cette option permettra d'obtenir une valeur par mois ou par trimestre de l'année. Cela convient bien aux rapports mensuels ou trimestriels standard, dans lesquels tous les mois/trimestres doivent être indiqués. Les périodes pour lesquelles il n'y a pas encore de données resteront vides, mais conserveront toujours le même nom de colonne.

-   _L'année précédente :_

    Il s'agit du cumul de l'année précédente, par rapport au mois de déclaration, regroupe toutes les périodes de l'année précédente.

**Exemple - périodes relatives**

Supposons que nous avons choisi trois indicateurs : A, B et C, et nous avons également choisi d'utiliser les périodes relatives 'Mois de déclaration' et 'Cette année' lorsque nous avons créé le tableau de rapport. Si le mois de déclaration (sélectionné automatiquement ou par l'utilisateur) est, par exemple, mai 2010, le tableau de rapport calculera les valeurs des trois indicateurs sélectionnés pour mai 2010 (= le 'mois de déclaration') et les valeurs cumulées des trois indicateurs sélectionnés jusqu'à présent en 2010 (= jusqu'à présent 'cette année').

Ainsi, nous obtiendrons six valeurs pour chacune des unités d'organisation : "Indicateur A mai 2010", "Indicateur B mai 2010", "Indicateur C mai 2010", "Indicateur A jusqu'à présent en 2010", "Indicateur B jusqu'à présent en 2010" et "Indicateur C jusqu'à présent en 2010".

**Paramètres du rapport**

Les paramètres des rapports rendent les rapports plus génériques et réutilisables au fil du temps et pour différentes unités d'organisation. Ces paramètres s'afficheront lors de la production du tableau de rapport ou de l'exécution d'un rapport basé sur le tableau de rapport. Les utilisateurs sélectionneront ce qu'ils veulent voir dans le rapport. Il existe quatre paramètres de rapport possibles, et vous pouvez en sélectionner aucun, tous ou une combinaison quelconque.

-   _Mois du rapport :_

    Cela permet de décider quel mois sera utilisé lorsque le système choisit les périodes relatives. Si la case n'est pas cochée, l'utilisateur ne sera pas donc appelé à indiquer le mois de déclaration lors de la production du rapport - le mois en cours sera alors utilisé.

-   _Unité d'organisation grand-parent :_

    Sélectionnez le grand-parent de toutes les orgunit enfants et petits-enfants que vous souhaitez voir figurer dans le rapport. Par exemple, une région sélectionnée entraînera automatiquement l'utilisation de la région elle-même, de tous ses districts et de tous leurs sous-districts.

-   _Unité d'organisation parent :_

    Sélectionnez le parent de toutes les orgunit enfants que vous souhaitez voir figurer dans le rapport. Par exemple, un district sélectionné entraînera automatiquement l'utilisation du district lui-même et de tous ses enfants/sous-districts.

-   _Unité d'organisation :_

    Cette option déclenche l'utilisation de cette orgunit dans le rapport. Aucune unité enfant n'est répertorié.

**Exemple - paramètres de rapport**

Pour poursuivre avec l'exemple des périodes relatives juste au-dessus, supposons qu'en plus du "mois de déclaration", nous avons choisi "Unité de l'organisation parent" comme paramètre de rapport lors de la création du tableau de rapport. Lors de l'exécution du tableau de rapport, il nous sera demandé de sélectionner une unité d'organisation. Supposons maintenant que nous choisissions "Région R" comme unité d'organisation. La "Région R" a alors les enfants "District X" et "District Y".

Lorsque le rapport est exécuté, le système agrège les données pour le "District X" et le "District Y". Les données seront agrégées à partir du niveau le plus bas où elles ont été collectées. Les valeurs des districts seront agrégées davantage pour donner une valeur agrégée pour la "Région R".

Ainsi, le tableau du rapport générera les six valeurs présentées dans l'exemple précédent, pour "District X", "District Y" et "Région R".

### Tableaux de dimensions des éléments de données { #reporting_de_dimension_tables }

Ces tableaux permettent d'utiliser des catégories d'élément de donnée dans les tableaux de rapports. Il y a deux différences par rapport aux tableaux de rapports habituels. La première est qu'il n'est pas possible de sélectionner les dimensions des tableaux croisés, car les colonnes seront toujours les désagrégations des combinaisons de catégories. L'autre est le choix effectif des données. Une seule combinaison de catégories peut être ajoutée par rapport, et seuls les éléments de données de la même combinaison de catégories peuvent être sélectionnés.

Les sous-totaux et le total seront également inclus dans le tableau. Par exemple, une combinaison de catégorie sexe (homme, femme) + âge PEV(\<1, \>1) donnerait les colonnes suivantes : homme+\<1, homme+\>1, femme+\<1, femme+\>1, homme, femme,\<1, \>1, total.

**Sélection des données**

![](resources/images/dhis2_creating_reporting/catcombo.jpg)

Utilisez le menu déroulant pour choisir les combinaisons de catégories. Les éléments de données utilisant cette combinaison de catégories seront énumérés. Double-cliquez pour ajouter au rapport, ou utilisez les boutons.

### Tableau des rapports - meilleures pratiques { #reporting_best_practices }

Vous pouvez paramétrer les tableaux de rapport pour qu'ils soient réutilisables dans le temps et entre les orgunits. Quatre types de paramètres sont autorisés : orgunit, orgunit parent (pour la liste des orgunits dans une zone), orgunit grand parent et mois de déclaration. Il convient de noter que nous envisageons d'étendre cette possibilité pour inclure le trimestre et l'année de déclaration, ou de rendre ce paramètre de période plus générique en ce qui concerne le type de période d'une certaine manière. La possibilité d'utiliser la période comme paramètre rend le tableau de rapport réutilisable dans le temps et, par conséquent, il s'adapte bien aux besoins de rapports tels que les rapports mensuels, trimestriels ou annuels. Lorsqu'un rapport est exécuté par l'utilisateur dans DHIS2, celui-ci doit spécifier les valeurs des tableaux de rapport liés au rapport. Le tableau de rapport est d'abord généré à nouveau (supprimé et recréé avec des données mises à jour), puis le rapport est exécuté (en arrière-plan, dans le moteur de rapport Jasper).

Les tableaux de rapport peuvent être constitués de valeurs relatives à des éléments de données, à des indicateurs ou à l'exhaustivité des données, qui est à sont tour liée à l'exhaustivité des rapports des orgunits pour un mois donné. Les rapports d'exhaustivité seront abordé dans une autre section.

Un tableau de rapport comporte trois dimensions permettant d'identifier les données : les indicateurs ou éléments de données, les orgunits et les périodes. Pour chacune de ces dimensions, l'utilisateur peut sélectionner les valeurs de métadonnées à inclure dans le rapport. L'utilisateur doit sélectionner un ou plusieurs éléments de données ou indicateurs à faire figurer dans le rapport. La sélection de l'orgunit peut être remplacée par un paramètre, soit une orgunit spécifique, soit une orgunit mère (se faisant apparaître dans le rapport avec tous ses enfants). Si une ou plusieurs orgunits sont sélectionnées et qu'aucun paramètre d'orgunit n'est utilisé, le rapport est statique en ce qui concerne les orgunits à inclure, ce qui, dans la plupart des cas, constitue une restriction inutile à un rapport.

**Utilisation des périodes relatives**

La sélection de la période est plus avancée car elle peut, en plus de périodes spécifiques comme Jan-09, Q1-08, 2007, contenir ce qu'on appelle des périodes relatives. Etant donné que le rapport est généralement exécuté de manière routinière dans le temps, une période spécifique comme Jan-09 n'est pas très utile dans un rapport. Si vous voulez plutôt concevoir un rapport mensuel, vous devez alors utiliser la période relative appelée "mois de référence". Ensuite, vous devez également inclure le mois de référence comme l'un de vos paramètres de rapport afin de faire savoir au système quel est exactement le mois de référence au moment de la production du rapport. Il existe de nombreuses autres périodes relatives disponibles, et elles sont toutes liées au paramètre de rapport "Mois de référence". Par exemple, la période relative intitulée "Jusqu'à présent cette année" se réfère à la valeur cumulée pour l'année, y compris le mois de référence. Si vous souhaitez un rapport d'évolution avec plusieurs périodes au lieu d'une seule période agrégée, vous pouvez sélectionner par exemple "Mois de cette année", ce qui vous donnera les valeurs de chaque mois jusqu'à présent dans l'année. Vous pouvez faire un rapport similaire avec des trimestres. L'idée est de prendre en charge autant de types de rapports génériques que possible en utilisant des périodes relatives ; donc si vous avez d'autres besoins en matière de rapports, veuillez suggérer de nouvelles périodes relatives sur la liste de diffusion, et elles pourraient être ajoutées aux options du tableau des rapports.

**Recoupement des dimensions**

La tabulation recoupée est une fonctionnalité très puissante dans la conception de rapports, car le tableau de données DHIS2 typique, en ce qui concerne la période, l'élément de donnée/indicateur et l'orgunit, rend très difficile la conception de rapports plus avancés, puisque vous ne pouvez pas mettre par exemple des indicateurs, des périodes ou des orgunits spécifiques sur des colonnes spécifiques. Par exemple, en recoupant la tabulation sur la dimension de l'indicateur dans un tableau de rapport d'indicateurs, vous obtiendrez les noms des indicateurs dans les en-têtes de colonne de votre rapport, en plus d'une colonne faisant référence à l'orgunit et d'une autre colonne faisant référence à la période. Avec une telle conception de tableau, vous pouvez glisser et déposer les noms des indicateurs dans des colonnes ou des positions de graphique spécifiques dans le logiciel iReport. De même, vous pouvez faire des recoupements entre les orgunits ou les périodes afin de rendre leurs noms spécifiquement disponibles pour la conception du rapport. Par exemple, en recoupant les périodes et en sélectionnant les deux périodes relatives 'Mois de référence' et 'Cette année', vous pouvez concevoir des rapports avec le dernier mois et la valeur annuelle cumulée pour un mois donné, puisqu'ils seront disponibles en tant qu'en-têtes de colonne dans votre tableau de rapport. Il est également possible de combiner deux dimensions dans le cadre d'un recoupement, par exemple la période et l'indicateur, ce qui permet par exemple d'examiner trois indicateurs sélectionnés pour deux périodes relatives spécifiques. Cela permettrait par exemple de faire un rapport basé sur un tableau ou un graphique avec une couverture BCG, DTC3 et Rougeole, à la fois pour le dernier mois et la couverture cumulée jusqu'à présent dans l'année.

Dans l'ensemble, la combinaison les fonctionnalités de recoupement, de périodes relatives et de paramètres de tableaux de rapports, requiert un outil permettant de prendre en charge la plupart des scénarios de rapports. Si tel n'est pas le cas, nous serions très heureux de recevoir des suggestions permettant d'améliorer encore les tableaux de rapport. Comme nous l'avons déjà mentionné, nous avons commencé à examiner des paramètres plus précis concernant la dimension Période, car le 'Mois de déclaration' ne couvre pas suffisamment, ou du moins n'est pas assez intuitif, en ce qui concerne par exemple les rapports trimestriels.

## Résultat du tableau de rapport { #reporting_table_outcomes }

Lorsque le tableau du rapport est exécuté, le système calcule les valeurs pour des indicateurs, des éléments de données, des ensembles de données, des organisations et des périodes spécifiques. Les données seront présentées dans le système DHIS2 sous forme de tableau. Les en-têtes de colonne correspondront à la dimension de tableau croisé que vous avez sélectionnée. Un exemple de tableau de rapport montrant la couverture des soins prénatals pour un district en Gambie, est présenté ci-dessous. Ici, l'indicateur et les périodes sont croisés, comme on peut le voir dans les en-têtes de colonne.

![](resources/images/dhis2_creating_reporting/crosstab_ind-per.jpg)

Au-dessus de la table, il y a six boutons ; cinq boutons de téléchargement et un bouton Retour. En cliquant sur le bouton Retour, vous revenez simplement à l'écran précédent. Les fonctions des cinq boutons de téléchargement sont présentées sous la capture d'écran :

![](resources/images/dhis2_creating_reporting/report-table_output.png)

**Les cinq boutons de téléchargement**

-   _Télécharger au format Excel:_

    Télécharge un fichier Excel généré que vous pouvez ouvrir dans Excel.

-   _Télécharger au format CSV:_

    Télécharge un fichier .csv généré. CSV signifie **Valeurs** **Séparées** par des **Virgules**. C'est un fichier texte dont le nom se termine par .csv. Chaque ligne du fichier correspond à une ligne du tableau, tandis que les colonnes sont séparées par des points-virgules ( ;). Le fichier peut être ouvert dans un éditeur de texte ainsi que dans un tableur (tel que Excel).

-   _Télécharger au format PDF:_

    Télécharge un fichier PDF généré. Les données seront présentées dans une mise en page similaire à celle du tableau généré que vous consultez déjà dans le DHIS2.

-   _Télécharger comme rapport:_

    Téléchargez un fichier PDF "stylé". En plus de présenter les données sous forme de tableau, ce fichier présente également un graphique, montrant les données agrégées de toutes les périodes choisies et l'unité organisationnelle mère choisie pour le tableau du rapport. Le rapport est généré à l'aide du moteur JasperReports.

-   _Télécharger au format JRXML:_

    Télécharge le fichier de conception pour le rapport généré décrit au point précédent. Le fichier de conception (terminé par .jrxml) peut être ouvert dans le logiciel Jasper iReport Designer. Si vous envisagez de concevoir des rapports standard, c'est donc le point de départ.

## **SIG:**Le SIG intégré à DHIS 2 permet de présenter et d'analyser vos
données à l'aide de cartes géographiques à thèmes. Vous pouvez y
visualiser aussi bien les éléments de données que les indicateurs ; et
en supposant que vous disposiez des coordonnées de toutes vos unités
d’organisation, vous pouvez parcourir votre hiérarchie
organisationnelle et faire apparaitre des cartes pour tous les niveaux à
l’aide de polygones ou de points. Toutes les informations affichées sur
les cartes sont générées par DHIS 2 ; tout ce que vous devez faire est
de procéder à l’enregistrement des coordonnées de vos unités
d'organisation pour que les cartes deviennent disponibles. Voir le
chapitre spécifique qui traite du SIG pour obtenir plus de détails. { #reporting_standard_reports }

### Qu'est-ce qu'un rapport standard ? { #what-is-a-standard-report }

Un rapport standard est un rapport conçu manuellement qui présente les données dans une mise en page spécifiée manuellement. Les rapports standard peuvent être basés soit sur des tableaux de rapport, soit sur des requêtes SQL. Les deux approches sont décrites dans les sections suivantes. Le principal avantage de l'utilisation des tableaux de rapport est la simplicité - aucune compétence particulière de développement n'est requise. Si vous avez des exigences particulières ou si vous devez utiliser des parties supplémentaires de la base de données DHIS2, vous pouvez utiliser un rapport standard basé sur SQL. Dans tous les cas, vous pourrez utiliser des paramètres de rapport afin de créer des rapports dynamiques. Le guide suivant utilisera l'approche par tableau de rapport, tandis que l'approche SQL est abordée vers la fin.

### Conception de rapports standard dans iReport { #designing-standard-reports-in-ireport }

Jasper iReport Designer est un outil permettant de créer des rapports pouvant être utilisés comme rapports standard dans le système DHIS2. L'outil permet de créer des modèles de rapports standard qui peuvent être facilement exportés du DHIS2 avec des données actualisées. Le processus de création de rapports comprend quatre principales étapes :

1.  Un tableau de rapport doit être créé dans le DHIS2 avec les indicateurs/éléments de données/ensembles de données à utiliser dans le rapport.

2.  Vous devez exécuter le tableau du rapport et télécharger le fichier de conception (Cliquez sur le bouton "Télécharger au format JRXML").

3.  Ouvrez le fichier .jrxml téléchargé à l'aide du logiciel gratuit Jasper iReport Designer pour modifier la mise en page du rapport.

4.  Le rapport édité peut ensuite être téléchargé dans le DHIS2 pour être utilisé comme un rapport standard.

Si vous voulez prévisualiser votre rapport pendant la conception dans iReport, vous devez en fait télécharger votre fichier dans DHIS2 pour voir à quoi il ressemble.

Ces quatre étapes seront décrites en détail dans les sections suivantes. En général, lorsque vous établissez des rapports standard, vous devez avoir une idée précise de leur aspect avant même de créer le tableau du rapport, car la manière dont le tableau du rapport est conçu a des implications sur la façon dont le rapport peut être formaté dans iReport. Par exemple, la sélection des dimensions des tableaux croisés dans le tableau du rapport a des conséquences sur les tableaux croisés disponibles pour le rapport standard, et sur les types de graphiques que vous pouvez réaliser.

#### Télécharger et ouvrir le fichier de conception { #download-and-open-the-design-file }

> **N.B.**
>
> Si vous n'avez pas encore créé de tableau de rapport, vous devez le faire. Pour ce faire, voir la section "Comment créer des tableaux de rapport".\*

Localisez le tableau de rapport souhaité et lancez-le en cliquant sur le cercle vert avec une flèche blanche à l'intérieur. Lorsque le rapport est affiché, cliquez sur le bouton "Télécharger au format JRXML" pour télécharger le fichier de conception. Ouvrez ensuite ce fichier dans le logiciel Jasper iReport Designer.

#### Édition du rapport { #editing-the-report }

Vous pouvez maintenant modifier la mise en page du rapport. La fenêtre principale d'iReport se compose d'un "Report Inspector" à gauche, du document de rapport au milieu, d'une zone "Palette" en haut à droite et d'une zone "Propriétés" en bas à droite. Le "Report Inspector" est utilisé pour sélectionner et examiner les différentes propriétés du rapport, et lors de la sélection d'un élément dans Inspector, le panneau "Propriétés" change pour afficher les propriétés relatives à la sélection. La "Palette" est utilisée pour ajouter divers éléments, par exemple des zones de texte, des images et des graphiques au document.

![](resources/images/dhis2_creating_reporting/ireport/iReport-window.png)

> **N.B**
>
> Si la barre latérale de la palette ou des propriétés n'est pas visible, vous pouvez alors l'activer à partir de l'élément de menu "Fenêtre" dans la barre du menu.

Le document iReport est divisé en sept bandes principales, elles-mêmes divisées par des séparateurs de présentation (les lignes bleues). Ces lignes sont utilisées pour décider de la taille de chacune des zones du rapport.

Ces zones ont toutes des objectifs différents :

-   Titre - zone pour le titre du rapport

-   En-tête de page - zone pour l'en-tête de la page

-   En-tête de colonne - zone pour les en-têtes de colonne (pour le tableau)

-   Détail 1 - zone où seront placées les données du rapport proprement dit

-   Pied de page de la colonne - zone pour créer le pied de page du tableau

-   Bas de page - zone pour le bas de page

-   Résumé - les éléments dans cette zone seront placés à la fin du rapport

Par défaut, vous verrez que seules les bandes Titre, En-tête de colonne et Détail 1 ont des données. Pour la plupart des rapports, cela ne pose pas de problème. La bande Titre convient pour un titre et, par exemple, un graphique. Les champs de données saisis dans la zone Détail 1 seront répétés pour créer un tableau. Par exemple, si un champ appelé "nom d'élément de donnée" est placé dans la bande Détail 1, tous les éléments de données du tableau du rapport seront répertoriés ici. Nous reviendrons un peu plus loin sur la gestion des champs de données.

Les bandes non utilisées dans le rapport sont contractées pour ajouter de l'espace supplémentaire aux données de votre rapport. Vous pouvez toutefois augmenter ou réduire la hauteur de la bande comme vous le souhaitez. Il y a deux façons de le faire. La première consiste simplement à faire glisser la ligne bleue de la bande comme indiqué ci-dessous.

![](resources/images/dhis2_creating_reporting/ireport/17_drag.jpg)

L'autre façon d'ajuster la hauteur de la bande est de sélectionner une bande dans le "Report Inspector", puis d'ajuster la valeur "Hauteur de la bande" dans la zone "Détail 1 - propriétés" dans le coin inférieur droit.

![](resources/images/dhis2_creating_reporting/ireport/18_adjust.jpg)

Etant donné que les champs sont déjà présents sur le rapport, vous ne voulez probablement rien faire d'autre que de corriger la mise en page et de faire glisser les champs. Vous pouvez également redimensionner les champs en faisant glisser les lignes latérales, supérieures ou inférieures. Si vous souhaitez modifier le texte des en-têtes de colonne, il vous suffit de double-cliquer sur le champ et de modifier le texte.

Pour ajouter un champ au tableau, il suffit de le faire glisser vers la bande Détail 1 depuis le "Report Inspector". L'en-tête de la colonne sera ajouté automatiquement.

En double-cliquant sur la case, le texte peut alors être édité. Le format du texte, tel que la taille, la police et l'alignement, peut être ajusté avec les outils situés au-dessus du document.

![](resources/images/dhis2_creating_reporting/ireport/21_title_edit.jpg)

> **REMARQUE**
>
> Les champs commençant par "$F" présentent des valeurs qui sont extraites de la base de données à chaque fois que le rapport est exécuté. Les valeurs varient, ne modifiez donc pas ces champs à moins que vous ne souhaitiez une valeur statique !

#### Texte { #text }

Le logiciel iReportIl dispose de deux types de texte : Les "étiquettes de texte" et les "champs de texte" (champs de données). Ces types de texte fonctionnent différemment et doivent être utilisés à des fins différentes. Ce qu'il faut retenir est que les champs de texte sont juste des espaces réservés qui seront remplis avec le texte correct du tableau de rapport lorsque celui-ci sera exécuté, tandis que les étiquettes de texte resteront telles quelles lorsque le rapport sera exécuté.

##### Texte statique { #static-text }

Les textes statiques sont des étiquettes en texte clair qui peuvent être éditées normalement. Il existe deux façons de modifier les étiquettes de texte :

-   En double-cliquant dans la zone de saisie

-   En utilisant les propriétés du texte statique dans le panneau Propriétés

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_01.jpg)

##### Champs de texte { #text-fields }

Les champs de texte sont des formules qui seront complétées à partir du tableau de rapport lorsque celui-ci sera exécuté. Contrairement au texte statique, ils ne peuvent pas être modifiés normalement. Toutefois, ils peuvent être manipulés de différentes manières pour garantir que le résultat souhaité. Il existe trois façons de modifier les champs de texte :

-   En faisant un clic droit sur la zone de texte et en sélectionnant Modifier l'expression

-   En double-cliquant sur le champ de texte (non recommandé, car cela ne fera pas apparaître l'éditeur d'expression)

-   En utilisant les propriétés du champ Texte dans le panneau Propriétés

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_04.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_06.jpg)

Les champs de texte peuvent représenter soit des chiffres, soit du texte, de sorte qu'ils peuvent être utilisés à la fois pour indiquer par exemple les noms de districts ou pour la saisie des valeurs numériques. Il est donc important que la classe Expression, dans les propriétés du champ de texte, corresponde à l'expression du champ de texte. Aucun problème ne se pose en ce qui concerne les champs de texte par défaut dans le fichier .jrxml téléchargé depuis DHIS2, mais cette correspondance est importante lors de la création de nouveaux champs de texte. Les deux classes d'expression les plus importantes sont java.lang.Double pour les nombres et java.lang.String pour le texte.

###### Exemple { #example }

Supposons par exemple que vous avez un rapport trimestriel et que vous souhaitez ajouter une nouvelle colonne du total annuel. Vous ajoutez donc un nouveau champ de texte statique à la bande d'en-tête de la colonne, et un champ de texte à la bande de détails. Par défaut, les nouveaux champs de Texte sont définis sur java.lang.String (texte). Cependant, la colonne du total annuel sera remplie de chiffres. Nous devons donc changer la classe d'expression en java.lang.Double pour le nouveau champ de texte :

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_07.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_08.jpg)

Lorsque nous modifions l'expression du champ de texte, la fenêtre de l'éditeur d'Expression s'affiche avec toutes les colonnes disponibles du tableau du rapport. Nous pouvons alors constater ici que chacune d'entre elles est marquée avec son type - texte ou nombre. Nous devons donc nous assurer que la classe d'expression que nous choisissons pour le champ de texte correspond à l'expression réelle.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_10.jpg)

### Filtrage des lignes du tableau { #filtering-the-table-rows }

Dans le tableau par défaut exporté depuis DHIS2, il y a certaines lignes qu'il serait préférable de laisser en dehors du tableau, et d'autres qu'il serait préférable d'avoir à la fin. Par exemple, lors de la création d'un tableau basé sur un tableau de rapport avec le paramètre "unité d'organisation mère", le tableau par défaut peut comporter une ligne entre toutes les régions pour le niveau national. Dans le logiciel iReport, cela peut être modifié de manière à ce que l'"unité organisationnelle mère" apparaisse en bas du tableau. Cela implique deux étapes qui seront expliquées ci-dessous. Notez que cela ne fonctionnera pas lorsqu'il n'y a qu'une seule unité organisationnelle, et que c'est donc plus utile lorsque vous utilisez les paramètres "unité d'organisation mère" ou "unité d'organisation grand-mère" dans le tableau du rapport.

#### Masquer « Le paramètre unité d'organisation » du tableau { #hiding-the-parameter-organisation-unit-from-the-table }

Nous supprimons du tableau l'"Unité d'organisation des paramètres" en utilisant une propriété dans la bande de détails appelée "Imprimer si expression" (Print when expression). Pour définir une propriété Imprimer si expression, commencez par sélectionner la bande Détails dans Report inspector, puis modifiez la propriété Imprimer si expression dans le panneau des propriétés.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_11.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_12.jpg)

La fenêtre de l'éditeur d'expression devrait maintenant s'afficher. Ce qu'il faut faire, c'est créer une expression qui vérifie si la ligne générée est celle dont l'unité d'organisation est donnée en paramètre. Le tableau de rapport contient une colonne que nous pouvons utiliser pour cette unité d'organisation appelée organisation_unit_is_parent. Pour exclure la ligne contenant le paramètre Unité d'organisation, double-cliquez sur organisation_unit_is_parent dans la liste pour la copier dans la zone d'expression, puis ajoutez `.equals("No")` à la fin pour que le code soit :

```
$F{organisation_unit_is_parent}.equals("No")
```

Cela indique au moteur de rapport de n'imprimer que les lignes du tableau où l'unité d'organisation n'est pas l'unité d'organisation mère.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_14.jpg)

#### Placer « Le paramètre unité d'organisation » au bas du tableau { #putting-the-param-organisation-unit-at-the-bottom-of-the-table }

Au lieu de supprimer complètement le "paramètre Unité d'organisation" de la table, il est également possible de la placer en bas (ou en haut) de la table. Pour ce faire, il faut utiliser la fonctionnalité de tri expliquée dans la section suivante, et choisir de trier d'abord par "organisation_unit_is_parent". D'autres options de tri peuvent être ajoutées en plus de celle-ci, par exemple pour dresser une liste dans laquelle le paramètre unité d'organisation est en bas du tableau, avec les autres unités d'organisation listées par ordre alphabétique au-dessus.

#### Masquer les autres rangées { #hiding-other-rows }

En utilisant l'éditeur d'expressions (expression editor), il est également possible d'exclure d'autres lignes du tableau, en plus de l'unité d'organisation mère comme expliqué ci-dessus. Au Ghana, par exemple, toutes les régions ont un "faux district" qui est le nom de la région entre crochets. Il est également possible de l'exclure du tableau en utilisant la propriété Imprimer si expression que nous avons abordée plus haut. Pour ce faire, suivez donc les instructions ci-dessus pour faire apparaître la fenêtre Expression editor. Ensuite, nous utilisons des expressions Java pour vérifier si la ligne doit être masquée ou non.

##### Exemple - suppression des lignes dont les unités d'organisation commencent par \[. { #example-removing-rows-with-organisation-units-starting-with }

Exemple - suppression des lignes dont les unités d'organisation commencent par \[.

```
($F{organisationunitname}.charAt( 0 ) != '[')
```

Cela crée une situation dans laquelle le rapport saute toutes les lignes où le premier caractère du nom de l'unité d'organisation est \[.

Il est également possible de combiner plusieurs de ces expressions. Pour ce faire, nous mettons les expressions entre parenthèses avec les deux caractères && entre les deux. Par exemple, pour produire un tableau laissant les deux unités d'organisation dont le nom commence par \[ et l'unité d'organisation parent, nous pouvons utiliser l'expression suivante :

```
($F{organisationunitname}.charAt( 0 ) != '[')&&$F{organisation_unit_is_parent}.equals("No")
```

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_29.jpg)

### Triage { #sorting }

Très souvent, vous établirez des rapports dont la première colonne contient les noms des unités d'organisation. Cependant, il peut être problématique que la liste des unités d'organisation ne soit pas classée par ordre alphabétique. Ce problème peut être résolu dans iReport en quelques étapes simples.

Dans Report Inspector, faites un clic droit sur le nom du rapport (par défaut, il s'agit de dpt) et sélectionnez Modifier la requête.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_21.jpg)

Une fenêtre de requête de rapport s'ouvre. Cliquez sur le bouton "Options de tri".

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_22.jpg)

Une fenêtre de tri apparaîtra comme indiqué ci-dessous. Ici, nous pouvons ajouter nos options de tri. Cliquez sur le bouton Ajouter un champ. Une autre petite fenêtre apparaîtra, avec un menu déroulant où vous pouvez choisir Trier par nom d'unité d'organisation pour que le tableau soit trié par ordre alphabétique de nom.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_23.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_24.jpg)

Cliquez sur OK - Fermer - OK pour fermer les trois fenêtres. Le tableau doit maintenant être trié.

### Modifier les noms d'indicateurs/d'éléments de données { #changing-indicatordata-element-names }

Par défaut, les rapports du DHIS2 utilisent les noms abrégés des indicateurs et des éléments de données des rapports et des graphiques. Dans certains cas, ceux-ci ne sont pas toujours très significatifs pour les tiers, mais avec un peu de travail, ils peuvent avoir des noms personnalisés via iReport. Ceci est utile par exemple si vous produisez un rapport avec des indicateurs sous forme de lignes et des périodes sous forme de colonnes, ou pour des graphiques avec des indicateurs.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_000.jpg)

Pour modifier les noms d'un indicateur ou d'un élément de donnée, nous devons modifier son "expression" ou sa formule, par exemple en faisant un clic sur la zone de texte et en choisissant Modifier l'expression pour afficher l'Editeur d'expression.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_32.jpg)

Nous devons ensuite insérer un code Java. Dans l'exemple suivant, nous allons remplacer le nom abrégé de trois indicateurs par leur nom propre. Le code recherche le nom abrégé, puis le remplace par un nom propre.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_34.jpg)

```
($F{indicatorname}.equals("Bed Util All")) ? "Bed Utilisation - All Wards"
:
($F{indicatorname}.equals("Bed Util Mat")) ? "Bed Utilisation - Maternity"
:
($F{indicatorname}.equals("Bed Util Ped")) ? "Bed Utilisation - Paediatric"
:
$F{indicatorname}
```

On peut en déduire un modèle réutilisable pour des cas plus généraux.

-   Pour chaque indicateur ou élément de données dont nous voulons changer le nom, nous avons besoin d'une ligne

-   Chaque ligne est séparée par deux points :

-   Nous terminons l'expression par une ligne « régulière »

Chaque ligne a le même format, où le texte rouge représente le nom abrégé, le texte bleu est ce que nous voulons insérer à la place.

![](resources/images/dhis2_creating_reporting/ireportadv/ireport_screen_0.jpg)

Les mêmes expressions peuvent être utilisées, par exemple, lorsque les noms des indicateurs se trouvent le long de l'axe des catégories d'un graphique.

### Addition des totaux horizontaux { #adding-horizontal-totals }

En utilisant l'éditeur d'expressions, il est possible d'ajouter une colonne au tableau avec des totaux pour chaque ligne. Dans l'exemple suivant, nous allons faire un tableau en prenant trois mois comme colonnes ainsi qu'une colonne contenant les totaux pour les trois mois.

Nous commençons par faire glisser une étiquette de texte dans l'en-tête du tableau et changer son texte en "Total", et faire glisser un champ de texte dans la ligne de détails.

Comme nous l'avons vu dans la section "Champ de texte", nous devons modifier les propriétés du nouveau champ de texte afin qu'il puisse afficher des chiffres. Pour ce faire, changez la "Classe d'expressions" dans le panneau des propriétés en "java.lang.Double".

Faites un clic droit sur le champ de texte et choisissez "Modifier l'expression". L'éditeur d'expressions apparaîtra. Comme expression, nous voulons résumer toutes les colonnes. Dans ce cas, nous avons trois expressions de valeur que nous voulons résumer : "Septembre", "Octobre 2010", "Novembre 2010". Le nom de ces champs variera en fonction de la dimension de tableau croisé que vous avez choisie dans le tableau du rapport. Dans notre cas, l'expression que nous construisons est

```
$f{September}+$f{October 2010}+$f{November 2010}
```

Chaque ligne du tableau aura une colonne de totaux à droite.

### Groupes de tableaux { #groups-of-tables }

Dans certains cas, il peut être utile d'avoir plusieurs tableaux dans un seul rapport. Cela peut être fait en utilisant les groupes de rapports. En utilisant cette fonctionnalité, on peut par exemple créer un rapport avec un tableau pour chaque indicateur, ou un tableau pour chaque unité d'organisation. Dans la suite, nous allons passer en revue les étapes nécessaires pour faire un rapport avec trois indicateurs, chacun représenté dans un tableau. Il est important que le tableau du rapport ne comporte pas de tableaux croisés sur les indicateurs lorsque nous voulons faire des groupes de tableaux basés sur les indicateurs.

Dans notre exemple, le fichier .jrxml téléchargé du DHIS2 aura par défaut une colonne pour l'unité d'organisation et une autre pour les indicateurs (en supposant que nous ayons choisi des périodes comme seule dimension croisée). Nous commençons par supprimer la colonne des indicateurs, puisque cela n'est pas nécessaire dans notre cas, et nous réalignons les autres champs pour qu'ils correspondent au rapport.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_36.jpg)

Ensuite, nous créons notre groupe de rapport. Allez dans Report Inspector, faites un clic droit sur le nom du rapport (dpt est la valeur par défaut) et choisissez Ajouter un groupe de rapports.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_38.jpg)

Une fenêtre s'affiche, avec un assistant de groupe de rapports. Sélectionnez un nom pour le groupe ; dans notre cas nous choisissons "Indicateur". Dans le menu déroulant, nous pouvons sélectionner les colonnes du tableau de rapport sur lesquelles nous voulons que les groupes soient basés. Ainsi, si nous voulions un tableau pour chaque unité d'organisation, nous choisirions le nom de l'unité d'organisation comme objet de rapport à regrouper. Cependant, étant donné que nous regroupons par indicateurs dans cet exemple, nous choisissons le nom de l'indicateur. Cliquez ensuite sur suivant.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_39.jpg)

L'étape suivante consiste à choisir si nous voulons ou non un en-tête et un pied de page de groupe séparés pour chaque groupe de rapports. Dans ce cas, nous choisissons d'inclure les deux. Cliquez sur Terminer, et les bandes de groupe devraient apparaître dans le rapport.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_40.jpg)

Si vous téléchargez et exécutez le rapport, il créera désormais un tableau pour chaque indicateur. Cependant, cela ne sera pas très joli puisqu'il n'y aura pas de ligne d'en-tête au-dessus de chaque tableau - un seul en-tête en haut de chaque page. De plus, il n'y a aucune indication quant à quel tableau montre que indicateur. Dans ce qui suit, nous allons remédier à ce problème.

Au lieu d'avoir la ligne de titre dans l'en-tête de la colonne, nous pouvons la déplacer vers l'en-tête du groupe. Ainsi, le titre apparaîtra au-dessus de chaque tableau individuel. En outre, nous pouvons ajouter un titre à chaque tableau avec le nom de l'indicateur.

Déplacez les en-têtes de colonne de la bande d'en-tête de colonne à la bande d'en-tête du groupe d'indicateurs.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_41.jpg)

Ensuite, ajoutez un champ de texte à la bande d'en-tête du groupe Indicateur, et modifiez son expression pour afficher le nom de l'indicateur.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_42.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_44.jpg)

Le rapport devrait maintenant comporter trois tableaux, un pour chaque indicateur. Chaque tableau aura un titre avec le nom de l'indicateur, ainsi qu'une ligne d'en-tête de tableau.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_45.jpg)

#### Triage et regroupement { #sorting-and-grouping }

Lorsqu'on utilise le groupage, certaines précautions doivent être prises en ce qui concerne le tri. Notamment, lors de l'ajout de paramètres de tri, le paramètre utilisé comme base du groupage doit être prioritaire. Ainsi, si vous groupez le rapport par indicateur et que vous souhaitez trier les unités d'organisation par ordre alphabétique, vous devez choisir de trier d'abord par indicateur, puis par nom d'unité d'organisation comme indiqué ci-dessous. Pour savoir comment ajouter un tri, voir la section sur le tri ci-dessus.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_59.jpg)

## Graphiques { #charts }

Par défaut, un diagramme à barres 3D est inclus dans le fichier .jrxml téléchargé depuis DHIS 2, qui est configuré de manière à ce que seules les données de l'"unité d'organisation des paramètres" (souvent le parent ou le grand-parent) soient utilisées. C'est généralement une bonne solution. Etant donnée qu'il s'agit de la valeur par défaut, nous commencerons par examiner les diagrammes en barres, avant d'examiner les graphiques linéaires.

### Graphiques à barres { #bar-charts }

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_54.jpg)

Les diagrammes en barres sont le type de diagramme par défaut dans le DHIS2. Dans cette section, nous allons voir comment réaliser un diagramme en barres comme celui ci-dessus, en comparant la valeur d'un indicateur dans plusieurs districts. Pour modifier le graphique par défaut dans iReport, cliquez avec le bouton droit de la souris et choisissez Données du graphique.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_46.jpg)

Une fenêtre s'affiche. Par défaut, la zone de texte de l'expression Filtre est remplie de manière à ce que seules les données de l'unité d'organisation parent soient affichées. Si, pour une raison quelconque, vous ne le souhaitez pas, il vous suffit de supprimer le texte dans la zone de texte. Dans ce cas, nous ne voulons PAS du filtre, car nous faisons un graphique montrant une comparaison entre les districts. Pour continuer, cliquez sur l'onglet Détails.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_47.jpg)

Sous Détails, vous voyez la liste des séries pour le tableau. Par défaut, une série est créée par colonne de tableau croisé. Dans ce cas, nous examinons les données d'un indicateur pour toute l'année 2010, pour un certain nombre de districts. L'indicateur se trouve dans la dimension du tableau croisé.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_48.jpg)

Pour apporter des modifications à une série, sélectionnez-la et cliquez sur modifier. Une autre fenêtre s'affiche, dans laquelle il y a quatre zones qui peuvent être modifiées. Les trois premières sont obligatoires, mais il suffit d'ajouter une citation vide («») dans l'une des deux premières.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_500.jpg)

La première case est un champ de texte dans lequel le nom de la série peut être inséré ou modifié. C'est ce champ qui sera utilisé pour saisir le texte dans la case de légende (voir ci-dessous).

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_50.jpg)

Toutefois, si vous souhaitez que le nom de chaque barre soit placé le long de l'axe des x du graphique au lieu d'utiliser la légende, vous pouvez le faire en ajoutant le texte que vous souhaitez présenter dans le champ Expression de catégorie, ou en insérant une expression pour qu'il soit rempli automatiquement lors de l'exécution du rapport. Dans ce cas, nous voulons avoir une barre pour chaque unité d'organisation. Nous pouvons donc éditer l'expression de catégorie en cliquant sur le bouton à droite.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_49.jpg)

Comme expression, nous avons choisi nom d'unité d'organisation, comme indiqué ci-dessous.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_490.jpg)

Lorsque nous aurons terminé, l'Éditeur de séries devrait ressembler à ce qui suit. Cliquez sur OK, puis sur Fermer pour fermer la fenêtre Détails du graphique.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_501.jpg)

Si vous ajoutez une bonne description dans la zone d'expression de la catégorie, vous pouvez omettre la case de la légende. Cela se fait dans le panneau des propriétés du rapport d'iReport, où vous pouvez également modifier de nombreux autres détails du graphique.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_51.jpg)

Nous pouvons également ajouter un titre au tableau, par exemple le nom de l'indicateur. Cela se fait également dans le panneau des propriétés du graphique, sous Expression du titre.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_55.jpg)

La fenêtre Editeur d'expression s'ouvre, et vous pourrez donc saisir le titre. Notez que le titre doit être entre guillemets, comme indiqué ci-dessous.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_56.jpg)

Le graphique est maintenant prêt.

### Graphiques linéaires { #line-charts }

Les graphiques linéaires peuvent être utiles dans de nombreuses circonstances. Toutefois, pour réaliser des graphiques linéaires, les données du rapport (tableau de rapport) doivent être adaptées à celui-ci. Ainsi, si vous voulez faire un graphique linéaire, il est important que le tableau de rapport ne comporte pas de périodes dans le recoupement de dimensions. Cela est utile par exemple si vous faites un rapport pour une seule unité d'organisation avec un ou plusieurs indicateurs, ou si vous faites un rapport avec un indicateur et une ou plusieurs unités d'organisation.

Ci-dessous, nous allons passer en revue les étapes nécessaires à la production d'un rapport avec un graphique linéaire montrant l'évolution de trois indicateurs sur un an, pour une unité d'organisation. Nous commençons par générer un tableau de rapport à partir des options indiquées ci-dessous :

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_57.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_60.jpg)

Lorsque nous ouvrons le fichier .jrxml- obtenu dans iReport, le graphique linéaire par défaut est inclus. Du moment où nous voulons créer un graphique linéaire, nous supprimons ce graphique et faisons glisser un nouvel élément de graphique dans le rapport à partir du Panneau de la palette.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_61.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_62.jpg)

Dès que nous faisons glisser l'élément Graphique dans le rapport, une fenêtre apparaît. Nous choisissons le graphique linéaire, comme indiqué ci-dessous.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_63.jpg)

Un assistant graphique s'affiche. Cliquez sur Suivant dans la première étape, puis sur Terminer dans la suivante - nous ajouterons les données plus tard.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_64.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_65.jpg)

Ensuite, ajustez la taille et la position du graphique dans votre rapport. Ensuite, nous ajouterons une série de données pour chacun de nos trois indicateurs. Faites un clic droit sur le graphique et choisissez Données du graphique. Si vous créez un graphique avec un indicateur et plusieurs unités d'organisation, vous souhaitez probablement créer une expression filtre afin que seules les données de l'unité d'organisation mère/de paramètre soient utilisées dans le graphique. Pour ce faire, ajoutez cette ligne à la zone Expression filtre :

`$F{organisation_unit_is_parent}.equals("Yes")`

Ce n'est donc pas nécessaire dans notre exemple, puisque nous n'avons qu'une unité d'organisation. Ensuite, cliquez sur l'onglet "Détails" pour visualiser la liste des séries dans le tableau. Pour l'instant, cette liste est vide, mais nous allons ajouter une série pour chacun de nos trois indicateurs. Pour ajouter une série, cliquez sur le bouton Ajouter.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_66.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_67.jpg)

Dans la fenêtre qui s'affiche, entrez le nom du premier des indicateurs dans la fenêtre d'expression de la série. N'oubliez pas de mettre le nom entre guillemets. Dans l'expression de catégorie (sur l'axe des x), nous voulons les mois ; nous utilisons donc le bouton à côté du champ pour ouvrir l'éditeur d'expression et ajouter le nom de la période.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_69.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_68.jpg)

Dans l'expression des valeurs, nous ajoutons les valeurs réelles des données pour notre premier indicateur. Pour ce faire, utilisez à nouveau l'éditeur d'expression. Lorsque nous avons terminé, la fenêtre doit ressembler à celle ci-dessous, mais avec des noms différents selon l'indicateur.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_70.jpg)

Vous pouvez ensuite cliquer sur OK pour fermer la fenêtre. Suivez les mêmes étapes pour ajouter une série pour les autres indicateurs.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_71.jpg)

Fermez la fenêtre, et les données du graphique linéaire devraient être prêtes. Cependant, quelques ajustements supplémentaires peuvent être nécessaires - la plupart d'entre eux peuvent être trouvés dans le panneau des propriétés du graphique linéaire. Par exemple, lors de la création d'un graphique mois par mois, comme nous l'avons fait dans l'exemple, il n'y a souvent pas assez d'espace pour les noms des mois le long de l'axe des catégories. Ce problème peut être résolu en faisant pivoter les étiquettes de -40 degrés par exemple, en utilisant la propriété Rotation des étiquettes de l'axe des catégories.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_72.jpg)

De nombreuses autres options sont disponibles pour donner au tableau l'aspect souhaité.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_73.jpg)

## Ajout de rapport au DHIS2 { #adding-the-report-to-dhis2 }

Nous pouvons maintenant passer au système DHIS2 et importer notre rapport. Allez dans le Module de rapport de DHIS2, et sélectionnez "Rapport standard". Dans l'écran "Rapport standard", cliquez sur "Ajouter nouveau", ou modifiez un rapport existant.

Dans l'écran suivant, il y a plusieurs actions que nous devons effectuer. Premièrement, entrez un nom pour le nouveau "Rapport standard". Ensuite, pour la conception, cliquez sur "Choisir un fichier" et trouvez le fichier .jrxml- que vous avez édité dans iReport. Sélectionnons ensuite le tableau de rapport que nous avons utilisé comme base pour le rapport dans iReport. Cliquez sur "Ajouter", et il devrait se retrouver dans la zone "Tableaux de rapport sélectionnés". Enfin, cliquez sur Enregistrer.

![](resources/images/dhis2_creating_reporting/ireport/27_new_std_report.jpg)

Le rapport est désormais disponible sous forme de "Rapport standard" dans le système DHIS2 :

![](resources/images/dhis2_creating_reporting/ireport/28_done.jpg)

## Quelques orientations finales { #some-final-guidelines }

-   Utilisez la même version d'iReport et la version DHIS2 des rapports Jasper. Voir la page À propos de DHIS2 pour la version Jasper utilisée.

-   Utilisez les tableaux de rapport ayant des tabulations croisées comme source de données pour la conception de vos rapports. Cela facilitera grandement la conception de rapports dans lesquels vous devez placer des indicateurs, des périodes ou des organisations spécifiques sur des colonnes.

-   Learn from others, e.g. on the [community of practice](https://community.dhis2.org)

## Conception de rapports standard basés sur SQL { #designing-sql-based-standard-reports }

Un rapport standard peut être basé sur des requêtes SQL. Cela est utile lorsque vous devez accéder à plusieurs tables dans la base de données DHIS2 et faire des sélections et des jointures personnalisées.

\- Cette étape est facultative, mais pratique lorsque vous devez déboguer vos rapports et que vous avez un accès direct à la base de données que vous souhaitez utiliser. Cliquez sur le bouton "sources de données des rapports", "Nouveau", "Connexion à la base de données JDBC" et cliquez sur "Suivant". Dans cette fenêtre, vous pouvez donner un nom à votre connexion et sélectionner le pilote JDBC. PostgreSQL et MySQL devraient être inclus dans votre iReport. Saisissez ensuite l'URL de la connexion JDBC, le nom d'utilisateur et le mot de passe. Les trois derniers font référence à votre base de données et peuvent être récupérés dans votre fichier de configuration DHIS2 (hibernate.properties). Cliquez sur "enregistrer". Vous avez maintenant connecté iReport à votre base de données.

\- Allez à Rapports standard et cliquez sur "ajouter nouveau", puis "obtenir un modèle de rapport". Ouvrez ce modèle dans iReport. Ce modèle contient une série de paramètres de rapport qui peuvent être utilisés pour créer des instructions SQL dynamiques. Ces paramètres seront substitués en fonction des paramètres de rapport que nous sélectionnerons et inclurons plus tard dans le rapport standard. Ces paramètres sont les suivants :

-   périodes - chaîne constituée d'identifiants séparés par des virgules des périodes relatives

-   nom_de période - nom de la période de déclaration

-   unitésd'organisation - identifiant des unités d'organisation sélectionnées

-   nom_d'unité d'organisation - nom de l'unité d'organisation déclarante

-   niveau_d'unité d'organisation - niveau de l'unité d'organisation déclarante

-   Le nom de la colonne_du niveau_de l'unité d'organisation correspondante dans le \_ tableau des ressources de la structure de l'orgunit

Ces paramètres peuvent être inclus dans des instructions SQL en utilisant la syntaxe `$P\!{périodes}`, où "périodes" représente le paramètre.

\- Pour créer une requête SQL dans iReport, cliquez sur le bouton "requête de rapport". Ecrivez ou collez votre requête dans la zone de texte. Voici donc un exemple de requête SQL utilisant des paramètres qui permettront de créer un rapport affichant des valeurs de données brutes au quatrième niveau de la hiérarchie des unités d'organisation :

```
    select district.name as district, chiefdom.name as chiefdom, ou.name as facility,
    bcg.value as bcg, yellowfever.value as yellowfever, measles.value as  measles
    from organisationunit ou
    left outer join _orgunitstructure ous
      on (ou.organisationunitid=ous.organisationunitid)
    left outer join organisationunit district
      on (ous.idlevel2=district.organisationunitid)
    left outer join organisationunit chiefdom
      on (ous.idlevel3=chiefdom.organisationunitid)
    left outer join (
      select sourceid, sum(cast(value as double precision)) as value
      from datavalue
      where dataelementid=359706
      and periodid=$P!{periods}
      group by sourceid) as bcg on bcg.sourceid=ou.organisationunitid
    left outer join (
      select sourceid, sum(cast(value as double precision)) as value
      from datavalue
      where dataelementid=35
      and periodid=$P!{periods}
      group by sourceid) as yellowfever on yellowfever.sourceid=ou.organisationunitid
    where ous.level=4
    and ous.$P!{organisationunit_level_column}=$P!{organisationunits}
    order by district.name, chiefdom.name, ou.name;
```

Remarquez la façon dont tous les paramètres sont utilisés dans la requête, ainsi que les jointures SQL des tables de ressources dans la base de données de DHIS2.

\- Enfin, de retour dans l'écran d'ajout de nouveau rapport, nous cliquons sur "Utiliser la source de données JDBC". Cela vous permet de sélectionner n'importe quelle période relative et les paramètres de votre rapport. Les périodes relatives sont relatives à la date du jour. Les paramètres du rapport provoquent une invite lors de la création du rapport et permettent de sélectionner dynamiquement les unités d'organisation et les périodes à utiliser pour votre rapport pendant l'exécution. Pour l'exemple ci-dessus, nous devons sélectionner "mois de référence" sous les périodes relatives et à la fois "mois de référence" et "unité d'organisation" sous les paramètres du rapport. Cliquez sur "Sauvegarder". Vous serez alors redirigé vers la liste des rapports, où vous pourrez cliquer sur l'icône verte "créer" à côté de votre rapport pour le rendre.

## Conception de rapports standard basés sur HTML { #designing-html-based-standard-reports }

Un rapport standard peut être conçu en utilisant uniquement HTML et JavaScript. Cela nécessite un peu d'expérience en matière de développement dans les domaines mentionnés. L'avantage des rapports standard basés sur HTML est qu'ils offrent un maximum de flexibilité. En utilisant HTML, vous pouvez concevoir exactement le rapport que vous souhaitez, en positionnant les tableaux, les logos et les valeurs sur la page selon vos besoins de conception. Vous pouvez écrire et enregistrer votre rapport standard dans un fichier texte ordinaire. Pour télécharger votre rapport standard HTML dans le système DHIS2, procédez comme suit :

-   Naviguez jusqu'aux rapports standard et cliquez sur "Ajouter nouveau".

-   Donnez un nom au rapport.

-   Sélectionnez "Rapport HTML" comme type.

-   Si vous le souhaitez, vous pouvez télécharger un modèle de rapport en cliquant sur "Obtenir le modèle de rapport HTML".

-   Sélectionnez les périodes relatives souhaitées - elles seront disponibles en JavaScript dans votre rapport.

-   Sélectionnez les paramètres du rapport - ils seront disponibles en JavaScript dans votre rapport.

Le modèle de rapport, que vous pouvez télécharger après avoir sélectionné le type de rapport, constitue un point de départ utile pour l'élaboration de rapports standard basés sur HTML. Il vous donne la structure de base et vous suggère comment utiliser JavaScript et CSS dans le rapport. JavaScript et CSS peuvent facilement être inclus en utilisant des balises de script et de style standard.

Si vous avez sélectionné des périodes relatives lors de la création du rapport standard, vous pouvez y accéder en JavaScript sous cette forme :

    var périodes = dhis2.report.periods; // Un tableau contenant des identificateurs de périodes
    var période = périodes[0];

Si vous avez sélectionné le paramètre de rapport d'unité d'organisation lors de la création du rapport standard, vous pouvez accéder à l'unité d'organisation sélectionnée en JavaScript comme ceci :

    var orgUnit = dhis2.report.organisationUnit; // Un objet
    var id = id.orgUnit ;
    var nom = nom.orgUnit ;
    var code = code.orgUnit ;

Lors de la conception de ces rapports, vous pouvez utiliser la ressource Web API d'analyse afin de récupérer des données agrégées en JavaScript. Consultez le chapitre sur l'API Web de ce guide pour une description plus détaillée. A titre d'exemple, vous pouvez récupérer des données analytiques après le chargement du rapport et utiliser ces données pour définir le texte interne d'un élément HTML comme celui-ci :

    <script type="text/javascript">
    $( document ).ready( function() {
        $.get( "../api/analytics?dimension=dx:FnYCr2EAzWS;eTDtyyaSA7f&dimension=pe:THIS_YEAR&filter=ou:ImspTQPwCqd", function( json ) {
            $( "#bcg" ).html( json.rows[0][2] );
            $( "#fic" ).html( json.rows[1][2] );
        } );
    } );
    </script>

    <div>Couverture par le BGG : <span id="bcg"></span></div>
    <div>Couverture vaccinale : <span id="fic"></span></div>

Quelques conseils supplémentaires : Pour inclure des graphiques, vous pouvez convertir une image au format SVG et intégrer ce contenu SVG directement dans le rapport - DHIS2 est basé sur HTML 5 où les balises SVG sont un balisage valide. Pour inclure des graphiques et des cartes dans votre rapport, vous pouvez utiliser les ressources graphiques et cartographiques de l'API Web. Vous pouvez utiliser toutes les possibilités de l'API Web à partir de JavaScript dans votre rapport - il serait important de lire le chapitre sur l'API Web pour avoir un aperçu de toutes les ressources disponibles.

# Paramètres du système { #settings }

## Paramètres généraux { #system_general_settings }

<table>
<caption>General settings</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Setting</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Maximum number of analytics records</strong></p></td>
<td><p>Increase this number to provide more records from the analytics.</p>
<p>The default value is 50,000.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>Use the setting <strong>Unlimited</strong> carefully, it might result in a very high load on your server.</p>
</blockquote></td>
</tr>
<tr class="even">
<td><p><strong>Maximum number of SQL view records</strong></p></td>
<td><p>Set the maximum number of records in a SQL view.</p>
<p>The default value is Unlimited.</p>
</tr>
<tr class="odd">
<td><p><strong>Cache strategy</strong></p></td>
<td><p>Decides for how long reports analytics responses should be cached.</p>
<p>If you use the scheduled, nightly analytics update, you may want to select <strong>Cache until 6 AM tomorrow</strong>. This is because data in reports change at that time, and you can safely cache data up to the moment when the analytics tables are updated.</p>
<p>If you are loading data continuously into the analytics tables, select <strong>No cache</strong>.</p>
<p>For other cases select the amount of time you want the data to be cached.</p></td>
</tr>
<tr class="even">
<td><p><strong>Infrastructural indicators</strong></p></td>
<td><p>Defines an indicator group where the member indicators should describe data about the organisation units' infrastructure.</p>
<p>You can view the infrastructural data in the <strong>GIS</strong> app: right-click a facility and click <strong>Show information</strong>.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Infrastructural data elements</strong></p></td>
<td><p>Defines a data element group where the member data elements should describe data about the organisation units' infrastructure.</p>
<p>Infrastructural data elements can be population, doctors, beds, Internet connectivity and climate.</p>
<p>You can view the infrastructural data in the <strong>GIS</strong> app: right-click a facility and click <strong>Show information</strong>.</p></td>
</tr>
<tr class="even">
<td><p><strong>Infrastructural period type</strong></p></td>
<td><p>Sets the frequency for which the data elements in the infrastructural data elements group are captured.</p>
<p>This will typically be yearly. When viewing the infrastructural data you will be able to select the time period of the data source.</p>
<p>You can view the infrastructural data in the <strong>GIS</strong> app: right-click a facility and click <strong>Show information</strong>.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Default relative period for analysis</strong></p></td>
<td><p>Setting this value will determine which relative period is selected as the default in the analytics apps.</p></td>
</tr>
<tr class="even">
<td><p><strong>Feedback recipients</strong></p></td>
<td><p>Defines a user group where the members will receive all messages sent via the feedback function in the <strong>Dashboard</strong> app.</p>
<p>This will typically be members of the super user team who are able to support and answer questions coming from end-users.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Max offline organisation unit levels</strong></p></td>
<td><p>Defines how many levels in the organisation unit hierarchy will be available offline in the organisation unit tree widget.</p>
<p>Under normal circumstances you can leave this on the lowest level, which is default is the default setting.</p>
<p>It can be useful to set it to a higher level to reduce initial load time in cases where you have a large number of organisation units, typically more than 30 000.</p></td>
</tr>
<tr class="even">
<td><p><strong>Data analysis std dev factor</strong></p></td>
<td><p>Sets the number of standard deviations used in the outlier analysis performed on the captured data in the <strong>Data Entry</strong> app.</p>
<p>The default value is 2. A high value will catch less outlier values than a low value.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Phone number area code</strong></p></td>
<td><p>The area code for the area in which your deployment is located.</p>
<p>Used for sending and receiving SMS. Typically, this is a country code.</p>
<p><em>+260</em> (country code for Zambia)</p></td>
</tr>
<tr class="even">
<td><p><strong>Enable multi-organisation unit forms</strong></p></td>
<td><p>Enables support to enter data forms for multiple organisation units at the same time in the <strong>Data Entry</strong> app.</p>
<p>If you've enabled this setting, you can in the <strong>Data Entry</strong> app, click on the parent organisation unit for the children that you want to enter data for, and the data set list will include data sets that are assigned to the children of that parent.</p></td>
</tr>
<tr class="odd">
<td><strong>Acceptance required before approval</strong></td>
<td>When this setting is selected, acceptance of data will be required first before submission to the next approval level is possible.</td>
</tr>
<tr class="even">
<td><strong>Gather analytical object statistics in dashboard views</strong></td>
<td>Gather usage analytics data when analytical objects (e.g., maps, charts, etc.)
are viewed within a dashboard. Without this setting, analytics data on the objects 
is gathered only when the objects are viewed outside of a dashboard.</td>
</tr>
<tr class="odd">
<td><strong>Include passive dashboard views in usage analytics statistics</strong></td>
<td>(Reserved for future use)</td>
</tr>
</tbody>
</table>

## Paramètres d'analyse { #system_analytics_settings }

<table>
<caption>Analytics settings</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Setting</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Default relative period for analysis</strong></p></td>
<td><p>Defines the relative period to use by default in analytics app: <strong>Data Visualizer</strong>, <strong>Event Reports</strong>, <strong>Event Visualizer</strong>, <strong>GIS</strong> and <strong>Pivot Table</strong> apps. The relative period will be automatically selected when you open these apps.</p>
<p>Recommended setting: the most commonly used relative period among your users.</p></td>
</tr>
<tr class="even">
    <td><p><strong>Hide daily periods</strong></p></td>
    <td><p>Hide daily periods in the analysis tools</p></td>
</tr>
<tr class="odd">
    <td><p><strong>Hide weekly periods</strong></p></td>
    <td><p>Hide weekly periods in the analysis tools</p></td>
</tr>
<tr class="even">
    <td><p><strong>Hide monthly periods</strong></p></td>
    <td><p>Hide monthly periods in the analysis tools</p></td>
</tr>
<tr class="odd">
    <td><p><strong>Hide bimonthly periods</strong></p></td>
    <td><p>Hide bimonthly periods in the analysis tools</p></td>
</tr>
<tr class="even">
<td><strong>Financial year relative start month</strong></td>
<td>Defines which month (April, July or October) the the relative financial year in the analytics apps should begin on.</td>
</tr>
<tr class="odd">
<td><p><strong>Cacheability</strong></p></td>
<td><p>Sets whether analytics data responses should be served with public or private visibility.</p>
<p><strong>Private</strong>: Any node or server between the DHIS2 server and the end user which has the ability to cache can NOT cache the web page. This is useful if the page served can or do contain sensitive information. This means that each time you want a web page, either you get a new page from the DHIS2 server, or the DHIS2 server caches the page. No other server than the DHIS2 server are allowed to cache the page.</p>
<p><strong>Public</strong>: Any node or server between the DHIS2 server and the end user which has the ability to cache can cache the web page. This relives the traffic to the DHIS2 server and potentially speeds up the subsequent page loading speed.</p></td>
</tr>
<tr class="even">
<td><p><strong>Analytics cache mode</strong></p></td>
<td><p>Support two different modes:</p>
<p><strong>Progressive</strong>: this relates to the new progressive caching feature for analytics. When enabled, it OVERRIDES the global caching strategy for analytics requests. This mode will trigger HTTP and data layer caching for all analytics requests. When enabling this mode, the <em>caching factor</em> is MANDATORY.</p>
<p><strong>Fixed</strong>: the requests will be cached based on the period of time defined in <em>cache strategy.</em></p></td>
</tr>
<tr class="odd">
<td><p><strong>Caching factor</strong></p></td>
<td><p>Select a value for the caching factor. This field is only available when the analytics cache mode has been set to <em>progressive</em>.</p>
<p>It shows a list of integers where each integer represents an absolute caching factor. This integer will be used internally to calculate the final expiration time for each analytics request. Higher the caching factor, for longer the request will be cached.</p></td>
</tr>
<tr class="even">
<td><p><strong>Max number of years to hide unapproved data in analytics</strong></p></td>
<td><p>Sets whether and for how long back in time analytics should respect the approval level of the data. Typically, data which is several years old would be considered to be approved by default. In order to speed up analytics requests, you can choose to ignore the actual approval level of historical data.</p>
<p><strong>Never check approval</strong>: no data will be hidden, irrespective of its data approval status.</p>
<p><strong>Check approval for all data</strong>: approval status will always be checked.</p>
<p>Other options, for example <strong>Last 3 years</strong>: approval status will be checked for data which is newer than 3 years old; older data will not be checked.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Threshold for analytics data caching</strong></p></td>
<td><p>Sets whether to enable caching data older than the specified number of years only.</p>
<p>This allows for returning the most recent data directly with no caching, while serving cached version of older data for performance concerns.</p></td>
</tr>
<tr class="even">
<td><p><strong>Respect category option start and end date in analytics table export</strong></p></td>
<td><p>This setting controls whether analytics should filter data which is associated with a category option with a start and end date, but which is not associated with a period within the category options interval of validity.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Put analytics in maintenance mode</strong></p></td>
<td>Places the analytics and web API of DHIS2 in maintenance mode. This means that &quot;503 Service Unavailable&quot; will be returned for all requests.
<p>This is useful when you need to perform maintenance on the server, for example rebuilding indexes while the server is running in production, in order to reduce load and more efficiently carry out the maintenance.</p></td>
</tr>
<tr class="even">
<td><p><strong>Include zero data values in analytics tables</strong></p></td>
<td><p>Includes data elements with zero values in analytics. This only applies to data elements where the &quot;zero is significant&quot; property is enabled. Note that setting &quot;zero is significant&quot; on large numbers of data elements is strongly discouraged, as it can fill the analytics tables with zeros and cause unnecessary performance overhead.</p></td>
</tr> 
<tr class="even">
<td><p><strong>Allow users to switch dashboard favorite view type</strong></p></td>
<td><p>Allows users to switch dashboard favorites' view between charts,
pivot tables and maps, using the dashboard item menu.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Allow users to open dashboard favorite in relevant app</strong></p></td>
<td><p>Allows users to open dashboard items in the app for that type of item,
using the dashboard item menu.</p></td>
</tr>
<tr class="even">
<td><p><strong>Allow users to show dashboard favorite interpretations and details</strong></p></td>
<td><p>Allows users to see dashboard favorites' interpretations and details,
using the dashboard item menu.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Allow users to view dashboard favorite in fullscreen</strong></p></td>
<td><p>Allows users to view dashboard favorites in fullscreen,
using the dashboard item menu.</p></td>
</tr>
</tbody>
</table>

## Paramètres du serveur { #system_server_settings }

<table>
<caption>Paramètres du serveur</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Paramètre</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Nombre de CPU du serveur de base de données</strong></p></td>
<td><p>Fixe le nombre de cœurs CPU de votre serveur de base de données.</p>
<p>Cela permet au système de fonctionner de manière optimale lorsque la base de données est hébergée sur un serveur différent du serveur d'applications, puisque l'analyse dans le DHIS2 s'adapte de manière linéaire au nombre de cœurs disponibles.</p></td>
</tr>
<tr class="even">
<td><p><strong>Adresse électronique des notifications du système</strong></p></td>
<td><p>Définit l'adresse électronique destinataire des notifications du système.</p>
<p>Les notifications concernant les défaillances en matière de processus telles que la génération de tableaux analytiques seront envoyées ici. Ceci est utile pour le suivi des applications.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Clé de Google Analytics (Universal Analytics)</strong></p></td>
<td><p>Configure la clé Google UA pour fournir des analyses d'utilisation pour votre instance DHIS2 via la plateforme Google Analytics. Il est à noter qu'actuellement, toutes les applications de DHIS2 ne supportent pas Google Analytics, donc certaines activités de vos utilisateurs peuvent ne pas apparaître dans cette plateforme.</p>
<p>Vous pouvez en savoir plus sur Google Analytics à l'adresse suivante <a href="http://google.com/analytics" class="uri">http://google.com/analytics</a>.</p></td>
</tr>
<tr class="even">
<td><p><strong>Clé API de Google Maps</strong></p></td>
<td><p>Définit la clé API pour l'API Google Maps. Elle est utilisée pour afficher les cartes dans le DHIS2.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Clé API de Bing Maps</strong></p></td>
<td><p>Définit la clé API pour l'API Bing Maps. Elle est utilisée pour afficher les cartes dans le DHIS2.</p></td>
</tr>
</tbody>
</table>

## Paramètres d'apparence { #system_appearance_settings }

<table>
<caption>Paramètres de l'apparence</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Paramètre</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Sélectionner la langue</strong></p></td>
<td>
    <p>Définit la langue pour laquelle vous pouvez ensuite saisir les traductions des paramètres suivants :</p>
    <ul>
        <li><p><strong>Introduction de l'application</strong></p></li>
        <li><p><strong>Titre de l'application</strong></p></li>
        <li><p><strong>Notification de l'application</strong></p></li>
        <li><p><strong>Bas de page gauche de l'application</strong></p></li>
        <li><p><strong>Bas de page droite de l'application</strong></p></li>
    </ul>
    <blockquote>
        <p><strong>N.B.</strong></p>
        <p>Pour que chacun de ces paramètres accepte une valeur traduite, ils doivent d'abord avoir une valeur par défaut/de repli. Cette valeur peut être fixée en sélectionnant <em>une valeur par défaut du système (repli)</em> dans cette liste déroulante.</p>
    </blockquote>
</td>
</tr>
<tr class="even">
<td><p><strong>Titre de l'application</strong></p></td>
<td><p>Définit le titre de l'application dans le menu supérieur.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Introduction de l'application</strong></p></td>
<td><p>Définit une introduction du système qui sera visible dans la partie supérieure gauche de la page de connexion.</p></td>
</tr>
<tr class="even">
<td><p><strong>Notification de l'application</strong></p></td>
<td><p>Définit une notification qui sera visible sur la première page sous la zone de connexion.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Bas de page gauche de l'application</strong></p></td>
<td><p>Définit un texte dans la zone de pied de page gauche de la page de connexion.</p></td>
</tr>
<tr class="even">
<td><p><strong>Bas de page droite de l'application</strong></p></td>
<td><p>Définit un texte dans la zone de bas de page droite de la page de connexion.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Style</strong></p></td>
<td><p>Définit le style (aspect et convivialité) du système.</p>
<p>L'utilisateur peut ignorer ce paramètre dans l' <strong>Application</strong> Paramètres : <strong>Paramètres utilisateur</strong> &gt; <strong>Style</strong>.</p>
<blockquote>
<p><strong>N.B.</strong></p>
<p>Pour des raisons techniques, il n'est pas possible de changer la couleur de la dernière version de la barre d'en-tête. Les applications dont la barre d'en-tête est la plus récente conserveront la barre d'en-tête bleue.</p>
</blockquote></td>
</tr>
<tr class="even">
<td><p><strong>Page d'accueil</strong></p></td>
<td><p>Définit la page ou l'application vers laquelle l'utilisateur sera redirigé après s'être connecté.</p>
<p>Paramètre recommandé : l' <strong>Application</strong> Tableau de bord.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Lien vers la page d'aide</strong></p></td>
<td><p>Définit l'URL que les utilisateurs verront lorsqu'ils cliqueront sur <strong>Profil</strong> &gt;<strong>Aide</strong>.</p></td>
</tr>
<tr class="even">
<td><p><strong>Drapeau</strong></p></td>
<td><p>Définit le drapeau à afficher dans le menu de gauche de l' <strong>Application</strong> Tableau de bord.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Langue de l'interface</strong></p></td>
<td><p>Définit la langue utilisée dans l'interface utilisateur.</p>
<p>L'utilisateur peut ignorer ce paramètre dans l' <strong>Application</strong> Paramètres : <strong>Paramètres utilisateur</strong> &gt; <strong>Langue de l'interface</strong>.</p></td>
</tr>
<tr class="even">
<td><p><strong>Langue de la base de données</strong></p></td>
<td><p>Définit la langue utilisée dans la base de données.</p>
<p>L'utilisateur peut ignorer ce paramètre dans l' <strong>Application</strong> Paramètres : <strong>Paramètres utilisateur</strong> &gt; <strong>Langue de la base de données</strong>.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Propriétés à afficher dans les modules d'analyse</strong></p></td>
<td><p>Permet de définir si vous souhaitez afficher les noms et noms abrégés des objets de métadonnées dans les applications d'analyse comme : <strong>Visualiseur de données</strong>, <strong>Rapports d'événements</strong>, <strong>Visualiseur d'événements</strong>, <strong>SIG</strong> et <strong>Tableau croisé</strong> dynamique.</p>
<p>L'utilisateur peut ignorer ce paramètre dans l' <strong>Application</strong> Paramètres : <strong>Paramètres utilisateur</strong> &gt; <strong>Propriétés à afficher dans les modules d'analyse</strong>.</p></td>
</tr>
<tr class="even">
<td><p><strong>Séparateur de groupes de chiffres par défaut à afficher dans les modules d'analyse</strong></p></td>
<td><p>Définit le séparateur de groupe de chiffres par défaut dans les applications d'analyse comme : <strong>Visualiseur de données</strong>, <strong>Rapports d'événements</strong>, <strong>Visualiseur d'événements</strong>, <strong>SIG</strong> et <strong>Tableau croisé</strong> dynamique.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Exiger l'autorisation d'ajouter à la liste des objets à consulter</strong></p></td>
<td><p>Si vous sélectionnez cette option, vous masquerez les éléments du menu et de la page d'index ainsi que les liens vers les listes d'objets si l'utilisateur actuel n'a pas l'autorité nécessaire pour créer le type d'objets (privé ou public).</p></td>
</tr>
<tr class="even">
<td><p><strong>Logo personnalisé de la page de connexion</strong></p></td>
<td><p>Sélectionnez cette option et téléchargez une image pour ajouter votre logo à la page de connexion.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Logo personnalisé du menu supérieur</strong></p></td>
<td><p>Sélectionnez cette option et téléchargez une image pour ajouter votre logo à gauche dans le menu supérieur.</p></td>
</tr>
</tbody>
</table>

## Paramètres de messagerie { #system_email_settings }

<table>
<caption>Paramètres de messagerie</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Paramètre</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Nom d'hôte</strong></p></td>
<td><p>Définit le nom d'hôte du serveur SMTP.</p>
<p>Lorsque vous utilisez les services SMTP de Google, le nom d'hôte doit être <em>smtp.gmail.com</em>.</p></td>
</tr>
<tr class="even">
<td><p><strong>Porte d'accès</strong></p></td>
<td><p>Définit le port pour se connecter au serveur SMTP.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Nom d'utilisateur</strong></p></td>
<td><p>Le nom d'utilisateur du compte d'utilisateur sur le serveur SMTP.</p>
<p>mail@dhis2.org</p></td>
</tr>
<tr class="even">
<td><p><strong>Mot de passe</strong></p></td>
<td><p>Le mot de passe du compte d'utilisateur sur le serveur SMTP.</p></td>
</tr>
<tr class="odd">
<td><p><strong>TLS</strong></p></td>
<td><p>Sélectionnez cette option si le serveur SMPT requiert TLS pour les connexions.</p></td>
</tr>
<tr class="even">
<td><p><strong>Expéditeur du courriel</strong></p></td>
<td><p>L'adresse électronique à utiliser comme expéditeur lors de l'envoi des e-mails.</p></td>
</tr>
<tr class="odd">
<td><p><strong>M'envoyer un e-mail de test</strong></p></td>
<td><p>Envoie un e-mail de test à l'utilisateur actuel connecté au DHIS2.</p></td>
</tr>
</tbody>
</table>

## Paramètres d'accès { #system_access_settings }

<table>
<caption>Paramètres d'accès</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Paramètre</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Rôle de l'utilisateur du compte d'auto-enregistrement</strong></p></td>
<td><p>Définit le rôle d'utilisateur à attribuer aux comptes utilisateurs auto-enregistrés.</p>
<p>Pour permettre l'auto-enregistrement des utilisateurs : sélectionnez n'importe quel rôle d'utilisateur dans la liste. Un lien menant au formulaire d'auto-enregistrement va s'afficher sur la page de connexion.</p>
<blockquote>
<p><strong>N.B.</strong></p>
<p>Pour activer l'auto-enregistrement, vous devez également sélectionner une <strong>Unité d'organisation du compte d'auto-enregistrement</strong>.</p>
</blockquote>
<p>Pour désactiver l'auto-enregistrement des utilisateurs : sélectionnez <strong>Désactiver l'auto-enregistrement</strong>.</p></td>
</tr>
<tr class="even">
<td><p><strong>Unité d'organisation du compte d'auto-enregistrement</strong></p></td>
<td><p>Définit l'unité d'organisation à associer aux utilisateurs auto-enregistrés.</p>
<blockquote>
<p><strong>N.B.</strong></p>
<p>Pour activer l'auto-enregistrement, vous devez également sélectionner un <strong>Rôle de l'utilisateur du compte d'auto-enregistrement</strong>.</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><p><strong>Ne pas exiger de reCAPTCHA pour l'auto-enregistrement</strong></p></td>
<td><p>Définit si vous souhaitez utiliser le reCAPTCHA pour l'auto-enregistrement des utilisateurs. Cette option est activée par défaut.</p></td>
</tr>
<tr class="even">
<td><p><strong>Activer la récupération des comptes utilisateurs</strong></p></td>
<td><p>Définit si les utilisateurs peuvent restaurer leurs propres mots de passe.</p>
<p>Lorsque ce paramètre est activé, un lien vers le formulaire de recouvrement de compte sera affiché sur la première page.</p>
<blockquote>
<p><strong>N.B.</strong></p>
<p>La récupération du compte utilisateur nécessite la configuration des paramètres de messagerie (SMTP).</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><p><strong>Verrouiller temporairement le compte de l'utilisateur après plusieurs tentatives de connexion échouées</strong></p></td>
<td><p>Définit si le système doit verrouiller les comptes des utilisateurs après cinq tentatives de connexion successives sans succès pendant une période de 15 minutes.</p>
<p>Le compte sera verrouillé pendant 15 minutes, puis l'utilisateur pourra tenter de se connecter à nouveau.</p></td>
</tr>
<tr class="even">
<td><p><strong>Autoriser les utilisateurs à s'attribuer des rôles d'utilisateur</strong></p></td>
<td><p>Définit si les utilisateurs peuvent attribuer à d'autres les rôles d'utilisateur qu'ils ont eux-mêmes lors de la création de nouveaux utilisateurs.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Autoriser l'affectation d'un objet à des objets connexes lors de l'ajout ou de la mise à jour</strong></p></td>
<td><p>Définit si les utilisateurs devraient être autorisés à attribuer un objet à un objet connexe lorsqu'ils créent ou modifient des objets de métadonnées.</p>
<p>Vous pouvez autoriser les utilisateurs à affecter une unité d'organisation à des ensembles de données et à des ensembles de groupes d'unités d'organisation lors de la création ou de la modification de l'unité d'organisation.</p></td>
</tr>
<tr class="even">
<td><p><strong>Exiger le changement du mot de passe du compte d'utilisateur</strong></p></td>
<td><p>Defines whether users should be forced to change their passwords every 3, 6 or 12 months.</p>
<p>Si vous ne voulez pas obliger les utilisateurs à changer de mot de passe, sélectionnez <strong>Jamais</strong>.</p></td>
</tr>
<tr class="odd">
<td><strong>Activer les alertes d'expiration de mot de passe</strong></td>
<td>Les utilisateurs recevront une notification lorsque leur mot de passe est sur le point d'expirer.</td>
</tr>
<tr class="even">
<td><p><strong>Nombre minimum de caractères dans le mot de passe</strong></p></td>
<td><p>Définit le nombre minimum de caractères que les utilisateurs doivent avoir dans leurs mots de passe.</p>
<p>Vous pouvez sélectionner 8 (par défaut), 10, 12 ou 14.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Liste blanche CORS</strong></p></td>
<td><p>Les listes blanches sont un ensemble d'URL pouvant accéder à l'API du DHIS2 à partir d'un autre domaine. Chaque URL doit être saisi sur des lignes séparées. Le partage de ressources entre origines (CORS) est un mécanisme qui permet la requête de ressources limitées (par exemple des fichiers javascript) sur une page web à partir d'un autre domaine que celui à partir duquel la première ressource a été fournie.</p></td>
</tr>
</tbody>
</table>

## Paramètres du calendrier { #system_calendar_settings }

<table>
<caption>Paramètres du calendrier</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Paramètre</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Calendrier</strong></p></td>
<td><p>Définit le calendrier que le système utilisera.</p>
<p>Le système prend en charge les calendriers suivants : Copte, éthiopien, grégorien, islamique (Lunar Hijri), ISO 8601, julien, népalais, persan (Solar Hijri) et thaïlandais.</p>
<blockquote>
<p><strong>N.B.</strong></p>
<p>C'est un paramètre qui s'applique à l'ensemble du système. Il n'est donc pas possible d'avoir plusieurs calendriers dans une seule instance DHIS2.</p>
</blockquote></td>
</tr>
<tr class="even">
<td><p><strong>Format de date</strong></p></td>
<td><p>Définit le format de date que le système utilisera.</p></td>
</tr>
</tbody>
</table>

## Paramètres d'importation des données { #system_data_import_settings }

Les paramètres d'importation de données s'appliquent aux contrôles supplémentaires pouvant être activés afin de valider les données agrégées importées via l'API web. Ils fournissent des contraintes optionnelles sur ce qui doit être considéré comme un conflit lors de l'importation. Les contraintes sont appliquées à chaque valeur de données individuelles dans l'importation.

<table>
<caption>Paramètres d'importation de données</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Paramètre</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Exiger que les périodes correspondent au type de période de l'ensemble de données</strong></p></td>
<td><p>Exiger que la période de valeur des données soit du même type que les ensembles de données pour lesquels l'élément de donnée de valeur des données est attribué.</p></td>
</tr>
<tr class="even">
<td><p><strong>Exiger que les combos d'options de catégories correspondent à la combo de catégories de l'élément de donnée</strong></p></td>
<td><p>Exiger que la combinaison d'options de catégories de la valeur des données fasse partie de la combinaison de catégories de l'élément de donnée de la valeur des données.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Exiger les unités d'organisation correspondent à l'attribution de l'ensemble de données</strong></p></td>
<td><p>Exiger que l'unité d'organisation de la valeur des données soit attribuée à un ou plusieurs des ensembles de données auxquels l'élément de donnée de la valeur des données est attribué.</p></td>
</tr>
<tr class="even">
<td><p><strong>Exiger que les combos d'options d'attributs correspondent à la combo de catégories de l'ensemble de données</strong></p></td>
<td><p>Exiger que la combinaison d'options d'attributs de la valeur des données fasse partie de la combinaison de catégories de l'ensemble de données auquel l'élément de donnée de la valeur des données est attribué.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Exiger que la combo d'options de catégorie soit précisée</strong></p></td>
<td><p>Exiger que la combinaison d'options de catégories de la valeur des données soit spécifiée.</p>
<p>Par défaut, elle reviendra à la combinaison d'options de catégories par défaut si elle n'est pas spécifiée.</p></td>
</tr>
<tr class="even">
<td><p><strong>Exiger que la combo d'options d'attributs soit spécifiée</strong></p></td>
<td><p>Exiger que la combinaison d'options d'attributs de la valeur des données soit spécifiée.</p>
<p>Par défaut, elle reviendra à la combinaison d'options d'attributs par défaut si elle n'est pas spécifiée.</p></td>
</tr>
</tbody>
</table>

## Paramètres de synchronisation { #synchronization-settings }

Les paramètres suivants sont utilisés pour la synchronisation des données et des métadonnées.

> **N.B.**
>
> Pour plus de détails sur la manière de configurer la synchronisation des métadonnées, voir [Configure metadata synchronizing] (https://docs.dhis2.org/master/en/user/html/metadata_sync.html)

<table>
<caption>Paramètres de synchronisation</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Paramètre</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>URL du serveur distant</strong></p></td>
<td><p>Définit l'URL du serveur distant exécutant le DHIS2 pour télécharger les valeurs des données.</p>
<p>Il est recommandé d'utiliser le protocole SSL/HTTPS puisque le nom d'utilisateur et le mot de passe sont envoyés avec la requête (en utilisant l'authentification de base).</p>
<p>Le système tentera de synchroniser les données une fois par minute.</p>
<p>Le système utilisera également ce paramètre pour la synchronisation des métadonnées.</p>
<blockquote>
<p><strong>N.B.</strong></p>
<p>Pour activer la synchronisation des données et des métadonnées, vous devez également activer les tâches de <strong>Synchronisation des données</strong> et de <strong>Synchronisation des métadonnées</strong> dans l' <strong>application</strong> Programmateur.</p>
</blockquote></td>
</tr>
<tr class="even">
<td><p><strong>Nom d'utilisateur du serveur distant</strong></p></td>
<td><p>Le nom d'utilisateur du compte d'utilisateur DHIS2 sur le serveur distant à utiliser pour la synchronisation des données.</p>
<blockquote>
<p><strong>N.B.</strong></p>
<p>Si vous avez activé le versionnage des métadonnées, vous devez alors vous assurer que l'utilisateur configuré dispose de l'autorité &quot;F_GESTION_DES MÉTADONNÉES&quot;.</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><p><strong>Mot de passe du serveur distant</strong></p></td>
<td><p>Le mot de passe du compte d'utilisateur DHIS2 sur le serveur distant. Le mot de passe sera stocké de façon cryptée.</p></td>
</tr>
<tr class="even">
<td><p><strong>Activer le versionnage pour la synchronisation des métadonnées</strong></p></td>
<td><p>Détermine s'il faut créer des versions de métadonnées lorsque vous synchronisez les métadonnées entre les instances centrales et locales.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Ne pas synchroniser les métadonnées si les versions DHIS2 diffèrent</strong></p></td>
<td><p>Le schéma des métadonnées change entre les versions du DHIS2, ce qui pourrait rendre les différentes versions de métadonnées incompatibles.</p>
<p>Lorsqu'elle est activée, cette option ne permet pas la synchronisation des métadonnées si les instances centrale et locale ont des versions DHIS2 différentes. Cela s'applique à la synchronisation des métadonnées effectuée à la fois via l'interface utilisateur et l'APII.</p>
<p>Le seul moment où il peut être utile de désactiver cette option est lors de la synchronisation d'entités de base, par exemple des éléments de données, qui n'ont pas changé d'une version à l'autre du DHIS2.</p></td>
</tr>
<tr class="even">
<td><p><strong>Meilleur effort</strong></p></td>
<td><p>Un type de version de métadonnées qui décide de comment l'importateur sur une ou plusieurs instances locales gérera la version de métadonnées.</p>
<p><em>Meilleur effort</em> signifie que si l'importation de métadonnées rencontre des références manquantes (par exemple des éléments de données manquants sur une importation de groupe d'éléments de données), elle ignore les erreurs et poursuit l'importation.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Atomique</strong></p></td>
<td><p>Un type de version de métadonnées qui décide de comment l'importateur sur une ou plusieurs instances locales gérera la version de métadonnées.</p>
<p><em>Atomique</em> signifie tout ou rien - l'importation des métadonnées échouera si l'une des références n'existe pas.</p></td>
</tr>
</tbody>
</table>

## Clients OAuth2 { #system_oauth2_settings }

Vous pouvez créer, modifier et supprimer les clients OAuth2 dans l'application **Paramètres du système**.

1.  Ouvrez les applications **Paramètres du système** et cliquez sur **Clients OAuth2**.

2.  Cliquez sur le bouton d'ajout.

3.  Entrez **Nom**, **Client ID** et **Client secret**.

4.  Sélectionnez **Types d'autorisation**.

    <table>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><p>Grant type</p></th>
    <th><p>Description</p></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p><strong>Password</strong></p></td>
    <td><p>TBA</p></td>
    </tr>
    <tr class="even">
    <td><p><strong>Refresh token</strong></p></td>
    <td><p>TBA</p></td>
    </tr>
    <tr class="odd">
    <td><p><strong>Authorization code</strong></p></td>
    <td><p>TBA</p></td>
    </tr>
    </tbody>
    </table>

5.  Entrez **Rediriger les URI**. Si vous avez plusieurs URI, séparez-les par une ligne.

# Administration des données { #data_admin }

Le module Administration de données propose une série de fonctions pour garantir que les données stockées dans la base de données DHIS2 sont intégrales et que les performances de la base de données sont optimisées. Ces fonctions doivent être exécutées régulièrement par un administrateur de données afin de garantir une meilleure qualité des données stockées.

## Intégrité des données { #dataAdmin_dataIntegrity }

Le DHIS2 peut effectuer une série de contrôles d'intégrité sur les données contenues dans la base de données. Il est extrêmement important d'identifier et de corriger les problèmes d'intégrité des données pour garantir la validité des données utilisées à des fins d'analyse. Chacun des contrôles d'intégrité de données effectués par le système sera décrit, ainsi que les procédures générales peuvant être appliquées pour la résolution de ces problèmes.

### Éléments de données sans ensemble de données { #data-elements-without-data-set }

Chaque élément de données doit être affecté à un ensemble de données. Les valeurs des éléments de données ne pourront pas être saisies dans le système si un élément de données n'est pas attribué à un ensemble de données. Choisissez Maintenance-\>Ensembles de données-\>Modifier dans le menu principal, puis ajoutez l'élément de données "orphelin" à l'ensemble de données approprié.

### Éléments de données sans groupes { #data-elements-without-groups }

Certains éléments de données ont été attribués à plusieurs groupes d'éléments de données. Cela n'est actuellement pas autorisé étant donné qu'on se retrouvera dans une situation de duplication des enregistrements de données liés dans les ensembles d'enregistrements analytiques qui fournissent des données agrégées. Allez dans la section Maintenance -\> Groupes d'éléments de données" pour examiner chaque élément de données identifié et supprimer les attributions de groupe incorrectes.

### Éléments de données violant la règle d'ensembles de groupes exclusifs { #data-elements-violating-exclusive-group-sets }

Certains éléments de données ont été attribués à plusieurs groupes d'éléments de données membres du même ensemble de groupes d'éléments de données. Tous les ensembles de groupes dans DHIS2 sont définis comme exclusifs, ce qui signifie qu'un élément de données peut _uniquement_ être attribué à _un_ groupe d'éléments de données dans cet ensemble de groupes. Allez dans la rubrique Maintenance -\> Éléments de données et indicateurs -\>Groupes d'éléments de données pour examiner chaque élément de données identifié lors du contrôle d'intégrité. Soit vous retirez l'élément de données de tous les groupes sauf celui auquel il doit être attribué, soit vous voyez si l'un des groupes doit être placé dans un autre ensemble de groupes.

### Éléments de données présent dans l'ensemble de données mais pas dans le formulaire ou dans les sections { #data-elements-in-data-set-but-not-in-form-or-sections }

Des éléments de données ont été attribués à un ensemble de données, mais n'ont été attribués à aucune section des formulaires d'ensemble de données.Tous les ensembles de données utilisant des formulaires à sections doivent généralement avoir tous les éléments de données de l'ensemble de données attribués à seulement une section de l'ensemble de données.

### Éléments de données affectés à des ensembles de données avec différents types de périodes { #data-elements-assigned-to-data-sets-with-different-period-types }

Les éléments de données ne doivent pas être affectés à deux ensembles de données distincts dont les types de période diffèrent. L'approche recommandée consisterait à créer deux éléments de données distincts (par exemple un élément de données mensuel et un élément de données annuel) et à les affecter à des ensembles de données respectifs.

### Ensembles de données non attribués aux unités d'organisation { #data-sets-not-assigned-to-organisation-units }

Tous les ensembles de données doivent être attribués à au moins une unité organisationnelle.

### Sections ayant des combinaisons de catégories non valables { #sections-with-invalid-category-combinations }

Les ensembles de données utilisant des formulaires à sections ne doivent avoir qu'une seule combinaison de catégories dans chaque section. Cette violation pourrait résulter de l'affectation d'un élément de données à une section, mais de la modification ultérieure de la combinaison de catégories de cet élément de données.

### Indicateurs avec des formules identiques { #indicators-with-identical-formulas }

Certes, cette règle n'affecte pas la qualité des données, mais il n'est généralement pas logique d'avoir deux indicateurs ayant exactement la même définition. Revoir les indicateurs identifiés et leurs formules et supprimer ou modifier tout indicateur qui semble être le doublon.

### Indicateurs sans groupes { #indicators-without-groups }

Tous les éléments de données ainsi que les indicateurs doivent être affectés à au moins un groupe, de sorte que ces indicateurs doivent être attribués à leur groupe d'éléments de données et d'indicateurs qui conviennent. Dans le menu principal, allez à Éléments de données/Indicateurs -\> Groupes d'indicateurs, et attribuez chacun des indicateurs \`Orphelins\` au groupe approprié.

### Numérateurs d'indicateurs non valides { #invalid-indicator-numerators }

Les violations de cette règle peuvent être causées par une référence erronée à un élément de données supprimé ou modifié. Revoir l'indicateur et apporter des corrections à la définition du numérateur.

### Dénominateurs d'indicateurs non valides { #invalid-indicator-denominators }

Les violations de cette règle peuvent être causées par une référence erronée à un élément de données supprimé ou modifié. Revoir l'indicateur et apporter des corrections à la définition du dénominateur.

### Indicateurs violant la règle d'ensembles de groupes exclusifs { #indicators-violating-exclusive-group-sets }

Certains indicateurs ont été attribués à plusieurs groupes d'indicateurs qui font partie du même ensemble de groupes d'indicateurs. Tous les ensembles de groupes dans DHIS2 sont définis comme exclusifs, ce qui signifie qu'un indicateur peut _uniquement_ être attribué à _un_ groupe d'indicateurs dans cet ensemble de groupes. Allez dans la rubrique Maintenance -\> Éléments de données et indicateurs -\>Groupes d'indicateurs pour examiner chaque indicateur identifié dans le lors du contrôle d'intégrité. Soit vous retirez l'indicateur de tous les groupes sauf celui auquel il doit être attribué, soit vous voyez si l'un des groupes doit être placé dans un autre ensemble de groupes.

### Double période { #duplicate-periods }

Si des périodes ont été importées à partir d'applications externes, il est donc possible que certaines périodes soient dupliquées. Si vous avez des périodes qui semblent être dupliquées ici, vous devrez alors les résoudre directement dans la base de données DHIS2. Toutes les données affectées à la période dupliquée doivent être déplacées vers la bonne période et la période dupliquée doit être supprimée.

### Unités d'organisation avec des références cycliques { #organisation-units-with-cyclic-references }

Les unités d'organisation ne peuvent pas être à la fois parents et enfants les unes des autres, directement ou indirectement. Si une telle situation se produit, vous devrez alors résoudre la référence cyclique directement dans la base de données DHIS2 dans la table "unité d'organisation", en réaffectant le champ "parentid" des unités d'organisation.

### Unités d'organisation orphelines { #orphaned-organisation-units }

Toutes les unités d'organisation doivent exister au sein de la hiérarchie des unités d'organisation. Allez à Unités- d'organisation  \>Opérations hiérarchiques  et placez l'unité d'organisation en question à la position appropriée dans la hiérarchie.

### Unités d'organisation sans groupes { #organisation-units-without-groups }

Toutes les unités d'organisation _doivent_ être attribuées à au moins _un_ groupe. Le problème peut venir du fait que vous n'avez défini aucun ensemble de groupes d'unités d'organisation obligatoire, ou que certaines unités d'organisation ne respectent pas la règle obligatoire. N.B. : Si vous n'avez pas défini d'ensembles de groupes d'unités d'organisation obligatoires, vous devez d'abord les définir en allant dans Unité d'organisation-\>Ensembles de groupes d'unités d'organisation et définir au moins un ensemble de groupes obligatoire (les ensembles de groupes "Type" sont quasi universellement pertinents). Si vous disposez des ensembles de groupes pertinents, allez dans Maintenance -\> Groupes d'OrgUnit pour examiner chaque OrgUnit identifiée et ajouter l'attribution de groupe appropriée.

### Les unités d'organisation violant la règle d'ensembles de groupes obligatoires { #organisation-units-violating-compulsory-group-sets }

Ces unités d'organisation n'ont été affectées à aucun groupe d'unités d'organisation dans l'un des ensembles de groupes d'unités d'organisation _obligatoires_. Lorsqu'un ensemble de groupes est défini comme obligatoire, cela signifie qu'une unité d'organisation doit être attribuée à au moins un groupe d'unités d'organisation au sein de cet ensemble de groupes. Par exemple, toutes les unités d'organisation doivent appartenir à l'un des groupes de l'ensemble de groupes "Type". Elle peut appartenir au groupe  \`Hôpital\` ou  \`Clinique\` ou à tout autre groupe "type", mais elle doit appartenir à seulement l'un d'entre eux. Allez à la rubrique Unités d'organisation-\>Groupes d'unités d'organisation pour examiner chaque unité d'organisation identifiée lors du contrôle d'intégrité. Affectez toutes les unités d'organisation à un seul groupe obligatoire.

### Unités d'organisation violant la règle d'ensembles de groupes exclusifs { #organisation-units-violating-exclusive-group-sets }

Certaines unités d'organisation ont été attribuées à plusieurs groupes d'unités d'organisation membres du même ensemble de groupes d'unités d'organisation. Tous les ensembles de groupes dans DHIS2 sont définis comme exclusifs, ce qui signifie qu'une unité d'organisation peut _uniquement_ être attribuée à _un_ groupe d'unités d'organisation dans cet ensemble de groupes. Par exemple, une unité d'organisation ne peut normalement pas appartenir à la fois aux groupes "Hôpital" et "Clinique", mais plutôt à l'un d'entre eux seulement. Allez à Unité d'organisation-\>Groupes d'unités d'organisation pour vérifier chaque unité d'organisation identifiée lors du contrôle d'intégrité. Retirez les unités d'organisation de tous les groupes, sauf celui auquel elles doivent être affectées.

### Groupes d'unités d'organisation sans ensembles de groupes { #organisation-unit-groups-without-group-sets }

Les groupes d'unités d'organisation énumérés ici n'ont pas été attribués à un ensemble de groupes. Allez dans Maintenance-\>Unité d'organisation-\>Ensembles de groupes d'unités d'organisation et attribuez le groupe d'unités d'organisation à l'ensemble de groupes approprié.

### Règles de validation sans groupes { #validation-rules-without-groups }

Toutes les règles de validation doivent être attribuées à un groupe. Allez dans l'application **Maintenance** \> **Groupe de règles de validation** et assignez la règle de validation incriminée à un groupe.

### Expressions à gauche de la règle de validation invalide { #invalid-validation-rule-left-side-expressions }

Une erreur existe dans la définition de la règle de validation de gauche. Allez dans l'application **Maintenance** \> **Règle de validation** et cliquez sur **Modifier** sur la règle en question. Cliquez sur **Côté gauche** et apportez les corrections nécessaires.

### Expressions de droite invalide de la règle de validation { #invalid-validation-rule-right-side-expressions }

Une erreur existe dans la définition de la règle de validation de droite. Allez dans l'application **Maintenance** \> **Règle de validation** et cliquez sur **Modifier** sur la règle en question. Cliquez sur **Côté droit** et apportez les corrections nécessaires.

### Règles de programme sans condition { #programrules-with-no-condition }

Le rapport mettra en évidence toutes les **Règles du programme** configurées sans **condition**. Les règles n'ayant pas de condition sont toujours évaluées comme étant fausses.

### Règles de programme sans priorité { #programrules-with-no-priority }

Le rapport mettra en évidence toutes les **Règles du programme** configurées sans **Priorité**. Ceci est facultatif mais son existence est très importante lorsque le **Type d'action de la règle du programme** est **ASSIGNER**. Les règles ayant le type d'action ASSIGNER doivent avoir une priorité plus élevée que le reste des types d'action.

### Règles de programme sans action { #programrules-with-no-action }

Le rapport mettra en évidence toutes les **Règles du programme** configurées sans une **Action de la règle du programme**.

### Variables de règles de programme sans éléments de données { #programrulevariables-without-dataelements }

Le rapport mettra en évidence toutes les **Variables de règles de programme** configurées sans **Élément de donnée**. Le rapport sera basé sur la configuration Type de source. L'élément de donnée doit être fourni lorsque le type de source de la variable de règles de programme est **Élément de donné**.

### Variables de règles de programme sans attributs { #programrulevariables-without-attributes }

Le rapport mettra en évidence toutes les **Variables de règle du programme** non configurées avec **Attribut de l'entité suivie**. Le rapport sera basé sur la configuration Type de source. L'attribut de l'entité suivie doit être fourni lorsque le type de source de la Variable de règle du programmee est **Attribut**.

### Actions de la règle de programme sans objets de données. { #programruleactions-with-no-data-objects }

Le rapport mettra en évidence toutes les **Actions de règle du programme** configurées sans objet de données. L'objet de données peut être soit un **Elément de donnée** soit un **Attribut de l'entité suivie**. Certaines actions de règle du programme sont chargées d'attribuer des valeurs à l'élément de donnée ou à l'attribut de l'entité suivie.

### Actions de règle du programme sans notification { #programruleactions-with-no-notification }

Le rapport mettra en évidence toutes les **Actions de règle du programme** dont le Type d'action de régle du programme est défini sur ENVOYER UN MESSAGE/PROGRAMMER UN MESSAGE lorsque la configuration ne prévoit aucun lien avec la notification.

### Actions de la règle du programme sans identification de section { #programruleactions-with-no-section-id }

Le rapport mettra en évidence toutes les **actions de règle de programme** dont le Type d'action de la règle du programme est défini sur **MASQUER LA SECTION** mais la configuration ne fournit aucun identifiant de section.

### Actions de la règle du programme sans identification du stade du programme { #programruleactions-with-no-program-stage-id }

Le rapport mettra en évidence toutes les **Actions de règle du programme** dont le Type d'action de la règle du programme est défini sur **MASQUER LE STADE DU PROGRAMME** mais la configuration ne fournit aucun identifiant du stade du programme.

### Expression invalide d'indicateur de programme { #invalid-program-indicator-expression }

Signale toutes les violations dans l'expression de l'indicateur de programme causées par un **Elément de donnée** invalide ou un **Attribut d'entité suivie** invalide.

### Expression de filtre d'indicateur de programme invalide { #invalid-program-indicator-filter-expression }

Signale toutes les violations dans l'expression de filtre d'indicateur de programme causées par un **Elément de donnée** invalide ou un **Attribut d'entité suivie** invalide.

## Maintenance { #data_admin_maintenance }

<table>
<caption>Fonctions de maintenance des données dans l'application Administration de données</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Fonction</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Effacer les tableaux d'analyse</p></td>
<td><p>Vider complètement les tableaux d'analyse. Ces tableaux sont utilisés pour générer des données agrégées pour les tableaux croisés dynamiques, les SIG et les rapports.</p></td>
</tr>
<tr class="even">
<td><p>Supprimer les valeurs de données nulles</p></td>
<td><p>Supprime les valeurs nulles de la base de données. Les valeurs enregistrées pour les éléments de données avec la moyenne de l'opérateur d'agrégation ne sont pas supprimées, car ces valeurs seront significatives lors de l'agrégation des données, contrairement aux valeurs enregistrées pour les éléments de données avec la somme de l'opérateur d'agrégation.</p>
<p>La réduction du nombre de valeurs de données améliorera les performances du système.</p></td>
</tr>
<tr class="odd">
<td><p>Restauration de données supprimées par logiciel</p></td>
<td><p>Lorsque vous supprimez une valeur de donnée de DHIS2, le système marquera la ligne correspondante de la base de données comme supprimée, mais ne supprimera pas réellement la ligne.</p>
<p>L'exécution de cette fonction de maintenance supprimera physiquement ces lignes de valeur de données de la base de données.</p></td>
</tr>
<tr class="even">
<td><p>Réduire les périodes</p></td>
<td><p>Supprime toutes les périodes n'ayant pas de valeurs de données enregistrées. La réduction du nombre de périodes améliorera les performances du système.</p></td>
</tr>
<tr class="odd">
<td><p>Supprimer les invitations expirées</p></td>
<td><p>Supprimera les utilisateurs représentant des invitations de compte d'utilisateur ayant dépassé leur date d'expiration.</p></td>
</tr>
<tr class="even">
<td><p>Déposer des vues SQL</p></td>
<td><p>DHIS2 vous permet de configurer et de gérer les vues SQL en tant qu'objets système avec les vues SQL correspondantes de la base de données.</p>
<p>L'exécution de cette fonction de maintenance supprimera les vues SQL sous-jacentes pour toutes les vues du système. Utilisez la fonction <strong>Créer des vues SQL</strong> pour recréer ces vues SQL.</p></td>
</tr>
<tr class="odd">
<td><p>Créer des vues SQL</p></td>
<td><p>Recrée toutes les vues SQL dans la base de données.</p></td>
</tr>
<tr class="even">
<td><p>Mettre à jour les combinaisons d'options de catégories</p></td>
<td><p>Reconstitue les combinaisons d'options de catégories. Cela peut être nécessaire après la modification des options de catégorie appartenant à une catégorie donnée.</p></td>
</tr>
<tr class="odd">
<td><p>Mettre à jour les chemins des unités d'organisation</p></td>
<td><p>Le tableau des unités d'organisation dans la base de données DHIS2 comporte une colonne &quot;chemin&quot ; contenant une chaîne concaténée de tous les ancêtres dans la hiérarchie pour chaque unité d'organisation.</p>
<p>L'exécution de cette fonction de maintenance permettra de mettre à jour et de garantir que ces valeurs sont synchronisées avec la hiérarchie actuelle des unités d'organisation. Cette colonne est gérée par le DHIS2, mais une mise à jour manuelle peut s'avérer utile lors du chargement des données directement dans la base de données.</p></td>
</tr>
<tr class="even">
<td><p>Effacer le cache de l'application</p></td>
<td><p>Efface le cache du système.</p></td>
</tr>
<tr class="odd">
<td><p>Recharger les applications</p></td>
<td><p>Recharge et détecte manuellement les applications DHIS2 installées.</p>
<p>Les applications installées sont également détectées au démarrage du système et lors de l'installation ou de la désinstallation des applications.</p></td>
</tr>
</tbody>
</table>

## Tableaux des ressources { #dataAdmin_resourceTables }

Les tableaux de ressources sont des tableaux auxiliaires utilisés lors de l'analyse des données. L'on peut généralement joindre le contenu de ces tableaux à la table de valeur des données lorsqu'on effectue des requêtes à partir d'applications tierces comme Microsoft Excel. Ils sont également largement utilisés par les modules d'analyse de DHIS2. La régénération des tableaux de ressources ne doit être effectuée qu'une fois que tous les problèmes d'intégrité des données sont résolus. Les tables de ressources sont également générées automatiquement, chaque fois que le processus d'analyse est exécuté par le système.

-   Structure de l'unité d'organisation (\_orgunitstructure)

    Ce tableau doit être régénéré chaque fois que vous apportez des modifications à la hiérarchie de l'unité d'organisation. Ce tableau fournit des informations relatives à la hiérarchie des unités d'organisation. Il comporte une ligne pour chaque unité d'organisation, une colonne pour chaque niveau d'unité d'organisation et les identificateurs d'unité d'organisation de tous les parents de la lignée comme valeurs.

-   Structure de l'ensemble des groupes d'éléments de données (\_dataelementgroupsetstructure)

    Ce tableau fournit des informations sur les éléments de données appartenant à tel ou tel ensemble de groupes d'éléments de données. Le tableau comporte une ligne pour chaque élément de données, une colonne pour chaque ensemble de groupes d'éléments de données et les noms des groupes d'éléments de données en tant que valeurs.

-   Structure de l'ensemble de groupes d'indicateurs (\_indicatorgroupsetstructure)

    Ce tableau fournit des informations sur les indicateurs membres de chaque groupe d'indicateurs. Le tableau comporte une ligne pour chaque indicateur, une colonne pour chaque ensemble de groupes d'indicateurs et les noms des groupes d'indicateurs comme valeurs.

-   Structure de l'ensemble de groupes d'unités d'organisation (\_organisationunitgroupsetstructure)

    Ce tableau fournit des informations relatives aux unités d'organisation appartenant aux différents ensembles de groupes d'unités d'organisation. Comme valeurs, le tableau comporte une ligne pour chaque unité d'organisation, une colonne pour chaque ensemble de groupes d'unités d'organisation et les noms des groupes d'unités d'organisation.

-   Structure des catégories (\_categorystructure)

    Ce tableau fournit des informations relatives aux éléments de données apprtenant à telle ou telle catégorie. Comme valeurs, le tableau comporte une ligne pour chaque élément de donnée, une colonne pour chaque catégorie et les noms des options de catégorie.

-   Nom de la combo d'options de catégorie de l'élément de donnée (\_categoryoptioncomboname)

    Ce tableau doit être régénéré chaque fois que des modifications ont été apportées aux noms des combinaisons de catégories. Il contient des noms lisibles pour les différentes combinaisons de catégories.

-   Structure des éléments de données (\_dataelementstructure)

    Ce tableau fournit des informations sur tous les éléments de données et sur le type de période (fréquence) à laquelle les données sont saisies. Le type de période est déterminé par l'appartenance à l'ensemble de données et dépend donc des éléments de données appartenant aux ensembles de données ayant des types de période similaires pour avoir un comportement défini.

-   Structure de la période (\_dataperiodstructure)

    Ce tableau fournit des informations relatives aux périodes et au type de période auquel elles sont associées. Pour chaque type de période dont la fréquence est inférieure à la sienne, il contient des informations sur la période à laquelle il se rapporte.

-   Combinaisons d'options de catégories d'éléments de données (\_dataelementcategoryoptioncombo)

    Ce tableau fournit une correspondance entre les éléments de données et toutes les combinaisons d'options de catégories possibles.

## Gestion des tableaux analytiques { #analytics_tables_management }

DHIS2 génère des tables de bases de données que le système utilise ensuite comme base pour diverses fonctions d'analyse. Ces tables sont également utiles si vous écrivez des rapports SQL avancés. Dans l'application **Administration des données**, vous pouvez exécuter la génération de tables immédiatement. Si vous souhaitez planifier leur exécution à intervalles réguliers, vous pouvez paramétrer cela dans l'application **Planificateur**. Cela signifie que vous pouvez actualiser des analyses récentes à la demande et visualiser des tableaux croisés dynamiques à jour sans attendre le traitement de toutes les données des dernières années.

> **Note**
>
> Vous pouvez également générer les tables via l'interface de programmation Web. Cette tâche est généralement effectuée par un administrateur système.

1.  Ouvrez l'application **Administration des données** et cliquez sur **Tables d'Analyse**.

2.  Sélectionnez les parties du processus d'analyse que vous souhaitez ignorer :

    -   **Ignorer la génération des tableaux de ressources**

    -   **Ignorer la génération de données agrégées et de données de complétude**

    -   **Ignorer la génération de données d'événement**

    -   **Ignorer la génération des données d'inscription**

3.  Sélectionnez **Nombre de dernières années de données à inclure**.

4.  Cliquez sur **Démarrer l'exportation**.

## Statistiques des données { #dataAdmin_dataStatistics }

Le module de statistiques des données fournit un aperçu du nombre d'objets stockés dans la base de données de DHIS2.

![](resources/images/maintainence/data_stats.png)

Le nombre total de chaque type d'objet est présenté dans une série de tableaux avec des statistiques sommaires de chaque objet.

## Exceptions de verrouillage { #dataAdmin_lockException }

Les exceptions de verrouillage permettent un contrôle précis de l'exemption d'un ensemble de données verrouillé. Après l'expiration de l'ensemble de données, la saisie de données sera refusée par défaut, sauf si une exception a été accordée par l'intermédiaire de l'interface d'exception de verrouillage. Pour activer une exception de verrouillage, sélectionnez les unités d'organisation, les ensembles de données et la période de temps souhaités et appuyez sur "Ajouter". En accordant une exception de verrouillage, la saisie de données restera activée même après la période d'expiration de l'ensemble de données.

![](resources/images/maintainence/create_lock_exception.png)

Dans l'exemple ci-dessus, une exception de verrouillage des données serait créée pour "ab Abundant Life Organization" et "ab Seventh Day Hospital" pour l'ensemble de données "Soin et soutien" pour le mois de "février 2012".

## Production de valeur Min-Max { #dataAdmin_minMaxValueGeneration }

Cette fonction administrative peut être utilisée pour générer des valeurs min-max utilisées dans le cadre du processus de qualité et de validation des données pour des unités d'organisation et des ensembles de données spécifiques. Il suffit de sélectionner l'ensemble de données dans le cadre de gauche, puis de sélectionner les unités d'organisation requises pour générer les valeurs min-max à partir du sélecteur d'unités d'organisation à droite. Appuyez sur le bouton "Générer" pour générer ou régénérer toutes les valeurs min-max. Appuyez sur le bouton "Supprimer" pour supprimer toutes les valeurs min-max actuellement stockées dans la base de données.

![](resources/images/maintainence/min_max_value_generation.PNG)

## Statistiques de cache { #dataAdmin_cacheStatistics }

Cette option est réservée aux administrateurs du système. Les statistiques du cache indiquent l'état du cache au niveau de l'application. Le cache au niveau de l'application se réfère aux objets et aux résultats des requêtes que l'application met en cache afin d'accélérer les performances. Si la base de données a été modifiée directement, le cache de l'application doit alors être vidé pour que cette modification prenne effet.

# Visualiser les statistiques d'utilisation { #using_usage_analytics }

## À propos de l'application Analyse de l'utilisation { #about-the-usage-analytics-app }

![](resources/images/usage_analytics/usage_analytics_interface.png)

L'application **Analyse de l'utilisation** vous permet de visualiser des statistiques relatives à la façon dont les utilisateurs travaillent avec les applications **Tableau de bord**, **Tableau croisé dynamique**, **SIG**, **Visualiseur d'événements**, **Visualiseur de données** et **Rapports d'événements** dans DHIS2. Grâce à ces statistiques, vous pouvez répondre à des questions telles que :

-   Combien de fois les gens ont-ils chargé des graphiques, des tableaux croisés dynamiques et des tableaux de bord ?

-   Combien de favoris les utilisateurs ont-ils créés ?

-   Combien d'utilisateurs se connectent par rapport au nombre total d'utilisateurs ?

-   Quels sont les favoris les plus regardés ?

## Créer un graphique d'analyse de l'utilisation { #usage_analytics_create_chart }

1.  Ouvrez l'application **Analyse de l'utilisation**.

2.  Sélectionnez une **date de début** et une **date de fin**.

3.  Sélectionnez un **intervalle** : jour, semaine, mois ou année.

4.  Sélectionnez une **Catégorie**.

    Il existe cinq catégories d'analyse :

    -   **Vues favorites** : Fournit le nombre de fois que les différents types de favoris ont été consultés, tels que des graphiques, des tableaux croisés dynamiques et des tableaux de bord, au fil du temps. Cette analyse vous permet de basculer entre tous les types de favoris, le total de tous les types et le nombre moyen de visualisations.

    -   **Favoris** : Fournit le nombre de favoris créés et stockés dans le système au fil du temps.

    -   **Utilisateurs** : Fournit le nombre d'utilisateurs actifs ainsi que le nombre total d'utilisateurs au fil du temps.

    -   ** Tête des favoris** : Affiche les favoris les plus consultés dans le système par type.

    -   **Valeurs des données** : Fournit le nombre de valeurs de données stockées dans le système au fil du temps.

5.  Cliquez sur **Mettre à jour**.

# Gestionnaire de base de données { #datastore_manager_app }

Le gestionnaire de la base de données est destiné aux utilisateurs avancés de DHIS2. Avant d'utiliser le gestionnaire de la base de données, vous pouvez en savoir plus sur la base de données ici : [Base de données DHIS2] (https://docs.dhis2.org/master/en/developer/html/webapi_data_store.html).

## Utilisation du gestionnaire de la base de données { #using-the-datastore-manager }

Le gestionnaire de base de données vous permet de gérer le contenu des bases de données de l'API Web. Ceci est utile pour la gestion des applications ainsi que des scripts externes.

## Ajouter un nouvel espace de noms et une clé au gestionnaire de la base de données. { #add-a-new-namespace-and-key-to-the-datastore-manager }

N.B. : Vous devez d'abord créer un espace de noms avant de pouvoir y ajouter une clé.

1.  Cliquez sur **Nouveau**.

2.  Entrez un nom pour le namespace que vous souhaitez créer.

3.  Entrez un nom de clé et sélectionnez **Créer**. Le nouvel espace de noms s'affiche dans le volet de gauche.

## Ajouter une clé à un espace de noms existant dans le gestionnaire de la base de données { #add-a-key-to-an-existing-namespace-in-the-datastore-manager }

Pour ajouter une nouvelle clé à un espace de noms existant dans le gestionnaire de la base de données,

1.  sélectionnez l'espace de noms auquel vous souhaitez ajouter une clé.

2.  Cliquez sur le menu des options, puis sur **Nouvelle clé**.

    ![](resources/images/datastore_manager/datamgr_add_key.png)

3.  Entrez un nom de clé dans la boîte de dialogue **Nouvelle clé**.

4.  Cliquez sur **Créer**. La nouvelle clé est ajoutée à l'espace de noms que vous avez sélectionné.

## Supprimer un espace de noms ou une clé du gestionnaire de la base de données { #delete-a-namespace-or-key-from-the-datastore-manager }

Pour supprimer un espace de noms, ou une clé, cliquez sur le menu Options, puis sur **Supprimer**, et enfin sur **Supprimer** à nouveau. Notez que si vous supprimez la seule clé d'un espace de noms, vous supprimerez également l'espace de noms auquel elle appartient.

## Recherche d'espaces de noms ou de clés { #search-for-namespaces-or-keys }

Utilisez l'outil de recherche situé dans le coin supérieur gauche pour rechercher les espaces de noms et les clés de la façon suivante :

-   Entrez un nom d'espace de noms suivi de **\#** et le nom de la clé pour rechercher une clé spécifique dans un espace de noms.

-   Entrez **\#** suivi du nom d'une clé pour rechercher des clés uniquement.

![](resources/images/datastore_manager/datamgr_search_namespaces_keys.png)

## Cherchez dans votre bibliothèque JSON { #search-your-json-library }

Utilisez l'outil de recherche dans la barre d'outils de l'espace de travail pour effectuer une recherche dans votre bibliothèque JSON.

![](resources/images/datastore_manager/datamgr_searchJSON.png)

## Modifier les espaces de noms ou les clés dans le gestionnaire de base de données { #edit-namespaces-or-keys-in-the-datastore-manager }

Utilisez l'outil **Recherche** pour trouver des espaces de noms ou des clés dans votre base de données. Lorsque vous modifiez votre contenu, vous pouvez basculer entre la vue **Arborescence** et la vue **Code**. Utilisez la vue **Arborescence** pour obtenir un aperçu du contenu de la base de données. Utilisez la vue **Code** pour modifier votre code directement dans l'éditeur de code. N'oubliez pas de sauvegarder votre travail en cliquant sur le bouton **Enregistrer**.

![](resources/images/datastore_manager/datamgr_treeview.png)

Avec la vue Code, vous pouvez modifier votre code. Lorsque vous modifiez une ligne de code, celle-ci est surlignée en jaune.

![](resources/images/datastore_manager/datamgr_codeview.png)

Les éventuelles erreurs sont signalées par l'éditeur. Un survol de l'icône d'erreur, vous permet de voir une courte description de l'erreur.

![](resources/images/datastore_manager/datamgr_editcode_error.png)

# Programmation { #scheduling }

Le Programmateur est une application permettant de gérer les tâches d'arrière-plan dans DHIS2. Les tâches d'arrière-plan peuvent effectuer un certain nombre de fonctions, telles que l'exécution d'analyses, la synchronisation de données et de méta-données, ou l'envoi d'un rapport d'analyse "push". L'application permet de créer, de modifier et de supprimer de telles tâches.

Le Programmateur est fourni avec le DHIS2 et est accessible via le menu App.

![La page de démarrage de l'application Programmateur](resources/images/scheduler/overview.png)

La page d'accueil de l'application Programmateur présente un aperçu des tâches existantes. Par défaut, les tâches du système prédéfinies sont masquées. Pour les afficher, cliquez sur _Inclure les tâches du système dans la liste_ dans le coin supérieur droit.

Lorsque vous créez ou modifiez une tâche, elle sera programmer en fonction de la programmation sélectionnée. Pour exécuter une tâche à la demande, accédez à la liste des tâches, cliquez sur le bouton "Actions" de la tâche que vous souhaitez exécuter et cliquez sur "Exécuter manuellement". Cette action n'est disponible que pour les tâches activées.

## Créer une tâche { #scheduling_create_job }

1.  Ouvrez l'application **Programmateur** et cliquez sur le bouton "Nouvelle tâche" dans le coin supérieur droit.

1.  Choisissez un **Nom** approprié pour le nouvel emploi.

1.  Sélectionnez le **Type d'emploi** que vous souhaitez programmer à l'aide du menu déroulant.

1.  Sélectionnez un programme pour la tâche. Chaque type de tâche a son propre type de programmation, soit la programmation **Cron**, soit **Reporter**.

    1.  Pour les types de tâches programmées**Cron**, vous pouvez définir un programme en utilisant la syntaxe [Programmation de Printemps](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html). Vous pouvez également sélectionner une **expression Cron** prédéfinie en cliquant sur "Choisir parmi les heures prédéfinies". Cette programmation ne démarrera une nouvelle exécution de tâcheque si l'exécution de travail précédente est terminée, pour éviter que le système ne génère trop de travaux.

    1.  Pour les tâches  programmées **Reporter**, vous pouvez définir un délai en secondes. Contrairement aux tâches programmées **Cron**, ces tâches ne sont pas exécutées selon un calendrier défini, mais avec un délai spécifique entre les exécutions des tâches. Le minuteur démarre lorsqu'une tâche se termine, et lance une nouvelle exécution lorsque le décompte atteint zéro. Cette fonction continuera tant que la tâche est activée.

1.  Si le type de tâche est personnalisable, une section **Paramètres** apparaîtra sous les paramètres de programmation. Ces options supplémentaires précisent les détails de la tâche prévue et varient considérablement en fonction du type de tâche.

1.  Cliquez sur le bouton **Enregistrer** pour confirmer la création de la tâche. Une fois la création réussie, vous serez redirigé vers l'aperçu de la tâche, où la tâche nouvellement créé sera désormais répertorié.

![Création d'une nouvelle tâche de programmateur](resources/images/scheduler/add_new_job.png)

Les tâches nouvellement créées sont activées par défaut.

## Modifier une tâche{ #scheduling_configure_job }

Avec les autorisations appropriées, vous pouvez modifier les détails des tâches créées par l'utilisateur. Pour activer ou désactiver rapidement l'exécution d'une tâche créée par un utilisateur, utilisez les boutons de la colonne **Activer/Désactiver** sur la page d'accueil de l'application Programmateur. Notez que les tâches du système sont toujours activées et ne peuvent être désactivées.

Modification ultérieure des tâches utilisateur :

1.  Cliquez sur le bouton "Actions" de la tâche que vous souhaitez modifier et cliquez sur "Modifier" (seules les tâches utilisateur peuvent être modifiées).

1.  Lorsque vous avez terminé la modification, cliquez sur le bouton **Enregistrer les modifications** pour poursuivre les modifications.

## Supprimer une tâche { #dataAdmin_scheduler_delete }

1.  Cliquez sur le bouton "Actions" de la tâche que vous souhaitez supprimer et cliquez sur "Supprimer" (seules les tâches utilisateur peuvent être modifiées).

1.  Confirmez en cliquant à nouveau sur **Supprimer** dans la fenêtre pop-up.

Les tâches utilisateur peuvent également être supprimées sur la page de modification.

![Suppression d'une nouvelle tâche de programmateur](resources/images/scheduler/delete_job.png)

## Types de tâches { #job-types }

La section suivante décrit les différents types de tâches.

### Désactiver les utilisateurs inactifs { #scheduling_disable_inactive_users }

Les utilisateurs n'ayant pas été actifs - non connectés - pendant plusieurs mois peuvent être automatiquement désactivés. Comme paramètre de tâche, choisissez le nombre de mois d'inactivité. Tous les utilisateurs qui ne se sont pas connectés pendant ce nombre de mois ou plus seront désactivés par la tâche. Les utilisateurs désactivés ne pourront plus se connecter au système.

### Tableau des ressources { #scheduling_resource_table }

Le tableau de ressources à pour tâche de générer et de metter à jour des tables de la base de données des ressources. Ces tables sont utilisées par différents composants de DHIS 2 et sont destinées à simplifier les recherches dans la base de données.

Notez que lorsque vous spécifiez l'une des tâches de la table analytique, les tables de ressources peuvent faire partie du processus et il n'est pas nécessaire de spécifier également une tâche de la table de ressources.

### Tableau analytique { #scheduling_analytics_table }

Les tableaux analytiques permettent de générer et de mettre à jour les tableaux analytiques. Les tableaux analytiques sont utilisés comme base pour les requêtes d'analyse de données dans le DHIS2. Les applications telles que Tableau de bord, Visualiseur et Cartes récupèrent les données de ces tableaux via l'API analytique du DHIS2, et elles doivent être mises à jour pour que les données analytiques deviennent disponibles. Vous pouvez programmer ce processus de façon à ce qu'il s'exécute régulièrement par le biais d'un type de tâche de table analytique.

La tâche du tableau analytique remplira par défaut les champs de données pour toutes les années et tous les éléments de données. Les paramètres suivants sont disponibles :

-   **Dernières années:** Le nombre de dernières années pour lesquelles il faut remplir les tableaux d'analyse. Par exemple, si vous indiquez 2 années, le processus mettra à jour les données des deux dernières années, mais pas les données plus anciennes. Ce paramètre est utile pour réduire le temps nécessaire au processus, et est approprié si les données plus anciennes n'ont pas changé, et lorsque l'on souhaite mettre à jour les données récentes.
-   **Sauter les tableaux de ressources:** Sauter les tableaux de ressources pendant le processus de mise à jour du tableau analytique. Cela réduit le temps nécessaire à l'exécution du processus, mais entraine une situation dans laquelle les modifications des métadonnées ne sont pas prises en compte dans les données analytiques.
-   **Sauter les types de tableaux : ** Sauter un ou plusieurs types de tableaux analytiques. Cela réduit le temps nécessaire à l'exécution du processus, mais conduit à ce que ces types de données ne soient pas mis à jour dans les données analytiques.

### Tableau d'analyse (Suite) { #scheduling_continuous_analytics_table }

Les tableaux analytiques permettent de générer et de mettre à jour les tableaux analytiques. Les tableaux analytiques sont utilisés comme base pour les requêtes d'analyse de données dans le DHIS2. Les applications telles que Tableau de bord, Visualiseur et Cartes récupèrent les données de ces tableaux via l'API analytique du DHIS2, et elles doivent être mises à jour pour que les données analytiques deviennent disponibles. Vous pouvez programmer ce processus de façon à ce qu'il s'exécute régulièrement par le biais d'un type de tâche de table analytique.

La tâche de la table d'analyse continue est basé sur deux phases :

-   _Dernière mise à jour :_ mise à jour des données récentes, où récente renvoie aux données qui ont été ajoutées, mises à jour ou supprimées depuis la dernière mise à jour des données récentes ou des données complètes. Ce processus pourra être fréquent.
-   _Mise à jour complète :_ mise à jour de toutes les données sur toutes les années. Ce processus aura lieu une fois par jour.

Le tâche de la table d'analyse continue mettra fréquemment à jour les dernières données. Le processus de mise à jour des données utilise une partition spéciale de la base de données qui ne contient que les données les plus récentes. Cette partition peut être rapidement actualisée en raison de la quantité relativement faible de données. La taille de la partition augmentera jusqu'à ce qu'une mise à jour complète soit effectuée. Toutes les données de toutes les années seront mises à jour une fois par jour,. La dernière partition sera ainsi effacée.

La tâche du tableau analytique remplira par défaut les champs de données pour toutes les années et tous les éléments de données. Les paramètres suivants sont disponibles :

-   **Heure du jour de la mise à jour complète:** Heure du jour à laquelle la mise à jour complète sera effectuée. Par exemple, si vous indiquez 1, la mise à jour complète sera effectuée à 1 heure du matin.
-   **Dernières années:** Le nombre de dernières années pour lesquelles il faut remplir les tableaux d'analyse. Par exemple, si vous indiquez 2 années, le processus mettra à jour les données des deux dernières années, mais pas les données plus anciennes. Ce paramètre est utile pour réduire le temps nécessaire au processus, et est approprié si les données plus anciennes n'ont pas changé, et lorsque l'on souhaite mettre à jour les données récentes.
-   **Sauter les tableaux de ressources:** Sauter les tableaux de ressources pendant le processus de mise à jour du tableau analytique. Cela réduit le temps nécessaire à l'exécution du processus, mais entraine une situation dans laquelle les modifications des métadonnées ne sont pas prises en compte dans les données analytiques.

### Synchronisation des données { #scheduling_data_sync }

Le DHIS2 permet la synchronisation des données entre des instances réparties à distance et une instance centrale du DHIS2. Cela peut être utile, par exemple, lorsque vous avez déployé plusieurs instances autonomes du DHIS2 qui doivent soumettre des valeurs de données à une instance centrale du DHIS2. La synchronisation des données de suivi et des données agrégées est prise en charge.

Voici les étapes à suivre pour activer la synchronisation des données :

-   Allez dans les Paramètres de Synchronisation, entrez l'URL du serveur distant, le nom d'utilisateur et le mot de passe. Appuyez sur la touche TAB pour enregistrer automatiquement le nouveau mot de passe. Actualisez la page et vérifiez que les valeurs remplies sont toujours présentes. Notez que le champ du mot de passe sera vide après l'actualisation, car cette valeur est cryptée, et vous pouvez donc la considérer comme enregistrée.

-   En utilisant l'application Programmateur, créez une nouvelle tâche en utilisant le type de tâche "Synchronisation des données des programmes d'événements" et/ou "Synchronisation des données des programmes Tracker". Assurez-vous qu'il est activé lorsque vous avez terminé. (N.B. : Si la tâche "Synchronisation des données de programmes", disponible dans les versions précédentes, a été préalablement configurée dans l'application Programmateur, elle a été automatiquement remplacée par les deux nouvelles tâches "Synchronisation des données des programmes d'événements" et "Synchronisation des données des programmes Tracker" avec les mêmes paramètres. )

Quelques aspects de la fonction de synchronisation des données à prendre en compte :

-   L'instance DHIS2 locale stocke le mot de passe du compte utilisateur sur l'instance distante, crypté dans la base de données locale. Le compte distant est utilisé pour l'authentification lors du transfert de données. Pour des raisons de sécurité, assurez-vous de définir le paramètre de configuration _cryptage.mot de passe_ dans _hiberner.propriétés_ sur un mot de passe sécurisé.

-   Il est fortement recommandé de déployer le serveur distant sur SSL/HTTPS car le nom d'utilisateur et le mot de passe sont envoyés en texte clair en utilisant une authentification de base et pourraient être interceptés par un pirate.

-   La synchronisation des données utilise la propriété UID des éléments de données, des combos d'options de catégories et des unités d'organisation pour faire correspondre les méta-données. La synchronisation dépend donc de l'harmonisation de ces trois objets de méta-données sur l'instance locale et distante pour fonctionner correctement.

-   La première fois que le DHIS2 exécutera la tâche de synchronisation, il inclura toutes les données disponibles. Les tâches de synchronisation suivantes ne comprendront que les données ajoutées et modifiées depuis la dernière tâche réussie. Une tâche de synchronisation n'est considérée comme réussie que si toutes les données ont été sauvegardées avec succès sur le serveur distant (toutes les données synchronisées avec succès resteront sur l'instance réceptrice, même si le travail finit par échouer). La réussite ou l'échec de la tâchel peut être déterminé à partir du résumé d'importation renvoyé par le serveur central.

-   La tâche initiale de synchronisation peut prendre beaucoup de temps, voire ralentir votre instance, en fonction de la quantité de données à synchroniser. Il peut être judicieux de configurer la tâche pour qu'il s'exécute lorsqu'ils y a peu d'utilisateurs en ligne sont peu nombreux, puis de la modifier plus tard selon vos préférences. Si vous ne voulez ou ne devez pas synchroniser toutes les données, il est alors possible d' <a href="#skip_changed_before">ignorer scertaines des données faisant l'objet de synchronisation</a>.

    Lorsque DHIS2 synchronise les données de tracker, il définit l'ensemble des données à synchroniser en fonction de leur dernière date de synchronisation. Chacune des instances et chacun des événements de l'entité suivie ont leurs propres enregistrements de la date de leur dernière synchronisation réussie.

-   Le système lancera une tâche de synchronisation sur la base des règles définies dans la configuration de la tâche. Si la tâche de synchronisation démarre alors qu'il n'y a pas de connexion au serveur distant, elle sera réessayée jusqu'à trois fois avant d'être interrompue. La tâche sera relancé à une heure programmée.

-   Le serveur gère chaque ensemble de programmes séparément, ce qui signifie qu'un ensemble de programmes peut être synchronisé avec succès, tandis que l'autre échoue. L'échec ou la réussite de l'un n'influence pas l'autre, car la dernière synchronisation réussie est suivie individuellement pour chaque élément, comme indiqué précédemment.

-   Les attributs des Instances d'entité suivie (Instances d'entité suivie) et les éléments de données des étapes de programmes (éléments de données des étapes de programmes ), dont l'option "Sauter la synchronisation" est activée, ne seront pas synchronisés. Cette fonction vous permet de décider de ne pas synchroniser certaines données sensibles ou non pertinentes et de ne les conserver que localement.

-   L'autorité `Ignorer la validation des champs obligatoires dans Saisie Tracker et Saisie d'événements` (`F\_IGNORE\_TRACKER\_REQUIRED\_VALUE\_VALIDATION`) doit être utilisée lorsqu'il est nécessaire qu'un attribut / élément de donnée obligatoire ait en même temps une propriété "Sauter la synchronisation" activée. Un tel paramètre entraînera un échec de validation sur le serveur central, car l'attribut / élément de donnée concerné ne sera pas présent dans la charge utile.

    La validation se fera avec succès pour l'utilisateur disposant de cette autorité. L'autorité doit être attribuée à l'utilisateur, sur le serveur central, qui sera utilisé pour la tâche de synchronisation.

-   Dans des cas spécifiques, **la synchronisation initiale de toutes les données peut être indésirable** ; par exemple, lorsqu'une base de données sur l'instance locale est un nouvel exemplaire de la base de données présente sur l'instance centrale, ou lorsqu'il est jugé préférable de ne pas synchroniser les anciennes données au profit d'une synchronisation initiale prenant moins de temps.

    La clé de réglage _syncSkipSyncForDataChangedBefore_ peut être utilisée pour sauter la synchronisation de toutes les données (valeurs de données, données des programmes d'événements et Tracker, enregistrements complets d'ensembles de données) _dernièrement modifiées avant la date spécifiée_. La `clé de réglage` est utilisée en permanence dans la tâche de synchronisation. Par conséquent, vous devez changer la `clé de réglage` si vous avez besoin de synchroniser les anciennes données.

-   La tâche de synchronisation des Programmes Tracker et des Programmes d'événements prend en charge la pagination afin d'éviter les dépassements de temps et de résoudre les problèmes d'instabilité du réseau. La taille de page par défaut pour la tâche "Synchronisation des données des programmes d'événements" est fixée à 60. Par contre, la taille de page par défaut pour la tâche "Synchronisation des données des programmes Tracker" est fixée à 20.

    Si les valeurs par défaut ne vous conviennent pas, vous pouvez alors spécifier votre propre taille de page via Paramètre, en particulier Tâche de synchronisation dans l'application Programmateur.

### Planification de la synchronisation des métadonnées { #scheduling_metadata_sync }

Le DHIS2 offre une fonction de synchronisation des meta-données d'une instance distante à une instance locale du DHIS2. Cette fonction peut être utile lorsque vous avez déployé plusieurs instances autonomes du DHIS2 et que vous devez créer des meta-données dans toutes les instances locales similaires à l'instance centrale du DHIS2.

Voici les étapes à suivre pour activer la synchronisation des meta-données :

-   Allez dans Paramètres \> Synchronisation, entrez l'URL du serveur distant, le nom d'utilisateur et le mot de passe et cliquez sur Enregistrer.

-   Allez dans Administration des métadonnées \> Planification. Sous Synchronisation des métadonnées, mettez la stratégie sur Activé, sélectionnez la période et cliquez sur Démarrer.

Quelques aspects de la fonction de synchronisation des meta-données à prendre en compte :

-   L'instance locale de DHIS2 stockera le mot de passe du compte utilisateur de l'instance distante dans sa base de données. Le compte d'utilisateur distant est utilisé pour l'authentification lors du transfert/téléchargement de données. Pour des raisons de sécurité, assurez-vous de définir le paramètre de configuration _cryptage.mot de passe_ dans _hiberner.propriétés_ sur un mot de passe sécurisé.

-   Il est fortement recommandé de déployer le serveur distant sur SSL/HTTPS car le nom d'utilisateur et le mot de passe sont envoyés en texte clair en utilisant une authentification de base et pourraient être interceptés par un pirate.

-   Assurez-vous également que l'utilisateur distant ne dispose pas de l'autorité TOUT, mais créez simplement un utilisateur avec l'autorité F_METADATA_MANAGE de sorte que même si ces détails sont interceptés par un pirate informatique, l'on ne puisse pas avoir le contrôle total du système distant.

-   La synchronisation des meta-données repose sur la couche d'importation sous-jacente. Chaque version de méta-données est une exportation de meta-données entre deux horodatages donnés. Chaque synchronisation de version de meta-données est une tentative d'importation de cet instantané de meta-données dans l'instance locale. La synchronisation des versions se fait progressivement. L'instance locale essaiera de télécharger les versions de meta-données de l'instance centrale l'une après l'autre. L'échec de la synchronisation d'une version spécifique de meta-données ne permettra pas à la synchronisation de passer à d'autres versions. En cas d'échec, des modifications appropriées doivent être apportées aux meta-données de l'instance centrale pour garantir la résolution de l'erreur. La configuration des meta-données est essentielle et l'utilisateur doit faire beaucoup attention lorsqu'il déploie les mises à jour de la production. Il est toujours recommandé de mettre en place des environnements de simulation afin de garantir le bon fonctionnement des versions de meta-données et leur impact par la suite. L'instance locale synchronisera les meta-données de la première version pour maintenir l'harmonie et garantir le bon fonctionnement de l'instance locale et centrale.

-   Le système tentera une synchronisation à l'heure prévue. Si le serveur local ou distant ne dispose pas d'une connexion Internet à ce moment, la synchronisation sera interrompue et réessayée plus tard, selon le nombre de tentatives mentionné dans le fichier _dhis.conf_.

-   Vous pouvez voir l'heure de la dernière synchronisation réussie avec le serveur distant dans l'écran de programmation à côté de l'étiquette "Dernière réussite".

# Application Import/Export { #import_export }

Dans un système de santé primaire, le SNIS implique généralement une application distribuée, où la même application est exécutée dans différents lieux géographiques (SSP, CSC, hôpitaux, districts et État). Nombre de ces lieux physiques ne disposent pas de connexion Internet et travaillent donc hors ligne. À un moment donné (normalement au niveau du district), les données doivent être synchronisées afin d'avoir une base de données consolidée pour une région géographique particulière. Pour cela, il est important de pouvoir exporter les données d'un lieu (qui travaille hors ligne, par exemple au niveau de l'établissement de santé) et de les importer dans un autre (par exemple au niveau du district). Cette fonction d'exportation et d'importation est donc une fonction cruciale d'un SNIS. Cette fonction nous aide également à surmonter, dans une certaine mesure, la dépendance à l'égard d'Internet, car les mises à jour des données peuvent être transférées par clé USB lorsqu'il n'y a pas de connectivité, ou par courrier électronique lorsque la connectivité à l'Internet est limitée. Le DHIS2 offre une fonctionnalité d'import-export robuste pour répondre à ces besoins.

Pour accéder à l'application Import/Export, cherchez Import/Export dans la barre d'en-tête supérieure. L'application Import/Export offre un certain nombre de services dont les détails sont présentés ci-dessous.

![](resources/images/import_export/overview.png)

## Importation de données { #importing_data }

### Enregistreur de la progression des importations { #import_progress_logger }

Peu importe ce que vous importez ("Données", "Événements", "GML", "Métadonnées" ou "Instances d'entités suivies"), vous pouvez toujours consulter l'état d'avancement de l'importation en consultant le "Résumé des tâches" en haut de la page.

### Résumés des importations { #metadata_import_summaries }

Au moment de remplir la demande d'importation, nous affichons les résumés d'importation au-dessus du formulaire d'importation. Les éventuelles incompatibilités ou erreurs sont indiquées dans le tableau sous le résumé principal de l'importation.

![](resources/images/import_export/import_summary.png)

### Importation de métadonnées { #metadata_import }

L'importation de métadonnées est accessible à partir de la barre latérale en cliquant sur Importation de métadonnées.

![](resources/images/import_export/metadata_import.png)

1.  Choisissez un fichier à télécharger

2.  Choisissez parmi les formats disponibles : _JSON_, _XML_ ou _CSV_

3.  Sélectionnez les paramètres appropriés de :

    -   Identificateur
    -   Mode rapport d'importation
    -   Mode d'économie d'énergie
    -   Stratégie d'importation
    -   Mode atomique
    -   Mode Fusion

4.  Cliquez sur **Options avancées** si vous souhaitez ajuster un ou plusieurs des paramètres suivants avant l'importation :

    -   Mode Flush
    -   Ignorer le partage
    -   Ignorer la validation
    -   Async
    -   Stratégie inclusive

5.  Cliquez sur le bouton **Importer** pour télécharger le fichier et lancer le processus d'importation.

> **Conseil**
>
> **Il est fortement recommandé d'utiliser l'option "Dry run "** pour tester avant d'importer des données, pour s'assurer que vous gardez le contrôle sur toute modification de vos métadonnées, et pour vérifier les problèmes d'éléments de données ou de noms d'unités d'organisation désynchronisés

> **N.B.**
>
> Si une unité d'organisation, par exemple `Nduvuibu MCHP`, avait une référence inconnue à un objet dont l'ID est `aaaU6Kr7Gtpidn`, cela signifie que l'objet avec ID `aaaU6Kr7Gtpidn` n'était pas présent dans votre fichier importé, et qu'il n'a pas été trouvé dans la base de données existante.
>
> Vous pouvez contrôler cela en utilisant l'option **Identificateur** pour indiquer si vous souhaitez autoriser ou non l'importation d'objets ayant de telles références non valables. Si vous choisissez d'importer des références non valides, vous devrez alors corriger la référence manuellement dans le DHIS2 ultérieurement.

#### Correspondance des identificateurs dans DXF2 { #matching_identifiers_in_dxf2 }

Le format DXF2 prend actuellement en charge la correspondance de deux identificateurs, l'identificateur interne de DHIS2 (connu sous le nom d'UID), et utilisant également un identificateur externe appelé "code". Lorsque l'importateur essaie de rechercher des références (comme celle ci-dessus), il passe d'abord au champ UID, puis au champ code. Cela vous permet d'importer à partir de systèmes existants sans disposer d'un UID pour chaque objet de méta-données. Par exemple, si vous importez des données d'établissement à partir d'un système existant, vous pouvez laisser le champ ID complètement vide (DHIS2 le remplira pour vous) et mettre les identificateurs propres au système existant dans le champ de code ; cet identifiant doit être unique. Cela fonctionne non seulement pour les unités d'organisation, mais aussi pour toutes sortes de métadonnées, ce qui permet d'importer facilement des données à partir d'autres systèmes.

### Importation de données { #import }

L'importation de données est accessible à partir de la barre latérale en cliquant sur Importation de données.

![](resources/images/import_export/data_import.png)

1.  Choisissez un fichier à télécharger

2.  Choisissez parmi les formats disponibles : _JSON_, _XML_, _PDF_, _ADX_ ou _CSV_

3.  Sélectionnez les paramètres appropriés de :

    -   Stratégie
    -   Préchauffer le cache

4.  Cliquez sur **Options avancées** si vous souhaitez ajuster un ou plusieurs des paramètres suivants avant l'importation :

    -   Schéma d'identification d'un élément de données
    -   Schéma d'identification d'une unité d'organisation
    -   Schéma d'identification
    -   Ignorer un contrôle existant

5.  Cliquez sur le bouton **Importer** pour télécharger le fichier et lancer le processus d'importation.

> **Conseil**
>
> **Il est fortement recommandé d'utiliser l'option Test à blanc** pour tester avant d'importer des données, afin de s'assurer que vous gardez le contrôle sur toute modification de vos métadonnées, et pour vérifier les problèmes d'éléments de données ou de noms d'unités d'organisation désynchronisés

#### Données PDF { #importPDFdata }

Le DHIS2 prend en charge l'importation de données au format PDF. On peut l'utiliser pour importer des données obtenues à partir des formulaires de saisie de données PDF hors ligne. Veuillez vous référer à la section **Gestion des ensembles de données** pour savoir comment produire un formulaire PDF pouvant être utilisé pour la saisie de données hors ligne.

Pour importer un fichier de données PDF, naviguez jusqu'à l'élément _Importation de données PDF_ dans le menu latéral. Téléchargez le fichier PDF complété et cliquez sur _Importer_.

### Importation d'événements { #event_import }

L'événement est accessible à partir de la barre latérale en cliquant sur Importation d'événements.

![](resources/images/import_export/event_import.png)

1.  Choisissez parmi les formats disponibles : _JSON_, _XML_ ou _CSV_

2.  Cliquez sur **Options avancées** si vous souhaitez ajuster un ou plusieurs des paramètres suivants avant l'importation :

    -   Schéma d'identification des événements
    -   Schéma d'identification d'un élément de données
    -   Schéma d'identification d'une unité d'organisation
    -   Schéma d'identification

3.  Cliquez sur le bouton **Importer** pour télécharger le fichier et lancer le processus d'importation.

### Importation GML { #gml_import }

On peut accéder à l'importation GML à partir de la barre latérale en cliquant sur Importation GML.

![](resources/images/import_export/gml_import.png)

1.  Téléchargez un fichier en utilisant le format _GML_ (Langage de balisage géographique).

2.  Cliquez sur le bouton **Importer** pour télécharger le fichier et lancer le processus d'importation.

### Importation d'instances d'entités suivies { #tei_import }

L'importation des instances d'entités suivies est accessible à partir de la barre latérale en cliquant sur Importation des TEI.

![](resources/images/import_export/tei_import.png)

1.  Choisissez un fichier à télécharger

2.  Choisissez parmi les formats disponibles : _JSON_ ou _XML_

3.  Sélectionnez les paramètres appropriés de :

    -   Identificateur
    -   Mode rapport d'importation
    -   Mode d'économie d'énergie
    -   Stratégie d'importation
    -   Mode atomique
    -   Mode Fusion

4.  Cliquez sur **Options avancées** si vous souhaitez ajuster un ou plusieurs des paramètres suivants avant l'importation :

    -   Mode Flush
    -   Ignorer le partage
    -   Ignorer la validation
    -   Stratégie inclusive

5.  Cliquez sur le bouton **Importer** pour télécharger le fichier et lancer le processus d'importation.

> **Conseil**
>
> **Il est fortement recommandé d'utiliser l'option Test à blanc** pour tester avant d'importer des données, afin de s'assurer que vous gardez le contrôle de toute modification de vos instances d'entités suivies.

## Exportation de données { #exporting-data }

### Exportation de métadonnées { #metadata_export }

L'exportation de métadonnées est accessible à partir de la barre latérale en cliquant sur Exportation de métadonnées.

![](resources/images/import_export/metadata_export.png)

1.  Choisissez la liste des objets que vous souhaitez exporter.

2.  Choisissez le _format_ d'exportation _JSON_, _CSV_ ou _XML_

3.  Choisissez le _type de_compression _zip_ , _gzip_ ou _non compressé_.

4.  Choisissez l'option _Partage_ avec ou sans partage.

5.  Cliquez sur **Exporter les métadonnées**, ce qui ouvrira une nouvelle fenêtre de navigateur web qui vous fournira un fichier à télécharger sur votre ordinateur local.

### Exportation de métadonnées avec des dépendances { #metadata_export_dependencies }

L'exportation de métadonnées avec dépendances vous permet de créer des exportations ordinaires pour les objets de métadonnées. Ce type d'exportation comprendra les objets de métadonnées et les objets liés à l'objet de métadonnées, c'est-à-dire les métadonnées appartiennant à l'objet principal.

<table>
<caption>Types d'objets et leurs dépendances</caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Type d'object</p></th>
<th><p>Dépendances incluses dans l'exportation</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Ensembles de données</strong></p>
<!--DHIS2_SECTION_ID:docs-internal-guid-4a3662ce-63b9-1efd-e640-8ba874d1bcde--></td>
<td><p>Éléments de données</p>
<p>Sections</p>
<p>Indicateurs</p>
<p>Types d'indicateur</p>
<p>Attributs</p>
<p>Formulaires de saisie de données</p>
<p>Ensembles de légendes</p>
<p>Légendes</p>
<p>Combinaisons de catégories</p>
<p>Catégories</p>
<p>Options des catégories</p>
<p>Combinaisons d'options de catégories</p>
<p>Ensembles d'options</p></td>
</tr>
<tr class="even">
<td><p>Programmes</p></td>
<td><p>Formulaire de saisie de données</p>
<p>Entité suivie</p>
<p>Étapes du programme</p>
<p>Attributs du programme</p>
<p>Indicateurs du programme</p>
<p>Règles du programme</p>
<p>Actions des règles du programme</p>
<p>Variables des règles de programme</p>
<p>Attributs du programme</p>
<p>Éléments de données</p>
<p>Combinaisons de catégories</p>
<p>Catégories</p>
<p>Options de catégories</p>
<p>Combinaisons d'options de catégories</p>
<p>Ensembles d'options</p></td>
</tr>
<tr class="odd">
<td><p>Combinaison de catégories</p></td>
<td><p>Combinaisons de catégories</p>
<p>Catégories</p>
<p>Options de catégories</p>
<p>Combinaisons d'options de catégories</p>
<p>Attributs</p></td>
</tr>
<tr class="even">
<td><p>Tableau de bord</p></td>
<td><p>Éléments du tableau de bord</p>
<p>Graphiques</p>
<p>Graphiques des événements</p>
<p>Tableaux croisés dynamiques</p>
<p>Rapports d'événements</p>
<p>Cartes</p>
<p>Rapports</p>
<p>Ressources</p></td>
</tr>
<tr class="odd">
<td><p>Groupes d'éléments de données</p></td>
<td><p>Éléments de données</p>
<p>Combinaisons de catégories</p>
<p>Catégories</p>
<p>Options de catégories</p>
<p>Combinaisons d'options de catégories</p>
<p>Ensembles d'options</p>
<p>Attributs</p>
<p>Ensembles de légendes</p>
<p>Légendes</p></td>
</tr>
<tr class="even">
<td><p>Ensembles d'options</p></td>
<td><p>Option</p></td>
</tr>
</tbody>
</table>

![](resources/images/import_export/metadata_dependency_export.png)

![](resources/images/import_export/metadata_dependency_export_object_types.png)

1.  Sélectionnez un **Type d'objet** : **Ensembles de données** , **Programmes** , **Combinaison de catégories** , **Tableau de bord** , **Groupes d'éléments de données** ou **Ensembles d'options**.

2.  Sélectionnez un **Objet**.

3.  Sélectionnez un format : **JSON** ou **XML**.

4.  Sélectionnez **Compression** : **Zip** , **Gzip** ou **Décompressé**.

5.  Cliquez sur **Exporter les dépendances des métadonnées**, ce qui ouvrira une nouvelle fenêtre de navigateur web qui vous fournira un fichier à télécharger sur votre ordinateur local.

### Exportation de données { #data_export }

L'exportation de données est accessible à partir de la barre latérale en cliquant sur Exportation de données.

![](resources/images/import_export/data_export.png)

1.  Sélectionnez les _Unités d'organisation_ .

2.  Choisissez si vous souhaitez que l'exportation prenne en compte les descendants des unités d'organisation sélectionnées à l'étape 1 ou uniquement les unités d'organisation sélectionnées manuellement.

3.  Choisissez les _Ensembles de données_.

4.  Définir les _Dates de début_ et de _Fin_ .

5.  Sélectionnez un format : **XML**, **CSV** ou **JSON**.

6.  Sélectionnez **Compression** : **Zip** , **Gzip** ou **Décompressé**.

7.  Cliquez sur **Options avancées** si vous souhaitez ajuster un ou plusieurs des paramètres suivants avant l'importation :

    -   Inclure les éléments supprimés
    -   Schéma d'identification d'un élément de données
    -   Schéma d'identification d'une unité d'organisation
    -   Schéma d'identification

8.  Cliquez sur **Exporter les données**, ce qui ouvrira une nouvelle fenêtre de navigateur web qui vous fournira un fichier à télécharger sur votre ordinateur local.

### Exportation d'événements { #event_export }

L'exportation d'événements est accessible à partir de la barre latérale en cliquant sur Exportation d'événements.

![](resources/images/import_export/event_export.png)

Vous pouvez exporter des données d'événements ou de suivi au format **XML** , **JSON** ou **CSV**.

1.  Sélectionnez une unité d'organisation.

2.  Sélectionnez l'**Inclusion** :

    -   **Sélectionnée** : Exporter les données de l'événement uniquement pour l'unité d'organisation sélectionnée

    -   **Directement en dessous** : Exporter les données de l'événement, y compris le premier niveau des unités d'organisation dans les sélections ainsi que l'unité d'organisation sélectionnée elle-même.

    -   **Toutes en dessous** : Exporter les données d'événements pour toutes les unités d'organisation dans les sélections ainsi que pour l'unité d'organisation sélectionnée elle-même.

3.  Sélectionnez un programme et une étape du programme (le cas échéant).

4.  Sélectionnez une **Date de début** et une **Date de fin**.

5.  Sélectionnez un format : **XML**, **JSON** ou **CSV**.

6.  Sélectionnez **Compression** : **Zip** , **Gzip** ou **Décompressé**.

7.  Cliquez sur **Options avancées** si vous souhaitez ajuster un ou plusieurs des paramètres suivants avant l'importation :

    -   Inclure les éléments supprimés
    -   Schéma d'identification d'un élément de données
    -   Schéma d'identification d'une unité d'organisation
    -   Schéma d'identification

8.  Cliquez sur **Exporter les événements**, ce qui ouvrira une nouvelle fenêtre de navigateur web qui vous fournira un fichier à télécharger sur votre ordinateur local.

### Exportation d'instances d'entités suivies { #tei_export }

L'Exportation des instances d'entités suivies est accessible à partir de la barre latérale en cliquant sur Exportation des TEI.

![](resources/images/import_export/tei_export.png)

Vous pouvez exporter des données d'événements ou de suivi au format **XML** , **JSON** ou **CSV**.

1.  Sélectionnez les _unités d'organisation_ à inclure.

2.  Choisissez si vous voulez filtrer par _programme_ ou _type d'entité suivie_.

3.  Sélectionnez un format : **XML**, **JSON** ou **CSV**.

4.  Cliquez sur **Options avancées** si vous souhaitez ajuster un ou plusieurs des paramètres suivants avant l'importation :

    -   Filtrer par date de dernière mise à jour
    -   Mode d'utilisateur assigné
    -   Inclure les éléments supprimés
    -   Inclure tous les attributs
    -   Schéma d'identification d'un élément de données
    -   Schéma d'identification des événements
    -   Schéma d'identification d'une unité d'organisation
    -   Schéma d'identification

5.  Cliquez sur **Exporter les instances d'entités suivies**, ce qui ouvrira une nouvelle fenêtre de navigateur web qui vous fournira un fichier à télécharger sur votre ordinateur local.

## Aperçu des tâches { #job_overview }

La page d'aperçu des tâches peut être consultée dans la barre latérale en cliquant sur _Aperçu des tâches_.

![](resources/images/import_export/job_overview.png)

Cette page vous permet de vérifier l'état d'avancement de toutes les importations que vous avez lancées au cours de cette session. Vous pouvez voir la liste de toutes les tâches sur le côté gauche et des détails relatifs à une tâche spécifique sélectionnée sur le côté droit.

### Filtrage par type de tâche d'importation { #filtering-by-import-job-type }

![](resources/images/import_export/job_overview_filter.png)

Par défaut, les tâches de tous les types d'importation sont affichées dans la liste des tâches, mais vous pouvez filtrer les catégories qui vous intéressent en cliquant sur les filtres des types de tâches au-dessus de la liste des tâches.

### Recréer une ancienne tâche { #recreating-a-previous-job }

![](resources/images/import_export/job_overview_recreate.png)

Vous pouvez recréer les tâches d'importation précédemment exécutées en cliquant sur le bouton _Recréer une tâche_ situé au bas de la page, à condition que vous ayez sélectionné une tâche dans la liste. Cela vous amènera à la page d'importation appropriée et vous permettra de remplir tous les détails du formulaire conformément à la tâche que vous avez choisie de recréer.

## Schémas { #schemes }

Les différents schémas utilisés dans de nombreuses pages d'importation et d'exportation sont également connus sous le nom de schémas d'identification et sont utilisés pour relier les objets de métadonnées à d'autres métadonnées lors de l'importation, et pour restituer les métadonnées dans le cadre du processus d'exportation.

<table>
<caption>Valeurs disponibles</caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Schéma</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ID, UID</td>
<td>Correspondance avec l'identificateur stable dans DHIS2, c'est le schéma d'identification par défaut.</td>
</tr>
<tr class="even">
<td>CODE</td>
<td>Correspondance avec le code dans DHIS2, principalement utilisé pour échanger des données avec un système externe.</td>
</tr>
<tr class="odd">
<td>NOM</td>
<td>Correspondance avec le nom dans DHIS2, veuillez noter que celui-ci utilise ce qui est disponible sous le nom <em>object.name</em>, et non le nom traduit. Notez également que les noms ne sont pas toujours uniques, et dans ce cas, ils ne peuvent pas être utilisés.</td>
</tr>
<tr class="even">
<td>ATTRIBUT:ID</td>
<td>Correspondance avec les attributs de métadonnées, cet attribut doit être attribué au type pour lequel vous effectuez la correspondance, et la propriété unique doit être définie sur <em>vrai</em>. La principale utilité de ce système réside dans l'échange de données avec des systèmes externes, ce qui présente certains avantages par rapport au <em>CODE</em> puisque plusieurs attributs peuvent être ajoutés, il peut donc être utilisé pour se synchroniser avec plus d'un système.</td>
</tr>
</tbody>
</table>

### Schéma d'identification { #id-scheme }

Le schéma d'identification s'applique à tous les types d'objets, mais peut également être écrasé par des types d'objets plus spécifiques.

# Configurer la synchronisation des métadonnées { #metadata_sync }

## À propos de la synchronisation des données et des métadonnées { #about-data-and-metadata-synchronization }

Vous pouvez synchroniser les données et les métadonnées entre les différentes instances du DHIS2. Dans une stratégie de déploiement central-local, les métadonnées créées au niveau du système central peuvent être synchronisées avec le système local et les données créées au niveau du système local peuvent être synchronisées avec le système central. Cela peut être utile lorsque vous avez plusieurs instances autonomes de DHIS2 et que des métadonnées globales doivent être créées à toutes les instances locales.

![](resources/images/metadata_synchronization/dhis2_architecture.png)

Si la création et la mise à jour des métadonnées ont lieu au niveau du système central et si la tâche de synchronisation des métadonnées est activée, les métadonnées sont alors synchronisées jusqu'à toutes les instances locales liées à l'instance centrale. Ces instances locales transmettront à leur tour à l'instance centrale les valeurs des données, les données des programmes d'événements et de suivi ainsi que les ensembles complets d'enregistrement des données. L'activation ou la désactivation du versionnage de la synchronisation des métadonnées au niveau de l'instance locale n'entravera pas le processus de synchronisation des métadonnées. En effet, la synchronisation des métadonnées interagit avec les points finaux de versionnement de l'instance centrale et non avec les points finaux de l'instance locale.

Chaque instantané d'exportation de métadonnées généré est référencé à une version de métadonnées. Une nouvelle version de métadonnées ne contient que les modifications entre la version précédente et la version actuelle, c'est-à-dire qu'il s'agit d'une exportation entre deux horodateurs. Toutes les versions de métadonnées sont maintenues dans la base de données DHIS2 et sont disponibles pour toutes les instances locales qui s'y connectent. Vous pouvez programmer chacune des instances locales pour télécharger de nouvelles versions de métadonnées. Il est recommandé de conserver une taille réduite et logique des versions de métadonnées.

> **Attention**
>
> Chaque instance du DHIS2, qu'elle soit centrale ou locale, peut créer des versions de métadonnées. L'instance locale est destinée à synchroniser les métadonnées provenant d'un système central et non à créer des métadonnées de manière autonome.
>
> Si une nouvelle version de métadonnées est créée sur l'instance locale, cette instance ne peut donc pas recevoir de nouvelles versions de métadonnées de l'instance centrale, car le contenu des versions de métadonnées sera désynchronisé.
>
> Si vous avez créé des versions de métadonnées sur une instance locale, vous devez alors supprimer manuellement ces versions de la base de données avant de pouvoir synchroniser avec l'instance centrale.
>
> Supposons que les instances DHIS2 centrales et locales aient des instantanés de métadonnées identiques jusqu'à la version 10. Ensuite, l'instance locale crée un nouvel instantané appelé version 11. Après cela, l'instance centrale crée un nouvel instantané appelé version 11. Lorsque l'instance locale tente de synchroniser les métadonnées, la version 11 n'est pas téléchargée. Cependant, le contenu de la version 11 sur l'instance locale n'est pas identique au contenu de la version 11 sur l'instance centrale.

> **N.B.**
>
> Vous pouvez également utiliser l'application **Import-Export** pour synchroniser les métadonnées manuellement.

## Déroulement { #workflow }

1.  Sur l'instance centrale, configurez le versionnage des métadonnées. Vous devez le faire une fois que l'instance centrale contient des métadonnées.

2.  Connecter la ou les instances locales à l'instance centrale.

3.  Sur la ou les instance(s) locale(s), configurez la synchronisation automatique.

## Configurer le versionnement des métadonnées sur l'instance centrale { #configure-metadata-versioning-on-central-instance }

> **N.B.**
>
> Pour synchroniser les métadonnées, le compte utilisateur du système central doit avoir l'autorité suivante :
>
> **F_GESTION_DES MÉTADONNÉES **
>
> Seuls les utilisateurs disposant de cette autorité pourront alors créer et télécharger des métadonnées. Cette mesure vise à garantir la sécurité du système central où les métadonnées sont créées. Au lieu de donner les références de l'utilisateur ayant l'autorité TOUT sur les instances de terrain, vous devez créer un utilisateur ayant uniquement cette autorité spécifique.

1.  Sur l'instance centrale, ouvrez l'application **Paramètres système** et cliquez sur **Synchronisation**.

2.  Allez dans la section **Versionnage des métadonnées** et sélectionnez **Activer le versionnage pour la synchronisation des métadonnées**.

    ![](resources/images/metadata_synchronization/metadata_versioning.png)

3.  (Facultatif) Sélectionnez **Ne pas synchroniser les métadonnées si les versions DHIS2 diffèrent**.

4.  Sélectionnez un type de version de métadonnées : **Mode au mieux** ou **Atomique**.

    -   _Mode au mieux_ signifie que si l'importation de métadonnées rencontre des références manquantes (par exemple des éléments de données manquants dans un groupe d'éléments de données importés), elle ignore les erreurs et continue l'importation.

    -   _Atomique_ signifie tout ou rien - l'importation des métadonnées échouera si l'une des références n'existe pas.

        > **Note**
        >
        > Each metadata entity is associated with a "User" object. If this "User" reference is missing while importing metadata version of type ATOMIC, the import will fail at the validation phase itself. This means that the user who creates metadata also needs to synchronize down to local instances to successfully import the metadata version of type ATOMIC.

5.  Cliquez sur **Créer une nouvelle version**. La nouvelle version est ajoutée au tableau de versionnage.

## Connecter un instances locale à l'instance centrale { #connect-local-instance-to-central-instance }

Pour activer la synchronisation des métadonnées, vous devez configurer la connexion entre l'instance locale et l'instance centrale.

1.  Sur l'instance locale, ouvrez l'application **Paramètres système** et cliquez sur **Synchronisation**.

2.  Ajoutez les détails de l'instance centrale du DHIS2 à l'instance locale :

    -   **L'URL du serveur distant**

    -   **Nom d'utilisateur du serveur distant**

    -   **Mot de passe du serveur distant**

3.  Allez dans la section **Versionnage des métadonnées** et sélectionnez **Activer le versionnage pour la synchronisation des métadonnées**.

4.  (Facultatif) Sélectionnez **Ne pas synchroniser les métadonnées si les versions DHIS2 diffèrent**.

    Le schéma des métadonnées change entre les versions du DHIS2, ce qui pourrait rendre les différentes versions de métadonnées incompatibles.

    Lorsqu'elle est activée, cette option ne permet pas la synchronisation des métadonnées si la ou les instances centrale(s) et locale(s) ont des versions DHIS2 différentes. Cela s'applique à la synchronisation des métadonnées effectuée à la fois via l'interface utilisateur et l'API.

    Le seul moment où il peut être utile de désactiver cette option est lors de la synchronisation d'entités de base, par exemple des éléments de données, qui n'ont pas changé d'une version à l'autre du DHIS2.

5.  (Facultatif) Configurez les notifications par  notifications par e-mail pour informer les utilisateurs de la réussite ou de l'échec de la synchronisation des métadonnées :

    1.  Ouvrez l'application **Paramètres système**, puis cliquez sur **Email**.

    2.  Entrez **Nom d'hôte**, **Port**, **Nom d'utilisateur**, **Mot de passe** et **Expéditeur de l'e-mail**.

    3.  Cliquez sur **Serveur** et saisissez une **Adresse électronique de notification du système**.

        Cette adresse électronique recevra des notifications sur l'état de la synchronisation des métadonnées.

    > **Tip**
    >
    > When you receive email notification about a metadata synchronization failure, check which metadata version that causes the error and resolve it. Then you avoid future errors when the system downloads new metadata versions.

## Configurer la synchronisation automatique des métadonnées sur l'instance locale { #configure-automatic-metadata-synchronization-on-local-instance }

Une fois que vous avez configuré la synchronisation automatique des métadonnées (programmation) sur la ou les instance(s) locale(s), le programmateur s'exécutera à ce moment précis et synchronisera (téléchargera et importera) les métadonnées de l'instance centrale. Aucune intervention manuelle n'est requise de la part des utilisateurs de la ou les instances locale(s).

Une fois que le programmateur a terminé la synchronisation des métadonnées, l'instance locale disposera des métadonnées exactement telles qu'elles ont été créées sur le système central.

> **N.B.**
>
> Les mots de passe des utilisateurs ne sont pas synchronisés. Ils sont annulés pour des raisons de sécurité. Après la synchronisation des métadonnées, l'utilisateur Admin doit réinitialiser ces mots de passe.

1.  Sur l'instance locale, ouvrez l'application **Administration de données** et cliquez sur **Programmation**.

2.  Dans la section **Synchronisation des métadonnées**, sélectionnez **Activé**.

3.  Sélectionnez une période : **Journalier**, **Hebdomadaire**, **Mensuel** ou **Annuel**.

    ![](resources/images/metadata_synchronization/metadata_sync.png)

4.  Cliquez sur **Démarrer**.

## Créer manuellement une nouvelle version de métadonnées sur une instance centrale ou locale { #create-a-new-metadata-version-manually-on-central-or-local-instance }

1.  Ouvrez l'application **Paramètres système**, puis cliquez sur **Synchronization**.

2.  Allez dans la section **Versionnage des métadonnées** et sélectionnez **Activer le versionnage pour la synchronisation des métadonnées**.

3.  (Facultatif) Sélectionnez **Ne pas synchroniser les métadonnées si les versions DHIS2 diffèrent**.

4.  Sélectionnez **Mode au mieux** ou **Atomique**.

5.  Cliquez sur **Créer une nouvelle version**. La nouvelle version est ajoutée au tableau de versionnage.

Lorsque le système est une _instance centrale_, vous verrez trois colonnes dans le tableau de versionnage :

![](resources/images/settings/metadata_versioning_table.png)

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Objet</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Version originale</p></td>
<td><p>La dernière version dans le système.</p></td>
</tr>
<tr class="even">
<td><p>Version</p></td>
<td><p>Nom de la version. Le nom est généré automatiquement par le système.</p></td>
</tr>
<tr class="odd">
<td><p>Quand</p></td>
<td><p>L'horodatage de la création de la version des métadonnées à l'instance centrale.</p></td>
</tr>
<tr class="even">
<td><p>Type</p></td>
<td><p>Type de version des métadonnées.</p></td>
</tr>
</tbody>
</table>

Lorsque le système est une _instance locale_, vous verrez quatre colonnes dans le tableau de versionnage :

![](resources/images/settings/metadata_versioning_table_failure_case.png)

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Objet</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Version originale</p></td>
<td><p>La dernière version de l'instance centrale.</p>
<blockquote>
<p><strong>N.B.</strong></p>
<p>Les informations relatives à la version originale sont la dernière version de l'instance centrale. Il est important d'examiner la différence entre les versions des métadonnées qui existent au niveau central et au niveau local.</p>
</blockquote></td>
</tr>
<tr class="even">
<td><p>Dernière tentative de synchronisation</p></td>
<td><p>Si la dernière tentative de synchronisation est un échec, celui-ci sera affiché.</p></td>
</tr>
<tr class="odd">
<td><p>Version</p></td>
<td><p>Nom de la version. Le nom est généré automatiquement par le système.</p></td>
</tr>
<tr class="even">
<td><p>Quand</p></td>
<td><p>L'horodatage de la création de la version des métadonnées à l'instance centrale.</p></td>
</tr>
<tr class="odd">
<td><p>Type</p></td>
<td><p>Type de version des métadonnées.</p></td>
</tr>
<tr class="even">
<td><p>Dernière synchronisation</p></td>
<td><p>Horodatage de la date de la dernière synchronisation pour cette version dans ce système.</p></td>
</tr>
</tbody>
</table>

## Informations de référence : paramètres de configuration de la synchronisation des métadonnées { #reference-information-metadata-synchronization-configuration-parameters }

Le processus de synchronisation des métadonnées est appelé Tâche de synchronisation des métadonnées. Cette tâche s'effectue en une série d'étapes avant la synchronisation des métadonnées :

-   Données de type push (données agrégées et données d'événements anonymes) de l'instance locale à l'instance centrale.

-   Permet d'obtenir la version actuelle des métadonnées de l'instance locale. Utilise ensuite ces informations sur la version comme produit de base pour obtenir la liste des versions de métadonnées créées après le produit de base.

-   Si de nouvelles versions sont créées à l'instance centrale, elle effectue la synchronisation des versions de métadonnées les unes après les autres. Un courrier électronique sera envoyé à l'utilisateur configuré (le cas échéant) après chaque synchronisation réussie de la version de métadonnées à l'instance locale.

Une fois que la tâche de synchronisation des métadonnées a été exécutée à l'heure prévue, la tâche peut recommencer (si l'une des étapes échoue) en fonction de la configuration des paramètres suivants définis dans le fichier `dhis.conf` :

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Paramètre</th>
<th>Valeur par défaut</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>essai.de.synchronisation.des.métadonnées</code></p></td>
<td><p>3</p></td>
</tr>
<tr class="even">
<td><p><code>essai.de.synchronisation.des.métadonnées.temps.fréquence.milliseconde</code></p></td>
<td><p>30000</p></td>
</tr>
</tbody>
</table>

Chaque nouvelle tentative sera effectuée après le temps (en millisecondes) indiqué. Si les étapes échouent toujours même après toutes les tentatives, le planificateur arrête alors son exécution et un courrier électronique est envoyé à l'utilisateur configuré (le cas échéant). Si aucune valeur n'est spécifiée, les valeurs par défaut seront utilisées.

`metadata.sync.retry` = 5

`metadata.sync.retry.time.frequency.millisec` = 10000

# Mobile { #mobile }

Ce chapitre couvre diverses technologies mobiles, notamment le Web, J2ME, le service SMS et le SMS Command.

## Introduction à la version Mobile de DHIS2 { #mobile_intro }

DHIS2 offre une série d'options permettant la saisie de données à partir d'appareils mobiles, notamment un client GPRS/3G J2ME dédié et deux versions du DHIS2 optimisées spécifiquement pour les navigateurs mobiles. Chacune de ces solutions sera décrite en détail dans les sections suivantes. DHIS2 offre plusieurs clients Android, qui sont décrits en détail dans d'autres sections de ce guide.

La collecte de données sur le terrain peut être techniquement difficile et coûteuse. Les solutions de téléphonie mobile permettent de réduire considérablement la complexité du déploiement d'un système de collecte de données décentralisé. En utilisant un simple client Java installé sur un téléphone portable ou un navigateur web fonctionnant sur le téléphone portable, les travailleurs de terrain peuvent faire des rapports directement à la base de données DHIS2 via leur appareil mobile.

Si les solutions de téléphonie mobile ont un grand potentiel, de tels déploiements sont cependant complexes. Les téléphones manquent de puissance de traitement et ont un petit écran, ils doivent être chargés, et souvent ces déploiements se révèlent plus judicieux dans les zones où la couverture du réseau est faible ou intermittente.

Chacune des solutions mobiles est brièvement présentée ci-dessous, et sont examinées en détail dans des sections distinctes :

-   DHIS2 Light : Un module de saisie de données optimisé par un navigateur mobile pour tous les appareils

    Ce module permet de saisir directement des données avec le navigateur de l'appareil mobile. Un large éventail d'appareils et de navigateurs mobiles sont pris en charge, notamment Opera mini 3 & 4 (élémentaire et avancé) - Opera mini 4, Nokia S40 mobiles ,Windows Phone 7, Window Mobile 6, Palm Pre, Blackberry (v5 et v6), Firefox mobile, appareils iOS (iPhone) et appareils Android. Ce client ne dispose pas de support hors ligne, et une connexion GPRS/3G active est nécessaire. Il ne nécessite pas l'installation d'une nouvelle application sur le téléphone pour prendre en charge les nouvelles fonctionnalités, mais requiert une connexion de données stable pour être utilisé. Cette solution est décrite dans [Saisie de données par navigateur mobile](#basé_sur_le web mobile )

-   DHIS2 Smartphone client : Un module de saisie de données optimisé par un navigateur mobile pour les appareils Smartphone

    Ce module permet la saisie de données directement avec le navigateur d'un Smartphone. La saisie de données hors ligne est prise en charge et ne nécessite aucune installation d'un client particulier sur le téléphone lui-même.

-   Client J2ME GPRS/3G

    DHIS-mobile comprend deux clients J2ME distincts supportant le GPRS/EDGE/3G comme mécanisme de transport. L'un des clients prend en charge les rapports globaux des installations et l'autre le suivi des programmes par nom. Ces clients sont divisés en applications distinctes pour faciliter le déploiement. Certains agents de santé peuvent avoir les deux applications installées sur leur téléphone. Ces deux clients prennent en charge le stockage de données hors ligne et fonctionnent sur des appareils compatibles J2ME (téléphones polyvalents). .?\>

    Une connexion GPRS/3G active est nécessaire pour envoyer des données à la base de données DHIS2, mais les données peuvent être saisies hors ligne et transmises lorsqu'une connexion est disponible. Ce client est principalement destiné aux appareils bas de gamme qui prennent en charge les applications J2ME, bien que la prise en charge hors ligne ajoute quelques exigences en matière de mémoire, ce qui limite le choix du combiné. Bien que la solution soit principalement testée sur les téléphones Nokia, elle fonctionne également sur plusieurs autres appareils compatibles J2ME.

    L'établissement déclarant le client J2ME est décrit dans le chapitre "Client J2ME GPRS/3G".

## Saisie de données par navigateur mobile { #mobile_web_based }

### Démarrer avec la saisie de données par navigateur mobile { #getting-started-with-mobile-browser-data-entry }

Cette méthode consiste à saisir les données sur un téléphone intelligent équipé d'un navigateur mobile en se rendant à l'URL de l'instance DHIS2, par exemple : le lien URL complet pour la démonstration sur [dhis2.org](dhis2.org) <http://apps.dhis2.org/dev/mobile/index.action> . Et votre navigateur mobile détectera automatiquement l'application DHIS2 où l'URL du serveur est donnée (par exemple : <http://apps.dhis2.org/dev>). Voici le formulaire de connexion pour accéder à l'application avec un nom d'utilisateur et un mot de passe. Cliquez sur "Connexion" pour continuer ou sur "Réinitialisation" pour réinitialiser :

![](resources/images/dhis2_mobile_web_based/mobile-browser-login.png)

Après s'être connecté, vous verrez afficher la liste des fonctions :

![](resources/images/dhis2_mobile_web_based/mobile-browser-menu.PNG)

**- Rapports agrégés:** Saisies de données agrégées avec un ensemble de données défini/attribué par unités d'organisation

\- **Tracking:**

-   Trouver une personne : trouver une personne sur la base de son nom, de son numéro de téléphone ou de son ID, et de son unité d'organisation.

-   Plan d'activités : Saisie des données relatives aux personnes par unités d'organisation, personnes et programmes/étapes du programme

-   Enregistrement des personnes : Enregistrer une nouvelle personne

-   Anonymous : Entrées pour les personnes anonymes basées sur des programmes

**- Messages:** Gérer les messages et les discussions à partir du serveur. La réponse aux messages est disponible. L'utilisateur peut envoyer un message constituant un feedback dans Messages.

**- Rapports:** Les rapports de sortie du serveur.

\- **Paramètres:** Informations sur l'utilisateur (par exemple : Prénom, Nom, Numéro de téléphone, E-mail) et la langue de l'interface.

**- Déconnexion :** pour se déconnecter de l'application.

**- Version de bureau** : naviguez dans la version de bureau de DHIS2 pour l'administration. Cela nécessite beaucoup de ressources de la part du portable du client, par exemple : la mémoire suffisante pour charger les pages. Ceci n'est recommandé pour les téléphones GPRS/3G/... normaux.

La liste ci-dessus sera expliquée plus en détail :

1.  **- Rapports agrégés:** Saisies de données agrégées avec un ensemble de données défini/attribué par unités d'organisation

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-aggregate-reporting.PNG)

    Cliquez sur le "Rapport agrégé", puis choisissez une unité d'organisation dans la liste, ce qui fera apparaître la liste des ensembles de données pour la saisie des données agrégées. Voir l'exemple ci-dessous :

    **Etape 1 : Sélectionnez une unité d'organisation dans la liste**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-select-orgunit.png)

    **Étape 2 : Sélectionnez un Ensemble de données (formulaire de saisie) dans la liste**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-select-dataset.png)

    **Etape 3 : Sélectionnez une période (en fonction du type de période de l'ensemble de données choisi) dans la liste**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-select-period.png)

    **Étape 4 : Saisie des données**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-entry.png)

    **Etape 5 : Sauvegardez les données saisies, choisissez l'option d'exhaustivité des données s'il y en a.**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-entry-complete-save.png)

2.  **Tracking :** **Trouver/Ajouter une personne, Calendrier de visite, Enregistrement de la personne, Anonyme**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-menu-2.PNG)

    2.1 **_Trouver/Ajouter une personne_** : trouver une personne sur la base de son nom, de son numéro de téléphone ou de son ID, et de son Unité d'organisation.

    -   Étape 1 : insérez votre nom, votre numéro de téléphone ou votre identifiant et sélectionnez l'unité d'organisation, puis cliquez sur Rechercher.

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-find-person-1.PNG)

    -   Étape 2 : sélectionnez une personne

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-findPersonStep2.png)

        Ensuite, toutes les informations de cette personne s'afficheront

    -   Étape 3 : choisissez l'étape suivante du programme pour la saisie des données

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-findPersonStep3.png)

        Pour voir toutes les étapes du programme, cliquez sur le nom de ce programme (Programme de la santé de l'enfant comme capture d'écran)

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-findPersonStep3.1.png)

    2.2: **\*Calendrier de visite**:\*Choisissez une unité d'organisation

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-org.png)

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-activityPlan.png)

    -   Plan d'activité en cours : la liste des bénéficiaires enregistrés, inscrits, n'ayant pas encore terminé/achevé un/plusieurs programmes et pour lesquels il existe au moins une étape du programme ouverte à la saisie de données.

        \+ _Étape 1 : Sélectionnez une personne pour la saisie_

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-BE.png)

        \+ _Step 2: Étape 2 : Choisissez une étape du programme en cours et active pour la saisie des données_

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-PGS.png)

        Vous pouvez également voir les informations de la personne (ID, sexe, date de naissance et groupe sanguin) en cliquant sur les détails (en haut de la liste affichée)

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-details.png)

        Les informations détaillées de la personne choisie :

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-details-info.png)

    -   Plan d'activité complet : la liste de tous les bénéficiaires enregistrés, inscrits, n'ayant pas encore terminé/achevé un/plusieurs programmes.

    -   Événement unique :

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-activityPlan-singleEvent.png)

    2.3 : **Enregistrement des personnes :** Enregistrer une nouvelle personne

    -   Étape 1 : Saissez les informations personnelles

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-personRegistrationStep1.png)

    -   Étape 2 : Inscrivez le programme pour la personne qui vient d'être inscrite, puis cliquez sur "Inscrire".

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-personRegistrationStep2.png)

    -   Étape 3 : Saisissez les informations requises pour le programme choisi, puis cliquez sur "Inscrire".

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-personRegistrationStep3.png)

        En voici le résultat : 

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-personRegistrationStep4.png)

    2.4: **Anonymous:** Entrées pour les personnes anonymes sur la base des programmes spécifiques

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-anonymous.png)

3.  **- Messages :** Gérer les messages et les discussions à partir du serveur. La réponse aux messages est disponible.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages-menu.PNG)

    Le nombre qui s'affiche est celui des messages non lus. Cliquez dessus pour afficher la liste des messages (les messages non lus sont en gras et en bleu foncé) :

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-message-conversations.PNG)

    Vous pouvez ensuite récupérer le message/sujet des discussions en laissant le message de réponse comme le montre cet exemple :

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages-reply.png)

    L'utilisateur peut créer et envoyer un feedback au serveur dans la section des messages. Après l'envoi du nouveau feedback, le message (feedback) sera répertorié dans la section "Messages" pour un suivi ultérieur.

4.  **Rapports :** Les rapports de sortie du serveur.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-reports.png)

    (sera mis à jour)

5.  **Paramètres :** Informations sur l'utilisateur (par exemple : Prénom, Nom, Numéro de téléphone, E-mail) et la langue de l'interface.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-settings.png)

    Voici le formulaire de paramétrage du compte utilisateur/accès et de la langue de l'interface. Cliquez sur "ENREGISTRER" pour terminer le paramètrage, voir l'exemple ci-dessous :

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-settings-update.png)

6.  **Déconnexion :** pour se déconnecter de l'application

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-logout.png)

7.  **Version de bureau** : naviguez dans la version de bureau de DHIS2 à ds fins d'administration.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-desktop-version.png)

    Voici l'interface graphique (GUI) de la version de bureau (qui nécessite beaucoup de mémoire pour le chargement), non recommandée pour un mobile normal. L'exemple avec DHIS2 Demo (depuis [dhis2.org](dhis2.org))

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-desktop-version-GUI.png)

<!-- end list -->

1.  ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-data-entry.png)

    Après avoir cliqué sur la "Saisie de données par nom", la page suivante vous guidera vers les sélections dans les étapes suivantes :

    **Etape 1 : Sélectionnez une unité d'organisation**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-org.png)

    **Étape 2 : Choisissez le type d'activité**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-AC.png)

    (la capture d'écran avec un exemple utilisant l'option "Plan d'activité actuel")

    Il y aura normalement les deux types d'activités suivants :

    \+ "Plan d'activité actuel" : la liste des bénéficiaires enregistrés, inscrits, n'ayant pas encore terminé/achevé un/plusieurs programmes et pour lesquels il existe au moins une phase de programme ouverte pour la saisie de données.

    \+ "Plan d'activité complet" : la liste de tous les bénéficiaires enregistrés, inscrits, n'ayant pas encore terminé/achevé un/plusieurs programmes.

    **Etape 3 : Choisir un bénéficiaire pour la saisie**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-BE.png)

    (la capture d'écran avec un exemple utilisant l'option "Hybia Welde")

    **Étape 4 : Choisissez une étape actuelle et active du programme pour la saisie des données**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-PGS.png)

    (la capture d'écran avec un exemple utilisant l'option "16-24 mois après la naissance")

    Vous pouvez également voir les informations du bénéficiaire (ID, sexe, date de naissance et groupe sanguin) en cliquant sur les détails (en haut de la liste affichée)

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-details.png)

    Les informations détaillées du bénéficiaire choisi :

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-details-info.png)

2.  **Enregistrement des bénéficiaires :** Enregistrer un nouveau bénéficiaire

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-registration.png)

    **Etape 1 : Choisissez une unité d'organisation**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-registration-choose-OU.png)

    **Etape 2 : Remplir le formulaire d'inscription du bénéficiaire**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-registration-form.png)

    Les informations nécessaires sont les suivantes : Nom complet, sexe, date de naissance (et groupe sanguin).

    Cliquez sur "Sauvegarder" pour enregistrer un nouveau bénéficiaire.

    Un message "Sauvegarde réussie" apparaîtra lorsque le bénéficiaire aura été créé/enregistré avec succès.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-registration-form-success.png)

3.  **Inscription des bénéficiaires : **Inscrivez un bénéficiaire dans un ou plusieurs programmes

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-enrollment.png)

    Avant d'inscrire un bénéficiaire à un programme, la fonction de recherche d'un bénéficiaire est fournie :

    Si le bénéficiaire est trouvé, le résultat sera affiché. Cliquez simplement sur le nom du bénéficiaire pour accéder aux programmes auxquels il est inscrit :

    La capture d'écran ci-dessous décrit le bénéficiaire nommé "Nguyen Van A":

    \- N'a été inscrit à aucun programme auparavant

    \- Le programme : "Programme de santé de l'enfant" est disponible pour inscription

    La liste des programmes disponibles pour inscription sera affichée. Il suffit de cliquer sur le programme d'inscription en précisant la date d'inscription et la date de l'incident. Voir l'exemple :

    Après avoir cliqué sur le bouton "S'INSCRIRE", en cas de succès, le programme inscrit sera répertorié dans "Programmes inscrits pour" + \ <Nom du bénéficiaire\>. Voir l'exemple :

4.  **- Messages :** Gérer les messages et les discussions à partir du serveur. La réponse aux messages est disponible.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages.png)

    Le nombre qui s'affiche est celui des messages non lus. Cliquez dessus pour afficher la liste des messages (les messages non lus sont en gras et en bleu foncé) :

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages-unread.png)

    Vous pouvez ensuite récupérer le message/sujet des discussions en laissant le message de réponse comme le montre cet exemple :

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages-reply.png)

5.  **Rapports :** Les rapports de sortie du serveur.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-reports.png)

    (sera mis à jour)

6.  **Paramètres :** Informations sur l'utilisateur (par exemple : Prénom, Nom, Numéro de téléphone, E-mail) et la langue de l'interface.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-settings.png)

    Voici le formulaire de paramétrage du compte utilisateur/accès et de la langue de l'interface. Cliquez sur "ENREGISTRER" pour terminer le paramètrage, voir l'exemple ci-dessous :

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-settings-update.png)

7.  **Feedback :** la fonctionnalité supplémentaire pour créer un nouveau message à envoyer au serveur. Le nouveau feedback créé à partir de cette fonction sera disponible dans "**Messages**".

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-feedback.png)

    Après avoir cliqué sur "Feedback", vous aurez un formulaire vous permettant d'éditer/envoyer un nouveau message/discussion. Voir l'exemple ci-dessous :

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-feedback-new.png)

    Après l'envoi du nouveau feedback, le message (feedback) sera disponible sous la rubrique "Messages" pour un suivi ultérieur.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-feedback-listed-in-messages.png)

8.  **Déconnexion :** pour se déconnecter de l'application

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-logout.png)

9.  **Version de bureau** : naviguez dans la version de bureau de DHIS2 à ds fins d'administration.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-desktop-version.png)

    Voici l'interface graphique (GUI) de la version de bureau (qui nécessite beaucoup de mémoire pour le chargement), non recommandée pour un mobile normal. L'exemple avec DHIS2 Demo (depuis [dhis2.org](dhis2.org))

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-desktop-version-GUI.png)

## Les Clients J2ME GPRS/3G { #mobile_j2me_gprs_3g }

Le module mobile GPRS/3G de DHIS2 fournit un mécanisme permettant aux clients distants utilisant des téléphones mobiles de saisir des données directement dans le système DHIS2. Le client a deux fonctions qui sont les suivantes :

La solution repose sur le fait que le téléphone mobile dispose d'une connexion de données (c'est-à-dire GPRS, Edge, 3G), par laquelle il communique avec une instance DHIS2 qui doit être publiquement disponible sur l'internet, comme tout autre serveur web. L'application client du téléphone télécharge les formulaires de saisie de données sur le téléphone à partir du serveur, et les formulaires peuvent donc être mis à jour sans l'installaton d'une nouvelle application. C'est également une caractéristique essentielle pour les rapports produits par les communautés, qui reposent sur le téléchargement régulier de plans d'activité à partir du serveur.

-   Rapports produits par les établissements, pour la saisie de données et la déclaration des données agrégées habituelles du DHIS2,

-   Rapport d'activité, pour soutenir le rapport d'activité individuel avec le module de la communauté.

### Disponibilité des connexions de données { #data-connection-availability }

La disponibilité de connexion de données peut constituer un problème dans de nombreux contextes où le reporting mobile de DHIS2 serait une bonne solution pour obtenir des données directement dans le DHIS2. Si tel est le cas à votre niveau, vous pouvez alors envisager d'essayer la solution basée sur les SMS décrite dans un document séparé. Gardez à l'esprit que même si une connexion de données est actuellement nécessaire pour la communication entre le serveur et le téléphone mobile, elle n'est requise que lors de l'initialisation ou de la mise à jour de l'application mobile et lors de l'envoi de rapports au serveur. Le téléphone stocke toutes les données saisies localement, de sorte qu'il peut fonctionner correctement avec un accès temporaire à une connexion de données de façon régulière.

### Client J2ME GPRS 3G des rapports fournis par les établissements { #mobile_j2me_gprs_3g_facility_reporting }

Le composant côté serveur de la solution basée sur le web est inclus dans la construction globale de DHIS2.

Pour configurer le rapport mobile DHIS2 basé sur le web, vous devez alors suivre les étapes suivantes.

-   Activez l'indicateur "Disponible pour le rapport mobile" pour les ensembles de données que vous voulez rapporter : Sous _Maintenance-\>Ensemble de données_-\>_Modifier_, cochez la case "Disponible pour le rapport mobile" et enregistrez.

-   Créer un rôle d'utilisateur pour l'utilisateur mobile. Sélectionnez _Maintenance-\>Utilisateurs-\>Rôle d'utilisateur-\>Ajouter nouveau_. Ajoutez un nom et une description de rôle d'utilisateur. Ajoutez les ensembles de données souhaités pour le rôle. Le rôle de l'utilisateur mobile devra avoir au moins les privilèges pour ce qui est de l'API Web de DHIS2. Enregistrez le rôle d'utilisateur en cliquant sur "Enregistrer".

-   Créez un utilisateur qui sera utilisé par le client pour se connecter à partir de _Maintenance-\>Utilisateurs-\>Utilisateur -\>Ajouter nouveau_. Complètez toutes les informations requises, en gardant à l'esprit que le mot de passe doit comporter au moins 8 caractères dont une majuscule et un chiffre. Attribuez le rôle d'utilisateur souhaité à l'utilisateur que vous avez créé dans l'étape précédente.

    > **Important**
    >
    > Assign the user to exactly **one** organisation unit. Each mobile reporting client will need their own user name and password.

### Configuration détaillée des ensembles de données et des formulaires de déclaration { #detailed-configuration-of-data-sets-and-reporting-forms }

Il est vrai que les étapes précédentes sont les plus nécessaire lorsqu'il s'agit de tester la solution, mais une configuration plus détaillée des ensembles de données peut être requise ; cette configuration est donc décrite dans les sections suivantes.

#### La mise en correspondance des ensembles de données pour constituer la mise en page sur le téléphone { #the-mapping-of-data-sets-to-form-layout-on-the-phone }

Par défaut, un ensemble de données est mis en correspondance avec un formulaire unique sur le téléphone. Au cas où l'ensemble de données est divisé en sections, chaque section s'affiche alors sur une page distincte du téléphone. Mais au cas où un élément de donnée comporte plusieurs combo d'options de catégorie, il s'affiche alors sous forme de titre avec les options de combinaison de catégories qui suivent.

<table>
<tbody>
<tr class="odd">
<td><strong>Élément de conception du formulaire</strong></td>
<td><strong>Métadonnées du DHIS2</strong></td>
<td><strong>Élément de métadonnées</strong></td>
</tr>
<tr class="even">
<td>Titre du formulaire</td>
<td>Ensemble de données</td>
<td>Nom abrégé s'il existe, sinon Nom</td>
</tr>
<tr class="odd">
<td>Titre de la page</td>
<td>Section</td>
<td>Nom de la section (ou nom du formulaire s'il n'y a pas section)</td>
</tr>
<tr class="even">
<td>Question</td>
<td>Élément de donnée</td>
<td>Nom alternatif s'il existe, sinon Nom</td>
</tr>
<tr class="odd">
<td>Nom de la question s'il y a des combos</td>
<td>Combo d'options de catégorie</td>
<td>nom</td>
</tr>
</tbody>
</table>

#### Triage des formulaires { #sorting-of-forms }

Par défaut, les éléments de données seront triés selon le tri global défini dans le DHIS2. Si des sections sont utilisées, leur ordre de tri spécifique à la section sera utilisé. Dans certains cas, lorsque les sections ne sont pas utilisées, un élément de donnée peut être utilisé dans plusieurs ensembles de données et s'opposer à la manière dont il devrait être trié dans les ensembles de données individuels. Dans ce cas, une solution consiste à regrouper l'ensemble de données dans une seule section (notez que cela ne fonctionne que si les éléments de données ont la même combo d'options de catégorie).

#### Versionnage des ensembles de données { #versioning-of-data-sets }

Afin de permettre la comparaison et la mise à jour des ensembles de données sur le téléphone portable avec la version disponible sur le serveur, les ensembles de données sont automatiquement versionnés lorsque vous modifiez la structure de l'ensemble de données. Certaines modifications qui surviennet sur le serveur DHIS2, amèneront le client mobile à mettre à jour ses formulaires avec une nouvelle version.

-   Créer un ensemble de données

-   Modifier un ensemble de données

-   Créer/modifier/supprimer une section dans l'ensemble de données

-   Ordre de tri des sections

-   Mise à jour de l'Élément de donnée (affecte de nombreux Ensembles de données connexes)

-   Mise à jour de l'Élément de donnée (affecte de nombreux Ensembles de données connexes)

-   Modifier la catégorie d'éléments de données

-   Combo de catégories d'éléments de données

#### Support linguistique { #language-support }

Un support multilingue est disponible.

L'ensemble de données et l'élément de données sont traduits par le biais d'une fonction web. La langue par défaut sur le serveur est utilisée sur le mobile dans les cas où la langue requise sur le mobile n'est pas disponible.

![](resources/images/dhis_mobile/translateDataSet.jpg)

### Configuration de l'application mobile { #mobile-application-setup }

#### Installation et initialisation { #installation-and-initialization }

##### Installation { #installation }

Téléchargez les packages Java ARchive à partir de la page d'accueil de DHIS2 : [https://www.dhis2.org/downloads](www.dhis2.org/downloads)

##### Initialisation { #initialization }

L'initialisation doit être effectuée avant la livraison des téléphones aux utilisateurs finaux. Étant donné la grande diversité des configurations possibles des téléphones, il est impossible de décrire les étapes exactes nécessaires pour permettre au client de téléphoner. Cependant, pour la plupart des téléphones, il suffit de copier le fichier "JAR" du client DHIS2 Web Mobile sur le téléphone avec un câble USB ou via Bluetooth. Bien entendu, la connectivité GPRS/3G doit être activée. Contactez votre fournisseur de services mobiles pour obtenir des détails précis sur la configuration des téléphones et des réseaux.

![](resources/images/dhis_mobile/mobile_login_screen.png)

Une fois que le client a été installé sur le téléphone, un processus d'initialisation doit avoir lieu en fournissant un nom d'utilisateur, un mot de passe et l'URL du serveur.

1.  Connexion au serveur pour la première fois.

    Si le client se connecte pour la première au serveur, ou s'il est réinitialisé, le nom d'utilisateur, le mot de passe et l'URL du serveur doivent être saisis.

    Si le client n'est pas en mesure de se connecter, vous pourriez avoir plusieurs messages d'erreur.

    -   Connexion non trouvée : L'URL du serveur spécifié n'est pas correcte. Vérifiez l'adresse du serveur, assurez-vous que le serveur est effectivement accessible et réessayez.

    -   Nom d'utilisateur ou mot de passe invalide : le nom d'utilisateur ou le mot de passe est incorrect

    -   Application non autorisée à accéder aux API restreintes : Le serveur peut être contacté, mais l'utilisateur ne dispose pas des autorisations nécessaires lui permettant d'accéder au module de reporting mobile

2.  Définir le PIN : Après la procédure de connexion initiale, l'utilisateur peut donc saisir un PIN. Cela facilitera beaucoup plus le processus de connexion, puisque l'utilisateur n'aura plus qu'à se souvenir du code PIN à quatre chiffres, au lieu de devoir taper à chaque fois le nom d'utilisateur et le mot de passe. Le code PIN peut être prédéfini si le téléphone est initialisé avant la livraison, ou il peut être défini par les utilisateurs eux-mêmes si les noms d'utilisateur et des mots de passe leur sot fournis.

    ![](resources/images/dhis_mobile/mobile_enter_pin.png)

    Après avoir saisi le code PIN, cliquez sur (Menu)-\>Suivant.

3.  Téléchargez tous les formulaires : Une fois le code PIN spécifié, tous les formulaires seront téléchargés du serveur et stockés localement sur le téléphone.

    Si l'utilisateur a été configuré de manière à produire des rapports sur des ensembles de données agrégés, une liste des ensembles de données appropriés s'affichera. Si l'utilisateur est responsable des rapports communautaires, la liste des activités assignées s'affichera.

    _N.B._: Si l'agent de santé est responsable à la fois des rapports sue les établissements et sur la communauté, le serveur DHIS2 enverra alors toutes les formes de Rapports d'établissements et de communauté au mobile ; sur le mobile, il y aura un écran pour choisir d'afficher les Rapports sur les établissements et sur la communauté.

    _Erreurs_:

#### Connexion (pour une utilisation régulière) { #logging-in-for-regular-use }

Après le lancement de l'application, le formulaire du code PIN s'affiche.

-   PIN : Saisissez le code PIN à quatre chiffres.

-   Réinitialisation de la commande : cette fonction permet d'effacer toutes les données sur le mobile et nous partons de l'écran de connexion avec le nom d'utilisateur et le mot de passe.

-   Des erreurs : PIN invalide : si l'utilisateur a saisi un PIN invalide, il devra alors saisir le PIN correct ou réinitialiser l'application avec le nom d'utilisateur et le mot de passe corrects.

#### Module de rapport sur les établissements { #facility-reporting-module }

##### Procédure de saisie de données { #entering-data }

Après avoir sélectionné un ensemble de données agrégées dans la fenêtre "Sélectionner le formulaire de rapport", l'utilisateur devra choisir une période de temps appropriée. Une liste des périodes disponibles est automatiquement générée.

1.  Une fois avoir  saisi son code PIN, l'utilisateur peut choisir parmi une liste d'ensembles de données disponibles. Sélectionnez l'ensemble de données approprié et appuyez sur "Suivant".

    ![](resources/images/dhis_mobile/select_report_form.png)

2.  Choix des périodes : Une liste des périodes disponibles s'affichera automatiquement à l'utilisateur. Celui-ci peut donc sélectionner la période appropriée dans la liste.

    ![](resources/images/dhis_mobile/aggregate_select_periods.png)

3.  Remplissez les valeurs : Après avoir choisi la période, le formulaire peut être affiché selon deux modes, en fonction de :

    -   Formulaire à sections

        Chaque section du formulaire est affichée dans un seul écran avec le nom de la section dans la fenêtre de titre.

        Pour naviguer d'un écran à l'autre, appuyez sur "Suivant".

    -   Formulaires sans section (Ensembles de données sans section)

        Tous les champs sont affichés sur un seul écran avec le titre qui est le nom de l'ensemble de données

    L'utilisateur complète simplement chaque élément de donnée avec la valeur appropriée.

    ![](resources/images/dhis_mobile/aggregate_data_entry_form.png)

4.  Enregistrer et terminer : 

    Une fois la saisie des données terminée, l'utilisateur peut choisir de sauvegarder les données localement sur le téléphone ou de les télécharger directement sur le serveur DHIS2.

    ![](resources/images/dhis_mobile/aggregate_save_complete.png)

    Si l'utilisateur enregistre le formulaire de données, il peut le modifier ultérieurement en cas de besoin. Lorsque vous sélectionnez à nouveau une période, la période sera marquée comme "Enregistrée" tel que le montre la capture d'écran suivante.

    ![](resources/images/dhis_mobile/aggregate_data_entry_form_saved.png)

    Si l'utilisateur sélectionne "Complet" alors que le formulaire de saisie de données n'est pas complet, il lui sera demandé  de confirmer son choix de soumettre le formulaire comme étant incomplet. Une fois le formulaire soumis, un message devrait s'afficher informant l'utilisateur de la réussite de la transmission.

    ![](resources/images/dhis_mobile/aggregate_report_success.png)

##### Remarques { #notes }

1.  Liste des périodes :

    Les périodes marquées d'un astérisque (\*) sont celles qui sont terminées ou enregistrées, selon le statut de la saisie des données.

    ![](resources/images/dhis_mobile/aggregate_save_completed_periods.png)

    Toutes les périodes qui ne figurent pas dans la liste des périodes sont considérées comme anciennes et seront supprimées automatiquement.

2.  Durée de stockage des valeurs

    Le nombre de formulaires enregistrés sur le mobile n'est limité que par la capacité de stockage effective de l'appareil mobile.

    Les formulaires ne sont sauvegardés que pour une période limitée, en fonction de la fréquence de collecte de l'ensemble de données en question.

    -   Formulaires quotidiens : 2 mois (mois en cours et mois précédent)

    -   Formulaires hebdomadaires : 4 semaines (semaine en cours et 3 semaines précédentes)

    -   Formulaires mensuels : 2 mois (mois en cours et mois précédent)

    -   Formulaires trimestriels : 2 trimestres (trimestre en cours et trimestre précédent)

    -   Formulaires annuels : 2 ans (année en cours et année précédente)

3.  Formulaires remplis - Formulaires non modifiables

    Si le formulaire a été rempli, l'utilisateur peut alors le consulter sur son téléphone, mais ne peut pas y apporter de modifications ultérieures. Chaque champ est grisé et inactif pour d'éventuelles modifications.

4.  Editer de nouveau les formulaires remplis

    Si l'utilisateur souhaite modifier des données déjà soumises au serveur, il peut le faire en appuyant sur le bouton "Modifier". Il est autorisé à le faire à condition que l'ensemble de données n'ait pas été verrouillé pour la période en question. S'il tente de télécharger les données, l'utilisateur sera informé que l'ensemble de données a été verrouillé et qu'il n'est pas possible de télécharger les données.

    ![](resources/images/dhis_mobile/dataset_locked_upload_failed.png)

5.  Mise à jour des formulaires : 

    Cette fonction est utilisée pour synchroniser les formulaires sur le mobile et sur le serveur. Le processus est automatiquement déclenché après la saisie du code PIN.

    N.B. : Le processus de vérification et de téléchargement des formulaires mis à jour se déroule en arrière-plan. Une fois le téléchargement terminé, un message s'affiche pour demander à l'utilisateur s'il souhaite actualiser la liste des formulaires ou rester là où il se trouve actuellement.

6.  Support multilingue :

    Cette fonction aide l'utilisateur à choisir la langue de l'interface utilisateur graphique (GUI) du mobile et la langue du contenu (Formulaires).

    Les formulaires doivent être traduits sur le serveur, sinon, vous utilisez la langue par défaut.

    La langue par défaut de la première connexion est l'anglais. Le changement de langue dans le menu Paramètres affectera à la fois l'interface et le contenu.

    ![](resources/images/dhis_mobile/settingCmd.jpg)

    ![](resources/images/dhis_mobile/settingScreen.jpg)

    ![](resources/images/dhis_mobile/supportedLanguageList.jpg)

    Interface multilingue : Dans le menu Paramètres, vous avez la liste des langues prises en charge (téléchargées du serveur). La langue de l'interface graphique n'est modifiée qu'après le redémarrage de l'application.

    Contenu multilingue (formulaires) : La langue du formulaire est modifiée après avoir cliqué sur "Enregistrer". Au cas où il y a beaucoup de formulaires, il faudra alors plusieurs minutes pour enregistrer les paramètres.

##### Résolution de problèmes { #troubleshooting }

-   Les données ont été saisies sur le téléphone mais n'apparaissent pas sur le serveur

    Cette situation se produit généralement lorsque les utilisateurs saisissent des données sur le téléphone, mais ne peuvent pas les envoyer au serveur. Cela peut être dû à la configuration du téléphone, à un manque de crédit sur le téléphone ou à un manque de couverture. En général, un message d'erreur s'affiche comme indiqué ci-dessous.

    ![](resources/images/dhis_mobile/http_error_mobile_client.png)

    Les utilisateurs doivent savoir que lorsqu'ils remarquent cette erreur, cela signifie que leurs données n'ont pas été transmises.

## La fonction de commande SMS { #mobile_sms_command }

La fonction de commande SMS permet au système DHIS2 de recevoir des SMS d'utilisateurs, de patients, ou même de personnes anonymes. Une commande SMS est un objet contenant les configurations pour chaque formulaire SMS : déclarer des données provenant de téléphones ou d'applications j2me, alerter les utilisateurs, enregistrer un patient ou un utilisateur, etc.

### Configurer la commande SMS { #set-up-sms-command }

C'est ici que vous avez la possibilité de créer une nouvelle commande SMS

![](resources/images/dhis2_mobile_sms/mobile-sms-startup-link.png)

![](resources/images/dhis2_mobile_sms/mobile-sms-startup-link-sms-command.png)

Habituellement, chaque commande SMS a sa propre propriété ; le processus de paramètrage peut être différent d'une commande à une l'autre. Actuellement, nous disposons de 4 types de commandes SMS :

![](resources/images/dhis2_mobile_sms/mobile-sms-conf-sms-command-types.png)

Avec KEY_VALUE_PARSER et J2ME_PARSER, la commande SMS aura un ensemble de données puisque celles-ci sont utilisées pour la déclaration des données. Si les données sont déclarées pour une période qui est déjà approuvée, la réponse par SMS sera renvoyée contenant des informations sur le statut d'approbation de la période.

![](resources/images/dhis2_mobile_sms/mobile-sms-conf-sms-command-dataset.png)

Avec ALERT_PARSER et UNREGISTERED_PARSER, la commande SMS aura un groupe d'utilisateurs car ceux-ci sont utilisés pour l'envoi de messages tels que SMS, conversation DHIS2, e-mail.

![](resources/images/dhis2_mobile_sms/mobile-sms-conf-sms-command-user-group.png)

Certains paramètres sont communs à tous les types de commandes SMS. Ces paramètres ont des valeurs par défaut configurées dans le système. Si l'utilisateur fournit une valeur à ces paramètres, ces valeurs par défaut seront alors utilisées. Voici la liste de ces paramètres

<table>
<caption>Paramètres communs</caption>
<colgroup>
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="header">
<th>Paramètre</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Séparateur Code Valeur</td>
<td>Chaîne</td>
<td>Fournir un séparateur Code Valeur personnalisé. Le séparateur par défaut est &quot;=&quot</td>
</tr>
<tr class="even">
<td>Séparateur de champs</td>
<td>Chaîne</td>
<td>Fournir un séparateur de champs personnalisé. Par défaut, nous avons : &quot;|&quot ;</td>
</tr>
<tr class="odd">
<td>Message de réponse si aucun code n'est envoyé (uniquement la commande)</td>
<td>Chaîne</td>
<td>Fournir un message si aucun code n'est trouvé dans le texte du SMS. Par défaut, nous avons : est &quot;Paramètre manquant&quot ;</td>
</tr>
<tr class="even">
<td>Format du message incorrect</td>
<td>Chaîne</td>
<td>Fournir un message si le format de la commande est incorrect. La commande doit être formatée selon le séparateur Code Valeur. Ce message sera également renvoyé si un paramètre obligatoire est manquant.</td>
</tr>
<tr class="odd">
<td>Message sans utilisateur</td>
<td>Chaîne</td>
<td>Fournir un message si le numéro de téléphone d'envoi n'est pas enregistré dans le DHIS2.</td>
</tr>
<tr class="even">
<td>L'utilisateur appartient à plus d'un message d'OrgUnit</td>
<td>Chaîne</td>
<td>Certains types de commandes SMS exigent que l'utilisateur (extrait du numéro de téléphone d'envoi) soit associé à une seule unité d'organisation. Ce message peut être configuré pour être renvoyé dans le cas où cette exigence n'est pas satisfaite.</td>
</tr>
<tr class="odd">
<td>Message de confirmation</td>
<td>Chaîne</td>
<td>Fournir le message qui sera envoyé à l'issue du processus.</td>
</tr>
</tbody>
</table>

### Type de commande SMS { #sms-command-type }

La commande SMS est essentiellement définie par son type d'analyseur. En d'autres termes, chaque commande SMS dispose d'un analyseur unique pour analyser le SMS en texte clair, puis le résultat sera utilisé pour les besoins de cette commande SMS.

#### Commande SMS pour la déclaration de données { #sms-command-for-reporting-data }

Pour déclarer des données, par exemple un ensemble de données (agrégation), nous utilisons des commandes SMS ayant KEY_VALUE_PARSER (pour le texte en clair du téléphone), ou J2ME_PARSER (pour les applications j2me)

![](resources/images/dhis2_mobile_sms/mobile-sms-cofig-sms-command-format-reportingdata.png)

Si la commande a pour nom "rapport", et une liste d'éléments de données ayant le code comme celui ci-dessus, le format doit être : \[nom de la commande] \[code] \[valeur] \[code] \[valeur] \[code] \[valeur]....,la [valeur] peut bien sûr être modifiée en fonction des données réelles, vous devez donc préparer un texte SMS comme le montre cet exemple : **rapport vo2 vn5 a2 b6 z3 x1**

Si la commande comporte un séparateur, par exemple ".", le texte du SMS doit être :

**report vo.2.vn.5.a.2.b.6.z.3.x.1**

ou **report vo.2|vn.5|a.2|b.6|z.3|x.1**

De plus, en ce qui concerne les SMS, l'orgUnit peut être spécifiée comme suit **org CodeorgUnit**. Si aucune orgUnit n'est spécifiée dans le SMS, l'utilisateur est d'abord récupéré à partir du numéro de téléphone d'envoi, puis de l'orgUnit de cet utilisateur. En ce qui concerne le Type de période, il doit être spécifié dans ce format "jjMM" par exemple 3108, mais dans le cas où il n'est pas spécifié, le Type de période sera récupéré dans l'Ensemble de données associé à la Commande SMS

Avec le J2ME_PARSER, vous n'avez pas besoin de préparer ces SMS, car le J2ME effectuera cette tâche

![](resources/images/dhis2_mobile_sms/mobile_sms_custom_message.PNG)

L'utilisateur peut définir le message de réponse personnalisé pour "Message au mauvais format", "Message sans utilisateur", "L'utilisateur appartient à plus d'un message d'OrgUnit" et "Message de confirmation". Si aucun message personnalisé n'est défini, le système utilisera le message par défaut.

#### Commande SMS pour l'inscription d'une entité { #sms-command-for-entity-enrollment }

TRACKED_ENTITY_REGISTRATION_PARSER peut être utilisé pour enregistrer l'entité suivie dans le système.

![](resources/images/dhis2_mobile_sms/TEI_parser.png)

Le nom de la commande sera suivi des attributs de l'entité suivie appartenant à un programme spécifique auquel cette commande est associée. La sélection du programme se fera lors de la création de cette commande.

Le modèle de texte par défaut (si le séparateur de champ et le séparateur de valeur de code ne sont pas fournis), cet analyseur ressemblerait à ceci. **Programme enfant fn=xmen|ln=xmen2|age=4**

Si le séparateur de champ est par exemple "," alors le texte ressemblera à ceci : **Programme pour enfants fn=xmen,ln=xmen2,age=4**

Le reste du comportement reste le même que pour les autres commandes. Si l'utilisateur ne fournit pas ces paramètres, les paramètres par défaut seront alors utilisés.

#### Commande SMS pour la saisie de données à une étape de programme { #sms-command-for-program-stage-data-entry }

PROGRAM_STAGE_DATAENTRY_PARSER peut être utilisé pour saisir les données relatives à l'étape du programme pour une instance d'entité suivie spécifique.

![](resources/images/dhis2_mobile_sms/programstage_data_parser.png)

Le nom de la commande sera suivi des éléments de données relatifs à l'étape spécifique du programme à laquelle cette commande est associée. La sélection du programme et de l'étape du programme se fera lors de la création de cette commande.

Le modèle de texte par défaut (si le séparateur de champ et le séparateur de valeur de code ne sont pas fournis) pour cet analyseur ressemblerait à ceci. **étape de programme bcgd=1|opvd=2|wght=34**

Si le séparateur de champ est par exemple "," alors le texte ressemblera à ceci : **étape de programme bcgd=1,opvd=2,wght=34**

Le reste du comportement reste le même que pour les autres commandes. Si l'utilisateur ne fournit pas ces paramètres, les paramètres par défaut seront alors utilisés.

#### Commande SMS pour les alertes, le enregistrements { #sms-command-for-alerting-registering }

Afin d'alerter les utilisateurs, nous utilisons des commandes SMS qui ont pour nom ALERT_PARSER (pour le texte clair du téléphone), ou UNREGISTERED_PARSER (pour les applications j2me). UNREGISTERED_PARSER peut également être utilisé pour enregistrer une rumeur SIMR.

![](resources/images/dhis2_mobile_sms/mobile-sms-cofig-sms-command-format-alert.png)

Le format de ces commandes sera : \[nom de la commande] \[texte], par exemple :

**alerte d'un cas d'urgence dans Une ville**

Les commandes ayant ALERT_PARSER seront reçues uniquement des utilisateurs

#### Commande SMS pour l'enregistrement des événements { #sms-command-for-event-registration }

L'enregistrement des événements peut être utilisé pour enregistrer un événement anonyme dans le système sur la base des données collectées par SMS. Ce type de commande est associé aux programmes de type SANS_ENREGISTREMENT. Par exemple, les événements de naissance peuvent être suivis à l'aide de cet analyseur.

![](resources/images/dhis2_mobile_sms/event-registration-parser.png)

Le format de ces commandes sera : \[nom de la commande] \[code] \[séparateur] \[valeur], par exemple :

**Naissance A=1,B=2,G=Mâle**

Le séparateur de code/valeur est configurable. Le barre verticale "|" est par défaut pris comme séparateur de champ. Les commandes ayant le paramètre ANALYSEUR_D'ENREGISTREMENT_D'ÉVÉNEMENTS seront reçues uniquement des utilisateurs DHIS2. Une fois la commande reçue avec succès, les données reçues par SMS seront analysées et l'événement sera enregistré dans le DHIS2.

## Service SMS { #mobile_sms_service }

Le service SMS est un service générique utilisé pour envoyer/recevoir des SMS. Tout autre module DHIS2 peut inclure ce service et l'utiliser pour envoyer et recevoir des SMS des utilisateurs ou des agents sur le terrain.

### Mise en place d'un service SMS { #setting-up-sms-service }

Il y a certaines conditions préalables pour rendre ce service fonctionnel. Il existe deux façons de procéder. La première consiste à configurer la passerelle à partir de l'interface graphique dans le module de configuration mobile. Pour ce qui est de l'autre, elle consiste à utiliser l'API Web SMS.

-   Configurer la passerelle SMS

#### Configurer la passerelle SMS { #configure-sms-gateway }

Il existe cinq différents types de Passerelles prises en charge par le service SMS. Les SMS peuvent être envoyés si l'une des passerelles est configurée. Si plusieurs passerelles sont présentes, elles seront utilisées en mode round-robin pour assurer l'équilibre des charges. Il existe différents paramètres pour chaque type de passerelle. La passerelle peut être configurée dans l'interface graphique du module de configuration mobile, comme le montre la figure. Pour plus d'informations sur les paramètres nécessaires à la configuration de la passerelle, voir [Configurations des passerelles](#gateway.configuration)

![](resources/images/dhis2_mobile_sms/sms-app.png)

#### Configurer la passerelle GenericHttp { #configure-generichttp-gateway }

De nombreuses instances DHIS2 utilisent GenericHttpGateway pour se connecter à leurs passerelles locales. Ces passerelles locales fournissent des API HTTP pour l'envoi de SMS. Dans la nouvelle GenericHttpGateway, il est désormais possible de configurer un modèle de configuration générique pour la configuration des passerelles. Ce modèle est converti en charge utile de requête en remplaçant les caractères de remplissage par des valeurs réelles tirées des paramètres de valeur clé de la passerelle.

![](resources/images/dhis2_mobile_sms/generic-gateway.png)

### Configurations des passerelles { #gateway.configuration }

Le tableau ci-dessous indique les paramètres nécessaires à la configuration de la passerelle.

<table>
<caption>Paramètres de configuration de la passerelle</caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="header">
<th>Paramètre</th>
<th>Passerelle BulkSMS</th>
<th>Passerelle Clickatell</th>
<th>Passerelle générique HTTP</th>
<th>Passerelle SMPP</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Nom de la passerelle</td>
<td>Facultatif</td>
<td>Facultatif</td>
<td>Facultatif</td>
<td>Facultatif</td>
<td>Utilisé comme identité de passerelle. Le nom par défaut sera stocké au cas où ce paramètre ne serait pas configuré. Son utilisation est recommandée</td>
</tr>
<tr class="even">
<td>Nom de l'utilisateur</td>
<td>Obligatoire</td>
<td>Facultatif (si un jeton est utilisé)</td>
<td>Obligatoire</td>
<td>Obligatoire</td>
<td>Utilisé pour l'authentification de l'API</td>
</tr>
<tr class="odd">
<td>Mot de passe</td>
<td>Obligatoire</td>
<td>Facultatif (si un jeton est utilisé)</td>
<td>Obligatoire</td>
<td>Obligatoire</td>
<td>Utilisé pour l'authentification de l'API</td>
</tr>
<tr class="even">
<td>Jeton d'authentification</td>
<td>S/O</td>
<td>Facultatif (si un mot de passe est utilisé)</td>
<td>S/O</td>
<td>S/O</td>
<td>Utilisé pour l'authentification de l'API</td>
</tr>
<tr class="odd">
<td>Modèle d'URL</td>
<td>S/O</td>
<td>S/O</td>
<td>Obligatoire</td>
<td>Obligatoire</td>
<td>Le modèle d'Url est seulement nécessaire dans le cas de GenericHttpGateway. Par exemple, &quot;http://smsgatewa1.com&quot;</td>
</tr>
<tr class="even">
<td>En-têtes</td>
<td>S/O</td>
<td>S/O</td>
<td>Facultatif</td>
<td>S/O</td>
<td>L'option En-tête peut être activée pour envoyer le paramètre sélectionné sous forme d'en-tête http. Par exemple, le nom d'utilisateur/mot de passe/token peut être envoyé dans l'en-tête http.</td>
</tr>
<tr class="odd">
<td>useGet</td>
<td>S/O</td>
<td>S/O</td>
<td>Facultatif</td>
<td>S/O</td>
<td>La méthode HTTP POST est utilisée par défaut pour l'envoi de données vers la passerelle. Mais dans certains cas, si la méthode HTTP GET est requise pour cette opération, le paramètre useGet peut être défini à true. La valeur par défaut du paramètre useGet est false.</td>
</tr>
<tr class="odd">
<td>Type de système</td>
<td>S/O</td>
<td>S/O</td>
<td>S/O</td>
<td>Obligatoire</td>
<td>Le paramètre Type de système est requis pour la passerelle SMPP. La valeur par défaut est 'cp'</td>
</tr>
<tr class="odd">
<td>Type de numéro</td>
<td>S/O</td>
<td>S/O</td>
<td>S/O</td>
<td>Obligatoire</td>
<td>Le paramètre Type de numéro est requis pour la passerelle SMPP. La valeur par défaut est 'UNKNOWN'. Les autres valeurs possibles sont UNKNOWN, INTERNATIONAL, NATIONAL, NETWORK_SPECIFIC, SUBSCRIBER_NUMBER, ALPHANUMERIC et ABBREVIATED</td>
</tr>
<tr class="odd">
<td>numberPlanIndicator</td>
<td>S/O</td>
<td>S/O</td>
<td>S/O</td>
<td>Obligatoire</td>
<td>Le paramètre NumberPlanIndicator est requis pour la passerelle SMPP. La valeur par défaut est UNKNOWN. Les autres valeurs possibles sont UNKNOWN, ISDN, DATA, TELEX, LAND_MOBILE, NATIONAL, PRIVATE, ERMES, INTERNET et WAP</td>
</tr>
<tr class="odd">
<td>Type de lien</td>
<td>S/O</td>
<td>S/O</td>
<td>S/O</td>
<td>Obligatoire</td>
<td>Le paramètre Type de lien est requis pour la passerelle SMPP. La valeur par défaut est TX. Les autres valeurs possibles sont BIND_TX, BIND_RX et BIND_TRX</td>
</tr>
<tr class="odd">
<td>condensé</td>
<td>S/O</td>
<td>S/O</td>
<td>S/O</td>
<td>Facultatif</td>
<td>Le paramètre Condensé est facultatif pour la passerelle SMPP. La valeur par défaut est false</td>
</tr>
<tr class="even">
<td>Paramètres envoi d'Url</td>
<td>S/O</td>
<td>S/O</td>
<td>Facultatif</td>
<td>S/O</td>
<td>Les paramètres de la passerelle seront ajoutés avec l'url par exemple https://samplegateway.com/messages?apiKey={apiKey}&to={recipients},content={text},deliveryreport={dp}</td>
</tr>
<tr class="odd">
<td>Type de contenu</td>
<td>S/O</td>
<td>S/O</td>
<td>Facultatif</td>
<td>S/O</td>
<td>Le type de données qui seront envoyées à la passerelle sms. La valeur par défaut est application/x-www-form-urlencoded. Les autres types pris en charge sont application/json, application/xml et texte/simple</td>
</tr>
<tr class="even">
<td>Modèle de configuration</td>
<td>S/O</td>
<td>S/O</td>
<td>Facultatif</td>
<td>S/O</td>
<td>Un modèle de configuration générique peut être utilisé pour fournir les données sous une forme compatible avec une passerelle externe. Par exemple nom d'utilisateur=${nom d'utilisateur}&mot de passe=${mot de passe}&to=${destinataires}&code pays=880&message=${text$}&messageid=0. Un modèle Json/xml peut également être fourni.</td>
</tr>
</tbody>
</table>

# Configuration des SMS { #sms-configuration-intro }

Ce document traite des fonctionnalités de l'application de Configuration des SMS. Pour plus d'informations sur l'intégration du service SMS, veuillez consulter le document [Mobile](#mobile_intro).

## La fonction de Commande SMS { #sms-configuration-commands }

Les commandes SMS traitent les messages SMS reçus par une instance DHIS2, en effectuant certaines actions en fonction de la commande et du contenu du message. Plusieurs commandes SMS peuvent être configurées pour traiter et gérer les données de diverses manières. Une commande SMS est un objet contenant les configurations de chaque formulaire SMS : Récupérer des données depuis des téléphones ou applications j2me, alerter les utilisateurs, enregistrer des patients ou utilisateurs, etc.

### Liste des commandes disponibles { #sms-configuration-commands-list }

Pour voir toutes les commandes disponibles, accédez à la page "Commandes". Toutes les commandes seront répertoriées dans un tableau. Sur cette page, les actions suivantes sont disponibles :

-   Ajouter des commandes (1)
-   Modifier des commandes (2)
-   Supprimer les commandes (3)
-   Commandes de suppression en masse (4)

![Commandes SMS - Liste](resources/images/sms-configuration/commands-list.png)

### Supprimer les commandes disponibles { #sms-configuration-commands-delete }

La suppression des commandes peut être effectuée en cochant individuellement les cases de chaque commande (1) qui doit être supprimée ou en sélectionnant toutes les commandes affichées en cochant la case correspondante au niveau de l'en-tête du tableau (2). Après avoir sélectionné les commandes à supprimer, cliquez sur le bouton "Supprimer la sélection" (3).

![Commandes SMS - Supprimer la sélection](resources/images/sms-configuration/commands-delete-selection.png)

Pour éviter les suppressions involontaires, une boîte de dialogue de confirmation s'affichera.

![Commandes SMS - Confirmer la suppression](resources/images/sms-configuration/commands-delete-confirmation.png)

### Ajout de commandes { #sms-configuration-commands-add }

> **Attention**
>
> Les commandes ne sont pas actives juste après leur ajout ! Il faudra d'abord les éditer afin de configurer les champs nécessaires !

Après avoir cliqué sur le bouton "Ajouter une commande" dans la page de présentation des commandes, un formulaire dynamique apparaîtra. Selon le type d'analyseur, différentes entrées seront affichées :

| Type d'analyseur | Groupe d’utilisateurs | Programme | Étape du programme | Ensemble de données |
| --- | --- | --- | --- | --- |
| Analyseur d'alertes | &#10003; | &#10005; | &#10005; | &#10005; |
| Analyseur d'enregistrement d'événement | &#10005; | &#10003; | &#10003; | &#10005; |
| Analyseur J2ME | &#10005; | &#10005; | &#10005; | &#10003; |
| Analyseur de valeur clé | &#10005; | &#10005; | &#10005; | &#10003; |
| Analyseur de saisie de données des étapes de programme | &#10005; | &#10003; | &#10003; | &#10005; |
| Analyseur des enregistrements d'entités suivies | &#10005; | &#10003; | &#10005; | &#10005; |
| Analyseur non enregistré | &#10003; | &#10005; | &#10005; | &#10005; |

#### Analyseur d'enregistrement d'événements{ #sms-configuration-commands-add-eventregistration }

Ces commandes peuvent avoir des codes courts pour leur étape de programme associée. Seuls les programmes de type "Programme d'événement" peuvent être choisis pour cette commande. Ainsi, il n'existe qu'une seule étape de programme, qui sera sélectionnée automatiquement.

#### Analyseur de saisie de données des étapes de programme { #sms-configuration-commands-add-programstagedataentry }

Ces commandes peuvent avoir des codes courts pour leur étape de programme associée. Seuls les programmes de type "Tracker program" peuvent être choisis pour cette commande. Contrairement aux analyseurs d'"Enregistrement d'événement", une étape de programme doit être choisie pour ce type d'analyseur.

### Modification des commandes { #sms-configuration-commands-edit }

Lors de la modification des commandes, il n'est pas possible de modifier le type d'analyseur de même que les données supplémentaires fournies lors de l'ajout de la commande. La seule façon de le faire est de créer une nouvelle commande et de supprimer l'ancienne.

Certains paramètres sont communs à tous les types de commandes SMS. Ces paramètres ont des valeurs par défaut configurées dans le système. Si l'utilisateur fournit une valeur à ces paramètres, ces valeurs par défaut seront alors utilisées. Voici la liste de ces paramètres

Ces champs communs sont :

| Paramètre | Type | Description |
| --- | --- | --- |
| Séparateur de champs | Chaîne | Pour fournir un séparateur de champs personnalisé. La valeur par défaut est "&#124;" |
| Message de réponse lorsqu'aucun code n'est envoyé (seulement la commande) | Chaîne | Pour fournir un message lorsqu'aucun code n'est trouvé dans le texte du SMS. La valeur par défaut est "Paramètre manquant" |
| Message au format incorrect | Chaîne | Pour envoyer un message lorsque la commande n'est pas correctement formatée. La commande doit être formatée selon le séparateur de valeur de code. Ce message sera également renvoyé si un paramètre obligatoire manque. |
| Aucun message utilisateur | Chaîne | Pour envoyer un message lorsque le numéro de téléphone qui sert à l'envoi n'est pas enregistré dans DHIS2. |
| Utilisateur associé à plus d'un message d'unité d'organisation | Chaîne | Certains types de commandes SMS exigent que l'utilisateur (sans le numéro de téléphone d'envoi) ne soit associé qu'à une seule unité d'organisation. Ce message peut être configuré pour un renvoi si cette exigence n'est pas respectée. |
| Message de confirmation | Chaîne | Pour fournir un message qui sera envoyé une fois le processus terminé avec succès. |

Certaines commandes ont la possibilité d'ajouter des codes courts, qui sont expliqués dans les sections individuelles dédiées à chacun des types d'analyseurs ci-dessous.

#### Modification des commandes de l'analyseur d'alertes { #sms-configuration-commands-edit-alertparser }

Lors de la modification d'une commande d'analyseur d'alerte, seuls deux champs sont modifiables. Les champs partagés entre la plupart des types d'analyseur ne sont pas présents :

-   Nom (obligatoire)
-   Confirmer le message

Les deux sont des champs de texte.

#### Modification des commandes de l'analyseur des enregistrement d'événement { #sms-configuration-commands-edit-eventregistration }

Les commandes de ce type d'analyseur ont tous les champs partagés. De plus, des codes courts peuvent être définis. Un code court peut être ajouté pour chaque élément de données connecté à l'étape de programme qui a été sélectionnée lors de l'ajout de la commande :

![Commandes SMS - Codes courts de l'analyseur d'enregistrement d'événement](resources/images/sms-configuration/commands-edit-eventregistrationparse-shortcodes.png)

#### Modification des commandes d'analyseur J2ME { #sms-configuration-commands-edit-j2me }

Les commandes de ce type d'analyseur ont tous les champs partagés. La commande SMS aura un ensemble de données car ils sont utilisés pour les données de rapport. Si les données sont signalées pour une période déjà approuvée, une réponse par SMS contenant des informations sur le statut d'approbation de la période, sera renvoyée. De plus, des codes courts peuvent être définis. Chaque commande est connectée à un ensemble de données. L'ensemble de données contient des éléments de données, qui ont des combinaisons de catégories, lesquelles ont au moins une combinaison d'options de catégorie. Pour chaque combinaison "élément de données - option de catégorie" existante, un code court peut être fourni.

Remarque sur les valeurs requises. Assurez-vous qu'au moins un code court pour SMS soit fourni lorsque la méthode intégrale "Recevoir au moins une valeur de données" est choisie. Dans le cas contraire, les messages reçus ne seront pas traités.

##### Formules de codes courts{ #sms-configuration-commands-edit-j2me-shortcodeformulas }

Chaque code court peut avoir une formule facultative. En fournissant une formule, la valeur d'un élément de données différent peut être ajoutée ou soustraite.

Cela peut être fait en cliquant sur le bouton « Ajouter une formule » / « Modifier la formule » sous le champ de saisie du code court :

![Commandes SMS - Codes courts de l'analyseur J2Me - Bouton Ajouter/Modifier la formule](resources/images/sms-configuration/commands-edit-j2meparser-shortcodes-formulabutton.png)

Lorsque vous cliquez sur le bouton, une fenêtre modale apparaît en proposant une liste déroulante pour sélectionner un élément de données, et l'opérateur de formule, qui peut être "+" ou "-":

![Commandes SMS - Codes abrégés de l'analyseur J2Me - Ajouter/Modifier la formule modale](resources/images/sms-configuration/commands-edit-j2meparser-shortcodes-formulamodal.png)

En cliquant sur "Enregistrer", la formule sera ajoutée au formulaire de modification principal. Elle n'est pas automatiquement enregistrée dans la commande ! Pour enregistrer une formule modifiée, vous devez soumettre l'ensemble du formulaire.

###### Suppression d'une formule de code court { #sms-configuration-commands-edit-j2me-removingshortcodeformula }

Si un code court a une formule, celle-ci peut être supprimée en cliquant sur le bouton "Modifier la formule". La fenêtre modale qui apparaîtra, a un bouton "Supprimer". En cliquant sur ce bouton, la formule sera supprimée du code court dans le formulaire principal et la fenêtre modale se fermera. L pas automatiquement enregistré dans la commande ! Afin d'enregistrer la suppression de la formule, vous devez soumettre l'ensemble du formulaire.

![Commandes SMS - Codes courts de l'analyseur J2Me - Ajouter/Modifier la formule modale](resources/images/sms-configuration/commands-edit-j2meparser-shortcodes-formulamodalremove.png)

#### Modification des commandes de l'analyseur de valeurs clés { #sms-configuration-commands-edit-keyvalue }

Ce type de commande fonctionne de la même manière que les commandes de l'analyseur J2ME. Veuillez consulter la documentation ci-dessus.

#### Modification des commandes de l'analyseur de saisie de données de l'étape du programme { #sms-configuration-commands-edit-programstagedataentry }

Les commandes de ce type d'analyseur ont tous les champs partagés. De plus, des codes courts peuvent être définis. Un code court peut être ajouté pour chaque élément de données connecté à l'étape de programme qui a été sélectionnée lors de l'ajout de la commande :

![Commandes SMS - Codes courts de l'analyseur de saisie de données de l'étape du programme](resources/images/sms-configuration/commands-edit-programstagedataentryparser-shortcodes.png)

#### Modification des commandes de l'analyseur des enregistrements d'entités suivies { #sms-configuration-commands-edit-trackedentityregistration }

Les commandes de ce type d'analyseur ont tous les champs partagés. De plus, des codes courts peuvent être définis. Un code court peut être ajouté pour chaque attribut d'entité suivie connecté à l'étape de programme qui a été sélectionnée lors de l'ajout de la commande :

![Commandes SMS - Codes courts de l'analyseur de saisie de données de l'étape du programme](resources/images/sms-configuration/commands-edit-trackedentityregistrationparser-shortcodes.png)

#### Modification des commandes d'analyseur non enregistrées { #sms-configuration-commands-edit-unregistered }

Ce type de commande fonctionne de la même manière que les commandes de l'analyseur d'alertes. Veuillez consulter la documentation ci-dessus.

## Passerelles SMS { #sms-configuration-gateways }

Une passerelle SMS permet à une instance DHIS2 d'envoyer et de recevoir des messages en SMS. Différents types de passerelles peuvent être ajoutés et configurés. Au moins une passerelle est nécessaire pour envoyer et recevoir des messages en SMS. L'équilibrage de charge utilisera toutes les passerelles plusieurs sont disponibles.

Il existe quatre types de passerelles prises en charge par le service SMS :

-   Passerelles génériques
-   Passerelles BulkSMS
-   Passerelles Clickatell
-   Passerelles SMPP

### Liste des passerelles { #sms-configuration-gateways-listing }

Pour voir toutes les commandes disponibles, accédez à la page de "Configuration des passerelles". Toutes les commandes seront répertoriées dans un tableau. Sur cette page, les actions suivantes sont disponibles :

-   Ajouter des passerelles (1)
-   Modifier les passerelles (2)
-   Supprimer les passerelles (3)
-   Passerelles de suppression multiple (4)
-   Définir la passerelle par défaut (5)

![Passerelles SMS - Liste](resources/images/sms-configuration/gateways-list.png)

### Ajout de passerelles { #sms-configuration-gateways-add }

Après avoir cliqué sur le bouton "Ajouter une passerelle" sur la page de présentation des configurations de la passerelle, un formulaire dynamique apparaîtra. Il est divisé en deux sections :

1. Le type de passerelle (1)
1. La configuration de la passerelle dépend du type de passerelle (2)

![Passerelles SMS - Ajout de passerelles](resources/images/sms-configuration/gateways-addinggateways.png)

Pour plus de détails sur la configuration des passerelles, veuillez vous référer à la section [Configurations des passerelles](#passerelles.configuration) de la documentation de maintenance "Mobile".

### Modification des passerelles { #sms-configuration-gateways-edit }

La modification est similaire à l'ajout de passerelles, sauf que le type de passerelle ne peut pas être modifié. Si une passerelle a un type inadéquat, elle doit être supprimée et ajoutée à nouveau. Pour plus d'informations sur la modification des passerelles, veuillez vous référer à la section "Ajout de passerelles" ci-dessus.

## Afficher les SMS entrants { #sms-configuration-inbound }

Pour voir tous les messages entrants, accédez à la page "Reçus". Toutes les commandes seront répertoriées dans un tableau. Sur cette page, les actions suivantes sont disponibles :

-   Filtrage des SMS entrants (1)
-   Suppression de SMS (2)
-   Suppression multiple de SMS (3)

![SMS entrants - Liste des SMS entrants](resources/images/sms-configuration/inboundsms-list.png)

### Filtrage { #sms-configuration-inbound-filtering }

#### Réinitialisation des filtres { #sms-configuration-inbound-filtering-resetting }

Tous les filtres définis peuvent être réinitialisés en cliquant sur le bouton "Réinitialiser le filtre".

![SMS entrants - Filtrer les SMS entrants par statut](resources/images/sms-configuration/inboundsms-resetfilters.png)

#### Filtrage par statut { #sms-configuration-inbound-filtering-status }

La liste des SMS entrants peut être filtrée selon les statuts suivants :

-   Tous
-   Échec
-   Entrants
-   Traités
-   Traitement
-   Envoyés
-   Non gérés

![SMS entrants - Filtrer les SMS entrants par statut](resources/images/sms-configuration/inboundsms-filterbystatus.png)

#### Filtrage par numéro de téléphone { #sms-configuration-inbound-filtering-phonenumber }

En tapant un numéro de téléphone dans le champ de saisie au-dessus du tableau qui contient les SMS, le tableau peut être analysé en tenant compte de ce numéro de téléphone.

![SMS entrants - Filtrer les SMS entrants par statut](resources/images/sms-configuration/inboundsms-filterbyphonenumber.png)

## Afficher les SMS sortants { #sms-configuration-outbound }

Cette section est identique à la section SMS "Entrants"/"Reçus", avec une petite différence : La liste ne peut pas être filtrée par un numéro de téléphone. Veuillez vous référer à la section ["Afficher les SMS entrants"](#sms-configuration-entrants).

# À propos des dimensions de donnée { #data_dimensions }

## Dimensions de donnée : Éléments de base du DHIS2 { #data-dimensions-core-building-blocks-in-dhis2 }

Une valeur de données dans le DHIS2 est caractérisé par au moins trois dimensions : 1) élément de donnée, 2) unité d'organisation et 3) période. Ces dimensions constituent les éléments de base du modèle de données.

![](resources/images/data_dimensions/datavalue_with_dimensions.png)

Par exemple, si vous voulez savoir le nombre d'enfants ayant été vaccinés contre la rougeole au Gerehun CHC en décembre 2014, les trois dimensions qui décrivent cette valeur sont l'élément de donnée "Doses de rougeole administrées", l'unité d'organisation "Gerehun CHC" et la période "décembre 2014". Toutes les valeurs des données ont au moins ces trois dimensions décrivant _quoi_, _où_ et _quand_.

En plus des dimensions d'élément de donnée, d'unité d'organisation et de période, les valeurs de données peuvent également être associées à des dimensions de données supplémentaires. Une utilisation courante de cette fonctionnalité consiste à décrire des valeurs de données déclarées par plusieurs partenaires au même endroit pour le même élément de donnée et la même période. En principe, elle peut être utilisée comme une dimension "libre", pour décrire des observations multiples des mêmes phénomènes au même endroit et au même moment. Pour plus d'informations à ce sujet, voir le chapitre 34 : Dimensions supplémentaires des données.

<table>
<thead>
<tr class="header">
<th>Unité d'organisation</th>
<th>Élément de donnée</th>
<th>Période</th>
<th>Valeur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CHC Gerehun</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Déc-09</td>
<td>22</td>
</tr>
<tr class="even">
<td>CPS Tugbebu</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Déc-09</td>
<td>18</td>
</tr>
</tbody>
</table>

## Éléments de données : la dimension _quoi_ { #data-elements-the-what-dimension }

### Catégories  d'éléments de données { #data-element-categories }

L'élément de donnée mentionné ci-dessus, "Doses de rougeole administrées", peut être subdivisé en plusieurs catégories d'éléments de donnée. Chaque administrateur du système DHIS2 est libre de définir les dimensions des catégories d'éléments de donnée pour les éléments de données. Il existe cependant certaines bonnes pratiques qui devraient généralement être suivies.

Si l'on prend l'exemple de la vaccination contre la rougeole et que l'on souhaite savoir si ces vaccins ont été administrés dans un centre (fixe) ou dans la communauté dans le cadre des services de proximité, on peut ajouter une dimension appelée, par exemple, "Lieu de service", avec les deux options possibles "Fixe" et "de Proximité". Toutes les données collectées sur la vaccination contre la rougeole devraient alors être ventilées selon ces deux options. En outre, vous pourriez être intéressé par le nombre d'enfants âgés de moins d'un an ou de plus d'un an. Dans ce cas, vous pouvez ajouter une dimension "âge" à l'élément de données avec les deux options possibles "\N<1 an" et "\N>1 an". Cela implique des détails supplémentaires sur le processus de collecte des données. Vous pouvez également appliquer les deux catégories "Lieu de service" et "Âge" et les regrouper dans une combinaison de catégories d'éléments de données, appelée par exemple "Désagrégation du PEV". Vous pourrez alors examiner quatre valeurs différentes plus détaillées au lieu d'une seule comme dans l'exemple ci-dessus pour l'élément de données "doses de rougeole administrées" : 1) "Fixe et \<1 an, 2) Fixe et \>1 an, 3) Sensibilisation et \<1 an, et 4) Sensibilisation et \>1 an. Cela rend plus complexe la collecte des données par les centres de santé, mais ouvre en même temps de nouvelles possibilités d'analyse détaillée des données relatives à la vaccination contre la rougeole.

<table>
<caption>Exemple de stockage détaillé des valeurs de données lors de l'utilisation des catégories d'élément de donnée &quot;Lieu du service&quot ; et &quot;Âge&quot ; (simplifié pour la lisibilité par rapport à la table de base de données réelle)</caption>
<thead>
<tr class="header">
<th>Unité d'organisation</th>
<th>Élément de donnée</th>
<th>Lieu du service</th>
<th>Âge</th>
<th>Période</th>
<th>Valeur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CHC Gerehun</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Fixe</td>
<td>&lt;1 y</td>
<td>Déc-09</td>
<td>12</td>
</tr>
<tr class="even">
<td>CHC Gerehun</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>De proximité</td>
<td>&lt;1 y</td>
<td>Déc-09</td>
<td>4</td>
</tr>
<tr class="odd">
<td>CHC Gerehun</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Fixe</td>
<td>&gt;1 y</td>
<td>Déc-09</td>
<td>4</td>
</tr>
<tr class="even">
<td>CHC Gerehun</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>De proximité</td>
<td>&gt;1 y</td>
<td>Déc-09</td>
<td>2</td>
</tr>
<tr class="odd">
<td>CPS Tugbebu</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Fixe</td>
<td>&lt;1 y</td>
<td>Déc-09</td>
<td>10</td>
</tr>
<tr class="even">
<td>CPS Tugbebu</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>De proximité</td>
<td>&lt;1 y</td>
<td>Déc-09</td>
<td>4</td>
</tr>
<tr class="odd">
<td>CPS Tugbebu</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Fixe</td>
<td>&gt;1 y</td>
<td>Déc-09</td>
<td>3</td>
</tr>
<tr class="even">
<td>CPS Tugbebu</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>De proximité</td>
<td>&gt;1 y</td>
<td>Déc-09</td>
<td>1</td>
</tr>
</tbody>
</table>

### Ensemble de groupes d'éléments de donnée { #data-element-group-sets }

Alors que les catégories d'élément de donnée et leurs options décrites ci-dessus fournissent le niveau de détail (désagrégation) au point de collecte des données et la manière dont les valeurs des données sont stockées dans la base de données, les ensembles et groupes de groupes d'éléments de données peuvent être utilisés pour ajouter plus d'informations aux éléments de données après la collecte des données. Par exemple, si vous analysez plusieurs éléments de données en même temps dans un rapport, vous pourrez souhaiter les regrouper en fonction de certains critères. Au lieu d'examiner toutes les données saisies dans un formulaire pour la vaccination et la nutrition, vous pouvez séparer ou regrouper les éléments de données selon une dimension du programme (connue sous le nom d'ensemble de groupes d'éléments de données dans le DHIS2) où "Vaccination" (ou PEV) et "Nutrition" seraient les deux groupes.

L'élargissement du champs du rapport pour inclure des données provenant d'autres programmes ou des thèmes plus larges de données sanitaires signifierait que davantage de groupes seraient concernés par cette dimension, notamment le "Paludisme", la "Santé reproductive", les "Stocks". Pour cet exemple, vous créeriez un ensemble de groupes d'éléments de donnée appelé "Programme" (ou tout autre nom que vous jugerez approprié), et pour représenter les différents programmes dans cette dimension, vous définiriez des groupes d'éléments de donnée appelés "PEV", "Nutrition", "Paludisme", "Santé reproductive", etc. et ajouteriez tous ces groupes à l'ensemble de groupes "Programme". Pour lier ou marquer l'élément de données "Doses de vaccins antirougeoleux administrées" à une telle dimension, vous devez (dans notre exemple) l'ajouter au groupe "PEV". Les groupes auxquels vous ajoutez "Doses de vaccins antirougeoleux administrées" n'affectent pas la manière dont les établissements de santé collectent les données, mais ajoutent plus de possibilités à votre analyse des données. Ainsi, pour les dimensions de l'ensemble de groupes, il existe trois niveaux : l'ensemble de groupes (par exemple "Programme"), le groupe (par exemple "PEV") et l'élément de donnée (par exemple "Doses de vaccins antirougeoleux administrées").

Les indicateurs peuvent être regroupés en groupes d'indicateurs et plus loin en ensembles de groupes d'indicateurs (dimensions) exactement de la même manière que les éléments de données.

<table>
<thead>
<tr class="header">
<th>Unité d'organisation</th>
<th>Élément de donnée</th>
<th>Programme</th>
<th>Période</th>
<th>Valeur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CHC Gerehun</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>PEV</td>
<td>Déc-09</td>
<td>22</td>
</tr>
<tr class="even">
<td>CHC Gerehun</td>
<td>Vitamine A administrée</td>
<td>Nutrition</td>
<td>Dec-09</td>
<td>16</td>
</tr>
<tr class="odd">
<td>CPS Tugbebu</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>PEV</td>
<td>Déc-09</td>
<td>18</td>
</tr>
<tr class="even">
<td>CPS Tugbebu</td>
<td>Vitamine A administrée</td>
<td>Nutrition</td>
<td>Déc-09</td>
<td>12</td>
</tr>
<tr class="odd">
<td>CHC Gerehun</td>
<td>Nouveaux cas de paludisme</td>
<td>Paludisme</td>
<td>Déc-09</td>
<td>32</td>
</tr>
<tr class="even">
<td>CPS Tugbebu</td>
<td>Nouveaux cas de paludisme</td>
<td>Paludisme</td>
<td>Déc-09</td>
<td>23</td>
</tr>
</tbody>
</table>

## Unités d'organisation : la dimension _où_ { #organisation-units-the-where-dimension }

Les unités d'organisation du DHIS2 doivent généralement représenter un lieu, tel qu'un centre de santé communautaire ou des hôpitaux de référence, ou une unité administrative comme le "Miistère de la santé de la Sierra Leone", le "district de Bo" ou la "chefferie de Baoma". Dans les applications de secteurs autre que la santé, il peut s'agir d'"écoles" ou de "points d'eau". Les unités sont représentées dans une hiérarchie par défaut, généralement la hiérarchie administrative par défaut d'un pays ou d'une région, et se voient donc attribuer un niveau organisationnel. Par exemple, la Sierra Leone a quatre niveaux d'unités d'organisation : national, district, chefferie et USP, et toutes les unités d'organisation sont liées à l'un de ces niveaux. Une orgunit dans DHIS2 peut avoir n'importe quel nombre de niveaux. Normalement, les données sont collectées au niveau le plus bas, celui de l'établissement de santé, mais elles peuvent être collectées à n'importe quel niveau de la hiérarchie, par exemple au niveau des districts ou de l'établissement.

Lors de la conception de rapports à des niveaux supérieurs à partir des données agrégées au niveau du district ou de la province, le DHIS2 utilisera la structure hiérarchique pour agréger toutes les données des établissements de santé pour une unité donnée à n'importe quel niveau. Le niveau de l'unité d'organisation saisissant les données représente toujours le niveau de détail le plus bas pouvant être d'utilisé dans l'analyse des données, et les niveaux d'organisation définissent les niveaux d'agrégation disponibles selon une dimension géographique.

### Ensembles de groupes d'unités d'Organisation et groupes { #organisation-unit-group-sets-and-groups }

Alors que le niveau d'établissement est généralement le niveau géographique le plus bas pour la désagrégation dans le DHIS2, il existe des moyens de regrouper de manière flexible les unités d'organisation en un nombre quelconque de dimensions en utilisant les groupes d'unités d'organisation et la fonctionnalité d'ensemble de groupes. Par exemple, si tous les établissements sont d'un type officiel comme "Centre de santé communautaire" ou "Hôpital de district", il est alors possible de créer un ensemble de groupes d'unités d'organisation appelé "Type" et d'ajouter des groupes portant les noms des types mentionnés ci-dessus. Pour que les ensembles de groupes fonctionnent correctement dans l'analyse, chaque unité d'organisation doit être membre d'un seul groupe (obligatoire et exclusif) au sein d'un ensemble de groupes. En d'autres termes, un établissement ne doit pas être à la fois un "Centre de santé communautaire" et un "Hôpital de district".

#### Hériter des valeurs d'un ensemble de groupes d'unités d'organisation { #inherit-the-values-of-an-organisation-unit-group-set }

Vous pouvez améliorer l'exhaustivité de vos données agrégées en héritant des paramètres d'une unité d'organisation "mère" dans la hiérarchie de votre unité d'organisation. Ceci est particulièrement utile si vous agrégez les données de plus de 100 unités d'organisation. Voir la documentation de l'application [Maintenance](https://docs.dhis2.org/master/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set) pour plus de détails.

#### Hiérarchies alternatives des unités d'organisation - utilisation avancée des ensembles de groupes et des groupes { #alternative-organisation-unit-hierarchies-advanced-use-of-group-sets-and-groups }

Une utilisation plus poussée des ensembles de groupes d'unités d'organisation consiste à créer des hiérarchies alternatives, par exemple en utilisant les frontières administratives d'autres ministères. En Sierra Leone, cela pourrait signifier une hiérarchie alternative de 1 : ministère de la santé, 2 : districts et 3 : conseils locaux, au lieu de la hiérarchie à quatre niveaux avec des chefferies et des USP. Par exemple, si toutes les USP sont liées à un conseil municipal spécifique, il serait possible d'examiner les données agrégées par conseil municipal au lieu de la chefferie. Il faudrait alors créer un ensemble de groupes appelé "Conseil municipal", puis créer un groupe d'unités d'organisation pour chaque conseil municipal, et enfin relier toutes les USP à leur groupe de conseils municipaux correspondant.

<table>
<thead>
<tr class="header">
<th>District</th>
<th>Type d'OrgUnit</th>
<th>Élément de donnée</th>
<th>Période</th>
<th>Valeur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Bo</td>
<td>CHC</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Déc-09</td>
<td>121</td>
</tr>
<tr class="even">
<td>Bo</td>
<td>CPS</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Déc-09</td>
<td>98</td>
</tr>
<tr class="odd">
<td>Bo</td>
<td>MCHP</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Déc-09</td>
<td>87</td>
</tr>
<tr class="even">
<td>Bombali</td>
<td>CHC</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Déc-09</td>
<td>110</td>
</tr>
<tr class="odd">
<td>Bombali</td>
<td>CPS</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Déc-09</td>
<td>67</td>
</tr>
<tr class="even">
<td>Bombali</td>
<td>MCHP</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>Déc-09</td>
<td>59</td>
</tr>
</tbody>
</table>

### Meilleure pratique en matière d'utilisation des ensembles et des groupes { #best-practice-on-the-use-of-group-sets-and-groups }

Comme mentionné ci-dessus, toutes les unités d'organisation doivent être membres d'un seul groupe au sein d'un ensemble de groupes. Si une unité d'organisation n'est présente dans aucun groupe ou est présente dans plusieurs membres d'un groupe dans un ensemble de groupes, cela peut alors entraîner des résultats inattendus dans les modules d'analyse. Le DHIS2 comporte des vérifications d'intégrité pour identifier les unités d'organisation qui ne sont présentes dans aucun membre de l'ensemble de groupes d'unités d'organisation, ou qui sont présentes dans plusieurs groupes.

## Période : la dimension du _quand_{ #period_types }

La dimension Période devient ainsi un facteur important lors de l'analyse des données dans le temps, par exemple lors de l'examen de données cumulées, lors de la création de rapports agrégés trimestriels ou annuels, ou lors de l'analyse combinant des données avec différentes caractéristiques comme les données de routine mensuelles, les données annuelles de recensement/démographiques ou les données semestrielles sur le personnel.

### Les types de période { #period-types }

Dans le DHIS2, les périodes sont organisées selon un ensemble de types de périodes fixes décrites ci-dessous. La liste suivante concerne le type de calendrier ISO 8601 par défaut.

1.  Quotidien 

2.  Hebdomadaire : Le système prend en charge différents types de périodes hebdomadaires, avec le lundi, le mercredi, le jeudi, le samedi et le dimanche comme premier jour de la semaine. Vous collectez les données par le biais d'ensembles de données configurés pour utiliser le type de période hebdomadaire souhaité. Le moteur d'analyse attribuera les données hebdomadaires au mois ayant quatre jours ou plus de la semaine.

3.  Bihebdomadaire : Périodes de deux semaines commençant la première semaine de l'année.

4.  Mensuel : Se réfère aux mois civils standard.

5.  Bimensuel : Périodes de deux mois commençant en janvier.

6.  Trimestriel : Trimestre norme ISO, à partir de janvier.

7.  Semestriel : Périodes de six mois commençant en janvier

8.  Annuel : Il s'agit d'une année civile.

9.  Avril financier : Période de l'exercice financier commençant le 1er avril et se terminant le 31 mars de l'année civile suivante

10. Juillet financier : Exercice financier commençant le 1er juillet et se terminant le 31 juin de l'année civile suivante

11. Octobre financier : Exercice financier commençant le 1er octobre et se terminant le 31 septembre du calendrier de l'année suivante

12. Avril semestriel : Périodes de six mois commençant le 1er avril et d'une durée de six mois civils.

En règle générale, toutes les unités d'organisation doivent collecter les mêmes données en utilisant la même fréquence ou périodicité. On devra associer un formulaire de saisie à un seul type de période afin de s'assurer que les données sont toujours collectées selon la bonne et la même périodicité dans tout le pays.

Il est toutefois possible de collecter les mêmes éléments de données en utilisant différents types de période en affectant les mêmes éléments de données à plusieurs ensembles de données avec différents types de période, mais il devient alors important de s'assurer qu'aucune unité d'organisation ne collecte des données en utilisant les deux ensembles de données/types de période car cela créerait un chevauchement et une duplication des valeurs de données. S'il est configuré correctement, le service d'agrégation du DHIS2 regroupera les données, par exemple les données mensuelles d'une partie du pays avec les données trimestrielles d'une autre partie du pays, dans un rapport trimestriel national. Par souci de simplicité et pour éviter la duplication des données, il est conseillé d'utiliser le même type de période pour toutes les unités d'organisation pour les mêmes éléments de données lorsque cela est possible.

### Périodes relatives { #relative-periods }

En plus des types de périodes fixes décrits dans la section précédente, DHIS2 prend également en charge les périodes relatives pour une utilisation dans les modules d'analyse.

Lors de la création de ressources analytiques dans DHIS2, il est possible d'utiliser la fonctionnalité des périodes relatives. Le scénario le plus simple est celui où vous souhaitez concevoir un rapport mensuel pouvant être réutilisé chaque mois sans avoir à modifier le modèle de rapport pour tenir compte des changements de période. La période relative appelée "Dernier mois" permet de le faire, et l'utilisateur peut, au moment de la production du rapport, sélectionner le mois à utiliser dans le rapport grâce à un paramètre de rapport.

Un cas d'utilisation un peu plus avancé est celui où vous souhaitez produire un rapport mensuel de synthèse pour la vaccination et où vous voulez examiner les données du mois (de déclaration) en cours ainsi qu'une valeur cumulative pour l'année jusqu'à présent. La période relative "Cette année" fournit une telle valeur cumulée par rapport au mois de déclaration sélectionné lors de l'exécution du rapport. Les autres périodes relatives sont les périodes des 3, 6 ou 12 derniers mois, qui sont des valeurs cumulées calculées à partir du mois de déclaration sélectionné. Si vous souhaitez créer un rapport avec des données agrégées par trimestre (celles qui sont passées depuis le début de l'année), vous pouvez sélectionner "Quatre derniers trimestres". D'autres périodes relatives sont décrites dans la section du manuel consacrée au tableau de déclaration.

<table>
<thead>
<tr class="header">
<th>Unité d'organisation</th>
<th>Élément de donnée</th>
<th>Mois de référence</th>
<th>Jusqu'à présent cette année</th>
<th>Nom du mois de référence</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CHC Gerehun</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>15</td>
<td>167</td>
<td>Oct-09</td>
</tr>
<tr class="even">
<td>CPS Tugbebu</td>
<td>Doses de vaccin anti-rougeoleux administrées</td>
<td>17</td>
<td>155</td>
<td>Oct-09</td>
</tr>
</tbody>
</table>

### Agrégation des périodes { #aggregation-of-periods }

Bien que les données doivent être collectées à une fréquence donnée afin de normaliser la collecte et la gestion des données, cela ne limite pas les types de périodes peuvant être utilisées dans l'analyse des données et les rapports. Tout comme les données sont agrégées vers le haut de la hiérarchie d'organisation, elles sont également agrégées selon une hiérarchie de périodes, de sorte que vous pouvez créer des rapports trimestriels et annuels basés sur les données collectées sur une base mensuelle. Le type de période défini pour un formulaire de saisie de données (ensemble de données) définit le plus bas niveau de détail de la période possible dans un rapport.

#### Somme et agrégation moyenne sur la dimension de la période { #sum-and-average-aggregation-along-the-period-dimension }

Lors de l'agrégation des données relative à la dimension de la période, il existe deux options en ce qui concerne le mode de calcul, à savoir la somme ou la moyenne. Cette option est spécifiée pour chaque élément de données dans DHIS2 grâce à l'utilisation de l'attribut "opérateur d'agrégation" dans la boîte de dialogue Ajouter/Modifier des éléments de données.

La plupart des données collectées en routine devraient être agrégées en additionnant les mois ou les semaines, par exemple pour créer un rapport trimestriel sur l'immunisation contre la rougeole, on pourrait additionner les trois valeurs mensuelles pour les "Doses de vaccin antirougeoleux administrées".

D'autres types de données ayant une validité plus permanente dans le temps, comme le "Nombre d'employés dans l'USP" ou une estimation annuelle de la population "Population de moins d'un an", doivent être agrégées différemment. Ces valeurs sont statiques pour tous les mois tant qu'il existe des données valables. Par exemple, l'"Estimation de la population de moins de 1 an", calculée à partir des données du recensement ,est la même pour tous les mois d'une année donnée, ou le nombre d'infirmières travaillant dans un établissement donné est le même pour chaque mois de la période de 6 mois pour laquelle le nombre est déclaré.

Cette différence devient importante lors du calcul d'une valeur annuelle pour l'indicateur de la charge de morbidité des services pour un établissement. Les effectifs mensuels sont additionnés pour les 12 mois afin d'obtenir l'effectif annuel, tandis que le nombre de membres du personnel de l'USP est calculé comme étant la moyenne des deux valeurs semestrielles indiquées dans le rapport semestriel du personnel. Ainsi, dans cet exemple, l'élément de données "Effectif de l'OPD" aurait l'opérateur d'agrégation "SOMME" et l'élément de données "Nombre des effectifs" aurait l'opérateur "MOYENNE".

Le concept de période de validité est une autre caractéristique importante des éléments de données moyennes. Les valeurs moyennes des données sont des valeurs permanentes pour tout type de période dans les limites de la période pour laquelle elles sont enregistrées. Par exemple, une estimation annuelle de la population suivant l'année civile, aura la même valeur pour toute période comprise dans cette année, quel que soit le type de période. Si la population de moins de 1 an pour un établissement donné est de 250 pour l'année 2015, cela signifie que la valeur sera de 250 pour Q3-15, pour la 12e semaine de 2015 et pour toute période comprise dans l'année 2015. Cela a des implications sur la manière dont les indicateurs de couverture sont calculés, car la population annuelle complète sera utilisée comme valeur de dénominateur même lors de rapports mensuels. Si vous souhaitez examiner une valeur de couverture annuelle estimée pour un mois donné, vous aurez la possibilité de régler l'indicateur sur "Annualisé", ce qui signifie qu'une valeur de couverture mensuelle sera multipliée par un facteur de 12, une valeur trimestrielle par 4, afin de générer un total annuel effectif. La fonction d'indicateur annualisé peut donc être utilisée pour imiter l'utilisation des estimations mensuelles de la population.

## Collecte de données et Analyse de données { #data-collection-vs-data-analysis }

### Collecte et stockage des données { #data-collection-and-storage }

Les ensembles de données déterminent les données brutes disponibles dans le système, car ils décrivent la manière dont les données sont collectées en termes de périodicité et d'étendue spatiale. Les ensembles de données définissent les éléments constitutifs des données à saisir et à stocker dans le DHIS2. Pour chaque dimension de données, nous décidons du niveau de détail auquel les données doivent être collectées, à savoir 1) l'élément de données (par exemple, le diagnostic, le vaccin ou tout autre événement) et ses catégories (par exemple, l'âge et le sexe), 2) la dimension de la période/fréquence, et 3) la dimension de l'unité d'organisation. Pour tout rapport ou analyse de données, il est impossible d'extraire des données plus détaillées que celles définies dans les ensembles de données, ainsi la conception des ensembles de données et les formulaires de saisie correspondants (les outils de collecte de données) déterminent le type d'analyse de données possible.

### L'entrée n'est pas égale à la sortie { #input-does-not-equal-output }

Il est important de comprendre que les formulaires de saisie de données ou les ensembles de données eux-mêmes ne sont pas intrinsèquement liés à la valeur des données sous-jacentes et que la signification des données n'est décrite que par l'élément de donnée (et ses catégories). Il est donc parfaitement sécurisé de modifier les ensembles de données et les formulaires sans altérer les données (tant que les éléments de données restent les mêmes). Ce couplage lâche entre les formulaires et les données rend le système DHIS2 flexible lorsqu'il s'agit de concevoir et de modifier de nouveaux formulaires et de fournir exactement le type de formulaire souhaité par les utilisateurs.

Un autre avantage de la liaison uniquement des données à des éléments de données et non à des formulaires est la flexibilité de créer des indicateurs et des règles de validation basés sur des éléments de données, et aussi de fournir tout type de rapport de sortie (dans des tableaux croisés dynamiques, des graphiques, des cartes, etc.) pouvant combiner des données individuellement ou dans plusieurs formulaires, par exemple pour corréler des données provenant de différents programmes de santé. En raison de cette flexibilité qui permet l'intégration de données provenant de différents programmes (formulaires) et sources (de routine et semi-permanentes (population, personnel, équipement)), une base de données DHIS2 est utilisée comme un dépôt de données intégré pour de nombreuses parties ou toutes les parties des données agrégées dans un SIS plus large. La figure ci-dessous illustre cette flexibilité.

![](resources/images/data_dimensions/dhis_input_output.jpg)

Dans cet exemple, nous voyons que des éléments de données provenant de plusieurs formulaires peuvent être combinés pour créer un indicateur donné. Pour donner un exemple plus concret, on pourrait collecter "Population de moins d'un an" dans un ensemble de données annuelles par district, puis recueillir un élément de donnée comme "Enfants entièrement vaccinés" par mois au niveau de l'établissement. En annualisant la population, nous pouvons générer une approximation de la population mensuelle effective, et en combinant cela avec le total agrégé du nombre d'enfants complètement vaccinés par mois, il serait possible de générer un indicateur "Couverture vaccinale complète", consistant en le total agrégé des enfants complètement vaccinés, divisé par la population mensuelle réelle.

## Plus d'exemples d'éléments de données et de formulaires { #extended-examples-of-data-elements-and-forms }

Le tableau ci-dessous combine les éléments de donnée des deux groupes Diagnostic (toutes les maladies) et Morbidité/Mortalité (Nouveaux cas, Suivi, Orientation, Décès) avec la catégorie d'éléments de données PHU/Communauté. Les décès sont saisis dans un formulaire séparé avec d'autres dimensions (par exemple, l'USP/Communauté) que la morbidité.

![](resources/images/data_dimensions/Ex_table1.jpg)

Ce tableau de sortie combine les deux catégories d'éléments de données VIH_Age et Sexe avec l'ensemble d'éléments de données Groupe TAR. Le groupe permet d'obtenir des sous-totaux pour les points d'étape et d'entrée qui résument les éléments de données dans ce groupe. Les sous-totaux pour les deux groupes d'âge et le sexe seraient d'autres colonnes que vous pourrez facilement inclure ici.

![](resources/images/data_dimensions/Ex_table2.jpg)

## Son fonctionnement dans les tableaux croisés dynamiques { #how-this-works-in-pivot-tables }

Lorsque l'on analyse des données dans des tableaux croisés dynamiques Excel ou tout autre outil OLAP, les dimensions deviennent extrêmement puissantes losqu'il s'agit de proposer de nombreuses vues différentes des données. Chaque catégorie ou groupe d'éléments de données devient un alors champ pivot, et les options ou groupes deviennent des valeurs dans chacun de ces champs. En fait, les catégories et les groupes sont traités exactement de la même manière dans les tableaux croisés dynamiques, tout comme les unités, les périodes et les éléments de données. Tous ces éléments deviennent des dimensions de la valeur des données peuvant être utilisées pour réorganiser, faire pivoter, filtrer les donnée et les analyser plus en détail. Nous présentons ici quelques exemples de la manière dont les dimensions des données sont utilisées dans les tableaux croisés dynamiques.

En utilisant l'exemple des données de morbidité et de mortalité, un tableau croisé dynamique peut montrer comment les dimensions peuvent être utilisées pour visualiser les données pour différents niveaux d'agrégation.

Le nombre entièrement agrégé est affiché lorsqu'aucun des champs pivot n'est disposé dans la zone du tableau, en tant que champ de colonne ou de ligne, mais qu'il est répertorié au-dessus du tableau lui-même en tant que champ de page (filtre).

![](resources/images/data_dimensions/pivot_overview_1.jpg)

Nous avons choisi ici d'examiner le total de la morbidité. Les différents éléments de données sur la morbidité ont été classés dans les _principaux_groupes Morbidité (nous reviendrons plus tard sur la Mortalité). Les champs au-dessus du tableau lui-même sont tous réglés sur "Tous", ce qui signifie que les totaux du tableau contiendront les données de tous les pays, districts, chefferies, ou_type, année, mois, les différentes catégories telles qu'elles sont énumérées dans les champs rouges, et tous les éléments de données du groupe Morbidité.

Comme nous l'avons vu, cette représentation n'est pas très utile, puisque la Morbidité est organisée en nouveaux cas, en suivis, en renvois, puis à nouveau en tranches d'âge. De plus, nous ne voyons pas les différents diagnostics. La première étape consiste à inclure le champ des diagnostics (qui est un ensemble de groupes), ce qui se fait en faisant glisser le champ "diagnostic" vers le bas pour qu'il devienne un champ de ligne, comme le montre la figure ci-dessous, et à ajouter l'ensemble de groupes appelé "morbidité-mortalité" dans le champ de colonne pour afficher les nouveaux cas, les suivis et les renvois.

![](resources/images/data_dimensions/pivot_diagnoses.jpg)

Comparez ce chiffre ci-dessus à celui ci-dessous.

![](resources/images/data_dimensions/pivot_dataelements.jpg)

Elles présentent toutes deux les mêmes données (certaines lignes ont été coupées dans la capture d'écran en raison de la taille de l'image), quoique d'une manière différente.

-   Le champ "élément de donnée", utilisé dans la figure du bas, affiche chaque diagnostic sous la forme de trois éléments : un suivi, un nouveau et un renvoi. C'est ainsi que les éléments de données ont été définis dans le DHIS2, car cela est indispensable pour l'agrégation. Vous n'aimeriez pas agréger les suivis et les nouveaux, donc ceux-ci n'ont pas été faits sous forme de catégories, le but étant de faciliter l'agrégation et la désagrégation.

-   L'ensemble de groupes "diagnostic" a été conçu de manière à regrouper ces trois groupes (suivi, nouveau, renvoi), qui peuvent ensuite être séparés avec un autre ensemble de groupes, à savoir celui appelé "morbidité/mortalité". Cela nous permet d'organiser les données comme dans la première des deux figures, où nous avons le diagnostic unique par ligne, et les groupes nouveaux, suivis, renvois comme des lignes.

L'idée derrière l'utilisation des ensembles de groupes est que vous pouvez combiner, dans n'importe quel ensemble, différents éléments de données. Ainsi, si nous ajoutons les données sur la mortalité (en les vérifiant dans le menu déroulant du champ _groups_principaux, et en déplaçant ce champ hors du tableau), nous pouvons également voir les décès, puisque les éléments de données sur la mortalité ont été inclus comme groupe "décès" dans l'ensemble de groupes "morbidité-mortalité". Le résultat est présenté ci-dessous.

![](resources/images/data_dimensions/pivot_diagnoses_all.jpg)

Le résultat est un tableau croisé dynamique beaucoup plus convivial. Maintenant, une autre figure montre la relation entre les ensembles de groupes et les éléments (ce sont de fausses valeurs de données).

Ce petit détail du tableau croisé dynamique montre comment les éléments de données réels sont liés aux ensembles de groupes :

-   Les quatre éléments de données, tels que définis dans le DHIS2, sont les suivants : décès dus à la rougeole, suivi des cas de rougeole, nouveaux cas de rougeole et renvois de cas de rougeole

-   Ils font tous partie de l'ensemble de groupes "diagnostic", où ils sont regroupés dans le groupe Rougeole

-   L'ensemble de groupes "morbidité/mortalité" contient les groupes Nouveaux cas, Suivi, Renvois et Décès.

-   Seul l'élément de donnée Décès liés à la rougeole comporte des données relatives au groupe Décès ; c'est donc là que la valeur de donnée (20) est indiquée, dans le coin supérieur droit. Il en va de même pour les Nouveaux cas de rougeole ; la valeur (224) est indiquée à l'intersection de l'élément de donnée Nouveau cas de rougeole et du groupe Nouveaux cas (dans l'ensemble de groupes Morbidité/mortalité)

-   Toutes les intersections où l'élément de donnée n'est pas lié aux groupes dans l'ensemble de groupes morbidité-mortalité sont laissées en blanc. Ainsi, dans ce cas, nous obtiendrions un joli tableau si nous excluions l'élément de donnée du tableau, et si nous avions juste le diagnostic et l'ensemble de groupes morbidité-mortalité, comme dans la figure présentée plus haut

Voyons maintenant comment les catégories d'éléments de données peuvent être utilisées. Dans le formulaire de saisie des données sur la morbidité, les nouveaux cas et les suivis utilisent une catégorie d'âge, les données de référence une autre, et les données sur la mortalité une troisième ventilation par âge. Ces données sont donc disponibles sous la forme de trois champs de groupes d'âge individuels dans les tableaux croisés dynamiques appelés âge de_morbidité, âge de_référence et âge de_mortalité. Il n'est pas logique de les utiliser en examinant ces données ensemble (comme dans les exemples ci-dessus), mais par exemple, si nous ne voulons examiner que les nouveaux cas, nous pouvons remettre le champ Groupesmortalitémorbidité dans un champ de page et y sélectionner le groupe Nouveaux cas comme filtre. Ensuite, nous pouvons faire glisser le champ Âge de_morbidité vers le bas dans la zone de la colonne et nous obtenons la vue ci-après :

![](resources/images/data_dimensions/pivot_morb_age.jpg)

Le tableau suivant illustre les avantages de la réutilisation des catégories d'éléments de données dans les ensembles de données et les combinaisons de catégories. Les données relatives à la VCCT, au TAR et à la PTME sont collectées dans trois ensembles de données différents, les deux premiers avec une ventilation par sexe et par âge, et le troisième avec l'âge de la PTME uniquement (le sexe est indiqué). Les trois partagent les mêmes groupes d'âge et il est donc possible de visualiser les éléments de données de ces trois ensembles de données dans le même tableau et d'utiliser la dimension Âge. Dans l'exemple précédent avec les données sur la morbidité et la mortalité, cela n'était pas possible car les nouveaux cas, les renvois et les décès ont tous des groupes d'âge différents.

![](resources/images/data_dimensions/pivot_hiv_age.jpg)

Dans le tableau ci-dessous, les données relatives à la PTME ont été supprimées du tableau et la catégorie de sexe a été ajoutée dans la zone de colonnes pour vous permettre d'analyser les données relatives à la VCCT et au TAR par âge et par sexe. Un sous-total facultatif pour le sexe a également été ajouté, ainsi qu'un grand total pour tous les âges et sexes.

![](resources/images/data_dimensions/pivot_hiv_age_gender.jpg)

## Étude de cas : Des formulaires papier aux ensembles de données multidimensionnelles - les enseignements tirés { #case-study-from-paper-forms-to-multidimensional-datasets-lessons-learned }

Généralement, la conception d'un ensemble de données dans DHIS2 est basée sur certaines exigences d'un formulaire papier déjà utilisé. La logique des formulaires papier n'est pas la même que le modèle d'élément de donnée et d'ensemble de données du système DHIS2 ; par exemple, un champ dans un formulaire papier tabulaire est souvent décrit à la fois par des en-têtes de colonnes et du texte sur chaque ligne, et parfois aussi avec un titre de tableau d'introduction qui fournit plus de contexte. Dans la base de données, cela est saisi dans un élément de donnée atomique sans référence à une position dans un format de tableau visuel. Il est donc important de s'assurer que l'élément de donnée avec les catégories d'éléments de donnée facultatives reflète la pleine signification de chaque champ individuel dans le formulaire papier.

Un autre aspect important à prendre en considération lors de la conception des ensembles de données est que l'ensemble de données et le formulaire de saisie correspondant (qui est un ensemble de données avec une mise en page) est un outil de collecte de données et non un outil de rapport ou d'analyse. Il existe d'autres outils bien plus sophistiqués pour la production des données et l'établissement de rapports dans le DHIS2 que les formulaires de saisie. Les formulaires papier sont souvent conçus en tenant compte à la fois de la collecte des données et des rapports et vous pouvez donc voir des éléments tels que les valeurs cumulées (en plus des valeurs mensuelles), la répétition des données annuelles (les mêmes données démographiques déclarées chaque mois) ou même des valeurs des indicateurs telles que les taux de couverture dans le même formulaire que les données brutes mensuelles. Lorsque vous stockez les données brutes dans le DHIS2 chaque mois et que vous disposez de toute la puissance de traitement nécessaire dans l'outil informatique, il n'est pas nécessaire (en fait, ce serait stupide et très probablement source d'incohérence) d'enregistrer des valeurs calculées manuellement telles que celles mentionnées ci-dessus. Vous devez seulement saisir les données brutes dans vos ensembles de données/formulaires et laisser les calculs à l'ordinateur, et la présentation de ces valeurs aux outils de déclaration dans le système DHIS2.

### Des tableaux aux combinaisons de catégories - concevoir des ensembles de données multidimensionnelles { #from-tables-to-category-combinations-designing-multi-dimensional-data-sets }

Comme nous l'avons vu dans les exemples ci-dessus, les catégories d'éléments de données et les options de catégories sont utiles pour représenter des données tabulaires, lorsqu'il s'agit d'ajouter des dimensions à un champ dans un formulaire papier. Nous avons également vu comment l'élément de données est l'une des dimensions requises qui décrivent les données dans le DHIS2. Comme nous le verrons dans l'exemple ci-dessous, il y a souvent plus d'une façon de représenter un formulaire papier dans le DHIS2, et il peut être difficile de savoir quelle dimension représenter avec un nom d'élément de donnée et laquelle représenter sous forme de catégories, ou même de groupes comme nous l'avons vu ci-dessus. Voici quelques enseignements d'ordre général tirés du travail à partir des combinaisons d'éléments de données et de catégories :

-   Concevez vos dimensions en gardant à l'esprit l'utilisation des données, et non leur collecte. Cela signifie que la désagrégation des valeurs des données au moment de la collecte doit être facilement agrégée selon les différentes dimensions, comme pour obtenir un total significatif.

-   Réutilisez les dimensions autant que possible car cela augmente la capacité de comparer les données désagrégées (par exemple, les groupes d'âge, les groupes fixes/locaux, le sexe).

-   Les dimensions de désagrégation devrait correspondre à un total. Dans certains cas, les éléments de données peuvent être collectés en tant que sous-ensembles les uns des autres. Dans ce cas, les catégories ne doivent pas être utilisées pour désagréger l'élément de donnée. Par exemple, nous pourrions collecter le "Nombre de cas confirmés de paludisme" et le ventiler par "Moins de 5 ans" et "Plus de 5 ans". Un troisième élément de donnée "Nombre de cas confirmés de paludisme chez les moins de 1 an" peut également figurer sur le formulaire. Il semble alors raisonnable de créer trois groupes d'âge : moins de 1 an, moins de 5 ans et plus de 5 ans, pour décrire la désagrégation. Cependant, le groupe des moins de 1 an est en fait un sous-ensemble du groupe des moins de 5 ans et, une fois additionné, il y aurait duplication. Ainsi, les catégories devraient généralement être composées d'options de catégorie s'excluant mutuellement, de sorte que la somme des options de catégorie individuelles donne un total cohérent.

-   Différents niveaux de dimensions ; 1) désagrégation et 2) regroupement. Les dimensions de désagrégation déterminent la façon dont vous collectez et stockez vos données ; planifiez-les donc avec soin. La dimension de regroupement est plus flexible et peut être modifiée et complétée même après la collecte des données (pensez à un marquage).

-   Il est préférable de penser à la manière dont les données seront utilisées dans un dépôt de données intégré et non à la manière dont elles seront effectivement collectées sur des formulaires ou par des programmes lors de la conception du modèle de métadonnées. Idéalement, le même type de désagrégation devrait être utilisé dans les formulaires et les ensembles de données pour les éléments de données qui seront analysés ensemble, ou utilisés pour créer des indicateurs. Réutilisez les définitions afin que la base de données puisse s'intégrer même si les formulaires eux-mêmes peuvent être dupliqués (ce qui, en pratique, est souvent le cas).

Pour mieux expliquer l'approche et les possibilités, nous présentons un exemple de formulaire papier et nous le parcourons étape par étape en concevant des éléments de données, des catégories, des options de catégories et des combinaisons de catégories.

![](resources/images/data_dimensions/PHUF3.jpg)

Ce formulaire comporte de nombreux tableaux et chacun d'entre eux représente potentiellement une combinaison de catégories d'éléments de données (désormais appelée catcombo). Ainsi, il n'existe pas de restriction à ce qu'un ensemble de données n'ait qu'une seule série de dimensions ou catcombo. Il peut en avoir plusieurs et, comme nous l'avons souligné ci-dessus, cela est nécessaire car les dimensions sont très différentes d'un tableau à l'autre. Dans les paragraphes suivants, nous analyserons comment décomposer ce formulaire en ses éléments constitutifs et proposerons un cheminement de mise en œuvre dans le DHIS2.

**Tableau CPN**. Ce tableau dans le coin supérieur gauche est l'un des plus simples de ce formulaire. Il a deux dimensions, la première colonne qui contient l'activité ou le service de CPN (1ère visite, 2ème dose de TPI etc.) et la deuxième et troisième colonnes qui représentent le lieu où le service a été fourni avec les deux options "Fixe" et "De proximité". Étant donné que le service de CPN est le phénomène clé à analyser ici, et qu'il est souvent nécessaire d'examiner le total des "1ères visites de CPN", quel que soit le lieu où elles ont effectivement eu lieu, il est très logique d'utiliser cette dimension comme dimension de l'élément de donnée.

Ainsi, tous les éléments de la première colonne, de la "1ère visite de CPN" à la "2ème dose de TPI administrée par TBA", sont représentés sous forme d'éléments de données individuels. La dimension _où_ est représentée comme une catégorie d'élément de donnée (désormais appelée catégorie) avec le nom "fixe/de proximité" avec les deux options de catégorie d'éléments de données (désormais catoptions) "Fixe" et "De proximité". Il n'y a pas d'autre dimension ici et nous allons donc ajouter une nouvelle catcombo ayant pour nom "Fixe/De proximité" avec une catégorie "Fixe/De proximité". À proprement parler, ce tableau contient une autre dimension, à savoir la dimension À l'USP ou Par TBA, qui est répétée pour les deux doses de TPI, mais étant donné qu'aucun des autres services de CPN répertoriés ne possède cette dimension, il ne semble pas judicieux de séparer deux éléments de données de ce tableau et de leur donner une autre combinaison avec les deux catégories "Fixe/De proximité" et "À l'USP/Par TBA". La réutilisation de la même combinaison pour tous les services de CPN est plus logique car il sera plus facile de les examiner ensemble dans les rapports, etc. et aussi parce qu'il n'y a pas grand-chose à perdre avec la répétition des informations À l'USP ou Par TBA dans le nom de l'élément de donnée alors qu'elles ne concernent que quatre éléments de données dans un tableau de onze éléments de données.

**Tableau Accouchement** Ce tableau est plus délicat puisqu'il contient assez d'informations et vous pouvez constater que toutes les lignes n'ont pas les mêmes colonnes (certaines colonnes sont fusionnées et un champ est grisé/désactivé). Si nous commençons par examiner la première colonne "Accouchements assistés par", cela semble être une dimension, mais seulement jusqu'à la ligne "Accoucheuse traditionnelle non formée", car les trois autres lignes ne sont pas du tout liées à la personne ayant assisté à l'accouchement. Une autre dimension est le lieu de l'accouchement, soit dans l'USP, soit dans la Communauté, comme indiqué dans les en-têtes de la colonne supérieure. Ces accouchements sont ensuite divisés en fonction du résultat de l'accouchement, qu'il s'agisse d'une naissance vivante ou d'une mortinaissance, ce qui semble être une autre dimension. Ainsi, si l'on ne tient pas compte des trois lignes du bas, il semble y avoir trois dimensions ici : 1) assisté par, 2) le lieu de l'accouchement et 3) le résultat de l'accouchement. La décision clé à prendre est de savoir quel élément de donnée utiliser, la dimension principale, le total que vous utiliserez le plus souvent et que vous souhaitez voir facilement disponible dans les rapports et les analyses de données.

Dans ce cas, la dimension Résultat "Total des naissances vivantes" est une valeur très couramment utilisée dans de nombreux indicateurs (taux de mortalité maternelle, naissances assistées par du personnel de santé qualifié, etc.). Dans ce cas, la dimension "Assistée par" aurait également pu être utilisée sans problème, mais la valeur ajoutée d'obtenir facilement les informations sur les naissances vivantes totales a été le point décisif pour nous. Cela signifie que dans ce tableau (ou sous-tableau des lignes 1 à 6), il n'y a que deux éléments de données : "Naissances vivantes" et "Morts-nés".

Ensuite, il y a deux autres dimensions, l'"USP/Communauté" avec ses deux options et un "Accouchements assistés par" avec des options ("Aides SMI", "SECHN", "Sages-femmes", "CHO", "TBA qualifiée", "TBA non qualifiée"). Ces deux catégories constituent la catcombo "Naissances" qui est attribué aux deux éléments de données "Naissances vivantes" et "Mortinaissancess". En considérant les trois dernières lignes du tableau d'accouchement, nous pouvons voir que "Accouchements compliqués" n'a pas la dimension Assistés par, mais a les dimensions Lieu et Résultat. L'élément "Faible poids à la naissance" n'a pas non plus la dimension Assistés par et n'a pas non plus la dimension Résultat. Le MILD donné après l'accouchement n'a pas de dimension supplémentaire du tout. Étant donné qu'aucune des trois lignes ne peut partager la catcombo avec une autre ligne, nous avons décidé de représenter ces champs comme des éléments de données plats, c'est-à-dire des éléments de données sans aucune catégorie, et d'ajouter simplement les informations supplémentaires des en-têtes de colonne au nom de l'élément de donnée, ce qui nous a permis d'obtenir les éléments de données suivants avec la catcombo par défaut (identique à aucun) ; "Accouchements compliqués dans une USP Naissances vivantes", "Accouchements compliqués dans une USP Mortinaissances", "Accouchements compliqués dans une communauté naissances vivantes", "Accouchements compliqués dans une communauté Mortinaissances", "Faible poids à la naissance dans une USP", "Faible poids à la naissance dans une communauté" et "MILD donné après l'accouchement".

**Tableau des soins postnatals** Il s'agit ici d'un tableau simple et nous avons utilisé la même approche que celle utilisée pour le tableau de CPN. 3 éléments de données énumérés dans la première colonne, puis nous les relions à la catcombo appelée "Fixe/De proximité". La réutilisation de la même catégorie Fixe / Proche pour ces éléments de données permet d'effectuer une analyse sur Fixe /De proximité à partir des données de CPN et d'autres données utilisant la même catégorie.

**Tableau des vaccins TT** Ce tableau est un peu plus complexe que ceux utilisés dans les exemples précédents. Nous avons donc décidé d'utiliser les vaccins "TT1", "TT2" ... "TT5" comme éléments de données, ce qui permet d'obtenir facilement le total de chacun d'entre eux. Il y a ici une dimension Fixe/De proximité, mais il y a aussi la dimension "En milieu scolaire" qui ne s'applique qu'aux filles non enceintes, ou plus exactement à l'une des deux, puisque la vaccination en milieu scolaire est effectuée que les filles soient enceintes ou non. Nous avons consulté les responsables du programme chargés de la gestion du formulaire et nous avons découvert qu'il serait acceptable d'enregistrer toutes les vaccinations TT en milieu scolaire comme étant non enceintes, ce qui simplifie un peu le modèle puisque nous pouvons réutiliser les éléments de données "TT1" à "TT5". Nous nous sommes donc retrouvés avec une nouvelle catégorie appelée "Lieu de TT" avec les trois options (Fixe, De proximité, En milieu scolaire), et une autre catégorie appelée "Enceinte/Non enceinte" avec deux options. La nouvelle catcombo "TT" est alors une combinaison de ces deux options et est appliqué aux 5 éléments de données de TT. Comme nous avons convenu de placer toutes les vaccinations en milieu scolaire dans la catégorie "Non-Enceinte", la combinaison d'options (Enceinte+En milieu scolaire) ne sera jamais utilisée dans aucun formulaire de saisie de données, et deviendra donc une éventuelle combo d'options, ce qui est correct. Tant que le formulaire est conçu sur mesure, vous pouvez choisir les combinaisons d'options à utiliser ou non, et il n'y a donc aucun problème à avoir de telles catoptions passives ou non utilisées. Le fait d'avoir l'école comme option dans la catégorie Lieu de TT simplifie le modèle et nous avons donc pensé que cela valait la peine. L'alternative serait de créer 5 éléments de données supplémentaires pour "TT1 en milieu scolaire" ... "TT5 en milieu scolaire", mais il serait alors un peu déroutant de les additionner avec "TT1" ... "TT5" plus la catcombo TT . Avoir des écoles comme lieu dans la catégorie Lieu de TT rend beaucoup plus facile d'obtenir le total des vaccin TT1 ...TT5 administrés, qui sont les chiffres les plus importants et les valeurs les plus souvent utilisées pour l'analyse des données.

**Tableaux de complications de la grossesse précoce et tardive et des accouchements** Nous traitons ces deux tables comme étant une seule, et nous expliquerons pourquoi. Ces deux tableaux sont un peu déroutants et ne sont pas les mieux conçus. Les données les plus importantes qui ressortent de ces tableaux sont les complications de la grossesse et les décès maternels. Ces éléments de données contiennent des détails supplémentaires sur la cause de la complication ou du décès (première colonne des deux tableaux), ainsi que le lieu du décès (dans l'USP ou la communauté), et le résultat de la complication (lorsqu'il ne s'agit pas d'un décès) qui peut être soit "Géré à l'USP" soit "Référé". Nous avons décidé de créer deux éléments de données pour ces deux tableaux : "Complications de la grossesse" et "Décès maternels", et deux combinaisons de catégories, une pour chacun des éléments de données. Pour l'élément de donnée "Complications de la grossesse", il y a deux dimensions supplémentaires, la cause de la complication (la liste combinée de la première colonne des deux tableaux) et le résultat (géré à l'USP ou "Référé"), ce sont donc les catégories et les options qui constituent cette combinaison de catégories. Pour l'élément de donnée "Décès maternels", on utilise la même catégorie avec les différentes causes, puis une autre catégorie pour le lieu du décès (dans l'USP ou dans la communauté). Ainsi, les deux éléments de données peuvent partager une même catégorie et il sera facile de calculer le nombre total de complications de la grossesse et de décès maternels. Alors que la liste des complications sur le formulaire papier est divisée en deux (précoce et tardive/travail), vous pouvez constater que, par exemple, le paludisme au 2ème et 3ème trimestre sont énumérés sous précoce, mais en fait sont pour une phase ultérieure de la grossesse. Il n'y a pas de distinction claire entre les complications précoces et tardives dans le formulaire, et nous avons donc renoncé à essayer de faire cette distinction dans la base de données.

**Tableau des services de planning familial** Ce tableau comporte 2 dimensions, à savoir la méthode de planning familial (contraceptif) et le fait que le client soit nouveau ou existant. Nous n'avons obtenu qu'un seul élément de donnée "Clients des services de planning familial", puis nous avons ajouté deux catégories "Méthode de PF" avec tous les contraceptifs en option, et une autre catégorie "Type de client de PF" avec les nouveaux clients ou les clients existants en option. De cette façon, il sera facile d'obtenir le nombre total de clients des services de planning familial, ce qui est la principale valeur à prendre en compte dans l'analyse des données, et de là, vous pourrez facilement obtenir les détails sur la méthode ou le nombre de nouveaux clients.

### Une approche progressive de la conception des ensembles de données { #step-by-step-approach-to-designing-datasets }

1.  Identifier les différents tableaux (ou sous-ensembles de données) du formulaire papier qui partagent les mêmes dimensions

2.  Pour chaque tableau, identifiez les dimensions qui décrivent les champs de données

3.  Identifier la dimension clé, celle qu'il convient de considérer isolément (lorsque les autres sont pliées, résumées). C'est la dimension de votre élément de donnée, le point de départ et le cœur de votre modèle multidimensionnel (sous-ensemble de données). La dimension de l'élément de donnée peut être une fusion de deux ou plusieurs dimensions si cela est idéal pour l'analyse des données. L'essentiel est d'identifier le total ayant le plus de sens pour l'analyse seule lorsque les autres dimensions sont fusionnées.

4.  Pour toutes les autres dimensions, identifiez leurs options et donnez des noms explicatifs aux dimensions et à leurs options.

5.  Chacune de ces dimensions supplémentaires constituera une catégorie d'éléments de données et leurs options seront des options de catégorie.

6.  Combinez toutes les catégories pour chaque sous-ensemble de données en une combinaison de catégories et attribuez celle-ci à tous les éléments de données de votre tableau (ou sous-ensemble de données si vous le souhaitez).

7.  7\. Lorsque vous avez terminé toutes les tables (sous-ensembles de données), créez un nouvel ensemble de données et ajoutez tous les éléments de données que vous avez identifiés (dans le formulaire papier complet) à cet ensemble de données.

8.  8\. Votre ensemble de données sera alors constitué d'un ensemble d'éléments de données liés à une ou plusieurs combinaisons de catégories.

# Dimensions supplémentaires des données { #additional_data_dimensions }

## À propos des dimensions supplémentaires des données { #about-additional-data-dimensions }

Le DHIS2 a la capacité d'ajouter des dimensions aux données en plus de ce qui a été décrit dans le chapitre précédent. Nous appellerons ces dimensions "catégories d'attributs" (CA). Les catégories décrites dans le chapitre précédent seront appelées "catégories de désagrégation" (CD) pour les distinguer des CA.

Les CA et les CD sont assez similaires - elles fonctionnent de manière très similaire, sont accessibles par la même partie de l'interface de maintenance et existent dans la même partie de la base de données. La principale différence entre elles est ce à quoi elles sont connectées. Une CD est attachée à un élément de donnée. Une CA, en revanche, est attachée à un ensemble de données. Cela signifie que les valeurs de toutes les options de CD peuvent être saisies dans le même écran de saisie de données, alors que vous devez choisir l'option de CA avant de commencer la saisie des données.

Pour mettre en place un système, il suffit d'utiliser les CD et d'ignorer les CA. Cependant, les CA constituent un moyen permettant de simplifier les écrans de saisie de données ou de réduire la taille des produits vectoriels des combos d'options de catégories.

> **Conseil**
>
> Pour déterminez les catégories qui devraient être des CD et celles qui devraient être des CA, cette rubrique pourrait vous être utile :
>
> - Utilisez les CD lorsque vous voulez utiliser différentes combinaisons de catégories sur différents éléments de données au sein d'un ensemble de données
>
> - Utilisez les CD lorsque vous voulez saisir toutes les combinaisons d'options de catégorie sur un seul écran de saisie de données
>
> - Utilisez les CA lorsque vous voulez utiliser la même combinaison de catégories pour toutes les données au sein d'un ensemble de données
>
> - Utilisez les CA lorsque vous voulez saisir une seule combinaison d'options de catégorie sur un écran de saisie de données

Alors que nous avons fait référence aux CD comme faisant partie de la dimension _quoi_ par souci de simplicité dans le chapitre précédent, c'est en fait plus complexe. Les CD ou les CA peuvent répondre à toute question concernant un élément de donnée, notamment _quoi_ (bien sûr), _qui_, _pourquoi_, _comment_, ou même un _où_ ou un _quand_ au-delà des dimensions d'unité d'organisation et de période.

## Créer ou modifier une catégorie d'attributs et ses options { #create-or-edit-an-attribute-category-and-its-options }

Le processus de création d'une catégorie d'attributs en plus de ses options et combinaisons est décrit dans la section [Gérer les catégories](gérer_catégorie.html). Comme indiqué ici, les catégories de désagrégation sont configurées par modification d'un élément de données et les catégories d'attributs sont configurées par modification d'un ensemble de données.

## Saisie de données avec catégories de désagrégation et catégories d'attributs { #data-entry-with-disaggregation-categories-and-attribute-categories }

Lors de la saisie de données agrégées, il faut d'abord choisir les catégories d'attributs, puis entrer les données dans les catégories de désagrégation sur une seule page.

Par exemple, sur le graphique ci-dessous, les catégories d'attributs constituent un Partenaire d'Implémentation (Consortium de lutte contre le SIDA) et un Projet (Améliorer l'accès aux médicaments). Les catégories de désagrégation sont le sexe (homme/femme/etc.), l'âge ( <15, 15-24, 25-49, > 49).

![](resources/images/maintainence/categories_dataset_attributes.png)

## Analyse avec les catégories de désagrégation et les catégories d'attributs { #analysis-with-disaggregation-categories-and-attribute-categories }

Pour effectuer une analyse avec des catégories de désagrégation et d'attribut, cochez la case "Dimension de données" sur la page de modification des catégories de l'application Maintenance, tel qu'indiqué dans [Créer ou modifier une catégorie (gérer_catégorie.html#create_catégorie).

## Approbations avec les catégories d'attributs { #approvals-with-attribute-categories }

Pour inclure des catégories d'attributs dans les approbations, créez un groupe d'options de catégorie qui contient les mêmes options de catégorie que la catégorie d'attribut. Créez ensuite un ensemble de groupes d'options de catégorie et ajoutez le en tant que niveau d'approbation de données.

Cet aspect est plus détaillé dans la section [Approbation par ensemble de groupes d'options de catégorie](data_approvals_approving_by_cogs.html) et [Approbation par plusieurs ensembles de groupes d'options de catégorie](approving_by_multiple_category_option_group_sets.html).

## Catégories d'attributs et tableau de valeurs de données { #attribute-categories-and-the-datavalue-table }

Pour certains, le fonctionnement des catégories d'attributs et des catégories de désagrégation est plus claire avec une analyse de la manière dont les valeurs de données sont stockées dans la base de données de DHIS2. Toutefois, si l'analyse des composants internes de la base de données ne vous aide pas à comprendre comment les différents types de catégories fonctionnent ensemble, vous pouvez ignorer l'étape.

Chaque valeur de données est associée à un élément de données, une période et une unité d'organisation, lesquels sont représentés de la manière suivante :

 <table width="100%">
 <colgroup>
 <col style="width: 18%" />
 <col style="width: 10%" />
 <col style="width: 10%" />
 <col style="width: 7%" />
 <col style="width: 27%" />
 <col style="width: 28%" />
 </colgroup>
 <tbody>
 <tr class="odd">
 <td> <p> identifiant de l'élément de données </p> </td>
 <td> <p> identifiant de la période </p> </td>
 <td> <p> identifiant source </p> </td>
 <td> <p> &nbsp; </p> </td>
 <td> <p> &nbsp; </p> </td>
 <td> <p> &nbsp; </p> </td>
 </tr>
 </tbody>
 </table>

(Notez qu'il s'agit d'identifiants de base de données numériques, et non de DHIS2.)

Et bien sûr, chaque valeur de données a une valeur. Pour cela, il faudra ajouter la colonne **valeur** à la base de données :

 <table width="100%">
 <colgroup>
 <col style="width: 18%" />
 <col style="width: 10%" />
 <col style="width: 10%" />
 <col style="width: 7%" />
 <col style="width: 27%" />
 <col style="width: 28%" />
 </colgroup>
 <tbody>
 <tr class="odd">
 <td> <p> dataelementid </p> </td>
 <td> <p> periodid </p> </td>
 <td> <p> id source </p> </td>
 <td> <p> valeur </p> </td>
 <td> <p> &nbsp; </p> </td>
 <td> <p> &nbsp; </p> </td>
 </tr>
 </tbody>
 </table>

Chaque valeur de données fait également référence aux options de catégories de désagrégation et aux options de catégories d'attribut qui lui sont affectées. Dans l'exemple ci-dessus, la valeur de données saisie dans la case "Homme <15" aura l'option "Homme" pour la catégorie de désagrégation **genre**, et l'option "<15" pour la catégorie de désagrégation ** âge**. La combinaison de ces deux options est représentée dans la base de données par une seule **combinaison d'options de catégorie** signifiant "Homme, <15". La valeur de données fait référence à cette combinaison d'options de catégorie de désagrégation dans l' **categoryoptioncomboid** :

<table width="100%">
<colgroup>
<col style="width: 18%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 7%" />
<col style="width: 27%" />
<col style="width: 28%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>dataelementid</p></td>
<td><p>periodid</p></td>
<td><p>sourceid</p></td>
<td><p>value</p></td>
<td><p>categoryoptioncomboid</p></td>
<td><p>&nbsp;</p></td>
</tr>
</tbody>
</table>

De même, la même valeur de données aura l'option "Consortium de lutte contre le SIDA" pour la catégorie **Partenaire d'implémentation**, et l'option "Améliorer l'accès aux médicaments" pour la catégorie **Projet**. Il y aura également une base de données **combinaison d'options de catégorie** indiquant "Partenaire d'implémentation, améliorer l'accès aux médicaments". La valeur de données fait référence à cette combinaison d'options de catégorie d'attribut dans le **attributeoptioncomboid** :

<table width="100%">
<colgroup>
<col style="width: 18%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 7%" />
<col style="width: 27%" />
<col style="width: 28%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>dataelementid</p></td>
<td><p>periodid</p></td>
<td><p>sourceid</p></td>
<td><p>value</p></td>
<td><p>categoryoptioncomboid</p></td>
<td><p>attributeoptioncomboid</p></td>
</tr>
</tbody>
</table>

> **Remarque**
>
> La liste de colonnes ci-dessus n'inclut pas toutes les colonnes du tableau de valeurs de données.

Si vous n'avez pas défini de combinaison de catégories de désagrégation pour un élément de données, le categoryoptioncomboid fera référence à une combinaison d'options de catégorie « par défaut », qui est définie en interne dans DHIS2 comme la catégorie par défaut avec l'option par défaut (la seule option dans la catégorie par défaut). De même, si vous n'avez pas défini de combinaison de catégories d'attributs pour l'ensemble de données dans lequel vous entrez les données, l'attributattributoptioncomboid fait référence à la même combinaison d'options de catégorie « par défaut ».

Nous espérons que cette enquête sur la manière dont les valeurs de données sont stockées dans la base de données DHIS2 permet de mieux comprendre comment les valeurs de données peuvent être associées à divers groupes d'options de catégorie, non seulement à partir de catégories de désagrégation mais aussi de catégories d'attributs.

# Modèle de relation { #relationship_model }

<!--DHIS2-SECTION-ID:relationship_model-->

Une relation est un lien entre deux entités dans le modèle Tracker. Une relation est considérée comme une donnée dans DHIS2 et est basée sur un type de relation, de la même manière qu'une instance d'entité suivie est basée sur un type d'entité suivie.

Les relations comprennent toujours deux entités, et ces entités peuvent inclure des instances d'entités suivies, des inscriptions et des événements, et toute combinaison de ceux-ci. Notez que toutes ces combinaisons ne sont pas disponibles dans les applications actuelles.

En outre, les relations peuvent être définies comme unidirectionnelles ou bidirectionnelles. La seule différence fonctionnelle est qu'elles nécessitent actuellement différents niveaux d'accès pour être créées. Les relations unidirectionnelles exigent que l'utilisateur ait un accès en écriture de données à l'entité "de départ" et un accès en lecture de données à l'entité "d"arrivée", tandis que les relations bidirectionnelles exigent un accès en écriture de données pour les deux.

## Type de relation { #relationship_model_relationship_type }

<!--DHIS2-SECTION-ID:relationship_model_relationship_type-->

Un type de relation est la définition des propriétés que possède une relation. Les relations sont toujours composées de deux côtés, appelés "de" et "à", et les entités qui peuvent être contenues pour chaque côté sont déterminées par le type de relation. Les propriétés qui déterminent ce que chacun des côtés peut contenir sont appelées contraintes, respectivement deContrainte et àContrainte. Ces contraintes sont importantes lorsque l'on travaille plus tard avec les données, pour comprendre ce qu'une relation peut et ne peut pas contenir.

Chacune des contraintes définies dans le type de relation est constituée de plusieurs propriétés. La propriété principale est l'entité relationnelle, qui décide du type d'entités que la relation peut contenir. Les entités peuvent être l'une des suivantes pour chaque contrainte :

-   Instance d'entité suivie
-   Inscription
-   Événement

Selon le type d'entité de relation que vous sélectionnez, vous pouvez choisir des limitations supplémentaires pour chaque contrainte. Le tableau suivant explique les différentes combinaisons que vous pouvez configurer :

|                     | Instance d'entité suivie | Inscription | Événement    |
| ------------------- | ----------------------- | ---------- | -------- |
| Type d'entité suivie | Obligatoire                | Facultatif   | -        |
| Programme             | -                       | Obligatoire   | -        |
| Étape du programme       | -                       | Obligatoire   | Facultatif |

Ces limitations supplémentaires exigeront que l'entité corresponde à la limitation fixée avant de pouvoir être créée. Par exemple, si votre relation est entre une mère et un enfant, les deux contraintes auront leur type d'entité suivie requise fixée à Personne et pourraient facultativement fixer l'Inscription au Programme de santé maternelle et au Programme pour enfants respectivement. De cette façon, seules les instances d'entité suivie de type Personne et inscrites au programme requis peuvent être incluses dans ces relations.

En plus des contraintes qu'un type de relation peut avoir, chaque relation peut être définie comme bidirectionnelle, vraie ou fausse. Si la propriété est définie sur fausse, les relations sont alors considérées comme unidirectionnelles. Comme mentionné précédemment, la seule différence fonctionnelle entre ces relations est la rigueur de l'accès lors de leur création ou de leur mise à jour - la bidirectionnelle étant la plus stricte. Les relations sont également présentées différemment dans l'IU selon que la relation est bidirectionnelle ou unidirectionnelle.

Une chose importante que l'on doit noter à propos des relations bidirectionnelles, c'est que les côtés "de" et "à" sont toujours significatifs dans la base de données, ce qui signifie que chaque entité doit correspondre à la contrainte pour ce côté. Cependant, du point de vue de l'utilisateur, le côté dans lequel chaque entité est stockée est négligeable.

# Glossaire du DHIS2 { #dhis2_glossary }

## A { #a }

Agrégation : dans le contexte de DHIS2, l'agrégation fait référence à la manière dont les éléments de données sont combinés au sein d'une relation hiérarchique particulière. Par exemple, tous les établissements de santé d'un district donné contribueront à la valeur totale du district en question. Différents opérateurs d'agrégation sont pris en charge dans DHIS2, tels que la SOMME, la MOYENNE et le COMPTE.

Analytique : L'analytique fait référence au processus qui traite et prépare les données qui ont été introduites dans le DHIS2 dans un format qui convient mieux à l'extraction d'indicateurs et de données agrégées. Lorsque les données sont introduites dans le DHIS2, elles sont stockées dans un format optimisé pour l'écriture des données. Cependant, lorsque les données doivent être transformées en indicateurs ou agrégées (par exemple de mois en trimestres), il est plus efficace de transformer et de stocker ces données dans un format différent, optimisé pour les opérations en mode lecture uniquement. Le système analytique du DHIS2 est largement utilisé par les applications analytiques (SIG, tableau croisé dynamique, rapports d'événements, etc.).

    Il est important de garder à l'esprit que puisque les données qui ont été
saisies dans DHIS2 doivent être traitées dans un format analytique, les 
données qui apparaissent dans les applications d'analyse ne représentent que les données
qui étaient présentes dans le système lors de la dernière exécution de l'analyse. Si 
des données ont été saisies après cette date, il faudra relancer les analyses 
pour que ces données apparaissent les applications d'analyse.

Données agrégées : Dans le contexte du DHIS2, les données agrégées font référence à des éléments de données ou à des indicateurs qui sont dérivés d'autres sources de données hiérarchiques. Par exemple, les données agrégées d'un établissement résulteraient des totaux agrégés de tous les patients qui ont fréquenté cet établissement pour un service particulier. Les données agrégées sur les districts résultent des totaux agrégés de tous les établissements relevant d'un district particulier.

Interface de programmation d'applications : une interface de programmation d'applications est une spécification de comment les différents composants d'un logiciel doivent interagir entre eux. L'API du DHIS2 (ou WebAPI) peut être utilisée pour relier le DHIS2 à d'autres logiciels, pour créer des rapports ou des formulaires de saisie de données personnalisés.

Approbations : Les approbations peuvent être utilisées pour contrôler la visibilité et la modifiabilité des données. Lorsque des données proviennent du niveau de reporting le plus bas, elles peuvent être approuvées par le niveau immédiatement supérieur. Cette approbation a deux effets :

1. Il n'est plus possible d'éditer les données dans les écrans de saisie au niveau inférieur.

2. En fonction des paramètres du système qui ont été activés, les 
données deviennent visibles au niveau de l'approbation.

Par exemple, les données sont saisies au niveau de l'établissement, puis soumises à l'approbation. Une fois les données approuvées au niveau du district, les données seront verrouillées dans les écrans de
saisie des données au niveau de l'établissement. Elles deviendront également visibles dans les applications d'analyse pour les utilisateurs du district.

## B { #b }

Bimensuel : Se réfère à une période de deux mois, par exemple du 1er janvier au 28 février.

## C { #c }

Catégorie : Les catégories sont des groupes d'options de catégorie. Elles sont utilisées en combinaison pour désagréger les éléments de données. Les catégories sont généralement un seul type de concept, tel que l'"âge" ou le "sexe".

Combinaisons de catégories : Les combinaisons de catégories sont utilisées pour désagréger les éléments de données. Par exemple, la donnée "Nombre de cas confirmés de paludisme" peut être subdivisée en deux catégories : "Âge" et "Sexe". Chacune de ces catégories comprendrait à son tour plusieurs options de catégorie, telles que "Homme" et "Femme" pour la catégorie du sexe. Les combinaisons de catégories peuvent comprendre une ou plusieurs catégories.

Options de combinaison de catégories : Les options de combinaison de catégories sont composées dynamiquement de toutes les différentes combinaisons d'options de catégories qui composent une combinaison de catégories. Par exemple, deux catégories "Sexe" et "Âge" peuvent avoir des options telles que "Homme" ou "Femme" et "<5 ans" ou ">5 ans". Les options de la combinaison de catégories seraient alors les suivantes :

- Homme <5 ans
- Homme >5 ans
- Femme <5 ans
- Femme >5 ans

Option de catégorie : Les options de catégorie sont des éléments atomiques qui sont regroupés en catégories.

Valeurs séparées par des virgules : Les valeurs séparées par des virgules sont des séries de données tabulaires stockées dans un format de texte brut. Elles sont couramment utilisées dans DHIS2 pour exporter et importer des valeurs de données.

## D { #d }

Dictionnaire de données : collection d'éléments de données et d'indicateurs pouvant être échangés avec d'autres systèmes DHIS2. Généralement utilisé pour définir un ensemble d'éléments de données et d'indicateurs lors de la configuration du système DHIS2.

Format d'échange de données : Dans le contexte de DHIS2, le "format d'échange de données" fait référence à un schéma XML qui permet le transport de données et de métadonnées entre des instances DHIS2 déconnectées, ainsi qu'entre différentes applications qui prennent en charge le schéma DXF.

Datamart : Ensemble de tables de base de données dans DHIS2 qui contient des éléments de données traités et des valeurs d'indicateurs générés sur la base de règles d'agrégation et de formules d'éléments de données et d'indicateurs calculés. Les tables Datamart sont utilisées pour l'analyse et la production de rapports. En règle générale, les utilisateurs ne doivent pas travailler directement avec des valeurs de données non agrégées, mais plutôt avec des valeurs résultant d'une exportation de datamart pour analyse.

Élément de données : Un élément de données est la composante fondamentale du DHIS2. Il s'agit d'une unité atomique de données ayant une signification bien définie. Il s'agit essentiellement d'une valeur de données qui a été effectivement observée ou enregistrée et qui est caractérisée par un certain nombre de dimensions. Par exemple, l'élément de données "Nombre d'enfants complètement vaccinés" se réfère au nombre d'enfants qui ont reçu ce service particulier. Les éléments de données sont toujours liés à une période et à une unité organisationnelle. Ils peuvent éventuellement être liés à d'autres dimensions.

Groupe d'éléments de données : les groupes d'éléments de données sont utilisés pour classer plusieurs éléments de données selon un thème commun, tel que "Immunisation" ou "ART". Ils sont généralement utilisés lors de la rédaction de rapports et de l'analyse pour analyser conjointement des éléments de données apparentés.

Groupes d'éléments de données : les groupes d'éléments de données sont utilisés pour classer plusieurs groupes d'éléments de données dans un thème commun.

Dimension : Une dimension est utilisée pour catégoriser les éléments de données au cours de l'analyse. Les dimensions fournissent un mécanisme permettant de regrouper et de filtrer les données sur la base de caractéristiques communes. En règle générale, les éléments de données connexes peuvent être agrégés ou filtrés au cours de l'analyse à l'aide de dimensions. Les dimensions peuvent faire partie d'une hiérarchie. Par exemple, la dimension "Période" peut être décomposée en "Jour>Mois>Trimestre>Année".

DXF

## H { #h }

Système d'information sur la gestion de la santé : Il s'agit généralement d'un système de base de données électronique utilisé pour enregistrer des données agrégées sur la prestation de services, l'incidence des maladies, les données relatives aux ressources humaines et d'autres informations utilisées pour évaluer la performance de la prestation de services de santé. En règle générale, un HMIS ne contient pas les données très détaillées des systèmes de dossiers médicaux électroniques ou les données individuelles des patients.

## I { #i }

Indicateur : Le diviseur d'un indicateur. Peut être composé de plusieurs éléments de données à l'aide d'une formule d'indicateur.

\[
Indicateur = {\frac{Numéroteur}{Dénominateur}}
\]

Il s'agit évidemment d'un exemple très général. Le numérateur et 
l'indicateur peuvent eux-mêmes être composés de divers éléments de données,
facteurs et des quatre opérandes de base (addition, multiplication,
division et soustraction).

## N { #n }

Numérateur : Le dividende d'un indicateur. Peut être composé de plusieurs éléments de données et de facteurs en utilisant des formules d'indicateurs.

## O { #o }

Unité organisationnelle : Une unité organisationnelle est généralement une unité géographique qui existe au sein d'une hiérarchie. Par exemple, aux États-Unis, la "Géorgie" serait considérée comme une unité organisationnelle au niveau de l'unité organisationnelle de l'"État". Les unités organisationnelles peuvent également être utilisées pour spécifier une unité administrative, telle qu'un service hospitalier. La dimension de l'unité organisationnelle spécifie essentiellement _où_ se trouve une valeur de données particulière.

Niveau de l'unité organisationnelle : Désigne un niveau au sein d'une hiérarchie organisationnelle. En règle générale, les pays sont administrés à différents niveaux, tels que 1) le pays 2) les États 3) les cantons 4) Établissements de santé. Dans le contexte du DHIS2, les établissements de santé constituent généralement le niveau d'unité organisationnelle le plus bas. Les données sont agrégées de façon ascendante, du niveau le plus bas de l'unité organisationnelle au niveau le plus élevé.

## P { #p }

Période : Une période est un intervalle de temps spécifique composé d'une date de début et d'une date de fin. Par exemple, "janvier 2011" se réfère à l'intervalle de temps du 1er janvier 2011 au 31 janvier 2011.

## U { #u }

Identifiant unique : Un identifiant unique (UID) est une série semi-aléatoire de lettres et de chiffres utilisée par DHIS2 pour identifier des ressources spécifiques. Les UID commencent par une lettre et sont suivis d'exactement 10 lettres ou chiffres.

# À propos du serveur de démo, du paquet DHIS Live et de la conception de base de données { #moare_about_dhis2_server_database }

## Utilisation du serveur de démonstration de DHIS2 { #using-the-dhis2-demo-server }

L'équipe DHIS2 dispose d'un serveur de démonstration à l'adresse <https://play.dhis2.org/demo>. C'est de loin la moyen le plus simple pour essayer DHIS2. Il suffit d'ouvrir le lien dans votre navigateur web et vous connecter nom d'utilisateur = admin et mot de passe = district.

> **Note**
>
> Toutes les modifications effectuées sur ce serveur sont supprimées chaque nuit, donc n'enregistrez pas de travail important sur ce serveur. Il est strictement réservé à des fins de démonstration\!

## Utilisation du paquet DHIS2 Live { #mod2_1 }

### Démarrer le paquet DHIS2 Live { #starting-the-dhis2-live-package }

Le paquet DHIS2 Live est le moyen le plus simple d'utiliser DHIS2 en local sur votre ordinateur. DHIS2 Live convient pour une installation locale et  pour des démos. Il suffit de télécharger l'application à partir de [lien](http://www.dhis2.org/downloads). Une fois le fichier téléchargé, vous pouvez simplement double-cliquer sur le fichier téléchargé, et commencer à utiliser DHIS2.

#### Les prérequis à l'utilisation de DHIS2 Live { #prerequisites-for-dhis2-live }

Vous devez vous assurer d'avoir une version actuelle de Java Runtime installée sur votre machine. Selon votre système d'exploitation, il existe différentes méthodes pour installer Java. Le lecteur est invité à consulter ce [site web](http://java.sun.com/javase/downloads/index.jsp) pour plus détails sur l'installation de Java.

#### Démarrer avec une base de données vide { #starting-up-with-a-blank-database }

Le paquet DHIS2 Live inclut une base de données de démonstration semblable à celle que vous trouvez sur la [démo en ligne](http://apps.dhis2.org/demo/) (qui est inspirée du SNIS de la Sierra Leone), et si vous souhaitez commencer avec un système/base de données vide et créer votre propre système vous devez procéder comme suit:

1\) Arrêtez DHIS2 Live s'il est en cours d'exécution. Faites un clic droit sur l'icône dans la barre des tâches et sélectionnez Quitter. La barre des tâches est le symbole vert en bas à droite de votre écran (sous Windows) qui devrait afficher 'Serveur DHIS2 en cours d'exécution' quand vous passer votre curseur de votre souris sur l'icône.

2\) Ouvrez le dossier dans lequel le paquet DHIS2 Live est installé et localisez le dossier nommé "conf".

3\) Dans conf/ ouvrez le fichier appelé 'hibernate.properties' dans un éditeur de texte, (notepad ou autre) et effectuez la modification suivante: localisez la chaîne 'jdbc:h2:./database/dhis2' et remplacez de la partie 'dhis2' par un nom que vous souhaitez donner à votre base de données. (par exemple dhis2_test).

4\) Enregistrez et quittez le fichier hibernate.properties.

5\) Démarrez DHIS2 Live en double-cliquant sur le fichier dhis2-live.exe qui se trouve dans le dossier d'installation de DHIS2 Live ou en utilisant un raccourci sur le bureau ou bien un lien de menu que vous auriez éventuellement créé.

6\) Attendez que la fenêtre du navigateur s'ouvre et que l'écran de connexion s'affiche, puis connectez-vous avec le nom d'utilisateur : admin et le mot de passe : district

7\) Vous allez maintenant voir un système DHIS2 complètement vide et vous devriez commencer par ajouter vos utilisateurs, votre hiérarchie organisationnelle, vos éléments de données, vos ensembles de données, etc. Veuillez vous référer aux autres sections du manuel de l'utilisateur pour savoir comment procéder.

### Télécharger et installer la version serveur { #downloading-and-installing-the-server-version }

La dernière version stable de la version serveur peut être téléchargée à partir de ce [site web](http://stable.dhis2.org/). Pour plus d'informations sur son installation, veuillez vous reporter au chapitre sur l'installation dans le manuel de mise en œuvre.

## Se connecter à DHIS2 { #mod2_2 }

Que vous ayez installé la version serveur ou la version live sur  votre ordinateur de bureau, vous devrez utiliser un navigateur web pour vous connecter à l'application. DHIS2 devrait être compatible avec les versions récentes de navigateurs. Cependant, vous devez vous assurer que Java Script est activé.

Pour vous connecter à l'application, entrez simplement <http://localhost:8080/dhis> si vous utilisez le paquet DHIS2 Live, ou remplacez `localhost` par le nom ou l'adresse IP du serveur sur lequel la version serveur est installée.

Dès que vous avez démarré DHIS2, connecté ou déconnecté, l'écran qui s'affiche vous invite à entrer votre nom d'utilisateur et mot de passe enregistrés. Après avoir entré les informations nécessaires, cliquez sur le bouton de connexion pour vous connecter à l'application. Le nom d'utilisateur et mot de passe par défaut sont 'admin' et 'district'. Ils doivent être modifiés dès la première connexion.

![](resources/images/getting_started/login.png)

Vous pouvez sélectionner la langue dans laquelle vous souhaitez utiliser DHIS2 à partir de la boîte de dialogue "Changer de langue" en bas de l'écran. Il faut toutefois noter que certaines langues ne sont pas disponibles.

Au cas où vous avez oublié votre mot de passe, vous pouvez cliquer sur le lien "Mot de passe oublié". Vous devez avoir préalablement entré votre adresse électronique sur DHIS2 et le serveur doit être correctement configuré pour envoyer des emails.

Si vous souhaitez créer votre propre compte (ce que l'administrateur du serveur permet), cliquez simplement sur "Créer un compte" et suivez les instructions.

Une fois connecté à DHIS2, reportez-vous aux sections spécifiques de ce manuel pour savoir les différentes fonctionnalités disponibles.

## Se déconnecter de DHIS2 { #mod2_4 }

Cliquez simplement sur Profil puis sur "Se déconnecter" en haut à droite dans le menu de DHIS2.

## Brève introduction à la conception d'une base de données DHIS2 { #database_design }

DHIS2 fournit un ensemble puissant d'outils pour la collecte, la validation, le rapport et l'analyse des données, mais le contenu de la base de données, par exemple ce qu'il faut collecter, qui doit le faire et sous quel format, dépendra du contexte d'utilisation. Toutefois, pour faire quoi que ce soit avec le DHIS2, il faut d'abord créer des métadonnées. Les métadonnées, ou données sur les données, décrivent ce qui doit être collecté (éléments et catégories de données), où cela doit être collecté (unités d'organisation) et à quelle fréquence cela doit être collecté (périodes). Ces métadonnées doivent être créées dans la base de données DHIS2 avant de pouvoir être utilisées. Cette opération peut être effectuée par l'intermédiaire de l'interface utilisateur et ne nécessite pas de programmation ni de compétences techniques approfondies du logiciel, mais requiert une bonne compréhension des processus pour lesquels vous essayez de collecter des données.

Cette section est une introduction brève et rapide à la conception d'une base de données DHIS2.  Elle explique également les différentes étapes nécessaires à la préparation d'un nouveau système DHIS2 prêt à être utilisé. Les spécificités de chaque étape sont expliquées dans différents autres chapitres, et les meilleures pratiques en matière de choix de conception sont expliquées dans le manuel d'implémentation. Les étapes à suivre sont donc les suivantes :

1\. Configurez une hiérarchie organisationnelle

2\. Définissez les éléments de données

3\. Définissez les ensembles de données ainsi que les modèles de saisie de données

4\. Définissez les règles de validation

5\. Définissez les indicateurs

6\. Définissez les tableaux de rapports et concevez les rapports

7\. Configurez le module SIG

8\. Concevez des graphiques et personnalisez le tableau de bord

### La hiérarchie organisationnelle { #the-organisational-hierarchy }

La hiérarchie organisationnelle définit l'organisation qui utilise le DHIS2, les établissements de santé, les zones administratives et les autres zones géographiques utilisées pour la collecte et l'analyse des données. Cette dimension  _où _ des données est définie comme une hiérarchie avec une unité racine (par exemple, le ministère de la santé) et un nombre quelconque de niveaux et de nœuds en dessous. Chaque nœud de cette hiérarchie est appelé unité organisationnelle dans le DHIS2.

La conception de cette hiérarchie détermine les unités géographiques d'analyse disponibles à l'utilisateur puisque les données sont collectées et agrégées dans cette structure. Il ne peut y avoir qu'une seule hiérarchie d'organisation à la fois, il faut donc faire attention à sa structure. Des hiérarchies supplémentaires (ex. regroupements administratifs parallèles comme les "Propriétaires d'installations") peuvent être modélisées à l'aide de regroupements organisationnels et d'ensembles de regroupements, mais la hiérarchie organisationnelle représente le principal moyen d'agrégation de données sur la dimension géographique. Les hiérarchies organisationnelles nationales typiques dans le domaine de la santé publique ont 4-6 niveaux, mais peuvent prendre en charge n'importe quel nombre de niveaux. La hiérarchie est constituée de relations parents-enfants, ex. Un pays ou une unité MoH (la racine) peut avoir par exemple 8 unités parents (provinces), et chaque province (au niveau 2) peut avoir 10-15 arrondissements comme enfants. Normalement, les structures sanitaires sont localisées dans les niveaux les plus bas, mais elles peuvent également être placées à des niveaux plus élevés comme par exemple, les hôpitaux nationaux ou provinciaux. Les arborescences asymétriques sont donc également supportées (ex. un nœud feuille peut être placé au niveau 2 alors que la plupart des nœuds feuilles sont au niveau 5).

Il existe généralement une hiérarchie géographique définie par le système de santé. Exemple : où se situent les bureaux administratifs (ex. Ministère de la santé, province, arrondissement) ? Cependant, il existe souvent d'autres limites administratives dans le pays qui peuvent être ajoutées ou pas, selon la façon dont elles pourront influencer l'analyse des données. Lors de la conception de la hiérarchie, le nombre d'enfants de toute unité d'organisation peut indiquer l'utilité de la structure. Par exemple, avoir une ou plusieurs relations 1-1 entre deux niveaux n'est pas très utile car les valeurs seront les mêmes pour le niveau enfant et le niveau parent. D'autre part, un très grand nombre d'enfants dans le milieu de la hiérarchie (ex. 50 arrondissements dans la même province) peut nécessiter l'ajout d'un niveau supplémentaire pour augmenter l'utilité de l'analyse des données. Au niveau le plus bas, les établissements médicaux auront souvent un grand nombre d'enfants (10-60), mais pour les autres niveaux plus haut dans la hiérarchie, il est recommandé d'avoir environ 5-20 enfants. Trop peu ou trop d'enfants pourrait indiquer qu'un niveau doit être supprimé ou ajouté.

Il convient de noter qu'il est facile et pratique d'apporter ultérieurement des modifications aux niveaux supérieurs de la hiérarchie. Le seul problème reste la modification des unités organisationnelles pour lesquelles on collecte des données (les nœuds feuilles), ex. la scission ou la fusion de structures sanitaires. L'agrégation dans la hiérarchie s'effectue à tout moment en fonction de la hiérarchie actuelle et reflète toujours les modifications les plus récentes apportées à la structure organisationnelle. Reportez-vous au chapitre sur les unités d'organisation pour apprendre à créer des unités d'organisation et construire la hiérarchie.

### Éléments de donnée { #data-elements }

L'élément de données est peut-être l'élément le plus important d'une base de données DHIS2. Il représente la dimension _quoi_, il explique ce qui est collecté ou analysé. Dans certains contextes, on parle d'indicateur, mais dans DHIS2, nous appelons cette unité de collecte et d'analyse un _élément de données_. L'élément de données représente souvent un comptage de quelque chose, et son nom décrit ce qui est compté, par exemple "doses de BCG administrées" ou "cas de paludisme". Lorsque des données sont collectées, validées, analysées, rapportées ou présentées, les éléments de données ou les expressions construites à partir des éléments de données décrivent ce que sont les données. En tant que tels, les éléments de données deviennent importants pour tous les aspects du système et ils déterminent non seulement la manière dont les données sont collectées, mais surtout la manière dont les valeurs des données sont représentées dans la base de données, ce qui détermine également la manière dont les données peuvent être analysées et présentées.

Il est possible d'ajouter plus de détails à cette dimension _quoi_ grâce à la dimension de désagrégation appelée catégories d'éléments de données. Les catégories les plus courantes sont l'âge et le sexe, mais l'utilisateur peut ajouter n'importe quelle catégorie et la lier à des éléments de données spécifiques. La combinaison du nom d'un élément de données et de la catégorie qui lui est attribuée définit la plus petite unité de collecte et d'analyse disponible dans le système et décrit donc les données brutes de la base de données. Il est possible de procéder à des agrégations en effectuant un zoom arrière sur cette dimension, mais il n'est pas possible d'aller plus loin, de sorte que la conception des éléments de données et des catégories définit le détail de l'analyse dont dispose le système (sur la dimension _quoi_). Les modifications apportées aux éléments de données et aux catégories à un stade ultérieur du processus peuvent s'avérer compliquées car elles changeront la signification des valeurs de données déjà saisies dans la base de données (s'il y en a). Cette étape est donc l'une des plus décisives et des plus prudentes du processus de conception de la base de données.

L'une des meilleures méthodes de conception d'éléments de données consiste à les considérer comme une unité d'analyse de données et non seulement comme un champ dans le formulaire de collecte de données. Chaque élément de données vit indépendamment dans la base de données, complètement détaché du modèle de collecte. Les rapports et autres résultats sont basés sur des éléments de données et des expressions/formules composées d'éléments de données et non sur les modèles de collecte de données. Les besoins en analyse de données devraient donc guider le processus, et non les modèles de collecte de données. Une règle simple est que le nom de l'élément de données doit être autonome et pouvoir décrire la valeur de données même en dehors du contexte de son modèle de collecte. Par exemple, un nom d'élément de données tel que "références totales" parait logique lorsque vous le regardez soit sous l'angle de modèle "RCH" ou de modèle "OPD" , mais le nom tout seul ne décrit pas uniquement les phénomènes (qui sont ces référés ?), et devrait plutôt être appelé "Références totale de Maternité" ou "Références totales de OPD". Deux éléments de données différents avec des significations différentes, bien que le champ du modèle de saisie indique uniquement "Références totales" puisque l'utilisateur du modèle saura toujours d'où viennent ces références. Dans une base de données ou un référentiel d'éléments de données, ce contexte n'est plus valide et les noms des éléments de données deviennent donc importants dans la description des données.

Les propriétés communes des éléments de données peuvent être modélisées à partir de ce qu'on appelle des groupes d'éléments de données. Ces groupes sont complètement flexibles car leurs noms et la composition de leurs membres sont définis par l'utilisateur. Les groupes sont utiles non seulement pour parcourir et présenter des données connexes, mais il peuvent également être utilisés pour agréger des éléments de données. Les groupes sont faiblement couplés de façon lâche aux éléments de données et ne sont pas directement liés aux valeurs de données, ce qui signifie qu'ils peuvent être modifiés et ajoutés à tout moment sans interférer avec les données brutes.

### Ensemble de données et formulaires de saisie de données { #datasets-and-data-entry-forms }

Toute la saisie de données dans DHIS2 est organisée à l'aide d'ensembles de données. Un ensemble de données est une collection d'éléments de données regroupés pour la collecte de données. Dans le cas d'installations distribuées, ils définissent également des blocs de données destinés à l'exportation et à l'importation entre des instances de DHIS2 (ex. d'une installation locale d'un bureau d'arrondissement vers un serveur national). Les ensembles de données ne sont pas directement liés aux valeurs de données, mais uniquement par le biais de leurs éléments de données et de leurs fréquences. De ce fait, un ensemble de données peut être modifié, supprimé ou ajouté à tout moment sans affecter les données brutes déjà stockées dans le système, même si ces modifications vont sans doute affecter la façon dont les nouvelles données seront collectées.

Un ensemble de données a un type de période, qui contrôle la fréquence de collecte des données, qui peut être quotidienne, hebdomadaire, mensuelle, trimestrielle, semestrielle ou annuelle. Les éléments de données à inclure dans l'ensemble de données et le type de période sont définis par l'utilisateur, ainsi qu'un nom, un nom abrégé et un code.

Pour utiliser un ensemble de données dans la collecte des données pour le compte d'une unité d'organisation spécifique, cette dernière doit être affectée à l'ensemble de données. Ce mécanisme détermine quelles unités d'organisation peuvent utiliser quels ensemble de données et définit simultanément les valeurs cibles pour la complétude des données (exemple : combien de structures sanitaires sont censées soumettre des données RCH tous les mois ?).

Un élément de donnée peut appartenir à plusieurs ensembles de données, mais cela nécessite une réflexion approfondie, car il peut entraîner un chevauchement et une inconstance des données collectées si les ensembles de données ont par exemple des fréquences différentes et sont utilisés par les mêmes unités d'organisation.

#### Modèles de saisie de données { #data-entry-forms }

Une fois que vous avez affecté un ensemble de données à une unité d'organisation, cet ensemble de données sera disponible dans Saisie de données (sous Service) pour les unités d'organisation auxquelles vous l'avez affecté et pour les périodes valides, en fonction du type de période de l'ensemble des données. Un formulaire de saisie de données par défaut s'affichera. Il s'agit tout simplement d'une liste d'éléments de données appartenant à l'ensemble de données et comportant une colonne pour la saisie des valeurs. Si votre ensemble de données contient des éléments de données avec des catégories telles que des groupes d'âge ou de sexe, des colonnes supplémentaires seront automatiquement générées dans le formulaire par défaut en fonction des catégories. En plus du formulaire de saisie de données basé sur une liste par défaut, il existe deux alternatives supplémentaires : le formulaire par section et le formulaire personnalisé.

##### Formulaires à section { #section-forms }

Les formulaires à section offrent plus de flexibilité lorsqu'il s'agit d'utiliser des formes tabulaires et sont rapides et simples à concevoir. Votre formulaire de saisie de données nécessite souvent plusieurs tableaux avec sous-titres, et vous devez parfois désactiver (griser) quelques champs du tableau (Exemple : certaines catégories ne s'appliquent pas à tous les éléments de données). Ces deux fonctions sont prises en charge dans les formulaires à section. Après avoir défini un ensemble de données, vous pouvez définir ses sections avec des sous-ensembles d'éléments de données, une en-tête et d'éventuels champs gris dans le tableau de la section. L'ordre des sections dans un ensemble de données peut également être défini. Dans Saisie de Données, vous pouvez maintenant commencer à utiliser le formulaire à Section ( il devrait apparaître automatiquement lorsque des sections sont disponibles pour l'ensemble de données sélectionné). Vous pouvez basculer entre le formulaire par défaut et le formulaire à section dans dans le coin supérieur droit de l'écran de saisie. La plupart des formulaires de saisie de données tabulaires doivent être possibles avec des modèles à section, et plus vous utilisez les formulaires à section (ou formulaires par défaut) plus cela devient facile. Au cas où ces deux types de formulaires ne répondent pas à vos exigences, la troisième option est le formulaire de saisie de données personnalisé, plus flexible même s'il prend beaucoup plus de temps.

##### Formulaires personnalisés { #custom-forms }

Lorsque le formulaire que vous souhaitez concevoir est trop compliqué pour les formulaires par défaut ou à section, votre dernière option reste l'utilisation d'un formulaire personnalisé. Cela prend plus de temps, mais vous donne une flexibilité totale en termes de conception. DHIS2 dispose d'un éditeur HTML intégré (FcK Editor) pour le concepteur de formuaire qui permet de concevoir le formulaire dans l'IU (interface utilisateur) ou de coller directement votre code HTML à l'aide de la fenêtre Source dans l'éditeur. Dans le formulaire personnalisé, vous pouvez insérer un texte statique ou des champs de données (liés à des éléments de données + la catégorie) à n'importe quelle position sur le formulaire et vous êtes totalement libre de concevoir la mise en page du formulaire. Une fois qu'un formulaire personalisé a été ajouté à un ensemble de données, il sera disponible dans la saisie de données et pourra être utilisé automatiquement. Vous pouvez revenir aux formulaires par défaut ou à section (s'il en existe) dans le coin supérieur droit de l'écran de saisie.

### Règles de validation { #validation-rules }

Une fois que vous avez configuré la partie du système relative à la saisie de données et commencé à collecter des données, il est donc temps de définir des règles de contrôle de la qualité des données permettant d'améliorer la qualité des données collectées. Vous pouvez alors ajouter autant de règles de validation que vous voulez. Celles-ci sont composées d'expressions de gauche et de droite qui, elles aussi, sont composées d'éléments de données, avec un opérateur entre les deux côtés. Les règles typiques consistent à comparer les totaux partiels aux totaux de quelque chose. Si vous avez par exemple deux éléments de données "Tests de dépistage du VIH" et "Résultat positif du test de dépistage", vous savez alors que dans le même formulaire (pour la même période et la même unité d'organisation), le nombre total de tests doit toujours être supérieur ou égal au nombre de tests positifs. Ces règles doivent être des règles absolues, ce qui signifie qu'elles sont mathématiquement correctes et non pas simplement des hypothèses ou sont "la plupart du temps correctes". Les règles peuvent être exécutées lors de la saisie de données, après le remplissage de chaque formulaire, ou dans un processus plus complexe dans plusieurs formulaires à la fois. Exemple : pour toutes les structures sanitaires du mois précédent, les résultats des tests listeront toutes les violations et les valeurs détaillées pour chaque côté de l'expression où la violation s'est produite pour faciliter le retour à la saisie des données et corriger les valeurs.

### Indicateurs { #indicators }

Les indicateurs représentent peut-être la plus puissante fonctionnalité d'analyse de données de DHIS2. Alors que les éléments de données représentent les données brutes (comptes) collectées, les indicateurs représentent des formules fournissant des taux de couverture, des taux d'incidence, des ratios et d'autres unités d'analyse basées sur une formule. Un indicateur est composé d'un facteur (Exemple : 1,100, 100, 100 000), d'un numérateur et d'un dénominateur. Les deux derniers sont tous deux des expressions basées sur un ou plusieurs éléments de données. Exemple : l'indicateur "Couverture du BCG \<1 an" est défini par une formule avec un facteur 100, un numérateur ("Les doses BCG administrées aux enfants de moins de 1") et un dénominateur ("Population cible de moins de 1 an"). L'indicateur "Taux d'abandon de DPT1 à DPT3" est une formule de 100% x ("Doses de DPT1 administrées" - "Doses de DPT3 administrées") / ("Doses de DPT1 administrées").

La plupart des modules de rapport dans DHIS2 prennent en charge les éléments de données et les indicateurs et vous pouvez également les combiner dans des rapports personnalisés, mais la différence et la puissance des indicateurs par rapport aux données brutes (valeurs de données de l'élément de donnée) réside dans la possibilité de comparer des données entre différentes zones géographiques. (Exemple : zones très peuplées ou rurales), la population cible pouvant être utilisée comme dénominateur.

Les indicateurs peuvent être ajoutés, modifiés et supprimés à tout moment sans interférer avec les valeurs de données contenues dans la base de données.

### Tableaux et rapports { #report-tables-and-reports }

Les rapports standards dans DHIS2 constituent un moyen très flexible de présenter les données collectées. Les données peuvent être agrégées par n'importe quel niveau ou unité d'organisation, par élément de donnée, par indicateur, ainsi que dans le temps (mensuellement, trimestriellement, annuellement). Les tableaux de rapports représentent des sources de données personnalisées pour les rapports standards. Ils peuvent être définis de manière flexible dans l'interface utilisateur, puis accessibles via des concepteurs de rapports externes tels que iReport ou via des rapports HTML personnalisés. Ces conceptions de rapport peuvent ensuite être configurées comme des rapports facilement accessibles en un clic avec des paramètres afin que les utilisateurs puissent exécuter les mêmes rapports comme par exemple, tous les mois, lorsque de nouvelles données sont saisies. Elles peuvent également répondre aux besoins des utilisateurs à tous les niveaux, puisque l'unité d'organisation peut être sélectionnée au moment de l'exécution du rapport.

### SIG { #gis }

Dans le module SIG intégré, vous pouvez facilement afficher vos données sur des cartes, à la fois sur des polygones (zones) et sous forme de points (structures sanitaires), et soit en tant qu'éléments de données ou en tant qu'indicateurs. En fournissant les coordonnées de vos unités d'organisation au système, vous pouvez rapidement vous adapter à ce module. Voir la Section SIG pour plus de détails sur la façon de vous y prendre.

### Diagrammes et tableau de bord { #charts-and-dashboard }

L'un des moyens les plus faciles d'afficher les données de votre indicateur est d'utiliser des graphiques. Un dialogue de diagramme facile à utiliser vous guidera dans la création de divers types de diagrammes avec des données sur les indicateurs, les unités d'organisation et les périodes de votre choix. Ces graphiques peuvent facilement être ajoutés à l'une des quatre sections de votre tableau de bord et sont facilement disponibles immédiatement après votre connexion. Assurez-vous de définir le module du tableau de bord comme module de démarrage dans les paramètres utilisateur.

# Tutoriels sur le DHIS2 { #dhis2_tutorials }

## Créer des tableaux de bord à l'aide de l'application Tableau croisé dynamique { #create-scorecards-pivot-table }

**\*Définition de tableaux de bord  :** Dans les services de santé publique tels que les ministères de la santé, les tableaux de bord proposent une méthode utile et normalisée pour combiner des indicateurs connexes dans un seul tableau. Un tableau de bord donne une vision globale des performances d'un programme de santé tel qu'un programme de vaccination, en mettant en évidence les succès, les faiblesses et les points à améliorer. Voici donc à quoi ressemble un tableau de bord :\*

![](resources/images/tutorials/scorecards_pivot_result.png)

Ce tutoriel explique comment créer un tableau de bord dans l'application Tableau croisé dynamique de DHIS2. L'utilisation du tableau croisé dynamique pour la création d'un tableau de bord, par exemple, présente de nombreux avantages tels que :

-   Vous pouvez enregistrer la carte de pointage sur le tableau de bord et l'utiliser hors ligne.

-   Vous pouvez partager la carte de pointage avec d'autres utilisateurs de DHIS2.

Commençons donc !

### Créez une légende pour votre carte de pointage { #create-a-legend-for-your-scorecard }

Tout d'abord, nous allons créer une légende de "feux" en 3 couleurs pour la carte de pointage. Avec ses trois couleurs de base, la carte de pointage devient facile à scanner et à comprendre.

1.  Ouvrez l'application **Maintenance**. Cliquez sur le menu dans le coin supérieur droit et sélectionnez Maintenance dans la liste des applications. Vous pouvez également entrer les premières lettres du mot maintenance dans le champ de recherche pour trouver l'application.

    ![](resources/images/tutorials/scorecards_maintenance_app.png)

2.  Dans l'application Maintenance, faites défiler défiler au bas de la page jusqu'à la section **Autres**.

3.  Allez sur **Legende** et cliquez sur le **+**.

    ![](resources/images/tutorials/scorecards_maintenance_legend.png)

4.  Dans la page **Gestion des légendes**, allez au bas de la page et créez une nouvelle légende en cliquant sur le bouton bleu +.

    ![](resources/images/tutorials/scorecards_maintenance_addbtn.png)

5.  Dans les champs, entrez un nom pour la légende tel que "Feu de signalisation", une valeur de début et une valeur de fin. Les valeurs que vous saisissez ici dépendent des notations que vous souhaitez attribuer à la carte de pointage.

6.  Remplacez **Nombre d'éléments de légende** par 3 pour afficher trois couleurs dans la carte de pointage. Pour modifier les couleurs des éléments de la légende, cliquez sur le bouton bleu + et modifiez ensuite les couleurs.

    ![](resources/images/tutorials/scorecards_maintenance_legend_color.png)

### Créer une carte de pointage dans l'application Tableau croisé dynamique { #create-a-scorecard-in-the-pivot-table-app }

1.  Ouvrez l'application **Tableau croisé dynamique** dans le menu en haut à droite du tableau de bord. Vous pouvez également saisir les premières lettres de Tableau croisé dynamique dans le champ de recherche.

2.  Allez à **Données** dans le volet de gauche et sélectionnez **Indicateurs** dans la liste.

3.  Sélectionnez un **groupe d'indicateurs** tel que "ANC" dans la deuxième liste.

4.  À l'aide des flèches, sélectionnez le type d'indicateurs que vous souhaitez voir figurer dans votre carte de pointage.

    ![](resources/images/tutorials/scorecards_pivot_indicators.png)

5.  Cliquez sur **Mise à jour**. Vous trouverez ce bouton dans le menu en haut de l'espace de travail

6.  Allez à **Périodes** et sélectionnez une période pour laquelle vous souhaitez afficher des données. Dans cet exemple de "feu de signalisation", nous utiliserons la section des périodes relatives. Dans **Trimestre**, sélectionnez **Ce trimestre** et **Le dernier trimestre**. Décochez toutes les cases et cliquez sur **Mise à jour**.

    ![](resources/images/tutorials/scorecards_pivot_period.png)

7.  Dans le même panneau de gauche allez sur **Unités d'organisation**, et cliquez sur la flèche à côté du bouton d'engrenage.

8.  Sélectionnez **Sélectionner les niveaux**.

    ![](resources/images/tutorials/scorecards_pivot_orgunit_level.png)

9.  Sélectionnez **District** dans la liste (à côté du bouton d'engrenage). Cliquez sur **Mettre à jour**.

    ![](resources/images/tutorials/scorecards_pivot_orgunit_level2.png)

Comme vous pouvez le voir, la carte de pointage commence à prendre forme dans l'espace de travail. Il reste maintenant à peaufiner l'aspect et la convivialité.

### Organiser la mise en page et l'affichage de votre carte de pointage { #organise-the-layout-and-display-of-your-scorecard }

1.  Dans l'espace de travail, cliquez sur **Disposition**.

    ![](resources/images/tutorials/scorecards_pivot_layout.png)

2.  Dans **Disposition du tableau**, faites glisser **Unités d'organisation** jusqu'à la section **Dimensions des lignes**.

3.  Faites glisser **Données** dans la section **Dimensions de la colonne**.

4.  Dans le volet **Dimensions de la colonne**, faites glisser **Périodes** sous **Données**, et cliquez sur **Mise à jour**.

5.  Dans l'espace de travail, cliquez sur **Options**.

    ![](resources/images/tutorials/scorecards_pivot_options.png)

6.  Allez dans **Données** et décochez toutes les cases.

7.  Allez sur **Style** \> **Ensemble de légendes** et dans la liste, sélectionnez la légende que vous avez créée dans l'application Maintenance. Dans cet exemple, nous l'avons appelé Feu de signalisation.

8.  Allez sur **Style** \> **Style d'affichage  des légendes** et sélectionnez **Couleur de fond**.

9.  Cliquez sur **Mettre à jour**.

La carte de pointage est donc prête\ !

![](resources/images/tutorials/scorecards_pivot_result.png)

### Enregistrer et partager votre carte de pointage { #save-and-share-your-scorecard }

1.  Dans l'espace de travail, allez au menu **Favoris**.

2.  Cliquez sur **Enregistrer sous**. Entrez un nom pour votre carte de pointage.

3.  Pour partager votre carte de pointage, sélectionnez **Favoris**.

4.  Saisissez le nom d'un groupe d'utilisateurs et cliquez sur **Enregistrer**. Votre carte de pointage peut alors être consulté par les personnes avec lesquelles vous partagez un tableau de bord.

## Travailler avec TextPattern { #working-with-textpattern }

Le TextPattern a été introduit dans la version 2.29 du DHIS2, comme moyen de définir un modèle comprenant des variables, des valeurs générées et du texte brut, qui peut ensuite être généré en une valeur de texte. Le cas d'utilisation actuel de TextPattern est la génération automatique d'attributs pour les entités suivies où vous souhaitez générer par exemple des identifiants uniques basés sur un modèle spécifique.

Ce guide couvre à la fois les thèmes élémentaires et complexes permettant de travailler avec TextPattern, mais se focalise principalement sur la façon dont vous pouvez définir les TextPatterns et sur les limitations ainsi que mises en garde existantes.

### Syntaxe TextPattern { #textpattern-syntax }

Un TextPattern est une séquence de _segments_, reliés entre eux par le caractère "+". Un segment a une notation spécifique et dans la plupart des cas un paramètre _format_, permettant de manipuler la valeur.

<table>
<caption>Segments TextPattern</caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 36%" />
<col style="width: 12%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="header">
<th>Notation des segments</th>
<th>Description</th>
<th>Paramètre (format)</th>
<th>Exemple (segment → valeur d'entrée → résultat)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&quot;Texte simple&quot ;</td>
<td>Le segment de texte simple restera inchangé dans toutes les valeurs générées. Ce segment spécial est défini en mettant le texte entre deux doubles guillemets. Si votre modèle doit inclure des symboles de séparation comme un tiret, vous devez alors utiliser : &quot;-&quot ;.
<p>Le segment de texte simple permet également de mettre du texte en caractères de remplacement. Cela signifie que vous pouvez spécifier que certaines parties du segment de texte simple doivent être constituées d'un ensemble de caractères. Actuellement, vous pouvez utiliser 4 caractères spéciaux :</p>
<ul>
<li><p>\d (0-9)</p></li>
<li><p>\x (a-z)</p></li>
<li><p>\X (A-Z)</p></li>
<li><p>\w (a-zA-Z0-9)</p></li>
</ul></td>
<td>Aucun</td>
<td>&quot;Bonjour le monde&quot ; → Aucun → Bonjour le monde
<p>&quot;Bonjour \x\x\x&quot ; → &quot;Bonjour à vous&quot ; → Bonjour à vous</p>
<p>&quot;\d\d\d&quot; → &quot;123&quot; → 123</p></td>
</tr>
<tr class="even">
<td>CURRENT_DATE(format)</td>
<td>Le segment de la date du jour sera généré par le serveur au moment de la génération. Ceci est utile si vous voulez que vos modèles aient une contrainte de temps déconnectée du contexte. Vous ne devez pas l'utiliser si vous avez besoin de contrôler la date à injecter dans le modèle.</td>
<td>Format de la date</td>
<td>CURRENT_DATE(aaaa) → 01-01-2018 → 2018</td>
</tr>
<tr class="odd">
<td>ORG_UNIT_CODE(format)</td>
<td>Ce segment représente le code d'unité d'organisation associé à la génération.</td>
<td>Format du texte</td>
<td>ORG_UNIT_CODE(...) → OSLO → OSL</td>
</tr>
<tr class="even">
<td>ALÉATOIRE(format)</td>
<td>Les segments aléatoires seront remplacés par une valeur générée de façon aléatoire par le serveur en fonction du format. Les segments générés, comme Aléatoire, fondent leur caractère unique sur le reste du modèle. Cela signifie qu'une valeur aléatoire peut apparaître deux fois, tant que le reste du modèle est différent, ce qui signifie que le texte généré dans son ensemble sera unique.</td>
<td>Format de génération</td>
<td>ALÉATOIRE(X####) → Aucun → A1234</td>
</tr>
<tr class="odd">
<td>SÉQUENTIEL(format)</td>
<td>Les segments séquentiels seront remplacés par un nombre, basé sur une valeur de comptage sur le serveur. Les segments séquentiels commenceront à la valeur 1, et pour chaque valeur générée, ils seront comptés jusqu'à ce qu'il n'y ait plus de valeurs disponibles, en fonction du format. Comme pour les segments aléatoires, l'unicité est basée sur le reste du modèle, donc chaque version possible du modèle aura son propre compteur séquentiel commençant à 1.</td>
<td>Format de génération</td>
<td>&quot;A&quot;+SÉQUENTIEL(###) → Aucun → A001
<p>&quot;A&quot;-SÉQUENTIEL(###) → Aucun → A002</p>
<p>&quot;B&quot;-SÉQUENTIEL(###) → Aucun → B001</p>
<p>&quot;B&quot;-SÉQUENTIEL(###) → Aucun → B002</p></td>
</tr>
</tbody>
</table>

La plupart des segments ont un paramètre _format_, sauf le segment de texte brut. Le tableau suivant énumère les formats disponibles, leur mode d'utilisation et des exemples de notations qui les utilisent.

<table>
<caption>Formats des paramètres</caption>
<colgroup>
<col style="width: 13%" />
<col style="width: 52%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr class="header">
<th>Format</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Format des dates</td>
<td>Ce format est basé directement sur le SimpleDateFormat de java, ce qui signifie que tout modèle valable pour SimpleDateFormat sera valable comme format de date dans TextPattern</td>
<td>DATE_ACTUELLE(jj-MM-aaaa) → 31-12-2018
<p>DATE_ACTUELLE(MM-aaaa) → 12-2018</p></td>
</tr>
<tr class="even">
<td>Format du texte</td>
<td>Le format du texte permet une manipulation de base du texte. Si vous laissez le format vide, la valeur sera renvoyée sans modification, mais en utilisant "^", "." et "&#36 ;", vous pouvez modifier la valeur avant qu'elle ne soit renvoyée. Chaque "." représente un caractère, tandis que "^" représente le début du texte et "&#36 ;" la fin. Lorsque vous utilisez des formats, la valeur saisie doit être au moins de la même longueur que le format format.</td>
<td>
<p>CODE_ORG_UNIT(....) → OSLO</p>
<p>CODE_ORG_UNIT(..) → OS</p>
<p>CODE_ORG_UNIT(..&#36;) → LO</p>
<p>CODE_ORG_UNIT(^...&#36;) → OSLO</p>
<p>^....&#36; exigera que la valeur saisie soit strictement de 4 caractères.</p></td>
</tr>
<tr class="odd">
<td>Format de production</td>
<td>Le format de production accepte une combinaison d'un ou plusieurs des caractères suivants : &quot;#&quot;, &quot;X&quot;, &quot;x&quot; et &quot;*&quot;. Ils représentent respectivement un nombre (0-9), une lettre majuscule (A-Z), une lettre minuscule (a-z) ou l'un des éléments ci-dessus (0-9,a-z,A-Z). Le segment SÉQUENTIEL n'accepte que &quot;#&quot ;, puisqu'il ne génère que des nombres. Le nombre de caractères dans le format décide de la taille de la valeur générée. L'utilisation d'un seul &quot;#&quot ; ne permettra en d'autres termes que 10 valeurs (0-9), tandis que &quot;###&quot ; permettra 1000 valeurs (000-999). Les valeurs générées de façon SÉQUENTIELLE ont des zéros en tête, de sorte que la longueur de la valeur générée correspondra toujours à la longueur du format.</td>
<td>ALÉATOIRE(X###) → A123
<p>ALÉATOIRE(****) → 1AbC</p>
<p>SÉQUENTIEL(###) → 001</p>
<p>SÉQUENTIEL(######) → 000001</p></td>
</tr>
</tbody>
</table>

Quelques points importants à noter concernant les formats :

-   Le format de la date est très flexible, mais  faites attention aux composantes de date ou de temps que vous utilisez. L'utilisation de composantes inférieures à un jour (par exemple les heures ou les secondes) n'est pas recommandée, même si elles sont disponibles.

-   Le format texte permet de marquer à la fois le début et la fin de la valeur saisie, mais "^..." et "..." donneront en réalité exactement les mêmes résultats. Le seul cas où il convient d'utiliser "^" est celui où l'on veut imposer la longueur de la valeur d'entrée. Par exemple, "^....$" acceptera OSLO, puisqu'il y a 4 caractères entre le début et la fin, mais PARIS sera rejeté, puisqu'il a 5 caractères.

-   Lorsque le format texte est utilisé pour des valeurs uniques, comme le code d'unité d'organisation, assurez-vous que le format ne casse pas le caractère unique. (Exemple : CODE_D'UNITE_D'ORG(..) pour "PARIS" et "PANAMA CITY" renvoie PA, ce qui signifie que ces deux unités organisationnelles partagent en réalité les valeurs générées)

-   Le format de génération est le principal moyen de comprendre la capacité de votre modèle. Assurez-vous que le format est suffisamment long pour couvrir plus de valeurs que vous n'en avez besoin.

Pour terminer la section syntaxique du tutoriel, voici quelques exemples de modèle de texte :

    CODE_D'UNITE_D'ORG(...) + "-" + DATE_ACTUELLE(yyyyww) + "-" + SÉQUENTIEL(#####)

Ce modèle aura 99999 valeurs possibles (dans un contexte SÉQUENTIEL. 00000 n'est jamais utilisé puisque nous commençons à 1). En outre, le modèle restant changera pour chaque unité d'organisation différente générant des valeurs (CODE_D'UNITE_D'ORG) et pour chaque semaine (DATE_ACTUELLE(aaaaaww) représente l'année et la semaine). Cela signifie donc que chaque nouvelle semaine, chaque unité d'organisation aura 99999 nouvelles valeurs qu'elle pourra utiliser.

    "ABC_" + ALÉATOIRE(****)

Le segment de texte clair de ce modèle, ne fera aucune différence dans la capacité totale du modèle, mais le segment généré (ALÉATOIRE) permettra 14776336 valeurs possibles. La raison en est que \* peut être n'importe quel caractère parmi les 62 caractères disponibles (0-9, a-z, A-Z). Vous pouvez en savoir plus sur la compréhension de la capacité des modèles plus loin dans le tutoriel.

### Conception d'un modèle de texte pour la génération d'identifiants { #designing-textpattern-for-generating-ids }

Un des cas d'utilisation du TextPattern est la génération d'identifiants uniques. Nous présenterons dans cette partie les lignes directrices ainsi que les problèmes courants liés à la conception de TextPatterns utilisés pour la génération des identifiants.

Un identifiant ne doit jamais contenir d'informations sensibles, ou des informations qui, combinées, permettent d'identifier un individu. Actuellement, TextPattern ne prend pas en charge les segments utilisant ce type de valeurs, mais pourrait toutefois le faire à l'avenir.

La liste ci-après met en évidence certaines des restrictions spécifiques aux TextPattern dont vous devez tenir compte lors de la conception d'un TextPattern pour les identifiants :

-   Assurez-vous que la capacité (nombre de valeurs possibles) du TextPattern couvre votre cas d'utilisation. Il est préférable d'avoir plus de valeurs que nécessaire plutôt que moins. Le suivi des attributs des entités à l'aide de TextPattern nécessitaera qu'un seul segment généré soit présent dans le TextPattern.

-   Un TextPattern est unique dans l'ensemble du système, mais uniquement pour l'objet qui l'utilise. En d'autres termes, si vous avez un seul attribut d'entité suivie avec TextPattern, utilisé par plusieurs entités suivies (à ne pas confondre avec les instances d'entité suivie), toutes les valeurs générées seront partagées entre toutes les entités suivies utilisant l'attribut. Cela signifie également que si vous avez deux attributs d'entité suivie avec la même syntaxe de TextPattern, chaque attribut pourra alors générer la même valeur que l'autre, puisque la spécificité est basée sur l'attribut.

<!-- end list -->

-   Les segments SEQUENTIELS se trouvent dans les numéros de mise en œuvre en commençant par 1, en augmentant de 1 pour chaque valeur, de manière séquentielle jusqu'à ce qu'il n'y ait plus de valeurs disponibles. Cependant, en réalité, vous vous retrouverez très probablement avec des écarts lorsque les utilisateurs génèrent et réservent des valeurs qui ne sont jamais utilisées, ou si un utilisateur envoie une valeur où le segment SEQUENTIEL a une valeur plus élevée que celle enregistrée sur le serveur.

-   La mise en œuvre actuelle repose sur l'envoi par l'utilisateur-client des valeurs contenues dans le TextPattern lors du stockage d'une nouvelle valeur. Cela signifie que la création d'un identifiant correct dépend de l'utilisateur, et de l'utilisateur-client, pour fournir les données correctes.

### Comprendre la capacité du TextPattern { #understanding-textpattern-capacity }

La chose la plus importante à garder à l'esprit lors de la conception d'un TextPattern, est la capacité - c'est-à-dire le nombre total de valeurs potentielles qu'un TextPattern peut produire.

Avec la mise en œuvre actuelle de TextPattern, trois principaux facteurs déterminent la capacité :

1.  Capacité du segment généré dans le TextPattern

2.  La présence d'un segment DATE_ACTUELLE

3.  La présence d'un segment CODE_D'UNITE_D'ORG

La présence d'un segment de date (comme DATE_ACTUELLE) réinitialisera effectivement la capacité chaque fois que le segment change. Selon le format de la date, elle peut passer d'annuelle à quotidienne. **N.B. : si votre format de date ne contient pas d'année, le modèle se résoudra à la même valeur chaque année**. Cela qui signifie que les valeurs seront déjà utilisées. Par exemple, si votre TextPattern ressemble à ceci :

    DATE_ACTUELLE(ww) + "-" + ALEATOIRE(#)

Ce modèle vous donnera jusqu'à 10 valeurs uniques pour chaque semaine, mais après 1 an, DATE_ACTUELLE(ww) sera la même que l'année dernière, et vous n'aurez pas de nouvelles valeurs disponibles. Si vous utilisez plutôt "yyyy-ww", il sera unique pour chaque année, chaque semaine.

Les codes des unités d'organisation rendront vos valeurs uniques pour chaque unité d'organisation différente, c'est-à-dire si vous avez un modèle de texte comme celui-ci :

    CODE_D'UNITE_D'ORG() + "-" + ALEATOIRE(#)

Ce modèle vous donnera 10 valeurs uniques pour chaque unité d'organisation différente.

#### Calcul de la capacité des segments générés { #calculating-capacity-for-generated-segments }

Lors de la conception de TextPatterns, il est essentiel de comprendre comment calculer la capacité d'un TexPattern. Les segments générés seront la composante principale de tout TextPattern en termes de capacité, puis augmentés en fonction de la présence des segments CODE_D'UNITE_D'ORG ou DATE_ACTUELLE.

Commençons par des segments SÉQUENTIELS. Chaque "\#" du format représente un nombre entre 0 et 9. Pour calculer la capacité totale, vous multipliez le nombre de valeurs possibles pour chaque "\#". Comme il s'agit toujours de 10 (0-9), le calcul est assez simple :

    SÉQUENTIEL(#) = 10 = 10
    SÉQUENTIEL(###) = 10 * 10 * 10 = 1000
    SÉQUENTIEL(#####) = 10 * 10 * 10 * 10 * 10 = 100000

Étant donné que les compteurs SEQUENTIELS du serveur commencent à 1 et non à 0, la capacité réelle est de 999, mais celle-ci est insignifiante dans la plupart des cas.

Dès que nous faisons intervenir l'ALÉATOIRE, le calcul devient un peu plus compliqué. Comme pour le SEQUENTIEL, un "\#" a 10 valeurs possibles. En outre, nous avons "X" et "x" avec 26 valeurs possibles chacun, ainsi que "\*" qui peut être l'une des précédentes, c'est-à-dire 62 (10+26+26) valeurs possibles.

Pour calculer la capacité, vous devez prendre chaque caractère dans votre format et le remplacer par le nombre de valeurs possibles, puis les multiplier tous ensemble comme nous l'avons fait au niveau de SEQUENTIEL :

    ALÉATOIRE(#) = 10 = 10
    ALÉATOIRE(X) = 26 = 26
    ALÉATOIRE(*) = 62 = 62

    ALÉATOIRE(X##) = 26 * 10 * 10 = 2600
    ALÉATOIRE(XXxx) = 26 * 26 * 26 * 26 = 456976

    ALÉATOIRE(***) = 62 * 62 * 62 = 238328

Comme vous pouvez le voir, les calculs deviennent un peu plus compliqués, mais en suivant cette formule, vous pouvez trouver le nombre de valeurs potentielles.

### Les segments aléatoires et pourquoi vous devriez les éviter { #random-segments-and-why-you-should-avoid-it }

L'utilisation du segment aléatoire dans TextPattern a un coût caché à long terme, mais cela ne signifie pas que vous ne devez jamais l'utiliser. Cette section mettra en évidence les problèmes liés à l'utilisation du segment aléatoire et suggérera des moments où il pourrait être plus approprié de l'utiliser.

Cette section est justifée par un problème lié à la stratégie génération précédente, où vous n'aviez qu'une génération aléatoire. Après un certain temps, les instances utilisant cette fonctionnalité étaient en fait incapables de générer et de réserver de nouvelles valeurs, puisqu'il fallait trop de temps pour trouver les valeurs disponibles. Cette section examine certains des problèmes liés à la génération aléatoire ayant conduit à cette situation.

#### Générer des valeurs aléatoires { #generating-random-values }

Avant d'utiliser le segment RANDOM dans votre TextPattern, vous devez considérer les problèmes suivants liés à l'utilisation de RANDOM :

-   La génération de valeurs à partir d'un TextPattern avec un segment RANDOM sera plus complexe qu'avec d'autres TextPatterns

### Saisie de données pour les métadonnées basées sur le TextPattern { #data-entry-for-textpattern-based-metadata }

Comme mentionné précédemment, les seules métadonnées qui supportent actuellement le TextPattern sont les attributs des entités suivies. Dans cette partie, nous allons décrire les différentes façons dont la saisie de données pour TextPattern fonctionne, en particulier pour les attributs des entités suivies.

#### Validation des valeurs à l'aide d'un modèle de texte { #validation-of-values-using-textpattern }

Par défaut, toutes les valeurs envoyées au serveur pour les métadonnées à l'aide de TextPattern, seront validées. La validation peut être ignorée si nécessaire, mais vous devez toujours valider les données saisies dans des circonstances normales. La validation sera basée sur le TextPattern que vous avez défini et sera aussi stricte que possible :

-   Les segments de date doivent correspondre au même format que celui spécifié dans le paramètre du segment

-   Les segments de texte clair doivent correspondre exactement

-   Les valeurs des segments de texte doivent être au moins aussi longues que la chaîne de format. Si "^" et "$" sont présents, la valeur doit correspondre à la longueur exacte.

-   Les valeurs de segments générées doivent correspondre exactement au format, caractère par caractère.

Lorsque vous utilisez le serveur pour générer et réserver des valeurs pour la première fois, le serveur modifie les valeurs utilisées dans le TextPattern avant de les injecter, ce qui signifie que vous obtiendrez toujours une valeur valide lorsque vous la générerez sur le serveur.

Une dernière exception à la validation du TextPattern est faite pour un cas particulier : Si vous modifiez un TextPattern après avoir réservé des valeurs pour le modèle original, les valeurs envoyées au serveur et qui ne sont pas valides selon le nouveau TextPattern, seront toujours acceptées si celles-ci étaient déjà réservées.

#### Différents flux de saisie de données pour le TextPattern { #different-data-entry-flows-for-textpattern }

Il existe actuellement 2 façons pour un client de stocker les valeurs des métadonnées TextPattern :

1.  Générer et réserver des valeurs (les applications devraient le faire pour vous)

2.  Stockage d'une valeur personnalisée

Le moyen préféré est de générer et de réserver les valeurs nécessaires (le nombre de valeurs générées et réservées est géré par l'application). Cela signifie que chaque fois que vous voyez et stockez une valeur, elle a été générée et réservée par le serveur, et sera donc valide.

L'autre façon peut s'avérer utile dans des cas spécifiques. L'utilisateur fournira la valeur lui-même et tant que la valeur fournie est valable pour le TextPattern, il peut y mettre ce qu'il veut. L'inconvénient de cette méthode est que vous pouvez utiliser des valeurs réservées par quelqu'un d'autre et si vous avez un segment SEQUENTIEL, le compteur ne sera donc pas mis à jour.

# DHIS2 - Foire aux questions { #dhis2-frequently-asked-questions }

**Question :** J'ai saisi des données dans un formulaire de saisie, mais je n'arrive pas à voir ces données dans les rapports (tableaux croisés dynamiques, graphiques, cartes). Pourquoi les données saisies n'apparaissent-elles pas immédiatement dans mes graphiques dans le DHIS2 ?

**Réponse :** Les données saisies dans le DHIS2 doivent d'abord être traitées avec l'"analytique". Cela signifie que les données ne sont pas immédiatement disponibles dans les ressources analytiques (telles que les rapports, les tableaux croisés dynamiques, le visualiseur de données, le SIG, etc.) Si la programmation est active, le processus d'analyse se déroulera automatiquement chaque jour à minuit. Après cela, les nouvelles données saisies depuis la dernière exécution du processus d'analyse deviennent visibles.

Vous pouvez déclencher le processus d'analyse manuellement en sélectionnant Rapports-\>Analytiques dans le menu principal et en appuyant sur le bouton "Démarrer l'exportation". Notez que le processus peut prendre beaucoup de temps selon la quantité de données dans votre base de données.

D'autres facteurs susceptibles d'affecter la visibilité des données sont :

-   Approbation des données : Si les données ne sont pas approuvées à un niveau correspondant à celui de vos utilisateurs, il est possible que vous ne puissiez pas les voir.

-   Partage d'objets de méta-données : Si certains objets de métadonnées ne sont pas partagés avec un groupe d'utilisateurs dont vous êtes membre, les données peuvent ne pas être visibles pour vous.

-   Mise en cache de l'analyse : Dans de nombreux cas, les administrateurs de serveur mettent en cache des objets analytiques (tels que des tableaux croisés dynamiques, des cartes, des graphiques) sur le serveur. Si vous avez saisi des données, relancé des analyses, et que vous ne voyez toujours pas de données (mises à jour), assurez-vous que vos données ne sont pas mises en cache par le serveur.

**Q:** J'ai téléchargé le DHIS2 depuis <https://www.dhis2.org/downloads> mais quand j'essaie d'entrer dans le système, il faut un nom d'utilisateur et un mot de passe. Lesquels dois-je utiliser ?

**R:** Par défaut, le nom d'utilisateur sera "admin" et le mot de passe "district". Les noms d'utilisateur et les mots de passe sont sensibles à la casse.

# Notes de mise à jour et de mise à niveau { #release-and-upgrade-notes }

Pour obtenir des informations actualisées sur les dernières versions de DHIS 2, veuillez consulter la page [téléchargements DHIS 2](https://www.dhis2.org/downloads) de notre site web.
