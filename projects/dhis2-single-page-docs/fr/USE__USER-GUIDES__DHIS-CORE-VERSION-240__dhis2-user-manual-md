---
revision_date: '2024-01-30'
tags:
- Version 2.40 de DHIS de base
- Utilisation
template: single.html
---

# Qu'est-ce que le DHIS2 ? { #what_is_dhis2 } 

Après avoir lu ce chapitre, vous serez en mesure de comprendre:

  - Qu'est-ce que le DHIS2 et à quoi sert-il lorsqu'il s'agit de systèmes d'information sanitaire (HIS) ?
    systèmes d'information sanitaire (HIS) ?

  - Quelles sont les principaux aspects technologiques pris en compte
    lors du déploiement du DHIS2, et quelles sont les options pour étendre le DHIS2
    avec de nouveaux modules ?

  - Quelle est la différence entre les données basées sur les patients et les données agrégées ?

  - Quels sont les avantages et les défis liés à l'utilisation de logiciels libres et open source (FOSS)
    pour le HIS

## Historique du DHIS2 { #mod1_1 } 

Le DHIS2 est un outil de collecte, de validation, d'analyse et de présentation de données statistiques agrégées et basées sur les patients, adapté (mais non limité) aux activités de gestion intégrée des informations de santé. Il s'agit d'un outil générique plutôt que d'une application de base de données préconfigurée, avec un modèle de métadonnées ouvert et une interface utilisateur flexible qui permet à l'utilisateur de concevoir le contenu d'un système d'information spécifique sans avoir besoin de programmation. DHIS2 est un progiciel modulaire basé sur le web, construit avec des cadres Java libres et open source.

DHIS2 est un logiciel open source publié sous la licence BSD et est gratuit. Il fonctionne sur toute plate-forme sur laquelle un Java Runtime Environment (JRE 7 ou supérieur) est installé.

Le DHIS2 est développé par le Health Information Systems Programme (HISP) en tant que processus ouvert et mondialement distribué avec des développeurs actuellement en Inde, au Vietnam, en Tanzanie, en Irlande et en Norvège. Le développement est coordonné par l'Université d'Oslo avec le soutien du NORAD et d'autres donateurs.

Le logiciel DHIS2 est utilisé dans plus de 40 pays d'Afrique, d'Asie et d'Amérique latine. Parmi les pays qui ont adopté le DHIS2 comme logiciel HIS national, citons le Kenya, la Tanzanie, l'Ouganda, le Rwanda, le Ghana, le Liberia et le Bangladesh. De plus en plus de pays et d'organisations lancent de nouveaux déploiements.

La documentation fournie ci-jointe tentera de donner un aperçu complet de la demande. Étant donné la nature abstraite de l'application, ce manuel ne servira pas de guide complet étape par étape sur l'utilisation de l'application dans les différents contextes, mais fournira plutôt des illustrations et des exemples sur la manière dont le DHIS2 peut être implémenté dans diverses situations au moyen d'exemples généraux.

Avant d'implémenter le DHIS2 dans un nouveau contexte, nous vous recommandons vivement de lire le guide d'implémentation du DHIS2 (un manuel différent de celui-ci), également disponible sur le site web principal du DHIS2 (http://dhis2.org/documentation/).

## Principales caractéristiques et objectif du DHIS2 { #key-features-and-purpose-of-dhis2 } 

Les principales caractéristiques et l'objectif du DHIS2 peuvent être résumés comme suit :

  - Fournir une solution complète de gestion de données basée sur des principes de stockage de données
    et une structure modulaire qui peut être facilement 
    personnalisée pour répondre aux différentes aux différentes exigences d'un système de gestion de l'information.
    qui prend en charge l’analyse dans les différents niveaux
    de la hiérarchie organisationnelle

  - Personnalisation et adaptation locale via l’interface utilisateur.
    Aucune programmation n'est requise pour commencer à utiliser DHIS2 dans un nouveau contexte (pays,
    région, quartier, etc.).

  - Fournir des outils de saisie de données sous la forme de listes ou tableaux standards,
    ou qui peuvent être personnalisés pour reproduire des formulaires papier.

  - Fournir différents types d'outils pour la validation des données et l'amélioration
    de la qualité des données.

  - Fournir des rapports faciles à utiliser en un clic avec des graphiques et des tableaux pour
    les indicateurs sélectionnés ou les rapports de synthèse utilisant la conception des outils de collecte de données
    Permettre l'intégration avec des outils de conception de rapports externes répandus 
    (par exemple JasperReports) afin d'ajouter des rapports plus personnalisés 
    ou avancés.

  - Analyse de données flexible et dynamique dans les modules d'analyse
    (c'est-à-dire SIG, tableaux croisés dynamiques, visualiseur de données, rapports d'événements, etc.).

  - Un tableau de bord propre à l'utilisateur pour un accès rapide
    aux outils de suivi et évaluation, y compris les graphiques d'indicateurs et des les liens
    vers les rapports favoris, les cartes et autres ressources importantes du système.

  - Interfaces utilisateur faciles à utiliser pour la gestion des métadonnées, par ex. pour
    ajouter/modifier des ensembles de données ou des établissements de santé. Aucune programmation n'est requise
    pour configurer le système dans un nouveau contexte.

  - Fonctionnalité permettant de concevoir et de modifier des formules d'indicateurs calculés.

  - Module utilisateur de gestion des mots de passe, de la sécurité et des contrôles d'accès 
    bien précis (rôles des utilisateurs).

  - Des messages peuvent être envoyés aux utilisateurs du système pour obtenir des commentaires et des notifications.
    Des messages peuvent également être envoyés par e-mail et SMS.

  - Les utilisateurs peuvent partager et discuter de leurs données dans des graphiques et des rapports à l'aide des 
    Interprétations, ce qui permet d'avoir une communauté d'utilisateurs active 
    et axée sur l'information.

  - Fonctionnalités d’export-import de données et métadonnées, prenant en charge
    la synchronisation les installations hors ligne de même que l'interopérabilité avec d'autres applications.
    avec d'autres applications.

  - L'utilisation de l'API Web du DHIS2 permet l'intégration avec des logiciels externes et l'extension de la plateforme principale par l'utilisation d'applications personnalisées.
     
     

  - D'autres modules peuvent être développés et intégrés selon les besoins des utilisateurs,
     
     
     

En résumé, le DHIS2 fournit une solution HIS complète pour les besoins de rapport et d'analyse des utilisateurs d'informations sanitaires à tous les niveaux.

## Utilisation du DHIS2 dans le HIS : collecte, traitement, interprétation et analyse des données. { #use-of-dhis2-in-his-data-collection-processing-interpretation-and-analysis } 

Le contexte plus large du SIS peut être décrit de manière exhaustive grâce au cycle d'information présenté dans la figure 1.1 ci-dessous. Le cycle de l'information représente de manière imagée les différents composantes, étapes et processus par lesquels les données sont collectées, contrôlées quant à leur qualité, traitées, analysées et utilisées.


![Cycle de l'information sanitaire](resources/images/dhis2UserManual/dhis2_information_cycle.png)

Le DHIS2 prend en charge les différentes facettes du cycle de l'information, notamment :

  - Collecte de données.

  - Effectuer des contrôles de qualité.

  - Accès aux données à plusieurs niveaux.

  - Rapports.

  - Réalisation de graphiques et de cartes ainsi que d'autres formes d'analyse.

  - Possibilité de comparer des informations obtenues à des périodes différentes (par exemple, les mois précédents) et
    dans des espaces différents (par exemple, entre les établissements et les districts).

  - Voir les tendances (affichage des données en séries chronologiques pour voir leurs niveaux min et max).
     

Dans un premier temps, le DHIS2 sert d'outil de collecte, d'enregistrement et de compilation de données, et toutes les données (qu'elles soient sous forme de chiffres ou de texte) peuvent y être saisies. La saisie des données peut se faire dans des listes d'éléments de données ou dans des formulaires personnalisés définis par l'utilisateur, qui peuvent être développés pour imiter les formulaires papier afin de faciliter le processus de saisie des données.

Dans une prochaine étape, le DHIS2 peut être utilisé pour améliorer la qualité des données. Tout d'abord, au point d'entrée des données, il est possible de vérifier si les données se situent dans les limites acceptables des valeurs minimales et maximales pour un élément de données particulier. Cette vérification peut, par exemple, aider à identifier les erreurs de frappe au moment de la saisie des données. En outre, l'utilisateur peut définir diverses règles de validation, et le DHIS2 peut faire passer les données par les règles de validation pour identifier les violations. Ces types de contrôles permettent de s'assurer que les données saisies dans le système sont de bonne qualité dès le départ, et peuvent être améliorées par les personnes qui les connaissent le mieux.

Lorsque les données sont saisies et vérifiées, le DHIS2 peut aider à faire différents types de rapports. Le premier type est celui des rapports de routine qui peuvent être prédéfinis, de sorte que tous les rapports qui doivent être générés en routine peuvent l'être en un clic. En outre, le DHIS2 peut aider à générer des rapports analytiques en comparant, par exemple, des indicateurs entre les installations ou dans le temps. Les graphiques, les cartes, les rapports et les profils de santé font partie des résultats que le DHIS2 peut produire, et ceux-ci doivent être produits, analysés et utilisés de manière routinière par les responsables de la santé.

## Contexte technique { #technical-background } 

### DHIS2 en tant que plateforme { #dhis2-as-a-platform } 

Le DHIS2 peut être perçu comme une plate-forme à plusieurs niveaux. Tout d'abord, la base de données de l'application est conçue de manière à être flexible. Les structures de données telles que les éléments de données, les unités d'organisation, les formulaires et les rôles des utilisateurs peuvent être définis en toute liberté par l'interface utilisateur de l'application. Cela permet d'adapter le système à une multitude de contextes locaux et de cas d'utilisation. Nous avons vu que le DHIS2 prend en charge la plupart des principales exigences en matière de saisie et d'analyse de données de routine qui sont rencontrées lors des implémentations à l'échelle nationale. Il permet également à DHIS2 de servir de système de gestion pour des domaines tels que la logistique, les laboratoires et les finances.

Deuxièmement, grâce à sa conception modulaire, le système DHIS2 peut être étendu avec des modules logiciels supplémentaires ou par des applications personnalisées. Ces modules/applications logicielles peuvent cohabiter avec les modules de base du système DHIS2 et peuvent être intégrés dans le portail et le système de menu du système DHIS2. Cette fonction est puissante car elle permet d'étendre le système avec des fonctionnalités supplémentaires si nécessaire, généralement pour des besoins spécifiques à un pays, tel qu'indiqué précédemment.

L'inconvénient de l'extensibilité du module logiciel est qu'elle impose
plusieurs contraintes au processus de développement. Les développeurs qui créent
les fonctionnalités supplémentaires sont limités à la technologie DHIS2 en termes de
langage de programmation et de cadres logiciels, en plus des
contraintes imposées à la conception des modules par la solution de portail DHIS2.
En outre, ces modules doivent être inclus dans le logiciel DHIS2 lorsque le
logiciel est construit et déployé sur le serveur web, et non de manière dynamique pendant
l'exécution.

Afin de surmonter ces limitations et de parvenir à un couplage plus souple entre la couche de service DHIS2 et les artefacts logiciels supplémentaires, une API basée sur REST a été développée pour le DHIS2. Cette API Web est conforme aux règles du style architectural REST. Cela implique que :

  - L'API Web fournit une interface navigable et lisible par machine pour 
    le modèle de données complet du DHIS2. Par exemple, on peut accéder à la liste complète 
    puis naviguer à l'aide de l'URL fourni vers
    un élément de données particulier qui vous intéresse, puis naviguer à l'aide de
    l'URL fourni vers la liste des formulaires dont fait partie cet élément de données
     

  - L'accès aux (méta)données se fait via une interface uniforme (URL) en utilisant un
    HTTP bien connu. Il n'y a pas de formats ou de protocoles de transport fantaisistes,
    mais simplement le protocole HTTP, qui a été testé et qui est bien compris,
    et qui est le principal élément constitutif du Web aujourd'hui. Cela 
    signifie que les développeurs tiers peuvent mettre au point des logiciels utilisant le
    modèle de données et les données DHIS2 sans connaître la technologie spécifique de DHIS2
    ou se conformer aux contraintes de conception de DHIS2.

  - Toutes les données, y compris les métadonnées, les rapports, les cartes et les graphiques, appelés 
    ressources dans la terminologie REST, peuvent être récupérées dans la plupart des
    formats habituels de représentation du web d'aujourd'hui, tels que XML,
    JSON, PDF et PNG. Ces formats sont largement pris en charge par
    les applications et les langages de programmation et offrent aux développeurs tiers
    un vaste champ d'options de mise en œuvre.

### Comprendre l'indépendance de la plate-forme { #understanding-platform-independence } 

Tous les ordinateurs ont un système d'exploitation (OS) pour le gérer et les programmes qui l'exécutent. Le système d'exploitation sert de couche intermédiaire entre l'application logicielle, telle que DHIS2, et le matériel, tel que l'unité centrale et la mémoire vive. DHIS2 fonctionne sur la machine virtuelle Java, et peut donc fonctionner sur n'importe quel système d'exploitation qui supporte Java. L'indépendance de la plateforme implique que l'application logicielle peut fonctionner sur n'importe quel système d'exploitation - Windows, Linux, Macintosh, etc. DHIS2 est indépendant de la plateforme et peut donc être utilisé dans de différents contextes en fonction des exigences exactes du système d'exploitation à utiliser.

En outre, et c'est peut-être le plus important, étant donné que DHIS2 est une application basée sur un navigateur, la seule véritable exigence pour interagir avec le système est un navigateur web. DHIS2 est compatible avec la plupart des navigateurs web, bien qu'actuellement, Google Chrome, Mozilla Firefox ou Opera soient recommandés.

### Hébergement du serveur DHIS2{ #dhis2-server-hosting } 

L'hébergement de DHIS2 à l'échelle nationale est une tâche considérable qui nécessite planification, approvisionnement, contrôle et gestion de ressources matérielles et/ou sur le cloud potentiellement complexes. Pour connaître les avantages et inconvénients des différentes approches, consultez la section [Hébergement du serveur](#server-hosting) du guide d'implémentation du DHIS2

## Différence entre les données agrégées et les données des patients dans un HIS { #difference-between-aggregated-and-patient-data-in-a-his } 

*Les données des patients* sont des données relatives à un même patient, telles que son diagnostic, son nom, son âge, ses antécédents médicaux, etc. Ces données sont généralement basées sur une seule interaction patient-agent de santé. Par exemple, lorsqu'un patient se rend dans une clinique de soins de santé, diverses informations peuvent être enregistrés, tels que la température du patient, son poids et divers tests sanguins. Si ce patient est diagnostiqué comme souffrant d'une "anémie par carence en vitamine B 12, non spécifiée", correspondant au code D51.9 de la CIM-10, cette interaction particulière peut éventuellement être enregistrée comme un cas d'"anémie" dans un système basé sur des données agrégées. Les données sur les patients sont importantes lorsqu'on veut suivre les progrès d'un patient dans le temps. Par exemple, si nous voulons suivre la façon dont un patient adhère et répond au processus de traitement de la tuberculose (qui se déroule généralement sur 6-9 mois), nous avons besoin de données sur le patient.

*Les données agrégées* sont la consolidation des données sur plusieurs patients, et ne peuvent donc pas être rattachées à un patient spécifique. Il s'agit simplement de comptages, comme l'incidence du paludisme, de la tuberculose ou d'autres maladies. En général, les données de routine dont dispose un établissement de santé sont ce type de statistiques agrégées. Elles sont utilisées pour l'établissement de rapports et d'indicateurs de routine et, surtout, pour la planification stratégique au sein du système de santé. Les données agrégées ne peuvent pas fournir le type d'informations détaillées que les données au niveau du patient peuvent fournir, mais elles sont cruciales pour la planification et l'orientation des performances des systèmes de santé.

Entre les deux, vous disposez de données basées sur des cas ou de données anonymes sur les "patients". De nombreux détails peuvent être collectés sur un événement de santé spécifique sans nécessairement devoir identifier le patient concerné. Les visites de patients hospitalisés ou ambulatoires, un nouveau cas de choléra, un décès maternel, etc. sont des cas courants pour lesquels on aimerait recueillir beaucoup plus de détails qu'un simple ajout au nombre total de cas ou de visites. Ces données sont souvent collectées dans des formulaires de type liste sommaires ou dans des formulaires d'audit plus détaillés. Elles diffèrent des données agrégées en ce sens qu'elles contiennent plusieurs détails sur un événement spécifique, alors que les données agrégées comptent le nombre d'événements d'un certain type, par exemple le nombre de visites externes de patients avec diagnostic principal "Paludisme", ou le nombre de décès maternels où la personne décédée n'a pas assisté aux soins prénatals, ou le nombre d'épidémies de choléra chez les enfants de moins de 5 ans. Dans le DHIS2, ces données sont collectées via des programmes de type "événement unique" sans inscription.

Les données des patients sont hautement confidentielles et doivent donc être protégées afin que personne en dehors des médecins ne puisse les obtenir. Lorsqu'elles sont sur papier, elles doivent être conservées dans un endroit sûr. Sur les ordinateurs, les données des patients nécessitent des systèmes sécurisés avec des mots de passe, des accès restreints et des journaux d'audit.

Les préoccupations en matière de sécurité des données agrégées ne sont pas aussi cruciales que pour les données sur les patients, car il est généralement impossible d'identifier une personne particulière dans une statistique agrégée. Toutefois, les données peuvent toujours être mal utilisées et mal interprétées par d'autres personnes, et ne devraient pas être diffusées sans que des politiques de diffusion des données adéquates soient mises en place.

## Logiciels libres et open source (FOSS) : avantages et défis { #free-and-open-source-software-foss-benefits-and-challenges } 

Le logiciel contient les instructions qui indiquent à l'ordinateur comment fonctionner. La forme de ces instructions, écrite et lisible par l'homme, est appelée code source. Avant que l'ordinateur puisse exécuter les instructions, le code source doit être traduit dans un format lisible par la machine (binaire), appelé code objet. Tous les logiciels distribués comprennent le code objet, mais le FOSS rend également disponible le code source.

Les détenteurs de logiciels propriétaires accordent une licence sur leur code objet protégé par le droit d'auteur à un utilisateur, ce qui lui permet d'exécuter le programme. Les programmes FOSS, en revanche, accordent une licence à la fois sur le code objet et sur le code source, ce qui permet à l'utilisateur d'exécuter, de modifier et éventuellement de redistribuer les programmes. Avec l'accès au code source, les utilisateurs ont la liberté d'exécuter le programme à n'importe quelle fin, de le redistribuer, de le tester, de l'adapter, d'en tirer des enseignements, de le personnaliser en fonction de leurs besoins et de publier les améliorations pour le bien de la communauté. C'est pourquoi certains FOSS sont également connus sous le nom de "logiciels libres", où le terme "libre" fait référence, avant tout, aux libertés susmentionnées plutôt qu'à l'aspect commercial du terme.

Dans le secteur de la santé publique, les FOSS peuvent potentiellement présenter toute une série d'avantages, notamment

  - Des coûts réduits car cela n’implique pas de payer des frais de licence prohibitifs.
     

  - Étant donné que les besoins d'informations sanitaires changent et évoluent constamment,
    l'utilisateur doit pouvoir opérer des modifications en fonction de ces besoins.
    Cette liberté est
    souvent limité dans les systèmes propriétaires.

  - Accès au code source pour permettre l’intégration et l’interopérabilité.
    Dans le secteur de la santé,  l'interopérabilité entre les différentes applications logiciels 
    devient de plus en plus important, ce qui signifie la possibilité 
    pour deux ou plusieurs systèmes de se communiquer des métadonnées et des données. Ce travail est un
    beaucoup plus facile, et dépend parfois de la disponibilité du code source 
    pour les développeurs qui réalisent l'intégration.
    Cette disponibilité n'est souvent pas possible avec les logiciels propriétaires.
    Et quand c’est le cas, le coût est élevé sans oublier les obligations contractuelles.
     

  - Les applications FOSS comme DHIS2 sont généralement prises en charge par un
    réseau mondial de développeurs, et bénéficient donc d'un accès à des connaissances de pointe 
    en matière de recherche et de développement.



# Utilisation de l'application de saisie des données { #data_entry_app } 

## À propos de l'application de saisie de données { #about_data_entry_app } 

L'application **Saisie de données** est une plateforme où vous saisissez manuellement des données agrégées dans 
DHIS2. Vous enregistrez à la fois les données pour une unité d'organisation, une période donnée, et un ensemble 
d'éléments de donnée (ensemble de données). Un ensemble de données correspond généralement à un 
outil de collecte de données sur papier. Les ensembles de données sont configurés dans 
l'application de **Maintenance**.

> **N.B.**
>
> Si un ensemble de données possède à la fois un formulaire par section et un formulaire personnalisé, le système 
> affiche le formulaire personnalisé durant la saisie de données. L'utilisateur qui saisit les données n'a pas 
> la possibilité de choisir le formulaire qui lui convient. Dans le cas de saisie de données sur le web, l'ordre 
> de préférence d'affichage est le suivant :
>
> 1.  Formulaire personnalisé (s'il existe)
>
> 2.  Formulaire à section (s'il existe)
>
> 3.  Formulaire par défaut
>
> Les appareils mobiles ne prennent pas en charge les formulaires personnalisés. Dans le cas de la saisie de données sur appareil mobile, 
> l'ordre de de préférence d'affichage est :
>
> 1.  Formulaire à section (s'il existe)
>
> 2.  Formulaire par défaut

Lorsque vous fermez une unité d'organisation, vous ne pourrez plus la modifier 
dans l'application **saisie des données**.

## Saisir des données dans un formulaire de saisie { #enter_data_in_data_entry_form } 

![](resources/images/data_entry/data_entry_overview.png)

1.  Ouvrez l'application **Saisie de données**.

2.  Dans l'arborescence de l'unité d'organisation à gauche, sélectionnez une unité
    d'organisation

3.  Sélectionnez un **Ensemble de données**.

4.  Sélectionnez une **période**.

    Les périodes disponibles dépendent du type de période de l'ensemble
    de données (fréquence de déclaration). Vous pouvez passer d'une année à une autre en 
    cliquant sur **Année précédente** ou **Année suivante**.

    > **Note**
    > 
    > Depending on how you've configured the data entry form, you might
    > have to enter additional information before you can open the date
    > entry form. This can for example be a project derived from a
    > category combination.

5.  Saisir des données dans un formulaire de saisie.

      - Un champ vert signifie que la valeur a été sauvegardée par le système.

      - Un champ gris signifie que le champ est désactivé et que vous ne pouvez pas
        entrer de valeur. Le curseur passe automatiquement
        au champ ouvert suivant.

      - Pour passer au champ suivant, appuyez sur la touche de Tabulation ou la 
        touche Flèche vers le bas.

      - Pour revenir au champ précédent, appuyez simultanément sur les touches Shift+Tabulation ou
         la touche Flèche vers le haut.

      - Si vous saisissez une valeur non valide, par exemple un caractère
        dans un champ qui ne supporte que des valeurs numériques, vous obtiendrez une fenêtre contextuelle
        expliquant le problème et le champ sera coloré en jaune (non 
        sauvegardé) jusqu'à ce que vous ayez corrigé la valeur.

      - Si vous avez défini une plage de valeurs pour le champ
        et que vous saisissez une valeur en dehors de cette plage, vous recevrez un
        message indiquant que la valeur est en dehors de la plage. La valeur
        demeure non enregistrée jusqu'à ce que vous la modifiiez ou que vous mettiez à jour la
        plage de valeurs, puis que vous la saisissiez à nouveau.

6.  Une fois le formulaire rempli, cliquez sur **Exécuter la validation** en haut 
    à droite ou en-dessous du formulaire de saisie.

    Toutes les règles de validation qui concernent les éléments de données du formulaire de saisie actuel 
    (ensemble de données) sont ensuite appliquées aux nouvelles données. Si
    les règles de validation ne sont pas enfreintes, un 
    message s'affiche : *L'écran de saisie a passé la validation avec 
    succès*. S'il y a des violations des règles de validation, elles seront
    affichées dans une liste.

    ![](resources/images/dhis2UserManual/Validation_Rule_Result.png)

7.  (Facultatif) Corriger les erreurs de validation.

    > **Note**
    > 
    > Zero (0) will delete the value if the data element has been
    > configured to not store zeros.

8.  Une fois les erreurs corrigées et la saisie de données terminée, cliquez sur 
    **Terminé**.

    Le système utilise ces informations lorsqu'il génère des rapports sur la complétude 
    des données au niveau du district, du canton, de la province ou au niveau national.

## Marquer une valeur de donnée pour suivi { #mark_data_for_followup_in_data_entry_form } 

![](resources/images/data_entry/data_entry_section_history.png)

Si vous avez des doutes par rapport à une valeur dont vous voulez vous 
assurer, vous pouvez la conserver dans le système en la marquant pour un suivi. Dans 
l'application **Qualité de données**, vous pouvez analyser et 
corriger toutes les valeurs marquées.

1.  Ouvrez l'application **Saisie de données**.

2.  Ouvrez un formulaire de saisie existant.

3.  Double-cliquez sur le champ contenant la valeur que vous souhaitez marquer pour un éventuel 
    suivi.

4.  Appuyez sur l'icône étoile.

## Modifier des valeurs de données dans un formulaire de donnée rempli { #edit_data_value_in_completed_form } 

1.  Ouvrez l'application **Saisie de données**.

2.  Ouvrez un formulaire de saisie existant.

3.  Cliquez sur **Incomplet**.

4.  Modifiez les valeurs de données appropriées.

    > **Note**
    > 
    > Zero (0) will delete the value if the data element has been
    > configured to not store zeros,

5.  Cliquez sur **Terminé**.

## Afficher l'historique d'une valeur de donnée { #display_data_value_history } 

![](resources/images/data_entry/data_entry_section_history.png)

Vous pouvez afficher les 12 dernières valeurs enregistrées pour un champ.

1.  Ouvrez l'application **Saisie de données**.

2.  Ouvrez un formulaire de saisie existant.

3.  Double-cliquez sur le champ contenant la valeur dont vous voulez afficher 
    l'historique.

4.  Cliquez sur **Historique de l'élément de donnée**.

## Afficher le journal d'audit d'une valeur de donnée { #display_data_value_audit_trail } 

![](resources/images/data_entry/data_entry_audit_trail.png)

Un journal d'audit permet d'afficher les valeurs 
saisies avant la valeur actuelle. Il permet également de savoir si 
la valeur a été modifiée et quel utilisateur a effectué ce changement.

1.  Ouvrez l'application **Saisie de données**.

2.  Ouvrez un formulaire de saisie existant.

3.  Double-cliquez sur le champ contenant la valeur dont vous voulez afficher 
    l'historique.

4.  Cliquez sur **Journal d'audit**.

## Créer manuellement une plage de valeurs { #change_min_max_range_manually } 

![](resources/images/data_quality/set_min_max_manually.png)

1.  Dans l'application **Saisie de données**, ouvrez un formulaire de saisie.

2.  Double-cliquez sur le champs auquel vous souhaitez affecter une 
    plage de valeurs.

3.  Entrez **la limite Mini** et **la limite Maxi**.

4.  Cliquez sur **Sauvegarder**.

    Si les valeurs ne se retrouvent pas dans la nouvelle plage de valeurs lors de la prochaine
    saisie de données, la cellule de saisie s'affiche sur
    fond orange.

5.  (Facultatif) Saisissez un commentaire pour expliquer la raison du décalage,
    par exemple un événement dans un établissement qui a pu générer un grand 
    nombre de clients.

6.  (Facultatif) Cliquez sur **Enregistrer le commentaire**.

> **Astuce**
>
> Cliquez sur l'icône étoile pour marquer la valeur en vue d'un suivi ultérieur.

## Saisir des données en mode Hors-ligne { #enter_data_offline } 

L'application **Saisie de données** fonctionne même si vous avez une connexion internet 
instable lors de la saisie de données. En mode hors-ligne, 
les données saisies sont enregistrées dans votre ordinateur local. Une fois 
connecté au réseau, l'application transfère les données vers le serveur. 
L'utilisation de la bande passante est réduite puisque les formulaires de saisie ne sont plus 
récupérés depuis le serveur pour chaque rendu.

> **N.B.**
>
> Pour utiliser cette fonctionnalité, vous devez vous connecter au serveur lorsque vous êtes 
> connecté au réseau.

  - Lorsque vous êtes connecté à l'internet, l'application affiche le message suivant 
    en haut du formulaire de saisie :

    ![](resources/images/data_entry/data_entry_online1.png)

  - Si votre connexion internet est interrompue lors de la saisie des données, l'application 
    le détecte et affiche le message suivant :

    ![](resources/images/data_entry/data_entry_offline1.png)

    Vos données seront stockées localement. Vous pouvez donc continuer la saisie 
    normalement.

  - Une fois que vous avez saisi toutes les données nécessaires et que l'application détecte que
    la connexion Internet est rétablie, le message suivant s'affiche :

    ![](resources/images/data_entry/data_entry_offline_upload.png)

    Cliquez sur **Télécharger** pour synchroniser les données avec le serveur.

  - Lorsque vous avez réussi à synchroniser les données avec le serveur, vous 
    verrez ce message de confirmation 
    apparaître :

    ![](resources/images/data_entry/data_entry_offline_upload_success1.png)

## Activer la saisie de données dans une unité multi-organisation { #data_entry_multiple_organisation_units } 

![](resources/images/data_entry/data_entry_multiple_org_unit.png)

Il peut être utile de saisir des données pour plusieurs unités d'organisation dans le 
même formulaire de saisie, par exemple s'il y a peu d'éléments de données dans un 
formulaire et un nombre important d'unités d'organisation dans l'arborescence. Dans ce 
cas, la saisie de données dans plusieurs unités d'organisation peut être activée.

> **Note**
>
> La saisie de données pour plusieurs unités d'organisation à la fois, fonctionne seulement avec les formulaires à section.

1.  Ouvrez l'application **paramètres système**.

2.  Sélectionnez **Activer les formulaires de plusieurs unités d'organisation**.

3.  Dans l'application **Saisie de données**, sélectionnez l'unité d'organisation située immédiatement 
    au-dessus de l'unité d'organisation pour laquelle vous souhaitez saisir des données dans la
    hiérarchie des unités d'organisation.

    Les éléments de données apparaitront sous forme de colonnes et les unités d'organisation sous forme de lignes 
    dans le formulaire.

    > **Note**
    > 
    > The data entry forms should still be assigned to the facilities
    > that you actually enter data for, that is the organisation units
    > now appearing in the form.

## Voir également { #data_entry_app_see_also } 

  - [Contrôler
    la qualité des données](https://docs.dhis2.org/master/en/user/html/control_data_quality.html)

  - [Gérer les ensembles de données et les formulaires de saisie de
    données](https://docs.dhis2.org/master/en/user/html/manage_data_set.html)

  - [Utiliser l'application Maintenance
    Maintenance](https://docs.dhis2.org/master/en/user/html/maintenance_app.html)




# Application de saisie de données (bêta) { #data-entry-beta-app } 

## À propos de l'application de saisie des données,  (bêta) { #aggregate_data_entry_app.about }

L'application de Saisie de donnés (beta) est utilisée pour saisir des données agrégées dans le DHIS2. Les données agrégées sont collectées en groupe et n'appartiennent pas à un individu en particulier. Souhaitez-vous saisir des données individuelles ? Consultez l'application [Tracker Capture app] (#tracker_capture_app).

## Qu'est-ce qu'un formulaire de saisie de données ? { #aggregate_data_entry_app.what_makes_a_form }

Les formulaires de saisie des données sont remplis dans un contexte spécifique, composé des options suivantes :
1.  **L'ensemble des données** est une collection d'éléments de données qui représentent les données que vous souhaitez collecter.
2. **L'unité d'organisation** est l'endroit où les données sont enregistrées. Il s'agit souvent d'une clinique, d'un hôpital ou d'une salle de classe.
3. La **période** indique la date à laquelle les données ont été recueillies.
4. **Des sélections supplémentaires** sont affichées pour certains formulaires de saisie et permettent de rassembler les données en groupes significatifs.

## Découvrir l'application { #aggregate_data_entry_app.get_to_know }

L'application de saisie de données (bêta) est composée de différentes sections :

![](resources/images/data_entry_beta/app-layout.png)

1. **Barre supérieure:** la barre supérieure est l'endroit où vous choisissez parmi les différentes options l'ouverture d'un formulaire de saisie de données. Vous pouvez toujours utiliser la barre supérieure pour modifier ou réinitialiser vos choix.
2. **Espace de saisie des données** : l'espace de saisie des données est l'endroit où vous travaillez avec un formulaire d'entrée de données.
3. **Barre inférieure** : la barre inférieure propose des actions et des informations supplémentaires relatives au formulaire sur lequel vous travaillez.
4. **Barre latérale des détails** : la barre latérale des détails est l'endroit où vous pouvez voir plus d'informations sur les valeurs des données et voir les résultats de la validation. La barre latérale des détails peut être ouverte et fermée au fur et à mesure que vous travaillez ; elle est fermée par défaut.


## Travailler avec un formulaire de saisie de données { #aggregate_data_entry_app.working_with_a_form }

### Ouvrir un formulaire { #aggregate_data_entry_app.opening_a_form }

Pour démarrer la saisie des données, vous devez ouvrir un formulaire. Choisissez le formulaire que vous souhaitez ouvrir dans la barre supérieure:
1. **Choisissez un ensemble de données** dans la première commande de la barre supérieure. Le menu déroulant affiche les ensembles de données auxquels vous avez accès. L'ensemble de données détermine les autres choix possibles, par conséquent vous devez d'abord choisir un ensemble de données.
2. **Choisissez une unité d'organisation** à partir de la deuxième commande de la barre supérieure. Vous pouvez rechercher une unité d'organisation ou parcourir la hiérarchie arborescente.
3. **Choisissez une période** dans la troisième commande de la barre supérieure. Le menu déroulant affiche les périodes définies pour l'ensemble de données choisi. Choisissez une année différente en cliquant sur les flèches gauche et droite.
4. **Effectuer des sélections supplémentaires**, au besoin. Si d'autres sélections sont disponibles, elles seront affichées en tant que dernières commandes dans la barre supérieure. Les sélections supplémentaires dépendent de l'ensemble de données, de l'unité d'organisation et de la période choisis, de sorte qu'elles ne soient pas affichées tant que les trois premiers choix n'ont pas été effectués. S'il n'y a pas d'autres sélections, les commandes supplémentaires ne seront pas affichées.

Après avoir effectué les sélections dans la barre supérieure, le formulaire de saisie des données s'ouvre dans l'espace de travail. En cas de problème lors de l'ouverture d'un formulaire, l'espace de travail des données affiche une erreur qui explique le problème.

### Saisie des donnés { #aggregate_data_entry_app.entering_data }

Une fois que vous avez ouvert un formulaire, vous pouvez commencer à saisir des données dans les cellules du formulaire. La cellule active, c'est-à-dire la cellule dans laquelle vous saisissez des données, est toujours surlignée d'un contour bleu. Pour aller plus vite, vous pouvez utiliser votre clavier pour parcourir les cellules :
- pour passer à la cellule suivante, appuyez sur ++tab++ ou ++flèche vers le bas++.
- pour revenir à la cellule précédente, appuyez sur ++shift+tab++ ou ++flèche vers le haut++.

#### Statut de la cellule { #aggregate_data_entry_app.cell_status }
Les cellules ont un aspect différent en fonction de leur statut :

| Cellule    | Statut                                                                                                                                           |
| ------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| ![](resources/images/data_entry_beta/cell-normal.png)  | Afficher une valeur déjà enregistrée ou une cellule vide.                                                                                            |
| ![](resources/images/data_entry_beta/cell-synced.png)   | La valeur de la cellule est enregistrée dans le serveur.                                                                                                                |
| ![](resources/images/data_entry_beta/cell-waiting.png) | La valeur de la cellule est enregistrée localement et est synchronisée, ou en attente de synchronisation, avec le serveur.                                                                                              |
| ![](resources/images/data_entry_beta/cell-invalid.png)     | Vous rencontrez un problème avec la valeur de la cellule. Cliquez ou survolez la cellule pour en savoir plus sur le problème. Ces valeurs non valides ne sont pas sauvegardées dans le serveur ou localement. |
| ![](resources/images/data_entry_beta/cell-comment.png) | La valeur est dotée d'un commentaire.                                                                                                                         |
| ![](resources/images/data_entry_beta/cell-readonly.png)  | La cellule est verrouillée et la valeur ne peut pas être modifiée.                                                                                                                                                 |

### Filtrage d'un formulaire { #aggregate_data_entry_app.filtering }
Le filtrage est utile si vous recherchez une certaine cellule dans un formulaire. Vous pouvez filtrer l'ensemble du formulaire, des sections individuelles ou des deux. Toutes les cellules qui ne correspondent pas au filtre seront masquées.

#### Filtrage de l'ensemble du formulaire { #aggregate_data_entry_app.filtering_whole_form }

![](resources/images/data_entry_beta/filter-form.png){ largeur=60% }

Pour filtrer l'ensemble du formulaire de saisie des données, saisissez une valeur dans la zone de saisie située en haut du formulaire.

#### Filtrage d'une section { #aggregate_data_entry_app.filtering_section }

![](resources/images/data_entry_beta/filter-section.png){ largeur=60% }

Pour les formulaires à sections, vous pouvez également effectuer un filtrage à l'intérieur d'une section unique. Saisissez une valeur dans la zone de saisie située en haut d'une section.

### Validation { #aggregate_data_entry_app.validation }
Lorsque vous avez fini la saisie des données, vous pouvez procéder à la validation des valeurs des données. La validation vérifie les valeurs par rapport aux règles établies par votre instance DHIS2.

Pour lancer la validation, cliquez sur le bouton  *Run validation* (Lancer la validation) dans la barre inférieure.

![](resources/images/data_entry_beta/validation-button.png){ largeur=60% }

Les résultats de la validation sont affichés dans la barre latérale des détails, en fonction de leur priorité (élevée, moyenne ou faible). Une fois les problèmes de validation résolus, cliquez sur le bouton *Run validation again* (lancer à nouveau la validation) pour revérifier les valeurs des données.

![](resources/images/data_entry_beta/validation-results.png) 


### Remplissage d'un formulaire { #aggregate_data_entry_app.completing }

Après la saisie des données et la validation, la dernière étape consiste à remplir un formulaire. Remplir un formulaire signifie que toutes les données prévues ont été saisies et que les cellules vides ont été intentionnellement laissées vides. Pour marquer un formulaire comme terminé, cliquez sur le bouton   *Mark complete * (Marquage terminé) dans la barre inférieure.

![](resources/images/data_entry_beta/complete-button.png){ largeur=60% }

Si un formulaire est complet mais ne devrait pas l'être, vous pouvez le marquer comme incomplet en cliquant sur le bouton *Mark incomplete* (Marquage incomplet) dans la barre inférieure.

### Faire plus avec les valeurs des données { #aggregate_data_entry_app.doing_more_with_data_values }

La fonctionnalité de base de la saisie de données a été présentée ci-dessus, mais l'application de Saisie de données (bêta) offre davantage d'actions et d'informations. Ces actions et informations se trouvent dans la barre latérale de détails des données qui s'affiche à droite de l'espace de travail des données.

![](resources/images/data_entry_beta/data-details.png) 

#### Ouverture de la barre latérale de détails des données { #aggregate_data_entry_app.opening_data_details_sidebar }

Il existe différentes possibilités d'ouvrir la barre latérale de détails des données :
- **Cliquez sur le bouton  *View details* (Afficher les détails)**. Lorsqu'une cellule de saisie de données est sélectionnée, vous pouvez cliquer sur le bouton *View details* (Afficher les détails) dans la barre inférieure.
- **Utilisez le raccourci du clavier ++ctrl+entrée++ ou ++cmd+entrée++**. Lorsqu'une cellule de saisie des données est sélectionnée, utilisez l'un de ces raccourcis du clavier.

La barre latérale de détails des données reste ouverte jusqu'à ce que vous la fermiez, afin que vous puissiez la consulter pendant que vous travaillez sur un formulaire de saisie des données.

#### Marquer les valeurs des données pour un suivi { #aggregate_data_entry_app.mark_followup }

Marquer des valeurs de données pour un suivi peut être un moyen utile de signaler des valeurs suspectes ou bizarres qui doivent être examinées. Les valeurs de données marquées pour être suivies seront toujours sauvegardées, mais elles seront surlignées dans l'application **Qualité des données** pour une investigation ou une analyse plus poussée.

Pour marquer une valeur de données pour un suivi, [assurez-vous que la barre latérale de détails des données est ouverte] (#aggregate_data_entry_app.opening_data_details_sidebar), puis cliquez sur le bouton  *Mark for follow-up*(Marquer pour le suivi) dans la section supérieure.

![](resources/images/data_entry_beta/followup-button.png){ largeur=60% }

Pour décocher une valeur de données, cliquez sur le bouton *Unmark for follow-up*  (Décocher le suivi).

![](resources/images/data_entry_beta/followup-unmark-button.png){ largeur=60% }

#### Commenter une valeur de données { #aggregate_data_entry_app.comments }

Vous pouvez ajouter un commentaire à n'importe quelle valeur de données. Les commentaires peuvent être utiles pour ajouter plus d'informations sur une valeur, par exemple en indiquant les raisons pour lesquelles une valeur est particulièrement élevée ou en dehors de la fourchette normale.

Pour ajouter un commentaire à une valeur de données, [assurez-vous que la barre latérale de détails des données est ouverte(#aggregate_data_entry_app.opening_data_details_sidebar), puis cliquez sur le bouton *Add comment* (Ajouter un commentaire) dans la section *Comment* (Commentaire).

![](resources/images/data_entry_beta/comment-add-button.png){ largeur=50% }

Une fois que vous avez rédigé un commentaire, cliquez sur le bouton *Save comment* (enregistrer le commentaire).

Si une valeur de données a déjà été commentée, vous pouvez la modifier en cliquant sur le bouton *Edit comment*(Modifier le commentaire) en dessous du commentaire.

![](resources/images/data_entry_beta/comment-edit-button.png){ largeur=50% }

#### Limites minimales et maximales { #aggregate_data_entry_app.limits}

Une valeur de données peut avoir une limite minimale et maximale. Ces limites empêchent quiconque de saisir des valeurs en dehors du minimum ou du maximum.

Pour ajouter des limites à une valeur de données, [assurez-vous que la barre latérale de détails des données est ouverte] (#aggregate_data_entry_app.opening_data_details_sidebar), puis cliquez sur le bouton *Add limits* (Ajouter des limites) dans la section *Min and max limits* (Limites minimales et maximales). Dans la mesure du possible, une valeur moyenne sera affichée pour vous aider à créer des limites raisonnables.

![](resources/images/data_entry_beta/limits-add-button.png){ largeur=50% }

Une fois que vous avez ajouté une limite minimale et une limite maximale, cliquez sur le bouton *Save limits* (Sauvegarder les limites).

Si des limites ont déjà été fixées pour une valeur de données, vous pouvez les modifier ou les supprimer. Pour modifier les limites, cliquez sur le bouton *Edit limits*  (Modifier les limites). Pour supprimer les limites, cliquez sur le bouton * Delete limits*  (Supprimer les limites).

![](resources/images/data_entry_beta/limits-edit-button.png){ largeur=50% }

> **Avertissement**
>
> L'ajout, la modification ou la suppression de limites nécessite des droits d'utilisateur corrects. Lorsque des limites sont appliquées à une valeur de données, les mêmes limites s'appliquent à tous ceux qui utilisent les mêmes données.

####  Historique des données{ #aggregate_data_entry_app.history }

Pour en savoir plus sur une valeur de données, vous pouvez consulter les douze dernières valeurs dans la section * History*  (Historique) de la barre latérale de détails des données. [Assurez-vous que la barre latérale de détails des données est ouverte](#aggregate_data_entry_app.opening_data_details_sidebar), puis ouvrez la section * History*  (Historique).

![](resources/images/data_entry_beta/value-history.png){ largeur=60% }

Lors de l'utilisation d'un formulaire de saisie des données, la section * History*  (Historique) est fermée par défaut afin d'éviter l'envoi d'un volume trop élevé de données du réseau pour chaque valeur.

#### Journal de l'audit { #aggregate_data_entry_app.audit_log}

Chaque cellule de saisie de données dispose d'un journal d'audit qui indique quand les valeurs ont été modifiées et qui les a modifiées. Pour voir le journal d'audit, [assurez-vous que la barre latérale des détails des données est ouverte] (#aggregate_data_entry_app.opening_data_details_sidebar), puis ouvrez la section * Audit log*  (journal d'audit).

<!-- todo : ajouter une image lorsque les corrections des bugs ont été fusionnées -->

Lors de la saisie de données, la section * Audit log*  (journal d'audit) est fermée par défaut afin d'éviter l'envoi d'un volume trop élevé de données du réseau pour chaque valeur.


### Impression { #aggregate_data_entry_app.printing }

Pour imprimer un formulaire de saisie de données, cliquez sur le bouton * Options* dans la barre supérieure. Dans le menu déroulant, vous pouvez choisir d'imprimer le formulaire contenant les valeurs des données des cellules ou un formulaire vide.

![](resources/images/data_entry_beta/print.png){ largeur=80% }

## Travailler hors ligne { #aggregate_data_entry_app.working_offline }

Vous n'avez pas besoin d'être connecté à internet ou au serveur DHIS2 pour saisir des données. Les données saisies dans les formulaires pendant que vous êtes hors ligne sont enregistrées sur votre ordinateur local. Lorsque vous vous reconnectez à internet ou au serveur, les données enregistrées localement sont automatiquement synchronisées avec votre serveur DHIS2.

Pour travailler hors ligne, vous devez ouvrir l'application Saisie de données (bêta) lorsque vous êtes connecté à internet afin que les formulaires de saisie puissent être téléchargés et stockés sur votre ordinateur local. Le téléchargement des formulaires se fait automatiquement en arrière-plan.

Le badge situé dans la barre supérieure de l'écran indique votre statut de connexion. Si vous n'êtes pas connecté à l'internet ou au serveur DHIS2, le badge affiche * offline*  (hors ligne). Outre le badge hors ligne, les cellules des formulaires dans lesquelles vous saisissez des données affichent l'état * waiting to sync*  (en attente de synchronisation).

![](resources/images/data_entry_beta/offline.png){ largeur=60% }

> **Remarque**
>
> Certaines fonctions ne sont pas disponibles hors ligne car elles nécessitent un contact avec un serveur DHIS2 pour fonctionner. 

> La validation, l'historique des valeurs de données et les journaux d'audit des valeurs de données ne sont pas disponibles hors ligne.


## Fonctionnalités non prises en charge dans la version bêta { #aggregate_data_entry_app.unsupported_features }

L'application de **Saisie de données (beta)** est en constante évolution et de nouvelles fonctionnalités se rajoutent. Certaines fonctionnalités offertes par l'ancienne application de saisie de données ne sont pas encore prises en charge :
- Les **formulaires personnalisés** ne prennent pas encore en charge les CSS/JS. Nous examinons actuellement les différents modes d'utilisation des formulaires personnalisés afin de mettre au point une solution plus durable et plus flexible.
- **La saisie d'unités multi-organisationnelles** n'est pas prise en charge.

## Informations complémentaires { #aggregate_data_entry_app.related_info }

- [Contrôle de la qualité des données] (#contrôle_de la qualité_des données)
- [Gérer les ensembles de données et les formulaires de saisie des données]( #gestion_ensemble_données)
- [Utiliser l'application Maintenance](#app_maintenance)


# Contrôler la qualité des données { #control_data_quality } 

## À propos des contrôles qualité des données { #about_data_quality } 

L'application **Qualité des données** dispose d'outils permettant de valider l'exactitude et 
la fiabilité des données du système. Vous pouvez évaluer différentes dimensions de 
la qualité des données comme l'indique le tableau ci-dessous :


| Dimension | Description |
|---|---|
| Exactitude  | Les données doivent se situer dans la fourchette normale des données collectées dans l'établissement. Les données ne doivent pas présenter de divergences flagrantes lorsqu'elles sont comparées à des données provenant d'éléments de données connexes. |
| Complétude | Les données correspondant à tous les éléments de données pour toutes les unités d'organisation déclarantes doivent avoir été soumises. |
| Cohérence | Les données doivent être cohérentes avec les données saisies au cours des mois et années précédents, tout en tenant compte des changements liés à la réorganisation, à l'augmentation de la charge de travail, etc. et cohérentes avec d'autres établissements similaires. |
| Respect des délais | Toutes les données de toutes les unités d'organisation déclarantes doivent être soumises à la date prévue. |

Vous pouvez contrôler la qualité des données de différentes manières. Par exemple :

  - Au moment de la saisie des données, le DHIS 2 peut vérifier si
    les données saisies se situent dans la fourchette des valeurs de cet élément de 
    données (sur la base de toutes les données enregistrées précédemment).

  - En définissant des règles de validation, qui peuvent être exécutées une fois que l'utilisateur a
    terminé la saisie des données. L'utilisateur peut également vérifier les données saisies pour une 
    période et une unité d'organisation particulières par rapport aux règles de validation
    et afficher les violations de ces règles de validation.

  - En analysant les ensembles de données, c'est-à-dire, examiner les écarts dans les données.

  - Par triangulation des données, qui consiste à comparer les mêmes données ou indicateurs
    provenant de différentes sources.

## Analyse des règles de validation { #validation_rule_analysis } 

### À propos de l'analyse des règles de validation { #about-validation-rule-analysis } 

Une règle de validation repose sur une expression qui définit une relation numérique 
entre les valeurs des éléments de données. L'expression constitue une condition qui 
doit permettre de vérifier que certains critères logiques sont remplis.

L'expression se compose de :

  - Un  côté gauche

  - Un côté droit

  - Un opérateur

Une règle de validation pourrait être : "Les cas suspects de paludisme testés" \>= 
"Cas de paludisme confirmés".

Les côtés gauche et droit doivent renvoyer des valeurs numériques.

L'analyse des règles de validation permet de tester les règles de validation par rapport aux données 
enregistrées dans le système. Les violations de ces règles sont signalées lorsque la 
condition définie dans l'expression de règle de validation n'est pas remplie, c'est à dire 
lorsque la condition est fausse.

Vous pouvez configurer une analyse de règle de validation pour envoyer automatiquement 
les informations relatives aux  violations aux groupes d'utilisateurs sélectionnés. Ces 
messages sont appelés *notifications de validation* et sont créés dans l'application 
**Maintenance**. Les notifications de validation sont envoyées via le 
ystème de messagerie interne de DHIS2.

### Déroulement { #workflow } 

1.  Dans l'application **Maintenance**, créez des règles de validation et des groupes de
    règles de validation.

2.  (Facultatif) Dans l'application **Maintenance**, créez des notifications de 
    validation.

3.  Exécutez l'analyse automatiquement ou manuellement des règles de validation.

      - Dans l'application **Scheduler**, vous planifiez l'exécution 
        automatique de l'analyse des règles de validation pour toutes les règles de
        validation incluses dans un ou plusieurs groupes de règles de validation. Une fois que
        le système a exécuté l'analyse, vous verrez les violations de  
        validation ( s'il y en a) dans les notifications de validation envoyées via le
        système de messagerie interne du DHIS 2.

      - Dans l'application **Qualité des données**, vous exécutez 
        manuellement l'analyse des règles de validation pour les règles de validation sélectionnées. Une fois le
        processus d'analyse terminé, vous verrez une liste des violations 
        de validation (s'il y en a).

### Programmez l'éxécution automatique de l'analyse des règles de validation { #schedule-a-validation-rule-analysis-to-run-automatically } 

> **N.B.**
>
> Seules les règles de validation associées à une ou plusieurs notifications de validation 
> seront prises en compte dans l'analyse des règles de validation. Au cas 
> où il n'y a pas de notification de validation correspondante à une règle de validation, 
> le système n'a nulle part où envoyer les violations de validation.

> **N.B.**
>
> Lors de l'exécution automatique de l'analyse des règles de validation, les résultats  non 
> encore maintenus seront conservés pendant cette exécution. Les résultats conservés 
> ne sont actuellement accessibles que via l'API. Veuillez consulter 
> le guide du développeur pour plus d'informations sur la manière d'accéder aux 
> violations persistantes des règles de validation.

1.  Vérifiez que vous avez créé toutes les règles de validation, les groupes de règles
    de validation et les notifications de validation dont vous avez besoin.

2.  Ouvrez l'application **Programmateur** et cliquez sur le bouton d'ajout dans le coin inférieur droit.

3.  Choisissez un nom approprié pour la nouvelle tâche.

4. Sélectionnez le type de tâche **Monitoring** à l'aide du menu déroulant.

5. Choisissez une fréquence d'exécution de la tâche, c'est-à-dire quand et à quelle fréquence la tâche doit être exécutée.

6. Renseignez la section **Paramètres**, y compris les groupes de règles de validation.

7. Appuyez sur le bouton **Ajouter une tâche** pour confirmer la création de la tâche. Pour plus d'informations sur l'ajout de tâches, voir [Scheduling] (data-administration.html#scheduling).

### Exécuter  manuellement une analyse de règles de validation { #run-a-validation-rule-analysis-manually } 

![](resources/images/data_quality/validation_rule_analysis.png)

1.  Vérifiez que vous avez créé toutes les règles de validation, les groupes de règles
    de validation et les notifications de validation dont vous avez besoin.

2.  Ouvrez l'application **Qualité des données** et cliquez sur **Analyse des règles de 
    validation**.

3.  Sélectionnez une **Date de début** et une **Date de fin**.

4.  Sélectionnez le **Groupe de règles de validation** à inclure dans 
    l'analyse.

    Vous pouvez sélectionner toutes les règles de validation ou toutes les règles de validation d'un 
    seul groupe de règles de validation.

5.  (Facultatif) Sélectionnez **Envoyer les notifications** pour déclencher les notifications de 
    validation.

    > **Note**
    >
    > If you want to send out validation notifications, you must first
    > create them in the **Maintenance** app.

6.  (Facultatif) Sélectionnez *Maintenir les nouveaux résultats* pour maintenir tous les résultats non sauvegardés
    trouvés au cours de l'analyse.

7.  Sélectionnez une **unité d'organisation mère**.

8.  Cliquez sur **Valider**.

    La durée du processus d'analyse dépend de la quantité de données 
    analysées. Si les règles de validation ne sont pas enfreintes, 
    le message suivant s'affiche : *La validation s'est déroulée avec succès*. S'il
    y a des violations des règles de validation, elles seront présentées dans une
     liste.

    ![](resources/images/data_quality/validation_rule_analysis_result.png)

9.  (Facultatif) Cliquez sur l'icône "Afficher les détails" pour obtenir plus d'informations sur
    une violation de validation. Dans la fenêtre de dialogue, vous trouverez des informations 
    sur les éléments de données inclus dans les règles de validation et leurs
    valeurs de données correspondantes. Vous pouvez utiliser ces informations pour identifier
    la source de la violation de la règle de validation.

10. (Facultatif) Cliquez sur **Télécharger au format PDF**, **Télécharger au format Excel** ou
    **Télécharger au format CSV** pour télécharger la liste des violations de validation au
    format PDF, Excel ou CSV.

### Voir également { #see-also } 

  - [Gérer la validation
    règles](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html)

  - [Administration des données
    application](https://docs.dhis2.org/master/en/user/html/data_admin.html)

## Détection des valeurs atypiques { #outlier_detection } 

### À propos de la détection des valeurs atypiques { #about-outlier-detection } 

L'outil de détection des valeurs atypiques identifie les valeurs présentant 
un écart numérique par rapport au reste des données, ce qui peut indiquer qu'il s'agit de valeurs atypiques. 
L'analyse est basée sur la distribution normale standard. DHIS 2 calcule la moyenne de 
toutes les valeurs pour une unité d'organisation, un élément de données, une combinaison 
d'options de catégorie et une combinaison d'options d'attributs.

> **N.B.**
>
> Comme indiqué plus haut, cette analyse de la qualité des données n'est appropriée que 
pour les données distribuées normalement. Les données présentant d'importantes > variations saisonnières 
> ou pouvant être distribuées selon d'autres modèles statistiques 
> (par exemple, logistiques) peuvent conduire à signaler des valeurs devant être considérées comme valides. 
> Il est donc recommandé de confirmer d'abord si les données sont effectivement 
> distribuées avant de procéder à une analyse des valeurs atypiques de l'écart type.

### Exécuter la détection des valeurs atypiques { #run-outlier-detection } 

![](resources/images/data_quality/std_dev_analysis.png)

1.  Ouvrez l'application **Qualité des données** et cliquez sur **Détection des valeurs atypiques**.

2.  Sélectionnez un ou plusieurs ensembles de données.

3.  Sélectionnez **Unités d'organisation**.

    Il est possible de sélectionner plusieurs unités d'organisation. L'analyse porte sur les données brutes de toutes les unités d'organisation de la sous-hiérarchie des unités sélectionnées, et non sur des données agrégées.

4.  Sélectionnez **À partir de la date** et **À la date**.

5.  Définir l'**Algorithme** à utiliser

    Les algorithmes disponibles sont: **Z-core** (basé sur la moyenne des valeurs de données), **Z-score modifié** (basé sur la médiane des valeurs de données) et **Valeurs Min-max** (basé sur les valeurs de données min-max stockées).

6. Sélectionnez un **seuil**.

   Ceci fait référence au nombre d'écarts-types par rapport à la moyenne autorisée au-dessus duquel les données sont identifiées comme valeurs abérrantes.

7. Sélectionnez **Résultats maximums**.

   Il s'agit du nombre maximum de valeurs atypiques figurant dans les résultats.

8. (Facultatif) Sélectionnez une **Date de début des données** et une **Date de fin des données**.

   Ces champs peuvent être utilisés pour effectuer une analyse de détection des valeurs atypiques sur un sous-ensemble de données dans la plage de dates fournie. Lorsque ces champs sont laissés vides, les dates naturelles de début et de fin de l'ensemble de données seront utilisées _(dans la section avancée)_.

9. (Facultatif) Sélectionnez un critère pour **Trier par**.

   Les valeurs atypiques peuvent être triées par **Z-score** ou par **écart absolu par rapport à la moyenne** _(dans la section avancée)_.

10. Cliquez sur **Démarrer**
    La durée du processus d'analyse dépend de la quantité des données à analyser. S'il 
existe des valeurs aberrantes, celles-ci seront présentées sous forme d'une liste.
    ![](resources/images/data_quality/std_dev_analysis_outlier_result.png)
    Pour chaque valeur aberrante, vous verrez l'élément de données, la période, l'unité d'organisation, , la valeur, le score z, l'écart, l'écart type, la moyenne, le minimum et le maximum. Les valeurs minimales et maximales sont des valeurs de bordure dérivées du nombre d'écarts-types sélectionnés pour l'analyse.

11. (Facultatif) Cliquez sur **Télécharger au format CSV** pour télécharger la liste au format CSV.

> **Astuce**
>
> Cliquez sur la case à cocher pour marquer une valeur atypique pour un suivi ultérieur.

## Détection des valeurs atypiques minimales et maximales { #min_max_outlier_detection } 

### À propos de la détection des valeurs atypiques basée sur les valeurs minimales et maximales { #about-minimum-maximum-value-based-outlier-detection } 

Vous pouvez vérifier la qualité des données au moment de la saisie en définissant une 
plage de valeurs maximales et minimales pour chaque élément de donnée. Vous pouvez définir ces plages de valeurs 
manuellement ou les générer automatiquement.

La plage de valeurs générée automatiquement ne convient que pour 
des données normalement distribuées. DHIS2 déterminera la moyenne arithmétique et 
l'écart-type de toutes les valeurs pour un élément de donnée, une options de catégorie, 
une unité d'organisation et attribuer une combinaison. Le système 
calculera ensuite la plage de valeurs maximales et minimales sur la base du **Facteur 
d'analyse de l'écart-type des données** spécifié dans l'application **Paramètres Système**.

Pour les données fortement asymétriques ou nulles (comme c'est souvent le cas 
pour les données agrégées), les valeurs générées automatiquement par DHIS2 ne peuvent 
pas fournir une plage de valeurs précise. Cela peut entraîner de 
fausses violations de règles, si vous analysez par exemple des valeurs liées à des 
maladies saisonnières.

> **Note**
>
> Les plages de valeurs minimales et maximales sont calculées pour toutes les options de 
> combinaison d'attributs pour un élément de donnée particulier, une option de catégories et 
> une combinaison d'unités d'organisation.

### Déroulement { #workflow } 

1.  Créer une plage de valeurs minimum et maximum automatiquement ou 
    manuellement .

      - Dans l'application **Administration des données**, vous pouvez générer des plages de valeurs
        automatiquement.

      - Dans l'application **Saisie des données**, vous pouvez définir manuellement les plages de valeurs.

2.  Dans l'application **Qualité des données**, vous pouvez exécuter **L'analyse des valeurs aberrantes mini-maxi**.

### Configurer une détection de valeurs atypiques minimales et maximales { #configure-a-minimum-maximum-outlier-detection } 

#### Créer automatiquement une plage de valeurs minimum maximum { #create-minimum-maximum-value-range-automatically } 

> **Note**
>
> Les plages de valeurs maximales et minimales générées automatiquement peuvent être utiles pour de nombreuses 
> applications, mais il est recommandé de vérifier que les données sont 
> normalement distribuées avant l'utilisation de cette fonction.

Vous pouvez générer des plages de valeurs maximales et minimales calculées par l'ensemble de donnée défini dans 
l'application **Administration des données**. Les nouvelles plages de valeurs remplaceront toutes les valeurs 
que le système a calculées précédemment.

1.  Définissez le **Facteur d'analyse des valeurs d'écart-type (std dev) des données** :

    1.  Ouvrez l'application **Paramètres système**, puis cliquez sur **Général**.

    2.  Dans le champ **Facteur d'analyse des valeurs d'écart-type des données**, entrez une valeur.

        Ce paramètre définit le nombre d'écarts types à utiliser dans 
        l'analyse des valeurs aberrantes. La valeur par défaut est 2. Des valeurs plus élevées
        indiquent une distribution plus large, ce qui peut entraîner une
         mauvaise détection des valeurs aberrantes par l'analyse.

2.  Ouvrez l'application **Administration des données** et cliquez sur **Génération des valeurs mini-maxi**.

3.  Sélectionnez un ou des ensemble(s) de données.

4.  Sélectionnez une **unité d'organisation**.

5.  Cliquez sur **Générer**.

    De nouvelles plages de valeurs minimales et maximales sont générées pour tous
    les éléments de données des ensembles de données sélectionnés pour toutes les unités d'organisation (y compris
    les descendants) des unités d'organisation sélectionnées.

#### Créer manuellement une plage de valeurs minimum-maximum { #create-minimummaximum-value-range-manually } 

![](resources/images/data_quality/set_min_max_manually.png)

1.  Dans l'application **Saisie de données**, ouvrez un formulaire de saisie.

2.  Double-cliquez sur le champs auquel vous souhaitez affecter une plage de valeurs minimum/maximum.

3.  Dans la boîte de dialogue qui s'affiche, entrez **la limite Mini** et **la limite Maxi** 

4.  Cliquez sur **Sauvegarder**.

    Si les valeurs ne se retrouvent pas dans la nouvelle plage de valeurs lors de la prochaine
    saisie de données, la cellule de saisie s'affiche sur
    fond orange.

5.  (Facultatif) Saisissez un commentaire pour expliquer la raison du décalage,
    par exemple un événement dans un établissement qui a pu générer un grand 
    nombre de clients.

6.  (Facultatif) Cliquez sur **Enregistrer le commentaire**.

> **Astuce**
>
> Cliquez sur l'icône étoile pour marquer la valeur en vue d'un suivi ultérieur.

#### Supprimer une plage de valeurs minimum maximum { #delete-minimum-maximum-value-range } 

Vous pouvez supprimer définitivement toutes les plages de valeurs maximales minimales 
pour des ensembles de données et unités d'organisation sélectionnés dans l'application **Administration des données**.

1.  Ouvrez l'application **Administration des données** et cliquez sur **Génération des valeurs mini-maxi**.

2.  Sélectionnez un ou des ensemble(s) de données.

3.  Sélectionnez une **Unité d'organisation**. Notez que la sélection se fait en cascade vers 
    les unités d'organisation descendantes !

4.  Cliquez sur **Supprimer**.

### Exécuter une détection de valeurs atypiques minimales et maximales  { #run-a-minimum-maximum-outlier-detection } 

![](resources/images/data_quality/min_max_analysis.png)

1.  Vérifiez que vous avez créé des plages de valeurs maximales minimales.

2.  Ouvrez l'application **Qualité des données** et cliquez sur **Détection des valeurs atypiques**.

3.  Sélectionnez un ou des ensemble(s) de données.

4.  Sélectionnez une **Unité d'organisation mère**.

    Il est possible de sélectionner plusieurs unités d'organisation. L'analyse porte sur les données brutes de toutes les unités d'organisation de la sous-hiérarchie des unités sélectionnées, et non sur des données agrégées.

5.  Sélectionnez **À partir de la date** et **À la date**.

6.  Définissez **Algorithme** sur **Valeurs min-max**.

7.  Sélectionnez **Résultats maximums**

    Il s'agit du nombre maximum de valeurs atypiques figurant dans les résultats.

8.  Cliquez sur **Démarrer**

    La durée du processus d'analyse dépend de la quantité de données 
    analysées. S'il existe des écarts types aberrants, ils seront
    affichés dans une liste.

    ![](resources/images/data_quality/min_max_result.png)

    Pour chaque valeur atypique, vous verrez l'élément de données, la période, l'unité d'organisation, 
    la valeur, l'écart, le minimum et le maximum.

9.  (Facultatif) Cliquez sur **Télécharger au format CSV** pour télécharger la liste au format CSV.

> **Astuce**
>
> Cliquez sur la case à cocher pour marquer la valeur pour un suivi ultérieur.

## Analyse de suivi { #follow_up_analysis } 

### À propos de l'analyse de suivi { #about-follow-up-analysis } 

L'analyse de suivi crée une liste de toutes les valeurs de données marquées pour 
suivi ultérieur. Vous pouvez marquer une valeur de données pour suivi ultérieur dans l'application **Saisie de données** 
et dans la liste de résultats que vous obtenez de l'analyse des valeurs aberrantes d'écart-type ou 
de l'analyse des valeurs aberrantes minimales et maximales.

### Créer une liste de valeurs de données marquées pour un suivi ultérieur { #create-list-of-data-values-marked-for-follow-up } 

![](resources/images/data_quality/follow_up_analysis.png)

1.  Ouvrez l'application **Qualité des données** et cliquez sur **Analyse de suivi**.

2.  Sélectionnez un ou plusieurs ensembles de données. 

3.  Sélectionnez **Unités d'organisation**.

    Il est possible de sélectionner plusieurs unités d'organisation. L'analyse porte sur les données brutes "sous" l'unité d'organisation, et non sur les données agrégées.

4. Sélectionnez une **date de début** et une **date de fin** qui définissent les périodes pour lesquelles vous souhaitez rechercher des valeurs marquées pour le suivi.

4. Appuyez sur **Suivre** pour générer une liste de valeurs marquées pour le suivi.

5.  (Facultatif) Cliquez sur **Télécharger au format PDF**, **Télécharger au format Excel** ou **Télécharger au format CSV** pour télécharger la liste des violations de validation dans les formats PDF, Excel ou CSV.

![](resources/images/data_quality/follow_up_analysis_result.png)

> **Tip**
>
> Check the **Unfollow** checkbox in the list and click the **Unfollow**-button to remove the follow-up tags from the marked data values.
> You can also enter a comment in the field to indicate any additional 
> information regarding the value. 



# Utilisation de l'application Saisie { #capture_app } 

## À propos de l'application Saisie { #about_capture_app } 

Dans l'application Saisie d'événements, vous pouvez enregistrer des événements qui se sont produits à un moment et un endroit précis. Un événement peut se produire à n'importe quel moment. Cela contraste avec les données de routine, qui peuvent être saisies à intervalles réguliers prédéfinis. Les événements sont parfois appelés cas ou enregistrements. Dans le DHIS2, les événements sont liés à un programme. L'application Saisie d'événements vous permet de sélectionner l'unité d'organisation et le programme et de spécifier une date à laquelle un événement s'est produit, avant de saisir les informations relatives à l'événement. Certains événements sont liés à une instance d'entité suivie, par exemple une personne, ce qui permet un suivi longitudinal.

## Enregistrer un événement { #capture_register_event } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.

   Vous ne verrez que les programmes associés à l'unité organisationnelle sélectionnée et les programmes auxquels vous avez accès, et qui sont partagés avec votre groupe d'utilisateurs par le biais du partage des niveaux de données.

4. Si le programme comporte une combinaison de catégories, l'option de catégorie devra être sélectionnée.

5. Cliquez sur **Nouveau**.

    ![créer un nouvel événement](resources/images/create_new_event.png)

6. Remplissez les informations requises. Si l'étape du programme est configurée pour saisir un lieu :

    - Si le champ est un champ de coordonnées, vous pouvez soit saisir les coordonnées 
    directement, soit cliquer sur l'icône **carte** à gauche du champ de coordonnées.
    Cette dernière ouvre une carte sur laquelle vous pouvez rechercher un lieu ou vous y rendre 
    directement en cliquant sur la carte.

    - Si le champ est un champ polygone, vous pouvez cliquer sur l'icône **carte** à gauche
    du champ. Cela ouvrira une carte sur laquelle vous pouvez rechercher un emplacement et saisir 
    un polygone (bouton dans le coin supérieur droit de la carte).

7. Vous pouvez ajouter un commentaire en cliquant sur le bouton **Faire un commentaire** au bas du formulaire. Notez que les Commentaires sur les évènements sont attribués à un utilisateur et ne peuvent être supprimés.

8. Si vous le souhaitez, vous pouvez ajouter une relation en cliquant sur le bouton **Ajouter une relation** au bas du formulaire. 
   Voir la section**Ajouter une relation** pour plus d'informations.

9. Cliquez sur ** Enregistrer et quitter** ou cliquez sur la flèche située à côté du bouton pour sélectionner ** Enregistrer et ajouter un autre**.

    - **Sauvegarder et ajouter un autre** permet de sauvegarder l'événement en cours et d'effacer le formulaire.
    Tous les événements que vous avez saisis seront affichés dans une liste au bas de la page.
    Pour terminer la saisie des événements, vous pouvez, si le formulaire est vide,
    cliquer sur le bouton "Terminer" ou, si votre formulaire contient des données, cliquer sur la flèche
     située à côté de **Enregistrer et ajouter un autre** et sélectionner **Enregistrer et quitter**.

> **N.B**
>
> Certains éléments de données d'un événement peuvent être obligatoires (marqués d'une étoile rouge à côté de l'étiquette de l'élément de données). 
> Cela signifie que tous les champs d'éléments de données obligatoires doivent être remplis avant que l'utilisateur n'ait l'autorisation d'enregistrer l'événement. 
>  Il y aura une exception à cette règle si l'utilisateur dispose de l'autorisation appelée __ "Ignorer la validation des champs obligatoires dans Saisie Tracker et Saisie d'événements".__
> Si l'utilisateur dispose de cette autorisation, les éléments de données obligatoires ne seront pas requis 
> et l'étoile rouge ne sera pas afficher à côté de l'étiquette de l'élément de données. Notez que les super utilisateurs qui ont l'autorisation __ "ALL"__ disposent automatiquement
> de cette autorisation.

> **Astuce**
>
> Le formulaire de saisie peut également être visualisé en **Affichage en rangée**. Dans ce mode, les éléments de données sont disposés horizontalement. Pour ce faire,
> il suffit de cliquer sur le bouton **Passer en affichage en rangée** en haut à droite du formulaire de saisie. Si vous êtes actuellement en **Affichage en rangée**, vous
> cpouvez passer à la vue par défaut du formulaire en cliquant sur le bouton **Passer à la vue formulaire** en haut à droite du formulaire de saisie.

## Enregistrer une instance d'entité suivie { #register-a-tracked-entity-instance } 

Il existe deux manières différentes d'enregistrer une instance d'entité suivie sous une unité d'organisation. 
La première consiste à enregistrer une instance d'entité suivie sans l'inscrire à un programme tracker. 
La seconde consiste à enregistrer une instance d'entité suivi et à l'inscrire au programme.

### Sans inscription au programme { #without-a-program-enrollment } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Cliquez sur le bouton "Nouveau".

    ![image](resources/images/register-without-enrollment-new-button.png)

   Vous serez alors dirigé vers la page d'inscription. Sur cette page, vous verrez un menu déroulant
   similaire à celui de l'image ci-dessous. Dans le menu déroulant, vous pouvez sélectionner un type d'entité suivie, 
   par exemple un Immeuble, une Personne, etc.

    ![image](resources/images/register-without-enrollment-dropdown-menu.png)

4. Sélectionnez le type d'entité suivie pour lequel vous souhaitez créer une nouvelle instance.

    ![image](resources/images/register-without-enrollment-dropdown-menu-with-arrow.png)

5. Dès que vous sélectionnez un type d'entité suivie, un formulaire s'affiche à l'écran.

   La section "Profil" s'affiche. Dans cette section, vous pouvez ajouter des données relatives à 
    l'instance de l'entité suivie. La section profil contient principalement tous les attributs de l'entité
   suivie liés au type d'entité suivie.

    ![image](resources/images/register-without-enrollment-form.png)

6. Fournissez les informations requises.

    Si le type d'entité suivie est configuré pour saisir un emplacement :

    - Si le champ est un champ de coordonnées, vous pouvez soit saisir les coordonnées 
    directement, soit cliquer sur l'icône **carte** à gauche du champ de coordonnées.
    Cette dernière ouvre une carte sur laquelle vous pouvez rechercher un lieu ou vous y rendre 
    directement en cliquant sur la carte.

    - Si le champ est un champ polygone, vous pouvez cliquer sur l'icône **carte** à gauche
    du champ. Cela ouvrira une carte sur laquelle vous pouvez rechercher un emplacement et saisir 
    un polygone (bouton dans le coin supérieur droit de la carte).

7. Cliquez sur le bouton **Enregistrer nouveau** pour enregistrer l'instance d'entité suivie.

8. Vous serez invité à accéder au tableau de bord de l'instance d'entité suivie.

    Le tableau de bord affichera des informations pertinentes sur l'instance d'entité suivie nouvellement créée.

### Avec une inscription au programme { #with-a-program-enrollment } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme de suivi de votre choix similaire à l'image ci-dessous.

    ![créer un nouvel événement](resources/images/register-and-enroll-program-selection.png)

4. Cliquez sur le bouton déroulant "Nouveau", puis cliquez sur la première option.

   La première option ressemble à l'image ci-dessous.
    Dans notre exemple, le texte est "Nouvelle personne dans le programme pour Enfants".
   En cliquant sur cette option, vous accéderez à la page d'enregistrement et d'inscription
   du programme que vous avez sélectionné.
    ![créer un nouvel événement](resources/images/register-and-enroll-dropdown-button-new-person-in-program.png)

5. Vous pourrez voir un formulaire semblable à l'image ci-dessous.

    Le formulaire d'inscription est présenté différemment selon la façon dont le programme est personnalisé. La section supérieure s'intitule "Inscription",
    et contient toutes les informations pertinentes concernant les détails de l'inscription. Cette section sera toujours présente, quelle que soit la disposition du formulaire.
   En dessous, les différents champs de saisie de données relatifs à l'instance d'entité suivie s'affichent.
   Ces champs seront affichés soit dans les sections, soit dans un formulaire entièrement personnalisé.
   Les sections, ou le formulaire personnalisé, contiennent principalement tous les attributs de l'entité suivie liés au programme ou au type d'entité suivie.

      ![créer un nouvel événement](resources/images/register-and-enroll-form.png)

6. Entrez les informations requises pour l'inscription
    Si le type d'entité suivie est configuré pour saisir un emplacement :

    - Si le champ est un champ de coordonnées, vous pouvez soit saisir les coordonnées 
    directement, soit cliquer sur l'icône **carte** à gauche du champ de coordonnées.
    Cette dernière ouvre une carte sur laquelle vous pouvez rechercher un lieu ou vous y rendre 
    directement en cliquant sur la carte.

    - Si le champ est un champ polygone, vous pouvez cliquer sur l'icône **carte** à gauche
    du champ. Cela ouvrira une carte sur laquelle vous pouvez rechercher un emplacement et saisir 
    un polygone (bouton dans le coin supérieur droit de la carte).

7. Cliquez sur **Enregistrer nouveau** pour enregistrer l'instance d'entité suivie.
   Le bouton **Sauvegarder** affiche un curseur de chargement et le bouton **Annuler** est désactivé pendant le traitement de la demande.

8. Vous serez invité à accéder au tableau de bord de l'instance d'entité suivie.

    Le tableau de bord affichera des informations pertinentes sur l'instance d'entité suivie nouvellement créée.

> **N.B**
>
> Certains éléments de données d'un événement peuvent être obligatoires (marqués d'une étoile rouge à côté de l'étiquette de l'élément de données). 
> Cela signifie que tous les champs d'éléments de données obligatoires doivent être remplis avant que l'utilisateur n'ait l'autorisation d'enregistrer l'événement. 
>  Il y aura une exception à cette règle si l'utilisateur dispose de l'autorisation appelée __ "Ignorer la validation des champs obligatoires dans Saisie Tracker et Saisie d'événements".__
> Si l'utilisateur dispose de cette autorisation, les éléments de données obligatoires ne seront pas requis 
> et l'étoile rouge ne sera pas afficher à côté de l'étiquette de l'élément de données. Notez que les super utilisateurs qui ont l'autorisation __ "ALL"__ disposent automatiquement
> de cette autorisation.

> **Astuce**
>
> Le formulaire de saisie peut également être visualisé en **Affichage en rangée**. Dans ce mode, les éléments de données sont disposés horizontalement. Pour ce faire,
> il suffit de cliquer sur le bouton **Passer en affichage en rangée** en haut à droite du formulaire de saisie. Si vous êtes actuellement en **Affichage en rangée**, vous
> cpouvez passer à la vue par défaut du formulaire en cliquant sur le bouton **Passer à la vue formulaire** en haut à droite du formulaire de saisie.

### Inscription avec des événements générés automatiquement   { #enrollment-with-auto-generated-events } 

Des événements peuvent être automatiquement créés lors de l'inscription à un programme.

Pour générer automatiquement des événements, vous pouvez effectuer la configuration nécessaire dans l'application Maintenance.
1. Ouvrez l'application Maintenance

2. Sélectionnez l'onglet Programme
![](resources/images/auto-generated-01.png)

3. Sélectionnez un programme Tracker
![](resources/images/auto-generated-02.png)

4. Sélectionnez l'onglet Étapes du programme
![](resources/images/auto-generated-03.png)

5. Cliquez sur l'étape du programme pour laquelle vous souhaitez générer un événement
![](resources/images/auto-generated-04.png)

6. Sélectionnez "Auto-générer un événement"
![](resources/images/auto-generated-05.png)

Vous pouvez définir plusieurs étapes d'un programme à générer automatiquement (cela créera un événement pour chaque étape du programme configurée à cet effet)

### Inscription avec formulaire de saisie de données ouvertes { #enrollment-with-open-data-entry-form } 

Un programme peut être configuré de sorte à amener automatiquement l'utilisateur à enregistrer un nouvel événement juste après l'inscription d'une instance d'entité suivie. Pour activer cette fonctionnalité, au moins une des étapes du programme doit avoir  l'option "Formulaire de saisie de données ouvertes après l'enregistrement" cochée. Si cette option est activée sur plus d'une étape du programme, la première étape sera utilisée.

Pour le configurer, vous devez suivre les étapes décrites dans la section [Inscription avec des événements générés automatiquement](#enrollment-with-auto-generated-events) puis cocher l'option "Formulaire de saisie de données ouvertes après inscription".

### Inscription avec la première étape sur la page d'inscription { #enrollment-with-first-stage-on-registration-page }

Pour les programmes Tracker, activez le drapeau "Afficher la première étape sur la page d'inscription" dans l'application Maintenance. La page d'inscription affichera désormais la première étape du programme à laquelle l'utilisateur a accès.

![](resources/images/first-stage-during-registration.png)

#### Type d'événement actif  { #active-type-of-event } 

Si l'étape a le "Formulaire de saisie de données ouvertes après l'inscription" sélectionné, alors l'événement sera ACTIF après sa génération. De plus, sa date d'exécution sera déterminée pour l'événement, en plus d'une date d'échéance. La génération se produit en fonction de la date d'inscription ou de la date de l'évènement. Vous pouvez choisir la date de déclaration dans le menu déroulant "Date de déclaration à utiliser". ![](resources/images/auto-generated-06.png)

Comme le montre l'image, vous avez trois options, a) Date de l'évènement b) Date de l'inscription ou c) Aucune valeur. Choisir la date de déclaration comme "Date de l'évènement" indique que la date d'exécution de l'événement et la date d'échéance seront les mêmes que la date de l'incident. Choisir la date de déclaration comme "Date d'inscription" ou "Aucune valeur" indique que la date d'exécution de l'événement et la date d'échéance seront les mêmes que la date d'inscription.

#### Type d'événement programmé { #schedule-type-of-event } 

Lorsque la "Saisie de données ouvertes après l'inscription" n'est pas sélectionné, cela signifie que l'événement généré sera un événement PROGRAMMÉ. L'événement programmé n'a pas de date d'exécution, mais seulement une date d'échéance. La date d'échéance de ces événements futurs est déterminée en fonction de la date d'inscription ou de la date de l'incident. Si l'indicateur sous forme de drapeau ci-dessous est coché, la date de référence est la date d'inscription et s'il n'est pas coché, la date de l'évènement est utilisée. ![](resources/images/auto-generated-07.png)

Lorsqu'il manque de date d'évènement, la date de référence reviendra à la date d'inscription, que l'indicateur ci-dessus soit coché ou non.

Au niveau du type d'événements PROGRAMMÉ, l'utilisateur peut également configurer les "Jours programmés à partir du début". Ce qui signifie que si une étape a un nombre dans "Jours programmés à partir du début", la date de référence sera augmentée de ce nombre. Dans l'exemple ci-dessous, nous augmentons la date d'échéance de 30 jours.

![](resources/images/auto-generated-08.png)

Lorsque les "Jours programmés depuis le début" ne contiennent pas de nombre ou contiennent le chiffre 0, la date de référence est utilisée sans augmentation de jours.


### Détection d'éventuels doublons { #possible-duplicates-detection } 

Dans les deux cas d'enregistrement d'une instance d'entité suivie (avec ou sans inscription), le système commencera à rechercher d'éventuels doublons. 
Il convient de noter que les programmes doivent être correctement configurés via l'application de maintenance pour que le système commence à détecter les doublons lors de l'inscription d'une nouvelle personne à un programme.

Pour configurer un programme via l'application de maintenance, il vous faudra:


1. Ouvrir l'application Maintenance.
![](resources/images/duplicates-maintenance-config-00.png)

2. Dans la section programme, sélectionnez votre programme. Dans cet exemple, nous sélectionnons le programme pour Enfants.
![](resources/images/duplicates-maintenance-config-01.png)

3. Sélectionnez l'onglet Attributs.
![](resources/images/duplicates-maintenance-config-02.png)

4. Activer la recherche de doublons en vérifiant que les attributs du programme sont   consultables.
![](resources/images/duplicates-maintenance-config-03.png)


Les attributs que vous avez sélectionnés comme " consultables." seront ceux que le système utilisera pour détecter d'éventuels enregistrements doubles.
Expliquons cela à l'aide d'un exemple qui démontre la détection d'éventuels doublons lors de l'inscription d'un enfant au Programme Enfant.

1. Ouvrez l'application **Saisie**.
![](resources/images/duplicates-on-creation-00.png)

2. Sélectionnez votre unité d'organisation et votre programme dans le menu supérieur.
![](resources/images/duplicates-on-creation-01.png)

3. Cliquez sur "Nouveau" -> "Nouvelle personne dans le programme pour Enfants"
![](resources/images/duplicates-on-creation-02.png)

4. Remplissez le formulaire avec votre prénom. **N'oubliez pas que le prénom que nous avons coché est "consultable" dans l'application de maintenance.**
Cliquez sur **Enregistrer nouveau**. Le système commencera à rechercher d'éventuels doublons correspondant au nom Sarah.
![](resources/images/duplicates-on-creation-03.png)

5. Le système affichera automatiquement une liste des éventuels doublons s'il y en a.
![](resources/images/duplicates-on-creation-04.png)

6. Vous pouvez choisir d'entamer une nouvelle inscription en cliquant sur **Enregistrer nouveau** ou si vous voyez la bonne personne dans la liste, vous pouvez consulter le tableau de bord. 
![](resources/images/duplicates-on-creation-05.png)

> **Astuce**
>
> Vous pouvez configurer la détection des enregistrements doubles pour les types d'entités suivies de la même manière que nous l'avons fait pour les programmes.


### Exécution des règles du programme { #program-rules-execution } 

Dans les deux cas d'enregistrement d'une instance d'entité suivie (avec ou sans inscription), le système mettra en application les règles de programme que vous avez configurées. 
Notez que les règles peuvent être configurées dans l'application de maintenance.

Pour voir qu'une règle est en cours d'application lors de l'inscription d'une instance d'entité suivie, vous devez suivre les étapes suivantes.

1. Configurez une règle dans l'application de maintenance. Pour l'exemple ci-dessous, nous avons configuré une règle pour qu'elle lance un avertissement lorsque la date de naissance est inférieure à un an.

2. Ouvrez l'application **Saisie**.
![](resources/images/duplicates-on-creation-00.png)

3. Sélectionnez votre unité d'organisation et votre programme dans le menu supérieur.
![](resources/images/program-rules-on-creation-00.png)

4. Remplissez la date de naissance avec une valeur inférieure à un an. Dans notre cas, c'est le 27 janvier 2021. 
![](resources/images/program-rules-on-creation-01.png)

5. Vous pourrez maintenant constater l'avertissement généré par la règle du programme sous le champ de la date de naissance. 
![](resources/images/program-rules-on-creation-02.png)

## Réinscrire une instance d'entité suivie existante  { #re-enroll-an-existing-tracked-entity-instance } 

Lorsque vous êtes sur la page de réinscription, le champ sera visible dans les paramètres de l'URL. Les attributs de l'instance d'entité suivie seront déjà remplis avec les valeurs actuelles. 
![](resources/images/enroll-existing-tei.png)


## Ajouter une relation { #capture_add_relationship } 

Les relations peuvent être ajoutées soit lors de l'inscription, soit lors de l'édition ou de la visualisation d'un événement. Actuellement, l'application **Saisie** ne prend en charge que les relations *Événement à Instance d'entité suivie*.

1. Lorsque vous ouvrez un événement, cliquez sur **Ajouter une relation**.

2. Sélectionnez le type de relation que vous souhaitez créer.

Vous avez désormais deux options :

- **Lier à une instance d'entité suivie existante** ou

- **Créer une nouvelle instance d'entité suivie**.

![options de relation](resources/images/relationship_options.png)

### Lier à une instance d'entité suivie existante { #link-to-an-existing-tracked-entity-instance } 

1. Cliquez sur **Lier à une instance d'entité suivie existante**.

- Quelques options de recherche d'une **Instance d'Entité Suivie** vous seront proposées.
  Vous avez la possibilité de sélectionner un **programme**. Si un **programme** est sélectionné, les attributs sont dérivés du **programme** sélectionné.
  Si aucun **programme** n'est sélectionné, seuls les attributs appartenant à **l'Instance d'Entité Suivie** seront visibles.

    ![rechercher une Instance d'Entité Suivie](resources/images/search_tei.png)

    - Si l'**Instance d'Entité Suivie** ou le **programme** est configuré avec un attribut unique, cet attribut peut être
      utilisé pour trouver une **Instance d'Entité Suivie** ou un **programme** spécifique. Cet attribut doit être affiché seul.
      Une fois le champ de l'attribut unique rempli, cliquez sur le bouton **Recherche** situé juste en dessous
      du champ de l'attribut unique.

    - Si l'**Instance d'entité suivie** ou le **programme** dispose d'attributs, ceux-ci peuvent être utilisés pour la recherche en élagissant la case **Recherche par attributs**.
      Après remplissage de tous les champs d'attributs souhaités, cliquez sur le bouton **Recherche par attributs** situé en bas. Vous pouvez également limiter la recherche en définissant le **Champ de l'unité d'organisation**. Si le paramètre est défini sur *Tout accessible*, vous rechercherez l'**Instance d'entité suivie** dans toutes les unités d'organisation auxquelles vous avez accès. Si vous sélectionnez *Sélectionné*, il vous sera demandé de sélectionner les unités d'organisation dans lesquelles vous souhaitez effectuer une recherche.

2. Si votre recherche est fructueuse, vous obtiendrez une liste des **Instances d'entités suivies** correspondant aux critères de recherche.
   Pour créer une relation, cliquez sur le bouton **Lien** de **l'Instance d'Entité Suivie** avec laquelle vous souhaitez créer une relation.

- Si vous n'avez pas trouvé l'**Instance d'Entité Suivie** que vous recherchiez, vous pouvez cliquer sur les boutons **Nouvelle recherche** ou **Modifier la recherche**.
  **Nouvelle recherche** permet d'effectuer une nouvelle recherche vide, tandis que **Modifier la recherche** permet de revenir à la recherche que vous venez d'effectuer en conservant les critères de recherche.

### Créer une nouvelle instance d'entité suivie { #create-new-tracked-entity-instance } 

1. Cliquez sur **Créer une nouvelle instance d'entité suivie**.

- Un formulaire d'enregistrement d'une nouvelle **Instance d'Entité Suivie** vous est proposé. Vous pouvez choisir de vous enregistrer avec ou sans programme.
  Si un programme est sélectionné, la nouvelle **Instance d'Entité Suivie** sera inscrite dans celui-ci. Vous pouvez également modifier l'**Unité d'organisation** en supprimant celle qui est automatiquement définie pour en sélectionner une nouvelle.

  ![enregistrer une nouvelle instance d'entité suivie](resources/images/register_tei.png)

2. Remplissez les attributs souhaités (et éventuellement obligatoires) ainsi que les détails de l'inscription.

3. Cliquez sur **Créer une nouvelle instance d'entité suivie et un lien**.

> **N.B**
>
> En entrant les données, vous pouvez recevoir un avertissement vous indiquant la présence éventuelle d'un doublon. Vous pouvez cliquer sur l'avertissement pour voir ces 
> doublons et si le doublon concorde, vous pouvez choisir de lier cette **Instance d'Entité Suivie** en cliquant sur le bouton **Lien**. 
> Si l'avertissement est toujours présent après l'entrée des données, le bouton **Créer une Instance d'Entité Suivie et Lier** 
> ne s'affiche pas. À la place, vous devrez appuyer sur un bouton appelé **Vérifier les doublons**. Lorsque vous cliquez sur ce bouton, une liste des doublons possibles s'affiche. 
> Si l'un de ces doublons correspond à l'**Instance d'Entité Suivie** que vous essayez de créer, vous pouvez cliquer sur le bouton **Lien**, dans le cas contraire vous pouvez cliquer 
> sur le bouton **Enregistrer comme nouvelle personne** pour enregistrer une nouvelle **Instance d'Entité Suivie**.


## Modifier un événement { #capture_edit_event } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez un programme.

3. Sélectionnez une unité d'organisation ou ou cliquez sur lien _tous les évènements_ pour consulter tous les évènements qui vous sont accessibles

    ![](resources/images/main-page-all-accessible-records.png)
    Tous les événements inscrits au programme sélectionné apparaissent sur une liste.

4. Cliquez sur l'événement que vous souhaitez modifier.

5. Cliquez sur le bouton **Modifier l'événement**.

6. Modifiez les détails de l'événement et cliquez sur **Sauvegarder**.

## Supprimer un événement { #capture_delete_event } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent sur une liste.

4. Cliquez sur l'icône **triple point** sur l'événement que vous souhaitez supprimer.

5. Dans le menu qui s'affiche, cliquez sur **Supprimer l'événement**.

    ![supprimer l'événement](resources/images/delete_event.png)

## Modifier la mise en page d'une liste d'événements { #capture_modify_event_list_layout } 

Vous pouvez sélectionner les colonnes à afficher ou à masquer dans une liste d'événements. Cela peut 
être utile par exemple lorsque vous avez une longue liste d'éléments de données 
affectés à une étape du programme.

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent sur une liste.

4. Cliquez sur l'icône **engrenage** en haut à droite de la liste des événements.

5. Sélectionnez les colonnes que vous souhaitez afficher et cliquez sur **Enregistrer**.

    ![modifier la liste des événements](resources/images/modify_event_list.png)

> **Conseil**
>
> Vous pouvez réorganiser l'ordre des éléments de données en les faisant glisser et en les déposant dans la liste.

## Filtrer une liste d'événements { #capture_filter_event_list } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent sur une liste.

   En haut de la liste des événements se trouvent des boutons portant les mêmes noms que les en-têtes de colonne de la liste.

4. Utilisez les boutons en haut de la liste pour effectuer le  filtrage sur la base d'une date de rapport ou d'un élément de donnée spécifique.

    ![événement de filtrage](resources/images/filter_event.png)

> **N.B.**
>
> Les différents types d'éléments de données sont filtrés de différentes manières. Un élément de données **Nombre** affichera par exemple une plage à filtrer, tandis qu'un élément de données **Texte** vous demandera d'entrer une requête de recherche à filtrer.

## Trier une liste d'événements { #capture_sort_event_list } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.
    Tous les événements inscrits au programme sélectionné apparaissent sur une liste.

4. Cliquez sur l'un des en-têtes de colonne pour trier la liste de cet élément de donnée par ordre croissant.

   Une petite flèche vers le haut s'affiche à côté de la colonne pour indiquer que la liste est triée par ordre croissant.

5. Cliquez à nouveau sur l'en-tête de la colonne pour trier la liste de cet élément de donnée par ordre décroissant.

   Une petite flèche vers le bas s'affiche à côté de la colonne pour indiquer que la liste est triée par ordre décroissant.

    ![événement de tri](resources/images/sort_event.png)

## Télécharger une liste d'événements { #capture_download_event_list } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme.
    Tous les événements inscrits au programme sélectionné apparaissent sur une liste.

4. Cliquez sur l'icône de l' **engrenage** en haut à droite de la liste des événements.

5. Cliquez sur **Télécharger les données**.

6. Sélectionnez le format que vous souhaitez télécharger.

    ![télécharger la liste des événements](resources/images/download_event_list.png)

> **N.B**
>
> Vous pouvez télécharger une liste d'événements aux formats JSON, XML ou CSV.

## Listes des vues prédéfinies { #capture_views } 

Vous pouvez créer vos propres vues et les sauvegarder pour un usage ultérieur. Les vues peuvent également être partagées avec d'autres personnes. Une vue se compose de filtres, de l'ordre des colonnes et de l'ordre de tri des événements.

### Sauvegarder une nouvelle vue { #capture_view_save } 

1. Sélectionnez une unité d'organisation et un programme.

2. Définissez des filtres en utilisant les boutons de filtre au-dessus de la liste des événements (décrits en détail [ici](#capture_filter_event_list)).

    ![](resources/images/view_save_filters.png)

3. Définissez l'ordre des colonnes en cliquant sur l'icône de la roue dentée, puis, dans la fenêtre contextuelle, spécifiez la mise en page selon votre préférence (la manière de modifier la mise en page est décrite en détail [ici](#capture_modify_event_list_layout)).

    ![](resources/images/view_save_column_order.png)

4. Triez les événements en cliquant sur l'une des en-têtes de colonne (décrites en détail [ici](#capture_sort_event_list)).

    ![](resources/images/view_save_sort_order.png)

5. Ouvrez le menu Plus (icône à trois points) sur la droite et sélectionnez ensuite "Sauvegarder la vue actuelle..."

    ![](resources/images/view_save_menu.png)

6. Choisissez un nom pour la vue et cliquez sur enregistrer.

    ![](resources/images/view_save_name.png)

### Charger une vue { #capture_view_load } 

1. Sélectionnez une unité d'organisation et un programme avec une vue prédéfinie.

2. Les vues doivent être disponibles au-dessus de la liste d'événements elle-même. Cliquez sur une vue pour la charger.

    ![](resources/images/view_load_unselected.png)

3. Exemple d'une vue chargée. 

    ![](resources/images/view_load_selected.png)

### Mise à jour d'une vue { #capture_view_update } 

1. Chargez la vue que vous souhaitez mettre à jour (voir [loading a view](#capture_view_load)).

2. Apportez vos modifications aux filtres, à l'ordre des colonnes et/ou à l'ordre de tri des événements.

    > **Note**
    >
    > An asterisk(*) is appended to the view name when the view has unsaved changes.

3. Ouvrez le menu Plus (icône à trois points) sur la droite et sélectionnez ensuite "Mise à jour de la vue".

    ![](resources/images/view_update.png)

### Partager une vue { #capture_view_share } 

1. Chargez la vue que vous souhaitez partager (voir [loading a view](#capture_view_load)).

2. Ouvrez le menu Plus (icône à trois points) sur la droite et sélectionnez ensuite "Paratger la vue...".

    ![](resources/images/view_share.png)

3. Apportez vos modifications. Vous ajouterez généralement des utilisateurs/groupes (1) et/ou modifierez les droits d'accès des utilisateurs/groupes ajoutés précédemment (2).

    ![](resources/images/view_share_access.png)

### Supprimer une vue { #capture_view_delete } 

1. Chargez la vue que vous souhaitez supprimer (voir [loading a view](#capture_view_load)).

2. Ouvrez le menu Plus (icône à trois points) sur la droite et sélectionnez ensuite "Supprimer la vue".

    ![](resources/images/view_delete.png)

## User assignment in events programs { #capture_user_assignment } 

Les événements peuvent être attribués aux utilisateurs. Cette fonction doit être activée par programme.

### Assigning user to new events { #capture_user_assignment_new } 

1. Sélectionnez une unité d'organisation et un programme dont l'affectation des utilisateurs est activée.

2. Cliquez sur **Nouvel événement** dans le coin supérieur droit.

3. Vous trouverez la section sur le cessionnaire au bas de la page de saisie des données. Recherchez et sélectionnez l'utilisateur auquel vous souhaitez attribuer l'événement. Le cessionnaire sera préservé lorsque vous sauvegarderez l'événement.

    ![](resources/images/user_assignment_new.png)

    ![](resources/images/user_assignment_new_filled.png)

### Changement de cessionnaire { #capture_user_assignment_edit } 

1. Sélectionnez une unité d'organisation et un programme dont l'affectation des utilisateurs est activée.

2. Cliquez sur un événement dans la liste

3. Dans la colonne de droite, vous trouverez la section sur les cessionnaires.

    ![](resources/images/user_assignment_edit.png)

4. Click the **Edit** button, or the **Assign** button if the event is not currently assigned to anyone.

    ![](resources/images/user_assignment_edit_button.png)

    ![](resources/images/user_assignment_edit_add.png)

5. Search for and select the user you would like to reassign the event to. Click the **Save** button.

### L'attributaire dans la liste des événements { #capture_user_assignment_event_list } 

Dans la liste des événements, vous pourrez consulter le nom de l'attributaire par événement. De plus, vous pouvez trier et filtrer la liste en fonction de l'attributaire.

#### Filtrer par attributaire { #filter-by-assignee } 

1. Cliquez sur le filtre **Attribué à**.

    ![](resources/images/user_assignment_event_list.png)

2. Sélectionnez votre filtre d'affectation préféré, puis cliquez sur mettre à jour.

    ![](resources/images/user_assignment_event_list_options.png)

## Les programmes Tracker { #capture_tracker_programs } 

L'application Saisie prend en charge les listes de travail dans les programmes de suivi, mais lorsque vous ouvrez une instance d'entité suivie, vous serez redirigé vers le tableau de bord d'inscription dans l'application Tracker Capture.

![](resources/images/tracker_program.png)


## Rechercher les instances d'entités suivies { #search-for-tracked-entity-instances } 

### Dans le champ d'application d'un programme { #in-program-scope } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez un programme.

   Vous ne verrez que les programmes associés à l'unité organisationnelle sélectionnée et les programmes auxquels vous avez accès, et qui sont partagés avec votre groupe d'utilisateurs par le biais du partage des niveaux de données.

3. Cliquez sur le bouton Rechercher.

4. Dans le menu déroulant, cliquez sur la première option.

    ![](resources/images/search-by-attributes-find-button.png)

   Ces étapes vous conduiront à la page de recherche. Vous y trouverez, en fonction de la configuration de votre organisation, les différents attributs avec lesquels vous pouvez effectuer une recherche. Voici donc un exemple de comment cela se présente.

    ![](resources/images/search-by-attributes-on-scope-program-overview-0.png)

   Désormais, vous pouvez effectuer une recherche :

1. Indiquez les attributs avec lesquels vous souhaitez effectuer la recherche.

2. Cliquez sur le bouton **Recherche par attributs**.

    ![](resources/images/search-by-attributes-on-scope-program-overview-1.png)

3. Les résultats de la recherche seront affichés comme suit.

    ![](resources/images/search-by-attributes-on-scope-program-overview-2.png)

   Dans cette liste, vous pouvez voir les éléments correspondant à votre recherche. Pour chaque élément, vous pouvez choisir parmi trois options.

   a. Vous pouvez choisir de consulter le tableau de bord de l'**Instance d'entité suivie** en cliquant sur le bouton "Voir le tableau de bord"

    ![](resources/images/search-by-attributes-on-scope-program-overview-5.png)

   b. Vous pouvez visualiser l'inscription active d'une **Instance d'entité suivie** en cliquant sur le bouton "Voir l'inscription active"

    ![](resources/images/search-by-attributes-on-scope-program-overview-3.png)

   c. Vous pouvez réinscrire une **Instance d'entité suivie** au programme en cours dans lequel vous effectuez une recherche.

    ![](resources/images/search-by-attributes-on-scope-program-overview-4.png)


#### Recherche de repli { #fallback-search } 

Effectuez une recherche complète comme décrit ci-dessus. Si la recherche effectuée aboutit à des résultats, ceux-ci seront donc affichés. Toutefois, l'**Instance d'entité suivie** que vous recherchez peut appartenir à un autre programme. Dans ce cas, vous pourriez étendre la recherche à d'autres programmes. On parle alors d'une recherche de repli.

Pour exécuter une recherche de secours, appuyez simplement sur le bouton en bas indiquant "Rechercher dans tous les programmes". 
Vous verrez les **Résultats dans tous les programmes** être ajoutés sous la recherche dans le programme actuel. Ces deux modules sont repliables pour occuper moins d'espace.

Si la recherche de secours ne peut pas être effectuée, il vous sera présenté une fenêtre modale pour faire un **Retour à la recherche**  afin que vous puissiez modifier les termes de recherche.

> **N.B.**
>
> La recherche de repli n'est possible que lors d'une recherche au sein d'un Programme.

![](resources/images/search-by-attributes-fallback-overview-0.png)

#### Créer une nouvelle **instance d'entité suivie**{ #create-new-tracked-entity-instance } 

Lorsqu'aucun des résultats ne correspond, vous pouvez créer un nouvel utilisateur en cliquant sur le bouton **Créer un nouveau** en bas de la page de recherche.

En fonction du domaine de recherche, vous serez redirigé vers l'enregistrement du **type d'entité suivie** sélectionné, avec ou sans inscription au programme présélectionnée. 
Les termes de recherche que vous aviez déjà saisis réapparaîtront dans le formulaire d'inscription.

![](resources/images/search-page-create-new-tei.png)


### Dans le champ d'application d'un type d'entité suivie { #in-tracked-entity-type-scope } 

1. Ouvrez l'application **Saisie**.

2. Cliquez sur le bouton **Rechercher** pour ouvrir la page de recherche.

3. Cliquez sur le menu déroulant et sélectionnez le type d'entité que vous souhaitez rechercher.

    ![](resources/images/search-by-attributes-domain-selector-overview-0.png)

4. Faites un choix dans la liste.

    ![](resources/images/search-by-attributes-domain-selector-overview-1.png)

   Vous y trouverez, en fonction de la configuration de votre organisation, les différents attributs avec lesquels vous pouvez effectuer une recherche. Voici donc un exemple de comment cela se présente.

    ![](resources/images/search-by-attributes-on-scope-tetype-overview-0.png)

   Désormais, vous pouvez effectuer une recherche :

1. Indiquez les attributs avec lesquels vous souhaitez effectuer la recherche.

2. Cliquez sur le bouton Recherche par attributs.

    ![](resources/images/search-by-attributes-on-scope-tetype-overview-1.png)

3. Les résultats de la recherche seront affichés comme suit.

    ![](resources/images/search-by-attributes-on-scope-tetype-overview-2.png)

   Dans cette liste, vous pouvez voir les entrées correspondant à votre recherche. Pour chaque entrée, vous avez la possibilité de cliquer sur le bouton "Voir le tableau de bord" pour voir le tableau de bord de l'**Instance d'entité suivie**.


### Fonctionnalité des résultats trop nombreux { #too-many-results-functionality } 

Le type de programme ou d'entité suivie utilisé pour la recherche peut être configuré de manière à limiter le nombre de résultats renvoyés par une recherche. Si le nombre de résultats de votre recherche dépasse cette limite, vous recevrez un message d'avertissement comme celui ci-dessous.

![](resources/images/search-by-attributes-on-scope-program-overview-too-many-results-message.png)

### Pagination { #pagination } 

La page de résultats affiche jusqu'à cinq résultats à la fois. Vous devez essayer d'utiliser des critères de recherche spécifiques pour éviter qu'il y ait trop de résultats. Cependant, lorsqu'il y a plus de cinq résultats, vous pouvez consulter les résultats suivants en utilisant le bouton **>** situé en fin de page.

![](resources/images/search-by-attributes-on-scope-program-overview-pagination.png)

## Répertorier les instances d'entité suivie inscrites au programme{ #list-tracked-entity-instances-enrolled-in-program } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme de suivi avec l'option "Afficher la liste des premières pages" activé.

4. Le programme peut avoir des catégories qui lui sont associées (par exemple un partenaire de mise en œuvre). Si tel est le cas, remplissez-les.

### Personnalisez la liste de tâches concernant les instances d'entité suivie pour les programmes avec l'option "Afficher la liste de la première page" désactivée.{ #custom-tei-working-list-for-programs-with-display-front-page-list-set-to-false } 

1. Ouvrez l'application **Saisie**.

2. Sélectionnez une unité d'organisation.

3. Sélectionnez un programme de suivi avec l'option "Afficher la liste de la première page" désactivée.

4. Si le programme a une liste de tâches personnalisée, vous avez la possibilité de cliquer dessus et de la charger.

![](resources/images/tei_list.png)

### Filtrer la liste { #filter-the-list } 

Utilisez les touches au dessus de la liste pour la filtrer.

![](resources/images/tei_list_filters.png)

Par exemple, vous pouvez filtrer la liste de sorte que seules les instances d'entité suivie auxquelles un événement vous a été attribué soient affichées : cliquez sur le filtre "Attribué à" (1), sélectionnez "Moi" (2) puis "Appliquer" les modifications (3).

![](resources/images/tei_list_filter_example.png)

### Trier la liste { #sort-the-list } 

Cliquez sur l'un des en-têtes de colonne pour trier la liste à travers cette colonne. Une petite flèche s'affiche à côté de l'en-tête de la colonne pour indiquer l'ordre de tri actuel. Cliquez à nouveau pour basculer entre l'ordre croissant et l'ordre décroissant.

![](resources/images/tei_list_sort_order.png)

### Modifier la présentation de la liste { #modify-the-list-layout } 

Vous pouvez sélectionner les colonnes qui doivent apparaître dans la liste et également réorganiser l'ordre des colonnes.

Cliquez sur l'icône **engrenage** dans l'angle supérieur droit de la liste. Cochez les cases des colonnes que vous souhaitez afficher (1) et réorganisez les colonnes par par la fonction glisser-déposer (2).

![](resources/images/tei_list_column_layout.png)

### Charger une vue de liste prédéfinie { #loading-a-predefined-list-view } 

Les vues de liste prédéfinies sont perceptibles au-dessus des filtres de la liste. Cliquez sur une vue pour la charger.

![](resources/images/tei_list_predefined_views.png)

## Liste de tâches des étapes du programme Tracker { #tracker-program-stage-working-list } 

Vous pouvez afficher les éléments de données d'une seule étape dans une liste de tâches. Sélectionnez l'option "Étape du programme" dans la liste déroulante "Plus de filtres", puis choisissez une étape du programme.

![](resources/images/program_stage_button.png)

![](resources/images/program_stage_working_list.png)

La liste des étapes du programme tracker peut être [filtrée](#filter-the-list), [triée](#sort-the-list), [modifiée](#modify-the-list-layout), [sauvegardée](#capture_view_save), [mise à jour](#capture_view_update), [supprimée](#capture_view_delete) et [partagée](#capture_view_share) de la même manière que d'autres listes de tâches.

## Informations sur Ie gestionnaire / I'administrateur { #implementer_info } 

### Mise en cache des métadonnées { #metadata_caching } 

Pour des raisons de performances, l'application Capture met en cache les métadonnées dans le navigateur du client. Lorsque les métadonnées sont mises à jour sur le serveur, les modifications doivent être communiquées aux clients ayant déjà mis les métadonnées en cache. Selon le changement, cette opération se fait de trois manières différentes :

1. Si la modification est limitée à un programme, vous devrez alors accroître la version de ce programme. Par exemple, si vous modifiez les éléments de données d'un programme ou d'une règle de programme, la version du programme en question doit être augmentée.

2. Lorsque la modification n'est PAS limitée à un programme, vous devrez donc augmenter TOUTE version de programme afin que cette modification soit transmise aux clients. Il s'agit par exemple de modifications de constantes, de niveaux d'unités d'organisation ou de groupes d'unités d'organisation.

3. Les ensembles d'options constituent l'exception aux deux règles ci-dessus. Les ensembles d'options disposent de leur propre propriété de version, ce qui veut dire que l'augmentation de la version de l'ensemble d'options doit garantir la transmission des métadonnées de l'ensemble d'options aux clients.


## Tableau de bord d'inscription  { #enrollment-dashboard } 

### Activation du tableau de bord d'inscription { #enabling-the-enrollment-dashboard } 

#### Option d'adhésion { #opt-in } 

Activez le tableau de bord d'inscription à un programme Tracker pour tous les utilisateurs. La boîte de dialogue est visible pour les utilisateurs disposant d'un accès à l'édition du programme.

![](resources/images/enrollment-dash-opt-in.png)

#### Option de non participation { #opt-out } 

Désactivez le tableau de bord d'inscription à programme Tracker pour tous les utilisateurs.

![](resources/images/enrollment-dash-opt-out.png)

### Accéder au tableau de bord d'inscription avec l'url  { #reaching-the-enrollment-dashboard-via-url } 

Vous accédez au tableau de bord d'inscription en utilisant la barre d'adresse de votre navigateur ou l'interface utilisateur de l'application de saisie. 
Dans cette section, nous nous concentrons sur le premier cas d'utilisation, où vous saisissez ou collez dans la barre d'adresse, l'URL à laquelle vous souhaitez accéder .

![](resources/images/enrollment-dash-01.png)

Vous pouvez accéder au tableau de bord d'inscription et consulter l'inscription d'une instance d'entité suivie spécifique en utilisant _uniquement_ l'identifiant de l'inscription. Par exemple, le lien .../dhis-web-saisie/#/inscription?idinscription=wBU0RAsYjKE vous 
mènera au tableau de bord de l'inscription qui pour identifiant`wBU0RAsYjKE`.

Le haut du tableau de bord définit votre contexte. Par exemple, sur l'image ci-dessous, le contexte se présente comme suit : le programme sélectionné est "Programme Enfant", l'unité d'organisation est "Ngelehun CHC", la personne sélectionnée est "Anna Jones" et l'inscription sélectionnée est "2017-11-16 11 :38".

![](resources/images/enrollment-dash-02.png)

Vous pouvez modifier votre contexte en cliquant sur le bouton "x".

![](resources/images/enrollment-dash-03.png)

#### Désélectionner le programme { #deselecting-the-program } 

Lorsque vous désélectionnez le programme, vous voyez ce qui suit

![](resources/images/enrollment-dash-05.png)

##### Sélection d'un programme avec des inscriptions  { #selecting-a-program-with-enrollments } 

Lorsque les sélections de programmes _et_ d'inscriptions sont vides, vous devez d'abord sélectionner un programme. Si l'instance d'entité suivie (dans ce cas "Anna Jones") a des inscriptions au programme que vous sélectionnez, vous verrez le message suivant.

![](resources/images/enrollment-dash-09.png)

##### Sélection d'un programme sans aucune inscription { #selecting-a-program-with-zero-enrollments } 

Si l'instance de l'entité suivie (dans ce cas, "Anna Jenkins") n'a aucune inscription au programme que vous sélectionnez, vous verrez un message indiquant l'absence d'inscriptions pour ce programme. 
Vous aurez également la possibilité d'inscrire "Anna Jenkins" dans le programme.

![](resources/images/enrollment-dash-10.png)

##### Sélection d'un programme d'événement  { #selecting-an-event-program } 

Lorsque vous sélectionnez un programme d'événement, vous verrez ce qui suit. (N'oubliez pas que les programmes d'événements n'ont pas d'inscriptions dans le système, seuls les programmes de suivi en ont).

![](resources/images/enrollment-dash-11.png)

Vous aurez également la possibilité de créer un nouvel événement pour le programme sélectionné ou d'afficher les listes de tâches du programme sélectionné.

##### Sélection d'un programme avec un type d'entité suivi différent { #selecting-a-program-with-a-different-tracked-entity-type } 

Lorsque le type d'entité suivie que vous avez sélectionné est une personne (comme dans notre exemple avec Anna Jenkins) et que vous sélectionnez un programme qui ne désigne pas une personne mais, par exemple, un Cas de paludisme, vous verrez ce qui suit.

![](resources/images/enrollment-dash-12.png)

Vous avez également la possibilité d'inscrire une instance d'entité suivie au programme que vous avez sélectionné.

#### Désélectionner l'unité d'organisation{ #deselecting-the-organisation-unit } 

Lorsque vous désélectionnez l'unité d'organisation, vous voyez ce qui suit

![](resources/images/enrollment-dash-06.png)

#### Désélectionner l'instance d'entité suivie  { #deselecting-the-tracked-entity-instance } 

Lorsque vous désélectionnez l'instance de l'entité suivie, dans ce cas "Anna Jones", vous êtes redirigé vers les listes de tâches de ce programme de suivi.

![](resources/images/enrollment-dash-07.png)

#### Désélectionner l'inscription  { #deselecting-the-enrollment } 

Lorsque vous désélectionnez l'inscription, vous voyez ce qui suit

![](resources/images/enrollment-dash-08.png)


###Actions rapides  { #quick-actions } 

Le widget d'actions rapides propose des raccourcis pour les actions fréquemment menées dans le cadre de l'inscription en cours.

![](resources/images/enrollment-dashboard-quick-actions.png)

### Liste des étapes du programme { #program-stage-list } 

Les étapes peuvent être repliées ou développées pour afficher les événements qu'elles renferment.

![](resources/images/enrollment-dash-stages-events-02.png)

#### Étapes repliées { #collapsed-stages } 

![](resources/images/enrollment-dash-stages-events-01.png)

Lorsque l'étape est repliée, vous pouvez voir ses informations récapitulatives, notamment:
- L'Icône
- Nom de l'étape du programme
- Description de l'étape du programme (en plaçant le curseur sur l'icône d'informations)
- Nombre total d'événements
- Date de la dernière mise à jour
Date de la dernière mise à jour Selon le statut des événements, il peut y avoir des informations supplémentaires concernant : le nombre total d'événements en retard ou le nombre total d'événements programmés.

#### Étapes développées { #expanded-stages } 

![](resources/images/enrollment-dash-stages-events-03.png)

Lorsque vous déroulez la liste, vous verrez que le tableau contient les données des événements de l'étape. Cela inclut les colonnes obligatoires: `Statut`, `Date du rapport` et `Unité d'enregistrement`. Les colonnes suivantes dépendent des éléments de données qui ont été sélectionnés comme `Afficher dans la liste` de l'événement.

Les événements sont triés avec les plus récents en haut. Les autres colonnes peuvent également être triées.

![](resources/images/enrollment-dash-stages-events-04.png)

Lorsque vous cliquez sur le bouton **Nouveau {nom de l'événement de l'étape}**, vous serez redirigé vers la page **Ajouter un nouvel événement** pour l'étape sélectionnée.

![](resources/images/enrollment-dash-stages-events-06.png)


Lorsque vous cliquez sur le bouton **Aller au {nom de l'événement de l'étape}** complet, vous serez redirigé vers la **Page de la liste des étapes du programme** pour l'étape sélectionnée.

![](resources/images/enrollment-dash-stages-events-08.png)

#### Étapes développées avec plus de 5 événements  { #expanded-stages-with-more-than-5-events } 

S'il y a plus de 5 événements dans la liste, seuls les 5 premiers seront affichés. Vous pourrez consulter le reste en cliquant sur **Afficher plus**.

![](resources/images/enrollment-dash-stages-events-05.png)

Si vous souhaitez replier les événements, vous pouvez cliquer sur le bouton ** Remonter la liste **, ce qui ramènera le tableau au tri par défaut et aux 5 premiers événements .

![](resources/images/enrollment-dash-stages-events-07.png)

### Widget d'inscription  { #enrollment-widget } 

Sur la page d'inscription, vous pouvez voir le widget d'inscription

![](resources/images/enrollment-dash-enrollment-widget-1.png)

#### Actions d'inscription { #enrollment-actions } 

Lorsque vous cliquez sur le bouton des actions de l'inscription, un menu avec toutes les actions disponibles s'ouvre. Vous pouvez définir ou modifier le statut de l'inscription (Actif, Annulé ou Terminé) à l'aide des boutons du menu. Vous pouvez marquer ou supprimer l'inscription pour effectuer un suivi.

![](resources/images/enrollment-dash-enrollment-widget-2.png)

Il ne peut y avoir qu'une seule inscription active à la fois. En cas d'absence d'inscriptions actives, il y aura un bouton **Ajouter un nouveau** pour inscrire à nouveau l'instance d'entité suivie dans le programme. Si le programme n'autorise qu'une seule inscription par instance d'entité suivie, le bouton **Ajouter un nouveau ** sera désactivé avec une info-bulle indiquant qu' `Une seule inscription par {TET} est autorisée dans ce programme`.

![](resources/images/enrollment-dash-enrollment-widget-add-new.png)

#### Supprimer l'inscription { #delete-the-enrollment } 

Vous pouvez supprimer l'inscription en cliquant sur le bouton Supprimer et en confirmant l'action dans la fenêtre modale.

![](resources/images/enrollment-dash-enrollment-widget-3.png)

#### Widget de commentaires sur les inscriptions { #enrollment-comment-widget } 

![](resources/images/enrollment-widget-comment.png)

Le widget des commentaires sur les inscriptions affiche les commentaires et donne la possibilité d'en ajouter d'autres en rapport avec l'inscription en cours.

En cliquant dans le champ de texte, vous pourrez saisir un nouveau texte et voir les boutons d'action **Enregistrer le commentaire** et **Annuler**. Notez que les commentaires sur les inscriptions sont attribués à un utilisateur et ne peuvent être supprimés.

### Widget de relation { #relationship-widget }

Le widget Relations sur le tableau de bord d'inscription est utilisé pour afficher les relations liées à d'autres enregistrements.
Le nombre à côté du titre indique le nombre total de relations.

![](resources/images/enrollment-dash-relationship-widget.png)

Pour les relations des instances d'entités suivies, les principaux attributs affichés dans le widget sont les attributs qui ont été sélectionnés pour être affichés sur la page du type de relation dans l'application Maintenance.

Si aucun attribut n'est sélectionné, une ligne sera affichée par enregistrement avec le nom du type d'entité suivi et la date de création de la relation.

Lorsque vous cliquez sur une instance d'entité suivie, vous serez dirigé vers le Tableau de bord Inscriptions. Si le type de relation inclut un programme, vous serez dirigé vers la dernière inscription pour ce programme. Si aucun programme n'est spécifié, vous serez tout de même conduit vers le Tableau de bord Inscriptions, mais sans programme.

Cliquez sur le bouton **Ajouter** pour ajouter une nouvelle relation. L'ajout d'une nouvelle relation ouvre une boîte de dialogue où vous pouvez sélectionner le type de relation applicable.

![](resources/images/enrollment-dash-relationship-widget-add.png)

Choisissez entre relier à une instance d'entité suivie existante ou en créer une nouvelle.

![](resources/images/enrollment-dash-relationship-widget-add-choose.png)

#### Instance d'entité suivie existante { #existing-tracked-entity-instance }

Utilisez le formulaire de recherche pour trouver un enregistrement existant avec lequel créer un lien.

![](resources/images/enrollment-dash-relationship-widget-add-existing.png)

#### Nouvelle instance d'entité suivie { #new-tracked-entity-instance }

Utilisez le formulaire pour créer un nouvel enregistrement et un nouveau lien.

![](resources/images/enrollment-dash-relationship-widget-add-new.png)

### Widget du profil d'une instance d'entité suivie { #tracked-entity-instance-profile-widget } 

Sur le tableau de bord d'inscription, vous pouvez visualiser le widget du profil de l'instance d'entité suivie. Ce widget vous permet de consulter les valeurs des principaux attributs.

![](resources/images/enrollment-dash-tei-profile-widget.png)

Cliquez sur le bouton **Modifier** pour apporter des modifications au profil de l'instance d'entité suivie. La modification du profil fait s'ouvrir une boîte de dialogue dans laquelle les attributs du profil peuvent être modifiés.

![](resources/images/enrollment-dash-tei-profile-widget-edit.png)

### Widget de commentaires { #feedback-widget } 

![](resources/images/enrollment-dash-feedback-widget-1.png)

Sur le tableau de bord d'inscription, le widget des commentaires affiche le texte et les valeurs qui sont activés sous certaines conditions. Si le tableau de bord actuel active certaines règles définies dans le programme, le texte ou les valeurs seront automatiquement affichés.

#### État vide { #empty-state } 

Si le tableau de bord actuel n'a aucun commentaire, le widget affiche un court message _vide_. 
Si le programme n'est pas réglé de sorte à afficher des commentaires pour le tableau de bord actuel, c'est que le widget est masqué.


### Widget d'indicateurs { #indicator-widget } 

![](resources/images/enrollment-dash-indicator-widget-1.png)

Sur le tableau de bord d'inscription, le widget d'indicateurs affiche le texte de l'indicateur et les valeurs du tableau de bord actuel. 
Les indicateurs seront triés par ordre alphabétique.

#### État vide { #empty-state } 

S'il n'y a aucun indicateur associé ou de sortie d'indicateur pour le tableau de bord actuel, le widget affiche un court message _vide_. 
Si le tableau de bord actuel ne peut afficher aucune sortie d'indicateur (car n'ayant aucun indicateur associé), c'est que le widget est masqué.

#### Légendes { #legends } 

Certaines valeurs d'indicateurs affichent un cercle coloré à côté de la valeur. 
Le cercle coloré indique la couleur de la légende associée à cette valeur d'indicateur. 
Les cercles de légende colorés ne sont affichés que pour les valeurs d'indicateurs qui les ont configurés.


### Widget d'avertissement { #warning-widget } 

![](resources/images/enrollment-dash-warning-widget-1.png)

Sur le tableau de bord d'inscription, le widget d'avertissement affiche les avertissements en lien avec le tableau de bord en cours d'utilisation. Le widget affiche les avertissements qui ne sont associés à aucun élément de données spécifique. 
Si aucun avertissement n'est affiché pour le tableau de bord, c'est que le widget est masqué.


## Page d'affichage et de modification de l'évènement d'inscription { #enrollment-event-view-and-edit-page } 

### Navigation  { #navigation } 

Vous pouvez accéder à la page de modification de l'événement d'inscription en cliquant sur n'importe quel événement de la liste des étapes du programme depuis la page Aperçu de l'inscription.

### Contexte de la barre supérieure { #top-bar-context } 

En haut de la page, vous pouvez remarquer la présence d'une variété d'informations liées au contexte actuel. Vous pouvez voir le programme, l'unité d'organisation, l'entité suivie, la date d'inscription, l'étape et la date de l'événement d'inscription.

Pour accéder à la page Aperçu de l'inscription, vous pouvez :
- cliquez sur le bouton "Retour vers toutes les étapes et événements".
- désélectionnez l'étape dans la barre supérieure.
- désélectionnez l'événement dans la barre supérieure.

![](resources/images/enrollment-event-view-edit-navigation.png)


### Widget d'erreur { #error-widget } 

![](resources/images/enrollment-dash-error-widget-1.png)

Sur le tableau de bord d'inscription, le widget des erreurs affiche les erreurs liées au tableau de bord en cours d'utilisation. Le widget affiche les erreurs qui ne sont associées à aucun élément de données spécifique. 
Si aucune erreur n'est affiché pour le tableau de bord, c'est que le widget est masqué.

### Afficher/Modifier le formulaire d'événement { #viewedit-event-form } 

Il s'agit du formulaire dans lequel vous pouvez consulter et modifier les détails de l'événement d'inscription.

#### En-tête du formulaire  { #form-header } 

Sur le formulaire d'affichage et de modification de l'événement, vous pouvez remarquer le nom et l'icône de l'étape.

![](resources/images/enrollment-event-view-edit-header.png)

### Contexte de la barre supérieure { #top-bar-context } 

En haut de la page, vous pouvez remarquer les différentes informations liées au contexte actuel. Vous pouvez voir le programme, l'unité d'organisation, l'entité suivie, la date et l'étape de l'inscription.

Pour accéder à la page Aperçu de l'inscription, vous pouvez: 
- désélectionnez l'étape dans la barre supérieure.
- désélectionnez l'événement dans la barre supérieure.

![](resources/images/enrollment-event-new-navigation.png) 

### Nouveau formulaire de widget d'événement { #new-event-widget-form } 
Il s'agit du formulaire sur lequel vous pouvez modifier les détails de l'événement avant de l'enregistrer. Dans l'en-tête, vous pouvez voir le nom et l'icône de l'étape.
![](resources/images/new-event-widget-form-header.png)


### Date fixée dans le formulaire d'événement de modification { #scheduled-date-in-edit-event-form } 
Si un événement a le statut Programmé ou En retard, vous pourrez voir les onglets **Rapport** et **Programme**.

![](resources/images/enrollment-edit-event-schedule-date-1.png)


Dans l'onglet **Rapport**, le champ dédié à la date fixée sera toujours affiché, mais sera grisé, et il y aura une icône juste à côté avec une info-bulle où l'on peut lire "Aller à l'onglet **Programme** pour reprogrammer cet événement ”.

Dans l'onglet **Programme**, des informations similaires sur la programmation d'un événement comme dans l'espace de travail Nouvel événement seront affichées. Vous pourrez modifier la date fixée et enregistrer la modification en cliquant sur le bouton **Programmer**.

![](resources/images/enrollment-edit-event-schedule-date.png)

Si un événement actif avait déjà une date fixée avant de devenir actif ou si un événement terminé a une date fixée, cette date doit toujours être affichée dans l'espace de travail. 
Il sera verrouillé avec une icône juste à côté et une info-bulle où l'on peut lire "La date prévue ne peut être modifiée pour les événements actifs ou terminés".

#### Date fixée avec l'option Masquer la date d'échéance activé  { #scheduled-date-with-hide-due-date-enabled } 
Si le drapeau "Masquer la date d'échéance" situé au niveau de la configuration de maintenance est activé, la date fixée ne sera pas affichée dans le formulaire.

Cependant, vous pouvez toujours programmer un événement, mais l'évènement choisit automatiquement la date en fonction des "Jours fixés depuis le début" qui ont été configurés au niveau de la Maintenance, et cette fonctionnalité ne peut pas être modifiée. 
Dans l'onglet **Programme**, il y aura "Informations sur le Programme" indiquant "Programmé automatiquement pour xx/xx/xx", et l'utilisateur pourra cliquer sur le bouton **Programmer**.


#### Mode affichage { #view-mode } 

Lorsque le formulaire est en mode affichage, le titre de la page apparaît comme sui: `Inscription: Afficher l'événement`. Vous pourrez voir sur la page toutes les informations relatives à l'événement. Cliquez sur le bouton `Modifier l'événement` pour passer en mode modification. 
Ce mode n'agit pas sur les événements programmés.

![](resources/images/enrollment-event-view-edit-view.png)

#### Mode modification { #edit-mode } 

Lorsque le formulaire est en mode modification, le titre de la page apparaît comme suit : `Inscription: Modifier l'événement`. Vous pouvez modifier l'événement et cliquer sur le bouton `Enregistrer`. Cliquez sur le bouton `Annuler` pour passer en mode affichage sans enregistrer les modifications. 
Les événements programmés font exception et s'ouvrent directement en mode modification, sans que l'utilisateur n'ait à cliquer sur `Modifier l'événement`. Cliquez sur le bouton `Annuler` pour revenir à la page du tableau de bord d'inscription sans enregistrer les modifications.

![](resources/images/enrollment-event-view-edit-edit.png)

Dans ce formulaire, vous pouvez également supprimer l'événement en cliquant sur le bouton `Supprimer`. Une fenêtre modale apparaîtra pour confirmer votre choix de supprimer cet événement. Vous serez ensuite redirigé vers la page du tableau de bord d'inscription.

![](resources/images/enrollment-edit-event-delete.png)

#### Widgets sur la page Affichage/Modification d'évènement { #widgets-in-viewedit-event-page } 

Les widgets de la colonne de droite s'afficheront et fonctionneront de la même manière que ceux mentionnés dans le [tableau de bord d'inscription](#tableau-de-bord-d'inscription).

![](resources/images/enrollment-event-view-edit-widgets.png)

## Ajouter un événement sur la page d'inscription { #add-event-in-enrollment-page } 

Vous pouvez accéder à cette page d'ajout d'événement en cliquant sur le bouton **Nouveau {nom de l'événement de l'étape}** sur la page d'aperçu. 
Sur cette page, vous pouvez passer d'un onglet à une autre : **Rapporter** pour ajouter un nouvel événement, **Programmer** pour programmer un événement et **Référer** pour référer un événement. 
Si vous avez des modifications non enregistrées dans un onglet et que vous passez à un autre onglet, un avertissement s'affichera.

### Nouveau formulaire de widget d'événement { #new-event-widget-form } 

Il s'agit du formulaire dans lequel vous pouvez modifier les détails d'un événement avant de l'enregistrer. Dans l'en-tête, vous pouvez voir le nom et l'icône de l'étape.

![](resources/images/new-event-widget-form-header.png)

### Page d'un nouvel événement sans étape  { #new-event-page-without-a-stage } 

Si vous entrez dans la page d'un nouvel événement sans qu'une étape soit sélectionnée, une liste des étapes disponibles s'affichera. 
Sélectionnez l'étape à laquelle vous souhaitez ajouter un nouvel événement en cliquant sur le bouton concerné. 
Pour revenir à la page Aperçu de l'inscription, cliquez sur le bouton **Annuler sans enregistrer**

![](resources/images/enrollment-event-new-stage-selection-list.png)

### Demandez à l'utilisateur de créer un nouvel événement lorsque l'étape est terminé{ #ask-user-to-create-new-event-when-stage-is-complete } 
Si cet indicateur sous forme de drapeau a été activé pour l'étape dans Détails de l'étape dans la partie Maintenance, une fenêtre modale s'affichera après que l'utilisateur ait cliqué sur le bouton **Terminer** ou coché la case de l'événement **Terminer** et cliqué sur Enregistrer. L'utilisateur peut choisir le bouton **Oui, créer un nouvel événement** pour accéder à la page Nouvel événement ou **Non, annuler** pour revenir au tableau de bord d'inscription. S'il n'y a qu'une seule étape possible de disponible, l'utilisateur sera directement dirigé vers l'espace de travail Nouvel événement pour cette étape.

### Programmer le formulaire du widget d'événements { #schedule-event-widget-form } 
Au lieu de rapporter un événement, l'utilisateur peut choisir de programmer l'événement pour une date ultérieure. Le formulaire s'ouvrira avec une suggestion de date. Cette date est déterminée par un ensemble de règles tel qu'expliqué ci-dessous.

La date suggérée pour le premier événement d'une étape de programme dans une inscription est toujours basée sur la date d'inscription ou la date de l'évènement (selon la configuration du programme). Le paramètre de configuration de l'étape du programme "jours programmés depuis le début" sera ajouté à la date de départ pour déterminer la date suggérée.

### Assigning user to new events { #assigning-user-to-new-events } 
When reporting or scheduling an event, you can assign a user to it. This feature must be enabled per program stage in a tracker program by clicking the "Allow user assignment of events" check box.

Vous trouverez la section sur le cessionnaire au bas de la page de saisie des données. Recherchez et sélectionnez l'utilisateur auquel vous souhaitez attribuer l'événement. Le cessionnaire sera préservé lorsque vous sauvegarderez l'événement.

![](resources/images/user_assignment_report_new.png)

![](resources/images/user_assignment_schedule_new_filled.png)

### Change assignee { #change-assignee } 
1. In View/Edit enrollment event page

2. In the right column you will find the assignee widget.

    ![](resources/images/user_assignment_edit_enrollment.png)

3. Click the **Edit** button, or the **Assign** button if the event is not currently assigned to anyone.

    ![](resources/images/user_assignment_edit_button.png)

    ![](resources/images/user_assignment_edit_add.png)

4. Search for and select the user you would like to reassign the event to. Click the **Save** button.


#### 1. **Prochaine date fixée par défaut** { #1-default-next-scheduled-date } 
Si une étape de programme a une prochaine date fixée par défaut configurée, la date suggérée est la prochaine date fixée la plus proche. Vous trouverez ci-dessous un exemple illustrant cette fonctionnalité.
>
1. Un élément de données avec une valeur de type date doit être créé et assigné à l'étape de programme particulière avec accès aux dates futures. Le nom de l'élément de données pourrait par exemple être : Prochaine date de suivi suggérée. L'étape du programme est configurée de sorte à utiliser l'élément de données par défaut lors de la planification d'un nouvel événement en attribuant l'élément de données à la prochaine date fixée par défaut.

![](resources/images/schedule_event_01.png)

2. Une règle de programme basée sur les données saisies à l'étape du programme déterminera le nombre de jours jusqu'au prochain suivi suggéré. Par exemple : Une règle de programme avec la condition suivante: #{penta_dose} == '1' (La règle de programme se déclenchera lorsque le TEI aura reçu Penta Dose 1). Attribuez une valeur à l'élément de données: prochaine date de suivi suggérée avec l'expression : d2:addJours(V{date_d'évènement}, '30') **Le nombre suggère le nombre de jours qui sépare la date de l'événement au prochain événement programmé.**

3. Ouvrez l'application Saisie et créez une TEI. Tant que Penta Dose a pour valeur Dose 1, le prochain événement programmé suggéré sera à 30 jours de la date de l'événement. Lors de la planification d'un nouvel événement, le système reprendra l'élément de données tant qu'il a une valeur.

![](resources/images/schedule_event_02.png)

![](resources/images/schedule_event_03.png)

![](resources/images/schedule_event_04.png)

L'utilisateur peut également trouver plus d'informations sur le nombre d'événements programmés à la même date sélectionnée ou dans l'intervalle entre la date sélectionnée et la date suggérée dans la boîte d'informations.

Au bas de la date fixée, l'utilisateur peut ajouter un commentaire sur l'événement programmé.

Après avoir cliqué sur le bouton **Programmer**, l'utilisateur sera redirigé vers la page d'aperçu de l'inscription.

#### 2. **Jours d'intervalle standard**  { #2-standard-interval-days } 

1. Si l'étape du programme a des jours d'intervalle standard configurés, la date suggérée est déterminée en ajoutant la valeur des jours d'intervalle standard à la date de l'événement le plus récent.

![](resources/images/standard_interval_days_01.png)

2. Si l'étape du programme n'a pas de configuration sur une prochaine date programmée par défaut, le système utilisera les jours d'intervalle standard pour calculer la date du prochain événement programmé.

![](resources/images/standard_interval_days_02.png)


#### 3. **Si aucune valeur n'est trouvée sur l'une ou l'autre, la date suggérée sera définie en fonction de la date d'inscription et la date de l'évènement.**  { #3-if-no-value-is-found-on-either-the-suggested-date-will-be-defined-by-enrollment-date-and-incident-date } 

1. Si l'option **Générer des événements en fonction de la date d'inscription** est cochée dans l'application Maintenance, la prochaine date d'événement suggérée est déterminée en ajoutant la valeur des jours programmés depuis le début à la date d'inscription.

![](resources/images/schedule_event_from_enrollmentdate_01.png)

2. Si l'option **Afficher la date de l'évènement** est cochée, la prochaine date d'événement suggérée est déterminée en ajoutant la valeur des jours programmés depuis le début à la date de l'évènement de départ.

![](resources/images/schedule_event_from_incidentdate_01.png)

## Liste des événements d'étapes de programme  { #program-stage-event-list } 

Vous pouvez accéder à la liste des événements de l'étape du programme en cliquant sur le bouton **Accéder à l'intégralité du {nom de l'événement de l'étape}** sur la page d'aperçu.

### Liste des événements d'étape   { #stage-event-list } 

À ce niveau, vous pouvez voir tous les événements d'une étape

#### En-tête de la liste des événements d'une étape { #stage-event-list-header } 

Dans l'en-tête, vous pouvez remarquer le nom et l'icône de l'étape

![](resources/images/program-stage-event-list-header.png)

## Combinaison d'options d'attributs pour le Tracker { #attribute-option-combo-for-tracker } 

Vous pouvez ajouter de la ségrégation à vos données d'événements suivis à l'aide de combinaisons d'options d'attributs. Pour commencer, ajoutez une combinaison de catégories à la configuration de votre programme Tracker.

Le sélecteur d'options d'attributs s'affiche lorsque vous ajoutez, modifiez ou consultez des événements suivis. En outre, le sélecteur s'affiche lors de l'inscription si des événements sont générés automatiquement dans le cadre du processus d'inscription.

Exemple d'un nouvel événement suivi:

![](resources/images/attribute-option-combo-tracker.png)


# Utilisation de l'application Saisie d'événements { #event_capture_app } 

## À propos de l'application Saisie d'événements { #about_event_capture_app } 

![](resources/images/event_capture/event_list.png)

Dans l'application **Saisie d'événements**, vous pouvez enregistrer des événements qui se 
sont produits à un moment et un endroit précis. Un événement peut se produire à n'importe 
quel moment. Cela contraste avec les données de routine, qui peuvent être saisies à 
intervalles réguliers prédéfinis. Les événements sont parfois appelés cas ou 
enregistrements. Dans DHIS2, les événements sont liés à un programme. L'application **Saisie d'événements** 
vous permet de sélectionner l'unité d'organisation et le programme et de spécifier une date 
à laquelle un événement s'est produit, avant de saisir les informations relatives à l'événement.

L'application **Saisie d'événements** fonctionne en ligne et hors ligne. Si la connectivité 
Internet diminue, vous pouvez continuer à saisir des événements. Les événements seront 
stockés localement dans votre navigateur web (client). Lorsque la connectivité sera 
rétablie, le système vous demandera de télécharger les données stockées localement. Le 
système envoie ensuite les données au serveur où elles sont stockées.

> **N.B.**
>
> Si vous fermez le navigateur web en mode hors ligne, il est impossible 
> de rouvrir une nouvelle fenêtre de navigateur web et de continuer la session de travail. 
> Toutefois, les données seront toujours enregistrées localement et pourront être téléchargées sur 
> le serveur la prochaine fois que la machine sera en ligne et que vous vous serez connecté 
> au serveur.

  - Vous ne verrez que les programmes associés à l'unité d'organisation que vous avez 
    sélectionnée et les programmes auxquels vous avez accès grâce à votre rôle d'utilisateur.

  - Les messages d'erreur/avertissement de type "skip-logic" et de validation sont pris en charge 
    lors de l'enregistrement.

  - Lorsque vous fermez une unité d'organisation, vous ne pouvez ni enregistrer ni modifier 
    des événements pour cette unité d'organisation dans l'application **Saisie d'événements**. Vous
    pouvez toujours consulter et filtrer la liste des événements et afficher les détails d'un
    événement.

  - L'évaluation à la volée des expressions d'indicateurs est prise en charge. Si un
    programme a des indicateurs définis pour lui et que toutes les valeurs
    liées à l'expression de l'indicateur sont remplies, le système calculera
    l'indicateur et affichera le résultat.

    ![](resources/images/event_capture/event_editing.png)

  - **Tri:** Cette opération peut être effectuée par un clic sur l'icône de tri de chaque
    en-tête de colonne. Une icône de tri rouge indique la colonne de tri en
    cours. Cependant, la fonctionnalité de tri ne fonctionne que dans la page
    affichée. Actuellement, il n'est pas possible d'effectuer un tri à partir
    du serveur.

  - **Filtrage : **Cette opération s'effectue par un clic sur la petite icône de recherche située
    à droite de l'en-tête de chaque colonne. En cliquant sur ces icônes, vous obtenez un champ de saisie
    dans lequel vous pouvez saisir un critère de filtrage. Le système commence à appliquer le
    filtre dès que l'utilisateur commence à faire sa saisie. Pendant le filtrage, il est 
    possible de définir des dates de début et de fin pour les éléments de données de type date
    et des limites inférieures et supérieures pour les types de chiffres. Le filtrage du côté serveur
    n'est pas pris en charge pour le moment.

## Enregistrer un événement { #event_capture_register_event } 

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Vous ne verrez que les programmes associés à l'unité d'organisation sélectionnée 
    et les programmes auxquels vous avez accès grâce à votre statut d'utilisateur.

4.  Cliquez sur **Enregistrer l'événement**.

5.  Choisissez une date. 

6.  Fournissez les informations requises.

    Si l'étape du programme est configurée pour saisir les coordonnées GPS,
    vous pouvez saisir les coordonnées de deux manières :

      - Entrez les valeurs directement dans les champs correspondants.

      - Choisir un lieu sur une carte. L'option carte affiche également
        les polygones et les points définis pour les unités d'organisation.

7.  Cliquez sur **Sauvegarder et ajouter un nouveau** ou **Sauvegarder et revenir en arrière**.

> N.B : Certains éléments de données d'un événement peuvent être obligatoires (marqués d'une étoile rouge à côté de l'étiquette de l'élément de données). 
> Cela signifie que tous les champs d'éléments de données obligatoires doivent être remplis avant que l'utilisateur n'ait l'autorisation d'enregistrer l'événement. 
> Il y aura une exception à cette règle si l'utilisateur dispose de l'autorisation appelée __ "Ignorer la validation des champs obligatoires dans Saisie Tracker et Saisie d'événements".__ 
> Si l'utilisateur dispose déjà de cette autorisation, il n'a donc pas besoin de remplir les éléments de données obligatoires avant la sauvegarde et 
> l'étoile rouge ne sera pas affichée à côté de l'étiquette de l'élément de données. Notez que les super-utilisateurs qui ont l'autorisation __"TOUT "__ disposent automatiquement 
> cette autorisation.

## Modifier un événement { #event_capture_edit_event } 

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur l'événement que vous souhaitez modifier et sélectionnez **Modifier**.

5.  Modifiez les détails de l'événement et cliquez sur **Mettre à jour**.

## Modifier les événements dans la grille { #event_capture_edit_event_grid } 

La fonction **Modifier dans la grille** permet de modifier un événement sélectionné dans 
le tableau mais uniquement les colonnes (éléments de données) visibles dans la grille. Si 
vous avez besoin de plus de colonnes, utilisez la fonction **Afficher/masquer les colonnes** pour spécifier quelles 
colonnes doivent être affichées dans la liste.

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur l'événement que vous souhaitez modifier et sélectionnez **Modifier dans la grille**.

5.  Modifiez les détails de l'événement.

6.  Cliquez sur un autre événement pour fermer le mode d'édition.

## Partager des événements en mode édition { #event_capture_share_event_edit_mode } 

Vous pouvez partager un événement en mode édition via son adresse web.

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Ouvrez l'événement que vous souhaitez partager en mode édition.

3.  Copiez l'URL.

    Assurez-vous que l'URL contient les paramètres "Evénement" et "UO" (unité 
    d'organisation).

4.  Collez l'URL selon la méthode de partage de votre choix, 
    par exemple un e-mail ou un message dans DHIS2.

    Si vous n'êtes pas connecté à DHIS2 lorsque vous cliquez sur le lien, il vous sera 
    demandé de le faire, c'est-à-die de vous connecter. Vous serez ensuite dirigé vers le tableau de bord.

## Voir l'historique de l'audit d'un événement { #event_capture_view_event_audit_history } 

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur un événement et sélectionnez **Historique d'audits**.

## Supprimer un événement { #event_capture_delete_event } 

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur un événement et sélectionnez **Supprimer**.

5.  Cliquez sur **Supprimer** pour confirmer la suppression.

## Modifier la mise en page d'une liste d'événements { #event_capture_modify_event_list_layout } 

Vous pouvez sélectionner les colonnes à afficher ou à masquer dans une liste d'événements. Cela peut 
être utile par exemple lorsque vous avez une longue liste d'éléments de données 
affectés à une étape du programme. Une fois que vous avez modifié la mise en page, elle est enregistrée 
dans votre profil d'utilisateur. Vous pouvez avoir différentes mises en page pour différents 
programmes.

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur l'icône **Afficher/masquer les colonnes**.

5.  Sélectionnez les colonnes que vous souhaitez afficher et cliquez sur **Fermer**.

## Imprimer une liste d'événements { #event_capture_print_event_list } 

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur **Imprimer la liste**.

## Télécharger une liste d'événements { #event_capture_download_event_list } 

1.  Ouvrez l'application **Saisie d'évènements**.

2.  Sélectionnez une unité d'organisation.

3.  Sélectionnez un programme.

    Tous les événements inscrits au programme sélectionné apparaissent dans une liste.

4.  Cliquez sur l'icône **Télécharger** et sélectionnez un format.

    Vous pouvez télécharger une liste d'événements aux formats XML, JSON ou CSV.




# Utilisation de l'application Saisie Tracker { #tracker_capture_app } 

## À propos de l'application Saisie Tracker { #about_tracker_capture_app } 

![](resources/images/tracker_capture/tracker-capture-tei-list.png)

L'application **Saisie Tracker** est une version avancée de l'application **Saisie d'événements**.

  - **Saisie dévénements** : gère les événements uniques *sans* inscription

  - **Tracker Capture** : gère plusieurs événements (y compris un seul événement) 
    *avec* inscription.

  - Vous saisissez des données d'événement pour une instance d'entité suivie (TEI) 
    enregistrée.

  - Vous ne verrez que les programmes associés à l'unité d'organisation que vous avez 
    sélectionnée et les programmes auxquels vous avez accès grâce à votre rôle d'utilisateur.

  - Les options que vous voyez dans les fonctions de recherche et d'enregistrement dépendent du programme que vous avez sélectionné.
    Les attributs du programme contrôlent ces options.
    Les attributs décident également des noms de colonnes dans la liste de 
    TEI.

    Si vous ne sélectionnez pas un programme, le système choisit les attributs par défaut.

  - Les messages d'erreur/avertissement de type "skip-logic" et de validation sont pris en charge 
    lors de l'enregistrement.

  - Lorsque vous fermez une unité d'organisation, vous ne pouvez ni enregistrer ni modifier 
    des événements de cette unité d'organisation dans l'application **Saisie Tracker**. 
    Vous pouvez toujours rechercher des TEI et filtrer les résultats de la recherche.
    Vous pouvez également afficher le tableau de bord d’une TEI particulière.

## À propos des tableaux de bord des instances d'entités suivies (TEI) { #about_tracked_entity_instance_dashboard } 

![](resources/images/tracker_capture/tei_dashboard.png)

Vous pouvez gérer une TEI à partir de son tableau de bord dans l'application **Saisie Tracker**.

  - Le tableau de bord est composé de widgets. Par glisser-déposer, déplacez les widgets 
    et placez-les dans l'ordre et dans la position que vous voulez.

  - Cliquez sur l'icône en forme d'épingle pour épingler la colonne de droite des widgets à une position fixe. 
    Ceci est particulièrement utile lors de la saisie des données.

    Si vous avez plusieurs éléments de données ou formulaires à remplir, épinglez la colonne de widgets de droite. 
    Ainsi, tous les widgets que vous avez placés dans la colonne de droite restent visibles 
    pendant que vous faites défiler la partie de la saisie de données.

  - Tout indicateur défini pour le programme que vous avez sélectionné aura 
    sa valeur calculée et affichée dans le widget **Indicateurs**.

  - Navigation :

      - **Retour** : vous ramène à la page de recherche et d'enregistrement

      - Les boutons "Précédent" et "Suivant" : vous permettent d'accéder au tableau de bord précédent ou suivant 
        dans la liste des résultats de la recherche sur les TEI

    <!-- end list -->

      - Champ **Autres programmes** : si la TEI est inscrite à d'autres 
        programmes, ils sont répertoriés ici. Cliquez sur un programme pour changer le 
        programme pour lequel vous saisissez des données pour la TEI sélectionné.
        Lorsque vous changez de programme, le contenu des widgets change également.

## Déroulement { #workflow_tracker_capture } 

Processus de travail du programme de santé maternelle et infantile

![](resources/images/patients_programs/name_based_information_tracking_process.png)

1.  Créez un nouveau TEI ou recherchez un TEI existant.

    Vous pouvez effectuer une recherche sur des attributs définis, par exemple le nom ou l'adresse.

2.  Inscrivez la TEI à un programme.

3.  En se basant sur les services du programme disponibles à ce moment-là, 
    l'application crée un plan d'activité pour la TEI.

4.  La TEI est dotée de divers services selon le programme 
    et tous ces services sont enregistrés.

5.  Utilisez les informations sur les cas individuels pour créer des rapports.

## Lien vers l'application Saisie Tracker { #linking_to_the_tracker_capture_app } 

### Lien vers un programme spécifique sur l'"écran d'accueil" { #link-to-a-specific-program-on-the-home-screen } 
Vous pouvez partager une sélection de programmes sur l'"écran d'accueil".

1. Ouvrez l'application **Saisie Tracker**.

2. Sélectionnez le programme auquel vous voulez vous associer.

3. Copiez l'URL.

    * Assurez-vous que l'URL contient le paramètre "programme".

4. Collez l'URL selon la méthode de partage de votre choix, 
  par exemple un e-mail ou un message dans DHIS2.

  > Note: If the program does not exist in the selected organisation unit (that is stored in the local cache) the system will instead
  > select the first available program for that organisation unit. If the local cache is empty/clean and the root organisation unit
  > of the current user does not have the specified program, the system will also here select the first available program for the root
  > organisation unit.

### Lien vers le tableau de bord de la TEI { #linking-to-tei-dashboard } 
Vous pouvez partager un tableau de bord de la TEI via son adresse web.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord que vous souhaitez partager.

3.  Copiez l'URL.

    Assurez-vous que l'URL contienne les paramètres "tei", "programme" 
    et "ou" (unité d’organisation).

4.  Collez l'URL selon la méthode de partage de votre choix, 
    par exemple un e-mail ou un message dans DHIS2.

    Si vous n'êtes pas connecté à DHIS2 lorsque vous cliquez sur le lien, il vous sera 
    demandé de le faire, c'est-à-die de vous connecter. Vous serez ensuite dirigé vers le tableau de bord.

## Créer un TEI et l'inscrire à un programme { #create_and_enroll_tracked_entity_instance } 

Vous pouvez créer une TEI et l'inscrire à un programme à partir d'une seule opération :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Dans l'arborescence des unités d'organisation située dans le volet de gauche, 
     

3.  Sélectionnez un programme.

4.  Cliquez sur **Enregistrer**. 

5.  Fournissez les informations requises.

    Le type d’entité suivi et le programme peuvent être configurés de sorte à utiliser un type de fonctionnalité.
    Cela permet de capturer la géométrie soit pour la TEI, soit pour l'inscription.
    Le type de fonctionnalité pris en charge est Point et Polygone. Veuillez consulter **Comment utiliser la géométrie**.

6. Si le programme sélectionné est configuré pour afficher la première étape de l'inscription, 
   tous les champs obligatoires de l'étape devront être renseignés. A la fin de l'étape, 
   Il vous sera également demandé si vous souhaitez terminer l'étape pour laquelle vous avez saisi des données.
   Si vous sélectionnez **Oui**, l'étape aura le statut terminée une fois enregistrée. Si vous sélectionnez **Non**,
   l'étape aura le statut actif.

7.  Si la recherche de programme est configurée, une recherche en arrière-plan sera 
    effectuée sur les champs de recherche pour vous aider à empêcher l'enregistrement de doublons.
    S'il existe des TEI correspondantes, une case bleue sera
    affichée sur le côté droit du formulaire avec la possibilité de visualiser
    ces TEI
correspondantes.

![](resources/images/tracker_capture/tracker_capture_register_integrated_search.png)

S'il existe des TEI correspondantes, cliquez sur **Continuer** pour examiner les éventuels doublons avant d'enregistrer une nouvelle.

S'il n'y a pas de TEI correspondantes, cliquez sur **Enregistrer et continuer** ou **Enregistrer et ajouter une nouvelle**

  - **Enregistrer et continuer** : cette option complète l'enregistrement et ouvre le tableau de bord 
    de la TEI enregistrée

  - **Enregistrer et continuer** : cette option complète l'enregistrement et ouvre le tableau de bord sur la même page.
    Utilisez cette option lorsque vous voulez enregistrer et inscrire 
    une TEI après une autre sans devoir saisir des données.

> Note : Tous les attributs obligatoires doivent être renseignés pour permettre la sauvegarde.
> Les attributs obligatoires sont marqués d'une étoile rouge à côté de leur nom.
> Si l'utilisateur a l'autorité __"Ignorer la validation des champs obligatoires dans Tracker et Event Capture"__
> vous ne serez pas tenu de renseigner les attributs obligatoires et 
> ne verra pas l'étoile rouge à côté du nom de l'attribut. Notez que les super utilisateurs 
> qui ont l'autorité __" TOUT "__ ont automatiquement cette autorité.

## Ouvrir un tableau de bord d'une TEI existante { #open_existing_tracked_entity_instance_dashboard } 

Il existe plusieurs façons de trouver une TEI : En utilisant les "Listes" qui sont des listes prédéfinies dans la sélection actuelle, ou "Recherche" pour une recherche générale.

### Listes { #simple_tracked_entity_instance_search } 

Les listes sont utilisées pour trouver et afficher les TEI dans l'unité d'organisation et le programme sélectionnés.

1.  Ouvrez l'application Saisie Tracker

2.  Dans l'arborescence des unités d'organisation située dans le volet de gauche, 
    sélectionnez une unité d'organisation.

3.  Sélectionnez un programme

4.  Cliquez sur le bouton "Listes" s'il n'est pas encore sélectionné

S'il n'est pas configuré, un ensemble de listes prédéfinies sera disponible :

1.  Toute TEI ayant un statut d'inscription quelconque

2.  Les TEI dont l'inscription au programme en cours est active

3.  Les TEI dont l'inscription au programme en cours est terminée

4.  Les TEI dont l'inscription au programme en cours a été annulée

![](resources/images/tracker_capture/tracker_capture_lists.png)

Vous pouvez sélectionner les colonnes à afficher ou à masquer dans les listes pour chaque programme. Cela sera enregistré dans vos paramètres d'utilisateur.

1.  Cliquez sur le bouton de l'icône **grille**.

2.  Cochez les colonnes que vous souhaitez inclure

3.  Cliquez sur **Enregistrer**

Il est également possible de créer une liste de travail personnalisée avec ses propres filtres. Cette option peut être utilisée pour créer des listes personnalisées instantanément.

![](resources/images/tracker_capture/tracker_capture_lists_custom.png)

Les listes peuvent également être téléchargées ou imprimées.

![](resources/images/tracker_capture/tracker_capture_lists_download.png)

#### Listes prédéfinies personnalisées { #custom-predefined-lists } 

Si le programme est associé à des filtres d'entités suivies personnalisés, ceux-ci remplaceront les quatre listes prédéfinies mentionnées ci-dessus. Les listes prédéfinies constitueront, lorsqu'elles seront bien configurées, un moyen efficace de trouver ou de travailler avec les données pertinentes pour l'utilisateur dans ce programme.

Les listes de tâches peuvent être définies avec une grande variété d'options, en voici quelques exemples :

- Afficher toutes les TEI ayant au moins un événement dans une étape du programme dont la date d'échéance est la date du jour.
- Afficher toutes les TEI ayant au moins un événement attribué à l'utilisateur connecté.
- Afficher toutes les TEI actives, mais non attribuées à aucun utilisateur.

![Listes de tâches prédéfinies dans Saisie Tracker](resources/images/tracker_capture/predefined_working_list_based_on_user_assignment.png)

Consultez la documentation de l'API pour obtenir une liste complète des fonctionnalités prises en charge pour ces filtres d'instance d'entités suivies prédéfinies.

### Recherche { #advanced_tracked_entity_instance_search } 

Le bouton **recherche** permet de rechercher des TEI dans les unités d'organisation auxquelles l'utilisateur a accès. Cette fonction peut être utilisée lorsque vous souhaitez trouver une TEI, mais vous ne connaissez pas l'unité d'organisation ou le programme auxquels elle était inscrite. Il y a deux façons de le faire : Avec et sans contexte de programme. Les champs de recherche doivent être configurés. La configuration de la recherche avec le contexte du programme se fait individuellement pour chaque programme dans l'application de maintenance du programme. Quant à la configuration de la recherche sans contexte du programme, elle se fait individuellement pour chaque type d'entité suivie dans l'application de maintenance des types d'entités suivies.

**Recherche sans contexte de programme:**

1.  Ouvrez l'application **Saisie Tracker**.

2.  Cliquez sur le bouton **Recherche**.

3.  Les champs de recherche seront affichés en groupes. Les attributs uniques 
    ne sont consultables qu'individuellement. Les attributs qui ne sont uniques peuvent être combinés.

4.  Remplissez les critères de recherche et cliquez sur le bouton de l'icône **recherche**.

**Recherche dans le contexte d'un programme:**

1.  Ouvrez l'application **Saisie Tracker**.

2.  Sélectionnez une unité d'organisation qui abrite le programme dans lequel vous souhaitez effectuer une
    dans

3.  Sélectionnez le programme

4.  Cliquez sur le bouton **Recherche**.

5.  Les champs de recherche seront affichés en groupes. Les attributs uniques 
    ne sont consultables qu'individuellement. Les attributs qui ne sont uniques peuvent être combinés.

6.  Remplissez les critères de recherche et cliquez sur le bouton de l'icône **recherche**.

![](resources/images/tracker_capture/tracker_capture_search_screen.png)

Une fois la recherche effectuée, le résultat de la recherche vous sera présenté. L'affichage dépend du résultat de la recherche.

Pour la recherche d'attributs uniques :

  - Si aucune TEI correspondante n'est trouvée, vous aurez la possibilité d'ouvrir 
    le formulaire d'inscription.

  - Si la TEI est trouvée dans l'unité d'organisation sélectionnée, 
    le tableau de bord de la TEI s'ouvrira automatiquement.

  - Si la TEI est trouvée dans l'unité d'organisation sélectionnée, 
    vous aurez la possibilité d’ouvrir la TEI.

Pour la  recherche d'attributs non-uniques :

  - Si aucune TEI correspondante n'est trouvée, vous aurez la possibilité d'ouvrir 
    le formulaire d'inscription.

  - Si la TEI correspondante est trouvée, vous pouvez soit cliquer sur n'importe quel TEI de la 
    liste des résultats, ou ouvrir le formulaire d'inscription.

  - Si un trop grand nombre de correspondances a été trouvé, vous serez invité 
    à affiner vos critères de recherche

![](resources/images/tracker_capture/tracker_capture_search_results.png)

Les résultats de la recherche comportent une fonctionnalité permettant de signaler les instances d'entités suivies comme de potentiels doublons. Voir le chapitre suivant.

En choisissant d'ouvrir le formulaire d'inscription, les valeurs recherchées seront automatiquement renseignées dans le formulaire d'inscription.

### Détecter une instance d'entité suivie comme doublon potentiel { #flagging-tracked-entity-instance-as-potential-duplicate } 

Lors de la recherche d'instances d'entités suivies dans l'application Saisie Tracker, l'utilisateur suspectera parfois qu'un ou plusieurs résultats sont des doublons d'autres instances d'entités suivies. L'utilisateur peut cliquer sur le lien **signaler un éventuel doublon** dans la colonne la plus à droite de la grille des résultats de la recherche.

Les instances d'entités suivies ainsi repérées seront marquées comme "doublons potentiels" dans la base de données DHIS2. Le drapeau indique que l'instance d'entité suivie est/a un doublon. L'utilisateur peut voir le drapeau à deux endroits. Le premier est la liste des résultats elle-même (dans cet exemple, Mark Robinson est déjà marqué comme doublon potentiel) :

![Résultats de recherche de Saisie Tracker](resources/images/tracker_capture/tracker_capture_search_results.png)

L'autre endroit se trouve dans le tableau de bord des instances d'entités suivies :

![Instance d'entité suivie signalée comme doublon](resources/images/tracker_capture/tracked_entity_instance_flagged_as_duplicate.png)

En plus d'informer les utilisateurs sur l'instance d'entité suivie qui pourrait être un doublon, le drapeau sera utilisé par le système sous-jacent pour trouver et fusionner les doublons dans les prochaines versions de DHIS2.

### Briser le verre { #break_glass } 

Si le programme est configuré avec le niveau d'accès **protégé**, et que l'utilisateur recherche et trouve des instances d'entités suivies qui appartiennent à une unité d'organisation pour laquelle l'utilisateur n'a pas l'autorité de saisie de données, l'utilisateur a la possibilité de briser le verre. L'utilisateur trouvera une raison de briser le verre, puis obtiendra la propriété temporaire de l'instance d'entité suivie.

## Inscrire une TEI existante dans un programme { #enroll_existing_tracked_entity_instance_in_program } 

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Sélectionnez un programme.

4.  Dans le widget **Enregistrement**, cliquez sur **Ajouter nouveau**.

5.  Enterez les informations requises et cliquez sur **Inscrire**.

## Saisir les données d'événement pour une TEI { #enter_event_data_for_tracked_entity_instance } 

### Widgets pour la saisie de données { #widgets-for-data-entry } 

#### 

Dans un tableau de bord de TEI, vous saisissez les données de l'événement dans les widgets **Saisie de données chronologique** ou **Saisie de données tabulaire**.



Tableau : Widgets de saisie de données dans l'application Saisie Tracker

| Nom du widget | Description |
|---|---|
| **Saisie de données chronologique** | Saisie de données à l'aide de formulaires par défaut ou personnalisés. <br><br>En fonction de la définition du programme, des événements seront affichés en temps opportun à certaines étapes du programme. En cliquant sur l'un d'eux, la saisie des données correspondantes s'affiche. Si une étape nécessite un nouvel événement, une icône "plus" est affichée pour permettre la création d'un nouvel événement. Pour procéder à la saisie des données, vous devez obligatoirement indiquer la date de l'événement. Une fois la date de l'événement spécifiée, la date d'échéance ne peut plus être modifiée. On suppose qu'après avoir spécifié la date de l'événement, l'événement a déjà eu lieu. Si l'événement n'a pas encore eu lieu, il est possible de modifier la date d'échéance - ce qui revient en fait à reprogrammer l'événement. Les boutons en bas de page permettent de modifier le statut d'un événement sélectionné. <br><br>Une autre caractéristique clé de ce widget est l'ajout de plusieurs notes pour un événement. Normalement, l'enregistrement des données se fait par le biais d'éléments de données, mais dans certains cas, il est nécessaire d'enregistrer des informations ou des commentaires supplémentaires. C'est là que la section des notes s'avère utile. Il n'est toutefois pas possible de supprimer une note. Les notes sont en quelque sorte des carnets de bord. Les messages d'erreur/alerte de validation et de logique de saut sont pris en charge lors de la saisie des données. <br><br>La saisie de données chronologiques inclut également l'option qui permet de comparer les données saisies avec les saisies précédentes. Cette option peut être activée en cliquant sur le bouton "Switch to compare form" (Deux feuilles de papier) dans le coin supérieur droit du widget de saisie des données chronologiques. |
| **Saisie de données tabulaire** | Pour la saisie de données tabulaire.<br> <br>Le widget affiche la liste des étapes du programme sous forme d'étiquettes sur le côté gauche. Les événements seront répertoriés dans un tableau pour les étapes répétables du programme, ce qui permettra de modifier en ligne des valeurs de données d'événement. |

### Créer un événement { #creating-an-event } 

Vous pouvez créer un événement pour une TEI en suivant les étapes suivantes :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Saisie de données chronologiques**" ou **Saisie de données tabulaires**, 
    cliquez sur le bouton **+**.

4.  Sélectionnez une **Etape du programme** et définissez une **Date de rapport**.

    Les étapes du programme peuvent être configurées de sorte à utiliser un type de fonctionnalité.
    Cela permet de capturer la géométrie d'un événement.
    Le type de fonctionnalité pris en charge est Point et Polygone. Veuillez consulter **Comment utiliser la géométrie**.

5.  Cliquez sur **Sauvegarder**.

### Programmer un événement { #schedule-an-event } 

Vous pouvez programmer un événement pour une date ultérieure en suivant les étapes suivantes :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Saisie de données chronologiques**" ou **Saisie de données tabulaires**, 
    cliquez sur l'icône **Calendrier**.

4.  Sélectionnez une **Etape du programme** et définissez une **Date de planification**.

5.  Cliquez sur **Sauvegarder**.

### Référer un événement { #refer-an-event }

Il est parfois nécessaire référer un patient vers une autre **unité d'organisation**. Pour référer une TEI :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Saisie de données chronologiques**" ou **Saisie de données tabulaires**, 
    cliquez sur l'icône **Flèche**.

4.  Sélectionnez une **Etape de programme**, une **Unité d'organisation** et définissez une 
    ****Date de rapport****.

5.  Cliquez sur **Référence unique** pour référer la TEI 
    à un seul événement ou sur **Déplacer définitivement** pour transférer la propriété de la TEI
    à l'**Unité organisationnelle** sélectionnée.
    L'accès à la TEI dépendra de l'unité d'organisation qui en est propriétaire.

### Éléments de données obligatoires dans les événements { #mandatory-data-elements-in-events } 
Certains éléments de données relatifs à un événement peuvent être obligatoires (marqués d'une étoile rouge à côté du nom de l'élément de données). Cela signifie que tous les champs d'éléments de données obligatoires doivent être renseignés avant que l'utilisateur n'ait l'autorisation d'enregistrer l'événement. Il y aura une exception à cette règle si l'utilisateur dispose de l'autorisation appelée __ "Ignorer la validation des champs obligatoires dans Saisie Tracker et Saisie d'événements".__ Si l'utilisateur dispose déjà de cette autorisation, il n'a donc pas besoin de renseigner les éléments de données obligatoires avant la sauvegarde et l'étoile rouge ne sera pas affichée à côté du nom de l'élément de donnée. Notez que les super-utilisateurs qui ont l'autorisation __"TOUT "__ disposent automatiquement cette autorisation.

## Comment utiliser la géométrie { #how-to-use-geometry } 

Le type d'entité suivie, le programme et l'étape du programme peuvent être configurés de sorte à utiliser un type de fonctionnalité. Cela permet de saisir la géométrie d'une TEI, d'un programme ou d'un événement. Point et Polygone sont les types d'entités pris en charge.

### Saisie des coordonnées { #capture-coordinate } 
**Option 1:** Remplissez la latitude et la longitude dans le champ.

**Option 2:**
1.  Cliquez sur l'icône **carte**.
2.  Trouvez l'endroit que vous voulez en le recherchant ou 
    en le localisant sur la carte
3.  Faites un clic droit sur l'endroit souhaité, et sélectionnez **Définir les coordonnées**.
4.  Cliquez sur **Capture** en bas

### Capture du Polygone { #capture-polygon } 
1.  Cliquez sur l'icône **carte**.
2.  Trouvez l'endroit que vous voulez en le recherchant ou 
    en le localisant sur la carte
3.  En haut à gauche de la carte, cliquez sur l'icône **polygone**.
4.  Dessinez un polygone sur la carte. Pour terminer, reliez le dernier point 
    au premier point
5.  Cliquez sur **Capture** en bas

![](resources/images/tracker_capture/capture_geometry.png)

Les polygones peuvent également être supprimés
1.  Cliquez sur l'icône **carte**.
2.  Cliquez sur l'icône **corbeille** à gauche de la carte et sélectionnez 
    **Effacer tout**

## Comment affecter un utilisateur à un événement { #how-to-assign-a-user-to-an-event } 

Dans l'application Maintenance, une étape du programme peut être configurée pour permettre l'assignation des utilisateurs. Si l'assignation des utilisateurs est activée, vous pourrez assigner un utilisateur à un événement.

1. Cliquez sur le champ **Utilisateur assigné**.
2. Faites défiler ou recherchez un utilisateur.
3. Cliquez sur l'utilisateur.

## Gérer les inscriptions d'une TEI { #manage_tracked_entity_instance_enrollment } 
Le widget d'inscription donne accès à des informations et des fonctionnalités pour l'inscription au programme sélectionné.

![Widget d'inscriptions](resources/images/tracker_capture/enrollment_widget.png)

### Propriété de la TEI { #tei-ownership }

La propriété actuelle de toutes les inscriptions au programme sélectionné s'affiche dans la partie "Propriété" du widget d'inscription. La propriété commence toujours par l'unité d'organisation ayant inscrit en premier la TEI au programme.

La propriété peut varier pour les différents programmes d'une TEI : par exemple, une clinique peut suivre un patient atteint du VIH, tandis qu'une autre clinique suit le même patient dans un HME.

Pour mettre à jour la propriété d'une combinaison TEI/programme, l'utilisateur se doit d'utiliser la fonctionnalité de renvoi et sélectionner l'option "Déplacer définitivement" lors du renvoi.

Un utilisateur qui dispose d'un accès de saisie dans l'unité d'organisation propriétaire actuel de la combinaison TEI/Programme aura un accès à la saisie sur toutes les inscriptions relatives à cette combinaison TEI/Programme. Un utilisateur qui dispose d'un accès de recherche dans l'unité d'organisation propriétaire actuel aura accès à la recherche et à l'identification de la combinaison TEI/Programme.

### Désactiver l'inscription d'une TEI { #deactivate_tracked_entity_instance_enrollment } 

Si vous désactivez le tableau de bord d'une TEI, celui-ci passe en "lecture seule". Vous ne pouvez donc pas saisir de données, ni inscrire la TEI, ni modifier le profil de la TEI.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur **Désactiver**.

4.  Cliquez sur **Oui** pour confirmer.

### Activer l'inscription d'une TEI { #activate_tracked_entity_instance_enrollment } 

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur **Activer**.

4.  Cliquez sur **Oui** pour
confirmer.

### Marquer l'inscription de la TEI comme terminée { #mark_tracked_entity_instance_enrollment_complete } 

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur **Terminé**.

4.  Cliquez sur **Oui** pour
confirmer.

### Rouvrir une inscription déjà effectuée { #reopen_complete_tracked_entity_instance_enrollment } 

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur **Rouvrir**.

4.  Cliquez sur **Oui** pour
confirmer.

### Afficher l'historique des inscriptions de la TEI { #display_tracked_entity_instance_enrollment_history } 

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Profil**, cliquez sur l'icône **Historique de l'audit**.

### Créer une note d'inscription de la TEI { #create_tracked_entity_instance_enrollment_note } 

Une note d'inscription est indispensable pour consigner des informations relatives à, par exemple, la raison de l'annulation d'une inscription.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Notes**, tapez votre note et cliquez sur **Ajouter**.

## Envoyer un message à une TEI { #send_message_to_tracked_entity_instance } 

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Messagerie**, sélectionnez **SMS** ou **E-mail**.

4.  Entrez les informations de contact requises.

    Si le profil de la TEI contient une adresse électronique ou un numéro de téléphone, 
    ces champs sont remplis automatiquement.

5.  Saisissez un message. 

6.  Cliquez sur **Envoyer**.

## Marquer une TEI pour suivi { #mark_tracked_entity_instance_for_follow_up } 

Vous pouvez utiliser le marquage de l'inscription d'une TEI pour le suivi et ensuite utiliser ce statut comme un filtre lorsque vous créez des rapports sur les **Événements futurs** et les **Événements en retard**. Cela peut être utile lorsqu'il s'agit par exemple de suivre les cas à haut risque dans un programme de grossesse.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Inscription**, cliquez sur l'icône **Marquer pour suivi**.

## Modifier le profil d'une TEI { #edit_tracked_entity_instance_profile } 

Pour modifier le profil d'une TEI ou les attributs de l'entité suivie, allez dans le widget **Profil**.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Profil**, cliquez sur **Editer**.

4.  Modifiez le profil et cliquez sur **Enregistrer**.

## Ajouter une relation à une TEI { #add_relationship_to_tracked_entity_instance } 

Vous pouvez créer une relation d'une TEI à une autre, par exemple en reliant une mère et un enfant ou un mari et une femme. Selon la configuration du type de relation, le concerné peut hériter de certains attributs.

Supposons qu'il y ait deux programmes : Soins prénataux pour la mère et vaccination pour l'enfant. Si les attributs prénom, nom et adresse sont requis pour les deux programmes, il est possible de configurer les attributs nom et adresse comme héréditaires. Il n'est alors pas nécessaire de saisir ces attributs héritables lors de l'enregistrement de l'enfant. Vous pouvez les ajouter automatiquement en fonction de la valeur de la mère. Si vous souhaitez avoir une valeur différente pour l'enfant, vous pouvez remplacer la valeur générée automatiquement.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le widget **Relations**, cliquez sur **Ajouter**.

4.  Sélectionnez un type de relation.

5.  Cherchez le parent et sélectionnez-le. La recherche suit le même schéma que la recherche d'instances d'entités suivies à partir de la page d'accueil du tracker. Les recherches couvrent par défaut le champ de recherche de l'utilisateur.

6.  Sélectionnez l'instance de l'entité suivie correspondant aux critères de recherche dans la fenêtre popup.

7.  Cliquez sur **Sauvegarder**.

> Note : Si la relation est bidirectionnelle, elle s'affichera dans la TEI dans laquelle elle a été créée ainsi que celle à laquelle elle est liée. De plus, si la relation est bidirectionnelle, chaque extrémité de la relation aura un nom unique qui s'affichera dans le widget de la relation situé sous la colonne "Relation".
>>

## Partager un tableau de bord de TEI { #share_tracked_entity_instance_dashboard } 

Vous pouvez partager un tableau de bord de la TEI via son adresse web.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord que vous souhaitez partager.

3.  Copiez l'URL.

    Assurez-vous que l'URL contienne les paramètres "tei", "programme" 
    et "ou" (unité d’organisation).

4.  Collez l'URL selon la méthode de partage de votre choix, 
    par exemple un e-mail ou un message dans DHIS2.

    Si vous n'êtes pas connecté à DHIS2 lorsque vous cliquez sur le lien, il vous sera 
    demandé de le faire, c'est-à-die de vous connecter. Vous serez ensuite dirigé vers le tableau de bord.

## Désactiver une TEI { #deactivate_tracked_entity_instance } 

Si vous désactivez une TEI, celle-ci devient accessible en "lecture uniquement". Les données associées à cette TEI ne sont pas supprimées.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le coin supérieur droit, cliquez sur le
    ![](resources/images/tracker_capture/tc_tei_red_icon.png) bouton \>
    **Désactiver**.

4.  Cliquez sur **Oui** pour confirmer.

## Activer une TEI { #activate_tracked_entity_instance } 

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le coin supérieur, cliquez sur l'icône
    ![](resources/images/tracker_capture/tc_tei_red_icon.png) bouton \>
    **Activer**.

4.  Cliquez sur **Oui** pour confirmer.

## Supprimer une TEI { #delete_tracked_entity_instance } 

> **Attention**
>
> Lorsque vous supprimez une TEI, vous supprimez également toutes les données associées à cette TEI.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Dans le coin supérieur droit, cliquez sur le
    ![](resources/images/tracker_capture/tc_tei_red_icon.png) bouton \>
    **Supprimer**.

4.  Cliquez sur **Oui** pour
confirmer.

## Configurer le tableau de bord de la TEI { #configure_tracked_entity_instance_dashboard } 

### Afficher ou masquer des widgets { #tracked_entity_instance_dashboard_show_hide_widget } 

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Cliquez sur l'icône **Réglages**, et sélectionnez **Afficher/masquer les widgets**.

4.  Sélectionnez les widgets que vous souhaitez afficher ou masquer.

5.  Cliquez sur **Fermer**

### Sauvegarder la disposition du tableau de bord par défaut { #tracked_entity_instance_dashboard_save_layout } 

Vous pouvez sauvegarder la disposition du tableau de bord par défaut pour un programme.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Cliquez sur l'icône **Réglages**, et sélectionnez **Sauvegarder la présentation du tableau de bord 
    par défaut**.

### Verrouiller la disposition du tableau de bord { #lock-dashboards-layout } 

Si vous êtes l' **administrateur**, vous avez la possibilité de verrouiller la présentation du tableau de bord pour tous les utilisateurs.

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Organisez les widgets selon la disposition souhaitée et enregistrer par défaut 
    (voir la section ci-dessus).

4.  Cliquez sur l'icône **Réglages**, et sélectionnez **Verrouiller la mise en page pour tous les 
    utilisateurs**.

Les utilisateurs pourront toujours réorganiser temporairement les widgets, mais après l'actualisation de la page, la disposition sera réinitialisée pour être celle enregistrée par l'administrateur. Les boutons de suppression des widgets seront masqués lorsque la présentation du tableau de bord sera verrouillée.

### Barre supérieure { #top-bar } 

La barre supérieure peut être un outil utile pour visualiser facilement et rapidement les données. Pour commencer à utiliser la barre supérieure :

1.  Ouvrez l'application **Saisie Tracker**.

2.  Ouvrez le tableau de bord d'une TEI existante.

3.  Cliquez sur l'icône **Paramètres**, et sélectionnez **Paramètres de la barre supérieure**.

4.  Cliquez sur **Activer la barre supérieure** et cliquez sur les données que vous voulez 
    afficher dans la barre supérieure.

![](resources/images/tracker_capture/top_bar.png)

### Changer le mode d'affichage des tableaux pour le widget **Saisie de données chronologique**. { #change-table-display-mode-for-timeline-data-entry-widget } 

Le widget **Saisie de données chronologique** dispose de 5 modes d'affichage de tableaux différents qui peuvent être sélectionnés. Les différentes options sont :
- **Formulaire par défaut** - Affiche tous les éléments de données verticalement.

- **Comparer le formulaire précédent** - Affiche l'étape de programme précédente (répétable) à côté de l'étape de programme actuellement sélectionnée.

- **Comparer tout le formulaire** - Affiche les étapes de programme précédents (répétables) à côté de l'étape de programme actuellement sélectionné.

- **Formulaire grille** - Affiche les éléments de données horizontalement.

- **Formulaire POP-over** - Identique au **Formulaire grille**, mais lorsqu'on clique dessus, les éléments de données s'affichent dans une nouvelle fenêtre.

Pour changer le mode d'affichage actuel, cliquez sur la deuxième icône dans la barre supérieure des widgets (voir image ci-dessous) :

![](resources/images/tracker_capture/compareForm.png)

Une fois qu'une option est sélectionnée, la sélection est alors enregistrée pour cette étape spécifique du programme. Cela signifie que vous pouvez avoir différents modes de tableau pour les différentes étapes d'un programme.

> **N.B. :**
> 1.  *Les options du **Formulaire de comparaison** fonctionneront mieux si vous avez plusieurs événements répétables (de la même étape du programme).*
> 2.  *Les options **Formulaire grille** et **Formulaire POP-over** ne sont pas sélectionnables si l'étape du programme comporte plus de 10 éléments de données.*
> 3.  *L'icône dans la barre de widgets change en fonction de l'option que vous avez sélectionnée.*

## Créer des rapports { #create_report_tracker_capture } 

1.  Ouvrez l'application **Saisie Tracker**.

2.  Cliquez sur **Rapports**.

3.  Sélectionnez un type de rapport.



   Tableau : Types de rapports dans l'application Saisie      Tracker

   | Type de rapport | Description |
   |---|---|
   | Résumé du programme | Rapport de synthèse pour un programme, une unité d'organisation et une période de temps donnés. Le rapport comprend une liste de TEI et leurs dossiers organisés en fonction des étapes du programme. |
   | Statistiques du programme | Rapport de statistiques pour un programme donné. Le rapport fournit par exemple un aperçu des abandons ou des taux d'achèvement pour une période donnée dans une unité d'organisation donnée.|
   | Événements à venir | Rapport tabulaire montrant les instances d'entités suivies et leurs événements à venir pour un programme et une période de temps sélectionnés. Vous pouvez trier les colonnes et rechercher les valeurs. Les opérations d'affichage/masquage sont possibles sur les colonnes. Vous pouvez également exporter le tableau vers Microsoft Excel. |
   | Événements en retard | Liste d'événements pour un programme sélectionné. Le rapport affiche une liste des TEI et de leurs événements qui ne sont pas terminés à temps. Vous pouvez trier les colonnes et rechercher les valeurs. Vous pouvez également exporter le tableau vers Microsoft Excel. |

![](resources/images/tracker_capture/program_summary_report.png)

Le rapport de synthèse affiche une liste des TEI et leurs dossiers pour le programme "MNCH/PNC (femme adulte)". Les dossiers sont organisés sous forme d'onglets où chaque onglet correspond à une étape du programme. Les colonnes du tableau sont des éléments de données configurés pour être affichés dans les rapports selon la définition des étapes du programme.




# Aperçu de la validation des données { #data_approval_overview } 

Le DHIS2 dispose d'une fonctionnalité optionnelle qui permet aux utilisateurs autorisés d'approuver 
les données saisies. Elle permet d'examiner et d'approuver les données à des niveaux 
sélectionnés dans la hiérarchie des unités d'organisation, de sorte que l'approbation 
suit la structure de la hiérarchie des niveaux inférieurs aux niveaux 
upérieurs.

Les données sont approuvées pour une combinaison de (a) période, (b) unité organisationnelle 
et (c) flux de travail. Les données peuvent être approuvées pour l'unité d'organisation pour 
laquelle elles sont saisies, ainsi que pour les unités d'organisation de niveau supérieur 
auxquelles les données sont agrégées. Dans le cadre des paramètres du système, vous pouvez choisir 
le(s) niveau(x) de l'unité d'organisation auquel(s) les données sont approuvées. Les données 
ne peuvent être approuvées à des niveaux supérieurs qu'après avoir été approuvées pour tous 
les descendants de cette unité d'organisation à des niveaux inférieurs pour le même flux de travail 
et la même période. Lorsque vous approuvez un flux de travail, il approuve à son tour les données 
pour tous les ensembles de données qui lui ont été affectés.

Après l'approbation d'une combinaison de période, d'unité d'organisation et de flux de 
travail, les ensembles de données associés à ce flux de travail seront verrouillés pour 
cette période et cette unité d'organisation, et toute autre saisie ou 
modification de données sera interdite sauf si elle n'a pas été approuvée au préalable.

Par exemple, le diagramme suivant illustre que les données ont déjà été 
approuvées pour les unités d'organisation C et D, pour une période et 
un flux de travail donnés. Elles peuvent maintenant être approuvées pour l'unité d'organisation B pour la même 
période et le même flux de travail. Mais elles ne sont pas prêtes à être approuvées pour l'unité 
d'organisation A. Pour pouvoir être approuvées pour l'unité d'organisation A, elles doivent 
être approuvées pour B, et pour tout autre enfant de l'unité d'organisation A, pour 
cette période et ce flux de travail.

![Validation au niveau des unités
d'organisation](resources/images/data_approval/approval_hierarchy.png){.largeur du centre = 50 %. }

## Approuver et accepter { #data_approvals_approving_accepting } 

Le DHIS2 prend en charge deux types de processus d'approbation différents : soit un 
processus en une étape où les données sont approuvées à chaque niveau, soit un processus en deux étapes 
où les données sont d'abord approuvées puis acceptées à chaque niveau. 
Ceci est illustré dans le diagramme suivant :

![Approbation et
acceptation](resources/images/data_approval/approval_level_steps.png){.largeur du centre=69% }

Dans le processus en une seule étape, les données sont approuvées à un niveau, puis 
approuvées au niveau supérieur suivant. Tant qu'elles n'ont pas été approuvées au niveau 
supérieur, elles peuvent ne pas l'être au premier niveau. (Par exemple, si 
les données ont été approuvées par erreur, cela permet à l'approbateur de réparer son 
erreur). Une fois que les données sont approuvées au niveau supérieur, elles ne peuvent 
pas être refusées au niveau inférieur, à moins qu'elles ne soient d'abord refusées au 
niveau supérieur.

Dans le processus en deux étapes, les données sont approuvées à un niveau, puis 
l'approbation est acceptée au même niveau. Cette acceptation est faite par un 
utilisateur autorisé à approuver les données au niveau supérieur suivant. Une fois que 
les données sont acceptées, elles ne peuvent être modifiées ou non approuvées, sauf si 
elles sont d'abord *non acceptées*.

Le processus en deux étapes n'est pas requis par le DHIS2. Il s'agit d'une étape facultative 
pour un utilisateur qui examine les données au niveau supérieur suivant. Elle présente l'avantage 
de verrouiller l'acceptation au niveau inférieur, de sorte que l'examinateur n'a pas à 
s'inquiéter que les données puissent être modifiées par le niveau inférieur pendant qu'elles 
sont examinées. Elle peut également être utilisée par l'utilisateur de niveau supérieur pour 
savoir quelles données de niveau inférieur ont déjà été examinées.

Le processus en deux étapes peut être activé en cochant **Acceptation requise 
avant l'approbation** dans l'application Paramètres système dans la section générale.

## Autorisations permettant d'approuver les données { #data_approvals_authorities } 

Pour approuver les données, vous devez avoir un rôle contenant l'une des autorités 
suivantes :

  - **Approuver les données** - Vous pouvez approuver les données pour l'unité ou les unités d'organisation
    à laquelle ou auxquelles vous êtes affecté(e). Notez que cette autorisation ne vous permet pas
    d'approuver des données pour les niveaux inférieurs à l'unité ou aux unités d'organisation
    à laquelle ou auxquelles vous êtes affecté(e). Ceci est utile pour distinguer les utilisateurs 
    autorisés à approuver pour un niveau de ceux qui sont autorisés à 
    approuver pour les niveaux inférieurs.

  - **Approuver les données aux niveaux inférieurs** - Vous permet d'approuver les données pour
    tous les niveaux inférieurs aux unités d'organisation qui vous sont attribuées. Ceci
    est utile si, par exemple, vous êtes un utilisateur au niveau du district et que votre 
    tâche consiste à approuver les données de tous les établissements de ce
    district, mais pas celles du district lui-même. Si cette autorisation vous est attribuée
    conjointement avec l'autorisation *Approuver les données*, vous pouvez approuver les données au 
    niveau de l'unité ou des unités d'organisation qui vous ont été attribuées,
    ainsi qu'à tous les niveaux inférieurs.

  - **Accepter des données à des niveaux inférieurs** - Vous permet d'accepter des données pour le
    niveau juste en dessous de l'unité ou des unités d'organisation qui vous ont été attribuées. Cette 
    autorisation peut être donnée aux mêmes utilisateurs qui approuvent les données. Elle peut également
    être attribuée à différents utilisateurs, si vous souhaitez que certains utilisateurs
    acceptent les données du niveau inférieur et qu'un autre groupe 
    d'utilisateurs approuve les données du niveau supérieur.

## Configurer l'approbation des données { #data_approvals_configuration } 

Dans la section *Application Maintenance* sous *Niveau d'approbation des données*, vous 
pouvez spécifier les niveaux auxquels vous souhaitez approuver les données dans le système. 
Cliquez sur le bouton Ajouter un nouveau de cette page et sélectionnez le niveau de l'unité d'organisation 
auquel vous souhaitez obtenir des approbations. Il sera ajouté à la liste des 
paramètres d'approbation. Vous pouvez configurer le système de façon à approuver les données à 
chaque niveau d'unité d'organisation, ou seulement à certains niveaux d'unité 
d'organisation.

Notez que lorsque vous ajoutez un nouveau niveau d'approbation, vous pouvez choisir un 
ensemble de groupes d'options de catégorie. Cette fonctionnalité est abordée plus loin 
dans ce chapitre.

Dans la maintenance, sous *Flux d'approbation des données *, vous pouvez également 
définir les flux à utiliser lors de l'approbation des données. Chaque flux peut être 
associé à un ou plusieurs niveaux d'approbation. Deux flux peuvent 
fonctionner à tous les mêmes niveaux d'approbation l'un par rapport à l'autre, certains de 
ces niveaux étant identiques et d'autres différents, voire complètement différents.

Si vous souhaitez que les données d'un ensemble de données soient approuvées selon un flux, 
affectez donc ce flux à l'ensemble de données lorsque vous ajoutez ou modifiez l'ensemble 
de données. Si vous ne voulez pas que les données d'un ensemble de données soient soumises à approbation, 
n'affectez aucun flux à cet ensemble de données. Pour les ensembles de données que vous 
voulez approuver en même temps que les autres, assignez-les au même 
flux. Pour les ensembles de données que vous souhaitez approuver indépendamment les 
uns des autres, assignez à chaque ensemble de données son propre flux.

Sous *Paramètres système* -> *Analyses*, vous pouvez contrôler quelles données non approuvées (le cas échéant) apparaîtront 
dans les analyses. Voir la section "Paramètres d'analyse" de ce guide. Notez que les utilisateurs 
affectés à des unités d'organisation où les données sont prêtes à être approuvées peuvent toujours visualiser 
ces données dans les analyses, tout comme les utilisateurs affectés à des unités d'organisation de niveau supérieur s'ils disposent 
de l'autorité *Voir les données approuvées aux niveaux inférieurs* ou de l'autorité *Voir les données non approuvées*.

## Visibilité des données { #data_approvals_data_visibility } 

Si l'option *Masquer les données non approuvées dans les analyses* est activée, les données 
seront masquées de la visualisation par les utilisateurs associés aux niveaux supérieurs. En 
déterminant si un bloc de données doit être masqué pour un utilisateur spécifique, 
le système associe un utilisateur à un niveau d'approbation spécifique et le compare au niveau 
jusqu'auquel le bloc de données a été approuvé. Un utilisateur 
est associé au niveau d'approbation correspondant au niveau de l'unité 
ou des unités d'organisation auxquelles il est lié, ou si aucun niveau d'approbation n'existe à 
ce niveau, au niveau d'approbation suivant lié à un niveau d'unité d'organisation 
inférieur au sien. Un utilisateur sera autorisé à voir les données approuvées 
jusqu'au niveau immédiatement inférieur au niveau d'approbation qui lui est associé. 
La raison en est qu'un utilisateur doit être en mesure de voir 
les données approuvées à un niveau inférieur pour pouvoir éventuellement les consulter 
et les approuver lui-même.

Notez que si l'utilisateur a l'autorisation *Voir les données non approuvées* ou 
l'autorisation *TOUT*, il pourra alors consulter les données quel que soit le 
statut d'approbation.

*Prenons l'exemple suivant :* il y a quatre niveaux d'unité d'organisation, 
avec des niveaux d'approbation associés aux niveaux 2 et 4. *L'utilisateur A* au 
niveau national (1) est associé au niveau d'approbation 1 puisque le 
niveau d'approbation existe au même niveau que le niveau de l'unité d'organisation. 
*L'utilisateur B* est associé au niveau d'approbation 2, car il n'existe pas de 
niveau d'approbation directement lié à son unité d'organisation et le niveau 
d'approbation 2 est le niveau immédiatement inférieur. *L'utilisateur C* est associé 
au niveau d'approbation 2. *L'utilisateur D* est en dessous de tous les niveaux d'approbation, ce qui 
implique qu'il peut voir toutes les données saisies au niveau de son unité d'organisation ou 
en dessous.

![Masquer les données non
approuvées](resources/images/data_approval/approval_data_hiding.png){.centre}

A partir de cet exemple, considérons quelques scénarios :

  - Les données sont saisies au niveau de l'établissement : Seul l'*utilisateur D* peut voir les données, 
    car elles n'ont pas encore été approuvées. 

  - Les données sont approuvées par l'*utilisateur D* au niveau de l'établissement : Les données deviennent visibles 
    pour l'utilisateur C et l'utilisateur B, car elles sont désormais approuvées à leur niveau.

  - Les données sont approuvées par l'*utilisateur C* au niveau de l'établissement : Les données deviennent visibles 
    pour l'utilisateur A, car elles sont désormais approuvées au niveau immédiatement inférieur
    au sien.

## Approbation de données { #data_approvals_approving_data } 

Pour approuver les données, allez à *Rapports* et choisissez *Approbation des données*. 
Lorsque le rapport affiche des données configurées pour approbation, il indique le statut 
d'approbation des données dans le rapport. Le statut d'approbation sera l'un des 
suivants :

  - **En attente d'approbation par les unités d'organisation de niveau inférieur** - Ces données ne sont pas
    encore prêtes à être approuvées, car elles doivent d'abord être approuvées par
    toutes les unités d'organisation filles de cette unité d'organisation, pour le
    même flux de travail et la même période.

  - **Prêt pour l'approbation** - Ces données peuvent maintenant être approuvées par un 
    utilisateur autorisé.

  - **Approuvé** - Ces données ont déjà été approuvées.

  - **Approuvé et accepté** - Ces données ont déjà été approuvées, et 
    également acceptées.

Si les données que vous consultez sont dans un état d'approbation qui peut faire l'objet d'une 
action, et si vous disposez d'une autorité suffisante, une ou plusieurs des actions suivantes 
vous seront alors proposées sur le formulaire *Approbation des données* :

  - **Approuver** - Approuver des données qui n'ont pas encore été approuvées, ou qui 
    ont été approuvées précédemment et qui ne le sont plus.

  - **Ne pas approuver** - Retour à un état non approuvé des données qui ont été 
    approuvées ou acceptées.

  - **Accepter** - Accepter les données approuvées.

  - **Ne pas accepter** - Retour à un état non accepté (mais toujours approuvé) 
    des données acceptées.

Pour ne pas approuver les données d'une unité organisationnelle donnée, vous devez avoir 
l'autorisation d'approuver les données de cette unité d'organisation ou d'approuver 
les données d'une unité d'organisation de niveau supérieur à laquelle ces données sont 
agrégées. La raison en est la suivante : Si vous examinez des données 
pour approbation à un niveau d'unité d'organisation supérieur, vous devez vous demander 
si les données des unités d'organisation inférieures sont raisonnables. Si toutes 
les données de niveau inférieur sont de bonne qualité, vous pouvez alors approuver les données au 
niveau supérieur. Si certaines données de niveau inférieur semblent suspectes, vous pouvez ne pas approuver 
les données du niveau inférieur. Cela permet de revoir les données au niveau inférieur, de 
les corriger si nécessaire, et de les approuver à nouveau au niveau supérieur de l'unité 
d'organisation, selon la hiérarchie.

## Approbation par l'ensemble de groupes d'options de catégorie { #data_approvals_approving_by_cogs } 

Lorsque vous définissez un niveau d'approbation, vous spécifiez le niveau de l'unité 
d'organisation auquel les données seront approuvées. Vous pouvez également spécifier, à titre facultatif, un 
ensemble de groupes d'options de catégorie. Cette option est utile si vous utilisez des groupes 
d'options de catégorie pour définir des dimensions supplémentaires de vos données et si vous souhaitez 
que les approbations soient basées sur ces dimensions. Les exemples suivants 
illustrent comment cela peut se faire dans un seul groupe d'options de catégorie 
et en utilisant plusieurs groupes d'options de catégorie.

### Approbation par un ensemble de groupes d'options de catégorie { #approving-by-one-category-option-group-set } 

Supposons par exemple que vous définissiez un ensemble de groupes d'options de catégorie pour représenter 
les ONG qui servent de partenaires en matière de soins de santé dans une ou plusieurs unités d'organisation. 
Chaque groupe d'options de catégorie de cet ensemble représente un partenaire différent. 
Le groupe d'options de catégorie pour le partenaire 1 peut regrouper des options 
de catégorie (telles que les codes de compte de financement) utilisées par ce 
partenaire comme une dimension des données. Ainsi, les données saisies par le partenaire 1 
sont attribuées à une option de catégorie dans le groupe d'options de catégorie du partenaire 1. 
Alors que les données saisies par le partenaire 2 sont attribuées à une option de catégorie 
dans le groupe d'options de catégorie du partenaire 2 :

<table align="center">
<caption>Exemple de groupes d'options de catégorie</caption>
<thead>
<tr class="header">
<th>Ensemble de groupes d'options de catégorie</th>
<th>Groupe d'options de catégorie</th>
<th>Options de catégories</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Partenaire</td>
<td>Partenaire 1</td>
<td>Compte 1A, Compte 1B</td>
</tr>
<tr class="even">
<td>Partenaire</td>
<td>Partenaire 2</td>
<td>Compte 2A, Compte 2B</td>
</tr>
</tbody>
</table>

Chaque partenaire pourrait saisir des données pour ses comptes indépendamment de 
l'autre, pour des flux identiques ou différents, dans des établissements identiques ou 
différents. Ainsi, par exemple, les données peuvent être saisies et/ou agrégées aux 
niveaux suivants pour chaque partenaire, indépendamment l'une de l'autre :

![Exemple de groupes d'options de
catégories](resources/images/data_approval/approval_partner_example.png){.centre}

> **Conseil**
>
> Vous pouvez utiliser la fonction de partage des options de catégorie et des groupes 
> d'options de catégorie pour vous assurer qu'un utilisateur est autorisé à entrer des données (et/ou voir des données) 
> uniquement pour certaines options de catégorie et certains groupes. Si vous ne voulez pas que les utilisateurs 
> voient des données agrégées au-delà des options de catégorie et/ou des groupes 
> d'options de catégorie qui leur sont attribués, vous pouvez alors attribuer des  *Restrictions 
> de dimensions sélectionnées pour l'analyse des données *, lors de l'ajout ou de la mise à jour 
> d'un utilisateur.

Vous pouvez éventuellement définir des niveaux d'approbation pour les données des partenaires au sein de l'un ou 
de tous ces niveaux d'unité d'organisation. Par exemple, vous pouvez définir l'un 
ou l'ensemble des niveaux d'approbation suivants :

<table align="center">
<caption>Exemple de niveaux d'approbation d'un ensemble de groupe d'options de catégories</caption>
<thead>
<tr class="header">
<th>Niveau d'approbation</th>
<th>Niveau de l'unité d'organisation</th>
<th>Ensemble de groupes d'options de catégorie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Pays</td>
<td>Partenaire</td>
</tr>
<tr class="even">
<td>2</td>
<td>District</td>
<td>Partenaire</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Etablissement</td>
<td>Partenaire</td>
</tr>
</tbody>
</table>

## Approbation par plusieurs ensembles de groupes d'options de catégories { #approving_by_multiple_category_option_group_sets } 

Vous pouvez également définir des niveaux d'approbation pour différents ensembles de groupes d'options 
de catégorie. En reprenant notre exemple, supposons que vous ayez plusieurs agences 
chargées de la gestion du financement des différents partenaires. Par exemple, l'agence A 
finance les comptes 1A et 2A, tandis que l'agence B finance les comptes 1B et 2B. Vous 
pourriez créer des groupes d'options de catégorie pour l'Agence A et l'Agence B, et les 
intégrer tous deux dans un ensemble de groupes d'options de catégorie appelé Agence. Vous 
aurez donc :

<table align="center">
<caption>Exemple d'ensembles de groupes d'options à catégories multiples</caption>
<thead>
<tr class="header">
<th>Ensemble de groupes d'options de catégorie</th>
<th>Groupe d'options de catégorie</th>
<th>Options de catégorie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Partenaire</td>
<td>Partenaire 1</td>
<td>Compte 1A, Compte 1B</td>
</tr>
<tr class="even">
<td>Partenaire</td>
<td>Partenaire 2</td>
<td>Compte 2A, Compte 2B</td>
</tr>
<tr class="odd">
<td>Agence</td>
<td>Agence A</td>
<td>Compte 1A, Compte 2A</td>
</tr>
<tr class="even">
<td>Agence</td>
<td>Agence B</td>
<td>Compte 1B, Compte 2B</td>
</tr>
</tbody>
</table>

Supposons maintenant qu'au niveau national, vous vouliez que chaque partenaire approuve 
les données qu'il a saisies. Une fois cette approbation effectuée, vous voulez 
que chaque agence approuve ensuite les données des comptes qu'elle 
ère. Enfin, vous voulez que toutes les agences approuvent les données au 
niveau national. Pour ce faire, vous pouvez définir les niveaux 
d'approbation suivants :

<table align="center">
<caption>Exemple de niveaux d'approbation d'ensemble de groupes d'options à catégories multiples</caption>
<thead>
<tr class="header">
<th>Niveau d'approbation</th>
<th>Niveau d'unité d'organisation</th>
<th>Ensemble de groupes d'options de catégorie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Pays</td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>Pays</td>
<td>Agence</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Pays</td>
<td>Partenaire</td>
</tr>
</tbody>
</table>

Notez que plusieurs niveaux d'approbation peuvent être définis pour le même 
niveau d'unité d'organisation. Dans notre exemple, le partenaire 1 approuverait 
les données nationales au niveau d'approbation 3 à partir des options de catégorie Compte 1A 
et Compte 1B. Ensuite, l'agence A approuverait les données nationales au niveau 
d'approbation 2 des options de catégorie Compte 1A (après approbation par 
le partenaire 1) et Compte 2A (après approbation par le partenaire 2.) Enfin, après 
approbation de toutes les agences, les données nationales peuvent être approuvées au 
niveau d'approbation 1 dans toutes les options de catégorie. Notez que le niveau d'approbation 1 
ne spécifie pas d'ensemble de groupes d'options de catégorie, ce qui signifie qu'il sert à 
approuver les données dans toutes les options de catégorie.

Cet exemple n'a qu'une valeur illustrative. Vous pouvez définir autant de 
groupes d'options de catégorie que vous le souhaitez, et autant de niveaux d'approbation 
que vous le souhaitez au même niveau d'unité d'organisation pour différents ensembles de groupes 
d'options de catégorie.

Si vous avez plusieurs niveaux d'approbation pour différents ensembles de groupes 
d'options de catégorie au même niveau d'unité d'organisation, vous pouvez alors modifier l'ordre 
d'approbation dans la section *Paramètres*, sous *Paramètres d'approbation du système*. 
Il vous suffit de cliquer sur le niveau d'approbation que vous souhaitez déplacer, et de sélectionner *Déplacer vers le haut* 
ou *Déplacer vers le basoption de catégorie*. Si vous avez un niveau d'approbation sans groupe d'options de 
catégorie défini, il doit donc s'agir du niveau d'approbation le plus élevé pour ce niveau 
d'unité d'organisation.




# Approbation des données { #data_approval_app }

L'application **Approbation des données** offre une interface intuitive permettant de prendre en charge le processus d'approbation conformément aux flux de travail d'approbation configurés.

## Sélectionner les paramètres { #selecting-parameters } 

### Sélectionner un flux de travail  { #select-a-workflow } 

Pour commencer, sélectionnez un flux de travail dans le coin supérieur gauche de l'écran. Si vous n'avez accès qu'à un seul flux de travail, il sera présélectionné pour vous.

![Sélectionner un flux de travail](resources/images/select_workflow.png)

### Sélectionner une période { #select-a-period } 

Procédez à la sélection de la période pour laquelle vous souhaitez approuver les données.

![Sélectionner une période](resources/images/select_period.png)

### Sélectionner une unité d'organisation{ #select-an-organisation-unit } 

Enfin, sélectionnez une unité d'organisation pour laquelle vous souhaitez approuver les données. Chaque unité d'organisation visible dans l'arborescence est précédée d'une icône de statut. Cette icône indique les actions disponibles dans votre profil d'utilisateur pour cette unité d'organisation. Dans la capture d'écran ci-dessous, "Badjia" est une unité d'organisation dont le statut est "prêt pour approbation".

![Sélectionner une unité d'organisation](resources/images/select_org_unit.png)

### Effacer  la sélection { #clear-selection } 

Une fois qu'un flux de travail, une période et une unité d'organisation ont été sélectionnés, un bouton "Effacer les sélections" apparaît. Ce bouton permet d'effacer rapidement les trois champs et de commencer une nouvelle sélection.

## Approuver les données { #approving-data } 

### Examiner les rapports sur les ensembles de données { #review-dataset-reports } 

Une fois qu'un flux de travail, une période et une unité d'organisation ont été sélectionnés, vous pouvez consulter les rapports sur les ensembles de données liés au flux de travail sélectionné. Les données de chaque ensemble de données sont présentées dans un onglet.

Les ensembles de données peuvent avoir des types de période différents de ceux du flux de travail auquel ils sont liés. Si c'est le cas, l'application d'approbation affichera les données pour toutes les périodes de l'ensemble de données qui se terminent dans la période du flux de travail sélectionné.

![Examiner les rapports sur les ensembles de données](resources/images/review_data.png)

### Effectuer une action d'approbation{ #take-an-approval-action } 

Une fois que vous avez examiné les données dans les ensembles de données, vous pouvez procéder à une action d'approbation. Les actions suivantes sont disponibles :

-   Approuver
-   Accepter
-   Ne pas approuver
-   Ne pas accepter

Les actions disponibles pour un flux de travail donné à un moment donné dépendent du type d'actions qui ont déjà été prises au niveau actuel et à d'autres niveaux de la hiérarchie organisationnelle.

Dans l'exemple ci-dessus, l'action "approuver" est disponible. Lorsque vous choisissez l'action "Approuver", une boîte de dialogue de confirmation s'affiche, comme indiqué ci-dessous, qui résume les ensembles de données que vous approuvez. Le flux de travail n'est pas approuvé tant que vous n'avez pas cliqué sur "Approuver" pour le confirmer. D'autres actions prennent effet immédiatement et ne comportent pas d'étape de confirmation.

![Effectuer une action d'approbation](resources/images/approval_confirmation.png)

Après avoir effectué l'une des actions d'approbation, dans ce cas après avoir confirmé l'approbation, le flux de travail est immédiatement mis à jour et le nouveau statut d'approbation s'affiche.

![Statut d'approbation actualisé](resources/images/approval_saved.png)

### Balises de statut d'approbation { #approval-status-tags } 

Comme le montre l'image ci-dessus, le statut d'approbation est affiché à deux endroits :

1. Au-dessus des onglets d'ensembles de données, à la suite des informations sur le flux de travail
1. Avant les boutons dans la barre inférieure

Ces balises d'état n'affichent généralement pas les mêmes informations, car elles ont une signification légèrement différente :

1. La balise de statut au-dessus de l'ensemble de données représente le statut d'approbation du flux de travail pour la période et l'unité d'organisation sélectionnées.
2. La balise d'état dans la barre inférieure fait de même, mais prend également en compte votre profil d'utilisateur.

Un flux de travail peut être prêt à être approuvé au niveau d'une unité d'organisation donnée, mais vous n'avez pas l'autorité nécessaire pour le faire.



# Gérer les tableaux de bord { #dashboard }

## À propos de l'application Tableaux de bord { #about-the-dashboards-app } 

L'application Tableaux de bord permet de présenter une vue d'ensemble de vos données, notamment en affichant des objets analytiques tels que les cartes, les graphiques, les rapports et les tableaux, mais aussi des informations textuelles, des liens vers des ressources et des widgets d'application.

Les caractéristiques de l'application Tableaux de bord sont :

-   Afficher et imprimer les tableaux de bord
-   Créer et éditer les tableaux de bord
-   Partager les tableaux de bord avec les utilisateurs et groupe d'utilisateurs
-   Appliquer des filtres temporaires lors de la visualisation des tableaux de bord
-   Affichage adapté aux appareils mobiles et aux écrans de petite taille
-   Accéder aux tableaux de bord hors ligne

## Présentation de l'application Tableaux de bord { #dashboards_setup }

Les tableaux de bord ont un titre, une description et un nombre indéfini d'éléments. Au-dessus du tableau de bord se trouve la barre des tableaux de bord, qui affiche tous les tableaux de bord disponibles, un champ de recherche de tableau de bord et un bouton **+** pour créer un nouveau tableau de bord.

L'application Tableaux de bord comporte deux modes : _visualiser_ et _éditer/créer_. Lorsque vous vous connectez initialement au DHIS2, votre tableau de bord le plus récent s'affiche en mode visualisation, si vous êtes sur le même ordinateur que précédemment. Si vous utilisez un autre ordinateur ou un autre navigateur,  le premier tableau de bord étoilé  s'affiche. S'il n'y a pas de tableau de bord étoilé, le premier tableau de bord (par ordre alphabétique) s'affiche. Les tableaux de bord étoilés s'affichent toujours en premier dans la liste des tableaux de bord.

Vous trouverez ci-dessous un exemple de tableau de bord intitulé "Soin prénatal", qui a été renseigné à l'aide de graphiques et de cartes :

![](resources/images/dashboard-view-mode.png)

### Personnalisation { #personalization } 

L'application Tableaux de bord peut être personnalisée de la façon suivante :

-   [Définir la hauteur de la barre des tableaux de bord](#tableaux de bord_personnaliser_barre)
-   [Les tableaux de bord étoilés pour un accès rapide à vos tableaux de bord favoris](#tableaux de bord-étoiles-tableaux de bord)
-   [Afficher ou masquer la description du tableau de bord](#tableau de bord-afficher-description)

### Affichage adapté aux écrans de petite taille  { #responsive-view-on-small-screens } 

Lors de la visualisation de tableaux de bord sur de petits écrans (par exemple, en orientation portrait sur un téléphone portable), le tableau de bord s'adaptera à l'écran et affichera tous les éléments dans une seule colonne. Certaines options, notamment l'édition, le filtrage et le partage, ne seront pas disponibles.

![](resources/images/dashboard-small-screen.png)

### Rechercher un tableau de bord { #searching-for-a-dashboard } 

Vous pouvez rechercher un tableau de bord spécifique en utilisant le champ de recherche situé en haut à gauche de la barre des tableaux de bord et intitulé "Rechercher un tableau de bord". La recherche ne tient pas compte des majuscules et, au fur et à mesure que vous saisissez votre texte, la liste des tableaux de bord se réduit à ceux qui correspondent à votre recherche.

![](resources/images/dashboard-search-for-dashboard.png)

### Personnalisation de la hauteur de la barre des tableaux de bord { #dashboards_personalize_bar }

Vous pouvez définir une taille spécifique de la barre de contrôle des tableaux de bord en 
cliquant dessus et en faisant glisser le bord inférieur. Lorsque vous relachez la souris, la nouvelle taille sera définie. En cliquant sur la flèche vers le bas au niveau de la barre des tableaux de bord, la barre de contrôle s'étendra à sa hauteur maximale  (10 "rangées"). En cliquant sur la flèche vers le haut, la taille sera réinitialisée à celle que vous avez personnalisée.

## Créer et modifier un tableau de bord { #creating-and-editing-a-dashboard } 

Pour créer un nouveau tableau de bord, cliquez sur le bouton **+** dans le coin gauche de la barre des tableaux de bord pour passer en mode création/édition

![](resources/images/dashboard-new-button.png)

Pour modifier un tableau de bord existant, cliquez sur le bouton **Modifier** à côté du titre du tableau de bord (vous devez avoir accès à la fonction de modification pour voir ce bouton) :

![](resources/images/dashboard-title-bar.png)

En mode création/édition, vous pouvez ajouter ou modifier le titre du tableau de bord, la description et les éléments du tableau de bord. Si vous ne donnez pas de titre, le tableau de bord sera automatiquement intitulé "Tableau de bord sans titre".

![](resources/images/dashboard-create-mode.png)

### Ajouter des éléments au tableau de bord { #adding-items-to-the-dashboard } 

Ajoutez des éléments au tableau de bord en recherchant des éléments à l'aide du menu **Recherche d'éléments à ajouter à ce tableau de bord**. Les types d'éléments possibles sont :

-   Visualisation (graphiques et tableaux)
-   Cartes
-   Rapports d'évènements
-   Graphiques d'évènements
-   Rapports
-   Ressources
-   Applications
-   Messages
-   Zones de texte
-   Éléments d'espacement

![](resources/images/dashboard-item-selector.png)

La liste des éléments de la barre de menu déroulante affiche d'abord 10 visualisations (graphiques et tableaux) et 5 éléments de chacune des autres catégories, en fonction du texte de recherche que vous avez saisi. Les messages (e-mail), les zones de texte et les éléments d'espacement figurent également dans la liste. Pour afficher plus d'éléments, cliquez sur **Afficher plus**, et la liste pour ce type d'élément sera étendue à 25 éléments. Si vous ne trouvez toujours pas l'élément souhaité, essayez de taper un texte de recherche plus spécifique.

#### Mise en page du tableau de bord et insertion de nouveaux éléments  { #dashboard-layout-and-placement-of-new-items } 

Lorsque vous ajoutez des éléments au tableau de bord, vous pouvez choisir une mise en page générale en cliquant sur le bouton **Modifier la mise en page**. Vous pouvez modifier cette mise en page à tout moment.

-   Avec la mise en page _Freeflow_, les éléments ajoutés peuvent être déplacés à l'aide de la souris en cliquant sur l'élément et en le faisant glisser jusqu'à la position souhaitée. Les éléments peuvent également être redimensionnés à l'aide de la souris en cliquant sur la poignée de déplacement située dans le coin inférieur droit de l'élément et en le faisant glisser pour lui donner la taille souhaitée.
-   Avec la mise en page _Colonnes fixes_, vous pouvez choisir le nombre de colonnes que vous souhaitez voir apparaître sur le tableau de bord, et le tableau de bord sera automatiquement mis en page pour vous. Les éléments ne peuvent pas être déplacés ou redimensionnés dans la mise en page _Colonnes fixes_.

![](resources/images/dashboard-layout-modal.png)

Vous pouvez également décider si les éléments nouvellement ajoutés sont automatiquement placés au début ou à la fin du tableau de bord en choisissant l'option souhaitée. Cette option peut être modifiée à tout moment.

![](resources/images/dashboard-place-items.png)

#### Eléments d'espacement { #spacer-items } 

Lorsque vous ajoutez des éléments au tableau de bord en utilisant la mise en page _Freeflow_, ils " remontent " vers le haut jusqu'à ce qu'ils se heurtent à un autre élément. Afin de forcer un espace vertical vide entre les éléments (comme une ligne vide), vous pouvez ajouter des éléments d'espacement au tableau de bord. Ils ne sont visibles qu'en mode édition/création. En mode affichage, ils ne sont pas affichés, mais occupent l'espace défini.

**Elément d'espacement en mode édition/création** :

![](resources/images/dashboard-spacer-edit-mode.png)

Elément d'espacement en **mode visualisation** :

![](resources/images/dashboard-spacer-view-mode.png)

#### Supprimer des éléments { #removing-items } 

Supprimez des éléments en cliquant sur la corbeille rouge située en haut à droite de l'élément. Sachez que lorsque vous supprimez un élément dans la mise en page _Freeflow_, les éléments qui se trouvent sous l'élément supprimé "remontent" jusqu'à ce qu'ils se heurtent à un élément situé au-dessus.

### Tâches dans le mode création/modification { #actions-in-createedit-mode } 

En mode création/édition, vous verrez les boutons suivants dans la barre de tâches en haut de la page : **Enregistrer les modifications**, **Imprimer l'aperçu**, **Paramètres de filtrage**, **Traduire**, **Supprimer** et **Quitter sans enregistrer**. Les boutons **Traduire** et **Supprimer** ne s'affichent que si vous modifiez un tableau de bord existant.

![](resources/images/dashboard-edit-mode-actions.png)

### Sauvegarder le tableau de bord { #saving-the-dashboard } 

Lors de la création ou de la modification d'un tableau de bord, les changements sont enregistrés lorsque vous cliquez sur le bouton **Enregistrer les changements**. Si vous ne souhaitez pas enregistrer vos modifications, cliquez sur le bouton **Quitter sans enregistrer**. Vous reviendrez alors en mode visualisation dans le tableau de bord que vous étiez en train de consulter. 

### Aperçu avant impression { #print-preview } 

Cliquez sur le bouton **Aperçu avant impression** pour voir à quoi ressemblera le tableau de bord lorsqu'il sera imprimé avec l'option [Mise en page du tableau de bord]( #tableau de bord-impression-mise en page).

![](resources/images/dashboard-edit-print-preview.png)

Cliquez sur **Quitter l'aperçu avant impression** pour revenir à l'édition du tableau de bord.

Notons que certains éléments peuvent être déplacés vers la page suivante afin d'éviter d'être répartis sur deux pages. Les éléments peuvent également être raccourcis pour tenir sur une seule page. Les éléments raccourcis affichent une icône d'information dans le coin supérieur droit de l'élément dans l'aperçu. L'icône d'information n'est pas visible dans l'impression réelle.

### Restriction des filtres du tableau de bord { #restricting-dashboard-filters }

Par défaut, les utilisateurs pourront filtrer les éléments du tableau de bord en fonction de n'importe quelle dimension définie dans l'instance DHIS2. Les paramètres de filtrage du tableau de bord peuvent être modifiés dans un tableau de bord en cliquant sur **Paramètres de filtrage**.

Pour restreindre les filtres disponibles, vous pouvez cliquer sur **Autoriser uniquement le filtrage selon les dimensions sélectionnées** et sélectionner les filtres que vous souhaitez autoriser sur le tableau de bord. La période et l'unité d'organisation sont sélectionnées par défaut, mais peuvent être supprimées si vous le souhaitez. Lorsque le tableau de bord est affiché, les utilisateurs ne peuvent choisir que parmi les filtres sélectionnés.

![](resources/images/dashboard-filter-settings.png)

Pour enregistrer les mises à jour des paramètres du filtre, vous devez d'abord cliquer sur **Confirmer** pour fermer la boîte de dialogue Paramètres du filtre, puis cliquer sur **Enregistrer les modifications** pour enregistrer les modifications du tableau de bord.

![](resources/images/dashboard-save-changes.png)

### Traduire le titre et la description du tableau de bord { #translating-dashboard-title-and-description } 

Si vous modifiez un tableau de bord existant, un bouton **Traduire** apparaît. Cliquez sur ce bouton pour ouvrir la boîte de dialogue Traduction, qui fournit une liste des langues vers lesquelles il est possible de traduire, et qui affiche le titre original du tableau de bord sous le champ de saisie du nom. Choisissez d'abord la langue dans laquelle vous souhaitez traduire, puis remplissez le nom du tableau de bord et la description de la traduction.

![](resources/images/dashboard-translation-dialog.png)

### Supprimer un tableau de bord { #deleting-a-dashboard } 

Si vous êtes autorisé à supprimer le tableau de bord, un bouton **Supprimer** s'affiche. Lorsque vous cliquez sur le bouton **Supprimer**, une boîte de dialogue de confirmation s'affiche en premier pour confirmer que vous souhaitez supprimer le tableau de bord.

![](resources/images/dashboard-confirm-delete.png)

## Afficher un tableau de bord { #viewing-a-dashboard } 

En mode affichage, vous pouvez afficher la description, créer un tableau de bord, appliquer des filtres, imprimer le tableau de bord, le rendre disponible hors ligne et le partager avec d'autres utilisateurs et groupes d'utilisateurs.

![](resources/images/dashboard-more-menu.png)

### Afficher la description { #dashboard-show-description }

Pour basculer vers la description, ouvrez le menu **...Plus** et choisissez **Afficher la description** (ou **Masquer la description**). Ce paramètre sera mémorisé pour tous les tableaux de bord que vous ouvrirez. Ce paramètre est uniquement valable pour vous, pas pour les autres utilisateurs.

### Les tableaux de bord étoilés { #dashboard-star-dashboard }

Vos tableaux de bord étoilés sont affichés en premier dans la liste des tableaux de bord pour un accès rapide. Pour ajouter une étoile à un tableau de bord, cliquez sur le bouton étoile à droite du titre. Vous pouvez également faire basculer l'étoile à partir du menu **...Plus**. Lorsque l'étoile est "remplie", cela signifie que le tableau de bord est étoilé. L'attribution d'une étoile à un tableau de bord ne concerne que vous, et non les autres utilisateurs.

### Filtrer un tableau de bord { #filtering-a-dashboard } 

L'utilisation de filtres dans un tableau de bord modifie les données affichées dans les éléments du tableau de bord contenant des visualisations. Les filtres sont utilisés pour chaque élément du tableau de bord de la même manière : chaque filtre ajouté remplace la valeur originale de cette dimension dans le graphique, le tableau ou la carte d'origine. Il est possible de filtrer les unités d'organisation et les périodes, ainsi que les dimensions dynamiques, en fonction de l'instance DHIS2. Vous pouvez utiliser plusieurs filtres dans le tableau de bord.

Pour ajouter un filtre, cliquez sur le bouton **Ajouter un filtre** et choisissez une dimension :

![Ajouter un filtre](resources/images/dashboard-filters.png)

Une boîte de dialogue s'ouvre et permet de sélectionner le filtre.

![Sélectionner le filtre de l'unité d'organisation](resources/images/dashboard-orgunit-filter-dialog.png)

Cliquez sur **Confirmer** dans la boîte de dialogue pour appliquer le filtre au 
tableau de bord actuel.

Les filtres ne sont pas stockés, ils sont donc réinitialisés lorsque l'on passe à un autre tableau de bord. Des badges de filtre de couleur noire apparaissent au-dessus des éléments du tableau de bord pour indiquer quels filtres ont été appliqués aux visualisations du tableau de bord.

![Les filtres actuels sont affichés sous forme de badges au-dessus du tableau de bord](resources/images/dashboard-filter-badges.png)

Vous pouvez modifier un filtre en cliquant sur le badge du filtre pour ouvrir la boîte de dialogue de sélection du filtre. Un filtre peut être supprimé en cliquant sur le bouton **Supprimer** du badge. À chaque ajout, modification ou suppression d'un filtre, les éléments du tableau de bord se rechargent pour afficher les données mises à jour. Les badges de filtre sont toujours visibles en haut de la page lorsque l'on fait défiler le contenu du tableau de bord.

Par défaut, les utilisateurs peuvent filtrer les éléments du tableau de bord en fonction de n'importe quelle dimension définie dans l'instance DHIS2. Pour limiter les filtres disponibles, voir [Restreindre les filtres du tableau de bord](#restrindre-tableau de bord-filtres).

### Rendre les tableaux de bord disponibles hors ligne { #making-dashboards-available-offline } 

Afin de mettre un tableau de bord à disposition hors ligne, choisissez l'option **Mettre le tableau de bord à disposition hors ligne** dans le menu **...Plus**. Le tableau de bord sera alors rechargé et les requêtes adressées au serveur seront enregistrées et sauvegardées dans la mémoire du navigateur. Notez que les tableaux de bord hors ligne ne sont disponibles que sur l'ordinateur et le navigateur où vous les avez mis hors ligne. Si vous avez appliqué un filtre lorsque vous avez demandé que le tableau de bord soit disponible hors ligne, une boîte de dialogue s'affichera pour confirmer la suppression des filtres.

![](resources/images/dashboard-clear-filters-to-sync.png)

Les tableaux de bord qui ont été sauvegardés hors ligne ont un indicateur sur la puce du tableau de bord dans la barre des tableaux de bord, ainsi qu'une étiquette indiquant l'heure à laquelle ils ont été sauvegardés.

![](resources/images/dashboard-offline-dashboard.png)

Si le tableau de bord a été modifié depuis que vous l'avez rendu disponible hors ligne, que ce soit par vous ou par quelqu'un d'autre, vous devez choisir **Synchroniser les données hors ligne maintenant** dans le menu **...Plus** pour enregistrer la dernière version du tableau de bord.

![](resources/images/dashboard-sync-offline.png)

Vous pouvez supprimer un tableau de bord du stockage hors ligne en sélectionnant **Supprimer du stockage hors ligne** dans le menu **...Plus**.

![](resources/images/dashboard-remove-offline.png)

#### Autres informations sur l'application Tableaux de bord lorsque vous êtes hors ligne : { #other-notes-about-dashboards-app-when-you-are-offline } 

Si vous vous déconnectez manuellement de l'instance DHIS2, tous les tableaux de bord placés dans le cache seront effacés et ne seront plus disponibles hors ligne.

Si vous êtes hors ligne, tous les boutons ou actions qui nécessitent une connexion pour aboutir sont désactivés. Ils seront réactivés dès que la connexion sera rétablie.

### Impression du tableau de bord { #printing-a-dashboard } 

Le menu **... Plus** permet d'imprimer le tableau de bord en cours d'utilisation. Il existe deux styles d'impression du tableau de bord : _Mise en page du tableau de bord_ et _Un élément par page_. Pour les deux styles, une page de titre est ajoutée qui affiche le titre du tableau de bord, la description (si le paramètre _Afficher la description_ est activé) et tous les filtres de tableau de bord utilisés.

![](resources/images/dashboard-print-menu.png)

Pour de meilleurs résultats lors de l'impression :

-   utilisez Chrome ou Edge
-   attendez que tous les éléments du tableau de bord soient chargés avant d'imprimer
-   utiliser le format A4 paysage avec les marges par défaut et les graphiques en arrière-plan activés

#### Imprimer la mise en page du tableau de bord { #dashboard-print-layout }

L'impression de la _Mise en page du tableau de bord_ se rapproche de la mise en page du tableau de bord telle que affichée dans le navigateur. Notez que certains ajustements doivent être apportés à la mise en page afin d'éviter que des éléments ne soient répartis sur plusieurs pages : les éléments qui seraient coupés par un saut de page sont déplacés sur la page suivante, et les éléments qui sont plus longs qu'une page sont raccourcis pour tenir sur une seule page.

Une fois en mode impression, cliquez sur le bouton **Imprimer** en haut à droite pour activer la fonctionnalité d'impression du navigateur.

![](resources/images/dashboard-print-layout.png)

#### Imprimer un élément par page { #print-one-item-per-page } 

Ce type d'impression permet d'imprimer chaque élément du tableau de bord sur une page distincte, ce qui optimise l'utilisation du format papier.

Cliquez sur le bouton **Imprimer** dans le coin supérieur droit pour lancer la fonction d'impression du navigateur.

![](resources/images/dashboard-print-oipp.png)

## Éléments du tableau de bord contenant des graphiques, des tableaux croisés dynamiques ou des cartes{ #dashboard-items-with-charts-pivot-tables-or-maps } 

Les éléments du tableau de bord comportant des graphiques, des tableaux croisés dynamiques ou des cartes peuvent avoir un bouton de menu dans le coin supérieur droit de l'élément avec des options d'affichage supplémentaires, en fonction des paramètres du système qui ont été configurés pour l'instance DHIS2. Si tous les paramètres système concernés ont été désactivés par l'instance DHIS2, il n'y aura pas de bouton de menu de l'élément. Voici les options de menu possibles pour les éléments :

### Basculer entre les visualisations { #switching-between-visualizations } 

Il est possible de basculer l'affichage de la visualisation pour les éléments contenant des graphiques, des tableaux croisés dynamiques et des cartes. Cliquez sur le bouton de menu de l'élément et choisissez l'affichage souhaitée ( par exemple, **Afficher comme un tableau**, **Afficher comme une carte**, **Afficher comme un graphique**) :

![](resources/images/dashboard-item-menu.png)

### Afficher l'élément en plein écran { #view-item-in-fullscreen } 

Pour afficher le graphique, le tableau ou la carte en plein écran, cliquez sur l'option **Afficher en plein écran**. Pour quitter le plein écran, vous pouvez soit appuyer sur la touche **esc**, soit cliquer sur le bouton de sortie situé dans le coin supérieur droit de l'affichage en plein écran.

### Ouvrir dans l'application { #open-in-app } 

Pour ouvrir la visualisation dans l'application correspondante (par exemple, Visualiseur de données, Cartes), cliquez sur l'option **Ouvrir dans l'application [nom de l'application]**.

### Afficher les interprétations et les détails { #show-interpretations-and-details } 

Vous pouvez écrire des interprétations pour les graphiques, les tableaux croisés dynamiques, les cartes, les rapports d'événements et les éléments des graphiques en cliquant sur **Afficher les interprétations et les détails** :

![](resources/images/dashboard-item-menu-interpretations.png)

L'élément sera développé verticalement en dessous pour montrer la description, les interprétations et les réponses. Vous pouvez aimer une interprétation, répondre à une interprétation et ajouter votre propre interprétation. Vous pouvez modifier, partager ou supprimer vos propres interprétations et réponses, et si vous avez le statut de modérateur, vous pouvez supprimer les interprétations des autres.

Il est possible de formater le champ de description, et les interprétations avec **gras**, _italique_ en utilisant les marqueurs de style Markdown \* et \_ pour **gras** et _italique_ respectivement. Le champ de texte pour la rédaction de nouvelles interprétations est doté d'une barre d'outils pour l'ajout de texte enrichi. Des raccourcis clavier sont également disponibles : Ctrl/Cmd + B et Ctrl/Cmd + I. Un ensemble limité de smileys est pris en charge et peut être utilisé en tapant l'une des combinaisons de caractères suivantes : :) :-) :( :-( :+1 :-1. Les URL sont automatiquement détectées et converties en un lien cliquable.

Les interprétations sont classées par ordre décroissant de date, la plus récente étant indiquée en haut. Les réponses aux interprétations sont classées par ordre croissant de date, la plus ancienne étant indiquée en haut.

![](resources/images/dashboard-interpretations.png)

## Partager un tableau de bord { #dashboard_sharing }

Pour partager un tableau de bord avec des utilisateurs et des groupes d'utilisateurs, cliquez sur le bouton **Partager** à droite du titre du tableau de bord pour afficher la boîte de dialogue _Partage et accès_.

![](resources/images/dashboard-sharing-dialog.png)

Il existe trois niveaux d'autorisation de partage pour un tableau de bord :

-   Pas d'accès

    L'utilisateur ou le groupe d'utilisateurs ne peut ni consulter ni modifier le tableau de bord. S'il essaie d'accéder au tableau de bord avec l'adresse URL, l'application Tableaux de bord affichera le message "Requested dashboard not found" (tableau de bord demandé introuvable).

-   Affichage uniquement

    L'utilisateur ou le groupe d'utilisateurs peut visualiser le tableau de bord mais ne peut pas le modifier

-   Visualisation et édition

    L'utilisateur ou le groupe d'utilisateurs peut visualiser et modifier le tableau de bord. Ce niveau de partage permet tous types de changements, notamment la modification de la mise en page, le redimensionnement et la suppression d'éléments, le renommage et la suppression du tableau de bord, etc.

Tous les tableaux de bord ont le groupe _Tous les utilisateurs_ réglé sur **Pas d'accès** par défaut. Le groupe _Tous les utilisateurs_ comprend tous les utilisateurs connectés.

### Ajouter des utilisateurs et des groupes d'utilisateurs  { #add-users-and-user-groups } 

Pour partager un tableau de bord avec des utilisateurs et des groupes d'utilisateurs spécifiques, saisissez le nom dans le champ de saisie, choisissez le niveau d'accès souhaité et cliquez sur **Accéder**.

![](resources/images/dashboard-sharing-add-user.png)

Vous pouvez fournir aux utilisateurs l'url du tableau de bord, ce qui leur permet de naviguer directement dans le tableau de bord. Pour obtenir l'url du tableau de bord, il suffit d'ouvrir le tableau de bord en mode affichage et de copier l'url du navigateur. Par exemple, l'url du tableau de bord Soins prénataux dans play.dhis2.org/dev est la suivante :

https://play.dhis2.org/dev/dhis-web-dashboard/#/nghVC4wtyzi

### Partage en cascade des visualisations sur le tableau de bord { #cascade-sharing-of-visualizations-on-the-dashboard } 

Pour s'assurer que tous les graphiques, cartes et tableaux du tableau de bord sont partagés avec les utilisateurs et groupes d'utilisateurs sélectionnés, cliquez sur le bouton **Appliquer le partage aux éléments du tableau de bord**.

![](resources/images/dashboard-sharing-cascade-sharing.png)



# Utiliser l'application Visualiseur de données { #data_visualizer }

![](resources/images/data-visualizer-overview.png)

## Création et édition de visualisations { #creating-and-editing-visualizations } 

Lorsque vous ouvrez l'application data-visualizer (Visualiseur de données) à partir du menu dhis2, vous obtenez une ardoise vierge et vous pouvez commencer à créer votre visualisation immédiatement.

![](resources/images/data-visualizer-new.png)

### Sélectionnez un type de visualisation { #select-visualization-type } 

Sélectionnez le type de visualisation souhaité à l'aide du sélecteur situé dans le coin supérieur gauche. 
Pour chaque type de visualisation, vous trouverez une brève description avec des suggestions sur l'utilisation des principales dimensions dans la mise en page.

![](resources/images/data-visualizer-visualization-type.png)

| Type de visualisation      | Description                                                                                                                                                                                                                                                                                                                                                                                                          |
| ----------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Colonne                  | Affiche les informations sous forme de colonnes rectangulaires verticales dont la longueur est proportionnelle aux valeurs qui y sont contenues.<br><br>Par exemple : la comparaison des performances de différents districts.<br><br>Restrictions relatives à la mise en page : 1 seule dimension comme série, 1 seule dimension comme catégorie.                                                                                                                                               |
| Colonnes empilées          | Affiche les informations sous forme de colonnes rectangulaires verticales, où des barres représentant plusieurs catégories sont empilées les unes par-dessus les autres.<br><br>Par exemple : affichage des tendances ou des sommes d'éléments de données connexes.<br><br>Restrictions relatives à la mise en page : identiques à celles de la Colonne.                                                                                                                                                                  |
| Barre                     | Identique aux colonnes, mais avec des barres horizontales.                                                                                                                                                                                                                                                                                                                                                                           |
| Barres empilées             | Identique aux colonnes empilées, mais avec des barres horizontales.                                                                                                                                                                                                                                                                                                                                                                   |
| Ligne                    | Affiche les informations sous la forme d'une série de points reliés par des lignes droites. Également appelée série chronologique.<br><br>Exemple : visualisation des tendances des données des indicateurs sur des intervalles de temps.<br><br>Restrictions relatives à la mise en page : identiques à celles de la Colonne.                                                                                                                                                                                    |
| Zone                    | Elle repose sur une ligne (ci-dessus), l'espace entre l'axe et la ligne étant rempli de couleurs et les lignes étant empilées les unes par-dessus les autres.<br><br>Par exemple : comparaison des tendances des indicateurs connexes.<br><br>Restrictions relatives à la mise en page : identiques à celles de la Colonne.                                                                                                                                                                      |
| Zones empilées            | Similaire à Zone, mais les zones des différents éléments de dimension sont empilées les unes par-dessus les autres.<br><br>Par exemple : comparaison des tendances des indicateurs connexes.<br><br>Restrictions relatives à la mise en page : identiques à celles de la Zone.                                                                                                                                                                                                                   |
| Secteur                     | Cercle divisé en secteurs (ou sections).<br><br>Exemple : visualisation de la proportion de données pour des éléments de données individuels par rapport à la somme totale de tous les éléments de données.<br><br>Restrictions relatives à la mise en page : 1 seule dimension comme série, sans catégorie.                                                                                                                                                                 |
| Radar                   | Affiche les données sur les axes à partir du même point. Il est également connu sous le nom de diagramme en araignée.<br><br>Restrictions de mise en page : les mêmes que pour la Colonne.                                                                                                                                                                                                                                                                                          |
| Jauge                   | Demi-cercle affichant une seule valeur, généralement sur 100% (les valeurs de début et de fin sont configurables).<br><br>Restrictions relatives à la mise en page : 1 seule dimension avec 1 seul élément comme série, la dimension des données est verrouillée sur la série.                                                                                                                                                                                         |
| D'année en année (ligne)   | Utile lorsque vous souhaitez comparer une année de données à d'autres années de données sur la base des années civiles.<br><br>Restrictions relatives à la mise en page : la dimension Période est désactivée.                                                                                                                                                                                                                                                          |
| D'année en année (colonne) | Identique à l'option Année après année (ligne), uniquement avec des colonnes.                                                                                                                                                                                                                                                                                                                                                                    |
| Valeur unique            | Affiche une valeur unique d'une manière adaptée au tableau de bord. Si la dimension affichée est associée à un type d'indicateur, un symbole % ou une chaîne ( par mille, par cent mille, etc...) est ajouté à la valeur.<br/>Si une icône est associée à la dimension dans l'application Maintenance, elle peut être affichée parallèlement à la valeur, l'icône peut être modifiée dans le panneau Options.<br><br>Restrictions de mise en page : les mêmes que pour la Jauge. |
| Tableau croisé dynamique             | Résume les données d'un tableau plus détaillé et pourrait reprendre des sommes, des moyennes ou d'autres statistiques regroupées de manière significative par le tableau croisé dynamique.<br><br>Restrictions relatives de mise en page : aucune.                                                                                                                                                                                                                    |
| Diffusion                 | Les diagrammes de diffusion permettent aux utilisateurs de représenter les unités organisationnelles sous forme de tableaux en fonction de deux variables pour une seule période fixe ou relative. <br><br>Les restrictions de mise en page : 1 seul élément vertical et horizontal, la dimension des données est verrouillée à la verticale et à l'horizontale, l'unité organisationnelle est verrouillée en fonction des tableaux.                                                                                                              |

### Sélectionner les dimensions { #select-dimensions } 

Dans le menu de dimension sur la gauche, vous pouvez sélectionner la dimension que vous voulez afficher dans votre visualisation, y compris les données, la période, les unités d'organisation et les dimensions dynamiques. Vous pouvez l'ajouter en cliquant sur une dimension, en glissant et déposant une dimension dans la zone de mise en page ou en survolant une dimension et en utilisant son menu contextuel (trois points).

![](resources/images/data-visualizer-dimensions.png)

Tout comme dans le menu des dimensions, dans la zone de mise en page, vous pouvez également modifier les sélections en cliquant sur une dimension, en glissant et déposant une dimension ou en utilisant le menu contextuel d'une dimension (trois points).

![](resources/images/data-visualizer-layout-area.png)

-   **Séries** : Une série est un ensemble d'éléments continus et liés (par
    exemple des périodes ou des éléments de données) que vous souhaitez visualiser afin
    de mettre en évidence des tendances ou des relations dans ses données. Également connues sous le nom de Colonnes pour les visualisations de Tableaux croisés dynamiques 

<!-- end list -->

-   **Catégories** : Une catégorie est un ensemble d'éléments (par exemple des indicateurs
    ou unités d'organisation) pour lesquelles vous souhaitez comparer les données. On les appelle également Rangées pour les visualisations de Tableaux croisés dynamiques.

<!-- end list -->

-   **Filtre** : La sélection du filtre permet de filtrer les données affichées dans
    la visualisation. Notez que si vous utilisez la dimension des données comme filtre, vous ne pouvez
    spécifier qu'un seul indicateur ou ensemble de données comme élément de filtre, alors qu'avec 
    d'autres types de dimensions, vous pouvez sélectionner un nombre quelconque d'éléments.

### Sélectionner les éléments de dimension { #data_vis_select_dim_items }

Une dimension renvoie aux éléments décrivant les valeurs de données dans le système. Il existe trois dimensions principales dans le système :

-   **Données** : Comprend les éléments de données, les indicateurs et les ensembles de données (taux de
    déclaration), décrivant le phénomène ou l'événement des données.

<!-- end list -->

-   **Périodes** : Indique quand l'événement a eu lieu.

<!-- end list -->

-   **Unités d'organisation** : Décrit où l'événement a eu lieu.

L'application Visualiseur de données est très flexible puisqu'il vous permet d'utiliser ces dimensions comme séries, catégories et filtres.

Pour sélectionner les éléments d'une dimension, ouvrez la fenêtre modale de la dimension en cliquant sur une dimension. Cette fenêtre s'ouvre également automatiquement lorsque vous ajoutez une dimension sans éléments sélectionnés dans la mise en page. Sélectionnez les éléments à ajouter à la visualisation en double-cliquant sur un élément ou en sélectionnant un élément en un seul clic et en utilisant les flèches au milieu. L'ordre d'apparition sera le même que l'ordre dans lequel ils sont sélectionnés. Les éléments sélectionnés peuvent alors être réorganisés par simple glisser-déposer dans la section Sélectionnés.

#### Sélectionner des éléments de données  { #select-data-items } 

Lors de la sélection des éléments de données, il existe plusieurs façons de filtrer les éléments affichés. En utilisant le champ de recherche situé en haut de la page, une recherche générale par nom d'élément est effectuée sur le **Type de données** sélectionné. En sélectionnant un **type de données** dans la barre de menu déroulante, les éléments peuvent être filtrés par type et sous-type, le sous-type disponible dépendant du type de données sélectionné. La recherche par nom et le filtrage par type/sous-type peuvent être combinés pour obtenir un filtre plus détaillé. Le type de chaque élément affiché est indiqué par une icône correspondante sur l'élément. En survolant un élément, le nom du type peut être visualisé.

![](resources/images/data-visualizer-cc-data-modal.png)

#### Utilisation de calculs personnalisés { #data-visualizer-custom-calculations }

Un nouvel indicateur personnel, également appelé calcul personnalisé, peut être créé en cliquant sur le bouton **+ Calcul** en bas à gauche de la fenêtre modale Données. La fenêtre modale Calcul s'ouvre alors.

![](resources/images/data-visualizer-cc-data-type.jpg)

Les calculs personnalisés précédemment créés peuvent être trouvés dans la liste des dimensions de la fenêtre modale Données, soit en faisant défiler, soit en recherchant, soit en utilisant le filtre **Calculs** du **Type de données**. Pour éditer un calcul personnalisé, cliquez sur le bouton d'édition (indiqué par une icône en forme de stylo) sur l'élément lui-même.

![](resources/images/data-visualizer-cc-calculation-modal.png)

La fenêtre modale Calcul dispose de filtres d'éléments de données similaires à ceux de la fenêtre modale Données, où les éléments peuvent être trouvés par défilement, recherche ou filtrage par groupes. Pour ajouter un élément de données ou un opérateur mathématique au champ de formule (à droite), double-cliquez sur l'élément ou faites-le glisser dans le champ de formule.

Les éléments du champ de la formule peuvent être réorganisés en faisant un glisser-déposer et supprimés en double-cliquant ou en sélectionnant un élément et en cliquant sur le bouton **Supprimer l'élément**.

Tous les calculs doivent être nommés avant d'être enregistrés.

La formule sera validée lors de l'enregistrement. Notez que seules les formules valides peuvent être sauvegardées. La formule peut également être validée sur demande en cliquant sur le bouton **Vérifier la formule**.

#### Sélectionner les périodes { #select-periods } 

Lors de la sélection d'une Période, vous avez la possibilité de choisir entre des périodes fixes et des périodes relatives. Celles-ci peuvent également être combinées. Les périodes qui se chevauchent sont filtrées de manière à ne figurer qu'une seule fois. Pour les périodes relatives, les noms sont relatifs à la date actuelle. Par exemple, si le mois en cours est mars et que **Mois dernier** est sélectionné, le mois de février est affiché dans la visualisation.

![](resources/images/data-visualizer-period-dimension-modal.png)

#### Sélectionnez les unités d'organisation { #select-organisation-units } 

La boîte de dialogue des unités d'organisation est flexible et propose essentiellement trois façons de sélectionner les unités d'organisation :

-   Sélection explicite : Utilisez l'**arbre** pour sélectionner explicitement les unités d'organisation que vous souhaitez voir apparaître dans la visualisation. Lorsque vous faites un clic droit sur une unité d'organisation, vous pouvez alors facilement choisir de sélectionner toutes les unités d'organisation situées en dessous de celle-ci.

-   Niveaux et groupes : Les menus déroulants **Niveau** et **Groupe** permettent de sélectionner facilement toutes les unités d'un ou de plusieurs groupes d'unités d'organisation ou à des niveaux spécifiques. Exemple : sélectionnez _Chefferie_ (niveau 3) pour obtenir toutes les unités d'organisation de ce niveau.

    Veuillez noter que dès que vous avez sélectionné au moins un niveau ou un groupe, la hiérarchie des unités organisationnelles fait office de limite pour les niveaux/groupes. Par exemple : si vous sélectionnez _Chefferie_ (niveau 3) et _Kailahun_ unité d'organisation (au niveau 2) dans la hiérarchie, vous obtenez toutes les unités de chefferie du district de Kailahun.

-   Les unités d'organisation de l'utilisateur :

    -   Unité d'organisation des utilisateurs : Il s'agit d'un moyen de sélectionner de façon dynamique les unités d'organisation auxquelles l'utilisateur connecté est associé.

    -   Sous-unités d'utilisateurs : Sélectionne les sous-unités de l'unité d'organisation des utilisateurs.

    -   Sous-unités utilisateur x2 : Sélectionne les unités à deux niveaux en dessous de l'unité d'organisation des utilisateurs.

![](resources/images/data-visualizer-organisation-unit-dimension-modal.png)

#### Sélectionner les dimensions dynamiques { #select-dynamic-dimensions } 

Lors de la sélection d'une dimension dynamique, il est possible de sélectionner des éléments uniques ou l'ensemble des éléments. L'option par défaut **Sélectionner manuellement les éléments** est sélectionnée , ce qui permet de choisir des éléments uniques dans une liste, aussi bien que les champs **Données** et **Période**  sélectionnés ci-dessus. 
Pour sélectionner automatiquement tous les éléments d'une dimension, l'option **Inclure automatiquement tous les éléments** peut être sélectionnée. Cette option couvre également tous les éléments supplémentaires qui seront ajoutés à l'avenir si les éléments de dimension disponibles sont mis à jour.

![](resources/images/data-visualizer-dynamic-dimension-modal.png)

### Graphiques à deux catégories { #two-category-charts } 

La plupart des types de visualisation graphique peuvent présenter deux catégories. 
En passant d'un tableau croisé dynamique à une colonne, une barre, une zone (et leurs versions empilées) et une ligne, les deux premières dimensions sont conservées dans la catégorie, toute dimension supplémentaire est déplacée vers le filtre. Les étiquettes de la première dimension dans la catégorie sont affichées en haut du graphique, tandis que celles de la seconde dimension sont affichées en bas. 
La visualisation qui en résulte est composée de graphiques séparés, soit un pour chaque élément de la première dimension.

![](resources/images/data-visualizer-two-category.png)

## Modifier l'affichage de votre visualisation { #change-the-display-of-your-visualization } 

Vous pouvez modifier l'affichage d'une visualisation en activant/désactivant et en configurant plusieurs options. Chaque type de visualisation peut disposer d'un ensemble différent d'options. Les options sont organisées en onglets dans la **Boîte de dialogue des options** et en sections à l'intérieur de chaque onglet.

1.  Cliquez sur **Options** pour ouvrir la **Boîte de dialogue des options**.

2.  Parcourez les onglets de la boîte de dialogue pour accéder aux options disponibles.

3.  Configurez les options souhaitées selon vos besoins.

4.  Cliquez sur **Mettre à jour** pour appliquer les modifications apportées à la visualisation.

### Liste des options disponibles { #list-of-available-options } 

| Option                              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                     | **Onglet Données**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Type d'agrégation                    | Permet de définir comment les éléments de données ou les indicateurs seront agrégés dans la visualisation. Certains des types d'agrégation sont Par élément de donnée, Nombre, Min et Max.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Ligne de base                           | Affiche une ligne horizontale à la valeur de domaine concernée. Elle est utile, par exemple, lorsque vous souhaitez afficher l'évolution de vos performances depuis le début d'un processus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Sous-totaux des colonnes                   | Affiche les sous-totaux dans un tableau croisé dynamique pour chaque dimension.<br>Si vous ne sélectionnez qu'une seule dimension, les sous-totaux seront masqués pour ces colonnes. Ceci est dû au fait que les valeurs seront égales aux sous-totaux.                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Totaux des colonnes                       | Affiche les valeurs totales dans un tableau croisé dynamique pour chaque colonne, ainsi qu'un total pour toutes les valeurs du tableau.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Valeurs cumulées                   | Displays cumulative values in Column, Stacked column, Bar, Stacked bar, Line, Area and Pivot Table visualizations                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Ordre de tri personnalisé                   | Contrôle l'ordre de tri des valeurs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Étiquettes des dimensions                    | Affiche les noms des dimensions dans un tableau croisé dynamique.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Masquer les catégories vides               | Masque les éléments de catégorie sans données provenant de la visualisation.<br>**Avant la première** : masque les valeurs manquantes uniquement avant la première valeur<br>**Après la dernière** : masque les valeurs manquantes uniquement après la dernière valeur<br>**Avant la première et après la dernière** : masque les valeurs manquantes uniquement avant la première valeur et après la dernière valeur<br>**Tout** : masque toutes les valeurs manquantes<br>TCeci s'avère utile, par exemple, lorsque vous créez des visualisations de colonnes et de barres.                                                                                                                                                                                                                                         |
| Masquez les colonnes vides                  | Masque les colonnes vides d'un tableau croisé dynamique. Ceci est utile lorsque vous consultez de grands tableaux dans lesquels une grande partie des éléments de dimension ne dispose pas de données, ceci afin de préserver la lisibilité du le tableau.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Masquez les lignes vides                     | Masque les rangées vides d'un tableau croisé dynamique. Ceci est utile lorsque vous regardez de grands tableaux dans lesquels une grande partie des éléments de dimension ne dispose pas de données, ceci afin de préserver la lisibilité du tableau.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Type de nombre                         | Définit le type de valeur que vous souhaitez afficher dans un tableau croisé dynamique : Valeur, Pourcentage de la ligne ou Pourcentage de la colonne.<br>Les options Pourcentage de la ligne et Pourcentage de la colonne impliquent la visualisation des valeurs en pourcentage du total de la ligne ou en pourcentage du total de la colonne au lieu de la valeur agrégée. Cette option est utile lorsque vous souhaitez voir la contribution des éléments de données, des catégories ou des unités d'organisation à la valeur totale.                                                                                                                                                                                                                                               |
| Inclure uniquement les événements achevés       | Inclut uniquement les événements achevés dans le processus d'agrégation. Ceci est utile par exemple pour exclure des événements non finalisés dans le calcul des indicateurs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Sous-totaux des rangées                      | Affiche les sous-totaux dans un tableau croisé dynamique pour chaque dimension.<br>Si vous ne sélectionnez qu'une seule dimension, les sous-totaux seront masqués pour ces rangées. Ceci est dû au fait que les valeurs seront égales aux sous-totaux.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Totaux des rangées                          | Affiche les valeurs totales dans un Tableau croisé dynamique pour chaque rangée, ainsi qu'un total pour toutes les valeurs du tableau.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Ignorer les arrondis                       | Ignore les arrondis des valeurs des données, ce qui permet d'obtenir une précision totale des valeurs des données. Cela peut être utile pour les données financières lorsque le montant total en dollars est requis.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Les valeurs empilées totalisent 100%       | Affiche des valeurs empilées à 100 % dans les visualisations de colonnes empilées et de barres empilées.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Ligne cible                         | Affiche une ligne horizontale à la valeur de domaine concernée. Elle est utile, par exemple, lorsque vous souhaitez comparer vos performances à l'objectif actuel.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Ligne de tendance                          | Affiche la ligne de tendance permettant de visualiser l'évolution de vos données dans le temps. Elle indique, par exemple, si les performances s'améliorent ou se détériorent. Elle est utile lorsque l'on choisit des périodes comme catégorie.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Étiquettes de valeur                        | Affiche les valeurs supérieures à la série dans la visualisation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                                     | Onglet Axes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Axe de la plage                          | Définit la valeur maximale et minimale à afficher sur l'axe de la plage.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Titre des axes                          | Saisissez un titre ici pour afficher une légende à côté de l'axe des x ou des y. Utile lorsque vous souhaitez donner des informations contextuelles à la visualisation, par exemple sur l'unité de mesure.<br>`Auto generated from axis items` fournit un titre basé sur le contenu de l'axe. <br>None supprime le titre.<br>`Custom` vous permet de saisir un titre personnalisé.                                                                                                                                                                                                                                                                                                                                  |
| Décimales                            | Définit le nombre de décimales à utiliser pour les valeurs de l'axe des plages.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Étapes                               | Définit le nombre de tiques qui seront visibles sur l'axe de la plage.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                     | **Onglet Légende**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Utiliser une légende pour les couleurs du graphique         | Ajoute une légende aux éléments de visualisation, qui est une couleur basée sur une valeur pour chaque élément. Les légendes elles-mêmes sont configurées dans l'application `Maintenance`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Type de légende                         | Contrôle du type de légende attribuée. <br>`Utiliser une légende prédéfinie par élément de données` attribue une légende à chaque élément de données ou indicateur concerné, en fonction de la légende attribuée à chacun d'eux dans `l'application Maintenance`. <br>`Sélectionner une légende unique pour l'ensemble de la visualisation` attribue une légende unique à tous les éléments de données, choisis dans la barre de menu déroulante des légendes disponibles.                                                                                                                                                                                                                                                                                                              |
| style de la légende                        | Contrôle l'endroit où la couleur de la légende est appliquée, soit au texte, soit à l'arrière-plan. Vous pouvez utiliser cette option pour les tableaux de bord afin d'identifier les valeurs élevées et faibles en un clin d'œil. Ne s'applique pas aux visualisations `Single Value`, `Column` ou `Bar`.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Afficher la clé de la légende                     | Affiche une référence pour la légende sur le côté droit de la visualisation, afin d'indiquer les échelles de valeurs et leurs couleurs respectives. Si la visualisation est ajoutée à un tableau de bord, cette option peut également être activée dans le coin supérieur droit du tableau de bord.                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                     | **Onglet Séries**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                                     | Cet onglet permet d'ajouter des axes supplémentaires et de modifier l'affichage des différentes séries. Veuillez consulter la description détaillée de cette opération dans les sections correspondantes ci-dessous.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                     | **Onglet Style**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Séparateur de groupes de chiffres               | Permet de contrôler le caractère à utiliser dans la séparation de groupes de chiffres ou de "milliers". Vous pouvez le définir sur Virgule, Espace ou Aucun.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Afficher l'icône de l'élément de données                 | Permet de faire basculer la visibilité de l'icône dans la visualisation d'une Valeur Unique.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Densité d'affichage                     | Permet de contrôler la taille des cellules dans un tableau croisé dynamique. Vous pouvez le définir sur Confortable, Normal ou Compact.<br>Le mode compact est utile lorsque vous voulez adapter de grands tableaux à l'écran du navigateur.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Afficher la hiérarchie des unités d'organisation | Affiche le nom de tous les ascendants des unités d'organisation, par exemple "Sierra Leone / Bombali / Tamabaka / CPS Sanya" pour le "CPS Sanya".<br>Les unités d'organisation sont ensuite triées par ordre alphabétique, ce qui permet de les classer selon la hiérarchie.<br>Lorsque vous téléchargez un tableau croisé dynamique ayant des unités d'organisation comme lignes et que vous avez sélectionné Afficher la hiérarchie des unités d'organisation, chaque niveau d'unité d'organisation est rendu sous la forme d'une colonne séparée. Cette opération est utile, par exemple, lorsque vous créez des tableaux croisés dynamiques Excel sur un ordinateur local.                                                                                                                               |
| Ajuster les en-têtes de colonnes en haut du tableau  | Verrouille les en-têtes de ligne dans les tableaux croisés dynamiques afin qu'ils soient toujours visibles lorsque l'on fait défiler le contenu du tableau.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Ajuster les en-têtes de ligne à gauche du tableau    | Gel des en-têtes de colonne dans les tableaux croisés dynamiques afin qu'ils soient toujours visibles lors du défilement du contenu du tableau.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Taille de la police                           | Contrôle la taille de la police de texte d'un tableau croisé dynamique. Vous pouvez la définir sur Grande, Normale ou Petite.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Titre des tableaux/graphiques                   | Contrôle le titre qui apparaît au-dessus de la visualisation. <br>La fonction `Auto generated` utilise le titre par défaut généré à partir des dimensions/filtres de la visualisation. <br>Aucune suppression du titre. <br>La fonction `Custom` vous permet de saisir un titre personnalisé.                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Sous-titre des Tableaux/Graphiques                | Contrôle le sous-titre qui apparaît au-dessus de la visualisation. <br>La commande `Auto generated` utilise le sous-titre par défaut généré à partir des dimensions/filtres de la visualisation. <br>Aucune suppression du sous-titre. <br>La commande `Custom` permet de saisir un sous-titre personnalisé.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Afficher la clé de la légende                     | Active et désactive la légende tout en laissant libre cours à la visualisation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Aucun espace entre les barres/colonnes       | Supprime l'espace entre les colonnes ou les barres dans la visualisation. Cette option est utile pour afficher la visualisation sous forme de courbe EPI.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Étiquettes de valeur                        | Affiche les valeurs supérieures à la série dans la visualisation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Jeu de couleurs                           | Contrôle les couleurs utilisées dans les graphiques. Une liste des jeux de couleurs disponibles s'affiche avec un aperçu des couleurs. Il existe également une option "Motifs mono" qui utilise des motifs colorés au lieu de couleurs pleines.                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                     | **Onglet Valeurs limites**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Valeurs limites minimales/maximales        | Permet de filtrer les données côté serveur.<br>Vous pouvez configurer le système de manière à ne renvoyer que les enregistrements dont la valeur des données agrégées est égale, supérieure, supérieure ou égale, inférieure ou inférieure ou égale à une valeur donnée.<br>Lorsque les deux parties du filtre sont utilisées, il est alors possible de filtrer une série d'enregistrements de données.                                                                                                                                                                                                                                                                                                                                            |
|                                     | **Onglet Paramètres**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Ordre de tri personnalisé                   | Contrôle l'ordre de tri des valeurs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Inclure les valeurs cumulées                  | Inclut une colonne de valeurs cumulées à un tableau croisé dynamique.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Inclure les valeurs obtenues par régression                  | Inclut une colonne de valeurs obtenues par régression dans un tableau croisé dynamique.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Unité d’organisation                   | Permet de déterminer s'il faut demander à l'utilisateur d'entrer une unité d'organisation lors de la création d'un rapport standard dans l'application Rapports.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Unité d'organisation mère            | Permet de déterminer s'il faut demander à l'utilisateur d'entrer une unité d'organisation mère lors de la création d'un rapport standard dans l'application Rapports.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Période de référence                    | Permet de déterminer s'il faut demander à l'utilisateur d'entrer une période de déclaration lors de la création d'un rapport standard dans l'application Rapports.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Limite maximale                           | Permet de contrôler le nombre maximum de lignes à inclure dans un tableau croisé dynamique.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                     | **Onglet Outliers (valeurs aberrantes)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Méthode de recherche de valeurs aberrantes             | L'analyse des valeurs aberrantes est un processus qui consiste à identifier les observations anormales dans un ensemble de données. Dans Data Visualizer, les valeurs aberrantes sont détectées en normalisant d'abord les données dans une ligne de régression linéaire, puis en analysant la distance de chaque point par rapport à la ligne de régression. Actuellement, trois méthodes sont prises en charge. **L'intervalle interquartile (IQR)** est basé sur la division d'un ensemble de données en quartiles, tandis que le **Modified z-score** est basé sur l'écart absolu de la médiane (MAD). Le IQR et le MAD sont considérés comme les deux mesures robustes les plus courantes de l'échelle. Le**Standard z-score** est basé sur un écart type et est donc considéré comme moins robuste, car il est fortement influencé par les valeurs aberrantes. |
| Le facteur seuil                    | Le chiffre par lequel les seuils de valeurs aberrantes sont multipliés. Contrôle la sensibilité de I'échelle des seuils. Les facteurs par défaut sont 1,5 pour l'IQR et 3 pour les z-scores.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |

### Style personnalisé du texte et de la clé de série dans les graphiques{ #custom-styling-for-text-and-series-key-in-charts } 

Vous pouvez personnaliser les options suivantes à l'aide de l'outil de mise en forme de texte : `Titre du graphique`, `Sous-titre du graphique`, `Clé de la légende`, `Ligne cible`, `Ligne de base`, `Titre de l'axe` et `Étiquettes` pour les axes horizontal et vertical. 
L'outil de mise en forme de texte permet de choisir une taille de police, une couleur et des variantes en italique/gras. Il est également possible de choisir la position du texte.

![](resources/images/data-visualizer-text-styling-tool.png)

## Ajout de catégories attribuées { #adding-assigned-categories } 

Les Catégories attibuées sont une dimension composite représentant les combinaisons d'options de catégories associées à la combinaison de catégories de l'élément de données sélectionné. Cette dimension peut être ajoutée en faisant glisser la dimension **Catégories attibuées** du menu de dimensions à gauche dans la disposition de visualisation :

![](resources/images/data-visualizer-assigned-categories.png)

Une autre façon d'ajouter des catégories attribuées consiste à accéder à l'option **Ajouter des catégories attribuées** dans le menu contextuel de la dimension `Données` (non disponible pour `Jauge`, `Année après année` ou `Valeur unique`).

## Ajouter d'autres axes { #adding-more-axes } 

En combinant des données avec différentes échelles de mesure, vous obtiendrez une visualisation plus significative en ayant plus qu'un seul axe. Pour les  graphique à `Colonnes`, `barres` et  `lignes`, et en `Zone` vous pouvez cliquer sur **Gérer les axes du graphique** dans le menu contextuel de la dimension  `Données`. Si l'option est désactivée, assurez-vous que la dimension  `Données` se trouve sur l'axe  `Série` et qu'au moins deux éléments y ont été ajoutés.

On dispose de quatre axes, deux sur le côté gauche (axes 1 et 3) du tableau et deux sur le côté droit (axes 2 et 4). 
Chaque axe a une couleur différente et les éléments du graphique seront colorés en conséquence.

> **Remarque**
>
> Lorsque plusieurs axes sont utilisés, l'option `jeu de couleurs` de l'onglet `Style` est désactivée. Les options `Ligne cible` et `Ligne de base` sont disponibles dans l'onglet `Axes` pour chaque pôle.

![](resources/images/data-visualizer-series-tab-multi-axis.png)

## Utilisation de plusieurs types de visualisation { #using-multiple-visualization-types } 

Il est possible de combiner un diagramme à `Colonnes` avec des éléments à `Lignes` et vice versa. Cela se fait en cliquant sur l'onglet **Séries** dans la fenêtre de dialogue `Options` et en changeant le `Type de visualisation`. Il est également possible de combiner ces éléments en utilisant plusieurs axes (tel que décrit dans la section ci-dessus).

![](resources/images/data-visualizer-series-tab-multi-axis-multi-type.png)

Il en résulte un graphique qui combine les types `Colonne` et `Ligne`.

![](resources/images/data-visualizer-multi-type-chart.png)

## Exploration de données { #data-drilling } 

Cette fonctionnalité est activée pour les types de visualisation `Tableau croisé`, `Colonne`, `Colonne empilée`, `Barre` et `Barre empilée` et permet de faire des recherches dans les données en cliquant sur une valeur de cellule / colonne / barre dans la visualisation. Un menu contextuel s'ouvre avec différentes options.

Il est possible d'explorer les données par unité d'organisation, c'est-à-dire en naviguant vers le haut et vers le bas de la structure hiérarchique de l'unité d'organisation. La recherche de données affecte la sélection de dimension actuelle dans la zone de mise en page. La dimension de l'unité d'organisation doit donc être présente sur l'axe Colonnes / Séries ou sur l'axe Lignes / Catégories pour que la fonction d'exploration soit activée.

![Exploration des données dans un tableau croisé dynamique](resources/images/data-visualizer-pt-drill.png)

![Exploration des données dans un graphique à colonnes](resources/images/data-visualizer-column-drill.png)

## Gérer les visualisations sauvegardées { #manage-saved-visualizations } 

La sauvegarde de vos visualisations permet de les retrouver facilement par la suite. Vous pouvez également choisir de les partager avec d'autres utilisateurs ou de les afficher sur un tableau de bord.

### Ouvrir une visualisation { #open-a-visualization } 

1.  Cliquez sur **Fichier** \> **Ouvrir**.

2.  Entrez le nom d'une visualisation dans le champ de recherche, ou cliquez sur les flèches **<** et **>** pour naviguer entre les différentes pages. Le résultat peut également être filtré par type et par propriétaire en utilisant les menus correspondants dans le coin supérieur droit.

3.  Cliquez sur le nom de celle que vous voulez ouvrir.

![](resources/images/data-visualizer-open-dialog.png)

### Enregistrer une visualisation { #save-a-visualization } 

1. a) Cliquez sur **Fichier** \> **Enregistrer**.

2. Entrez un **Nom** et une **Description** pour votre visualisation.

3. Cliquez sur **Sauvegarder**.

![](resources/images/data-visualizer-save-dialog.png)

### Renommer une visualisation { #rename-a-visualization } 

1.  Cliquez sur **Fichier** \> **Renommer**.

2.  Entrez le nouveau nom et/ou une description.

3.  Cliquez sur **Renommer**.

![](resources/images/data-visualizer-rename-dialog.png)

### Supprimer une visualisation { #delete-a-visualization } 

1.  Cliquez sur **Fichier** \> **Supprimer**.

2.  Cliquez sur **Supprimer**.

### Obtenir le lien vers la visualisation { #get-the-link-to-the-visualization } 

1. Cliquez sur **Fichier** \> **Obtenir le lien**.

2. Vous pouvez copier l'URL via le menu contextuel du navigateur qui s'ouvre lorsque vous faites un clic droit sur le lien.

![](resources/images/data-visualizer-delete-dialog.png)

## Les interprétations de la visualisation { #visualization-interpretations } 

Lorsque vous affichez une visualisation enregistrée, vous pouvez élargir les interprétations sur le côté droit en cliquant sur le bouton Interprétations dans le coin supérieur droit. La description de la visualisation s'affichera également. La description prend en charge le Format Texte Enrichi.

De nouvelles interprétations peuvent être ajoutées en entrant dans le champ texte en bas à droite. Les autres utilisateurs peuvent être mentionnés avec  `@nom d'utilisateur`. Commencez par taper `@` plus les premières lettres du nom d'utilisateur ou du nom réel et une liste des utilisateurs correspondants s'affichera. Les utilisateurs mentionnés recevront un message DHIS2 interne avec l'interprétation ou le commentaire. Les interprétations peuvent également être consultées dans l'application **Tableau de bord**.

Il est possible de formater le texte avec **gras**, _italique_ en utilisant les marqueurs de style Markdown `*` et `_` pour **gras** et _italique_ respectivement (des raccourcis clavier sont également disponibles : `Ctrl`/`Cmd` + `B` et `Ctrl`/`Cmd` + `I`). Un ensemble limité de smileys est pris en charge et peut être utilisé en tapant l'une des combinaisons de caractères suivantes : `:)` `:-)` `:(` `:-(` `:+1` `:-1`. Les URL sont automatiquement détectées et converties en un lien cliquable.

Pour afficherer la visualisation en fonction de la date d'une interprétation donnée, cliquez sur l'interprétation ou sur son bouton  `Voir`. Cela régénérera la visualisation avec la date correspondante, qui est indiquée à côté du titre de la visualisation. En cliquant sur `Retour à toutes les interprétations`, la visualisation sera régénérée avec la date actuelle.

Pour souscrire à la visualisation sauvegardée, cliquez sur l'icône de la cloche dans le coin supérieur droit. Vous recevrez alors des messages internes chaque fois qu'un autre utilisateur appréciera, créera ou mettra à jour une interprétation dans cette visualisation sauvegardée.

![](resources/images/data-visualizer-view-interpretation.png)

## Partager une visualisation { #share-a-visualization } 

Vous pouvez accéder aux paramètres de partage en cliquant sur **Fichier** \> **Partager**. Modifiez les paramètres de partage pour les groupes d'utilisateurs que vous souhaitez modifier. Les paramètres disponibles sont les suivants :

-   **Peut modifier et visualiser** : Peut afficher et modifier la visualisation.

-   **Peut seulement visualiser** : Peut seulement voir la visualisation.

-   **Pas d'accès** : Vous n'aurez pas accès à la visualisation. Ce paramètre ne s'applique qu'à **l'accès public** et **l'accès externe**. (Notez que pour permettre l'accès à tout le monde, **Accès public** et **Accès externe** doivent tous deux être définis de manière à autoriser la visualisation).

Les nouveaux utilisateurs peuvent être ajoutés en les recherchant par leur nom sous `Ajouter des utilisateurs et des groupes d'utilisateurs`.

![](resources/images/data-visualizer-share-dialog.png)

## Télécharger { #download } 

Les visualisations peuvent être téléchargées à partir du menu **Télécharger**. Tous les types de visualisation supportent les téléchargements sous forme de `Graphique` et de `Source de donnée brute`, à l'exception `Tableau croisé dynamique`, qui peut être téléchargé sous forme de `Mise en page du tableau` et `Source de donnée brute`.

### Téléchargement sous forme de `Graphique` { #graphics-download } 

Télécharge une image (.png) ou un fichier PDF (.pdf) sur votre ordinateur.

### Téléchargement sous forme de `Mise en page du tableau` { #table-layout-download } 

Télécharge un fichier Excel (.xls), CSV (.csv) ou HTML (.html) sur votre ordinateur.

### Téléchargement sous forme de `Source de donnée brute` { #plain-data-source-download } 

Vous pouvez télécharger les sources de données d'une visualisation au format JSON, XML, Excel, 
CSV, JXRML, formats de données brutes SQL avec différents clés d'identification 
(ID, code et nom). Le document de données utilise des identifiants des 
léments de dimension et ouvre une nouvelle fenêtre de navigateur pour afficher l'URL de 
la demande à l'API Web dans la barre d'adresse. Ceci est utile pour les 
développeurs d'applications et d'autres modules clients basés sur DHIS2 Web API 
ou pour ceux qui ont besoin d'une source de données du plan, par exemple pour 
l'importation à des fins statistiques.

**Formats disponibles**

| Format              | Action                        | Description                                                                                                                                                    |
| ------------------- | ----------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| JSON                | Cliquez sur JSON                    | Télécharge le format JSON selon la propriété ID, Code ou Nom.                                                                                                  |
| XML                 | Cliquez sur XML                     | Télécharge le format XML selon la propriété ID, Code ou Nom.                                                                                                   |
| Microsoft Excel     | Cliquez sur Microsoft Excel         | Télécharge le format Microsoft Excel selon la propriété ID, Code ou Nom.                                                                                       |
| CSV                 | Click CSV                     | Télécharge le format CSV selon la propriété ID, Code ou Nom.                                                                                                   |
| Ensemble de valeurs de données XML  | Cliquez sur Avancé > XML          | Télécharge les valeurs des données brutes en XML, par opposition aux données agrégées selon diverses dimensions.                                                   |
| Ensemble de valeurs des données JSON | Cliquez sur Avancé > JSON         | Télécharge les valeurs des données brutes en JSON, par opposition aux données agrégées selon diverses dimensions.                                                  |
| JRXML               | Cliquez sur Avancé > JRXML        | Produit un modèle de rapport Jasper pouvant être personnalisé en fonction de vos besoins spécifiques et utilisé comme base d'un rapport standard dans le système DHIS 2.        |
| Données brutes SQL        | Cliquez sur Avancé > Données brutes SQL | Fournit la véritable instruction SQL utilisée pour générer la visualisation des données. Vous pouvez l'utiliser comme source de données dans un rapport Jasper, ou comme base d'une vue SQL. |

## Voir la visualisation sous forme de carte { #see-visualization-as-map } 

Pour avoir un aperçu d'une visualisation sur une carte, sélectionnez le type de visualisation `Ouvrir comme carte` une fois que vous avez fini d'élaborer votre visualisation.

![](resources/images/data-visualizer-open-as-map.png)



# Utilisation de l'application Line Listing { #using-the-line-listing-app } 

L'application Line Listing  est une nouvelle application qui remplace la fonctionnalité  liste de lignes de l'application Event Reports (Rapports d'événements), mais qui offre également de nouvelles fonctionnalités.

> **NOTE**
>
> There will be a forward compatibility with the Event Reports app, which means that you can open the existing event reports of type line list in the Line Listing app, but you cannot save changes to them in the Line Listing app.

### Créer et modifier une liste de ligne  { #creating-and-editing-a-line-list } 

Lorsque vous ouvrez l'application Line Listing dans le menu du DHIS2, une page blanche s'affiche et vous pouvez commencer à créer une liste de lignes.

![](resources/images/image5.png)

## Créer une liste de ligne { #creating-a-line-list } 

### Liste de ligne { #line-list } 

Dans l'application Line Listing, vous ne disposez actuellement que d'un seul type de sélection, qui est la Liste de lignes.

![](resources/images/image24.png)

### Entrée { #input } 

(_ Ceci est similaire à ce que vous voyez dans l'application Rapports d'événements_). Lorsque vous ouvrez l'onglet Entrée, vous verrez ci-dessous deux options :

-   Event (see individual event data from an event program or a tracker program stage)
-   Enrollment (see data from multiple stages in a tracker program)

![](resources/images/image7.png)

### Dimensions du programme { #program-dimensions } 

(Dans l'application Rapports d'événements, celles-ci sont appelées dimensions des données).

The line list will always be based on event or tracker programs and you can do analysis on a range of dimensions. For programs with category combinations, you can use program categories and category option group sets as dimensions.

> **Astuce**
>
> Dans l'application Line Listing, toutes les dimensions liées à un suivi ou à un programme d'événement sont présentes dans le composant de dimension du programme.

-   Choose a program

    Sélectionnez le programme : Tous les programmes d'événements et de suivi seront visibles dans le menu déroulant.

    If you have selected the Event, then for tracker programs you need to select the program stage to get all the data elements, attributes for that particular stage. To be able to select data from multiple stages you need to select "Enrollment" as the input type.

If you select an event program you don’t have to select the stage (unlike the Event Reports app).

![](resources/images/image9.png)

Si vous sélectionnez Inscription dans l'onglet Entrée, tous les éléments de données associés au programme seront disponibles à différentes étapes du programme afin de permettre une sélection conjointe des éléments de données. Chaque élément de données servira de dimension.

![](resources/images/image8.png)

If you want to filter the data, by data elements, program attribute, program indicators, category, category option group set you can do so by clicking on the dropdown option.

![](resources/images/image11.png)

There are multiple ways to add data elements to the layout. They can be added by hovering over the dimension and clicking the plus icon or by dragging and dropping a dimension straight to the layout area.

![](resources/images/image10.png)

Alternatively, you can click on the respective data element and then choose to add it in column or filter as shown in below figure.

![](resources/images/image6.png){ largeur=50% }

Chaque dimension peut comporter des critères (filtres). Les éléments de données de type ensemble d'options permettent de définir des critères "dans", où plusieurs options peuvent être sélectionnées.

![](resources/images/image12.png)

Les valeurs numériques peuvent être comparées aux valeurs du filtre à l'aide des opérateurs "supérieur à", "égal à" ou "inférieur à". (Facultatif) Pour chaque élément de données, spécifiez un filtre à l'aide d'opérateurs tels que "supérieur à", "dans" ou "égal", ainsi qu'une valeur de filtre.

> **Remarque**
>
> L'amélioration de cette fonctionnalité est que vous pouvez ajouter plusieurs conditions et que différents opérateurs peuvent être utilisés. Vous pouvez également filtrer par vide ou non vide.

![](resources/images/image13.png){ largeur=50% }

Dans l'application Line Listing pour les éléments de données de type BOOLEAN, l'analyse affichera " Oui ", " Non ", " Pas de réponse " au lieu de 0 et 1 comme dans l'application Event Reports ou l'application Data Visualizer.

![](resources/images/image14.png)

![](resources/images/image16.png)

La liste des lignes s'affiche sous la forme d'un tableau avec une ligne par événement. Chaque dimension peut être utilisée comme colonne dans le tableau ou comme filtre.

![](resources/images/image22.png)

### Votre dimension  { #your-dimension } 

Tous les **ensembles de groupes de l'unité d'organisation** sont présents dans le volet **Votre dimension** en vue d'une évaluation ou d'une analyse plus approfondie.

### Main and Program Dimensions { #main-and-program-dimensions } 

#### Select Organisation Unit { #select-organisation-unit } 

La boîte de dialogue de l'unité d'organisation est flexible et offre essentiellement trois possibilités de sélection des unités d'organisation :

-   Sélection explicite : Utilisez l'**arbre** pour sélectionner explicitement les unités d'organisation que vous souhaitez voir apparaître dans la visualisation. Lorsque vous faites un clic droit sur une unité d'organisation, vous pouvez alors facilement choisir de sélectionner toutes les unités d'organisation situées en dessous de celle-ci.
-   Niveaux et groupes : Les menus déroulants **Niveau** et **Groupe** sont un moyen pratique de sélectionner toutes les unités d'un ou plusieurs groupes d'unités d'organisation ou à des niveaux spécifiques. Exemple : sélectionnez *CH Mahosot* (niveau 3) pour obtenir toutes les unités de ce niveau.

    > **NOTE**
    >
    > Please note that as soon as at least one level or group has been selected the org unit tree now acts as the boundary for the levels/groups. Example: if you select CH Mahosot (level 3) and Vientiane Capital org unit (at level 2) in the tree you get all units inside that district.\_

-   Les unités d'organisation de l'utilisateur :
    -   Unité d'organisation de l'utilisateur : Il s'agit d'un moyen de sélectionner dynamiquement les unités d'organisation auxquelles l'utilisateur connecté est associé.
    -   Sous-unités de l'utilisateur : Sélectionne les sous-unités de l'unité d'organisation de l'utilisateur.
    -   Sous-unités utilisateur x2 : Sélectionne les unités à deux niveaux en dessous de l'unité d'organisation des utilisateurs.

![](resources/images/image18.png)

#### Statut de l'événement  { #event-status } 

Filtre les données en fonction de l'état de l'événement : **Actif**, **Terminé**, **Programmé**.

Vous pouvez visualiser les données concernant un statut d'événement particulier

![](resources/images/image19.png)

#### Statut du programme { #program-status } 

Filtre les données en fonction du statut du programme : **Actif**, **Terminé** ou **Annulé**.

![](resources/images/image20.png)

#### Créer par/ Dernière mise à jour par  { #created-by-last-updated-by } 

Affiche les données en fonction du créateur de l'événement en question.

### Dimensions du temps { #time-dimensions } 

Cette nouvelle fonctionnalité de l'application Line Listing vous permettra de visualiser les données sur la base de différentes dimensions temporelles.

-   Date de l'événement/Date de rédaction du rapport
-   Date à laquelle le patient a été enregistré dans le système de santé.
-   Date de l’incident
-   Dernière mise à jour le
-   Date de programmation

Vous pouvez cliquer sur la dimension temporelle ci-dessus pour visualiser les données sur différentes périodes. Une fenêtre s'ouvre et vous permet de sélectionner une ou plusieurs périodes.

Vous disposez de trois options de période : périodes relatives, périodes fixes et dates de début/fin. Vous pouvez combiner les périodes fixes et les périodes relatives dans le même tableau. Vous ne pouvez pas combiner les périodes fixes et les périodes relatives avec les dates de début/fin dans le même tableau. Les périodes qui se chevauchent sont filtrées de manière à ne paraître qu'une seule fois.

-   Les périodes fixes : Dans la case **Sélectionner le type de période**, sélectionnez un type de période. Vous pouvez sélectionner un nombre quelconque de périodes fixes dans n'importe quel type de période. Les périodes fixes peuvent par exemple être "janvier 2021".
-   Les périodes relatives : Dans la partie inférieure de la section **Périodes**, sélectionnez autant de périodes relatives que vous le souhaitez. Les noms sont relatifs à la date actuelle. Cela signifie que si le mois en cours est mars et que vous sélectionnez **Dernier mois**, le mois de février est inclus dans la visualisation. Les périodes relatives présentent l'avantage de maintenir les données du rapport à jour au fil du temps.
-   Dates de début/fin : Sélectionner **Dates de début/fin** à coté de Choisir les préréglages du formulaire. Ce type de période vous permet de spécifier des dates flexibles pour la fourchette de temps dans le rapport.

![](resources/images/image21.png)

### Entête de colonne  { #column-header } 

Vous pouvez effectuer un tri de tous les entêtes de colonnes

Vous pouvez filtrer la colonne concernée en cliquant directement sur les éléments de données ou les attributs de la colonne et vous serez en mesure d'effectuer un tri des valeurs de données.

> **Exemple**
>
> Dans la capture d'écran ci-dessous, nous avons sélectionné MAPI - Maux de tête.
>
> ![](resources/images/image22.png)
>
> Une fois que nous avons cliqué sur MAPI - Maux de tête, nous obtenons une boîte de dialogue dans laquelle nous devons sélectionner l'option que nous voulons filtrer. Dans ce cas, nous avons sélectionné "Oui" uniquement.
>
> ![](resources/images/image23.png) {largeur=50% }
>
> Une fois que nous aurons cliqué sur mettre à jour nous obtiendrons la liste des lignes avec seulement "Oui" sous MAPI - Maux de tête.
>
>![](resources/images/image1.png)

### Événements répétitifs  { #repeatable-events } 

Il s'agit d'une nouvelle fonctionnalité de l'application Liste de lignes.

Si l'étape du programme comporte un élément de données dans un événement répétitif, vous pouvez cliquer sur l'élément de données et la fenêtre s'ouvrira et vous pourrez voir l'onglet Événement répétitif.

![](resources/images/image2.png){ largeur=50% }

Vous pouvez ensuite définir les événements les plus récents et les plus anciens que vous souhaitez voir apparaître dans le résultat, comme indiqué ci-dessous.

![](resources/images/image3.png){ largeur=50% }

Une fois que vous aurez cliqué sur mettre à jour, vous pourrez visualiser les événements de cette étape du programme répétitif, comme indiqué ci-dessous.

![](resources/images/image4.png)

### Application des couleurs à la légende { #applying-legend-colors } 

Vous pouvez appliquer des couleurs à une visualisation en utilisant la fonction de légende, qui se trouve en dessous de `Options` -> `Légende`

![](resources/images/legend-options.png)

| Option                             | Description                                                                                                                                                                                                                                                                                                                                                      |
| ---------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Utiliser une légende pour les couleurs des cellules d'un tableau | Ajoute une légende aux éléments de visualisation, qui est une couleur basée sur une valeur pour chaque élément. Les légendes elles-mêmes sont configurées dans l'application `Maintenance`.                                                                                                                                                                                                         |
| style de la légende                       | Contrôle l'endroit où la couleur de la légende est appliquée, soit au texte, soit à l'arrière-plan. Vous pouvez utiliser cette option pour les tableaux de bord afin d'identifier les valeurs élevées et faibles en un clin d'œil.                                                                                                                                                                                   |
| Type de légende                        | Contrôle du type de légende attribuée. <br>`Utiliser une légende prédéfinie par élément de données` attribue une légende à chaque élément de données ou indicateur concerné, en fonction de la légende attribuée à chacun d'eux dans `l'application Maintenance`. <br>`Sélectionner une légende unique pour l'ensemble de la visualisation` attribue une légende unique à tous les éléments de données, choisis dans la barre de menu déroulante des légendes disponibles. |
| Afficher la clé de la légende                    | Affiche une clé pour la légende sur le côté droit de la visualisation, afin d'indiquer les séries de valeurs et leur couleur respective.                                                                                                                                                                                                                                   |

Vous trouverez ci-dessous un exemple de liste de lignes avec des couleurs de légende appliquées à l'arrière-plan, par élément de données.

![](resources/images/legend-example.png)

### Afficher la hiérarchie des unités d'organisation { #showing-the-organisation-unit-hierarchy } 

Vous pouvez afficher le chemin hiérarchique complet des unités d'organisation en activant l'option **Afficher la hiérarchie des unités d'organisation** dans `Options` -> `Style`. Lorsque cette option est activée, le tri dans la colonne des unités d'organisation se fera par ordre alphabétique en commençant par le niveau supérieur.

![](resources/images/org-unit-hierarchy.png)

### Skip rounding for numeric values { #skip-rounding-for-numeric-values } 

You can control how numeric values are formatted by toggling the **Skip rounding** option in `Options` -> `Data`. When this is enabled, the numeric values are not rounded and all decimals are shown. By default rounding is applied.

Below is an example of the same table with and without the option applied.

![](resources/images/skip-rounding-example.png)
![](resources/images/no-skip-rounding-example.png)

### Afficher les options { #view-options } 

Pour libérer de l'espace pour la liste des lignes elle-même, il existe plusieurs façons de masquer les panneaux en haut et sur les côtés :

1. Le bouton "plein écran" dans la barre de titre masque la barre latérale principale à gauche et le panneau de configuration en haut de l'écran.
2. Si le panneau des interprétations est déroulé sur la droite, il peut être masqué en cliquant sur le "bouton interprétations" juste en dessous du menu profil de l'utilisateur.
3. Chaque panneau peut également être affiché/masqué en utilisant le "menu Affichage" dans la barre d'outils principale.

![](resources/images/view-options.png)


# Utiliser l'application Maps { #using_maps }

## À propos de l'application Maps { #about_maps }

L'application Maps est introduite dans la version 2.29 en remplacement de l'application SIG. Elle offre une interface plus intuitive et conviviale. Le moteur cartographique de la version 2.34 est basé sur la technologie WebGL, capable d'afficher simultanément des milliers d'éléments sur une carte.

Avec l'application Maps, vous pouvez superposer plusieurs couches et choisir parmi différentes cartes de base. Vous pouvez créer des cartes thématiques de zones et de points, visualiser les structures sanitaires en fonction des classifications et visualiser les zones de captage pour chaque structure. Vous pouvez marquer les zones et les points, effectuer une recherche et filtrer sur la base de divers critères. Vous pouvez déplacer des points et définir des emplacements à la volée. Les cartes peuvent être enregistrées en tant que favorites et partagées avec d'autres utilisateurs et groupes d'utilisateurs ou téléchargées sous forme d'image.

> **Note**
>
> Pour utiliser des légendes prédéfinies dans l'application **Maps**, vous devez tout d'abord les créer dans l'application de **Maintenance**.
>

![](resources/images/maps_main.png)

- Le **panneau des couches** sur le côté gauche de l'espace de travail affiche un
  aperçu des couches de la carte actuelle :

  - Au fur et à mesure que des couches sont ajoutées, en utilisant le bouton **(+) Ajouter une couche**, 
    elles sont disposées et gérées dans ce panneau.

  - Le **fond de carte** est toujours affiché dans le panneau. 
    Le fond de carte par défaut est OSM Light et est sélectionné par défaut, sauf si un autre
    fond de carte a été configuré dans les paramètres système.
    OpenStreetMap Detailed contient plus de fonctionnalités cartographiques et de noms de lieux. 
    On note 4 fonds de carte sur Bing Maps, qui remplace Google Maps utilisé dans les versions précédentes.
    Bing Road et Bing Dark affichent les routes, les frontières et les lieux.
    Utilisez la version sombre si les couleurs de vos couches de carte sont claires.
    Bing Aerial et Bing Aerial Labels montrent des images satellites et des images aériennes détaillées.
    Passez de l'un à l'autre en sélectionnant l’image souhaitée.

  - Le petit bouton en forme de flèche à droite du panneau des couches, en haut de l'écran, 
    permet de masquer ou d'afficher le panneau.

<!-- end list -->

- Le bouton **Fichier** situé en haut à gauche vous permet d'ouvrir et d'enregistrer les cartes.
  Voir [utilisation du menu des fichiers de cartes](#using_maps_file_menu) pour des informations plus détaillées.

<!-- end list -->

- Le bouton **Télécharger** à côté du bouton Fichier vous permet de télécharger la carte actuelle sous forme d'image PNG.

<!-- end list -->

- Le bouton **Interprétations** en haut à droite ouvre un panneau d'interprétations
  sur le côté droit de l’espace de travail. Voir [afficher les interprétations](#mapsInterpretation) pour plus d'informations.

<!-- end list -->

- Les boutons **+** et **-** sur la carte vous permettent d'agrandir et de réduire la carte.
  L'agrandissement à l'aide de la molette de la souris est continu, 
  ce qui nous permet d'adapter parfaitement la carte à votre contenu.

- Le bouton **faire pivoter la carte** (flèches en triangle) vous permet de
  faire pivoter et incliner la carte pour améliorer la visualisation de vos données.
  Cliquez sur le bouton (ou la touche Contrôle de votre clavier) tout en déplaçant votre souris pour modifier l'affichage de la carte.
  Cliquez à nouveau sur le bouton pour réinitialiser l'affichage.

- Le bouton **Plein écran** (quatre flèches) vous permet d'afficher la carte en mode plein écran.
  Pour quitter le mode plein écran, cliquez à nouveau sur le bouton ou sur la touche "échap" de votre clavier.

* **Zoom sur le contenu** (symbole de la loupe délimitée) ajuste automatiquement 
  le niveau d'agrandissement et la position centrale de la carte pour mettre en évidence 
  les données de votre carte.

* **Recherche** (symbole de la loupe) permet de rechercher et
  d'aller vers un emplacement spécifique de la carte.

* Le bouton **règle** vous permet de mesurer des distances et des surfaces sur la carte.

* Faites un clic droit sur la carte pour afficher la longitude et la latitude de cet
  emplacement.

**Cartes de référence**

Les couches de fond de la carte sont représentées par des _cartes_ de couches dans le panneau des couches, comme:

![](resources/images/maps_basemap_card.png)

En haut de la carte de référence, de gauche à droite, se trouvent :

- Le titre de la carte de référence sélectionnée

- Un symbole de flèche pour réduire et agrandir la carte de fond de référence

Au milieu de la carte de fond de référence figure la liste des cartes de référence disponibles. La carte de référence actuelle est mise en surbrillance.

En bas de la carte de fond de référence se trouvent :

- Un symbole d'œil pour modifier l'affichage de la couche

- Un curseur pour modifier la transparence de la couche

## Créer une nouvelle carte { #using_maps_create_map }

1.  Dans le menu **Applications**, cliquez sur **Maps**. La fenêtre **DHIS2 Maps** 
    s'ouvre.

2.  Cliquez sur le bouton (+) Ajouter une couche en haut à gauche. 
    Le dialogue de sélection des couches apparaît :

    ![](resources/images/maps_layer_selection.png)

3.  Sélectionnez une couche à ajouter à la carte actuelle. Les options possibles sont les suivantes :

    - [Thématique](#utiliser_la couche thématique_des_cartes)

    - [Événements](#utiliser_la couche_d'évènements_des cartes)

    - [Entités suivies](#utiliser_la couche_des entités_suivies_des cartes)

    - [Etablissements](#utiliser_la couche_d'établissments_des cartes)

    - [Unités d'organisation](#utiliser_la couche_des unités_d'organisation_des cartes)

    En outre, il existe plusieurs couches fournies par Google Earth 
    et d'autres services :

    - Population

    - Tranches d'âge de la population

    - Empreintes de construction

    - Altitude

    - Précipitation

    - Température

    - Couverture terrestre

    _La superposition d'étiquettes_ est une [couche externe] 
    (#utiliser_les couches_de cartes_externes_des cartes) définie dans l'application Maintenance.

## Gérer les couches thématiques { #using_maps_thematic_layer }

_Les couches thématiques_ représentent la variation spatiale des répartitions géographiques. Sélectionnez votre combinaison indicateur/élément de donnée, période et niveau de l'unité d'organisation. Si votre base de données contient des coordonnées et des valeurs de données agrégées pour ces unités d'organisation, elles apparaîtront sur la carte.

> **N.B**
>
> Vous devez générer les tableaux d'analyse du DHIS2 pour disposer de valeurs de données agrégées.
>

![](resources/images/maps_thematic_mapping.png)

Les couches thématiques sont représentés par des _ cartes _ de couches dans le panneau des couches, comme par exemple :

En haut de la carte thématique, de gauche à droite, vous trouverez :

- un champ de saisie permettant de déplacer et de réorganiser les couches avec la souris

- Le titre et la période associés à la couche

- Un symbole de flèche pour réduire et agrandir la carte thématique

Au centre de la carte thématique se trouve une légende indiquant les plages de valeurs affichées sur la couche.

En bas de la carte thématique, de gauche à droite, vous trouverez :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un symbole d'œil pour modifier l'affichage de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - Un bouton **tableau de données** permet d'afficher ou de masquer le tableau de données 
    associé à la couche

  - **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche thématique { #create-a-thematic-layer } 

Pour créer une couche Evénements, choisissez **Thématique** dans la section **Ajouter une couche**. La boîte de dialogue de configuration d'une couche Evénement s'ouvre.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps_thematic_layer_dialog_DATA.png)

    - Sélectionnez un type de données puis sélectionnez respectivement le groupe et l'élément cible.
      Les champs disponibles dépendent du type 
      d'élément sélectionné.

    - Sélectionnez une valeur dans le champ **Type d'agrégation** pour que les valeurs de données
      s'affichent sur la carte. "Par élément de données" est sélectionné par défaut.
      Les valeurs alternatives sont : Nombre ; Moyenne ; Somme ; Ecart-type ; 
      Variance ; Min ; Max. Voir aussi [Opérateurs d'agrégation]
      (https://dhis2.github.io/dhis2-docs/master/en/user/html/ch10s05.html#d0e8082).

    - **Afficher uniquement les événements terminés** : affiche uniquement les événements terminés lors le processus d'agrégation.
      Ceci est utile lorsque vous voulez exclure des événements partiels des calculs d'indicateurs. Disponible
      Disponible pour les indicateurs, les indicateurs de programme et les éléments de données d'événement.

2.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps_thematic_layer_dialog_PERIOD.png)

    - Sélectionnez la période à laquelle les données thématiques sont cartographiées.
      Vous pouvez sélectionner soit une période relative, soit une période fixe.

      - Période relative

        Dans le champ **Type de période**, sélectionnez **Relative**, puis
        sélectionnez l'une des périodes relatives, par exemple **L'année dernière** ou
        **12 derniers mois**, dans le champ **Période**.

        Une **période relative par défaut pour l'analyse** peut être définie dans l'application **Paramètres des systèmes**.
         

        Si vous sélectionnez une période relative qui couvre plusieurs années/mois/semaines/jours, 
        la couche peut être affichée sous forme

        - Unique (agrégée)

          Affiche les valeurs agrégées pour la période relative sélectionnée (par défaut).

        - Chronologique

          Contient une chronologie qui vous permet de parcourir les périodes.
          Une seule couche chronologique peut être ajoutée à la même carte.

        - Vues de carte fractionnées

          Affiche plusieurs cartes vous permettant de comparer différentes périodes
          cote à cote. Pris en charge pour les périodes relatives avec 12 éléments ou moins.
          Ne peut pas être combiné avec d’autres types de couches.

      - Période fixe

        Dans le champ **Type de période**, sélectionnez la période, puis
        sélectionnez la cible dans le champ **Période**.

      - Dates de début et de fin

        Dans le champ **Type de période**, sélectionnez **Dates de début et de fin**
        et entrez une date de début et une date de fin.

3.  Dans l'onglet **UNITÉS D'ORGANISATION** :

    ![](resources/images/maps_thematic_layer_dialog_ORG_UNITS.png)

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, niveaux d'unité d'organisation dans la hiérarchie,
        groupes d'unités d'organisation ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

    - **Utiliser la géométrie associée** : cette liste déroulante ne s'affichera que si
      une géométrie supplémentaire est disponible pour vos unités d'organisation.
      Ceci est généralement utilisé pour afficher les zones de captage des établissements.

4.  Dans l'onglet **FILTRE**:

    ![](resources/images/maps_thematic_layer_dialog_FILTER.png)

    - Cliquez sur AJOUTER UN FILTRE et sélectionnez un élément de données disponible pour ajouter un nouveau 
      filtre à l'ensemble de données.

      - Sélectionnez une dimension de données dans la liste déroulante.
        Vous pouvez réduire le nombre de dimensions affichées en utilisant le champ de recherche.
        Cliquez sur le nom pour sélectionner une dimension.

      - Lorsqu'une dimension est sélectionnée, vous obtenez une deuxième liste déroulante avec des éléments de dimension.
        Cochez les éléments que vous voulez inclure dans le 
        filtre.

      Plusieurs filtres peuvent être ajoutés. Cliquez sur le bouton "Corbeille" à droite 
      du filtre pour le supprimer.

5.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_thematic_layer_dialog_STYLE.png)

    - Sélectionner soit les carte **Choroplèthes** ou à **Bulles**.

      - Choroplèthe attribuera une couleur à chaque forme d'unité d'organisation en fonction de la valeur de donnée.
        C'est la technique recommandée lorsque les données sont normalisées
        (par habitant).

      - La carte à bulles affichera les valeurs des données sous forme de cercles proportionnels.
        Utilisez cette technique si les données ne sont pas normalisées (nombres absolus). 
        Les cercles sont placés au centre de chaque unité d'organisation.

    - Définissez le **Rayon faible** et le **Rayon élevé** pour les cercles proportionnels ou les établissements représentés avec des points.
      Les cercles seront mis à l'échelle entre un rayon faible et un rayon élevé en fonction de la valeur de donnée.
      Le rayon doit être compris entre 0 et 50 px.

    - **Afficher les étiquettes** : permet d'afficher les noms et les valeurs des unités d'organisation sur la couche.
      Choisissez uniquement entre "Nom", "Nom et valeur" et "Valeur". Taille de la police, poids, style
      et couleur peuvent également être modifiés.

    - **Ne pas afficher de donnée** : par défaut, les unités d'organisation avec des valeurs de données manquantes ne s'afficheront pas sur la carte.
      Cochez cette case si vous voulez les afficher avec une couleur. Cliquez sur la couleur pour la modifier.

    - Sélection du type de légende :

      - **Légende automatique des couleurs** : l'application créera pour vous une légende en fonction
        de la méthode de classification, du nombre de classes et de la couleur que vous sélectionnez.
        Définissez comme **Classification** :

        - Intervalles égaux

          chaque intervalle aura une plage (valeur la plus élevée des données - valeur la plus faible des données / nombre de classes)

        - Nombres égaux

          le créateur de légende va tenter de répartir les unités d'organisation de façon uniforme.

      - **Légende des couleurs prédéfinie** : Choisissez parmi les légendes prédéfinies.

      - **Légende à couleur unique** : Sélectionnez la couleur des bulles ou des cercles. Disponible uniquement 
        pour les cartes à bulles.

6.  Cliquez sur **AJOUTER UNE COUCHE**.

### Modifier une couche thématique { #modify-a-thematic-layer } 

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) sur la carte de la 
    des unités d'organisation.

2.  Modifiez le paramètre de l'un des onglets comme vous le souhaitez.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Filtrer les valeurs dans une couche thématique { #filter-values-in-a-thematic-layer } 

Les couches thématiques ont une option **tableau de données** qui peut être activée ou désactivée à partir de la carte de la couche thématique.

![](resources/images/maps_thematic_layer_data_table.png)

Le tableau de données affiche les données qui forment la couche thématique.

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs des filtres sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajusté en fonction du filtre.
  Les filtres sont appliqués comme suit :

  - NOM

    filtrer par noms contenant ce texte

  - VALEUR

    filtrer les valeurs par des nombres et/ou des plages de valeurs données, par exemple : 
    2,\>3&\<8

  - LÉGENDE

    filtrer par légendes contenant ce texte

  - INTERVALLE

    filtrer par plages contenant ce texte

  - NIVEAU

    filtrez le niveau par nombres et/ou plages de valeurs, par exemple : 2,\>3&\<8

  - PARENT

    filtrer par noms de parent contenant ce texte

  - Identifiant

    filtrer par Identifiants contenant ce texte

  - TYPE

    filtrer par types d'affichage SIG contenant ce texte

  - COULEUR

    filtrer par noms de couleurs contenant ce texte

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.
>

### Rechercher une unité d'organisation { #search-for-an-organisation-unit } 

Le champ de filtre NOM dans le tableau de données constitue un moyen efficace de rechercher les unités d'organisation une à une.

### Ouvrir le profil de l'unité d'organisation { #open-organisation-unit-profile }

Vous pouvez ouvrir le [profil d'unité d'organisation](#utilisation_du profil_des unités_d'organisation_des cartes) de trois manières :

1. Cliquez sur l'une des unités d'organisation indiquées sur la carte, puis cliquez sur
   le bouton **Afficher le profil** dans la fenêtre contextuelle.

2. Faites un clique droit sur l'une des unités d'organisation présentes sur la carte, puis sélectionnez **Afficher le profil**
   dans le menu.

3. Cliquez sur une ligne d'unité d'organisation dans le **tableau de données**.

### Naviguer entre les hiérarchies d'organisation { #navigate-between-organisation-hierarchies } 

Lorsque des unités d'organisation sont visibles sur la carte, vous pouvez facilement naviguer de haut en bas dans la hiérarchie sans utiliser l'interface utilisateur niveau/parent.

1.  Faites un clique droit sur l'une des unités d'organisation.

2.  Sélectionnez **Accéder au niveau supérieur** ou **Accéder au niveau inférieur**.

    L'option de défilement vers le bas est désactivée si vous êtes au niveau le plus bas ou 
    si aucune coordonnée n'est disponible au niveau inférieur. 
    De même, l'option de défilement vers le haut est désactivée à partir du niveau le plus élevé.

### Supprimer une couche thématique { #remove-thematic-layer } 

Pour effacer toutes les données d'une couche thématique :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches d'évènements { #using_maps_event_layer }

La couche Evénement affiche la localisation géographique des événements enregistrés dans le tracker DHIS2. Si les événements sont associés à des coordonnées de points ou de polygones, vous pouvez alors utiliser cette couche pour effectuer des recherches à partir des données agrégées affichées dans les couches thématiques jusqu'aux événements ou cas individuels sous-jacents.

Vous pouvez également afficher des événements agrégés pour des établissements ou des unités d'organisation. Cela se fait par le biais d'une couche thématique qui utilise des éléments de données d'événements. Cette fonction est utile lorsque vous ne disposez que des coordonnées de l'unité d'organisation sous laquelle les événements sont enregistrés.

![](resources/images/maps_event_layer.png)

Les couches d'évènements sont représentées par des couches _cartes_ dans le panneau des couches, par exemple :

En haut de la carte d'évènement, de gauche à droite, se trouvent :

- un champ de saisie permettant de déplacer et de réorganiser les couches avec la souris

- Le titre et la période associés à la couche

- Un symbole de flèche pour réduire et développer la carte d'évènement

Au centre de la carte d'évènement se trouve une légende qui indique le style de la couche.

En bas de la carte d'évènement, de gauche à droite, se trouvent :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un symbole d'œil pour modifier l'affichage de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - Un bouton **tableau de données** pour afficher ou masquer le tableau de données associé à la couche

  - **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'évènements { #maps_create_event_layer }

Pour créer une couche Evénements, choisissez **Événement** dans la fenêtre **Ajouter une couche**. La boîte de dialogue de configuration de la couche Evénement s'ouvre.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps_event_layer_dialog_DATA.png)

    - Sélectionnez un programme, puis sélectionnez une étape du programme. Le champ **Etape**
      ne s'affiche que lorsqu'un programme est sélectionné.

      S'il n'y a qu'une seule étape disponible pour le programme, 
      celle-ci est automatiquement sélectionnée.

    - Sélectionnez une valeur dans le **Champ de coordonnées** pour les positions
      indiquées sur la carte. "Lieu de l'événement" est sélectionné par défaut.
      En fonction des éléments de données ou des attributs d'un
      programme, d'autres coordonnées telles que "Position du ménage" sont
      disponibles.

    - Par défaut, tous les événements avec coordonnées sont affichés sur la carte.
      Utilisez le champ **Statut de l'événement** pour afficher uniquement les événements ayant un
      statut : Actif, Terminé, Programmé, En retard ou Ignoré.

2.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps_event_layer_dialog_PERIOD.png)

    - sélectionnez la période pendant laquelle les événements se déroulent.
      sélectionnez soit une période fixe, soit une période relative.

      - Période relative

        Dans le champ **Période**, sélectionnez une des périodes relatives,
        par exemple **Ce mois** ou **L'année dernière**.

        Une **période relative par défaut pour l'analyse** peut être définie dans 
        l'application **Paramètres des systèmes**.

      - Période fixe

        Dans le champ **Type de période**, sélectionnez **Dates de début et de fin**
        et entrez une date de début et une date de fin.

3.  Dans l'onglet **UNITÉS D'ORGANISATION** :

    ![](resources/images/maps_event_layer_dialog_ORG_UNITS.png)

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

4.  Dans l'onglet **FILTRE**:

    ![](resources/images/maps_event_layer_dialog_FILTER.png)

    - Cliquez sur AJOUTER UN FILTRE et sélectionnez un élément de données disponible pour ajouter un nouveau 
      filtre à l'ensemble de données.

      - Pour l'élément de données de type _ensemble d'options_, vous pouvez sélectionner l'une des
        options de la liste déroulante en utilisant les flèches tournées vers le bas
        en écrivant directement dans la case pour filtrer les
        options.

      - Pour l'élément de données de type _nombre_, vous pouvez sélectionner des opérateurs tels que
        égal, non égal, supérieur ou inférieur à.

      - Pour les données de type _booléen_ (oui/non), vous pouvez cocher la case 
        si la condition doit être valide ou vraie.

      - Pour l'élément de données de type _texte_, vous aurez deux choix :
        **contient** signifie que la requête correspondra à toutes les valeurs 
        qui contiennent la valeur recherchée, et **est exacte** implique que
        seules les valeurs qui sont totalement identiques à votre
        requête seront affichées.

      Plusieurs filtres peuvent être ajoutés. Cliquez sur le bouton "Corbeille" à droite 
      du filtre pour le supprimer.

5.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_event_layer_dialog_STYLE.png)

    - Sélectionnez **Regrouper les événements** pour regrouper les événements proches (cluster), ou
      **Afficher tous les événements** pour afficher chacun des événements.

    - Sélectionnez une **couleur** pour l'événement ou les points de regroupement.

    - Sélectionnez le **rayon** (entre 1 et 20) pour les événements.

    - Sélectionnez **Afficher le tampon** pour afficher un tampon visuel autour de chaque entité suivie.
      Le rayon du tampon peut être modifié ici.
      Cette option n'est disponible que si vous sélectionnez **Afficher tous les événements**
      ci-dessus.

    - Sélectionnez un **Style par élément de données** pour coloriser les événements
      en fonction d'une valeur de donnée. Si vous sélectionnez également "regrouper les événements",
      les clusters seront affichés sous forme de petits graphiques en anneau qui montrent
      la répartition des valeurs des données. Les options varient selon
      les types de données :

      - **Ensembles d'options** : sélectionnez une couleur pour chaque option dans un ensemble d'options.
        Vous pouvez définir des couleurs par défaut pour une option dans
        l'application Maintenance.

      - **Nombres** : vous pouvez définir un style pour un élément de données numérique de [la même
        façon qu'avec les couches thématiques](#utiliser_le style_des couches_thématiques_des cartes) en utilisant
        des légendes automatiques ou prédéfinies.

      - **Booléens** : Choisissez une couleur pour vrai/oui et une autre pour 
        faux/non.

6.  Cliquez sur **AJOUTER UNE COUCHE**.

### Modifier une couche d'évènements { #modify-an-event-layer } 

1.  Dans le panneau des couches, cliquez sur l'icône d'édition (crayon) de la couche 
    de l'évènement.

2.  Modifiez les paramètres des onglets DONNÉES, PÉRIODE, FILTRE, UNITÉ D'ORG et STYLE, 
    comme vous le souhaitez.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Liste et filtrage des événements { #listing-and-filtering-events } 

Les couches d'événements ont une option **tableau de données** qui peut être activée ou désactivée à partir de la carte de la couche d'événements.

![](resources/images/maps_event_layer_data_table.png)

Le tableau de données affiche les données formant la couche d'événements.

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs des filtres sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajusté en fonction du filtre.
  Les filtres sont appliqués comme suit :

  - Identifiant

    filtrer par ID d'événement contenant le texte en question

  - UNITÉ D'ORGANISATION

    filtrer selon le nom d'unité d'organisation contenant le texte en question

  - TEMPS DE L'ÉVÉNEMENT

    filtrer selon le temps de l'événement contenant le texte donné

  - TYPE

    filtrer par types d'affichage SIG contenant ce texte

  - **Style par élément de données** : si le style des événements est conféré par un élément de données
    (par exemple, le genre), la valeur de données et la couleur peuvent être filtrées.

  - **Afficher dans les rapports** : les éléments de données cochés pour être affichés dans les rapports seront 
    affichés dans des colonnes distinctes (voir ci-dessous comment les ajouter).

  - Les valeurs numériques des données peuvent être filtrées par nombres spécifiques et/ou par plages, 
    par exemple : 2,\>3&\<8

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.
>

### Modifier les informations dans le tableau des données de l'événement et les popups { #modify-information-in-event-data-table-and-popups } 

Vous pouvez modifier les informations affichées dans la fenêtre fenêtre pop-up de l'événement.

![](resources/images/maps_eventlayer_eventinfopopup.png)

1.  Ouvrez l'application **Maintenance**.

2.  Sélectionnez **Programme**.

3.  Cliquez sur le programme que vous souhaitez modifier et sélectionnez **2 Assigner des éléments de données**.

4.  Pour chaque élément de données que vous souhaitez afficher dans la fenêtre contextuelle,
    sélectionnez **Afficher dans les rapports** correspondant.

5.  Cliquez sur **Sauvegarder**.

### Télécharger les données brutes de la couche Evénement { #download-raw-event-layer-data } 

Les données brutes des couches Evénements peuvent être téléchargées au format GeoJSON pour une géo-analyse et un traitement plus avancés dans un logiciel SIG de bureau tel que [QGIS](https://www.qgis.org/). Les données téléchargées comprennent tous les événements individuels en tant que caractéristiques GeoJSON, y compris les attributs de chaque élément de données sélectionné pour **Afficher dans les rapports**

![](resources/images/maps_data_download_dialog.png)

- Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), puis sur **Télécharger les données**.

- Sélectionnez le format de l'**ID** à utiliser comme clé pour les valeurs des éléments de données du fichier GeoJSON téléchargé. Trois options sont disponibles :

  - **ID** - Utiliser l'identifiant unique de l'élément de données
  - **Nom** - Utilisez le nom simple de l'élément de données (traduit)
  - **Code** - Utilisez le code de l'élément de données

- Choisissez d'utiliser ou non **des touches lisibles** pour d'autres attributs de l'événement, tels que la phase du programme, la latitude, la longitude, les données de l'événement et l'ID, le nom et le code de l'unité d'organisation. Lorsque cette option est **non** sélectionnée, ces valeurs seront alors l'identifiant lisible par l'ordinateur au lieu du nom lisible par l'homme (et traduit).

- Cliquez sur le bouton **TELECHARGER** pour générer et télécharger un fichier GeoJSON. L'application de cartographie demandera au serveur DHIS2 des données qu'elle va ensuite traiter. Cette opération peut prendre plusieurs minutes.

- Une fois que le fichier GeoJSON a été téléchargé, il peut être importé dans la plupart des applications logicielles SIG standard.

> Notez que les données téléchargées ne contiennent pas d'informations de style étant donné qu'elles ne sont pas prises en charge naturellement par le format GeoJSON. Les styles peuvent éventuellement être recréés dans des applications SIG externes en utilisant les attributs de chaque élément.

### Effacer une couche d'évènements { #clear-event-layer } 

Pour effacer toutes les données de la couche d'un événement d'une carte :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches d'entités suivies { #using_maps_tracked_entity_layer }

La couche Entité suivie affiche la localisation géographique des entités suivies enregistrées dans le DHIS2. Lorsque les entités suivies ont des coordonnées de points ou de polygones associées, vous pouvez alors les explorer sur une carte.

![](resources/images/maps_tracked_entity_layer.png)

Les couches d'entités suivies sont représentées par des cartes de couches dans le panneau des couches, telles que

En haut de la carte d'entité suivie, de gauche à droite, se trouvent les éléments suivants :

- Un champ de saisie permettant de déplacer et de réorganiser les couches avec
  la souris

- Le titre et la période associés à la couche.

- Un symbole de flèche pour réduire et élargir la carte d'entité suivie.

Au centre de la carte d'entité suivie se trouve une légende qui indique le style de la couche.

En bas de la carte d'entité suivie, de gauche à droite, on peut mener les actions suivantes :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un symbole d'œil pour modifier l'affichage de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'entité suivie { #maps_create_tracked_enity_layer }

Pour créer une couche d'entités suivies, choisissez **Entités suivies** dans **Ajouter une couche**. La boîte de dialogue de configuration de la couche d'entités suivies s'ouvre.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps_tracked_entity_layer_dialog_DATA.png)

    - Sélectionnez le **Type d'entité suivie** que vous souhaitez afficher sur la carte.

    - Sélectionnez un **Programme** auquel appartiennent les entités suivies.

    - Utilisez le champ **Statut du programme** pour sélectionner le statut d'inscription des entités suivies 
      à inclure : Tout, Actif, Terminé ou Annulé.

    - Définissez le statut **Suivi** de l'entité suivie pour le programme 
      spécifique.

2.  Dans l'onglet **Relations**

    ![](resources/images/maps_tracked_entity_layer_dialog_RELATIONSHIPS.png)

    > **Caution**
    >
    > Displaying tracked entity relationships in Maps is an experimental feature

    - Si un type d'entité suivie est sélectionné, vous pouvez alors cocher la case **Afficher les relations des entités suivies**.

    - Une fois coché, vous pouvez sélectionner le type de relation à afficher sur la carte dans la liste déroulante. Seules les relations provenant du type d'entité suivie sélectionné sont disponibles.

3.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps_tracked_entity_layer_dialog_PERIOD.png)

    - Si aucun programme n'est sélectionné, vous pouvez alors fixer les dates de début et de fin 
      de la dernière mise à jour des entités suivies.

    - Si un programme est sélectionné, vous pouvez définir la période de la dernière mise à jour des entités suivies
      ou de leur enregistrement ou de leur inscription au programme.

4.  Dans l'onglet **UNITÉS D'ORGANISATION** :

    ![](resources/images/maps_tracked_entity_layer_dialog_ORG_UNITS.png)

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous avez de 3 modes de sélection :

      - **Sélectionné seulement** : Inclut les entités suivies appartenant
        uniquement aux unités d'organisation sélectionnées.

      - **Sélectionné et en dessous** : Inclut les entités suivies dans et 
        juste en dessous des unités d'organisation sélectionnées.

      - **Sélectionnés et tous en dessous** : Inclut les entités suivies dans les unités d'organisation sélectionnées et 
        toutes celles se trouvant en dessous.

5.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_tracked_entity_layer_dialog_STYLE.png)

    - Sélectionnez une **couleur** pour les points et les polygones des entités suivies.

    - Sélectionnez la **taille du point** (rayon entre 1 et 20) pour les 
      points.

    - Sélectionnez **Afficher le tampon** pour afficher un tampon visuel autour de chaque entité suivie.
      La distance tampon en mètres peut être modifiée
      ici.

    - Lorsque vous sélectionnez un type de relation dans l'onglet "Relations", vous pouvez sélectionner **couleur**, **taille du point** et **couleur de la ligne** pour les relations et les instances d'entités suivies connexes.

6.  Cliquez sur **AJOUTER/METTRE A JOUR UNE COUCHE**.

### Modifier une couche d'entités suivies { #modify-a-tracked-entity-layer } 

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) sur la carte de la couche
    des entités suivies.

2.  Modifiez les paramètres des onglets DONNÉES, PÉRIODE, FILTRE, UNITÉ D'ORG et STYLE, 
    à votre convenance.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Effacer une couche d'entité suivie { #clear-a-tracked-entity-layer } 

Pour effacer une couche d'entité suivie d'une carte :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches d'infrastructures { #using_maps_facility_layer }

La couche des établissements affiche des icônes représentant les types d'établissements. Les polygones n'apparaissent pas sur la carte, assurez-vous donc de sélectionner un niveau de l'unité d'organisation qui inclut des établissements.

_Un polygone est une zone fermée sur une carte représentant un pays, un district ou un parc._

![](resources/images/maps_facility_layer.png)

Les couches des établissements sont représentées par des _cartes_ de couches comme par exemple :

En haut de la carte des établissements, de gauche à droite, se trouvent :

- un champ de saisie permettant de déplacer et de réorganiser les couches avec la souris

- Le titre **Etablissements**

- Un symbole d'œil pour modifier l'affichage de la couche

- Un symbole de flèche pour réduire et agrandir la carte des établissements

Au centre de la carte des établissements se trouve une légende indiquant la représentation de l'ensemble de groupes.

En bas de la carte des établissements, de gauche à droite, se trouvent :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - Un bouton **tableau de données** permet d'afficher ou de masquer le tableau de données 
    associé à la couche

  - **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'infrastructures { #create-a-facility-layer } 

Pour créer une couche d'établissements, choisissez **Etablissements** dans **Ajouter une couche**. La boîte de dialogue de configuration de la couche des établissements s'ouvre.

1.  Dans l'onglet **UNITÉS D'ORGANISATION**

    ![](resources/images/maps_facility_layer_dialog_ORG_UNITS.png)

    - sélectionnez le(s) niveau(x) et/ou le(s) groupe(s) d'unités d'organisation dans
      les champs de sélection sur le côté droit.

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

    - L'administrateur système peut définir l'ensemble de groupes d'unités d'organisation
      qui contient des établissements dans l'application **Paramètres système**.

    - **Utiliser la géométrie associée** : cette liste déroulante ne s'affichera que si
      une géométrie supplémentaire est disponible pour vos unités d'organisation.
      Ceci est généralement utilisé pour afficher les zones de captage des établissements.

2.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_facility_layer_dialog_STYLE.png)

    - sélectionnez le style que vous souhaitez appliquer aux établissements.

      - Afficher les étiquettes

        Permet d'afficher les étiquettes sur la couche. La taille de police, le poids 
        et la couleur peuvent être modifiés ici.

      - Afficher le tampon

        Permet d'afficher un tampon visuel sur la couche autour
        de chaque établissement. Le rayon du tampon peut être modifié
        ici. L’option Tampon n’est pas disponible si une géométrie associée est utilisée.

    - A l'aide de différentes icônes, les établissements peuvent être organisés en **ensemble de groupes d'unités d'organisation**.
      Sélectionnez un ensemble de groupes dans la liste des ensembles de groupes d'unités d'organisation
      définis pour votre instance DHIS2.
      L'administrateur système peut définir l'ensemble de groupes d'unités d'organisation
      par défaut dans l'application **Paramètres système**.

    - Si aucun groupe n'est sélectionné, les établissements seront affichées sous forme de cercles pleins.
      La couleur et le rayon du cercle peuvent être modifiés.

3.  Cliquez sur **AJOUTER UNE COUCHE**.

### Créer ou modifier une couche d'établissements { #create-or-modify-a-facility-layer } 

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) sur la carte des couches
    des unités d'organisation.

2.  Modifiez les paramètres dans les onglets ENSEMBLE DE GROUPES, UNITÉS D'ORGANISATION et STYLE,
    comme vous le souhaitez.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Filtrer les valeurs dans une couche d'établissements{ #filter-values-in-a-facility-layer } 

Les couches d'établissements ont une option **tableau de données** qui peut être activée ou désactivée depuis la carte des couches d'établissements.

![](resources/images/maps_facility_layer_data_table.png)

La table de données affiche les données qui composent la couche de l'infrastructure.

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs des filtres sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajusté en fonction du filtre.
  Les filtres sont appliqués comme suit :

  - NOM

    filtrer par noms contenant ce texte

  - Identifiant

    filtrer par Identifiants contenant ce texte

  - TYPE

    filtrer par types d'affichage SIG contenant ce texte

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.
>

### Rechercher un établissement { #search-for-a-facility } 

Le champ de filtrage NOM dans le tableau de données est un moyen efficace de rechercher des établissements une à une.

### Ouvrir le profil de l'unité d'organisation { #open-organisation-unit-profile }

Vous pouvez ouvrir le [profil d'unité d'organisation](#utilisation_du profil_des unités_d'organisation_des cartes) de trois manières :

1. Cliquez sur l'une des unités d'organisation indiquées sur la carte, puis cliquez sur
   le bouton **Afficher le profil** dans la fenêtre contextuelle.

2. Faites un clique droit sur l'une des unités d'organisation présentes sur la carte, puis sélectionnez **Afficher le profil**
   dans le menu.

3. Cliquez sur une ligne d'unité d'organisation dans le **tableau de données**.

### Supprimer une couche d'infrastructures { #remove-facility-layer } 

Pour effacer toutes les données d'une couche d'infrastructures :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer les couches des unités d'organisation{ #using_maps_org_unit_layer }

La couche des unités d'organisation affiche les limites géographiques et les emplacements de vos unités d'organisation. Cette couche est particulièrement utile lorsque vous êtes hors ligne et que vous n'avez pas accès aux cartes d'arrière-plan.

![](resources/images/maps_org_unit_layer.png)

Les couches des unités d'organisation sont représentées par des _cartes_  de couches dans le panneau des couches, par exemple :

En haut de la carte d'unité d'organisation , de gauche à droite, se trouvent :

- un champ de saisie permettant de déplacer et de réorganiser les couches avec la souris

- Le titre de l'**Unité d'organisation**

- Un symbole de flèche pour réduire et développer la carte des unité d'organisation

Au bas de la carte des unités organisation, de gauche à droite, se trouvent :

- Un bouton d'édition (crayon) pour ouvrir la boîte de dialogue de configuration de la couche

- Un symbole d'œil pour modifier l'affichage de la couche

- Un curseur pour modifier la transparence de la couche

- Un bouton "Plus d'actions" (trois points) avec des options supplémentaires :

  - Un bouton **tableau de données** permet d'afficher ou de masquer le tableau de données 
    associé à la couche

  - **Télécharger les données** vous permet de télécharger les données de cette couche au format GeoJSON pour les utiliser dans d'autres logiciels de cartographie

  - **Modifier la couche** est le même que le bouton Modifier ci-dessus

  - **Supprimer la couche** supprimera cette couche de la carte actuelle.

### Créer une couche d'unités d'organisation{ #create-an-org-unit-layer }

Pour créer une couche d'unités d'organisation, choisissez **Unités d'organisation** dans la fenêtre **Ajouter une couche**. La boîte de dialogue de configuration de la couche des unités d'organisation s'ouvre.

1.  Dans l'onglet **UNITÉS D'ORGANISATION**

    ![](resources/images/maps_org_unit_layer_dialog_ORG_UNITS.png)

    - sélectionnez le(s) niveau(x) et/ou le(s) groupe(s) d'unités d'organisation dans
      les champs de sélection sur le côté droit.

    - Sélectionnez les unités d'organisation que vous souhaitez inclure dans la couche. Vous disposez de 3 modes de sélection :
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

    - **Utiliser la géométrie associée** : cette liste déroulante ne s'affichera que si
      une géométrie supplémentaire est disponible pour vos unités d'organisation.
      Ceci est généralement utilisé pour afficher les zones de captage des établissements.

2.  Dans l'onglet **STYLE**:

    ![](resources/images/maps_org_unit_layer_dialog_STYLE.png)

    - sélectionnez le style que vous souhaitez appliquer aux unités d'organisation.

      - Étiquettes

        Permet d'afficher les étiquettes sur la couche. Le style de police peut être
        modifié ici.

      - Couleur des limites géographiques

        Permet de modifier la couleur des limites ou du contour 
        des unités d'organisation.

      - Rayon de point

        Définit le rayon de base lorsque des éléments représentés par des points tels que
        des établissements, sont présentés sur la couche des unités d'organisation.

    - A l'aide de différentes couleurs, les unités d'organisation peuvent être organisés en **ensemble de groupes d'unités d'organisation**.
      Sélectionnez un ensemble de groupes dans la liste des ensembles de groupes d'unités d'organisation
      définis pour votre instance DHIS2.

3.  Cliquez sur **AJOUTER UNE COUCHE**.

### Modifier une couche d'unités d'organisation{ #modify-an-org-unit-layer }

1.  Dans le panneau des couches, cliquez sur l'icône Édition (crayon) sur la carte de la couche
    des unités d'organisation.

2.  Modifiez les paramètres des onglets UNITÉS D'ORGANISATION et STYLE 
    à votre convenance.

3.  Cliquez sur **METTRE À JOUR LA COUCHE**.

### Filtrer les valeurs dans une couche d'unités d'organisation { #filter-values-in-an-org-unit-layer }

Les couches d'unités d'organisation ont une option **tableau de données** qui peut être activée ou désactivée à partir de la carte de la couche d'unités d'organisation.

![](resources/images/maps_bound_layer_data_table.png)

Le tableau de données affiche les données qui forment la couche des unités d'organisation.

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs des filtres sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajusté en fonction du filtre.
  Les filtres sont appliqués comme suit :

  - NOM

    filtrer par noms contenant ce texte

  - NIVEAU

    filtrez le niveau par nombres et/ou plages de valeurs, par exemple : 2,\>3&\<8

  - PARENT

    filtrer par noms de parent contenant ce texte

  - Identifiant

    filtrer par Identifiants contenant ce texte

  - TYPE

    filtrer par types d'affichage SIG contenant ce texte

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte en tant que favori.
>

### Rechercher une unité d'organisation { #search-for-an-organisational-unit } 

Le champ de filtre NOM dans le tableau de données constitue un moyen efficace de recherche des unités d'organisation individuelles affichées dans la couche des unités d'organisation.

### Ouvrir le profil de l'unité d'organisation { #open-organisation-unit-profile }

Vous pouvez ouvrir le [profil d'unité d'organisation](#utilisation_du profil_des unités_d'organisation_des cartes) de trois manières :

1. Cliquez sur l'une des unités d'organisation indiquées sur la carte, puis cliquez sur
   le bouton **Afficher le profil** dans la fenêtre contextuelle.

2. Faites un clique droit sur l'une des unités d'organisation présentes sur la carte, puis sélectionnez **Afficher le profil**
   dans le menu.

3. Cliquez sur une ligne d'unité d'organisation dans le **tableau de données**.

### Naviguer entre les hiérarchies d'organisation { #navigate-between-organisation-hierarchies } 

Vous pouvez modifier la cible de la couche des unités d'organisation dans la hiérarchie sans utiliser l'interface utilisateur de niveau / parent.

1.  Faites un clique droit sur l'une des unités d'organisation.

2.  Sélectionnez **Accéder au niveau supérieur** ou **Accéder au niveau inférieur**.

    L'option de défilement vers le bas est désactivée si vous êtes au niveau le plus bas.
    De même, l'option de défilement vers le haut est désactivée à partir du niveau le plus élevé.

### Supprimer une couche d'unités d'organisation{ #remove-org-unit-layer }

Pour effacer toutes les données d'une couche d'unités d'organisation :

1.  Dans la carte des couches à gauche, cliquez sur l'icône _plus d'actions_ (trois points), 
    puis sur **Supprimer la couche**.

    La couche est supprimée de la carte actuelle.

## Gérer une couche Earth Engine { #using_maps_gee }

![](resources/images/maps_ee_layer.png)

Les couches de Google Earth Engine vous permettent d'afficher et d'agréger des données externes à vos unités d'organisation. Utilisez la couche de population pour calculer le nombre de personnes vivant dans un district ou à une certaine distance d'un établissement de santé. La couche d'altitude vous permet de trouver l'altitude la plus basse, la plus haute et la moyenne. Utilisez la couche de couverture terrestre pour afficher la couverture forestière, les terres cultivées ou les zones urbaines, et calculez le pourcentage pour chaque unité d'organisation.

Les couches suivantes sont prises en charge :

![](resources/images/maps_ee_layer_types.png)

- **Population** : Données démographiques détaillées de WorldPop qui indiquent le nombre estimé 
  de personnes vivant dans une zone donnée. Disponible pour des périodes annuelles de 2000 et
  plus.

- **Tranches d'âge dans la population** : nombre estimé de personnes vivant dans une zone, regroupées
  par âge et par genre.

- **Empreintes de construction** : Les contours des bâtiments dérivés de l'imagerie satellite 
  de haute résolution. Uniquement pour le continent africain.

- **Altitude** : altitude au-dessus du niveau de la mer.

- **Précipitations** : Les valeurs sont en millimètres et concernent des périodes de 5 jours. Elles sont mises à jour
  sur une bas mensuelle, au cours de la 3ème semaine du mois suivant et sont collectées à partir de satellites et de stations météorologiques au sol.

- **Température** : températures à la surface de la terre collectées par satellite.
  Des points vides apparaîtront dans les zones qui présentent une couverture nuageuse persistante.

- **Couverture terrestre** : 17 types de couverture terrestre distincts collectés à partir de satellites par la NASA.

### Créer une couche Earth Engine { #create-an-earth-engine-layer } 

Pour créer une couche Earth Engine, choisissez la couche souhaités dans la liste **Ajouter une couche**. La boîte de dialogue de configuration de la couche.

1.  Dans l'onglet **DONNÉES**:

    ![](resources/images/maps_ee_layer_dialog_DATA.png)

    - Pour les "tranches d'âge de la population", vous pouvez sélectionner les **tranches** d'âge/genre
      que vous voulez inclure lors de l'agrégation des données.

    - Sélectionnez les **méthodes d'agrégation** que vous voulez utiliser lors du calcul
      des valeurs pour les unités d'organisation sélectionnées.

      - **Somme** : calcule le nombre total dans chaque unité d'organisation.
        Son utilisation est recommandée avec les couches de population.

      - **Min** : renvoie la valeur minimale dans l'unité de couche affichée sous la sélection.
        Pour les couches de population, ce sera le nombre minimum de _personnes par 
        hectare_. Pour la couche d'altitude, elle renverra l'altitude la plus basse (mètres
        au dessus du niveau de la mer).

      - **Max** : renvoie la valeur maximale dans l'unité de couche. Pour les couches de population
        ce sera le nombre minimum de _personnes par hectare_. Pour la couche d'altitude,
        elle renverra l’altitude la plus élevée pour chaque unité d’organisation.

      - **Moyenne** : renvoie la valeur moyenne dans l'unité de couche. Pour les couches de population,
        ce sera la moyenne des _personnes par hectare_. Pour la couche des précipitations, ce sera
        la moyenne des précipitations en millimètres dans l'unité d'organisation.

      - **Médiane** : renvoie la valeur moyenne dans l'unité de couche. Pour les couches de population,
        ce sera le nombre médian de _personnes par hectare_. Pour la couche de température, ce sera
        le °C médian pendant la journée pour l'unité d'organisation.

      - **Écart type** : renvoie la valeur de l'écart type dans l'unité 
        de couche.

      - **Variance** : renvoie la valeur de variance dans l'unité de couche.

2.  Dans l'onglet **PÉRIODE**

    ![](resources/images/maps_ee_layer_dialog_PERIOD.png)

    - Sélectionnez la période pour la source des données. Les périodes disponibles sont fixées par
      le fournisseur des données. Une seule période est disponible pour la couche « tranches d'âge de la population »,
      tandis que la couche « population » contient des données annuelles disponibles à partir de 2000.
      Les données de précipitations sont disponibles par périodes de 5 jours et les données de température pour
      des périodes de 8 jours.

3.  Dans l'onglet **UNITÉS D'ORGANISATION** :

    ![](resources/images/maps_ee_layer_dialog_ORG_UNITS.png)

    - Sélectionnez les unités d'organisation dans lesquelles vous voulez que les valeurs de données agrégées se trouvent.
      Vous pouvez sélectionner soit

      - Une ou plusieurs unités d'organisation spécifiques, niveaux d'unité d'organisation dans la hiérarchie,
        groupes d'unités d'organisation ou

      - Un niveau relatif dans la hiérarchie des unités d'organisation, selon les besoins de l'utilisateur.
        En sélectionnant une **Unité d'organisation 
        d'utilisateurs**, les données cartographiques apparaîtront différemment pour les utilisateurs à
        différents niveaux de la hiérarchie des unités d'organisation.

    - **Utiliser la géométrie associée** : cette liste déroulante ne s'affichera que si
      une géométrie supplémentaire est disponible pour vos unités d'organisation.
      Ceci est généralement utilisé pour calculer les valeurs des zones de captage des établissements.

    - **Empreintes de construction** : le nombre de bâtiments n'est disponible que pour les plus petites
      zones des unités d’organisation.

4.  Dans l'onglet **STYLE**

    ![](resources/images/maps_ee_layer_dialog_STYLE.png)

    - Modifier les paramètres spécifiques au type de couche.

    - Ajustez la plage, les étapes et les couleurs de la légende comme vous le souhaitez.

    - Si vous sélectionnez des unités d'organisation ayant une coordonnée de point unique
      (établissements), vous pouvez définir un rayon tampon pour calculer la
      valeur des données qu'elles contiennent. Un rayon de 5000 mètres va agréger toutes
      les valeurs disponibles dans un rayon de 5 km d’un établissement. L'option Tampon
      n’est pas disponible si une géométrie associée est utilisée.

5.  Cliquez sur **AJOUTER UNE COUCHE**.

Cliquez sur la carte des régions ou des établissements pour voir le résultat de l'agrégation pour cette unité d’organisation.

### Liste des valeurs de données { #listing-of-data-values }

Les couches de Earth Engine ont une option **table de données** qui peut être activée ou désactivée de la carte de couche.

![](resources/images/maps_ee_layer_data_table.png)

Le tableau de données affiche toutes les valeurs agrégées pour les unités d'organisation sélectionnées.

- Cliquer sur un titre permettra de faire un tri dans le tableau en fonction de cette colonne ;
  passer d'ascendant à descendant.

- saisir du texte ou des expressions dans les champs des filtres sous les titres
  permettra d'appliquer ces filtres aux données et l'affichage sera ajusté en fonction du filtre.
  Les filtres sont appliqués comme suit :

- NOM

  filtrer selon le nom d'unité d'organisation contenant le texte en question

- Identifiant

  filtrer par ID d'événement contenant le texte en question

- TYPE

  filtrer par types d'affichage SIG contenant ce texte

- VALEURS D'AGRÉGATION

  Il existe une colonne pour chacun des types d'agrégation sélectionnés

  les valeurs numériques des données peuvent être filtrées par nombres spécifiques et/ou par plages, 
  par exemple : 2,\>3&\<8

> **Note**
>
> Les filtres des tableaux de données sont temporaires et ne sont pas enregistrés avec les couches de la carte.

## Ajouter des couches de carte externes { #using_maps_external_map_layers }

![](resources/images/maps_terrain_imagery.png)

Les couches de carte externes sont représentées comme suit :

- Cartes de référence

  Celles-ci sont disponibles dans la carte **fond de carte** dans le panneau des couches et 
  sont sélectionnés au même titre que n'importe quelle autre carte de référence.

- Les superpositions

  Celles-ci sont disponibles dans la sélection **Ajouter une couche**. Contrairement aux cartes de référence,
  les superpositions peuvent être placées au-dessus ou en dessous de toute autre couche de superposition.

Les couches superposées sont représentées par des _cartes_ de couches supplémentaires dans le panneau des couches comme suit :

En haut de la carte superposée, de gauche à droite, vous trouverez :

- un champ de saisie permettant de déplacer et de réorganiser les couches avec la souris

- le titre de la couche de carte externe

- Un symbole de flèche pour réduire et agrandir la carte de superposition

Au milieu de la carte se trouve une légende si la couche en a une.

En bas de la carte de superposition, de gauche à droite, se trouvent :

- Un curseur pour modifier la transparence de la couche

- Une icône de suppression (corbeille) pour supprimer la couche de la carte 
  thématique actuelle.

## Profil d'unité d'organisation { #using_maps_org_unit_profile }

![](resources/images/maps_org_unit_profile.png)

Le profil de l'unité d'organisation affiche des informations détaillées sur chaque unité d'organisation. Vous pouvez ouvrir le profil à partir des couches d'unités d'organisation, d'établissements et thématiques.

Vous pouvez ouvrir le profil d'unité d'organisation de trois manières :

1. Cliquez sur l'une des unités d'organisation indiquées sur la carte, puis cliquez sur
   le bouton **Afficher le profil** dans la fenêtre contextuelle.

2. Faites un clique droit sur l'une des unités d'organisation présentes sur la carte, puis sélectionnez **Afficher le profil**
   dans le menu.

3. Cliquez sur une ligne d'unité d'organisation dans le **tableau de données**.

Le profil s'affichera sur le côté droit de la carte. Le contenu du profil est défini par l'administrateur système.

## Le menu Fichier { #using_maps_file_menu }

![](resources/images/maps_file_menu.png)

Utilisez le menu **Fichier** pour gérer vos cartes. Plusieurs éléments du menu seront désactivés jusqu'à ce que vous ouvriez ou enregistriez une carte.

Lorsque vous enregistrez vos cartes, cela vous permet de les restaurer facilement par la suite. Vous pouvez également les partager avec d'autres utilisateurs sous forme d'interprétations ou les placer sur le tableau de bord. Vous pouvez enregistrer tous les types de configurations de couche comme favoris.

### Créer une nouvelle carte { #create-a-new-map } 

Cliquez sur **Fichier** \> **Nouveau**.

NB ! Cette action effacera les couches de carte actuelles que vous avez créées sans les sauvegarder.

### Ouvrir une nouvelle carte { #open-a-new-map } 

1.  Cliquez sur **Fichier** \> **Ouvrir**. Une boîte de dialogue s'ouvre avec une liste de cartes.

2.  Recherchez le favori que vous voulez ouvrir. Vous pouvez soit utiliser \< and \> ou
    le champ de recherche pour trouver une carte enregistrée. La liste est filtrée pour chaque
    caractère que vous saisissez. Vous pouvez filtrer la liste en sélectionnant
    **Afficher tout**, **Créées par moi** ou **Créées par d'autres**.

3.  Cliquez sur le nom de la carte que vous souhaitez ouvrir.

### Enregistrer une carte { #save-a-map } 

Après création d'une carte, il est nécessaire de la sauvegarder pour une utilisation ultérieure :

1.  Cliquez sur **Fichier** \> **Enregistrer**.

2.  Entrez un **Nom** (obligatoire) et une **Description** (facultative) la
    première fois que vous enregistrez une carte.

3.  Cliquez sur **SAUVEGARDER**.

### Enregistrer une copie de la carte { #save-a-copy-of-a-map } 

1.  Cliquez sur **Fichier** \> **Enregistrer sous**.

2.  Entrez un **Nom** (obligatoire) et une **Description** (facultative) pour la
    carte.

3.  Cliquez sur **SAUVEGARDER**.

### Renommer une carte { #rename-a-map } 

1.  Cliquez sur **Fichier** \> **Renommer**.

2.  Entrez un nouveau **Nom** et/ou **Description** pour votre carte.

3.  Cliquez sur **RENOMMER**. La carte est alors mise à jour.

### Traduire une carte { #translate-a-map } 

1.  Cliquez sur **Fichier** \> **Traduire**.

2.  Sélectionnez la **Langue** de votre traduction.

3.  Entrez un **Nom** et une **Description** traduits. Le texte original 
    apparaîtra en dessous du champ.

4.  Cliquez sur **SAUVEGARDER**.

### Modifier les paramètres de partage d'une carte { #modify-sharing-settings-for-a-map } 

Après avoir créé et enregistré une carte, vous pouvez alors la partager avec tous les utilisateurs ou avec un groupe d'utilisateurs. Pour modifier les paramètres de partage :

1.  Cliquez sur **Fichier** \> **Partager**. La boîte de dialogue des paramètres de partage s'ouvre.

2.  **Donner l'accès à un utilisateur ou à un groupe** : Dans la zone de texte, recherchez le nom de
    l'utilisateur ou du groupe avec lequel vous souhaitez partager votre favori et sélectionnez-le.

    Sélectionnez le niveau d'accès et cliquez sur **Donner l'accès**.

    Répétez l'étape pour ajouter d'autres utilisateurs ou groupes.

3.  **Utilisateurs et groupes ayant actuellement l'accès** : pour chaque utilisateur ou groupe, choisissez le
    niveau d'accès. Les options sont :

    - Pas d'accès : Le public n'aura pas accès à la carte. Ce paramètre n'est applicable qu'à Tous les utilisateurs.

    - Affichage uniquement

    - Visualisation et édition

    - Retirer l'accès : retire l'accès des groupes ou des utilisateurs.

4.  Cliquez sur **Fermer** pour fermer la boîte de dialogue.

### Obtenir le lien vers une carte { #get-the-link-to-a-map } 

1.  Cliquez sur **Fichier** \> **Lien vers le site**. Une boîte de dialogue de lien s'ouvre.

2.  Copiez le lien.

### Supprimer une carte { #delete-a-map } 

1.  Cliquez sur **Fichier** \> **Supprimer**. Une boîte de dialogue de confirmation s'affiche.

2.  Cliquez sur **SUPPRIMER** pour confirmer que vous voulez supprimer le favori.
    Votre carte est supprimée et les couches sont effacées.

## Interprétations de carte { #mapsInterpretation }

Une interprétation est une description d'une carte à une période donnée. Cette information est visible dans l'application **Tableau de bord**. Cliquez sur **Interprétations** en haut à droite de l'espace de travail pour ouvrir le panneau des interprétations. Vous ne pouvez cliquez sur le bouton que si la carte est enregistrée.

![](resources/images/maps_interpretations_panel.png)

### Afficher les interprétations basées sur des périodes relatives { #view-interpretations-based-on-relative-periods } 

Pour afficher les interprétations pour des périodes relatives, par exemple des interprétations de l'année dernière :

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez sur **Interprétations** en haut à droite de l'espace de travail pour ouvrir 
    le panneau des interprétations.

3.  Cliquez sur **Voir l'interprétation**. Votre carte affiche les données et la date
    à laquelle l'interprétation a été produite. Pour afficher d'autres
    interprétations, cliquez dessus.

![](resources/images/maps_interpretations_modal.png)

### Écrire l'interprétation pour une carte { #write-interpretation-for-a-map } 

Pour créer une interprétation, vous devez d'abord créer une carte et l'enregistrer. Si vous avez partagé votre carte avec d'autres personnes, l'interprétation que vous écrivez sera donc visible par ces personnes.

1.  Ouvrez une carte enregistrée.

2.  Cliquez sur **Interprétations** en haut à droite de l'espace de travail pour ouvrir 
    le panneau des interprétations.

3.  Un champ de texte apparaît avec un espace "Ecrire une interprétation" pour les utilisateurs 
    qui ont un accès en lecture au favori.

4.  Dans le champ de texte, saisissez un commentaire, une question ou une interprétation. Vous 
    pouvez également mentionner d'autres utilisateurs avec "@nomd'utilisateur". Commencez par saisir '@'
     plus les premières lettres du nom d'utilisateur ou du nom réel et une barre de mention
    affichera les utilisateurs disponibles. Les utilisateurs mentionnés recevront
    un message interne DHIS2 avec l'interprétation ou le commentaire. Vous
    pouvez voir l'interprétation dans l'application **Tableau de bord**.

5.  Cliquez sur **Publier l'interprétation** pour enregistrer l'interprétation.

### Modifier les paramètres de partage d'une interprétation { #change-sharing-settings-for-an-interpretation } 

1.  Cliquez sur une interprétation (voir ci-dessus comment visualiser une interprétation).

2.  Cliquez sur l'icône de partage sous l'interprétation. La boîte de dialogue des paramètres de partage
    s'ouvre.

3.  Recherchez et ajoutez un utilisateur et des groupes d'utilisateurs avec lesquels vous souhaitez partager 
    votre carte et définissez le niveau d'accès. Cliquez sur **Donner l'accès**.

4.  Vous pouvez modifier le niveau d'accès des utilisateurs :

    - **Lecture et écriture** : Tout le monde peut consulter et éditer l'objet.

    - **Lecture uniquement** : tout le monde peut consulter l'objet.

    - **Aucun accès** : Le public n'aura pas accès à l'objet. Ce 
      paramètre ne s'applique qu'à Tous les utilisateurs.

    - **Retirer l'accès** : retire l'accès des groupes ou des utilisateurs.

5.  Cliquez sur **FERMER** après la mise à jour des paramètres de partage.

![](resources/images/maps_interpretations_sharing.png)

## Enregistrer une carte en tant qu'image { #using_maps_image_export }

Vous pouvez télécharger votre carte sous forme d'image en cliquant sur le bouton "Télécharger" dans le menu du haut

![](resources/images/maps_download.png)

Vous entrerez dans un « mode de téléchargement » dans lequel vous pourrez ajuster la disposition de la carte avant de télécharger l'image. La colonne de gauche vous propose les options suivantes :

- **Afficher le nom de la carte** : Sélectionnez cette option si vous voulez inclure le nom de la carte ou non. Cette option
  n'est disponible que si la carte est enregistrée. Pour changer le nom, quittez le mode de téléchargement et
  sélectionnez _Fichier_ > _Renommer_.
- **Afficher la description de la carte** : Sélectionnez cette option si vous voulez inclure ou non la description de la carte.
  Cette option n'est disponible que si une description de la carte a été ajoutée lors de l'enregistrement de la carte.
  Pour modifier la description de la carte, quittez le mode de téléchargement et sélectionnez _Fichier_ > _Renommer_.
- **Afficher la légende** : sélectionnez cette option si vous voulez inclure la légende de la carte. Si la carte comprend
  plusieurs couches, vous pouvez déterminer la manière dont chaque légende sera affichée.
- **Afficher la carte générale** : sélectionnez cette option si vous voulez inclure une carte générale (souvent nommée
  carton). Cette option sera désactivée s'il n'y a pas assez de place pour elle dans la
  colonne de droite.
- **Afficher la flèche indiquant le nord** : sélectionnez cette option pour inclure une flèche indiquant le nord sur la carte. Par défaut,
  elle est positionnée dans l'angle inférieur droit de la carte, mais vous pouvez la placer dans un autre
  angle.
- Cliquez sur **Télécharger** pour télécharger votre carte.

Redimensionnez la fenêtre de votre navigateur pour modifier les dimensions de la carte. Vous pouvez également repositionner la carte principale et la carte générale.

Le téléchargement des cartes n'est pas possible sur Internet Explorer ou Safari. Nous recommandons d'utiliser Google Chrome ou Firefox.

## Rechercher un emplacement { #using_maps_search }

La fonction de recherche d'emplacement vous permet de rechercher presque n'importe quel lieu ou adresse. Cette fonction est utile pour localiser par exemple des sites, structures sanitaires, villages ou villes sur la carte.

![](resources/images/maps_place_search.png)

1.  Sur le côté droit de la fenêtre Cartes, cliquez sur l'icône loupe.

2.  Saisissez l'emplacement que vous recherchez.

    Une liste des emplacements correspondants apparaît au fur et à mesure que vous saisissez.

3.  Dans la liste, sélectionnez un emplacement. Une épingle indique l'emplacement sur
    la carte.

## Mesurer des distances et des surfaces sur une carte { #using_maps_measure_distance }

1.  Dans la partie supérieure gauche de la carte, placez le curseur sur l'icône **Mesurer 
    les distances et les surfaces** (règle) et cliquez sur **Créer une nouvelle 
    mesure**.

2.  Ajouter des points à la carte.

3.  Cliquez sur **Terminer la mesure**.

![](resources/images/maps_measure_distance.png)

## Obtenir la latitude et la longitude d'un emplacement { #using_maps_latitude_longitude }

Faites un clique droit sur un point de la carte et sélectionnez **Afficher la longitude/latitude**. Les valeurs s'affichent dans une fenêtre contextuelle.

## Voir également { #see-also } 

- [Gestion
  des légendes](https://docs.dhis2.org/master/en/user/html/manage_legend.html)



# Analyser des données dans des tableaux croisés dynamiques { #pivot } 

## À propos de l'application de tableaux croisés dynamiques { #pivot_about } 

Avec l'application **Tableau croisé dynamique**, vous pouvez créer des tableaux croisés dynamiques basés sur des dimensions de données disponibles dans DHIS2. Un tableau croisé dynamique est un outil dynamique pour l'analyse des données qui vous permet de manipuler et d'organiser les données en fonction de leurs dimensions. Voici des exemples de dimensions de données dans DHIS2 :

  - data dimension itself (for example data elements, indicators and
    events)

  - périodes (représentant la période de temps pour les données)

  - organisation hierarchy (representing the geographical location of
    the data)

From these dimensions you can freely select *dimension items* to include
in the pivot table. You can create additional dimensions in DHIS2 with
the group set functionality. This allows for different aggregation
pathways, such as aggregation by "Partner" or facility type.

A pivot table can arrange data dimensions on *columns*, *rows*, and as
*filters*. When you place a data dimension on columns, the pivot table
will display one column per dimension item. If you place multiple data
dimensions on columns, the pivot table displays one column for all
combinations of the items in the selected dimensions. When you place a
data dimension on rows, the pivot table displays one row per dimension
item in a similar fashion. The dimensions you select as filters will not
be included in the pivot table, but will aggregate and filter the table
data based on the selected filter items.

> **Tip**
>
>   - You must select at least one dimension on columns or rows.
>
>   - You must include at least one period.
>
>   - Data element group sets and reporting rates can't appear in the
>     same pivot table.
>
>   - A pivot table can't contain more than the maximum number of
>     analytic records which have been specified in the system settings.
>     The maximum number of records could also be constrained by the
>     maximum RAM which is available to your browser. You will be
>     prompted with a warning if your requested table exceeds a
>     particular size. From this prompt, you can either cancel the
>     request or continue building the table. Consider making smaller
>     tables instead of one table which displays all of your data
>     elements and indicators together.
>
>   - The **Pivot Table** app supports drill-down and up for periods and
>     organisation unit. This means that you can for example drill down
>     from yearly periods to quarters, months and weeks inside a pivot
>     table. You can also drill down from the global organisation unit
>     to countries, provinces and facilities.

## Créer un tableau croisé dynamique { #pivot_create } 

1.  Ouvrez l'application **Tableau croisé dynamique**.

2.  In the menu to the left, select the dimension items you want to
    analyse, for example data elements or indicators.

3.  Click **Layout** and arrange the data dimensions as columns, rows
    and filters.

    Vous pouvez conserver la sélection par défaut si vous le souhaitez.

4.  Cliquez sur **Mettre à jour**.

Dans cet exemple, les indicateurs sont répertoriés sous forme de colonnes et les périodes sous forme de lignes.

![](resources/images/pivot_table/basic_pivot.png)

### Sélectionner les éléments de dimension { #select-dimension-items } 

The left menu lists sections for all available data dimensions. From
each section you can select any number of dimension items. As an
example, you can open the section for data elements and select any
number of data elements from the available list. You can select an item
by marking it and clicking on the arrow in the section header or simply
double-clicking on the item. Before you can use a data dimension in your
pivot table you must at least select one dimension item. If you arrange
a dimension as columns or rows but do not select any dimension items,
the dimension is ignored.

You must choose at least one data dimension type to create a pivot
table. The available types are described in this table:



Table: Data dimension types

| Data dimension type | Définition | Examples |
|---|---|---|
| Des indicateurs | An indicator is a calculated formula based on data elements. | Coverage of immunization across a specific district. |
| Des éléments de données | Represents the phenomenon for which data has been captured. | Number of malaria cases; number of BCG doses given. |
| Des ensembles de données | A collection of data elements grouped for data collection. You can select : <br> * **Reporting rates**: the percentage of actual reports compared to the expected number of reports<br> * **Reporting rates on time**: the reporting rates based on timely form submissions. A timely submission must happen within a number of days after the reporting period.<br> * **Actual reports**: the actual number of reports<br> * **Actual reports on time**: the actual number of reports based on timely form submissions. A timely submission must happen within a number of days after the reporting period.<br> * **Expected reports**: the number of expected reports based on organisation units where the data set and the reporting frequency has been assigned. | Reporting rates for immunization and morbidity forms. |
| Event data items | A data element that is part of a program representing events that have been captured. | Average weight and height for children in a nutrition program. |
| ![](resources/images/pivot_table/table_layout.png) | A calculated formula based on data elements in a program representing events. | Average BMI score for children in a nutrition program. |

You can combine these dimensions to display for example aggregate data
with reporting rates, or event data items together with program
indicators, all in the same pivot tables. For the "data element" data
dimension, you are also able to select "Totals" and "Details", which
will allow you to view different category combination options together
on the same pivot table.

For the period dimension you can choose between using fixed periods or
relative periods. An example of a fixed period is "January 2012". To
select fixed periods start by selecting a period type from the period
type list. You can then select periods from the list of available
periods.

Relative periods are periods relative to the current date. Examples of
relative periods are "Last month", "Last 12 months", "Last 5 years".
Relative periods can be selected by ticking the check-boxes next to each
period. The main advantage of using relative periods is that when you
save a pivot table favorite, it will stay updated with the latest data
as time goes by without the need for constantly updating it.

For the organisation unit dimension you can select any number of
organisation units from the hierarchy. To select all organisation units
below a specific parent organisation unit, right click and click "Select
all children". To manually select multiple organisation units, click and
hold the **Ctrl** key while clicking on organisation units. You can tick
"User org unit", "User sub-units" or "User sub-x2-units" in order to
dynamically insert the organisation unit or units associated with your
user account. This is useful when you save a pivot table favorite and
want to share it with other users, as the organisation units linked with
the other user's account will be used when viewing the favorite.


![](resources/images/pivot_table/period_dimension.png)

Dynamic dimensions can consist of organisation unit group sets, data
element group sets, or category option group sets which have been
configured with the type of "Disaggregation". Once the group sets have
been configured, they will be come available in the pivot tables, and
can be used as additional analysis dimensions, for instance to analyse
aggregate data by Type of organisation unit or Implementing partner.
Dynamic dimensions work the same as fixed dimensions.

> **Tip**
>
> Some dynamic dimensions may contain many items. This can cause issues
> with certain browsers due to the length of the URL when many dimension
> members are selected. A special "All" check box is available for
> dynamic dimensions, which allows you to include all available
> dimensions implicitly in your pivot table, without specifying each and
> every dimension member.

### Modifier la mise en page du tableau croisé dynamique { #modify-pivot-table-layout } 

After selecting data dimensions it is time to arrange your pivot table.
Click "Layout" in the top menu to open the layout screen. In this screen
you can position your data dimensions as table columns, rows or filters
by clicking and dragging the dimensions from the dimensions list to the
respective column, row and filter lists. You can set any number of
dimensions in any of the lists. For instance, you can click on
"Organisation units" and drag it to the row list in order to position
the organisation unit dimension as table rows. Note that indicators,
data elements and data set reporting rates are part of the common "Data"
dimension and will be displayed together in the pivot table. For
instance, after selecting indicators and data elements in the left menu,
you can drag "Organisation Unit" from the available dimensions list to
the row dimension list in order to arrange them as rows in the pivot
table.


![](resources/images/pivot_table/table_layout.png)

After you have set up your pivot table you can click "Update" to render
your pivot table, or click "Hide" to hide the layout screen without any
changes taking effect. Since we in our example have selected both the
period and organisation unit dimension as rows, the pivot table will
generate all combinations of the items in these dimensions and produce a
table like this:

![](resources/images/pivot_table/pivot_rows.png)

## Modifier l'affichage de votre tableau croisé dynamique { #pivot_change_display } 

1.  Ouvrez l'application **Tableau croisé dynamique**.

2.  Créez un nouveau tableau croisé dynamique ou ouvrez un favori.

3.  Cliquez sur **Options**.

4.  Définissez les options selon les besoins.



    Table: Pivot table options

    || Option | Description |
    |---|---|---|
    | **Data** | **Show column totals**<br>     <br>**Show row totals** | Displays total values in the table for each row and column, as well as a total for all values in the table. |
    || **Show column sub-totals**<br>     <br>**Show row sub-totals** | Displays subtotals in the table for each dimension.<br>     <br>If you only select one dimension, subtotals will be hidden for those columns or rows. This is because the values will be equal to the subtotals. |
    || **Show dimension labels** | Shows the dimension names as part of the pivot tables. |
    || **Hide empty rows** | Hides empty rows from the table. This is useful when you look at large tables where a big part of the dimension items don't have data in order to keep the table more readable. |
    || **Hide empty columns** | Hides empty columns from the table. This is useful when you look at large tables where a big part of the dimension items don't have data in order to keep the table more readable. |
    || **Skip rounding** | Skips the rounding of data values, offering the full precision of data values. Can be useful for finance data where the full dollar amount is required. |
    || **Aggregation type** | The default aggregation operator can be over-ridden here, by selecting a different aggregation operator. Some of the aggregation types are **Count**, **Min** and **Max**. |
    || **Number type** | Sets the type of value you want to display in the pivot table: **Value**, **Percentage of row** or **Percentage of column**.<br>     <br>The options **Percentage of row** and**Percentage of column** mean that you'll display values as percentages of row total or percentage of column total instead of the aggregated value. This is useful when you want to see the contribution of data elements, categories or organisation units to the total value. |
    || **Measure criteria** | Allows for the data to be filtered on the server side.<br>     <br>You can instruct the system to return only records where the aggregated data value is equal, greater than, greater or equal, less than or less or equal to certain values.<br>     <br>If both parts of the filter are used, it's possible to filter out a range of data records. |
    | **Events** | **Include only completed events** | Includes only completed events in the aggregation process. This is useful for example to exclude partial events in indicator calculations. |
    | **Organisation units** | **Show hierarchy** | Shows the name of all ancestors for organisation units, for example "Sierra Leone / Bombali / Tamabaka / Sanya CHP" for Sanya CHP.<br>     <br>The organisation units are then sorted alphabetically which will order the organisation units according to the hierarchy.<br>     <br>When you download a pivot table with organisation units as rows and you've selected **Show hierarchy**, each organisation unit level is rendered as a separate column. This is useful for example when you create Excel pivot tables on a local computer. |
    | **Legend** | **Apply legend** | Applies a legend to the values. This mean that you can apply a colour to the values.<br>     <br>Select **By data item** to color the table cells individually according to each data element or indicator.<br>     <br>You configure legends in the **Maintenance** app. |
    || **Style** | Colors the text or background of cells in pivot tables based on the selected legend.<br>     <br>You can use this option for scorecards to identify high and low values at a glance. |
    | **Style** | **Display density** | Controls the size of the cells in the table. You can set it to **Comfortable**, **Normal** or **Compact**.<br>     <br>**Compact** is useful when you want to fit large tables into the browser screen. |
    || **Font size** | Controls the size of the table text font. You can set it to **Large**, **Normal** or **Small**. |
    || **Digit group separator** | Controls which character to separate groups of digits or "thousands". You can set it to **Comma**, **Space** or **None**. |
    | **General** | **Table title** | Type a title here to display it above the table. |
    | **Parameters (for standard reports only)** |     **Note** <br>    You create standard reports in the **Reports** app. <br>    In the **Pivot Table** app you set which parameters the system should prompt the user for. ||
    || **Reporting period** | Controls whether to ask user to enter a report period. |
    || **Organisation unit** | Controls whether to ask user to enter an organisation unit. |
    || **Parent organisation unit** | Controls whether to ask user to enter a parent organisation unit. |
    || **Include regression** | Includes a column with regression values to the pivot table. |
    || **Include cumulative** | Includes a column with cumulative values to the pivot table. |
    || **Sort order** | Controls the sort order of the values. |
    || **Top limit** | Controls the maximum number of rows to include in the pivot table. |

5.  Cliquez sur **Mettre à jour**.

## Gérer les favoris { #manage-favorites } 

La sauvegarde de vos graphiques ou tableaux croisés dynamiques dans les favoris facilite 
leur recherche plus tard. Vous pouvez également choisir de les partager avec d'autres utilisateurs 
comme interprétation ou les afficher sur le tableau de bord.

Vous pouvez visualiser les détails et interprétations de vos favoris dans les applications 
**Tableau croisé dynamique**, **Visualiseur de données**, **Visualiseur d'évènements**, 
**Rapports d'évènements**. Utilisez le menu **Favoris** pour gérer vos favoris.

### Ouvrir un favori { #open-a-favorite } 

1.  Cliquez sur **Favoris** \> **Ouvrir**.

2.  Entrez le nom d'un favori dans le champ de recherche ou cliquez sur **Précédent** 
    et **Suivant** pour afficher les favoris.

3.  Cliquez sur le nom du favori que vous souhaitez ouvrir.

### Sauvegarder un favori { #save-a-favorite } 

1.  Cliquez sur **Favoris** \> **Sauvegarder**.

2.  Entrez un **Nom** et une **Description** pour votre favori. Le champ de description supporte un format RTF, voir la section interprétations pour plus de détails.

3.  Cliquez sur **Sauvegarder**.

### Renommer un favori { #rename-a-favorite } 

1.  Cliquez sur **Favoris** \> **Renommer**.

2.  Entrez le nouveau nom que vous souhaitez donner à votre favori.

3.  Cliquez sur **Mettre à jour**.

### Écrire une interprétation d'un favori { #write-an-interpretation-for-a-favorite } 

Une interprétation est un lien vers une ressource contenant une description des données 
à une période donnée. Cette information est visible dans l'application **Tableau de bord**. 
Pour créer une interprétation, vous devez d'abord créer un favori. Si 
vous avez partagé votre favori avec d'autres personnes, votre interprétation 
sera visible pour ces personnes.

1.  Cliquez sur **Favoris** \> **Écrire une interprétation**.

2.  Dans le champ de texte, saisissez un commentaire, une question ou une interprétation. Vous 
    pouvez également mentionner d'autres utilisateurs avec "@nomd'utilisateur". Commencez par saisir '@'
     plus les premières lettres du nom d'utilisateur ou du nom réel et une barre de mention
    affichera les utilisateurs disponibles. Les utilisateurs mentionnés recevront
    un message interne DHIS2 avec l'interprétation ou le commentaire. Vous
    pouvez voir l'interprétation dans l'application **Tableau de bord**.

    Il est possible de formater le texte avec le **gras**, l'*italique* en utilisant les
    marqueurs de style Markdown \* et \_ pour respectivement le **gras** et l'*italique*.
    Des raccourcis clavier sont également disponibles : Ctrl/Cmd + B et Ctrl/Cmd + I. Un
    ensemble limité de smileys est pris en charge et peut être utilisé en saisissant l'une des 
    combinaisons de caractères suivantes : :) :-) :( :-( :+1 :-1 Les URL sont 
    automatiquement détectées et converties en liens cliquables.

3.  Recherchez un groupe d'utilisateurs avec lequel vous souhaitez partager votre favori,
    puis cliquez sur l'icône **+**.

4.  Modifiez les paramètres de partage pour les groupes d'utilisateurs que vous souhaitez modifier.

      - **Lecture et écriture** : Tout le monde peut consulter et éditer l'objet.

      - **Lecture uniquement** : tout le monde peut consulter l'objet.

      - **Aucun** : Le public n'aura pas accès à l'objet. Ce 
        paramètre ne s'applique que pour **l'accès public**.

5.  Cliquez sur **Partager**.

### S'abonner à un favori { #subscribe-to-a-favorite } 

Lorsque vous vous abonnez à un favori, vous recevez des messages internes 
chaque fois qu'un autre utilisateur aime/crée/met à jour une interprétation ou 
crée/met à jour un commentaire d'interprétation de ce favori.

1.  Ouvrez un favori.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur l'icône en cloche en haut à droite pour vous abonner à ce favori.

### Créer un lien vers un favori { #create-a-link-to-a-favorite } 

1.  Cliquez sur **Favoris** \> **Créer un lien**.

2.  Sélectionnez l'une des options suivantes :

      - **Ouvrir dans cette application** : Vous obtenez une URL pour le favori que vous
        pouvez partager avec d'autres utilisateurs par e-mail ou par chat.

      - **Ouvrir dans l'api web** : Vous obtenez l'URL de la ressource API. Par 
        défaut, il s'agit d'une ressource HTML, mais vous pouvez modifier l'extension du fichier
        en ".json" ou ".csv".

### Supprimer un favori { #delete-a-favorite } 

1.  Cliquez sur **Favoris** \> **Supprimer**.

2.  Cliquez sur **OK**.

### Afficher les interprétations basées sur des périodes relatives { #view-interpretations-based-on-relative-periods } 

Pour afficher les interprétations pour des périodes relatives, par exemple des interprétations de l'année dernière :

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur une interprétation. Votre graphique affiche les données et la date
    à laquelle l'interprétation a été produite. Pour afficher d'autres
    interprétations, cliquez dessus.

## Télécharger des données à partir d'un tableau croisé dynamique { #pivot_download_data } 

### Télécharger le format de données du tableau de présentation { #download-table-layout-data-format } 

Pour télécharger les données depuis le tableau croisé dynamique actuel :

1.  Cliquez sur **Télécharger**.

2.  Under **Table layout**, click the format you want to download:
    Microsoft Excel, CSV or HTML.

    The data table will have one column per dimension and contain names
    of the dimension items.

    > **Tip**
    >
    > When you download a pivot table with organisation units as rows
    > and you've selected **Show hierarchy** in **Table options**, each
    > organisation unit level is rendered as a separate column. This is
    > useful for example when you create Excel pivot tables on a local
    > computer.

> **Tip**
>
> You can create a pivot table in Microsoft Excel from the downloaded
> Excel file.

### Télécharger les formats standards de source de données { #download-plain-data-source-format } 

You can download data in the current pivot table in JSON, XML, Excel,
and CSV as plain data formats with different identification schemes (ID,
Code, and Name). The data document uses identifiers of the dimension
items and opens in a new browser window to display the URL of the
request to the Web API in the address bar. This is useful for developers
of apps and other client modules based on the DHIS2 Web API or for those
who require a plan data source, for instance for import into statistical
packages.

Pour télécharger les formats standards de source de données :

1.  Cliquez sur **Télécharger**.

2.  Sous **Source de données standards**, cliquez sur le format que vous souhaitez télécharger.



    Table: Available formats

    | Format | Action | Description |
    |---|---|---|
    | JSON | Click **JSON** | Downloads JSON format based on ID property.<br>     <br>You can also download JSON format based on **Code** or **Name** property. |
    | XML | Click **XML** | Downloads XML format based on ID property.<br>     <br>You can also download XML format based on **Code** or **Name** property. |
    | Microsoft Excel | Click **Microsoft Excel** | Downloads XML format based on ID property.<br>     <br>You can also download Microsoft Excel format based on **Code** or **Name** property. |
    | CSV | Click **CSV** | Downloads CSV format based on ID property.<br>     <br>You can also download CSV format based on **Code** or **Name** property. |
    | JRXML | Put the cursor on **Advanced** and click **JRXML** | Produces a template of a Jasper Report which can be further customized based on your exact needs and used as the basis for a standard report in DHIS2. |
    | Raw data SQL | Put the cursor on **Advanced** and click **Raw data SQL** | Provides the actual SQL statement used to generate the pivot table. You can use it as a data source in a Jasper report, or as the basis for an SQL view. |

### Télécharger un format CSV sans passer par le navigateur Web { #download-a-csv-format-without-rendering-data-in-the-web-browser } 

You can download data in CSV format directly without rendering the data
in the web browser. This helps to reduce any constraints in the system
settings that has been set with regards to the maximum number of
analytic records. This lets you download much larger batches of data
that you can use for later offline analysis.

To download data in CSV format without first rendering data in the web
browser:

1.  Cliquez sur la flèche à côté de **Mettre à jour**.

    ![](resources/images/pivot_table/data_dump.png)

2.  Cliquez sur **CSV** pour télécharger le format basé sur la propriété ID.

    Le fichier est téléchargé sur votre ordinateur.

    > **Tip**
    >
    > You can also download CSV format based on **Code** or **Name**
    > property.

## Intégrer un tableau croisé dynamique dans une page Web externe { #pivot_embed } 

Certain analysis-related resources in DHIS2, like pivot tables, charts
and maps, can be embedded in any web page by using a plug-in. You will
find more information about the plug-ins in the Web API chapter in the
*DHIS2 Developer Manual*.

To generate a HTML fragment that you can use to display the pivot table
in an external web page:

1.  Cliquez sur **Intégrer**.

2.  Cliquez sur **Sélectionner** pour mettre en évidence le fragment HTML.

## Visualiser les données d'un tableau croisé dynamique sous forme de graphique ou de carte { #pivot_integration } 

When you have made a pivot table you can switch between pivot table,
chart and map visualization of your data.

### Ouvrir un tableau croisé dynamique sous forme de graphique { #open-a-pivot-table-as-a-chart } 

1.  Cliquez sur **Graphique** \> **Ouvrir ce tableau sous forme de graphique**.

    Votre tableau croisé dynamique actuel s'ouvre sous forme de graphique.


![](resources/images/pivot_table/pivot_integration.png)

### Ouvrir une sélection de tableau croisé dynamique sous forme de graphique { #open-a-pivot-table-selection-as-a-chart } 

If you want to visualize a small part of your pivot table as a chart you
can click directly on a value in the table instead opening the whole
table.

1.  Dans le tableau croisé dynamique, cliquez sur une valeur.


    ![](resources/images/pivot_table/pivot_integration_table.png)

2.  To verify the selection, hold the cursor over **Open selection as
    chart**. The highlighted dimension headers in the table indicate
    what data will be visualized as a chart.

3.  Cliquez sur **Ouvrir la sélection sous forme de graphique**.

### Ouvrir un tableau croisé dynamique sous forme de carte { #open-a-pivot-table-as-a-map } 

1.  Cliquez sur **Graphique** \> **Ouvrir ce tableau sous forme de carte**.

    Votre tableau croisé dynamique actuel s'ouvre sous forme de carte.

### Ouvrir une sélection de tableau croisé dynamique sous forme de carte { #open-a-pivot-table-selection-as-a-map } 

1.  Dans le tableau croisé dynamique, cliquez sur une valeur.

    Un menu s'affiche.

2.  Cliquez sur **Ouvrir la sélection sous forme de carte**.

    Votre sélection s'ouvre sous forme de carte.



# Utilisation de l'application Rapports d'événements { #event_reports_app } 

## À propos de l'application Rapports d'événements { #event_reports_about } 


![](resources/images/event_report/event_report.png)

Avec l'application **Rapport d'événements**, vous pouvez analyser les événements dans 
deux types de rapports :

  - Rapports d'événements agrégés : Analyse de type tableau croisé dynamique avec nombre 
    agrégé d'événements

    En sélectionnant **Valeurs agrégées** dans le menu en haut à gauche, vous pouvez
    utiliser l'application **Rapports d'événements** pour créer des tableaux croisés dynamiques avec des nombres agrégés 
    d'événements. Un rapport d'événement est toujours basé sur un programme. Vous
    pouvez effectuer des analyses basées sur une série de dimensions. Chaque dimension peut
    avoir un filtre correspondant. Les dimensions peuvent être sélectionnées dans le 
    menu à gauche. Comme dans le cas des tableaux croisés dynamiques, les rapports d'événements agrégés
    peuvent être limités par la quantité de mémoire RAM accessible par le
    navigateur. Si le tableau demandé dépasse une certaine taille, vous recevrez 
    un avertissement vous demandant si vous voulez continuer ou non.

  - Rapports d'événements individuels : Listes d'événements

    En sélectionnant **Événements** dans le menu supérieur gauche, vous pouvez utiliser
    l'application **Rapports d'événements** pour effectuer des recherches ou des requêtes sur les événements
    en fonction d'un ensemble de critères flexibles. Le rapport s'affiche sous la
    forme d'un tableau avec une ligne par événement. Chaque dimension peut être utilisée comme colonne 
    dans le tableau ou comme filtre. Chaque dimension peut avoir un critère
    (filtre). Les éléments de données de type ensemble d'options permettent de définir des critères
    "dans", où plusieurs options peuvent être sélectionnées. Les valeurs numériques peuvent être
    comparées aux valeurs du filtre à l'aide des opérateurs "supérieur à", "égal à" ou
    "inférieur à".

## Créer un rapport d'événements { #event_reports_create } 

1.  Ouvrez l'application **Rapports d'événements**.

2.  Sélectionnez **Valeurs agrégées** ou **Événements**.

3.  Dans le menu de gauche, sélectionnez les méta-données que vous souhaitez analyser.

4.  Cliquez sur **Mise en page** et organisez les dimensions.

    Vous pouvez conserver la sélection par défaut si vous le souhaitez.

5.  Cliquez sur **Mettre à jour**.

## Sélectionner les éléments de dimension { #event_reports_select_dimensions } 

Un rapport d'événement est toujours basé sur un programme et vous pouvez faire une 
analyse basée sur une série de dimensions. Pour les programmes avec des combinaisons 
de catégories, vous pouvez utiliser les catégories de programmes et les groupes d'options 
de catégories comme dimensions pour les tableaux et les graphiques. Chaque dimension 
peut avoir un filtre correspondant.

1.  Sélectionner des éléments de données :

    1.  Cliquez sur **Données**.

    2.  Sélectionnez un programme et une étape du programme.

        Les éléments de données associés au programme sélectionné sont
        répertoriés sous **Disponible**. Chaque élément de données joue le rôle d'une 
        dimension.

    3.  Sélectionnez les éléments de données dont vous avez besoin en double-cliquant sur leurs 
        noms.

        Les éléments de données peuvent être filtrés par type (éléments de données, attributs de 
        programme, indicateurs de programme) et sont préfixés afin d'être
        facilement reconnaissables.

        Après avoir sélectionné un élément de données, il devient alors visible sous **Eléments de 
        données sélectionnés**.

    4.  (Facultatif) Pour chaque élément de données, spécifiez un filtre à l'aide
        d'opérateurs tels que "supérieur à", "dans" ou "égal", ainsi qu'une
        valeur de filtre.

2.  Sélectionner les périodes.

    1.  Cliquez sur **Périodes**.

    2.  Sélectionnez une ou plusieurs périodes.

        Vous disposez de trois options de périodes : les périodes relatives, les périodes fixes
        et les dates de début et de fin. Vous pouvez combiner les périodes fixes et les périodes 
        relatives dans le même graphique. Vous ne pouvez pas combiner les périodes fixes et
        les périodes relatives avec les dates de début/fin dans le même graphique.
        Les périodes qui se chevauchent sont filtrées afin qu'elles n'apparaissent qu'une seule fois.

          - Périodes fixes : Dans la case **Sélectionner le type de période**, sélectionnez un
            type de période. Vous pouvez sélectionner un nombre quelconque de périodes fixes dans
            n'importe quel type de période. Les périodes fixes peuvent par exemple être "janvier 
            2014".

          - Périodes relatives : Dans la partie inférieure de la section **Périodes**,
            sélectionnez autant de périodes relatives que vous le souhaitez. Les 
            noms sont relatifs à la date actuelle. Cela signifie que si 
            le mois en cours est mars et que vous sélectionnez **Mois dernier**,
            le mois de février est inclus dans le graphique. Les périodes relatives 
            ont l'avantage de maintenir les données du
            rapport à jour au fil du temps.

          - Dates de début/fin : Dans la liste sous l'onglet **Périodes**,
            sélectionnez **Dates de début/fin**. Ce type de période vous permet 
            de spécifier des dates flexibles pour la période de temps du rapport.

3.  Sélectionner les unités d'organisation

    1.  Cliquez sur **Unités d'organisation**.

    2.  Cliquez sur l'icône de la boîte de vitesse.

    3.  Sélectionnez un **Mode de sélection** et une unité d'organisation.

        Il existe trois différents modes de sélection :



        Tableau : Modes de sélection

        | Mode de sélection | Description |
        |---|---|
        | **Sélectionner les unités d'organisation** | Vous permet de sélectionner les unités d'organisation que vous souhaitez voir apparaître dans l'organigramme à partir de l'arborescence des organisations.<br>         <br>Sélectionnez **Unité d'organisation de l'utilisateur** pour désactiver l'arborescence des unités d'organisation et ne sélectionner que l'unité d'organisation liée à votre profil.<br>         <br>Sélectionnez **Sous-unités utilisateur** pour désactiver l'arborescence de l'unité d'organisation et ne sélectionner que les sous-unités de l'unité d'organisation liée à votre profil.<br>         <br>Sélectionnez **Utilisateur sous-x2-unités** pour désactiver l'arborescence des unités d'organisation et ne sélectionner que les unités d'organisation situées à deux niveaux en dessous de l'unité d'organisation liée à votre profil.<br>         <br>Cette fonctionnalité est utile aux administrateurs pour créer un "système" de favoris significatif. Si cette option est cochée, tous les utilisateurs trouveront leur unité d'organisation respective lorsqu'ils ouvriront le favori. |
        | **Sélectionner les niveaux** | Permet de sélectionner toutes les unités d'organisation à un ou plusieurs niveaux, par exemple au niveau national ou au niveau du district.<br>         <br>Vous pouvez également sélectionner l'unité organisationnelle parente dans l'arbre, ce qui facilite la sélection, par exemple, de tous les établissements d'un ou de plusieurs districts. |
        | **Sélectionner les groupes** | Permet de sélectionner simultanément toutes les unités d'organisation au sein d'un ou de plusieurs groupes et unités d'organisation parentes, par exemple les hôpitaux ou les chefferies. |

4.  Cliquez sur **Mettre à jour**.

## Sélectionner une série, une catégorie et un filtre { #event_reports_select_series_category_filter } 

Vous pouvez définir la dimension des données que vous souhaitez voir apparaître sous forme de colonnes, de lignes 
et de filtres dans le tableau croisé dynamique. Chaque élément de données apparaît sous forme de dimensions individuelles 
et peut être placé sur n'importe quel axe.

> **N.B.**
>
> Les éléments de données de type valeur constante (nombres réels/nombres décimaux) 
> ne peuvent être utilisés que comme des filtres, et seront automatiquement positionnés 
> comme filtres dans boîte de dialogue de mise en page. La raison en est que les nombres 
> constants ne peuvent pas être regroupés en plages sensibles et utilisés sur des colonnes et 
> des lignes.

1.  Cliquez sur **Mise en page**.

2.  Glissez et déposez les dimensions dans l'espace approprié.

3.  Cliquez sur **Mettre à jour**.

## Modifier l'affichage de votre tableau { #event_reports_change_display } 

Vous pouvez personnaliser l'affichage d'un rapport d'événement.

1.  Cliquez sur **Options**.

2.  Réglez les options nécessaires. Les options disponibles diffèrent en fonction
    des rapports d'événements agrégés et des rapports d'événements individuels.



    Tableau : Options des rapports d'événements

    || Option | Description | Disponible pour chaque type de rapport |
    |---|---|---|---|
    | **Données** | **Afficher les totaux des colonnes** | Affiche les totaux à la fin de chaque colonne du tableau croisé dynamique. | Rapport d'événement agrégé |
    || **Afficher les sous-totaux des colonnes** | Affiche les sous-totaux pour chaque colonne du tableau croisé dynamique. | Rapport d'événement agrégé |
    || **Afficher les totaux des lignes** | Affiche les totaux à la fin de chaque ligne du tableau croisé dynamique. | Rapport d'événement agrégé |
    || **Afficher les sous-totaux des lignes** | Affiche les sous-totaux pour chaque ligne du tableau croisé dynamique.| Rapport d'événement agrégé |
    || **Afficher les étiquettes des dimensions** | Affiche les étiquettes des dimensions. | Rapport d'événement agrégé|
    || **Masquer les lignes vides** | Masque les lignes vides dans le tableau croisé dynamique. | Rapport d'événement agrégé |
    || **Cacher les données n/a** | Masque les données marquées comme N/A dans le graphique. | Rapport d'événement agrégé |
    || **Ne prendre en compte que les événements terminés** | Inclut exclusivement les événements finalisés dans le processus d'agrégation. Ceci est utile lorsque vous souhaitez, par exemple, exclure les événements partiels dans les calculs d'indicateurs. | Rapport d'événement agrégé<br>     <br>Rapport d'événement individuel |
    || **Limite** | Fixe une limite au nombre maximal de lignes que vous pouvez afficher dans le tableau, en combinaison avec un paramètre permettant d'afficher les valeurs supérieures ou inférieures. | Rapport d'événement agrégé |
    || **Type de résultat** | Définit le type de résultat. Les types de résultats sont les suivants : **Événement**, **Inscription** et **Instance d'entité suivie**. | Rapport d'événement agrégé |
    || **Statut du programme** | Filtre les données en fonction de l'état du programme : **Tous**, **Actif**, **Terminé** ou **Annulé**. | Rapport d'événement agrégé |
    || **Statut de l'événement** | Filtre les données en fonction de leur état : **Tous**, **Actif**, **Terminé**, **Planifié**, **En retard** ou **Supprimé**. | Aggregated event report |
    | **Unités d'organisation** | **Afficher la hiérarchie** | Il comporte les noms de tous les parents de chaque unité d'organisation sous forme d'étiquettes. | Rapport d'événement agrégé |
    | **Style** | **Densité d'affichage** | Contrôle la taille des cellules du tableau. Vous pouvez la définir sur **Confortable**, **Normale** ou **Compacte**.<br>     <br>**Compacte** est utile lorsque vous souhaitez afficher de grands tableaux sur l'écran du navigateur. | Rapport d'événement agrégé<br>     <br>Rapport d'événement individuel |
    || **Taille de la police** | Contrôle la taille de la police du texte dans le tableau. Vous pouvez la définir sur **Grande**, **Normale** ou **Petite**.| Rapport d'événement agrégé<br>     <br>Rapport d'événement individuel |
    || **Séparateur de groupes de chiffres** | Contrôle le caractère à utiliser pour séparer les groupes de chiffres ou "milliers". Vous pouvez la définir sur **Virgule **, **Espace** ou **Aucun**. | Rapport d'événement agrégé<br>     <br>Rapport d'événement individuel |

3.  Cliquez sur **Mettre à jour**.

## Télécharger les sources de données du graphique { #event_reports_download_report } 

Vous pouvez télécharger la source des données d'un rapport d'événement aux formats 
HTML, JSON, XML, Microsoft Excel ou CSV.

1.  Cliquez sur **Télécharger**.

2.  Sous **Source de données standards**, cliquez sur le format que vous souhaitez télécharger.



    Tableau : Formats disponibles

    | Format | Description |
    |---|---|
    | HTML |Permet de créer un tableau HTML à partir des métadonnées sélectionnées |
    | JSON | Permet de télécharger des valeurs de données au format JSON à partir des métadonnées sélectionnées |
    | XML |Permet de télécharger des valeurs de données au format XML à partir des métadonnées sélectionnées |
    | Microsoft Excel | Permet de télécharger des valeurs de données au format Microsoft Excel à partir des métadonnées sélectionnées |
    | CSV | Permet de télécharger des valeurs de données au format CSV à partir des métadonnées sélectionnées |

## Gérer les favoris { #manage-favorites } 

La sauvegarde de vos graphiques ou tableaux croisés dynamiques dans les favoris facilite 
leur recherche plus tard. Vous pouvez également choisir de les partager avec d'autres utilisateurs 
comme interprétation ou les afficher sur le tableau de bord.

Vous pouvez visualiser les détails et interprétations de vos favoris dans les applications 
**Tableau croisé dynamique**, **Visualiseur de données**, **Visualiseur d'évènements**, 
**Rapports d'évènements**. Utilisez le menu **Favoris** pour gérer vos favoris.

### Ouvrir un favori { #open-a-favorite } 

1.  Cliquez sur **Favoris** \> **Ouvrir**.

2.  Entrez le nom d'un favori dans le champ de recherche ou cliquez sur **Précédent** 
    et **Suivant** pour afficher les favoris.

3.  Cliquez sur le nom du favori que vous souhaitez ouvrir.

### Sauvegarder un favori { #save-a-favorite } 

1.  Cliquez sur **Favoris** \> **Sauvegarder**.

2.  Entrez un **Nom** et une **Description** pour votre favori. Le champ de description supporte un format RTF, voir la section interprétations pour plus de détails.

3.  Cliquez sur **Sauvegarder**.

### Renommer un favori { #rename-a-favorite } 

1.  Cliquez sur **Favoris** \> **Renommer**.

2.  Entrez le nouveau nom que vous souhaitez donner à votre favori.

3.  Cliquez sur **Mettre à jour**.

### Écrire une interprétation d'un favori { #write-an-interpretation-for-a-favorite } 

Une interprétation est un lien vers une ressource contenant une description des données 
à une période donnée. Cette information est visible dans l'application **Tableau de bord**. 
Pour créer une interprétation, vous devez d'abord créer un favori. Si 
vous avez partagé votre favori avec d'autres personnes, votre interprétation 
sera visible pour ces personnes.

1.  Cliquez sur **Favoris** \> **Écrire une interprétation**.

2.  Dans le champ de texte, saisissez un commentaire, une question ou une interprétation. Vous 
    pouvez également mentionner d'autres utilisateurs avec "@nomd'utilisateur". Commencez par saisir '@'
     plus les premières lettres du nom d'utilisateur ou du nom réel et une barre de mention
    affichera les utilisateurs disponibles. Les utilisateurs mentionnés recevront
    un message interne DHIS2 avec l'interprétation ou le commentaire. Vous
    pouvez voir l'interprétation dans l'application **Tableau de bord**.

    Il est possible de formater le texte avec le **gras**, l'*italique* en utilisant les
    marqueurs de style Markdown \* et \_ pour respectivement le **gras** et l'*italique*.
    Des raccourcis clavier sont également disponibles : Ctrl/Cmd + B et Ctrl/Cmd + I. Un
    ensemble limité de smileys est pris en charge et peut être utilisé en saisissant l'une des 
    combinaisons de caractères suivantes : :) :-) :( :-( :+1 :-1 Les URL sont 
    automatiquement détectées et converties en liens cliquables.

3.  Recherchez un groupe d'utilisateurs avec lequel vous souhaitez partager votre favori,
    puis cliquez sur l'icône **+**.

4.  Modifiez les paramètres de partage pour les groupes d'utilisateurs que vous souhaitez modifier.

      - **Lecture et écriture** : Tout le monde peut consulter et éditer l'objet.

      - **Lecture uniquement** : tout le monde peut consulter l'objet.

      - **Aucun** : Le public n'aura pas accès à l'objet. Ce 
        paramètre ne s'applique que pour **l'accès public**.

5.  Cliquez sur **Partager**.

### S'abonner à un favori { #subscribe-to-a-favorite } 

Lorsque vous vous abonnez à un favori, vous recevez des messages internes 
chaque fois qu'un autre utilisateur aime/crée/met à jour une interprétation ou 
crée/met à jour un commentaire d'interprétation de ce favori.

1.  Ouvrez un favori.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur l'icône en cloche en haut à droite pour vous abonner à ce favori.

### Créer un lien vers un favori { #create-a-link-to-a-favorite } 

1.  Cliquez sur **Favoris** \> **Créer un lien**.

2.  Sélectionnez l'une des options suivantes :

      - **Ouvrir dans cette application** : Vous obtenez une URL pour le favori que vous
        pouvez partager avec d'autres utilisateurs par e-mail ou par chat.

      - **Ouvrir dans l'api web** : Vous obtenez l'URL de la ressource API. Par 
        défaut, il s'agit d'une ressource HTML, mais vous pouvez modifier l'extension du fichier
        en ".json" ou ".csv".

### Supprimer un favori { #delete-a-favorite } 

1.  Cliquez sur **Favoris** \> **Supprimer**.

2.  Cliquez sur **OK**.

### Afficher les interprétations basées sur des périodes relatives { #view-interpretations-based-on-relative-periods } 

Pour afficher les interprétations pour des périodes relatives, par exemple des interprétations de l'année dernière :

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur une interprétation. Votre graphique affiche les données et la date
    à laquelle l'interprétation a été produite. Pour afficher d'autres
    interprétations, cliquez dessus.

## Visualiser un rapport d'événement sous forme de graphique { #event_reports_open_as_chart } 

Après avoir produit un rapport d'événement, vous pouvez l'ouvrir sous forme de tableau :

Cliquez sur **Graphique** \> **Ouvrir cette graphique sous forme de tableau**.



# Utilisation de l'application Event Visualizer { #event_visualizer_app } 

## À propos de l'application "Visualiseur d'événement" { #about-the-event-visualizer-app } 


![](resources/images/event_visualizer/event_visualizer.png)

Avec l'application **Visualiseur d'événement**, vous pouvez créer des graphiques basés sur des données 
d'événements.

## Créer un graphique { #create-a-chart } 

1.  Ouvrez l'application **Visualiseur d'événement** et sélectionnez un type de graphique.

2.  Dans le menu de gauche, sélectionnez les méta-données que vous souhaitez analyser.

3.  Cliquez sur **Mise en page** et organisez les dimensions.

    Vous pouvez conserver la sélection par défaut si vous le souhaitez.

4.  Cliquez sur **Mettre à jour**.

## Sélectionnez un type de graphique { #select-a-chart-type } 

L'application **Visualiseur d'événement** comporte huit types de graphiques différents, chacun ayant 
des caractéristiques différentes. Pour sélectionner un type de graphique :

1.  Dans **Type de graphique**, cliquez sur le type de graphique dont vous avez besoin.



    Graphique : Types de graphiques

    | Type de graphique | Description |
    |---|---|
    | Graphique en colonnes | Affiche les informations sous forme de colonnes rectangulaires verticales dont la longueur est proportionnelle aux valeurs qu'elles représentent.<br>     <br>Utile lorsque vous souhaitez, par exemple, comparer les performances de plusieurs districts. |
    | Graphique en colonnes empilées | Affiche les informations sous forme de colonnes rectangulaires verticales, où les barres représentant plusieurs catégories sont empilées les unes sur les autres.<br>     <br>Utile lorsque vous souhaitez, par exemple, afficher des tendances ou des totaux d'éléments de données connexes. |
    | Graphique en barres | Identique au graphique en colonnes, mais avec des barres horizontales.|
    | Graphique à barres empilées | Identique au graphique à colonnes empilées, mais avec des barres horizontales.|
    | Graphique linéaire | Affiche les informations sous la forme d'une série de points reliés par des lignes droites. Également appelé série chronologique.<br>     <br>Utile lorsque vous souhaitez, par exemple, visualiser les tendances des données d'un indicateur sur plusieurs périodes. |
    | Graphique de surface | Basé sur le graphique linéaire, l'espace entre l'axe et la ligne est rempli de couleurs et les lignes sont empilées les unes sur les autres.<br>     <br>Utile lorsque vous souhaitez comparer les tendances d'indicateurs connexes. |
    | Graphique circulaire| Graphique circulaire divisé en secteurs (ou tranches).<br>     <br>Utile lorsque vous souhaitez, par exemple, visualiser la proportion de données pour des éléments de données individuels par rapport à la somme totale de tous les éléments de données dans le graphique. |
    | Graphique radar | Affiche des données sur des axes partant du même point. Également connu sous le nom de graphique en araignée.|

2.  Cliquez sur **Mettre à jour**.

## Sélectionner les éléments de dimension { #event_visualizer_select_dimensions } 

Un rapport d'événement est toujours basé sur un programme et vous pouvez faire une analyse 
basée sur une série de dimensions. Pour les programmes avec des combinaisons de catégories, 
vous pouvez utiliser les catégories de programmes et les groupes d'options de catégories 
comme dimensions pour les tableaux et les graphiques. Chaque dimension peut avoir un 
filtre correspondant. Vous pouvez sélectionner les éléments de dimension dans le menu de 
gauche.

1.  Sélectionner des éléments de données :

    1.  Cliquez sur **Données**.

    2.  Sélectionnez un programme et une étape du programme.

        Les éléments de données associés au programme sélectionné sont
        répertoriés sous **Disponible**. Chaque élément de données joue le rôle d'une 
        dimension.

    3.  Sélectionnez les éléments de données dont vous avez besoin en double-cliquant sur leurs 
        noms.

        Les éléments de données peuvent être filtrés par type (éléments de données, attributs de 
        programme, indicateurs de programme) et sont préfixés afin d'être
        facilement reconnaissables.

        Après avoir sélectionné un élément de données, il devient alors visible sous **Eléments de 
        données sélectionnés**.

    4.  (Facultatif) Pour chaque élément de données, spécifiez un filtre à l'aide
        d'opérateurs tels que "supérieur à", "dans" ou "égal", ainsi qu'une
        valeur de filtre.

2.  Sélectionner les périodes.

    1.  Cliquez sur **Périodes**.

    2.  Sélectionnez une ou plusieurs périodes.

        Vous disposez de trois options de périodes : les périodes relatives, les périodes fixes
        et les dates de début et de fin. Vous pouvez combiner les périodes fixes et les périodes 
        relatives dans le même graphique. Vous ne pouvez pas combiner les périodes fixes et
        les périodes relatives avec les dates de début/fin dans le même graphique.
        Les périodes qui se chevauchent sont filtrées afin qu'elles n'apparaissent qu'une seule fois.

          - Périodes fixes : Dans la case **Sélectionner le type de période**, sélectionnez un
            type de période. Vous pouvez sélectionner un nombre quelconque de périodes fixes dans
            n'importe quel type de période. Les périodes fixes peuvent par exemple être "janvier 
            2014".

          - Périodes relatives : Dans la partie inférieure de la section **Périodes**,
            sélectionnez autant de périodes relatives que vous le souhaitez. Les 
            noms sont relatifs à la date actuelle. Cela signifie que si 
            le mois en cours est mars et que vous sélectionnez **Mois dernier**,
            le mois de février est inclus dans le graphique. Les périodes relatives 
            ont l'avantage de maintenir les données du
            rapport à jour au fil du temps.

          - Dates de début/fin : Dans la liste sous l'onglet **Périodes**,
            sélectionnez **Dates de début/fin**. Ce type de période vous permet 
            de spécifier des dates flexibles pour la période de temps du rapport.

3.  Sélectionner les unités d'organisation

    1.  Cliquez sur **Unités d'organisation**.

    2.  Cliquez sur l'icône de la boîte de vitesse.

    3.  Sélectionnez un **Mode de sélection** et une unité d'organisation.

        Il existe trois différents modes de sélection :



        Tableau : Modes de sélection

        | Mode de sélection | Description |
        |---|---|
        | **Sélectionner les unités d'organisation** | Vous permet de sélectionner les unités d'organisation que vous souhaitez voir apparaître dans l'organigramme à partir de l'arborescence des organisations.<br>         <br>Sélectionnez **Unité d'organisation de l'utilisateur** pour désactiver l'arborescence des unités d'organisation et ne sélectionner que l'unité d'organisation liée à votre profil.<br>         <br>Sélectionnez **Sous-unités utilisateur** pour désactiver l'arborescence de l'unité d'organisation et ne sélectionner que les sous-unités de l'unité d'organisation liée à votre profil.<br>         <br>Sélectionnez **Utilisateur sous-x2-unités** pour désactiver l'arborescence des unités d'organisation et ne sélectionner que les unités d'organisation situées à deux niveaux en dessous de l'unité d'organisation liée à votre profil.<br>         <br>Cette fonctionnalité est utile aux administrateurs pour créer un "système" de favoris significatif. Si cette option est cochée, tous les utilisateurs trouveront leur unité d'organisation respective lorsqu'ils ouvriront le favori. |
        | **Sélectionner les niveaux** | Permet de sélectionner toutes les unités d'organisation à un ou plusieurs niveaux, par exemple au niveau national ou au niveau du district.<br>         <br>Vous pouvez également sélectionner l'unité organisationnelle parente dans l'arbre, ce qui facilite la sélection, par exemple, de tous les établissements d'un ou de plusieurs districts. |
        | **Sélectionner les groupes** | Permet de sélectionner simultanément toutes les unités d'organisation au sein d'un ou de plusieurs groupes et unités d'organisation parentes, par exemple les hôpitaux ou les chefferies. |

4.  Cliquez sur **Mettre à jour**.

## Sélectionner une série, une catégorie et un filtre { #select-series-category-and-filter } 

Vous pouvez définir la dimension des données que vous souhaitez voir apparaître en tant que série, 
catégorie et filtre. Chaque élément de données apparaît comme une dimension individuelle 
et peut être placé sur n'importe quel axe. Les panneaux de séries et de catégories ne 
peuvent avoir qu'une seule dimension à la fois.

> **N.B.**
>
> Les éléments de données de type valeur constante (nombres réels/nombres décimaux) 
> ne peuvent être utilisés que comme des filtres, et seront automatiquement positionnés 
> comme filtres dans boîte de dialogue de mise en page. La raison en est que les nombres 
> constants ne peuvent pas être regroupés en plages sensibles et utilisés sur des colonnes et 
> des lignes.

1.  Cliquez sur **Mise en page**.

2.  Faites glisser les dimensions et déposez-les dans l'espace approprié. Une seule 
    dimension peut être glissée dans chaque section.

3.  Cliquez sur **Mettre à jour**.

## Modifier l'affichage de votre graphique { #event_visualizer_change_display } 

Vous pouvez personnaliser l'affichage d'un rapport d'événement.

1.  Cliquez sur **Options**.

2.  Définissez les options selon les besoins.



    Tableau : Options de graphique
    
    | Option | Description ||
    |---|---|---|
    | **Données** | **Afficher les valeurs** | Affiche les valeurs sous forme de nombres en haut de chaque série.|
    || **Utiliser des valeurs empilées à 100 %.** | Affiche les valeurs empilées à 100 % dans les graphiques à colonnes. |
    || **Utiliser des valeurs cumulées** | Affiche les valeurs cumulées dans des graphiques linéaires. |
    || **Masquer les données n/a** | Masque les données marquées comme N/A dans le graphique. |
    || **Inclure uniquement les événements terminés** | Inclut uniquement les événements terminés dans le processus d'agrégation. Ceci est utile lorsque vous souhaitez, par exemple, exclure les événements partiels dans les calculs d'indicateurs. |
    || **Masquer les catégories vides** | Masque les catégories sans données dans le graphique.<br>     <br>**Aucun** : ne cache aucune des catégories vides<br>     <br>**Avant la première** : masque les valeurs manquantes uniquement avant la première valeur<br>     <br>**Après la dernière** : masque les valeurs manquantes uniquement après la dernière valeur.<br>     <br>**Avant la première et après la dernière** : masque les valeurs manquantes uniquement avant la première valeur et après la dernière valeur.<br>     <br>**Toutes** : masque toutes les valeurs manquantes<br>     <br>Cette fonction est utile, par exemple, lorsque vous créez des graphiques à colonnes et à barres. |
    || **Ligne de tendance** | Affiche la ligne de tendance qui permet de visualiser l'évolution de vos données dans le temps. Par exemple, si les performances s'améliorent ou se dégradent. Utile lorsque des périodes sont sélectionnées comme catégorie. |
    || **Valeur de la ligne cible/titre** | Affiche une ligne horizontale et un titre (facultatif) à la valeur de domaine donnée. Utile, par exemple, lorsque vous souhaitez comparer votre performance à l'objectif actuel. |
    || **Valeur de la ligne de base/titre** | Affiche une ligne horizontale et un titre (facultatif) à la valeur de domaine donnée. Utile par exemple lorsque vous souhaitez visualiser l'évolution de vos performances depuis le début d'un processus. |
    ||**Ordre de tri** | Vous permet de trier les valeurs de votre graphique du plus faible au plus élevé ou du plus élevé au plus faible. |
    || **Type de résultat** | Définit le type de résultat. Les types de résultats sont **Événement**, **Inscription** et **Instance d'entité suivie**. |
    || **Statut du programme** | Filtre les données en fonction du statut du programme : **Tous**, **Actif**, **Terminé** ou **Annulé**.|
    || **État de l'événement** | Filtre les données en fonction de l'état de l'événement : **Tous**, **Actif**, **Terminé**, **Planifié**, **En retard** ou **Supprimé**.|
    | **Axes** | **Axe de plage min/max** | Définit les valeurs maximum et minimum qui seront visibles sur l'axe de plage.|
    || **Etapes de cochage de l'axe de la plage** | Définit le nombre de coches qui seront visibles sur l'axe de la plage. |
    || ** Décimales de l'axe de plage** | Définit le nombre de décimales qui seront utilisées pour les valeurs de l'axe de plage. |
    || **Titre de l'axe de plage** | Saisissez un titre ici pour afficher une étiquette à côté de l'axe de plage (également appelé axe des Y). Utile lorsque vous souhaitez donner des informations contextuelles au graphique, par exemple sur l'unité de mesure. |
    ||**Titre de l'axe de domaine** | Tapez un titre ici pour afficher une étiquette sous l'axe de domaine (également appelé axe des X). Utile lorsque vous souhaitez donner des informations contextuelles au graphique, par exemple sur le type de période. |
    | **Général** | **Masquer la légende du graphique** | Masque la légende et laisse plus de place au graphique lui-même. |
    || **Masquer le titre du graphique** | Masque le titre (par défaut ou personnalisé) de votre graphique. |
    || **Titre du graphique** | Tapez un titre ici pour afficher un titre personnalisé au-dessus du graphique. Si vous ne saisissez pas de titre, le titre par défaut va s'afficher. |
    || **Masquer le sous-titre du graphique** | Masque le sous-titre de votre graphique. |
    || **Sous-titre du graphique** | Saisissez un sous-titre ici pour afficher un sous-titre personnalisé au-dessus du graphique, mais en dessous du titre. Si vous ne saisissez pas de sous-titre, aucun sous-titre ne sera affiché dans le graphique.|

3.  Cliquez sur **Mettre à jour**.

## Télécharger un graphique au format image ou PDF { #download-a-chart-as-an-image-or-a-pdf } 

Après avoir créé un graphique, vous pouvez le télécharger localement sur votre 
ordinateur au format image ou PDF.

1.  Cliquez sur **Télécharger**.

2.  Sous **Graphiques**, cliquez sur **Image (.png)** ou **PDF (.pdf)**.

    Le fichier est automatiquement téléchargé sur votre ordinateur. Vous pouvez maintenant,
    par exemple, intégrer le fichier image dans un document texte comme élément d'un
    rapport.

## Télécharger les sources de données du graphique { #download-chart-data-source } 

Vous pouvez télécharger la source de données d'un graphique aux formats HTML, JSON, 
XML, Microsoft Excel ou CSV. Le document de données utilise les identifiants des éléments 
de dimension et s'ouvre dans une nouvelle fenêtre de navigateur pour afficher l'URL 
de la requête à l'API Web dans la barre d'adresse. Ceci est utile pour les 
développeurs d'applications et d'autres modules clients basés sur l'interface de programmation Web de DHIS2 
ou pour ceux qui ont besoin d'une source de données simples, par exemple pour 
l'importation à des fins statistiques.

Pour télécharger les formats standards de source de données :

1.  Cliquez sur **Télécharger**.

2.  Sous **Source de données standards**, cliquez sur le format que vous souhaitez télécharger.



    Tableau : Formats disponibles

    | Format | Description |
    |---|---|
    | HTML |Permet de créer un tableau HTML à partir des métadonnées sélectionnées |
    | JSON | Permet de télécharger des valeurs de données au format JSON à partir des métadonnées sélectionnées |
    | XML |Permet de télécharger des valeurs de données au format XML à partir des métadonnées sélectionnées |
    | Microsoft Excel | Permet de télécharger des valeurs de données au format Microsoft Excel à partir des métadonnées sélectionnées |
    | CSV | Permet de télécharger des valeurs de données au format CSV à partir des métadonnées sélectionnées |

## Gérer les favoris { #manage-favorites } 

La sauvegarde de vos graphiques ou tableaux croisés dynamiques dans les favoris facilite 
leur recherche plus tard. Vous pouvez également choisir de les partager avec d'autres utilisateurs 
comme interprétation ou les afficher sur le tableau de bord.

Vous pouvez visualiser les détails et interprétations de vos favoris dans les applications 
**Tableau croisé dynamique**, **Visualiseur de données**, **Visualiseur d'évènements**, 
**Rapports d'évènements**. Utilisez le menu **Favoris** pour gérer vos favoris.

### Ouvrir un favori { #open-a-favorite } 

1.  Cliquez sur **Favoris** \> **Ouvrir**.

2.  Entrez le nom d'un favori dans le champ de recherche ou cliquez sur **Précédent** 
    et **Suivant** pour afficher les favoris.

3.  Cliquez sur le nom du favori que vous souhaitez ouvrir.

### Sauvegarder un favori { #save-a-favorite } 

1.  Cliquez sur **Favoris** \> **Sauvegarder**.

2.  Entrez un **Nom** et une **Description** pour votre favori. Le champ de description supporte un format RTF, voir la section interprétations pour plus de détails.

3.  Cliquez sur **Sauvegarder**.

### Renommer un favori { #rename-a-favorite } 

1.  Cliquez sur **Favoris** \> **Renommer**.

2.  Entrez le nouveau nom que vous souhaitez donner à votre favori.

3.  Cliquez sur **Mettre à jour**.

### Écrire une interprétation d'un favori { #write-an-interpretation-for-a-favorite } 

Une interprétation est un lien vers une ressource contenant une description des données 
à une période donnée. Cette information est visible dans l'application **Tableau de bord**. 
Pour créer une interprétation, vous devez d'abord créer un favori. Si 
vous avez partagé votre favori avec d'autres personnes, votre interprétation 
sera visible pour ces personnes.

1.  Cliquez sur **Favoris** \> **Écrire une interprétation**.

2.  Dans le champ de texte, saisissez un commentaire, une question ou une interprétation. Vous 
    pouvez également mentionner d'autres utilisateurs avec "@nomd'utilisateur". Commencez par saisir '@'
     plus les premières lettres du nom d'utilisateur ou du nom réel et une barre de mention
    affichera les utilisateurs disponibles. Les utilisateurs mentionnés recevront
    un message interne DHIS2 avec l'interprétation ou le commentaire. Vous
    pouvez voir l'interprétation dans l'application **Tableau de bord**.

    Il est possible de formater le texte avec le **gras**, l'*italique* en utilisant les
    marqueurs de style Markdown \* et \_ pour respectivement le **gras** et l'*italique*.
    Des raccourcis clavier sont également disponibles : Ctrl/Cmd + B et Ctrl/Cmd + I. Un
    ensemble limité de smileys est pris en charge et peut être utilisé en saisissant l'une des 
    combinaisons de caractères suivantes : :) :-) :( :-( :+1 :-1 Les URL sont 
    automatiquement détectées et converties en liens cliquables.

3.  Recherchez un groupe d'utilisateurs avec lequel vous souhaitez partager votre favori,
    puis cliquez sur l'icône **+**.

4.  Modifiez les paramètres de partage pour les groupes d'utilisateurs que vous souhaitez modifier.

      - **Lecture et écriture** : Tout le monde peut consulter et éditer l'objet.

      - **Lecture uniquement** : tout le monde peut consulter l'objet.

      - **Aucun** : Le public n'aura pas accès à l'objet. Ce 
        paramètre ne s'applique que pour **l'accès public**.

5.  Cliquez sur **Partager**.

### S'abonner à un favori { #subscribe-to-a-favorite } 

Lorsque vous vous abonnez à un favori, vous recevez des messages internes 
chaque fois qu'un autre utilisateur aime/crée/met à jour une interprétation ou 
crée/met à jour un commentaire d'interprétation de ce favori.

1.  Ouvrez un favori.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur l'icône en cloche en haut à droite pour vous abonner à ce favori.

### Créer un lien vers un favori { #create-a-link-to-a-favorite } 

1.  Cliquez sur **Favoris** \> **Créer un lien**.

2.  Sélectionnez l'une des options suivantes :

      - **Ouvrir dans cette application** : Vous obtenez une URL pour le favori que vous
        pouvez partager avec d'autres utilisateurs par e-mail ou par chat.

      - **Ouvrir dans l'api web** : Vous obtenez l'URL de la ressource API. Par 
        défaut, il s'agit d'une ressource HTML, mais vous pouvez modifier l'extension du fichier
        en ".json" ou ".csv".

### Supprimer un favori { #delete-a-favorite } 

1.  Cliquez sur **Favoris** \> **Supprimer**.

2.  Cliquez sur **OK**.

### Afficher les interprétations basées sur des périodes relatives { #view-interpretations-based-on-relative-periods } 

Pour afficher les interprétations pour des périodes relatives, par exemple des interprétations de l'année dernière :

1.  Ouvrez un favori avec des interprétations.

2.  Cliquez **\>\>\>** en haut à droite de l'espace de travail.

3.  Cliquez sur une interprétation. Votre graphique affiche les données et la date
    à laquelle l'interprétation a été produite. Pour afficher d'autres
    interprétations, cliquez dessus.

## Visualiser un graphique comme un tableau croisé dynamique { #visualize-a-chart-as-a-pivot-table } 

Après création d'un graphique, vous pouvez l'ouvrir comme un tableau croisé dynamique :

Cliquez sur **Graphique** \> **Ouvrir cette graphique sous forme de tableau**.




# Fonctionnalité de Reporting dans l'application Rapports { #using_the_reports_app } 

L'application Rapports permet de produire des rapports standard, des rapports sur les ensembles de données, des rapports sur les ressources et des rapports sur la répartition des unités d'organisation.

## Utiliser des rapports standards { #standard_reports_in_the_beta_reports_app } 

Vous pouvez accéder aux rapports disponibles via Apps-\>Rapports. Dans le menu Rapports dans la barre de gauche, cliquez sur Rapport standard. Une liste de tous les rapports prédéfinis apparaîtra alors dans la fenêtre principale.


![](resources/images/dhis2UserManual/react_reports_app_standard_reports.png)

Pour lancer/visualiser un rapport, cliquez sur l'icône à trois points du rapport, puis en sélectionnez "Créer" dans le menu contextuel. S'il existe des paramètres prédéfinis, vous verrez afficher une fenêtre de paramètres de rapport dans laquelle vous devez saisir les valeurs nécessaires pour l'unité d'organisation et/ou le mois de référence, en fonction de ce qui a été défini dans le(s) tableau(x) de rapport sous-jacent(s). Cliquez sur "Générer le rapport" lorsque vous êtes prêt. Le rapport s'affiche directement dans votre navigateur ou pourra être téléchargé sous forme de fichier PDF, en fonction des paramètres de votre navigateur sur le traitement des fichiers PDF. Vous pouvez enregistrer le fichier et le conserver localement sur votre ordinateur pour une utilisation ultérieure.

## Utilisation des rapports sur les ensembles de données { #dataset_reports_in_the_beta_reports_app }

Les rapports sur les ensembles de données sont imprimables à partir de l'écran de saisie des données et contiennent des données brutes ou agrégées.

Vous pouvez accéder aux rapports des ensembles de données depuis Apps-\>Rapports.

Une fenêtre de critères, dans laquelle vous renseignez les détails de votre rapport, apparaît :

**Ensemble de données:** L'ensemble de données que vous souhaitez afficher.

**Période de rapport :** La période réelle pour laquelle vous souhaitez récupérer les données. Il peut s'agir de périodes agrégées ou brutes. Cela signifie que vous pouvez demander un rapport trimestriel ou annuel même si l'ensemble de données est collecté sur une base mensuelle. Le type de période d'un ensemble de données (fréquence de collecte) est défini dans la maintenance de l'ensemble de données. Sélectionnez d'abord le type de période (Mensuel, Trimestriel, Annuel, etc.) dans le menu déroulant à côté des boutons Précédent et Suivant, puis sélectionnez l'une des périodes disponibles dans la liste déroulante ci-dessous. Utilisez Précédent et Suivant pour sauter d'un an en arrière ou en avant.

**Utiliser les données uniquement pour l'unité sélectionnée :** Utilisez cette option si vous souhaitez avoir un rapport pour une unité d'organisation qui a des ramifications (enfants), mais seulement si vous avez besoin des données collectées directement par cette unité et non par ses ramifications. Si vous voulez un rapport agrégé typique pour une unité d'organisation spécifique, ne cochez pas cette option.

**Rapport d'unité d'organisation :** Ici, vous sélectionnez l'unité d'organisation dont vous voulez le rapport. Cette opération peut s'effectuer à n'importe quel niveau de la hiérarchie étant donné que les données seront automatiquement agrégées jusqu'à ce niveau (si vous ne cochez pas l'option d'en haut).

Après avoir entré les critères du rapport, cliquez sur "Générer". Le rapport apparaîtra sous format HTML et imprimable. Utilisez les fonctions d'impression et d'enregistrement du navigateur pour imprimer ou sauvegarder le rapport (sous forme de fichier HTML). Vous pouvez également exporter le rapport de l'ensemble de données dans des formats Excel et PDF.

## Utilisation du résumé du taux de génération des rapports { #reporting_rate_summary_in_the_beta_reports_app } 

Accédez au récapitulatif du taux de génération de rapports à partir du menu Apps-\> Rapports. Les récapitulatifs des taux de rapports afficheront le nombre d'ensembles de données (formulaires) soumis par unité d'organisation et par période.

Le calcul du taux de déclaration est basé sur les enregistrements de l'ensemble de données. Un enregistrement d'ensemble de données complet se réfère à un utilisateur qui marque un formulaire de saisie comme étant complet, généralement en cliquant sur le bouton correspondant dans l'onglet de saisie de données. Il indique ainsi au système de considérer le formulaire comme étant complet. Il s'agit d'une approche subjective du calcul de la complétude.

Le récapitulatif du taux de génération de rapports affichera pour chaque ligne un éventail de mesures spécifiques :

  - Rapports réels : Indique le nombre d'enregistrements complets 
    pour l'ensemble de données concerné.

  - Rapports attendus : indique le nombre d'enregistrements complets attendus. 
    Ce nombre se base sur le nombre
    d'unités d'organisation auxquelles l'ensemble de données concerné a été attribué
    (activé pour la saisie de données).

  - Taux de déclaration : Le pourcentage de rapports enregistrés comme complets sur la base 
    du nombre attendu.

  - Rapports à temps : tout comme les rapports réels, seuls les rapports enregistrés comme étant 
    complets pendant le nombre maximum de jours après la fin de la période de déclaration.
    Ce nombre de jours après la période de déclaration peut être 
    défini par ensemble de données.

  - Taux de déclaration à temps : tout comme le pourcentage, seuls les rapports enregistrés comme
    étant complets à temps utilisés comme numérateur.

Pour exécuter le rapport, vous pouvez suivre les étapes ci-dessous :

  - Sélectionnez une unité d'organisation dans l'arborescence.

  - Sélectionnez un ensemble de données.

  - Sélectionnez un type de période et une période dans la liste des périodes disponibles 
    pour ce type de période.

  - Le rapport sera alors rendu. Modifiez l'un des paramètres ci-dessus 
    et cliquez à nouveau sur "Obtenir le rapport" pour voir les résultats correspondants.


![](resources/images/dhis2UserManual/react_reports_app_reporting_rate_summary.png)

## Utiliser les ressources { #resources_in_the_beta_reports_app } 

L'outil de ressources vous permet de télécharger les fichiers de votre répertoire local sur le serveur DHIS et d'ajouter des liens vers d'autres ressources sur Internet via des liens URL. Si le stockage sur le cloud est configuré pour votre système, les ressources y seront sauvegardées.

Pour créer une nouvelle ressource :

1.  Ouvrez l'application **Rapports** et cliquez sur **Ressource**.

2.  Cliquez sur **AJOUTER**.

3.  Entrez un **Nom**.

4.  Sélectionnez un **Type**: **Télécharger un fichier** ou **URL externe**.

5.  Cliquez sur **Sauvegarder**.

## Utiliser des rapports de distribution des unités d'organisation { #orgunit_distribution_reports_in_the_beta_reports_app } 

Vous pouvez accéder aux rapports de distribution des unités d'organisation à partir du menu à gauche dans Applications-\>Rapports.

Les rapports de distribution d'unités d'organisation montrent comment les unités d'organisation sont distribuées sur diverses propriétés comme le type et la propriété, et ceci par zones géographiques.

Le résultat peut être présenté dans un rapport sous forme de tableau ou dans un graphique.

**Exécuter un rapport:**

Pour générer un rapport, sélectionnez d'abord une unité d'organisation dans l'arborescence des unités d'organisation en haut à gauche. Le rapport sera basé sur les unités d'organisation situées sous l'unité d'organisation sélectionnée. Sélectionnez le groupe d'unités d'organisation que vous voulez utiliser. Il s'agit généralement du Type, la Propriété, Rural/Urbain, mais notez qu'ils peuvent également être définis par l'utilisateur. Vous pouvez cliquer sur le bouton Générer un rapport pour obtenir la présentation sous forme de tableau ou Générer un graphique pour obtenir le même résultat sur un graphique. Vous pouvez également télécharger le rapport en tableaux sous un autre format tel que PDF, Excel et CSV.


![](resources/images/dhis2UserManual/react_reports_app_org_unit_dist.png)



# Messagerie { #messages } 

## À propos des messages et des commentaires { #about-messages-and-feedback-messages } 

![](resources/images/messaging/view_inbox.png)

Dans DHIS2, vous pouvez envoyer des messages et des commentaires aux utilisateurs, à des groupes d'utilisateurs et aux unités d'organisation. Lorsque vous envoyez un commentaire, il est envoyé à un groupe d'utilisateurs particulier appelé groupe de destinataires. Si vous êtes membre de ce groupe d'utilisateurs, vous avez alors accès aux outils de gestion des commentaires. Vous pouvez, par exemple, définir le statut d'un nouveau commentaire à "En attente" pendant que vous attendez d'avoir plus d'informations.

En plus des messages entre utilisateurs et des commentaires, en fonction de votre configuration, le système vous enverra également des messages génériques. Ces messages peuvent être déclenchés par différents événements, par exemple des échecs et défaillances avec des tâches en arrière-plan et la validation des résultats d'analyse. Les outils de gestion des commentaires sont également disponibles pour les résultats de validation et l'attention sera portée sur la règle de validation violée.

Pour aller à l'application, cliquez sur **l'icône du message dans l'en-tête** ou recherchez l'application **Messagerie** dans le champ de recherche des applications.

> **Note**
>
> Les messages et les commentaires ne sont pas envoyés aux adresses électroniques des utilisateurs, ils n'apparaissent que dans DHIS2.
>
> Avec 2.30, nous avons introduit une nouvelle application de messagerie qui offre une expérience de messagerie plus étoffée. Plus précisément:
>
> - Basculez entre la vue liste et la vue compacte en cliquant sur l'icône située dans le coin supérieur droit.
>
> - La vue en liste est simpliste et donne une bonne vue d'ensemble de tous les messages. Elle est particulièrement adaptée aux commentaires et messages de validation.
> - La vue compacte est un moyen moderne de voir les messages, l’utilisateur ayant plus d’informations dans une seule vue. Il est donc plus facile de visionner et de répondre à plusieurs messages.
>
> La première capture d'écran de cette section affiche la vue liste, tandis que la capture d'écran de la section **Lire un message** affiche la vue compacte.
>
> - Un nouveau champ de recherche est ajouté pour permettre à l'utilisateur de rechercher des messages. La recherche fonctionne par filtration des messages sur différents attributs; sujet, texte et expéditeurs. Cela signifie que vous pouvez affiner la liste de conversation en entrant un mot de recherche.
>
> - Une fonctionnalité d'actualisation automatique est ajoutée afin que l'application récupère les nouveaux messages à un intervalle défini, toutes les 5 minutes. Cette fonctionnalité est désactivée par défaut.
>
> - Pour chaque conversation, vous pouvez ajouter des participants à la conversation. Ceci est très utile si vous souhaitez participer à cette conversation ou si quelqu'un doit également voir les informations. Il n'est pas possible de supprimer des participants d'une conversation.
>>>>>>>>>>>>>>>>>>

## Créer un message { #create-a-message } 

![](resources/images/messaging/create_private_message.png)

1.  Cliquez sur **Composer**.

2.  Définissez le destinataire du message. Vous pouvez envoyer un message 
    aux unités d’organisation, aux utilisateurs et aux groupes d’utilisateurs.

      - Dans le champ **À**, vous pouvez rechercher des unités d'organisation, des utilisateurs 
        et des groupes d'utilisateurs et sélectionner les destinataires souhaités.

3.  Saisissez un objet et le corps du message.

4.  Cliquez sur **Envoyer**.

## Lire un message { #read-a-message } 

![](resources/images/messaging/read_message.png)

1.  Sélectionnez le type de message approprié à gauche.

2.  Cliquez sur un message.

    Si le message fait partie d'une conversation, vous verrez tous les messages 
    de cette conversation.

## Créer un commentaire { #create-a-feedback-message } 

1.  Suivez les étapes comme pour créer un message, en sélectionnant uniquement 
    **Message de commentaire** au lieu de choisir des destinataires.

2.  Le message sera créé comme message de commentaire et apparaîtra dans 
    tous les dossiers **Ticket** des utilisateurs spécifiés.

## Pièces jointes. { #attachments } 

Dans la version 2.31, nous avons ajouté des pièces jointes aux messages. Lors de la création ou de la réponse dans une conversation, vous avez la possibilité d'ajouter des pièces jointes. Il n’existe actuellement aucune limitation quant au type ou à la taille du fichier.

## Gérer les commentaires et validations { #manage-validation-and-feedback-messages } 

> **Note**
>
> Pour voir les commentaires et avoir accès aux 
> outils de traitement, vous devez être membre du groupe d'utilisateurs autorisés à gérer les commentaires.
>
> Avec la nouvelle application, vous gérez les outils de tickets et de messages de validation via le menu d'icônes qui apparaît lors de la visualisation d'un message ou lors de la vérification des messages dans la liste des conversations.
>>>

### Tous les messages sont sélectionnés. { #all-messages-selected } 
![Tous les messages sélectionnés](resources/images/messaging/view_validation_select_all.png)
### Tous les messages sont sélectionnés et le sélecteur de choix étendu est sélectionné { #all-messages-selected-and-extended-choice-picker-selected } 
![Tous les messages sélectionnés et sélection des choix](resources/images/messaging/view_validation_select_all_icon_menu.png)


Vous recevrez des commentaires dans votre dossier **Tickets** et des messages de validation dans votre dossier **Validation**. Pour les commentaires et les messages de validation, vous disposez des options suivantes, en plus de celles des messages :

<table style="width:100%;">
<caption>Outils de gestion des commentaires</caption>
<colgroup>
<col width="23%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Fonction</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Priorité</strong></p></td>
<td><p>Vous pouvez marquer un commentaire avec différentes priorités: <strong>neutre</strong>, <strong>Faible</strong>, <strong>Moyenne</strong> ou <strong>Élevée</strong>.</p>
<p>Définir la priorité facilite la distinction du commentaire que vous devez résoudre en premier et ceux pouvant attendre.</p></td>
</tr>
<tr class="even">
<td><p><strong>Statut</strong></p></td>
<td><p>Tous les commentaires reçoivent le statut <strong>Ouvert</strong> à la création.</p>
<p>Pour garder une traçabilité des commentaires existants, vous pouvez définir le statut sur <strong>En attente</strong>, <strong>non valide</strong> ou <strong>Résolu</strong>.</p>
<p>Vous pouvez filtrer les commentaires dans votre boîte de réception en fonction de leur statut. Ceci facilite le basculement entre les commentaires et les messages normaux.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Attribué à</strong></p></td>
<td><p>Vous pouvez affecter un commentaire à n'importe quel membre du groupe d'utilisateurs autorisé à les gérer.</p>
<p></p>
<p><strong>-</strong> Aucun signifie que vous n'avez affecté aucun utilisateur au commentaire.</p></td>
</tr>
<tr class="even">
<td><p><strong>Réponse interne</strong></p></td>
<td><p>Lorsque vous travaillez au sein d'une équipe de traitement des commentaires, vous pouvez en discuter avant de répondre à l'expéditeur. Vous pouvez conserver cette discussion dans la même conversation que le commentaire lui-même.</p>
<p>Pour envoyer une réponse dans le groupe d'utilisateurs de traitement des commentaires, cliquez sur <strong>Réponse interne</strong>.</p></td>
</tr>
</tbody>
</table>

## Configurer la fonction commentaire { #configure-feedback-message-function } 

Pour configurer la fonction commentaire, vous devez :

1.  Créer un groupe d'utilisateurs (par exemple « Destinataires des messages de commentaires ») qui
    contient tous les utilisateurs qui doivent recevoir des messages de commentaires.

2.  Ouvrir l'application **Paramètres Système** et cliquer sur **Général** \> **Destinataires 
    des commentaires** et sélectionner le groupe d'utilisateurs que vous avez créé lors de la précédente
    étape.



# Définir les préférences du compte d'utilisateur { #user_account_preferences }

Dans **Profil de l'utilisateur**, vous pouvez ajouter des informations personnelles à votre profil 
comme votre adresse électronique, votre numéro de téléphone mobile, votre date de naissance, votre photo 
de profil et plus. Lorsque vous envoyez des messages, la personne qui les reçoit pouvant voir ces 
détails de votre profil. Vous pouvez également fournir des noms de compte pour divers 
services de messagerie directes, qui seront utilisés par le système.

Dans **Paramètres de l'utilisateur**, vous pouvez modifier la langue d'affichage de DHIS2 et 
la langue de la base de données. La langue de la base de données est la traduction du 
contenu des métadonnées, tels que des éléments de données et des indicateurs. Vous pouvez 
également choisir un style d'affichage et activez ou désactivez la réception des SMS et 
e-mails. Si vous le souhaitez, vous pouvez utiliser un nom abrégé, 
tel que "Joe" dans les modules d'analyse, au lieu d'utiliser votre nom complet.

Dans **Paramètres du compte**, vous pouvez réinitialiser votre mot de passe et configurer l'authentification 
à 2 facteurs. La configuration de l'authentification à 2 facteurs requiert le 
téléchargement de l'application Google Authenticator sur votre appareil mobile.

Dans la section **Voir le profil complet**, vous trouverez un résumé des détails de votre profil. 
Cette section comprend quelques champs que vous ne pouvez pas modifier vous-même, 
tels que les rôles d'utilisateur et les unités d'organisation d'utilisateur.

Dans **Gestion des jetons d'accès personnels**, vous pouvez voir les jetons d'accès personnels 
existants, révoquer les jetons existants et en générer de nouveaux. Les jetons d'accès personnels sont 
une alternative à l'utilisation de mots de passe pour l'authentification et sont utiles pour fournir 
un accès (restreint) aux scénarios et aux applications externes. Notez que les valeurs des 
jetons d'accès personnels nouvellement générés ne sont visibles qu'après leur génération.

Dans la section **A propos de DHIS2**, vous trouverez une liste détaillée sur l'instance DHIS2.



# Configurer les métadonnées { #maintenance_app } 

## À propos de l'application Maintenance { #about_maintenance_app } 

Dans l'application **Maintenance**, vous pouvez configurer tous les objets de métadonnées dont vous avez besoin pour collecter et analyser les données :

  - Catégories

  - Des éléments de données

  - Ensemble de données et formulaires de saisie de données

  - Des indicateurs

  - Unités d’organisation

  - Les métadonnées du programme : entité suivie, attribut de l'entité suivie et 
    type de relation

  - Règles de validation

  - Attributs

  - Les constantes

  - Les ensembles d'options

  - Les légendes

  - Les prédicteurs

  - Les push reports

  - Les couches de carte externes

> **N.B.**
>
> Les fonctions auxquelles vous avez accès dépendent des autorisations d'accès de votre rôle d'utilisateur.>



### Naviguer à travers les objets de métadonnées { #navigating_metadata } 

Les objets de métadonnées sont présentés dans une liste avec des colonnes prédéfinies qui sont utiles pour chaque objet. Vous pouvez personnaliser les colonnes de la liste pour l'objet en cours d'utilisation. Ces personnalisations sont effectuées par utilisateur et n'affecteront donc pas les autres utilisateurs. Notez que ces modifications ne modifient pas les métadonnées, mais seulement la présentation de la liste.

#### Gestion des colonnes visibles { #managing-visible-columns } 

![](resources/images/maintenance/configurable_columns_dialog.png)

1. Cliquez sur l'icône ![](resources/images/maintenance/icon_settings.png) en haut à droite de la liste des objets que vous souhaitez configurer.
2. Un menu déroulant apparaît, sélectionnez **Gérer les colonnes**.
3. Une boîte de dialogue apparaît, avec les colonnes sélectionnées par défaut.
3. Cliquez sur n'importe quel nom de colonne dans la liste des **Colonnes disponibles** pour les ajouter à la liste des colonnes sélectionnées.
4. Vous pouvez réorganiser les colonnes sélectionnées en faisant un glisser-déposer de l'icône ![](resources/images/maintenance/icon_reorder.png).
5. Vous pouvez également supprimer n'importe quelle colonne de la visualsation en cliquant sur l'icône X à côté du nom.
6. Cliquez sur **Sauvegarder** une fois que vous êtes satisfait de vos modifications.

Vous pouvez facilement réinitialiser les valeurs par défaut en cliquant sur le bouton **Rétablir les valeurs par défaut**.

##### Télécharger les métadonnées { #download-metadata } 

Vous pouvez télécharger les métadonnées relatives à l'objet que vous consultez actuellement. Le téléchargement des métadonnées tiendra compte de tous les filtres que vous avez activés pour la liste.

1. Cliquez sur l'icône ![](resources/images/maintenance/icon_settings.png) en haut à droite de la liste des objets que vous souhaitez configurer.
2. Un menu déroulant apparaît, sélectionnez **Télécharger**.
3. Une boîte de dialogue, dans laquelle vous pourrez sélectionner le format et la compression souhaités, apparaît.
4. **Avec partage** peut être sélectionné pour inclure des données de partage pour les métadonnées.

## Gérer les catégories { #manage_category } 

### À propos des catégories { #about_category } 

Les catégories sont généralement un concept, par exemple "Genre", "Âge" ou "État de la maladie". Les éléments de données tels que "Nombre de cas confirmés de paludisme" sont souvent divisés en sous-éléments afin de déterminer, par exemple, le nombre de cas confirmés de paludisme pour des tranches d'âge particulières.

Utilisez des catégories pour désagréger les éléments de données en composantes individuelles. Vous pouvez également utiliser des catégories pour assigner des attributs de métadonnées à toutes les données  enregistrées dans un ensemble de données spécifique, tel que "Partenaire d'implémentation" ou "Organisme de financement".

Créez trois catégories : "Moins de 1 an", "1-5 ans" et "Plus de 5 ans". Assignez-les comme catégories à l'élément de donnée. Trois champs distincts seront créés pour ces données dans les formulaires de saisie :

  - Nombre de cas confirmés de paludisme (Moins de 1 an)

  - Nombre de cas confirmés de paludisme (1-5 ans)

  - Nombre de cas confirmés de paludisme (plus de 5 ans)

Sans les catégories, vous auriez dû créer séparément chacun des éléments de données énumérés ci-dessus.

Dans l'application **Maintenance**, vous gérez les catégories d'objets ainsi que les éléments suivants :



Tableau : Objets de catégorie dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Option de catégorie | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Catégorie | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| La combinaison de catégories | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Combinaison d’options catégorie | Modifier et afficher les détails |
| Groupe d'options de catégorie | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Ensemble de groupes d'options de catégorie | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |

### Déroulement { #workflow_category } 

1.  Créez toutes les options de catégorie.

2.  Créez des catégories composées des options de catégorie que vous avez 
    créées.

3.  Créez des combinaisons de catégories composées d'une ou plusieurs 
    catégories.

4.  Créez des éléments de données et attribuez-les à une combinaison de catégories.

### Créer ou modifier une option de catégorie { #create_category_option } 

Si possible, recyclez les options de catégorie. Par exemple, deux catégories peuvent partager une option de catégorie particulière (par exemple \<1 an). Lors de la création des catégories, cette option de catégorie pourrait être réutilisée. Cette réutilisation est importante si des options de catégorie particulières (ou des combinaisons d'options de catégories) doivent être analysées ensemble.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Combinaison
    de catégorie**.

2.  Cliquez sur le bouton Ajouter.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Nom court** (optionnel)

    3.  **Code** (optionnel)

    4.  **Nom du formulaire** (optionnel)
        Les options de catégorie peuvent avoir des noms de formulaire. Ceux-ci seront affichés dans
        l'application de saisie de données comme en-tête de colonne et non comme nom affiché des
        options de catégorie respectives.

    5.  **Description**

    6.  **Date de début** (optionnel)

    7.  **Date de fin** (optionnel)

4.  Sélectionnez des unités d'organisation et attribuez-les.

    > **Tip**
    >
    > You can automatically select all organisation units that belong to
    > an organisation unit level or organisation unit group, for example
    > "Chiefdom" or "Urban. To do this:
    >
    > Select an **Organisation unit level** or **Organisation unit
    > group** and click **Select**.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier une catégorie { #create_category } 

Après avoir créé toutes les options de catégorie pour une catégorie particulière, vous pouvez créer cette catégorie.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Catégorie**.

2.  Cliquez sur le bouton Ajouter.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Nom court**

    3.  **Code**

    4.  **Description**

    5.  **Type de dimension des données**

        Une catégorie peut être soit de type "Désagrégation" soit de type "Attribut".
        Pour la désagrégation des éléments de données, sélectionnez
        **Désagrégation**. Le type de dimension de données "Attribut" permet
        d'utiliser la catégorie pour attribuer une combinaison de catégories aux
        données enregistrées via un ensemble de données.

    6.  **Dimension de données**

        Si vous sélectionnez **Dimension de données**, la catégorie sera disponible
        pour les analyses en tant qu'une autre dimension, en plus des
        dimensions standard "Période" et "Unité d'organisation".

4.  Sélectionnez les options de catégorie et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier une combinaison de catégories { #create_category_combination } 

Les combinaisons de catégories vous permettent de combiner plusieurs catégories dans un ensemble associé.

Vous pouvez désagréger l'élément de données "Nombre de nouvelles infections au VIH" en ces catégories :

  - Service VIH : "Autres", "PTME", "Tuberculose"

  - Genre : "Masculin", "Féminin"

Dans cet exemple, deux niveaux de désagrégation sont composés de deux catégories d'éléments de données distinctes. Chaque catégorie d'éléments de données se compose à son tour de plusieurs options de catégories d'éléments de données.

Dans DHIS2, les éléments de données sont désagrégés selon un ensemble commun de catégories. En combinant ces différentes catégories en une combinaison de catégories et en attribuant ces combinaisons aux éléments de données, vous pouvez appliquer rapidement les niveaux de désagrégation appropriés à un grand nombre d'éléments de données.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Combinaison
    de catégorie**.

2.  Cliquez sur le bouton Ajouter.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Code**

    3.  **Type de dimension des données**

    4.  **Sauter le total des catégories dans les rapports**

4.  Sélectionnez des catégories et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'options de catégorie { #create_category_option_group } 

Vous pouvez regrouper et classer les options de catégorie à partir des groupes d'options de catégorie. L'objectif principal du groupe d'options de catégorie est d'ajouter plus de dimensionnalité à vos données saisies pour l'analyse, par exemple dans les applications **Tableau croisé dynamique** ou **Visualiseur de données**.

Envisagez un système où les données sont collectées par "projets", et où les projets sont présentés comme options de catégories. Le système doit être capable d'analyser les données en fonction du donateur qui soutient le projet. Dans ce cas, créez un ensemble de groupes d'options de catégorie appelé "Donateur". Chaque donateur peut être créé comme un groupe d'options de catégorie, où chaque option de catégorie / projet est placé dans le groupe approprié. Dans les applications d'analyse de données, le groupe "Donateur" s'affichera comme une dimension de données, tandis que chaque donateur apparaîtra comme un élément de dimension, prêt à être inclus dans les rapports.

Pour créer un groupe d'options de catégorie :

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Combinaison
    d'options de catégorie**.

2.  Cliquez sur le bouton Ajouter.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Nom court** : Définissez un nom court pour l'élément de données.

    3.  **Code**

    4.  **Description**

    5.  **Type de dimension des données**

4.  Sélectionnez les **Options de catégorie** et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'options de catégorie { #create_category_option_group_set } 

Vous pouvez regrouper les groupes d'options de catégorie dans des ensembles de groupes d'options de catégorie. L'objectif principal des groupes d'options de catégorie est d'ajouter plus de dimensionnalité à vos données saisies pour l'analyse, par exemple dans les applications **Tableau croisé dynamique** ou **Visualiseur de données**.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Combinaison
    de groupes d'options de catégorie**.

2.  Cliquez sur le bouton Ajouter.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Nom court**

    3.  **Description**

    4.  **Dimension de données**

    5.  **Type de dimension des données**

4.  Sélectionnez les **Groupes d'options de catégorie** et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Utiliser des combinaisons de catégories pour les ensembles de données { #use_category_combo_for_data_set } 

Lorsque les catégories et les combinaisons de catégories ont le type de dimension de données "Attribut", elles peuvent donc appliquer un ensemble commun d'attributs à un ensemble associé de valeurs de données contenues dans un ensemble de données. Lorsque les combinaisons de catégories sont utilisées comme attribut, elles servent alors de dimension supplémentaire (similaire à "Période" et "Unité d'organisation") que vous pouvez utiliser pour votre analyse.

Supposons qu'une ONG fournisse des services du TAR dans un établissement donné. Chaque mois, elle doit faire un rapport "TAR résumé mensuel", qui contient des éléments de données. L'ONG et le projet peuvent changer au fil du temps. Afin d'attribuer des données à une ONG et à un projet donnés à un moment donné, vous devez enregistrer ces informations avec chaque valeur de données au moment de la saisie des données.

1.  Créez deux catégories avec pour type de dimension de données "Attribut" : 
    "Partenaire d'implémentation" et "Projets".

2.  Créez une combinaison de catégories avec pour type de dimension des données
    "Attribut": "Partenaires d'implémentation et projets".

3.  Attribuez les catégories que vous avez créées à la combinaison de catégories.

4.  Créez un ensemble de données appelé "TAR résumé mensuel" et sélectionnez 
    Combinaison de catégorie "Partenaires d'implémentation et projets".

Lorsque vous saisissez des données dans l'application **Saisie de données**, vous pouvez sélectionner un "Partenaire d'implémentation" et un "Projet". Chaque valeur de données enregistrée se voit attribuer une combinaison spécifique de ces catégories en tant qu'attribut. Ces attributs (lorsqu'ils sont spécifiés comme étant une dimension) peuvent être utilisés dans les applications d'analyse de la même manière que d'autres dimensions, par exemple la période et l'unité d'organisation.

![](resources/images/maintenance/categories_dataset_attributes.png)

### Attribuer un code à une combinaison d'options de catégories { #assign_code_category_option_combo } 

Vous pouvez attribuer un code aux combinaisons d'options de catégorie. Cela facilite l'échange de données entre DHIS2 et les systèmes externes. Le système crée automatiquement les combinaisons d'options de catégorie.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Catégorie** \> **Combinaison
    d'options de catégories**.

2.  Dans la liste, cherchez l'objet que vous souhaitez modifier.

3.  Cliquez sur le menu Options et sélectionnez **Modifier**.

4.  Entrez un code.

5.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les éléments de données { #manage_data_element } 

### À propos des éléments de données { #about_data_element } 

Les éléments de données constituent la base de DHIS2. Ils définissent ce qui est enregistré dans le système, par exemple le nombre de vaccinations ou le nombre de cas de paludisme.

Les éléments de données tels que le "nombre de cas confirmés de paludisme" sont souvent divisés en sous-éléments afin de déterminer, par exemple, le nombre de cas confirmés de paludisme au sein de tranches d'âge particuliers.

Dans l'application **Maintenance**, vous pouvez gérer les objets d'éléments des données suivants  :



Tableau : Objets d'éléments de données dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Élément de données | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Groupe d'éléments de données | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Ensemble de groupes d'éléments de donnée | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |

### Déroulement { #workflow_data_element } 

1.  Créez toutes les options de catégorie.

2.  Créez des catégories composées des options de catégorie que vous avez 
    créées.

3.  Créez des combinaisons de catégories composées d'une ou plusieurs 
    catégories.

4.  Créez des éléments de données et attribuez-les à une combinaison de catégories.

### Créer ou modifier un élément de données { #create_data_element } 

![](resources/images/maintenance/create_data_element.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur ** Éléments de données** \> **Ensemble
    données**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, définissez le nom précis de l'élément de données.

    Chaque élément de données doit avoir un nom unique.

4.  Dans le champ **Nom court**, définissez un nom court pour l'élément de 
    données.

    Généralement, le nom court est une abréviation du nom complet de 
    l'élément de données. Il est souvent utilisé dans les rapports pour montrer le
    nom de l'élément de données, lorsque l'espace est limité.

5.  (Facultatif) Dans le champ **Code**, attribuez un code.

    Dans de nombreux pays, les éléments de données se voient attribuer un code.

6.  (Facultatif) Dans le champ **Couleur**, attribuez une couleur qui sera utilisée
    pour cet élément de données dans les applications de saisie de données.

7.  (Facultatif) Dans le champ **Icône**, attribuez une icône qui sera utilisée
    pour cet élément de données dans les applications de saisie de données.

8.  Dans le champ **Description**, entrez une description de l'ensemble de
    données. Soyez le plus précis possible et fournissez des informations complètes
    sur la manière dont l'élément de données est mesuré et quel est son objectif.

8. (Facultatif) Dans le champ **Masque de champ**, vous pouvez taper un modèle qui est utilisé pour fournir 
   des conseils permettant un bon formatage de l'élément de donnée.

     > **NOTE**
     >
     > So far this is only implemented in the DHIS2 Android Capture app; not in the Capture and Tracker Capture web apps.

   Voici donc les caractères spéciaux qui peuvent être utilisés dans le masque. Les caractères spéciaux correspondent exactement à un caractère du type donné.

   | Caractère  | Correspondance                      |
   | ------------- |----------------|
   | \\d       | chiffre                      |
   | \\x       | lettre minuscule          |
   | \\X       | lettre majuscule             |
   | \\w       | tout caractère alphanumérique |

   Par exemple, le modèle peut être utilisé pour afficher des traits d'union dans le champ de saisie de l'élément de données selon les besoins. Par exemple, "\d\d\d-\d\d\d-\d\d\d" 
   montre un trait d'union après chaque troisième chiffre.

9.  Dans le champ **Nom du formulaire**, saisissez un nom alternatif pour l'élément 
    de données. Ce nom peut être utilisé soit dans la section, soit dans les formulaires de saisie de 
    données automatiques. Le nom du formulaire est appliqué automatiquement.

10. Dans le champ **Type de domaine**, sélectionnez le type d'élément de données, 
    entre agrégé et tracker.

11. Dans le champ **Type de valeur**, sélectionnez le type de données que l'élément de 
    données doit enregistrer.



Tableau : Types de valeurs

| Type de valeur | Description |
|---|---|
| Âge | - |
| Coordonnée | Coordonnée d'un point spécifiée comme longitude et latitude en degrés décimaux. Toutes les coordonnées doivent être spécifiées au format "-19.23 , 56.42", avec une virgule qui sépare la longitude et la latitude. |
| Date | Les dates sont affichées sous forme de widget de calendrier lors de la saisie des données. |
| Date et heure | Est une combinaison des éléments de données **DATE** et **HEURE**. |
| Email | Email. |
| Fichier | Ressource de fichier où vous pouvez stocker des fichiers externes, par exemple des documents et des photos. |
| Image | Ressource de fichier où vous pouvez stocker des photos.<br>   <br> Contrairement à l'élément de données **FICHIER**, l'élément de données **IMAGE** peut afficher l'image téléchargée directement dans les formulaires. |
| Entier | Tout nombre entier (positif et négatif), y compris zéro. |
| Lettre | Une seule lettre. |
| Texte long | Valeur textuelle. Rendue comme une zone de texte sans restriction de longueur dans les formulaires. |
| Nombre entier négatif | Tout nombre entier inférieur à zéro (zéro n'étant pas inclus). |
| Nombre - Toute valeur numérique réelle avec une seule virgule. Les séparateurs de milliers et la notation scientifique ne sont pas pris en charge. |
| Pourcentage | Nombres entiers compris entre 0 et 100. |
| Numéro de téléphone | Numéro de téléphone. |
| Nombre entier positif | Tout nombre entier supérieur à zéro (zéro n'étant pas inclus). |
| Nombre entier positif ou nul | Tout nombre entier positif, y compris zéro. |
| Unités d'organisation | Les unités d'organisation sont présentées sous forme de widget d'arbre hiérarchique.<br>   <br> Si l'utilisateur définit "recherche d'unités d'organisation ", les unités d'organisation recherchées seront affichées à la place des unités d'organisation définies. |
| Intervalle d'unité | Tout nombre réel supérieur ou égal à 0 et inférieur ou égal à 1. |
| Texte | Valeur textuelle. Le nombre maximum de caractères autorisés par valeur est de 50 000. |
| Heure | L'heure est enregistrée au format HH:mm.<br>  <br> "HH" est un nombre compris entre 0 et 23 et <br>   <br> "mm" est un nombre compris entre 00 et 59.
| Tracker associate | Instance d'entité suivie. Rendu sous forme de boîte de dialogue avec une liste d'instances d'entités suivies et un champ de recherche. |
| Nom d'utilisateur | Utilisateur DHIS2. La boîte de dialogue qui s'affiche contient une liste d'utilisateurs et un champ de recherche. L'utilisateur doit disposer de l'autorité "Voir l'utilisateur" pour pouvoir utiliser ce type de données.
| Oui/Non | Valeurs booléennes, présentées sous forme de listes déroulantes lors de la saisie des données. |
| Les valeurs booléennes sont présentées sous forme de listes déroulantes lors de la saisie des données. |

12. Dans le champ **Type d'agrégation**, sélectionnez l'opération d'agrégation 
    par défaut qui sera appliquée à l’élément de données.

    La plupart des éléments de données doivent avoir comme opérateur **Somme**. Cela inclut
    tous les éléments de données qui doivent être additionnés. D'autres éléments de 
    données, tels que les niveaux relatifs aux effectifs, doivent être configurés pour utiliser
    l'opérateur **Moyenne**, lorsque les valeurs le long de la dimension temporelle ne doivent
    pas être additionnés, mais plutôt moyennés.



    Tableau : Opérateurs d'agrégation

    | Opérateur d'agrégation | Description |
    |---|---|
    | Moyenne | Moyenne des valeurs dans les dimensions de la période et de l'unité d'organisation. |
    | Moyenne (somme dans la hiérarchie des unités d'organisation) | Moyenne des valeurs de données dans la dimension de la période, somme dans les dimensions des unités d'organisation. |
    | Comptage | Nombre de valeurs de données. |
    | Min | Minimum des valeurs de données. |
    | Max | Maximum des valeurs de données. |
    | Aucune | Aucune agrégation n'est effectuée dans une quelconque dimension.|
    | Somme | Somme des valeurs de données dans la dimension de la période et de l'unité d'organisation. |
    | Écart-type | Écart-type (basé sur la population) des valeurs de données. |
    | Variation | Variation (basée sur la population) des valeurs de données. |

13. Si vous voulez enregistrer les valeurs nulles pour une raison particulière, sélectionnez **Enregistrer
    les valeurs de données nulles**. Par défaut, DHIS2 n'enregistre pas les valeurs nulles saisies
    dans le module de saisie de données.

14. Dans le champ **URL**, entrez un lien vers une description détaillée de 
    l'élément de données.

    Par exemple, un lien vers un référentiel ou un registre de métadonnées qui
    contient des informations techniques détaillées sur la définition et
    la mesure de l’élément de données.

15. Dans le champ **Combinaison de catégories**, définissez la combinaison
    de catégorie que l’élément de données doit avoir. On parle également de
    "désagrégation".

16. Sélectionnez un **ensemble d'options**.

    Les ensembles d'options sont des listes prédéfinies d'options pouvant être utilisées pour la 
    saisie de données.

17. Sélectionnez un **Ensemble d'options pour les commentaires**.

    Les ensembles d'options pour les commentaires sont des listes prédéfinies d'options qui peuvent
    être utilisées pour spécifier des commentaires standardisés aux valeurs de données lors de la saisie
    des données 

18. Attribuez une ou plusieurs **Légendes**.

    Les légendes sont utilisées par exemple dans l'application **Cartes** pour afficher certains
    éléments de données avec des icônes.

19. Définissez les **Niveaux d'agrégation** pour permettre l'agrégation de l'élément de données 
    à un ou plusieurs niveaux

    1.  Dans le menu de gauche, sélectionnez les niveaux que vous voulez attribuer à
        l'élément de données.

    2.  Cliquez sur la flèche de droite pour attribuer les niveaux d'agrégation.

    Par défaut, l'agrégation commencera au niveau de l'unité d'organisation assigné 
    le plus bas. Si vous sélectionnez par exemple « Chefferie », cela signifie
    que les données agrégées aux niveaux « Chefferie », « District » et « National » utilisent
    « Chefferie » (le niveau d'agrégation le plus élevé disponible) car la source 
    des données et les données PHU ne seront pas incluses. Les données PHU seront toujours
    disponibles pour le niveau PHU, mais ne seront pas incluses dans les agrégations aux
    niveaux supérieurs

    Si vous sélectionnez à la fois « District » et « Chefferie », cela signifie que les
    les données agrégées aux niveaux « District » et « National » utilisent les données du District comme
    source, « Chefferie » utilisera Chefferie, et « PHU » utilisera PHU.

20. Le cas échéant, entrez les valeurs des attributs personnalisés, par exemple
    **Classification** ou **Méthode de collecte**.

    > **Note**
    >
    > You create custom attributes in the **Maintenance** app: **Other**
    > \> **Attributes**.

21. Le cas échéant, sélectionnez des ensembles de groupes d'éléments de données obligatoires, par exemple
    **Groupe d'éléments de données principal** ou **Données tracker**.

    > **Note**
    >
    > You'll only see data element group sets in this form if you've
    > created them and set them to **Compulsory**.
    >
    > You create data element group sets in the **Maintenance** app:
    > **Data element** \> **Date element group set**.

22. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'éléments de données { #create_data_element_group } 

Les groupes d'éléments de données vous permettent de classer des éléments de données associées selon un thème commun. Par exemple, deux éléments de données "Vaccination contre la rougeole" et "Vaccination au BCG" peuvent être regroupés dans un groupe d'éléments de données "Vaccination des enfants".

Pour créer un groupe d'éléments de données :

1.  Ouvrez l'application **Maintenance** et cliquez sur ** Éléments de données** \> **Ensemble
    d'éléments de données**.

2.  Cliquez sur le bouton Ajouter.

3.  Remplissez le formulaire :

    1.  **Nom**

    2.  **Nom court**

    3.  **Code**

4.  Sélectionnez des éléments de données et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'éléments de données { #create_data_element_group_set } 

Les ensembles de groupes d'éléments de données vous permettent de classer plusieurs groupes d'éléments de données dans un ensemble. Le système utilise les ensembles de groupes d'éléments de données lors de l'analyse et de la production de rapports pour combiner des groupes d'éléments de données similaires en un thème commun. Un groupe d'éléments de données peut faire partie de plusieurs ensembles de groupes d'éléments de données.

1.  Ouvrez l'application **Maintenance** et cliquez sur ** Éléments de données** \> **Ensemble
    de groupes d'éléments de données**.

2.  Cliquez sur le bouton Ajouter.

3.  Remplissez le formulaire :

    1.  **Nom**
    2.  **Nom court**
    3.  **Code**
    4.  **Description**
    5.  **Obligatoire** 
    5.  **Dimension de données**

4.  Sélectionnez des groupe d'éléments de données et attribuez-les.

    Les groupes d'éléments de données disponibles sont affichés dans le panneau de gauche. Les groupes
    d'éléments de données qui font actuellement partie de l'ensemble de groupes d'éléments 
    d'indicateurs sont affichés dans le panneau de droite.

5.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les ensembles de données et les formulaires de saisie de données { #manage_data_set } 

### À propos des ensembles de données et des formulaires de saisie des données { #about_dataset_dataform } 

Toutes les données saisies dans DHIS2 sont organisées en ensembles de données. Un ensemble de données est une collection d'éléments de données regroupés pour la saisie et l'exportation de données entre les instances de DHIS2. Pour utiliser un ensemble de données afin de collecter des données pour une unité d'organisation spécifique, vous devez attribuer l'unité d'organisation à l'ensemble de données. Après avoir attribué l'ensemble de données à une unité d'organisation, cet ensemble de données est disponible dans l'application **Saisie de données**. Seules les unités d'organisation auxquelles vous avez attribué l'ensemble de données peuvent utiliser cet ensemble de données pour la saisie de données.

Une combinaison de catégories peut être liée à la fois à des éléments de données et à des ensembles de données. Si vous utilisez une combinaison de catégories pour un ensemble de données, la combinaison de catégories est applicable à tout le formulaire. Cela signifie que vous pouvez utiliser des catégories pour saisir des informations relatives à tout le formulaire, par exemple le nom d'un projet ou d'une subvention. Lorsqu'un ensemble de données est lié à une combinaison de catégories, ces catégories seront affichées sous forme de menus déroulants dans l'application **Saisie de données**. Les données saisies dans le formulaire seront ensuite reliées aux options de catégorie sélectionnées dans ces sections déroulantes. Pour savoir comment créer des catégories et des combinaisons de catégories, voir la section "Gérer les éléments de données et les catégories". Veillez à définir le type de catégories et de combinaisons de catégories sur "Attribut".

Un scénario où les catégories sont utiles est celui où vous devez remplir un formulaire de saisie de données pour une organisation partenaire en implémentation et un projet. Dans ce cas :

1.  Créer des options de catégorie et des catégories pour toutes les organisations partenaires
    et projets et reliez-les par une nouvelle combinaison de catégories.

2.  Attribuez la combinaison de catégories à l'ensemble de données (formulaire) pour lequel vous 
    devez saisir ces informations.

    En ouvrant cet ensemble de données dans le module de saisie, l'organisation
    partenaire et les catégories de projet seront automatiquement rendues
    sous forme de sections déroulantes, ce qui vous permet de sélectionner une organisation partenaire 
    en implémentation et un projet spécifiques avant de poursuivre la saisie des données.

Pour créer et modifier les ensembles de données, allez dans l'application **Maintenance**. Vous y définissez, par exemple, les éléments de données que vous voulez inclure dans l'ensemble de données et la fréquence de collecte des données.

Pour saisir des données, allez dans l'application **Saisie de données**. L'application **Saisie de données** utilise des formulaires de saisie de données pour afficher les ensembles de données. Il existe trois types de formulaires de saisie de données :



Tableau : Types de formulaires de saisie de données

| Type de formulaire de saisie de données | Description |
|---|---|
| Formulaire par défaut | Après avoir attribué un ensemble de données à une unité d'organisation, un formulaire par défaut est créé automatiquement. Le formulaire par défaut est ensuite disponible dans l'application **Saisie de données** pour les unités d'organisation auxquelles vous l'avez attribué.<br> <br>Un formulaire par défaut est composé d'une liste des éléments de données appartenant à l'ensemble de données, ainsi que d'une colonne permettant de saisir les valeurs. Si votre ensemble de données contient des éléments de données avec une combinaison de catégories qui n'est pas par défaut, par exemple des tranches d'âge ou des genres, des colonnes supplémentaires sont automatiquement créées dans le formulaire par défaut en fonction des différentes catégories.<br> <br>Si vous utilisez plus d'une combinaison de catégories, vous obtenez plusieurs colonnes dans le formulaire par défaut avec des en-têtes de colonne différents pour les options. |
| Formulaire à sections | Si le formulaire par défaut ne répond pas à vos besoins, vous pouvez le modifier pour créer un formulaire à sections. Les formulaires à sections vous offrent plus de flexibilité lorsque vous voulez utiliser des formulaires tabulaires.<br> <br>Dans un formulaire à sections, vous pouvez, par exemple, créer plusieurs tableaux avec des sous-titres et désactiver (griser) des cellules dans un tableau.<br><br> Lorsque vous ajoutez un formulaire à sections à un ensemble de données, ce formulaire sera disponible dans l'application **Saisie de données**. |
| Formulaire personnalisé | Si le formulaire que vous voulez concevoir est trop compliqué pour les formulaires par défaut ou à sections, vous pouvez créer un formulaire personnalisé. La création d'un formulaire personnalisé prend plus de temps que celle d'un formulaire à sections, mais vous avez un contrôle total sur la conception. <br> <br> Par exemple, avec un formulaire personnalisé, vous pouvez imiter un formulaire d'agrégation en format papier. Cela facilite la saisie des données et devrait réduire le nombre d'éléments de données mal saisis. <br> <br> Lorsque vous ajoutez un formulaire personnalisé à un ensemble de données, ce formulaire sera disponible dans l'application **Saisie des données**. |

> **N.B.**
>
> Si un ensemble de données possède à la fois un formulaire à sections et un formulaire personnalisé, le système 
> affiche le formulaire personnalisé lors la saisie de données. L'utilisateur qui saisit les données n'a pas 
> la possibilité de choisir le formulaire qui lui convient. Pour la saisie de données sur le web, l'ordre 
> de préférence de l'affichage est le suivant :
>
> 1.  Formulaire personnalisé (s'il existe)
>
> 2.  Formulaire à sections (s'il existe)
>
> 3.  Formulaire par défaut
>
> Les appareils mobiles ne prennent pas en charge les formulaires personnalisés. Pour la saisie de données sur appareil mobile, 
> l'ordre de de préférence de l'affichage est :
>
> 1.  Formulaire à sections (s'il existe)
>
> 2.  Formulaire par défaut

Dans l'application **Maintenance**, vous gérez les objets suivants de l'ensemble de données :



Tableau : Objets de l'ensemble de données dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Ensemble de données | Créer, affecter à des unités d'organisation, modifier, partager, supprimer, afficher les détails et traduire<br> <br>Modifier les éléments de données obligatoires<br> <br>Ajouter et supprimer simultanément plusieurs ensembles de données au sein des unités d'organisation |
| Formulaire à sections | Créer, modifier et gérer les champs grisés |
| Section | Modifier l'ordre d'affichage, supprimer et traduire |
| Formulaire personnalisé | Créer, modifier un script |

### Déroulement { #workflow_data_set } 

Vous devez disposer d'éléments et de catégories de données pour créer des ensembles de données et des formulaires de saisie de données.

1.  Créez un ensemble de données. 

2.  Assignez l'ensemble de données à des unités d'organisation.

    Un formulaire par défaut est créé automatiquement.

3.  Créez un formulaire à sections ou un formulaire personnalisé.

    Vous pouvez maintenant enregistrer des données dans l'application **Saisie de données**.

### Créer ou modifier un ensemble de données { #create_data_set } 

![](resources/images/datasets/data_set_create.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, saisissez le nom précis de l'ensemble de données.

4.  Dans le champ **Nom court**, définissez un nom court pour l'ensemble de données.

    Généralement, le nom court est une abréviation du nom complet de 
    l'ensemble données. Cet attribut est souvent utilisé pour afficher le nom de l'ensemble de
    données lorsque l’espace est limité.

5.  (Facultatif) Dans le champ **Code**, attribuez un code.

6.  Dans le champ **Description**, saisissez une description de l'ensemble de données.

7.  Indiquez le nombre de **Jours avant expiration**.

    Le nombre de jours avant expiration contrôle le temps
    disponible pour saisir des données dans l'application **Saisie de données** pour cet ensemble de données.
    Les jours avant expiration désignent le nombre de jours après la fin de la
    période de saisie de données sélectionnée pendant laquelle le formulaire de saisie de données reste ouvert
    pour la saisie. Une fois le nombre de jours écoulé, l'ensemble de données sera
    verrouillé pour des saisies supplémentaires.

    Vous pouvez définir des exceptions manuelles à l'aide de la fonction d'exception 
    de verrouillage dans l'application **Administration des données**.

    > **Note**
    >
    > To allow data entry into all possible historical time periods, set
    > the number of expiry days to zero.

8.  Si vous voulez que des données puissent être saisies pour des périodes futures, entrez
    le nombre de périodes dans le champ **Périodes futures pour la saisie des données**
     

    La valeur est le nombre de périodes futures disponibles pour la 
    saisie de données.

    Pour un ensemble de données à base mensuelle, une valeur de 2 vous permet de saisir des données pour 2
    mois à l'avance. Cette fonction peut être utilisée, par exemple, pour la population,
    des données cibles et de planification.

9.  Dans le champ **Jours accordés après le délai pour saisir des données**,
    entrez le nombre de jours encore disponibles pour la saisie des données.
     

    Pour vérifier le nombre de rapports soumis à temps, allez dans **Rapports** 
    \> **Résumé du taux de déclaration**.

10. Sélectionnez un **Type de période**.

    Le type de période définit la fréquence des rapports pour 
    l'ensemble de données concerné. La fréquence peut être quotidienne,
    trimestrielle ou annuelle.

11. Sélectionnez une **Combinaison de catégories** pour l'attribuer à l'ensemble de données.

    > **Tip**
    >
    > Click **Add new** to create category combinations that you're
    > missing. In the form that opens, create the category combinations
    > you need. When you're done, click **Refresh values**.

12. Si vous avez sélectionné une combinaison de catégories autre que **Aucune**,
    vous pouvez entrer zéro ou un nombre positif pour **Périodes disponibles après
    la date de fin de l’option de catégorie**. Cela vous permet de saisir des données dans cet ensemble de
    données pour une option de catégorie jusqu'au nombre de périodes spécifié
    après la date de fin de cette option de catégorie.

13. Dans la liste **Destinataires de notifications complètes**, sélectionnez un groupe
    d'utilisateurs qui doit recevoir un message lorsque l'ensemble de données est marqué
    "terminé" dans l'application **Saisie de données**.

    Le message est transmis via le système de messagerie de DHIS2.

14. Si vous voulez que l'utilisateur qui a saisi les données reçoive un message lorsque
    l'ensemble de données est marqué "terminé" dans l'application **Saisie de données**, sélectionnez
    **Envoyer une notification à l'utilisateur ayant saisi les données**.

    Le message est transmis via le système de messagerie de DHIS2.

15. Si nécessaire, sélectionnez un ** Flux d'approbation des données**.

16. Si vous voulez rendre possible l'utilisation de l'ensemble de données dans l'application
    mobile DHIS2 Java, sélectionnez **Activer pour Java mobile client**.

17. Si vous voulez rendre obligatoire le fait de renseigner toutes les valeurs d'un élément de données
    lors de la saisie des données si une ou plusieurs valeurs ont été renseignées, sélectionnez **Tous
    les champs sont obligatoires pour les éléments de données**.

    Cela signifie que si vous entrez une valeur de données pour un élément de données dans un
    champ de saisie (c'est-à-dire pour une combinaison d'options de catégorie), vous
    devez entrer des données pour tous les champs appartenant à cet élément de données (c'est-à-dire
    toutes les combinaisons d’options de catégorie).

18. Si vous voulez rendre possible le marquage d'un formulaire de saisie comme "terminé"
    seulement si ce formulaire est validé, sélectionnez **Terminé
    seulement après validation**.

    Si vous sélectionnez cette option, vous ne pouvez pas marquer le formulaire comme "terminé" 
    en cas d'échec de la validation.

19. Si vous voulez rendre obligatoire un commentaire justificatif de 
    l'absence d'une valeur de donnée, sélectionnez **Valeurs manquantes nécessitent
    un commentaire**

20. (Facultatif) Attribuez une ou plusieurs **Légendes**.

21. Le cas échéant, sélectionnez **Ignorer hors ligne**.

    Cette option contrôle si ce formulaire de saisie de données doit être
    téléchargé et enregistré sur le navigateur de l'utilisateur. Normalement, vous 
    ne devez pas sélectionner **Ignorer hors ligne**. C'est le paramètre par défaut. Si
    vous disposez de formulaires volumineux qui sont rarement utilisés, pensez à sélectionner
    cette option afin d'accélérer le chargement initial dans le module de saisie de données.

22. Le cas échéant, sélectionnez **Décoration des éléments de données**.

    Si vous sélectionnez cette option, les descriptions des éléments de données apparaissent 
    sous forme de call-outs dans les ensembles de données téléchargés en mode hors ligne dans l'application **Saisie 
    de données**.

23. Le cas échéant, sélectionnez **Afficher les sections sous forme d'onglets**.

    Cette option n'est applicable qu'aux formulaires à sections. Elle vous permet
    d'afficher chaque section sous forme d'onglet horizontalement au-dessus de l'ensemble de données.
    Ceci est utile avec les ensembles de données longs car les sections appropriées
    pourront être sélectionnées rapidement sans avoir à parcourir tout le formulaire.

24. Le cas échéant, sélectionnez **Afficher verticalement**.

    Cette option n'est applicable qu'aux formulaires à sections.

25. Sélectionnez des éléments de données et attribuez-les.

    Vous pouvez remplacer la combinaison de catégories pour chaque ensemble de données sélectionné
    en cliquant sur l'icône d'engrenage au-dessus de la liste des éléments de données 
    sélectionnées. Cela vous permet d'utiliser une combinaison de catégories spécifique
    (désagrégation) dans l'ensemble de données actuel au lieu de la combinaison 
    de catégories associée directement à l’élément de données lui-même.

26. Sélectionnez des indicateurs et attribuez-les.

27. Dans l'arborescence des unités d'organisation, sélectionnez les unités d'organisation auxquelles vous
    voulez attribuer l'ensemble de données.

    > **Tip**
    >
    >   - Click **Organisation unit level** to select all organisation
    >     units that belong to a certain organisation level.
    >
    >   - Click **Organisation unit group** to select all organisation
    >     units that belong to a certain organisation unit group.

28. Cliquez sur **Sauvegarder**.

Vous pouvez maintenant utiliser l'ensemble de données dans l'application **Saisie de données** pour les unités d'organisation auxquelles vous l'avez attribué et pour les périodes selon la fréquence sélectionnée (type de période).

### Créer ou modifier la notification d'un ensemble de données { #create_data_set_notification } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Notification d'ensemble 
    de données**.

2.  Cliquez sur le bouton Ajouter.

#### Ce qu'il faut envoyer { #what-to-send } 

![](resources/images/datasets/dataset_notification_create.png)

1.  Dans le champ **Nom**, entrez le nom de la notification de l'ensemble 
    notification.

2.  (Facultatif) Dans le champ **Code**, attribuez un code.

3.  Saisissez **Ensembles de données**.

    Ces ensembles de données seront associés à cette notification. Au cas où aucun
    d'entre eux n'est complété pour une période et une unité d'organisation spécifiques,
    une notification sera générée par le système.

    > **Note**
    >
    > Nothing will happen if no data set is selected

4.  Dans la section **Modèle de message**, nous avons deux paramètres.

      - **Modèle d'objet**: objet de la notification envoyée.
        Il peut contenir des valeurs de la liste des variables
        disponible sur le côté droit.

      - **Modèle de message** : message contenu dans la notification envoyée. Il peut
        contenir des valeurs de la liste des variables disponible sur le côté 
        droit.

    > **Note**
    >
    > Subject is only relevant in case of Email and internal DHIS2
    > messages. It is ignored in case of SMS.

#### Quand faut-il l'envoyer ? { #when-to-send } 

![](resources/images/datasets/when_to_send.png)

1.  Le champ **Déclencheur de notification d'un ensemble de données** détermine quand envoyer la
    notification.

      - **Fin de l'ensemble de données** déclenchera une notification dès que
        l'ensemble de données sera achevé.

      - **Jours programmés** programmera des notifications en fonction du nombre de jours
        par rapport à la date programmé. La date programmé sera fixée en fonction de la 
        Période associée à l'ensemble de données.

          - **Envoyer une notification sous forme de ** prévoit deux types de notification différents.
             

              - **Résumé collectif** envoie la notification en mode résumé

              - **Notification unique** envoie la notification en mode unique
                 

    > **Note**
    >
    > **Send notification as** option is only available in case of
    > scheduled notification. This option is set to default which is
    > **Single notification** in case of completion notification

#### À qui l'envoyer ? { #who-to-send } 

![](resources/images/datasets/who_to_send.png)

1.  Le champ **Destinataire de la notification** permet de déterminer les destinataires de la
    notification.

      - **Contact de l'unité d'organisation** enverra une notification au numéro
        attribué à l'unité d'organisation d'où les données ont été collectées.
         

      - **Groupe d'utilisateurs** enverra une notification à tous les membres du
        groupe d'utilisateurs sélectionné.

    > **Note**
    >
    > An internal DHIS2 message will be sent in case if recipient is
    > UserGroup. Moreover user will also receive SMS/EMAIL if phone
    > number and email address exist for that user and SMS/EMAIL
    > notifications are enabled in SystemSettings

### Remplacer les combinaisons de catégories d'éléments de données dans un ensemble de données { #override_dataelement_catcombo_in_dataset }

Vous pouvez changer la combinaison de catégories à utiliser pour un élément de données au sein d'un ensemble de données. Cela signifie qu'un élément de données peut utiliser différentes combinaisons de catégories au sein de différents ensembles de données. Ceci est utile lorsque vous voulez réutiliser un élément de données, car vous n'avez plus besoin de le reproduire pour obtenir plusieurs combinaisons de catégories.

Au cas où des régions au sein de votre hiérarchie d'unités d'organisation utilisent des désagrégations différentes, ou lorsque les désagrégations changent au fil du temps, vous pouvez représenter cela en créant des ensembles de données avec les combinaisons de catégories appropriées.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données que vous souhaitez modifier.

3.  Cliquez sur le menu Options et sélectionnez **Modifier**.

4.  Allez à la section des éléments de données et cliquez sur l'icône de clé.

5.  Sélectionnez de nouvelles combinaisons de catégories et cliquez sur **Fermer**.

6.  Cliquez sur **Sauvegarder**.

### Modifier les éléments de données obligatoires dans un ensemble de données { #edit_compulsory_dataelement_in_dataset } 

Vous pouvez ajouter ou supprimer des éléments de données qui seront marqués comme obligatoires lors de la saisie des données.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données que vous voulez modifier.

3.  Cliquez sur le menu Options et sélectionnez **Modifier les éléments de données obligatoires**.

4.  Attribuez les éléments de données obligatoires.

5.  Cliquez sur **Sauvegarder**.

### Télécharger les formulaires de données par défaut au format PDF { #download_defaultform_pdf } 

Vous pouvez télécharger une donnée par défaut au format PDF pour la saisie de données hors ligne.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'objet que vous voulez télécharger.

3.  Cliquez sur le menu Options et sélectionnez **Obtenir le PDF pour la saisie des données**.

### Gérer les formulaires à sections { #manage_section_form } 

#### Créer un formulaire à sections { #create-a-section-form } 

Les formulaires à sections sont divisés automatiquement par des combinaisons de catégories d'éléments de données, ce qui génère un formulaire de saisie semblable à un tableur pour chaque section.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous souhaitez créer un formulaire 
     

3.  Cliquez sur le menu Options et sélectionnez **Gérer les sections**.

4.  Cliquez sur le bouton Ajouter.

5.  (Facultatif) Dans le champ **Nom**, saisissez le nom de la section.

6.  (Facultatif) Dans le champ **Description**, saisissez une description pour la 
    section.

7.  (Facultatif) Pour afficher les totaux des lignes dans le formulaire à sections lors 
    de la saisie des données, sélectionnez **Afficher les totaux des lignes**.

8.  (Facultatif) Pour afficher les totaux des colonnes dans le formulaire à sections lors 
    de la saisie des données, sélectionnez **Afficher les totaux des colonnes**.

9.  (Facultatif) Afin d'éviter le regroupement automatique d'éléments de données avec la même combinaison de catégories,
    sélectionnez **Désactiver le regroupement automatique des éléments de données**. Cela permet de maintenir l'ordre des éléments de données
    quelles que soient les combinaisons de catégories.

10.  Attribuer des éléments de données à la section :

    1.  (Facultatif) Sélectionnez un **Filtre de combinaison de catégories**.

        > **Note**
        >
        > You can only use one category combination per section.


        | Options | Descriptif |
        |---|---|
        | **Aucun** | Affiche tous les éléments de données qui n'ont pas de combinaison de catégories. |
        | **<Sans filtre\>** | Affiche tous les éléments de données. |

    2. Sélectionnez les éléments de données et attribuez-les.

11. (Facultatif) Triez les éléments de données de la section en utilisant les flèches haut
    et bas situées à gauche du champ des éléments de données attribués.

12. Cliquez sur **Sauvegarder**.

13. Répétez les étapes d'ajout de sections pour chaque section que vous voulez avoir dans votre 
    formulaire à sections.

    Dans l'application **Saisie de Données**, vous pouvez désormais utiliser le formulaire à sections. Le
    formulaire à sections apparaît automatiquement lorsque des sections sont disponibles pour
    l’ensemble de données sélectionné. Les ensembles de données comportant des formulaires à sections afficheront
    automatiquement le formulaire à sections.

Notez comment chaque catégorie d'éléments de données est mise dans une section distincte, et comment un tableau de saisie des données est automatiquement généré par le système. L'utilisation de formulaires à sections en combinaison avec des catégories d'éléments de données peut réduire considérablement le temps nécessaire à la création de formulaires de saisie de données pour les ensembles de données.


![](resources/images/dhis2UserManual/section_form.png)

#### Modifier un formulaire à sections { #edit-a-section-form } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous voulez modifier le formulaire à sections.
     

3.  Cliquez sur le menu Options et sélectionnez **Gérer les sections**.

4.  Dans la liste, cherchez la section que vous souhaitez modifier.

5.  Cliquez sur le menu Options et sélectionnez **Modifier**.

6.  Modifiez la section et cliquez sur **Sauvegarder**.

7.  Répétez les étapes de modification de section pour chaque section que vous souhaitez éditer.

#### Gérer les champs gris dans un formulaire à sections { #manage-grey-fields-in-a-section-form } 

Vous pouvez désactiver les éléments de données et les options de catégories pour la saisie des données. Cela signifie qu'il sera impossible de saisir des données dans ces champs lors de la saisie des données.

![](resources/images/datasets/section_form_grey_fields.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous voulez modifier le formulaire à sections.
     

3.  Cliquez sur le menu Options et sélectionnez **Gérer les sections**.

4.  Dans la liste, cherchez la section que vous souhaitez modifier.

5.  Cliquez sur le menu Options et sélectionnez **Gérer les champs gris**.

6.  Sélectionnez les champs que vous souhaitez désactiver.

    > **Note**
    >
    > If you've sections that contain data elements assigned to multiple
    > category combinations, switch between the category combinations to
    > view all fields.

7.  Cliquez sur **Sauvegarder**.

#### Modifier l'ordre d'affichage des sections dans un formulaire à sections { #change-section-display-order-in-a-section-form } 

Vous pouvez contrôler l'ordre dans lequel les sections sont affichées dans un formulaire à sections.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous voulez modifier le formulaire à sections.
     

3.  Cliquez sur le menu Options et sélectionnez **Gérer les sections**.

4.  Dans la liste, cherchez la section que vous souhaitez déplacer.

5.  Cliquez sur le menu Options et sélectionnez **Déplacer vers le haut** ou **Déplacer vers le bas**.

    Si la section que vous voulez déplacer est la première ou la dernière section de la 
    liste, vous ne verrez qu’une seule des options de déplacement.

#### Supprimer une section dans un formulaire à sections { #delete-a-section-in-a-section-form } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous voulez modifier le formulaire à sections.
     

3.  Cliquez sur le menu Options et sélectionnez **Gérer les sections**.

4.  Dans la liste, cherchez la section que vous souhaitez supprimer.

5.  Cliquez sur le menu Options et sélectionnez **Supprimer**.

#### Traduire une section dans un formulaire à sections { #translate-a-section-in-a-section-form } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données** \> **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous voulez modifier le formulaire à sections.
     

3.  Cliquez sur le menu Options et sélectionnez **Traduire**.

4.  Sélectionnez un emplacement.

5.  Entrez les informations requises.

6.  Cliquez sur **Fermer**

### Gérer les formulaires personnalisés { #manage_customform } 

#### Créer un formulaire personnalisé { #create-a-custom-form } 

Les formulaires personnalisés sont conçus dans un éditeur HTML WYSIWYG intégré. Si vous sélectionnez **Source**, vous pouvez coller le code HTML directement dans la zone d'édition. Pour obtenir un guide complet sur l'utilisation de l'éditeur, voir <http://docs.ckeditor.com/>.


![](resources/images/datasets/data_set_custom_form_create.png)

Pour créer un formulaire personnalisé :

1.  Ouvrez l'application **Maintenance** et cliquez sur **Ensemble de données**.

2.  Dans la liste, cherchez l'ensemble de données pour lequel vous souhaitez ajouter un formulaire personnalisé.

3.  Cliquez sur le menu Options et sélectionnez **Concevoir le formulaire de saisie**.

4.  Dans la zone d'édition, créez le formulaire personnalisé.

      - Double-cliquez sur un objet dans la liste de gauche pour l'insérer dans 
        le formulaire.

      - Si vous avez déjà le code HTML de votre formulaire, cliquez sur 
        **Source** et collez le code.

5.  Sélectionnez un **Style d'affichage du formulaire**.

6.  Cliquez sur **Sauvegarder**.

#### Scripting dans les formulaires personnalisés { #scripting-in-custom-forms }

Dans le formulaire de saisie de données personnalisées, vous pouvez utiliser JavaScript pour créer un comportement dynamique et des personnalisations. Par exemple, vous pouvez masquer les sections du formulaire qui contiennent des entrées spécifiques de l'utilisateur pour les éléments de données, ou afficher des informations spécifiques lors du chargement d'un formulaire.

##### Événements { #events } 

Le module de saisie de données de DHIS2 fournit une série d'événements auxquels vous pouvez vous inscrire et que vous pouvez utiliser pour effectuer des actions à certains moments. Les événements sont enregistrés sur l'élément du document. L'objet d'événement jQuery et l'identifiant de l'ensemble de données sont toujours les deux premiers arguments fournis aux fonctions de rappel. Le tableau ci-dessous donne un aperçu des événements ainsi que du moment où ils sont déclenchés.



Tableau : Événements de saisie des données

| Clé | Description | Arguments |
|---|---|---|
| dhis2.de.event.formLoaded | Déclenché après la création du formulaire de saisie de données, mais avant que les valeurs des données ne soient définies dans les champs de saisie. | Événement &#124; ID de l'ensemble de données |
| dhis2.de.event.dataValuesLoaded | Déclenché après la définition des valeurs de données dans les champs de saisie. | Événement &#124; ID de l'ensemble de données |
| dhis2.de.event.formReady | Déclenché lorsque le formulaire de saisie de données est entièrement rendu et chargé avec tous les éléments. | Événement &#124; ID de l'ensemble de données |
| dhis2.de.event.dataValueSaved | Déclenché lorsqu'une valeur de données est enregistrée avec succès. | Événement &#124; ID de l'ensemble de données &#124; Objet de valeur de données |
| dhis2.de.event.completed | Déclenché lorsqu'un ensemble de données est marqué comme complet. | Événement &#124; ID de l'ensemble de données &#124; Objet d'inscription complet |
| dhis2.de.event.validationSuccess | Déclenché lorsque la validation est effectuée et qu'il n'y a pas eu de violation. | Événement &#124; ID de l'ensemble de données |

Pour s'inscrire à un événement :

    <script type="text/javascript">

    dhis2.util.on( 'dhis2.de.event.formReady', function( event, ds ) {
      console.log( 'The form with id: ' + ds + ' is loaded!' );
    } );

    dhis2.util.on( 'dhis2.de.event.dataValueSaved', function( event, ds, dv ) {
      console.log( 'Data value: ' + dv.value + ' was saved with data element: ' + dv.de );
    } );

    dhis2.util.on( 'dhis2.de.event.completed', function( event, ds, cr ) {
      console.log( 'Form was completed for org unit: ' + cr.ou );
    } );

    </script>

> **N.B.**
>
> Veillez à n'utiliser que des événements à "noms espacés" comme ceux de l'exemple ci-dessus et non des événements généraux comme "clic" car la méthode dhis2.util.on révoque d'abord l'enregistrement de l'événement.
>>

Si votre fonction ne s'applique qu'à certains ensembles de données, vous pouvez utiliser l'identificateur d'ensemble de données fourni et raccourcir votre fonction pour les ensembles de données indésirables comme celui-ci :

    dhis2.de.on( 'dhis2.de.event.validationSuccess', function( event, ds ) {
      if ( $.inArray( ds, ['utXOiGbEj14', 'Re7qzHEThSC'] ) == -1 ) {
        return false;
      }
      console.log( 'Form with id: ' + ds + ' validated successfully!' );
    } );

Les identificateurs des champs de saisie du formulaire de saisie sont au format décrit ci-dessous. Ce format peut être utilisé pour sélectionner les champs de saisie dans votre script et effectuer des actions sur ceux-ci :

    <dataelementid>-<optioncomboid>-val

Étant donné que l'identifiant de l'ensemble de données est fourni pour tous les événements, une alternative possible consiste à utiliser la ressource API Web "Fichiers" et à conserver vos fonctions de rappel dans un seul fichier, où vous laissez le code JavaScript agir en fonction de l'ensemble de données actuellement chargé.

##### Fonctions { #functions } 

Le module de saisie de DHIS2 contient des fonctions API JavaScript auxquelles on peut accéder à partir de formulaires de saisie personnalisés.

**dhis2.de.api.getSelections**: Cette fonction renvoie un objet JavaScript contenant des propriétés pour toutes les dimensions avec des valeurs correspondantes pour les identificateurs des options sélectionnées. Cet objet contient des propriétés pour "ds" (ensemble de données), "pe" (période), "ou" (unité d'organisation) et des identificateurs pour toutes les catégories d'ensembles de données.

Voici un exemple de réponse :

    {
     +  ds: "lyLU2wR22tC",
     +  pe: "201605",
     +  ou: "g8upMTyEZGZ",
     +  LFsZ8v5v7rq: "CW81uF03hvV",
     +  yY2bQYqNt0o: "yMj2MnmNI8L"
     +}

Exemple d'utilisation de cette fonction en JavaScript :

    var sel = dhis2.de.api.getSelections();
     +var orgUnit = sel["ou"];
     +var partner = sel["LFsZ8v5v7rq"];

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gestion des indicateurs { #manage_indicator } 

### À propos des indicateurs { #about_indicator } 

Un indicateur est une formule qui peut être composée de plusieurs éléments de données, de constantes, du nombre de groupes d'unités d'organisation et d'opérateurs mathématiques. L'indicateur est composé généralement d'un numérateur et d'un dénominateur. Les indicateurs permettent de calculer les taux de couverture, l'incidence et d'autres valeurs qui sont le résultat des valeurs d'éléments de données saisies dans le système. Les totaux calculés n'ont pas de dénominateur.

> **N.B.**
>
> Ne saisissez jamais les valeurs des indicateurs directement dans DHIS2, calculez-les.

Une formule d'indicateur peut être composée d'opérateurs mathématiques, par exemple des plus (+) et des moins (-), de fonctions (voir ci-dessous) et des éléments suivants :



Tableau : Éléments de l'indicateur

| Élément de l'indicateur | Type | Description |
|---|---|---|
| Constante | Composante | Les constantes sont des valeurs numériques qui restent inchangées pour tous les calculs d'indicateurs. Ainsi, c'est seulement en un endroit que vous aurez à modifier les valeurs qui pourraient changer au fil du temps.<br> <br>Les constantes sont appliquées APRÈS l'agrégation des valeurs des éléments de données. |
| Des éléments de données | Composante | Les éléments de données sont remplacés par la valeur de données saisie pour l'élément de données. |
| Jours | Opérateur | "Jours" est un opérateur spécial qui fournit toujours le nombre de jours pour un calcul d'indicateur donné.<br> <br> Par exemple : si vous voulez calculer le "Pourcentage de temps où le réfrigérateur à vaccins n'était pas fonctionnel", vous pouvez définir le numérateur comme suit :<br> <br>("Jours-"Nombre de jours où le réfrigérateur à vaccins était disponible"")/"Jours"<br> <br>Si le réfrigérateur était disponible pendant 25 jours en juin, l'indicateur sera calculé comme suit : <br> <br>(30-25/25)\*100 = 17 %<br><br>Si vous voulez calculer le total pour le premier trimestre, le nombre de jours ("Jours") serait :<br> <br>31+28+31 = 90 <br> <br>Le paramètre "Jours" sera toujours le nombre de jours pendant la période étudiée. |
| Nombre d'unités d’organisation | Composante | Vous pouvez utiliser des groupes d'unités d'organisation dans les formules. Ils seront remplacés par le nombre d'unités d'organisation contenues dans le groupe. Lors de l'agrégation, les unités d'organisation du groupe seront croisées avec la partie de la hiérarchie des unités d'organisation requise.<br> <br>Vous pouvez ainsi utiliser le nombre d'équipements publics d'un district spécifique dans les indicateurs. Cela est utile, par exemple, lorsque vous réalisez des enquêtes et produisez des rapports sur l'infrastructure des établissements. |
| Programmes | Composante | Cliquez sur **Programmes** et sélectionnez un programme pour afficher tous les éléments de données, attributs et indicateurs liés à ce programme.<br> <br>Les composants du programme que vous incluez dans votre formule se verront attribuer une étiquette de programme. |

Vous pouvez utiliser les fonctions suivantes dans une formule d'indicateur :


Tableau : Fonctions des indicateurs

| Fonction de l'indicateur | Arguments | Description |
|---|---|---|
| si | (boolean-expr, true-expr, false-expr) | Évalue l'expression booléenne et, si elle est vraie, renvoie la valeur vraie de l'expression, si elle est fausse, renvoie la valeur fausse de l'expression. Les arguments doivent respecter les règles pour toute expression d'indicateur. |
| est | (expr1 in expression [, expression ...]) | Renvoie vrai si expr1 correspond à l’une des expressions suivantes. Dans le cas contraire, elle renvoie faux. |
| isNull | (élément) | Renvoie vrai si la valeur de l'élément est manquante (nulle), sinon faux. |
| isNotNull | (élément) | Renvoie vrai si la valeur de l'élément n'est pas manquante (non nulle), sinon faux. |
| firstNonNull | (élément [, élément ...]) | Renvoie la valeur du premier élément non manquant (non nul). Le nombre d'arguments n'a pas de limite. Tout argument peut également être un texte numérique ou de chaîne, qui sera renvoyé si tous les objets précédents ont des valeurs manquantes. |
| plus grand | (expression [, expression ...]) | Renvoie la plus grande valeur (la plus élevée) des expressions données. Le nombre d'arguments n'a pas de limite. |
| moins | (expression [, expression ...]) | Renvoie la plus petite des valeurs des expressions données. Le nombre d'arguments n'a pas de limite. |
| journal | (expression [, base ]) | Renvoie le logarithme naturel (base e) de l'expression numérique. Si un entier est donné comme second argument, renvoie le logarithme en utilisant cette base. |
| log10 | (expression) | Renvoie le logarithme commun (base 10) de l'expression numérique. |
| nulle | | Ne renvoie aucun résultat. Par exemple, _si( #{FH8ab5Rog83}<0, null, 1 )_ ne renvoie rien si la valeur de l'élément de données est inférieure à 0, dans le cas contraire renvoie 1. |
| supprimerlLesZéros | (expression) | Ne renvoie rien si la valeur de l'expression est 0, au cas contraire, renvoie la valeur de l'expression. |
| sousExpression | (expression) | Évalue une partie d’une expression avant de l’agréger. Voir les SousExpressions d'indicateur ci-dessous. |
| [périodeDeL'année] | | Le numéro de cette période dans l'année (1, 2, 3, ...). Pour obtenir des exemples, voir la section de l'indicateur Depuis-le-début-de-l’année ci-dessous. |
| [ComptagePériodeannuelle] | | Le nombre de périodes de ce type dans l'année. Pour obtenir des exemples, voir la section de l'indicateur Depuis-le-début-de-l’année ci-dessous. |
| .Typed'agrégation | (type d'agrégation) | Remplace le type d'agrégation d'éléments de données par défaut pour les données agrégées (pas pour des données de programme). |
| .Datemax | (aaaa-mm-jj) | Pour un élément de données (pas pour des données de programme), il s'agit d'une valeur pour des périodes se terminant à une date maximum ou avant.  |
| .Datemin | (aaaa-mm-jj) | Pour un élément de données (pas pour des données de programme), il s'agit d'une valeur pour des périodes commençant à une date minimum ou avant. |
| .periodOffset (décalageDePériode) | (constante en entier) | Placé après une valeur de données ou une expression, renvoie la valeur d'une période décalée par rapport à la période déclarée. Il peut être imbriqué. Voir les exemples ci-dessous. |
| .annéeEnCours() | | Additionne les valeurs de toutes les périodes depuis le début de l'année jusqu'à la période en cours. Notez que toute période hebdomadaire est considérée comme faisant partie de l’année en cours si elle compte quatre jours ou plus dans l’année. Vous trouverez des exemples, dans la section "Indicateur Année-en-cours" ci-dessous. |

Types d'agrégation valides :

| Type d'agrégation | Description |
|---|---|
| MOYENNE | Valeur moyenne dans la hiérarchie des périodes et des unités d'organisation |
| MOYENNE_SOMME_UNITÉS_D'ORGANISATION | Valeur moyenne, somme dans la hiérarchie des unités d'organisation |
| COMPTAGE | Nombre de valeurs |
| PREMIÈRE | Première valeur, somme dans la hiérarchie des unités d'organisation |
| PREMIÈRE_MOYENNE_UNITÉS_D'ORGANISATION | Première valeur, moyenne dans la hiérarchie des unités d'organisation |
| DERNIÈRE | Dernière valeur, somme dans la hiérarchie des unités d'organisation |
| DERNIÈRE_MOYENNE_UNITÉS_D'ORGANISATION | Dernière valeur, moyenne dans la hiérarchie des unités d'organisation |
| DERNIÈRE_DANS_LA PÉRIODE | Dernière valeur dans la période, somme dans la hiérarchie des unités d'organisation
| DERNIÈRE_DANS_LA PÉRIODE_MOYENNE_UNITÉS_D'ORGANISATION | Dernière valeur dans la période, moyenne dans la hiérarchie des unités d'organisation |
| MAXIMALE | Valeur maximale |
| MINIMALE | Valeur minimale |
| AUCUNE | Aucune agrégation n'est effectuée dans aucune dimension |
| SOMME | Somme des valeurs dans la hiérarchie des périodes et des unités d'organisation |
| STDEEV | Écart type (basé sur la population) des valeurs |
| VARIATION | Variation (basée sur la population) des valeurs |

Exemples de fonctions .typeD'agrégation, .dateMaximale, .dateMinimale et .periodOffset :

| Expression d'indicateur            | Signification                                           |
| ------------------------------- | ----------------------------------------------- |
| #{FH8ab5Rog83}.Type d'agrégation(COMPTE) | nombre de valeurs |
| #{FH8ab5Rog83}.Type d'agrégation(DERNIÈRE) - #{FH8ab5Rog83}.Type d'agrégation(PREMIÈRE) | la différence entre la première et la dernière valeur |
| #{FH8ab5Rog83}.maxDate(2021-6-30) | valeurs jusqu'au 30-juin-2021 |
| #{FH8ab5Rog83}.minDate(2021-1-1) | valeurs à partir du 1er janvier 2021 |
| #{FH8ab5Rog83}.minDate(2021-1-1)<br />.maxDate(2021-6-30) | valeurs entre le 1er janvier 2021 et le 30 juin 2021 |
| #{FH8ab5Rog83}.periodOffset(-1) | valeur de la période précédente |
| #{FH8ab5Rog83}.periodOffset(+1) | valeur de la période suivante  |
| #{FH8ab5Rog83}.periodOffset(1)  | valeur de la période suivante  |
| #{FH8ab5Rog83} - 2 * D{IpHINAT79UW.uf3svrmp8Oj}.periodOffset(-1)  | l'élément de données FH8ab5Rog83 de la période de déclaration moins deux fois l'élément de données de programme IpHINAT79UW.uf3svrmp8Oj de la période précédente |
| ( #{FH8ab5Rog83} - <br /> #{QOlfIKgNJ3D2} ).periodOffset(-2) | l'élément de données FH8ab5Rog83 de 2 périodes précédentes moins l'élément de données QOlfIKgNJ3D2 de 2 périodes précédentes |
| #{FH8ab5Rog83}.periodOffset(-2) + <br /> #{FH8ab5Rog83}.periodOffset(-1) | l'élément de données FH8ab5Rog83 de 2 périodes précédentes plus la valeur de 1 période précédente |
| ( #{FH8ab5Rog83}.periodOffset(-1) + <br /> #{FH8ab5Rog83} ).periodOffset(-1) | l'élément de données FH8ab5Rog83 de 2 périodes précédentes plus la valeur de 1 période précédente (notez que les fonctions sont imbriquées) |

### SousExpressions d'indicateur { #indicator_subexpressions }

Lors de la récupération de données pour un élément de données, les indicateurs agrègent généralement les données avant de les évaluer dans l'expression. Prenons l'exemple de l'expression d'indicateur suivant :

    si( #{nYahlae7fe6} > 10, 1, 0 )

Si l'élément de données a un type d'agrégation SOMME, toutes les valeurs de l'élément de données seront additionnées nYahlae7fe6 pour la période concernée. Ensuite, un test sera effectué pour vérifier si la somme est supérieure à 10. L'indicateur renverra 1 si la somme de toutes les valeurs de l'élément de données est supérieure à 10, sinon il renverra 0.

Il se peut vous vouliez évaluer une valeur de données dans une expression avant de l'agréger. Par exemple, vous pouvez vouloir afficher au niveau du district le nombre d'établissements qui ont une valeur de données supérieure à 10. Pour ce faire, vous pouvez utiliser la fonction `sousExpression` comme suit :

    sousExpression (si ( #{nYahlae7fe6} > 10, 1, 0 ) )

Chaque valeur d'élément de données sera testée pour vérifier si elle est supérieure à 10. Si elle est supérieure à 10, la commande _si_ renverra 1, sinon 0. Ensuite, en supposant que l'élément de données nYahlae7fe6 ait un type d'agrégation SOMME, il additionnera les éléments en 1 et en 0, ce qui donnera le nombre total d'éléments de données ayant une valeur supérieure à 10.

Remarques sur les SousExpressions :

1. Un exemple tel que celui ci-dessus additionnera les éléments en 1 et en 0 seulement si l'élément de données a un type d'agrégation SOMME. Si l'élément de données a un type d'agrégation différent et que vous voulez additionner les éléments en 1 et en 0, vous pouvez remplacer le type d'agrégation dans la sous-expression en utilisant la fonction `.Typed'agrégation()` comme suit :

       sousExpression( si( #{nYahlae7fe6} > 10, 1, 0 ) ).Typed'agrégation(SOMME)

2. Une SousExpression ne peut mentionner qu'un seul élément de données, mais elle peut le mentionner plusieurs fois. Par exemple :

       sousExpression( si( #{nYahlae7fe6} > 10 && #{nYahlae7fe6} <= 20, 1, 0 ) )

3. Une sous-expression peut mentionner un élément de données avec une combinaison d'options de catégorie et/ou une combinaison d'options d'attributs, mais il doit s'agir exactement de la même mention à chaque fois. Par exemple :

       sousExpression( si( #{nYahlae7fe6.beec4Dewah8} > 10 && #{nYahlae7fe6.beec4Dewah8} <= 20, 1, 0 ) )

4. Si vous voulez évaluer une expression avant une agrégation qui implique d'autres types de données telles que des données de programme, ou qui implique plus d'un élément de données, plus d'une combinaison d'options de catégorie ou plus d'une combinaison d'options d'attributs, vous pouvez utiliser un Prédicteur pour le faire et enregistrer le résultat en tant qu'élément de données différent. Vous pouvez ensuite mentionner l'élément de données prédit dans un indicateur ou directement dans les analyses.

### Indicateur Année-en-cours { #indicator_yeartodate }

Les indicateurs peuvent calculer les valeurs de l'année-en-cours à l'aide des éléments d'expression _annéeEnCours()_, _[périodeDeL'année]_ et _[comptagePériodeAnnuelle]_.

Dans les exemples ci-dessous, #{a} peut être : #{UIDelementDeDonnées}, ou tout autre élément d'expression d'indicateur valide qui renvoie une valeur de données telle que #{UIDelementDeDonnées.UidcomboOptionCat}, I{UIDindicateurDeProgramme}, N{UIDindicateur}, etc.

| Expression d'indicateur | Signification |
| --- | --- |
| #{a} | valeur de la période en cours |
| #{a}.annéeEnCours() | somme des valeurs depuis le début de l'année. Par exemple, si la période est Mars, la valeur fournie couvre janvier+fév+mars.  |
| #{a}.annéeEnCours() / [périodeDeL'année] | valeur moyenne de l'année-en-cours. Par exemple, si la période est Mars, la valeur fournie est celle de janvier + février + mars / 3. |
| #{a} - <nobr>#{a}.année-en-cours()</nobr> / [périodeDeL'année] | différence entre la période en cours et la moyenne de l'année en cours |
| #{b} * [périodeDeL'année] / [comptagePériodeAnnuelle] | Si #{b} représente la population cible pour une année (par exemple, le nombre de personnes qui devraient être vaccinées au cours de cette année), alors cela peut indiquer le nombre de personnes qui devraient être vaccinées jusqu'à la période actuelle. Par exemple, en février cela donne #{b} * 2 / 12.

#### Remarques sur le [comptagePériodeAnnuelle] { #notes-on-yearlyperiodcount }

Pour les périodes mensuelles, [comptagePériodeAnnuelle] est toujours 12, pour les trimestres 4, etc. Il y a deux avantages à utiliser [comptagePériodeAnnuelle] plutôt que des nombres en codage dur comme 12 ou 4.

1. Pour les périodes hebdomadaires, [comptagePériodeAnnuelle] sera 52 ou 53 selon l'année. Pour les périodes bihebdomadaires (ou couvrant deux semaines), ce sera 26 ou 27.

2. Si l'utilisateur choisit un type de période différent dans les analyses, [périodeDeL'année] et [comptagePériodeAnnuelle] s'ajusteront en conséquence. Par exemple, si des données mensuelles sont collectées, l'utilisateur peut choisir de les rapporter mensuellement où [périodeDeL'année] est 1 : Janv, 2: Fév, ..., et [comptagePériodeAnnuelle] est 12 ; ou l'utilisateur peut choisir de les rapporter trimestriellement où [périodeDeL'année] est 1 : T1, 2: T2, ..., et [comptagePériodeAnnuelle] est 4.

#### Remarques sur les données manquantes { #notes-on-missing-data }

.annéeEnCours() renvoie une valeur s'il y a des données dans l'année avant ou au cours la période.
Par exemple, si les valeurs de #{a} sont :

    Janvier : (pas de données)
    Février : 1
    Mars : 2
    Avril : (pas de données)
    Mai : 3
    Juin : (pas de données)

alors les valeurs de #{a}.annéeEnCours() sont :

    Janvier : (pas de données)
    Février : 1
    Mars : 3
    Avril : 3
    Mai : 6
    Juin : 6

<br />

Dans l'application **Maintenance**, vous pouvez gérer les objets d'indicateurs suivants :



Tableau : Objets d'indicateur dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Indicateur | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Type d'indicateur | Créer, modifier, cloner, supprimer, afficher les détails et traduire |
| Groupe d’indicateurs | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Ensemble de groupes d'indicateurs | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |

### Déroulement { #workflow_indicator } 

1.  Créer des types d'indicateurs.

2.  Créer des indicateurs.

3.  Créer des groupes d'indicateurs.

4.  Créer des ensembles de groupes d'indicateurs.

### Créer ou modifier un type d'indicateur { #create_indicator_type } 

![](resources/images/maintenance/indicator_type_create.png)

Les types d'indicateurs définissent un facteur appliqué lors de l'agrégation. Les valeurs des indicateurs qui sont calculées lors d'une exportation d'un magasin de données ou lors d'un processus de génération de tableau de rapport apparaîtront dans le format approprié, et ne nécessiteront donc pas de multiplicateur supplémentaire (par exemple 100 si c'est un pourcentage) pour que les valeurs apparaissent dans le bon format.

> **N.B.**
>
> Depuis la version 2.4 de DHIS2, l'objet "Élément de donnée calculé" est devenu obsolète. À la place, vous pouvez créer un élément de donnée calculé en créant un type d'indicateur avec pour facteur "1" et en réglant l'option "Nombre" sur "Oui". Si vous réglez l'option "Nombre" sur "Oui", l'indicateur n'aura pas de dénominateur. Vous ne pourrez donc définir qu'un numérateur, qui servira de formule pour l'élément de donnée calculé. >>>>>>

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Type 
    d'indicateur**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, saisissez le nom du type d'indicateur, par
    exemple "Pour cent", "Pour mille", "Pour dix mille".

4.  Entrez un **Facteur**.

    Le facteur est le facteur numérique qui sera multiplié par la
    formule de l'indicateur lors du calcul de l'indicateur.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un indicateur { #create_indicator } 

![](resources/images/maintenance/indicator_create.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \>
    **Indicateur**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, saisissez le nom complet de l'indicateur, par
    exemple "Incidence des cas confirmés de paludisme pour 1000 habitants".

4.  Dans le champ **Nom court**, saisissez un nom abrégé de
    l'indicateur, par exemple "Inc conf. paludisme pour 1000 pop".

    Le nom court doit comporter au maximum 25 caractères,
    y compris les espaces.

5.  (Facultatif) Dans le champ **Code**, attribuez un code.

    Dans de nombreux pays, les indicateurs se voient attribuer un code.

5.  (Facultatif) Dans le champ **Couleur**, attribuez une couleur pour représenter l'indicateur.

5.  (Facultatif) Dans le champ **Icône**, attribuez une icône pour illustrer la signification de l'indicateur.

6.  Dans le champ **Description**, saisissez une description brève et informative
    de l’indicateur et comment il est calculé.

7.  Si vous voulez appliquer un facteur d'annualisation lors du calcul 
    de l'indicateur, sélectionnez **Annualisé**.

    Généralement, le numérateur d'un indicateur annualisé est multiplié par un
    facteur de 12, et le dénominateur est par exemple un chiffre
    annuel sur la population. Cela permet de calculer les valeurs portant sur la couverture mensuelle
    avec des chiffres annuels sur la population.

8.  Sélectionnez le nombre de **Décimales dans la sortie des données**.

9.  Sélectionnez un **Type d'indicateur**.

    Ce champ détermine un facteur qui sera automatiquement appliqué
    lors du calcul de l’indicateur. Les choix possibles sont
    déterminé par les types d’indicateurs. Par exemple, un indicateur de « Pourcentage »
    sera automatiquement multiplié par un facteur de 100 lors de 
    son exportation vers le magasin de données, afin qu'il s'affiche comme un pourcentage.

10. (Facultatif) Attribuez une ou plusieurs **Légendes**.

11. Dans le champ **URL**, saisissez un lien, par exemple un lien vers un
    registre d'indicateurs, où une description complète des métadonnées de
    l'indicateur peut être fournie.

12. (Facultatif) Entrez une **Combinaison d'options de catégorie pour l'exportation de données 
    agrégées**.

    Utilisez ce paramètre pour faire un mapping des données agrégées exportées sous forme de données brutes vers
    un autre serveur. Généralement, ce type de mapping d'échange de données est effectué
    lorsqu'on veut créer des données agrégées anonymes à partir de données de patients
    enregistrés dans les programmes (données d’événements).

13. (Facultatif) Entrez une **Combinaison d'options d'attributs pour l'exportation de 
    données agrégées**.

    Utilisez ce paramètre pour faire un mapping des données agrégées exportées sous forme de données brutes vers
    un autre serveur. Généralement, ce type de mapping d'échange de données est effectué
    lorsqu'on veut créer des données agrégées anonymes à partir de données de patients
    enregistrés dans les programmes (données d’événements).

14. Le cas échéant, entrez les valeurs des attributs personnalisés, par exemple
    **Classification** ou **Méthode de collecte**.

    > **Note**
    >
    > You create custom attributes in the **Maintenance** app: **Other**
    > \> **Attributes**.

15. Cliquez sur **Modifier le numérateur**.

    1.  Saisissez une description claire du numérateur.

    2.  Définissez le numérateur en double-cliquant sur les éléments du
        champ de droite. Ces éléments apparaitront alors comme faisant partie de la
        formule dans le champ de gauche. Ajoutez des opérateurs mathématiques en
        double-cliquant sur les icônes situées sous le champ de gauche.

        Votre formule doit être mathématiquement valide. Cela inclut l'utilisation
        correcte des parenthèses si nécessaire.

    3.  Cliquez sur **Terminé** pour sauvegarder toutes les modifications apportées au numérateur.

16. Cliquez sur **Modifier le dénominateur**.

    1.  Saisissez une description claire du dénominateur.

    2.  Définissez le dénominateur en double-cliquant sur les éléments du
        champ de droite. Ces éléments apparaitront alors comme faisant partie de la
        formule dans le champ de gauche. Ajoutez des opérateurs mathématiques en
        double-cliquant sur les icônes situées sous le champ de gauche.

        Votre formule doit être mathématiquement valide. Cela inclut l'utilisation
        correcte des parenthèses si nécessaire.

    3.  Cliquez sur **Terminé** pour enregistrer toutes les modifications apportées au dénominateur.

17. Le cas échéant, sélectionnez les ensembles de groupes d'indicateurs obligatoires, par exemple 
    **Ressources humaines**.

    > **Note**
    >
    > You'll only see indicator group sets in this form if you've
    > created them and set them to **Compulsory**.
    >
    > You create indicator group sets in the **Maintenance** app:
    > **Indicator** \> **Indicator group set**.

18. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'indicateurs { #create_indicator_group } 

![](resources/images/maintenance/indicator_group_create.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Type 
    prédicteurs**.

2.  Cliquez sur le bouton Ajouter.

3.  Saisissez un nom.

4.  Sélectionnez des indicateurs et attribuez-les.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'indicateurs { #create_indicator_group_set } 

![](resources/images/maintenance/indicator_group_set_create.png)

Les ensembles de groupes d'indicateurs créent des groupes combinés d'indicateurs similaires. Par exemple, vous pouvez avoir des groupes d'indicateurs "Paludisme" et "Leishmaniose". Ces deux groupes peuvent être combinés pour former un ensemble de groupes appelé "Maladies à transmission vectorielle". Les ensembles de groupes d'indicateurs sont utilisés lors de l'analyse des données pour combiner des thèmes d'indicateurs similaires.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Groupe
    prédicteurs**.

2.  Cliquez sur le bouton Ajouter.

3.  Remplissez le formulaire :

    1.  **Nom**
2.  **Nom court**
    3.  **Code**
4.  **Description**
    3.  **Obligatoire** 

4.  Sélectionnez des indicateurs et attribuez-les.

    Les groupes d'indicateurs disponibles sont affichés dans le panneau de gauche.
    Les groupes d'indicateurs qui font actuellement partie de l'ensemble de groupes
    d'indicateurs sont affichés dans le panneau de droite.

5.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les unités d’organisation { #manage_organisation_unit } 

Dans cette partie, nous verrons comment :

  - Créer une nouvelle unité d'organisation et mettre en place la hiérarchie de l'unité 
    d'organisation

  - Créer des groupes d'unités d'organisation, des ensembles de groupes et leur attribuer des unités 
    d'organisation

  - Modifier la hiérarchie des unités d'organisation

### À propos des unités d’organisation { #about_organisation_unit } 

La hiérarchie des unités d'organisation définit la structure organisationnelle de DHIS2, par exemple la manière dont les établissements de santé, les zones administratives et les autres zones géographiques sont disposés les uns par rapport aux autres. Il s'agit de la dimension *où* de DHIS2. De la même façon, les périodes représentent la dimension *quand* du système.

La hiérarchie des unités d'organisation est élaborée à partir de relations entre unités racines et unités subordonnées. Dans DHIS2, chacun de ces nœuds est une unité d'organisation. Un pays peut par exemple compter huit provinces, et dans chaque province, on peut noter un certain nombre de districts. Normalement, les niveaux les plus bas sont constitués des établissements où les données sont collectées. Les établissements de collecte de données peuvent également être situées à des niveaux plus élevés, par exemple les hôpitaux nationaux ou provinciaux. Par conséquent, vous pouvez créer des arborescences asymétriques dans DHIS2.

  - Vous ne pouvez avoir qu'une seule hiérarchie d'organisation en même temps.

  - Vous pouvez avoir un nombre illimité de niveaux dans une hiérarchie.

    En général, les hiérarchies des organisations nationales de santé publique comportent 
    quatre à six niveaux.

  - Vous pouvez établir des classifications supplémentaires en utilisant des groupes 
    d'organisations et des ensembles de groupes d'organisations.

    Par exemple, pour créer des frontières administratives parallèles au 
    secteur de santé.

  - Il est recommandé d'utiliser des groupes d'unités d'organisation pour créer une 
    hiérarchie non géographique.

  - Une unité d'organisation ne peut être membre que d'un seul groupe 
    d'unités d'organisation au sein d’un ensemble de groupes d’unités d’organisation.

  - Un groupe d'unités d'organisation peut appartenir à plusieurs ensembles de groupes 
    d'unités d'organisation.

  - La hiérarchie des unités d'organisation est le principal moyen d'agrégation
    des données par rapport à la dimension géographique.

  - Lorsque vous fermez une unité d'organisation, vous ne pouvez ni enregistrer ni modifier 
    des événements pour cette unité d'organisation dans les applications **Saisie d'événements** et
    **Saisie Tracker**.

> **N.B.**
>
> Vous pouvez modifier la hiérarchie de l'unité d'organisation après l'avoir créée, même les unités d'organisation de collecte des données. Cependant, DHIS2 utilise toujours la dernière hiérarchie pour l'agrégation des données. Ainsi, si vous modifiez la hiérarchie, vous perdez la représentation temporelle de la hiérarchie dans le temps.
>
> Le District A est subdivisé en District B et en District C. Les établissements appartenant au District A sont réaffectées aux districts B et C. Toute donnée historique, que vous avez saisie avant la subdivision, est toujours enregistrée comme appartenant aux districts B et C, et non au district A, devenu obsolète. >>>>>>>>

Dans l'application **Maintenance**, vous pouvez gérer les objets d'unité d'organisation suivants :



Tableau : Objets d'unité d'organisation dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Unité d’organisation | Créer, modifier, cloner, supprimer, afficher les détails et traduire |
| Groupe d'unités d'organisation | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Ensemble de groupes d'unités d'organisation | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Niveau de l'unité d'organisation | Editer et traduire |
| Opérations relatives à la hiérarchie | Déplacer les unités d'organisation |

### Déroulement { #workflow_organisation_unit } 

Le flux de travail recommandé est le suivant :

1.  Créer des unités d'organisation.

2.  Créer des groupes d'unités d'organisation.

3.  Créer des ensembles de groupes d'unités d'organisation.

### Créer ou modifier une unité d'organisation { #create_organisation_unit } 

![](resources/images/orgunits/create_new_orgunit.png)

Ajoutez les unités d'organisation à la hiérarchie une par une, soit comme unité racine, soit comme unité fille d'une unité d'organisation sélectionnée. Vous ne pouvez avoir qu'une seule unité racine.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \>
    **Unité d'organisation**.

2.  Cliquez sur le bouton Ajouter.

3.  Sélectionnez l'unité d'organisation à laquelle votre nouvelle unité d'organisation 
    appartiendra :

    1.  Cliquez sur **Unité d'organisation racine**.

    2.  Dans l'arborescence des unités d'organisation, localisez l'unité d'organisation
        racine et sélectionnez-la. Votre sélection est marquée en jaune.

        > **Tip**
        >
        > Click the arrows to expand the organisation unit tree.

    3.  Cliquez sur **Sélectionner**.

4.  Entrez un **Nom** de l'unité d'organisation.

    Chaque unité organisationnelle doit avoir un nom unique.

5.  Entrez un **Nom court** pour l'unité d'organisation.

    Généralement, le nom court est une abréviation du nom complet de 
    l’unité d’organisation. Cet attribut est souvent utilisé dans les rapports pour
    afficher le nom de l'unité d'organisation, là où l'espace est limité.

6.  (Facultatif) Attribuez un **Code**.

    Dans de nombreux pays, les unités d'organisation se voient attribuer un code.

7.  (Facultatif) Chargez/supprimez l'**image de l'unité d'organisation**.

8.  (Facultatif) Saisissez une **Description** de l'unité d'organisation.

9.  Sélectionnez une **Date d'ouverture**.

    Les dates d'ouverture contrôlent les unités d'organisation qui existaient à un
    moment donné, par exemple lors de l’analyse de données historiques.

10. Le cas échéant, sélectionnez une **date de fermeture**.

11. Dans le champ **Commentaire**, entrez toute information supplémentaire que vous 
    voulez ajouter.

12. (Facultatif) Dans le champ **URL**, saisissez un lien vers un site Web externe
    contenant des informations supplémentaires sur l’unité d’organisation.

13. Entrez les coordonnées : 

      - Personne de contact

      - Addresse

      - E-mail

      - Numéro de téléphone

14. (Facultatif) Entrez la **Latitude** et la **Longitude**.

    Vous devez disposer de valeurs pour la latitude et la longitude avant de créer des cartes dans
    l'application **Cartes**. Ensuite, vos unités d'organisation peuvent être représentées sous forme de
    points sur une carte, par exemple un établissement de santé. Sans ces
    informations, l'application **Cartes** ne fonctionnera pas.

    Il pourrait être plus efficace d'importer les coordonnées ultérieurement par lot
    pour toutes les unités d'organisation à l'aide de l'application **Import-Export**. A l'aide
    de l'application **Import-Export**, vous pouvez également créer des polygones. Un polygone est
    une unité d’organisation qui représente une frontière administrative.

15. Le cas échéant, sélectionnez des **Ensembles de données** et attribuez-les.

    > **Note**
    >
    > You control whether a user should be able to assign data sets to
    > an organisation unit in the **System Settings** app:
    >
    > Open the **System Settings** app, click **Access** and select
    > **Allow assigning object to related objects during add or
    > update**.

16. Le cas échéant, sélectionnez des **Programmes** et attribuez-les.

    > **Note**
    >
    > You control whether a user should be able to assign programs to an
    > organisation unit in the **System Settings** app:
    >
    > Open the **System Settings** app, click **Access** and select
    > **Allow assigning object to related objects during add or
    > update**.

17. Le cas échéant, saisissez les valeurs des attributs personnalisés, par exemple **Identifiant
    RH**.

    > **Note**
    >
    > You configure the custom attributes in the **Maintenance** app:
    >
    > Open the **Maintenance** app and click **Other** \> **Attribute**.

18. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'unités d'organisation { #create_organisation_unit_group } 

Les groupes d'unités d'organisation vous permettent de classer des unités d'organisation associées selon un thème commun. Vous pouvez par exemple regrouper toutes les unités d'organisation qui sont des hôpitaux dans un groupe **Hôpital**.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \>
    **Groupe d'unité d'organisation**.

2.  Cliquez sur le bouton Ajouter.

3.  Remplissez le formulaire :

    1.  **Nom** : Donnez un nom précis, unique et descriptif au 
        groupe d'unités d'organisation.

    2.  **Nom court** : le nom abrégé doit comporter moins de 25
        caractères. Généralement, le nom court est une abréviation du
        nom complet de l’unité d’organisation. Cet attribut est utilisé dans
        DHIS2 là où l’espace est limité.

    3.  **Code**

    4.  **Symbole** : Sélectionnez un symbole qui sera utilisé pour afficher
        l'unité d'organisation (seulement avec des points) lorsque la couche est affichée dans
        l'application **Cartes**.

4.  Dans l'arborescence d'organisation, cliquez sur les unités d'organisation que vous voulez
    ajouter au groupe d'unités d'organisation.

    Vous pouvez localiser une unité d'organisation dans une arborescence en développant les
    branches (cliquez sur le symbole en forme de flèche) ou en la recherchant par son
    nom.

    Les unités d'organisation sélectionnées s'affichent en orange.

5.  Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'unités d'organisation { #create_organisation_unit_group_set } 

Les ensembles de groupes d'unités d'organisation vous permettent de créer des classifications supplémentaires pour les unités d'organisation. Les ensembles de groupes créent de nouvelles dimensions vous permettant d'analyser les données plus en détail. Vous pouvez facilement filtrer, organiser ou agréger les données par groupes au sein d'un ensemble de groupes.

  - Vous pouvez avoir un nombre quelconque d'ensembles de groupes d'unités d'organisation.

  - Les ensembles de groupes d'unités d'organisation par défaut sont **Type** et
    **Propriété**.

  - Une unité d'organisation ne peut être membre que d'un seul groupe 
    d'unités d'organisation au sein d’un ensemble de groupes d’unités d’organisation.

  - Un groupe d'unités d'organisation peut appartenir à plusieurs ensembles de groupes 
    d'unités d'organisation.

  - Vous pouvez définir si un ensemble de groupes d'unités d'organisation est obligatoire
    ou non, ce qui affectera le caractère complet des données. Obligatoire
    signifie que toutes les unités d'organisation doivent faire partie d'un groupe dans cet
    ensemble de groupe.

> **N.B.**
>
> Dans la partie **Intégrité des données** de l'application **Administration des données**, vous pouvez vérifier si vous avez accidentellement affecté la même unité d'organisation à plusieurs groupes au sein du même ensemble de groupes. Dans cette application, vous trouverez également des informations relatives aux unités d'organisation qui n'appartiennent pas à un ensemble de groupes d'unités d'organisation obligatoire. >>>>

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \>
    **Ensemble de groupes d'unités d'organisation**.

2.  Cliquez sur le bouton Ajouter.

3.  Renseignez :

    1.  **Nom** : Donnez un nom précis à l'ensemble de groupes d'unités 
         

    2.  **Nom court** : Donnez un nom court à l'ensemble de groupes d'unités 
         

    3.  **Code**

    4.  **Description** : Décrivez ce que l'ensemble de groupes d'unités d'organisation 
        mesure ou saisit.

4.  Si vous voulez que toutes les unités d'organisation fassent partie d'un groupe au sein
    de l'ensemble de groupe, sélectionnez **Obligatoire**.

5.  (Facultatif) Sélectionnez **Dimension de données**.

        Si vous sélectionnez **Dimension de données**, l'ensemble de groupes sera alors disponible pour l'analyse avec une nouvelle dimension, en plus des dimensions standard "Période" et "Unité d'organisation".

6.  (Facultatif) Sélectionnez **Inclure la sous-hiérarchie dans l'analyse**.

    Si vous sélectionnez cette option, une sous-unité d'organisation héritera de la
    propriété du groupe d'unités d'organisation de son unité d'organisation "racine" la plus proche.
    Toute propriété sur la sous-unité d'organisation
    remplacera la valeur héritée.

    Si une unité d'organisation n'a pas de groupe d'unités d'organisation associé,
    l'unité d'organisation peut hériter du groupe d'unités d'organisation de son unité racine la plus proche
    Si aucun des groupes d'unités d'organisation racines n'a de
    groupe d'unités d'organisation pour un ensemble de groupes d'unités d'organisation donné, le résultat
    sera toujours "vide", mais si au moins un groupe racine dispose d'un
    groupe d’unités d’organisation, la sous-unité d'organisation en héritera.

    "inclure la sous-hiérarchie dans l'analyse" est activé, ce qui signifie que les unités 
    d'organisation héritent du groupe d'unités d'organisation de leurs unités racines les plus proches SI l'unité d'organisation
    est blanche (n'est associés à aucun groupe d’unités d'organisation).

7.  Sélectionnez des groupes d'unités d'organisation et attribuez-les.

    Dans la liste de gauche, se trouvent les groupes d'unités d'organisation
    disponibles. Utilisez les flèches pour déplacer les groupes sélectionnés entre les deux
    listes.

    S'il n'y a aucun groupe d'unités d'organisation dans la liste de gauche,
    cliquez sur **Ajouter un nouveau**. Dans le formulaire qui s'ouvre, créez le groupe 
    d'unités d'organisation dont vous avez besoin. Lorsque vous avez terminé, cliquez sur **Actualiser les valeurs**.

    > **Note**
    >
    > An organisation unit can only be a member of a single organisation
    > unit group within an organisation unit group set.

8.  Cliquez sur
**Sauvegarder**.

![](resources/images/implementation_guide/organisation_unit_hiearchy.png)

Supposons que vous voulez analyser des données en fonction de la propriété des établissements. Tous les établissements ont un propriétaire et vous devez donc vous assurer que toutes les unités d'organisation aient cette classification. Pour ce faire, vous pouvez utiliser l'option **Obligatoire** :

1.  Créez un groupe pour chaque type de propriété, par exemple "Ministère de la santé", "Privé" 
    et "Confessionnel".

2.  Affectez tous les établissements de la base de données à l'un de ces groupes.

3.  Créez un ensemble de groupes d'unités d'organisation appelé "Propriété" et sélectionnez 
    **Obligatoire**.

4.  Affectez les groupes d'unités d'organisation "Ministère de la santé", "Privé" et
    "Confessionnel" à l'ensemble de groupes d'organisation "Propriété".
     

![](resources/images/maintenance/analytics-include-org-unit-subhierarchy.png)

![](resources/images/maintenance/include-subhierarchy-analytics.png)

Regroupez votre unité d'organisation de deux façons et agrégez les données sur la base de ces deux hiérarchies parallèles

Utilisation dans l'agrégation des données (uniquement dans les applications d'analyse)

Un paramètre supplémentaire de l'ensemble de groupes d'unités d'organisation permet de créer une "adhésion" dynamique à un ensemble de groupes d'unités d'organisation.

Vous ne devez pas changer la hiérarchie de l'unité d'organisation

Flexible et dynamique

Inclusion dynamique de la hiérarchie

Classification dynamique supplémentaire

### Attribuer des noms aux niveaux d'unité d'organisation { #name_organisation_unit_level } 

Lorsque vous ajoutez des unités subordonnées à une unité d'organisation, DHIS2 crée automatiquement un nouveau niveau d'unité d'organisation si nécessaire. Le système attribue également un nom générique à ce niveau, par exemple "Niveau 5". Vous pouvez remplacer le nom générique par un nom correspondant à un contexte donné, par exemple "Pays", "Province", "District" ou "Établissement de santé". DHIS2 utilise ces noms (de contextes) partout où il est fait référence aux niveaux, par exemple dans l'application **Cartes**.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \>
    **Niveau de l'unité d'organisation**.

    Le temps de chargement de la liste dépend de la portée de 
    l'arborescence des unités d'organisation.

2.  Pour les niveaux d'unité d'organisation que vous souhaitez modifier, entrez un nom.

3.  Sélectionnez le nombre de niveaux hors ligne.

    > **Note**
    >
    > You configure the default value in the **System Settings** app:
    >
    > Open the **System Settings** app, click **General** and select a
    > level in the **Max offline organisation unit levels** list.

4.  Cliquez sur **Sauvegarder**.

### Déplacer les unités d'organisation au sein d'une hiérarchie { #move_organisation_unit } 

Vous pouvez déplacer les unités d'organisation dans la hiérarchie en changeant l'unité racine d'une unité d'organisation sélectionnée.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \>
    **Opérations relatives à la hiérarchie**.

2.  Dans l'arborescence hiérarchique de gauche, sélectionnez la ou les unité(s) d'organisation que vous 
    voulez déplacer.

    > **Note**
    >
    > If the selected organisation unit is has sub-organisation units,
    > all of them move to the new parent organisation unit.

3.  Dans l'arborescence hiérarchique de droite, sélectionnez l'unité d'organisation vers laquelle vous
    voulez déplacer la ou les unité(s) d'organisation sélectionnée(s).

4.  Cliquez sur **Déplacer x unités d'organisation**, x étant le nombre 
    d'unités d'organisation que vous avez sélectionnées.

    Vos modifications se reflètent immédiatement dans l'arborescence hiérarchique de gauche.
     

### Fermer une unité d'organisation { #close_organisation_unit } 

Lorsque vous fermez une unité d'organisation, vous ne pouvez pas enregistrer ou modifier les événements de cette unité d'organisation dans les applications **Saisie d'événements** et **Saisie Tracker**.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Unité d'organisation** \>
    **Unité d'organisation**.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Editer**.

3.  Sélectionnez une **Date de fermeture**.

4.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les règles de validation { #manage_validation_rule }

### À propos des règles de validation { #about_validation_rule } 

Une règle de validation se base sur une expression. L'expression définit une relation entre les valeurs des éléments de données. Elle constitue une condition avec des critères logiques.

L'expression est composé de : 

  - Une partie gauche

  - Une partie droite

  - Un opérateur

Une règle de validation qui affirme que le nombre total de vaccins administrés aux nourrissons est inférieur ou égal au nombre total de nourrissons.

Les parties gauche et droite doivent renvoyer des valeurs numériques.

Dans l'application **Maintenance**, vous gérez les objets de règles de validation suivants :


| Type d'objet | Ce que vous pouvez faire |
|---|---|
| Règle de validation | Créer, modifier, cloner, supprimer, afficher les détails et traduire |
| Groupe de règles de validation | Créer, modifier, cloner, supprimer, partager, afficher les détails et traduire |
| Notifications de validation | Créer, modifier, cloner, supprimer, afficher les détails et traduire |

#### À propos des fenêtres coulissantes { #sliding_windows } 

Vous pouvez utiliser des fenêtres coulissantes pour regrouper des données *sur plusieurs périodes* au lieu de sélectionner des données pour *une seule période*. Les fenêtres coulissantes ont une taille, c'est-à-dire le nombre de jours à couvrir, un point de départ et un point d'arrivée. L'exemple ci-dessous montre les données de surveillance des maladies :

  - Dans la section orange, les données sont sélectionnées en fonction de la période 
    actuelle. Un seuil est calculé une fois par semaine
    ou par période, et est affiché dans la section "Résultat".

  - La section bleue constitue la fenêtre coulissante. Elle sélectionne les données
    des 7 derniers jours. La section "Résultat" affiche le nombre total de
    cas confirmés d’une maladie.

  - Grâce à la règle de validation, les utilisateurs sont notifiés lorsque le nombre
    total de cas dépasse le seuil pour la période.

![](resources/images/maintenance/validation_rules_sliding_window.gif)



Tableau : Différents comportements des règles de validation

| Avec fenêtres coulissantes | Sans fenêtres coulissantes |
|---|---|
| Utilisés uniquement pour les données d'événements. | Utilisés pour les données d'événements et les données agrégées. |
| La sélection des données se fait en fonction d'un nombre de jours fixe (Type de période). | La sélection des données se base toujours sur une période. |
| La position de la fenêtre coulissante est toujours *relative à* la période comparée. | Les données sont toujours sélectionnées pour la *même période* que la période comparée. |

Voir également : Comment utiliser les fenêtres coulissantes lorsque vous [créez ou modifiez une règle de validation].(https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html#create_validation_rule).

#### À propos des groupes de règles de validation { #about-validation-rule-groups } 

Un groupe de règles de validation vous permet de regrouper des règles de validation associées. Lors d'une *[analyse des règles de validation](https://docs.dhis2.org/master/en/user/html/validation_rule_analysis.html)*, vous pouvez alors choisir d'appliquer toutes les règles de validation de votre système, ou seulement les règles de validation d'un groupe.

#### À propos des notifications de validation { #validation_notifications } 

Vous pouvez configurer une analyse des règles de validation pour envoyer automatiquement des notifications sur des erreurs de validation à des groupes d'utilisateurs sélectionnés. Ces messages sont appelés *notifications de validation*. Ils sont envoyés via le système de messagerie interne de DHIS2.

Vous pouvez envoyer des notifications de règles de validation sous forme de messages individuels ou de résumés de messages. Ceci est d'une grande utilité, par exemple, lorsque vous voulez envoyer des messages individuels sur les épidémies de maladies hautement prioritaires, et des résumés sur les erreurs de validation de données de routine non prioritaires.

#### À propos des fonctions des règles de validation { #about-validation-rule-functions }

Vous pouvez utiliser les fonctions suivantes dans la partie gauche ou droite d'une règle de validation :



Tableau : Fonctions des règles de validation

| Fonction de la règle de validation | Arguments | Description |
|---|---|---|
| si | (boolean-expr, true-expr, false-expr) | Évalue l'expression booléenne et, si elle est vraie, renvoie la valeur vraie de l'expression, si elle est fausse, renvoie la valeur fausse de l'expression. Les arguments doivent respecter les règles pour toute expression d'indicateur. |
| est | (expr1 in expression [, expression ...]) | Renvoie vrai si expr1 correspond à l’une des expressions suivantes. Dans le cas contraire, elle renvoie faux. |
| isNull | (élément) | Renvoie vrai si la valeur de l'élément est manquante (nulle), sinon faux. |
| isNotNull | (élément) | Renvoie vrai si la valeur de l'élément n'est pas manquante (non nulle), sinon faux. |
| firstNonNull | (élément [, élément ...]) | Renvoie la valeur du premier élément non manquant (non nul). Le nombre d'arguments n'a pas de limite. Tout argument peut également être un texte numérique ou de chaîne, qui sera renvoyé si tous les objets précédents ont des valeurs manquantes. |
| plus grand | (expression [, expression ...]) | Renvoie la plus grande valeur (la plus élevée) des expressions données. Le nombre d'arguments n'a pas de limite. |
| moins | (expression [, expression ...]) | Renvoie la plus petite des valeurs des expressions données. Le nombre d'arguments n'a pas de limite. |
| journal | (expression [, base ]) | Renvoie le logarithme naturel (base e) de l'expression numérique. Si un entier est donné comme second argument, renvoie le logarithme en utilisant cette base. |
| log10 | (expression) | Renvoie le logarithme commun (base 10) de l'expression numérique. |
| nulle | | Ne renvoie aucun résultat. Par exemple, _si( #{FH8ab5Rog83}<0, null, 1 )_ ne renvoie rien si la valeur de l'élément de données est inférieure à 0, dans le cas contraire renvoie 1. |
| orgUnit.ancestor | (orgUnitUid [, orgUnitUid ...]) | Renvoie "vrai" si l'unité d'organisation est un descendant de l'une des (1 ou plusieurs) unités d'organisation, sinon renvoie "faux". |
| orgUnit.dataSet | (dataSetUid [, dataSetUid ...]) | Renvoie "vrai" si l'unité d'organisation est attribuée à l'un des (1 ou plusieurs) ensembles de données, sinon renvoie "faux". |
| orgUnit.group | (ouGroupUid [, ouGroupUid ...]) | Renvoie "vrai" si l'unité d'organisation fait partie de l'un des (1 ou plusieurs) groupes d'unités d'organisation, sinon renvoie "faux". |
| orgUnit.program | (programUid [, programUid ...]) | Renvoie "vrai" si l'unité d'organisation est attribuée à l'un des (1 ou plusieurs) programmes, sinon renvoie "faux". |
| supprimerlLesZéros | (expression) | Ne renvoie rien si la valeur de l'expression est 0, au cas contraire, renvoie la valeur de l'expression. |

### Créer ou modifier une règle de validation { #create_validation_rule } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Validation** \>
    **Règle de validation**.

2.  Cliquez sur le bouton Ajouter.

3.  Tapez un **Nom**.

    Le nom doit être unique parmi les règles de validation.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  (Facultatif) Saisissez une **Description**.

6.  Sélectionnez une **Importance** : **Haute**, **Moyenne** ou **Faible**.

7.  Sélectionnez un **Type de période**.

8.  Sélectionnez un **Opérateur** : **Paire obligatoire**, **Égal à**,
    **Paire exclusive**, **Supérieur à**, **Supérieur ou égal à**
    ou **Pas égal à**.

    L'opérateur **Paire obligatoire** permet d'exiger que les valeurs des données
    soient saisies pour un formulaire pour les côtés gauche et droit de
    l'expression, ou pour aucun des deux côtés. Cela signifie que vous pouvez exiger
    que si un champ d'un formulaire est renseigné, alors un ou plusieurs autres champs
    doivent également être renseignés.

    La **Paire exclusive** permet d'affirmer que si une valeur existe sur
    le côté gauche, alors il ne devrait y avoir aucune valeur sur le côté droit (ou
    vice versa). Cela signifie que les éléments de données qui composent la règle de
    chaque côté doivent s'exclure mutuellement, pour une
    combinaison période/unité d'organisation/option d'attribut donnée.

9.  Créer le côté gauche de l'expression :

    1.  Cliquez sur **Côté gauche**.

    2.  Sélectionnez **Fenêtre coulissante** si vous voulez afficher les données relatives à
        la période que vous comparez. Voir aussi [À propos des règles de
        validation](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html#about_validation_rule).

    3.  Sélectionnez une **Stratégie de valeur manquante**. Cette sélection définit la façon dont le
        système évalue une règle de validation si des données sont manquantes.


       Option | Description |
       |---|---|
       | Ignorer si une valeur est manquante | La règle de validation sera ignorée si l'une des valeurs qui composent l'expression est manquante. C'est l'option par défaut. <br><br> Sélectionnez toujours cette option lorsque vous utilisez l'opérateur **Paire exclusive** ou **Paire obligatoire**. |
      | Ignorer si toutes les valeurs sont manquantes | La règle de validation ne sera ignorée que si tous les opérandes qui la composent sont manquants. |
      | Ne jamais ignorer | La règle de validation ne sera jamais ignorée en cas de données manquantes, et tous les opérandes manquants seront pris pour zéro. |

    4. Saisissez une **Description**.

    5. Elaborez une expression basée sur les éléments de données disponibles,
les objets de programme, les unités d'organisation, les comptages et les constantes.

Dans le volet de droite, double-cliquez sur les objets de données que vous voulez
inclure dans l'expression. Combinez-les avec les opérateurs mathématiques
situés sous le volet de gauche.

    6. Cliquez sur **Enregistrer**.

10. Créer le côté droit de l'expression :

    1.  Cliquez sur **Côté droit**.

    2.  Sélectionnez une **Stratégie de valeur manquante**. Cette sélection définit la façon dont le
        système évalue une règle de validation si des données sont manquantes.


        | Options | Description|
        |---|---|
        | Ignorer si une valeur est manquante | La règle de validation sera ignorée si l'une des valeurs qui composent l'expression est manquante. C'est l'option par défaut.<br> <br>Sélectionnez toujours cette option lorsque vous utilisez l'opérateur **Paire exclusive** ou **Paire obligatoire**. |
        | Ignorer si toutes les valeurs sont manquantes | La règle de validation ne sera ignorée que si tous les opérandes qui la composent sont manquants. |
        | Ne jamais ignorer | La règle de validation ne sera jamais ignorée en cas de données manquantes, et tous les opérandes manquants seront pris pour zéro. |

    3. Sélectionnez **Fenêtre coulissante** si vous voulez afficher les données relatives à
        la période que vous comparez. Voir aussi [À propos de la règle de
        validation](https://docs.dhis2.org/master/en/user/html/manage_validation_rule.html#about_validation_rule).

    4. Saisissez une **Description**.

    5. Construisez une expression basée sur les éléments de données disponibles,
        objets de programme, unités d'organisation, chiffres et constantes.

        Dans le volet de droite, double-cliquez sur les objets de données que vous voulez
        inclure dans l’expression. Combinez-les avec les opérateurs
        mathématiques situés sous le volet de gauche.

    6. Cliquez sur **Sauvegarder**.

11. (Facultatif) Choisissez les **niveaux d'unité d'organisation** pour lesquels cette règle
    devra être évalué. Si vous laissez ce champ vide, la
    règle de validation sera évaluée à tous les niveaux.

12. (Facultatif) Cliquez sur **Ignorer cette règle pendant la validation du formulaire** pour éviter 
    de déclencher cette règle pendant la saisie des données

13. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe de règles de validation { #create_validation_rule_group } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Validation** \>
    **Groupe de règles de validation**.

2.  Cliquez sur le bouton Ajouter.

3.  Tapez un **Nom**.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  (Facultatif) Saisissez une **Description**.

6.  Double-cliquez sur les **Règles de validation** que vous voulez attribuer au 
    groupe.

7.  Cliquez sur **Sauvegarder**.

### Créer ou modifier une notification de validation { #create_validation_notification } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Validation** \>
    **Notification de validation**.

2.  Cliquez sur le bouton Ajouter.

3.  Tapez un **Nom**.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Sélectionnez **Règles de validation**.

6.  Sélectionnez **Groupes d'utilisateurs bénéficiaires**

7.  (Facultatif) Sélectionnez **Envoyer une notification uniquement aux utilisateurs présents dans la hiérarchie**.

    Si vous sélectionnez cette option, le système filtrera les utilisateurs
    destinataires. (Le système dérive les utilisateurs destinataires des groupes
    d'utilisateurs destinataires.) Le filtrage se fait en fonction de l'unité d'organisation à laquelle
    appartient l'utilisateur destinataire. Les utilisateurs liés aux unités d'organisation
    qui sont les unités racines les plus anciennes de l'unité d'organisation où a eu lieu la violation
    recevront des notifications de validation. Le système
    ignorera les autres utilisateurs, lesquels ne recevront pas de notifications de
    validation.

8.  Créer le modèle de message :

    1.  Créer le **Modèle d'objet**.

        Double-cliquez sur les paramètres dans le champ **Modèle de variables** 
        pour les ajouter à votre objet.

    2.  Créer le **Modèle de message**.

        Double-cliquez sur les noms des paramètres dans le champ **Modèle de variables**
        pour les ajouter à votre message.

9.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les attributs { #manage_attribute } 

### À propos des attributs { #about_attribute } 

Vous pouvez utiliser les attributs de métadonnées pour ajouter des informations supplémentaires aux objets de métadonnées. En plus des attributs standard pour chacun de ces objets, il peut être utile de stocker des informations pour des attributs supplémentaires, par exemple la méthode de collecte d'un élément de donnée.


![](resources/images/maintenance/attribute_create.png)

Dans l'application **Maintenance**, vous pouvez gérer les attributs suivants :



Tableau : Objets d'attributs dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Attribut | Créer, modifier, cloner, supprimer, afficher les détails et traduire |

### Créer ou modifier un attribut { #create-or-edit-an-attribute } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Attributs**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, saisissez le nom de l'attribut.

    Chaque attribut doit avoir un nom unique

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Sélectionnez un **Type de valeur**.

    Si la valeur fournie pour l'attribut ne correspond pas au type de 
    valeur, vous recevrez un message d'avertissement.

6.  Sélectionnez un **ensemble d'options**.

7.  Sélectionnez les options que vous voulez, par exemple :

      - Sélectionnez **Obligatoire** si vous voulez qu'un objet ait toujours 
        l'attribut dynamique.

      - Sélectionnez **Unique** si vous voulez que le système fasse en sorte que les valeurs 
        soient uniques pour un type d'objet spécifique.

8.  Cliquez sur **Sauvegarder**.

    L'attribut dynamique est maintenant disponible pour les objets auxquels vous 
    l'avez attribué.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les constantes { #manage_constant } 

### À propos des constantes { #about_constant } 

Les constantes sont des valeurs statiques qui peuvent être mises à la disposition des utilisateurs pour être utilisées dans les éléments de données et les indicateurs. Certains indicateurs, tels que le "Taux de protection sur deux ans", dépendent de constantes qui, généralement, ne changent pas au fil du temps.


![](resources/images/maintenance/constant_create.png)

Dans l'application **Maintenance**, vous pouvez gérer les objets de constante suivants :



Tableau : Objets constants dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Constante | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |

### Créer ou modifier une constante { #create_constant } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Constante**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, entrez le nom de la constante.

4.  (Facultatif) Dans le champ **Nom court**, entrez un nom abrégé de 
    la constante.

5.  (Facultatif) Dans le champ **Code**, attribuez un code.

6.  Dans le champ **Description**, saisissez une description brève et informative
    de la constante.

7.  Dans le champ **Valeur**, définissez la valeur de la constante.

8.  Cliquez sur **Sauvegarder**.

    La constante est maintenant disponible.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les ensembles d'options { #manage_option_set } 

### À propos des ensembles d'options { #about_option_set } 

Les ensembles d'options fournissent une liste déroulante (énumérée) prédéfinie à utiliser dans DHIS2. Vous pouvez définir n'importe quel type d'options.

Un ensemble d'options appelé "Type d'accouchement" devrait avoir les options : "Normal", "Du siège", "Césarienne" et "Assisté".


![](resources/images/maintenance/option_set_create.png)



Tableau : Objets de l'ensemble d'options dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Ensemble d'options | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Groupe d’options | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Ensemble de groupes d'options | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |

### Créer ou modifier un ensemble d'options { #create_option_set } 

> **N.B.**
>
> Les ensembles d'options doivent avoir un code ainsi qu'un nom. Vous pouvez changer les noms, mais pas les codes. Les noms et les codes de toutes les options doivent être uniques, même entre différents ensembles d'options. >>

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Ensemble d'options**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans l'onglet **Détails primaires**, définissez l'ensemble d'options :

    1.  Dans le champ **Nom**, entrez le nom de la constante.

    2.  Dans le champ **Code**, attribuez un code.

    3.  Sélectionnez un **Type de valeur**.

    4.  Cliquez sur **Sauvegarder**.

4.  Pour chaque option dont vous avez besoin, effectuez les tâches suivantes :

    1.  Cliquez sur l'onglet **Options**.

    2.  Cliquez sur le bouton Ajouter.

    3.  Saisissez un **Nom** et un **Code**. A titre optionnel, sélectionnez également une
        **Couleur** et une **Icône** qui seront utilisées pour cette option dans
        les applications de saisie de données.

    4.  Triez les options par nom, code/valeur ou manuellement.

    5.  Cliquez sur **Sauvegarder**.



### Créer ou modifier un groupe d'options { #create_option_group } 

Vous pouvez regrouper et classer les **options** dans un **ensemble d'options** en utilisant les **groupes d'options**. Ainsi, vous pouvez créer un sous-ensemble d'options dans un ensemble d'options. L'objectif principal est de filtrer des ensembles d'options volumineux en parties plus petites et liées.

Les options regroupées peuvent être masquées ou affichées ensemble dans le tracker et la saisie d'événements grâce aux règles du programme.

> **N.B.**
>
> Vous ne pouvez pas modifier l' **ensemble d'options** sélectionné dans un **Groupe d'options** une fois qu'il est créé.

1. Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Groupe d'options**.

2. Cliquez sur le bouton Ajouter.

3. Remplissez le formulaire :
    1. **Nom**
    2. **Nom court**
    2. **Code**
    4. **Ensemble d'options**

4. Une fois qu'un **Ensemble d'options** est sélectionné, vous pouvez attribuer les **Options** que vous souhaitez regrouper.

6. Cliquez sur **Sauvegarder**.

### Créer ou modifier un ensemble de groupes d'options { #create_option_group_set } 

Les **Ensembles de groupes d'options** vous permettent de classer plusieurs **Groupes d'options** dans un ensemble. L'objectif principal de l'ensemble de groupes d'options est d'ajouter plus de dimensionnalité à vos données saisies pour l'analyse.

> **N.B.**
>
> Vous ne pouvez pas modifier l' **Ensemble d'options** sélectionné dans un **Ensemble de groupes d'options** une fois qu'il est créé.

1. Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Ensemble de groupes d'options**.

2. Cliquez sur le bouton Ajouter.

3. Remplissez le formulaire :
    1. **Nom**
    2. **Code**
    3. **Description**
    4. **Ensemble d'options**
    5. **Dimension de données**

       Si vous sélectionnez **Dimension des données**, l'ensemble de groupes sera alors disponible pour l'analyse sous forme d'une autre dimension, en plus des dimensions standard de "Période" et "Unité d'organisation".

4. Sélectionnez des groupes d'options et attribuez-les.

   Les groupes d'options disponibles sont affichés dans le panneau de gauche. Par contre, les groupes d'options faisant actuellement partie de l'ensemble de groupes d'options sont affichés dans le panneau de droite.

5. Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les légendes { #manage_legend } 

### À propos des légendes { #about_legend } 

Vous pouvez créer, modifier, cloner, supprimer, afficher les détails et traduire les légendes pour expliquer les cartes que vous créez à vos utilisateurs. Vous pouvez créer des cartes dans l'application **Cartes**.

> **N.B**
>
> Les légendes continues doivent être constituées d'éléments de légende qui se terminent et commencent par la même valeur, par exemple : 0-50 et 50-80. Ne définissez pas les éléments de légende de cette façon : 0-50 et 51-80. Cela créerait des lacunes dans votre légende. >>

### Créer ou modifier une légende { #create_legend } 

> **N.B.**
>
> Il n'est pas permis d'avoir des lacunes dans une légende.
>
> Il n'est pas permis d'avoir des éléments de légende qui se chevauchent.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Légende**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, tapez le nom de la légende.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Créez les éléments de légende que vous voulez avoir dans votre légende :

    1.  Sélectionnez **Valeur de départ** et **Valeur de fin**.

    2.  Sélectionnez **Nombre d'éléments de la légende**.

    3.  Sélectionnez un schéma de couleurs.

    4.  Cliquez sur **Créer des éléments de légende**.

    > **Tip**
    >
    > Click the options menu to edit or delete a legend item.

6.  (Facultatif) Ajoutez d'autres éléments de légende :

    1.  Cliquez sur le bouton Ajouter.

    2.  Entrez un nom et sélectionnez une valeur de départ, une valeur de fin et une couleur.

    3.  Cliquez sur **OK**.

7.  (Facultatif) Changez les échelles de couleurs.

    1.  Cliquez sur l'échelle de couleurs pour afficher une liste des options d'échelle de couleurs, 
        et sélectionnez une échelle.

    2.  Pour personnaliser une échelle de couleurs, cliquez sur le bouton Ajouter. Dans la boîte de dialogue **Modifier
        l'élément de légende**, cliquez sur le bouton d'échelle de couleurs et sélectionnez manuellement
        des couleurs, ou entrez vos valeurs de couleur.

8.  Cliquez sur **Sauvegarder**.


| Elément de légende | Valeur initiale | Valeur finale |
|---|---|---|
| Très mauvais | 0 | 50 |
| Moyen | 50 | 80 |
| Très bien | 80 | 100 |
| Trop haut | 100 | 1000 |

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

### Attribuer une légende à l'indicateur ou à l'élément de données { #assign-a-legend-to-indicator-or-data-element } 

Vous pouvez attribuer une légende à un indicateur ou à un élément de donnée dans l'application **Maintenance**, soit lorsque vous créez l'objet, soit lorsque vous le modifiez. Lorsque vous sélectionnez ensuite l'indicateur ou l'élément de donnée dans l'application **Cartes**, le système sélectionne automatiquement la légende attribuée.

### Voir également { #see_also_legend } 

  - [Utilisation de l'application SIG]
    (https://docs.dhis2.org/master/en/user/html/using_gis.html)

## Gérer les prédicteurs { #manage_predictor } 

### À propos des prédicteurs { #about-predictors } 

Un prédicteur permet de définir comment générer une valeur de données agrégées à partir d'une expression contenant des données agrégées et/ou d'événements. La valeur prédite peut être basée sur :

- Des données de la même période que la valeur prédite, et/ou

- Des données des périodes antérieures à la valeur prédite

#### Des données de la même période { #data_from_the_same_period } 

Un prédicteur peut utiliser des données de la même période que la valeur prédite. Par exemple, vous pouvez compter le nombre d'unités d'organisation ayant une valeur non nulle d'un élément de données en utilisant une expression de prédiction comme :

<pre><code>if( #{ji7o0ILHuU2} != 0, 1, 0 )</code></pre>

Lorsque vous appliquez ce prédicteur à l'unité d'organisation où les données sont collectées, il enregistrera 1 comme valeur prédite si l'élément de données a une valeur non nulle pour cette unité d'organisation, sinon 0. (Si l'élément de données pour lequel vous faites la prédiction n'enregistre pas les valeurs nulles, alors les valeurs nulles ne seront pas enregistrés dans la base de données, afin d'économiser de l'espace). Vous pouvez ensuite additionner cette valeur prédite dans l'analyse à un niveau d'unité d'organisation supérieur, pour compter le nombre d'unités d'organisation ayant une valeur non nulle et qui se trouvent sous chaque unité d'organisation dans le rapport.

#### Données des périodes antérieures { #data_from_previous_periods } 

Un prédicteur utilisera les données des périodes précédentes si vous spécifiez une fonction d'agrégation telle que somme() ou moyenne(). Par exemple, l'expression de générateur suivante identifie une valeur qui correspond à la moyenne plus deux fois l'écart-type des données de la période précédente :

<pre><code>avg( #{ji7o0ILHuU2} ) + 2 * stddev( #{ji7o0ILHuU2} )</code></pre>

#### Données de la même période et des périodes antérieures { #data_from_the_same_and_previous_periods } 

Une expression de prédicteur peut permettre d'accéder à des données de la même période que la prédiction et à des données des périodes précédentes en accédant aux données à la fois dans une fonction agrégée (pour les périodes précédentes), et en dehors de toute fonction agrégée (pour la même période). Par exemple, une expression comme celle ci-dessous peut être utilisée pour obtenir une valeur du bilan de la période précédente (#{KOh02hHko7C}) ; il faut y ajouter la variation nette de cette période (#{ji7o0ILHuU2}), ce qui donne le bilan de cette période :

<pre><code>sum( #{KOh02hHko7C} ) + #{ji7o0ILHuU2}</code></pre>

La première valeur de données se trouve dans une expression agrégée (somme) pour indiquer qu'il s'agit d'un échantillonnage de données de la période précédente (même s'il n'y a qu'une seule période précédente), tandis que la deuxième valeur de données ne figure pas dans une fonction agrégée pour indiquer qu'il s'agit de données de référence de la même période.

Vous pouvez, si vous le voulez, indiquer l'élément de données de sortie d'un prédicteur dans l'expression du même prédicteur. Vous pouvez, par exemple, utiliser l'expression de cet exemple pour prédire le bilan d'une période, puis combiner cette valeur avec la variation de la période suivante pour calculer le bilan de la période suivante. Lorsqu'un prédicteur est exécuté sur plusieurs périodes, celles-ci sont traitées dans l'ordre chronologique et le résultat d'une période antérieure peut être utilisé comme valeur d'entrée pour une période ultérieure.

#### Niveaux des unités d'organisation des prédicteurs { #predictor_organisation_unit_levels } 

Vous devez sélectionner un ou plusieurs niveaux d'unité d'organisation pour les valeurs de sortie d'un prédicteur. Toutes les valeurs générées par le prédicteur sont stockées pour les unités d'organisation au(x) niveau(x) que vous avez sélectionné(s). Chaque élément de l'expression du prédicteur est la somme de la valeur stockée pour cette unité d'organisation (le cas échéant) plus toutes les valeurs stockées dans les unités d'organisation inférieures à celle-ci (le cas échéant).

> **N.B.**
>
> Lors de la configuration d'un prédicteur, vous devez choisir un ou plusieurs niveaux d'unité d'organisation auxquels les données prédites seront produites. Si aucun niveau n'est sélectionné, aucune valeur prédite ne sera générée.

> **Attention**
>
> Si vous voulez utiliser les valeurs prédites dans les rapports d'analyses, ou faire d'autres prédictions, *ne sélectionnez pas plus d'un niveau d'unité d'organisation*. Lorsque vous sélectionnez plus d'un niveau, les prédictions au(x) niveau(x) supérieur(s) incluront également toutes les données utilisées dans les prédictions au(x) niveau(x) inférieur(s). Si les prédictions de plusieurs niveaux sont utilisées par la suite dans des analyses ou dans les expressions d'autres prédicteurs, cela peut entraîner un double comptage car les valeurs prédites pour un niveau supérieur incluent les valeurs prédites d'un niveau inférieur.
>>>>>>>>

Vous pouvez sélectionner plusieurs niveaux d'unités d'organisation si vous utilisez les valeurs prédites uniquement dans les règles de validation. Par exemple, dans un contexte de surveillance des maladies, vous pouvez avoir une alerte de règle de validation si une valeur réelle est supérieure à la fourchette des valeurs prévues pour cette période sur la base des données de la période précédente. Pour ce faire, vous pouvez créer un prédicteur pour calculer la moyenne plus deux fois l'écart-type des données de la période précédente. Vous pouvez utiliser une règle de validation pour comparer cette valeur prévisionnelle la plus élevée avec la valeur réelle. Vous pouvez exécuter le prédicteur et la règle de validation à plusieurs niveaux pour détecter différents scénarios de flambée de cas. Dans un scénario, on pourrait noter une augmentation significative de cas dans un établissement, laquelle dépasse sa fourchette prévue, mais le district où se trouve cet établissement pourrait ne pas dépasser sa fourchette prévue parce que les valeurs du district sont combinées avec celles de nombreux autres établissements. Dans un autre scénario, on peut noter une augmentation modérée des cas dans plusieurs établissements qui ne dépasse pas la fourchette prévue pour chaque établissement (parce que l'écart-type pour chaque établissement peut être élevé), mais qui dépasse la fourchette prévue pour le district (parce que l'écart-type pour tout le district peut être plus faible).

Si vous voulez générer des prédictions à plusieurs niveaux, vous pouvez également utiliser différents prédicteurs à différents niveaux. Par exemple, vous pouvez choisir de recevoir une alerte si la valeur à un niveau dépasse la moyenne plus deux fois l'écart-type, et à un autre niveau si elle dépasse la moyenne plus 1,8 fois l'écart-type. Si vous le voulez, vous pouvez configurer les différents prédicteurs de manière à avoir le même élément de données de sortie. Si vous utilisez le même élément de données de sortie, des règles de validation s'appliqueront toujours à différents niveaux d'unités d'organisation, mais vous devez également veiller à ne pas utiliser les résultats dans des analyses ou dans d'autres calculs de prédicteurs pour éviter un double comptage.

Dans l'application **Maintenance**, vous pouvez gérer les objets prédicteurs suivants :



Tableau : Objets prédicteurs dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Prédicteur | Créer, modifier, cloner, supprimer, afficher les détails et traduire |

### Échantillonnage des périodes antérieures { #sampling-previous-periods } 

Les prédicteurs peuvent générer des valeurs de données pour des périodes passées, présentes ou futures. Ces valeurs sont basées sur des données de la période prédite et/ou sur des données échantillonnées de périodes antérieures à la période prédite.

Si vous n'avez besoin que des données de la période pour laquelle la prédiction est effectuée, vous n'avez pas besoin de lire cette section. Cette section décrit comment échantillonner des données provenant de périodes antérieures à la période prédite.

#### Nombre d'échantillons séquentiels { #sequential_sample_count } 

Le *Nombre d'échantillons séquentiels* d'un prédicteur donne le nombre de périodes immédiatement antérieures à échantillonner. Par exemple, si le type de période d'un prédicteur est *Hebdomadaire* et que le *Nombre d'échantillons séquentiels* est 4, cela signifie qu'il faut échantillonner les quatre semaines qui précèdent immédiatement la semaine de la valeur prédite. Ainsi, la valeur prédite pour la semaine 9 devra utiliser les échantillons des semaines 5, 6, 7 et 8 :

![](resources/images/maintenance/predictor_sequential.png){.Largeur centre=50% }

Si le type de période d'un prédicteur est *Mensuel* et que le *Comptage séquentiel d'échantillons* est 4, cela signifie qu'il faut échantillonner les quatre mois qui précèdent immédiatement le mois de la valeur prédite. Ainsi, la valeur prédite pour le mois de mai devra utiliser les échantillons des mois de janvier, février, mars et avril :

![](resources/images/maintenance/predictor_sequential_month.png){.Largeur centre=51% }

Le *Nombre d'échantillons séquentiels* peut être supérieur au nombre de périodes dans une année. Par exemple, si vous voulez échantillonner les 24 mois qui précèdent immédiatement le mois de la valeur prédite, définissez le *Nombre d'échantillons séquentiels* sur 24 :

![](resources/images/maintenance/predictor_24_months.png){.Largeur centre=57% }

#### Nombre de sauts séquentiels { #sequential_skip_count } 

Le *Nombre de sauts séquentiels* d'un prédicteur indique combien de périodes doivent être sautées immédiatement avant la période de la valeur prédite, dans le *Nombre d'échantillons séquentiels*. Il peut être utilisé, par exemple, dans la détection d'une épidémie pour sauter un ou plusieurs échantillons immédiatement précédents qui pourraient contenir des valeurs du début d'une épidémie que vous essayez de détecter.

Par exemple, si le *Nombre d'échantillons séquentiels* est 4, mais que le *Nombre de sauts séquentiels* est 2, alors les deux échantillons qui précèdent immédiatement la période prédite seront sautés, et seules deux périodes seront échantillonnées :


![](resources/images/maintenance/predictor_skip.png){.Largeur centre=50% }

#### Comptage annuel de l'échantillon { #annual_sample_count } 

Le *Nombre d'échantillons annuels* d'un prédicteur indique le nombre d'années antérieures pour lesquelles des échantillons doivent être collectés à la même période de l'année. Il peut être utilisé, par exemple, pour la surveillance des maladies dans les cas où l'incidence prévue de la maladie varie au cours de l'année et qu'il serait plus judicieux de le comparer avec la même période relative des années précédentes. Par exemple, si le *Nombre d'échantillons annuels* est 2 (et que le *Nombre d'échantillons séquentiels* est zéro), les échantillons seront alors collectés sur des périodes au cours des deux années précédentes, à la même période de l'année.


![](resources/images/maintenance/predictor_annual.png){.Largeur centre=53% }

#### Utilisation conjointe du nombre d'échantillons séquentiels et annuels { #sequential_annual_sample_count } 

Vous pouvez utiliser ensemble les nombres d'échantillons séquentiels et annuels pour collecter des échantillons sur plusieurs périodes séquentielles de plusieurs années passées. Dans ce cas, les échantillons seront prélevés au cours des années précédentes, pendant la période correspondant à la période de valeur prédite, ainsi qu'au cours des années précédentes, avant et après la même période de l'année, comme le détermine le *Nombre d'échantillons séquentiels*.

Par exemple, si le *Nombre d'échantillons séquentiels* est 4 et que le *Nombre d'échantillons annuels* est 2, les échantillons seront prélevés sur les 4 périodes précédant immédiatement la période de valeur prédite. En outre, des échantillons seront prélevés au cours des deux années précédentes pour la période correspondante, ainsi que quatre périodes situées de part et d'autre de celle-ci :


![](resources/images/maintenance/predictor_sequential_annual.png){.Largeur centre=66% }

#### Utilisation conjointe du nombre d'échantillons séquentiels, annuels et de sauts { #sequential_annual_skip_sample_count }

Vous pouvez utiliser le *Nombre de sauts séquentiels* avec le nombre d'échantillons séquentiels et annuels. Dans ce cas, le *Nombre de sauts séquentiels* indique le nombre de périodes à sauter dans la même année que celle de la période de la valeur prédite. Par exemple, si le *Nombre d'échantillons séquentiels* est 4 et que le *Nombre de sauts séquentiels* est 2, les deux périodes précédant immédiatement la période de valeur prédite seront sautées, mais les deux périodes précédentes seront échantillonnées :


![](resources/images/maintenance/predictor_skip_2_weeks.png){.Largeur centre=66% }

Si le *Nombre de sauts séquentiels* est égal ou supérieur au *Nombre d'échantillons séquentiels*, alors aucun échantillon ne sera collecté pour l'année contenant la période de valeur prédite ; seules les périodes des années passées seront échantillonnées :

![](resources/images/maintenance/predictor_skip_current_year.png){.Largeur centre=66% }

#### Test de saut d'échantillon { #sample_skip_test } 

Vous pouvez utiliser le *Test de saut d'échantillon* pour sauter des échantillons de certaines périodes qui seraient autrement incluses, sur la base des résultats du test d'une expression au cours de ces périodes. Cela peut être utilisé, par exemple, dans la détection de foyers de maladies, où le test de saut d'échantillon peut identifier des foyers de maladies antérieurs, pour exclure ces échantillons de la prédiction de valeurs non liées à un foyer de maladie.

Le *Test de saut d'échantillon* est une expression qui devrait renvoyer une valeur de vrai ou faux, pour indiquer si la période doit être sautée ou non. Il peut s'agir d'une expression qui teste toute valeur de données de la période précédente. Par exemple, elle peut tester une valeur de donnée explicitement saisie pour indiquer qu'une période précédente doit être sautée. Elle peut aussi comparer une valeur prédite précédemment pour une période avec la valeur réelle enregistrée pour cette période, afin de déterminer si cette période doit être sautée.

Toute période pour laquelle le *Test de saut d'échantillon* est *vrai* ne sera pas échantillonnée. Exemple :


![](resources/images/maintenance/predictor_sample_skip_test.png){.Largeur centre=66% }

### Créer ou modifier un prédicteur { #create_predictor } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Prédicteur**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, entrez le nom du prédicteur.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  (Facultatif) Saisissez une **Description**.

6.  Sélectionnez un **Elément de données de sortie**. Les valeurs générées par ce
    le prédicteur sont enregistrées en tant que données agrégées associées à ces éléments
    données et la période prédite.

    La valeur est arrondie en fonction du type de valeur de l'élément de
    données : si la valeur est de type entier, la valeur prédite
    sera arrondi à l’entier le plus proche. Pour tous les autres types de valeur, le
    nombre est arrondi à quatre chiffres significatifs. (Cependant, s'il y a
    plus de quatre chiffres à gauche de la décimale, ils ne sont pas
    remplacés par des zéros.)

7.  (Facultatif) Sélectionnez une **combinaison d'options de catégorie de sortie**. Cette liste déroulante s'affichera uniquement
    si l'élément de données sélectionné a une combinaison de catégories autre que celle par défaut.
    Dans ce cas, vous pouvez sélectionner la combinaison d'options de catégorie (désagrégation) dans laquelle vous voulez générer la sortie.

8.  Sélectionnez un **Type de période**.

9.  Attribuez un ou plusieurs **niveaux d'unité d'organisation**. La valeur de sortie sera
    attribuée à une unité d'organisation de ce niveau (ou de ces niveaux).
    Pour les données **agrégées**, les valeurs d'entrée dépendent de la sélection ci-dessous ; **unités d'organisation fournissant des données**.
    Pour les données **Tracker**, les valeurs d'entrée proviendront de l'unité d'organisation à laquelle la
    valeur de sortie est attribuée, ou à partir de tout niveau inférieur à l'unité d'organisation de la valeur de sortie
     

10. **Unités d'organisation fournissant des données** contrôle l'origine des valeurs d'entrée pour les données **agrégées**. Si "Aux niveaux sélectionnés uniquement" est sélectionné, seules les unités d'organisation aux niveaux sélectionnés seront prises en compte. Si "Aux niveaux sélectionnés et à tous les niveaux inférieurs" est sélectionné, les unités d'organisation au(x) niveau(x) sélectionné(s) et toutes les unités d'organisation inférieures seront prises en compte.
11. Créer un **Générateur**. Le générateur est l'expression utilisée pour le calcul de la valeur prédite.

    1.  Tapez une **Description** de l'expression du générateur.

    2.  Sélectionnez une stratégie de **valeur manquante**. Cette sélection détermine comment le système évalue une règle de validation si des données sont manquantes.

        | Option                         | Description                                                                                                                                                                                                                     |
        |--- |--- |
        | Ignorer si une valeur est manquante | La règle de validation sera ignorée si l'une des valeurs composant l'expression est manquante. C'est l'option par défaut. <br><br>Sélectionnez toujours cette option si vous utilisez l'opérateur **Paire exclusive** ou **Paire obligatoire**. |
        | Ignorer si toutes les valeurs sont manquantes | La règle de validation ne sera ignorée que si toutes les valeurs qui la composent sont manquantes.|                                                                                                        
        | Ne jamais ignorer| La règle de validation ne sera jamais ignorée en cas de données manquantes, et toutes les valeurs manquantes seront prises pour zéro. |                                                                               

    3.  Entrez l'expression du générateur. Vous pouvez générer l'expression en sélectionnant des éléments de données pour les données agrégées, ou des éléments de données de programme, des attributs ou des indicateurs. Le comptage des unités d'organisation n'est pas encore pris en charge.

        Pour utiliser les données échantillonnées de la période passée, vous devez inclure tout élément que vous sélectionnez dans l'une des fonctions agrégées suivantes (veuillez noter que les noms de ces fonctions sont sensibles à la casse) :

        | Fonction d'agrégation | Moyens |
        |---|---|
        | moyenne(x) | Valeur moyenne de x |
        | nombre(x) | Nombre de valeurs de x |
        | max(x) | Valeur maximale de x |
        | médiane(x) | Valeur médiane de x |
        | min(x) | Valeur minimale de x |
        | percentileCont(p, x) | Centile continu de x, où p est le centile sous forme de nombre à virgule flottante compris entre 0 et 1. Par exemple, p = 0 renverra la valeur la plus basse, p = 0,5 renverra la médiane, p = 0,75 renverra le 75e percentile, p = 1 renverra la valeur la plus élevée, etc. Continu signifie que la valeur sera interpolée si nécessaire. Par exemple, centileCont( 0.5, #{FTRrcoaog83} ) renverra 2,5 si les valeurs échantillonnées de l'élément de données FTRrcoaog83 sont 1, 2, 3 et 4. |
        | devstd(x) | Écart type de x. Cette fonction est équivalente à stddevSamp. Il est suggéré d'utiliser plutôt la fonction stddevSamp pour plus de clarté. |
        | stddevPop(x) | Écart type de population de x : sqrt( somme( (x - avg(x))^2 ) / n ) |
        | stddevSamp(x) | Exemple d'écart type de x : sqrt( somme( (x - avg(x))^2 ) / ( n - 1 ) ). Notez que cette valeur n'est pas calculée lorsqu'il n'y a qu'un seul échantillon. |
        | somme(x) | Somme des valeurs de x |

        > **Note**
        >
        > Any items inside an aggregate function will be evaluated for all
        > sampled past periods, and then combined according to the formula
        > inside the aggregate function. Any items outside an aggregate
        > function will be evaluated for the period in which the
        > prediction is being made.

        Vous pouvez construire des expressions plus complexes en cliquant sur (ou
        en saisissant) l'un des éléments situés sous le champ de l'expression :
        ( ) \* / + - Jours.
        Des nombres constants peuvent être ajoutés par saisie. L'option "jours"
        insère \[jours] dans l'expression qui se résout en 
        nombre de jours dans la période d'où proviennent les données.

        Vous pouvez également utiliser les fonctions non agrégées suivantes dans votre 
        expression, soit à l'intérieur de fonctions agrégées, soit contenant 
        des fonctions agrégées, soit indépendantes des fonctions agrégées :


 | Fonction | Signification |
|---|---|
| si(test, valeurSiVrai, valeurSiFausse) | Évalue **test** qui est une expression qui correspond à une valeur booléenne -- voir **Notes sur l'expression booléenne** ci-dessous. Si le test est **vrai**, renvoie l'expression **valeurSiVrai**. Si c'est **faux**, renvoie l'expression **valeurSiFausse**. |
| est(expr1 dans l'expression [, expression ...]) | Renvoie vrai si expr1 est égal à l’une des expressions suivantes, sinon renvoie faux. |
| estNulle(élément) | Renvoie la valeur booléenne **vrai** si l'**item** est nul (manquant), sinon renvoie **faux**. L' **élément** peut être n'importe quel élément sélectionné à droite (élément de données, élément de données de programme, etc.). |
| n'estPasNul(élément) | Renvoie **vrai** si la valeur de l'**item** n'est pas manquante (non nulle), sinon renvoie **faux**. |
| premierNonNul(élément [, élément ...]) | Renvoie la valeur du premier **élément** non manquant (non nul). Peut obtenir un nombre quelconque d'arguments. Tout argument peut également être un littéral numérique ou de chaîne, qui sera renvoyé si tous les éléments précédents ont des valeurs manquantes. |
| plus grande(expression [, expression ...]) | Renvoie la plus grande valeur (la plus élevée) des expressions données. Peut obtenir un nombre quelconque d'arguments. |
| plus petite(expression [, expression ...]) | Renvoie la plus petite valeur des expressions données. Peut obtenir un nombre quelconque d'arguments. |
| log(expression [, base ]) | Renvoie le logarithme népérien (base e) de l'expression numérique. Si un entier est donné comme deuxième argument, renvoie le logarithme utilisant cette base. |
| log10(expression) | Renvoie le logarithme commun (base 10) de l'expression numérique. |
| normDistCum(x [,mean [,stddev]]) | Renvoie la valeur de la fonction de distribution cumulative (CDF) pour x étant donné la distribution normalisée décrite par la moyenne et stddev. Équivalent à Excel NORM.DIST(x,mean,stddev,TRUE) ou LibreOffice NORMDIST(x,mean,stddev,1). Si stddev n'est pas fourni, il est calculé à partir des valeurs échantillonnées passées de x. Si ni la moyenne ni l'écart type ne sont fournis, ils seront calculés à partir de la valeur échantillonnée passée de x. Voir des exemples. |
| normDistDen(x [,mean [,stddev]]) | Renvoie la valeur de la fonction de densité de probabilité (PDF) pour x étant donné la distribution normalisée décrite par la moyenne et stddev. Équivalent à Excel NORM.DIST(x,mean,stddev,FALSE) ou LibreOffice NORMDIST(x,mean,stddev,0). Si stddev n'est pas fourni, il sera calculé à partir des valeurs échantillonnées passées de x. Si ni la moyenne ni l'écart type ne sont fournis, ils seront calculés à partir de la valeur échantillonnée passée de x. Voir des exemples. |
| nul | Ne renvoie aucun résultat. Par exemple, _si( #{FH8ab5Rog83}<0, null, 1 )_ ne renvoie rien si la valeur de l'élément de données est inférieure à 0, sinon renvoie 1. |
| orgUnit.ancestor(orgUnitUid [, orgUnitUid ...]) | Renvoie "vrai" si l'unité d'organisation est un descendant de l'une des (1 ou plusieurs) unités d'organisation, sinon renvoie "faux". |
| orgUnit.dataSet(dataSetUid [, dataSetUid ...]) | Renvoie "vrai" si l'unité d'organisation est affectée à l'un des (1 ou plusieurs) ensembles de données, sinon renvoie "faux". |
| orgUnit.group(ouGroupUid [, ouGroupUid ...]) | Renvoie "vrai" si l'unité d'organisation est membre de l'un des (1 ou plusieurs) groupes d'unités d'organisation, sinon renvoie "faux". |
| orgUnit.program(programUid [, programUid ...]) | Renvoie "vrai" si l'unité d'organisation est affectée à l'un des (1 ou plusieurs) programmes, sinon renvoie "faux". |
| supprimerLesZéros(expression) | Ne renvoie rien si la valeur de l'expression est 0, sinon renvoie la valeur de l'expression. |
| .dateMax(aaaa-mm-jj) | Pour un élément de données (et non des données de programme), valeur des périodes se terminant à une date maximale ou avant. |
| .dateMin (aaaa-mm-jj) | Pour un élément de données (et non des données de programme), valeur des périodes commençant à une date minimale ou après. |

**Remarques sur l'expression booléenne :** Une expression booléenne doit évaluer par **vrai** ou **faux**. Les opérateurs suivants peuvent être utilisés pour comparer deux valeurs résultant en une expression booléenne : \<, \>, \!=, ==, \>= et \<=. Les opérateurs suivants peuvent être utilisés pour combiner deux expressions booléennes : && ou le mot-clé _et_ (et logique), et || ou le mot-clé _ou_ (ou logique). L'opérateur unaire \! ou le mot-clé _non_ (not en anglais) peut être utilisé pour annuler une expression booléenne.

**Exemples d'expressions de générateur :**


| Expression de générateur | Moyens |
|---|---|
| somme(#{FTRrcoaog83.tMwM3ZBd7BN}) | Somme des valeurs échantillonnées de l'élément de données FTRrcoaog83 et de la combinaison d'options de catégorie (désagrégation) tMwM3ZBd7BN |
| moyenne(I{GSae40Fyppf}) + 2 \* stddevSamp(I{GSae40Fyppf}) | Moyenne des valeurs échantillonnées de l'indicateur de programme GSae40Fyppf plus deux fois l'écart type de son échantillon|
| somme(D{IpHINAT79UW.eMyVanycQSC}) / somme([jours]) | Somme de toutes les valeurs échantillonnées de l'élément de données eMyVanycQSC du programme IpHINAT79UW divisée par le nombre de jours dans toutes les périodes d'échantillonnage (ce qui donne la valeur moyenne quotidienne générale) |
| somme(#{FTRrcoaog83}) + #{T7OyqQpUpNd} | Somme de toutes les valeurs échantillonnées de l'élément de données FTRrcoaog83 plus la valeur de l'élément de données T7OyqQpUpNd dans la période pour laquelle la prévision est effectuée (inclut toutes les désagrégations) |
| 1.2 \* A{IpHINAT79UW.RKLKz1H20EE} | 1,2 fois la valeur de l'attribut RKLKz1H20EE du programme IpHINAT79UW, dans la période prévue à cet effet |
| si(estNul(#{T7OyqQpUpNd}), 0, 1) | Si l'élément de données T7OyqQpUpNd est nul dans la période prédite, renvoie 0, sinon renvoie 1 |
| si(est(#{jeiTh8ahyae} dans 'NÉGATIF','INCONNU'), 0, 1) | Si l'élément de données jeiTh8ahyae a la valeur 'NEGATIVE' ou 'INCONNU', renvoie 0, sinon renvoie 1 |
| percentileCont(0.5, #{T7OyqQpUpNd}) | 50e centile continu des valeurs échantillonnées pour l'élément de données T7OyqQpUpNd. Notez que c'est la même chose que la médiane(#{T7OyqQpUpNd}) |
| si(nombre(#{T7OyqQpUpNd}) == 1, 0, stddevSamp(#{T7OyqQpUpNd})) | S'il existe une valeur d'échantillon pour l'élément de données T7OyqQpUpNd, renvoie 0, sinon renvoie l'écart type de ces valeurs d'échantillon. (Notez que si aucun échantillon n'est présent, stddevSamp ne renvoie aucune valeur, donc aucune valeur ne sera prédite.) |
| normDistCum(#{T7OyqQpUpNd}) | La fonction de distribution cumulative pour la valeur de la période actuelle de l'élément de données T7OyqQpUpNd basée sur la distribution normalisée définie par la moyenne et l'écart type des périodes échantillonnées passées de l'élément de données T7OyqQpUpNd |
| normDistCum( #{T7OyqQpUpNd}, médiane(#{T7OyqQpUpNd}) ) | La fonction de distribution cumulative pour la valeur de la période actuelle de l'élément de données T7OyqQpUpNd basée sur la distribution définie par la médiane (et non la moyenne) et l'écart type des périodes échantillonnées passées de l'élément de données T7OyqQpUpNd |
| normDistCum( #{T7OyqQpUpNd}, médiane(#{T7OyqQpUpNd}) ) | La fonction de distribution cumulative pour la valeur de la période actuelle de l'élément de données T7OyqQpUpNd basée sur la distribution définie par la médiane (et non la moyenne) et l'écart type des périodes échantillonnées passées de l'élément de données T7OyqQpUpNd |
| normDistCum( #{T7OyqQpUpNd}, avg(#{T7OyqQpUpNd}), stddev(#{T7OyqQpUpNd}) ) | Identique à normDistCum( #{T7OyqQpUpNd} ) |
| normDistDen( #{T7OyqQpUpNd}, avg(#{IKahz1Quie3}), stddev(#{IKahz1Quie3}) ) | La fonction de densité de probabilité pour la valeur de la période actuelle de l'élément de données T7OyqQpUpNd basée sur la distribution définie par la moyenne et l'écart type des périodes échantillonnées passées des différents éléments de données IKahz1Quie3 |
| normDistDen( median(#{T7OyqQpUpNd}), avg(#{IKahz1Quie3}), stddev(#{IKahz1Quie3}) ) | La fonction de densité de probabilité pour la médiane des valeurs échantillonnées passées de l'élément de données T7OyqQpUpNd basée sur la distribution définie par la moyenne et l'écart type des périodes échantillonnées passées des différents éléments de données IKahz1Quie3 |
| #{T7OyqQpUpNd}.minDate(2022-10-1) | Valeur à compter du 1er octobre 2022 |
| #{T7OyqQpUpNd}.maxDate(2022-12-31) | Valeur au plus tard le 31 décembre 2022 |
| #{T7OyqQpUpNd}.dateMin(2022-10-1).dateMax(2022-12-31) | Valeur entre le 1er octobre 2022 et le 31 décembre 2022 |

12. (Facultatif) Créez un **Exemple de test de saut**. L'exemple de test de saut indique
    les périodes précédentes, s'il y'en a, à exclure de l'échantillon.

    1.  Saisissez une **Description** du test de saut.

    2.  Entrez l’expression du test de saut d'échantillon. Vous pouvez construire
        l'expression en sélectionnant des éléments de données pour les données agrégées, ou
        les éléments de données, attributs ou indicateurs de programme. Le comptage
        des unités d'organisation n'est pas encore pris en charge. Comme pour la fonction de
        générateur, vous pouvez cliquer sur (ou entrer) l'un des éléments situés sous
        le champ d'expression : ( ) \* / + - Jours.

        Les fonctions non agrégées décrites ci-dessus pour les expressions de générateur peuvent également être utilisées
        dans les tests de saut.

        L'expression doit être évaluée à une valeur booléenne de **vrai** ou
        **faux**. Voir les **notes sur les expressions booléennes** ci-dessus.

        Exemples d'expression de test de saut :


        | Expression de saut de texte | Signification |
        |---|---|
        | #{FTRrcoaog83} \> #{M62VHgYT2n0} | La valeur de l'élément de données FTRrcoaog83 (somme de toutes les désagrégations) est supérieure à la valeur de l'élément de données M62VHgYT2n0 (somme de toutes les désagrégations) |
        | #{uF1DLnZNlWe} \> 0 | La valeur de l'élément de données uF1DLnZNlWe (somme de toutes les désagrégations) est supérieure à zéro |
        | #{FTRrcoaog83} \> #{M62VHgYT2n0} &#124;&#124; #{uF1DLnZNlWe} \> 0 | La valeur de l'élément de données FTRrcoaog83 (somme de toutes les désagrégations) est supérieure à la valeur de l'élément de données M62VHgYT2n0 (somme de toutes les désagrégations) ou la valeur de l'élément de données uF1DLnZNlWe (somme de toutes les désagrégations) est supérieure à zéro |

13. Entrez une valeur pour **Nombre d'échantillons séquentiels**.

    Il s'agit du nombre de périodes séquentielles que le calcul doit remonter 
    pour échantillonner les données pour les calculs.

14. Entrez une valeur pour **Nombre d'échantillons annuels**.

    Il s'agit du nombre d'années que le calcul doit remonter pour
    pour échantillonner les données pour les calculs.

15. (Facultatif) Entrez une valeur pour **Nombre de sauts séquentiels**.

    Il s'agit du nombre de périodes séquentielles précédant immédiatement la
    période de la valeur prédite, qui doivent être ignorées avant l'échantillonnage des données.

16. Cliquez sur **Sauvegarder**.

### Prédictions par groupe d'éléments de données { #predictions_by_data_element_group }

Vous pouvez utiliser un seul prédicteur pour opérer sur tous les éléments de données d'un groupe au lieu d'un prédicteur différent pour chaque élément de données. Cette fonctionnalité peut être utilisée, par exemple, dans la gestion logistique lorsqu'un élément de données est utilisé pour chaque produit et qu'une combinaison d'options de catégorie est utilisée pour chaque comptage lié à ce produit.

La syntaxe est :

    forEach ?de dans :DEG:degUid --> expression principale

où :

| partie | signifie |
|---|---|
| forEach | mot clé à placer au début de l'expression |
| ?_de_ | tout nom de variable commençant par « ? », puis une lettre, puis éventuellement un nombre quelconque de lettres ou de chiffres supplémentaires (sensible à la casse). Exemples : ?de, ?X, ?élémentDeDonnées, etc. |
| dans | mot clé |
| :DEG:_degUid_ | la notation :DEG : suivie de l'UID du groupe de données contenant les données à traiter |
| --> | à placer avant l'expression principale |
| _expression principale_ | l'expression à opérer sur chaque élément de données du groupe. Dans cette expression, utilisez le nom de la variable (tel que ?de) comme espace réservé pour chaque élément de données. |

Le prédicteur s'exécute une fois pour chaque élément de données du groupe d'éléments de données.
Pour chaque élément de données, les instances de la variable dans l'expression principale sont remplacées par cet élément de données. Le même élément de données est également utilisé comme élément de données de sortie du prédicteur.
La valeur prédite est écrite dans cet élément de données à l'aide de la combinaison d'options de catégorie de sortie configurée.

Le prédicteur doit être configuré avec un élément de données de sortie, mais celui-ci est ignoré lors de l'exécution du prédicteur.
Il est recommandé de configurer le prédicteur avec l'un des éléments de données du groupe d'éléments de données que le prédicteur utilisera.
Vous pouvez ainsi sélectionner une combinaison d'options de catégorie de sortie valide pour cet élément de données.

Lorsque le prédicteur est créé, le groupe d'éléments de données doit contenir au moins un élément de données du type que vous utiliserez. (Le type de données de l'élément de données est utilisé lors de la vérification de la syntaxe du prédicteur.)

#### Exemple 1 { #example-1 }

Vos éléments de données représentent divers produits, lesquels appartiennent à un groupe d'éléments de données qui a pour UID <code>aIMu0nieph7</code>.

Vos combinaisons d’options de catégorie ont les UID suivants :

| combinaison d'options de catégorie | signifie |
|---|---|
| <code>Gvoecom5muL</code> | Stock au début de la période |
| <code>CWa6eew5uco</code> | Réapprovisionnement pendant la période |
| <code>nthohhie8Ba</code> | Utilisé pendant la période |
| <code>Faey8Iphooy</code> | Perdu, endommagé, expiré ou volé pendant la période |

L'expression de génération du prédicteur suivant calculera le solde des stocks au début de la période suivante (stock initial + réapprovisionnement - stock utilisé - stock perdu) :

<pre><code>forEach ?de in :DEG:aIMu0nieph7 -->
sum( #{?de.Gvoecom5muL} + #{?de.CWa6eew5uco} - #{?de.nthohhie8Ba} - #{?de.Faey8Iphooy} )</code></pre>

La configuration du prédicteur comprend :

| propriété | valeur |
|---|---|
| Élément de données de sortie | un des éléments de données du groupe |
| Combinaison d'options de catégorie de sortie | Solde des stocks en début de période (<code>Gvoecom5muL</code>) |
| Unités d'organisation fournissant des données | Au(x) niveau(s) sélectionné(s) uniquement |
| Nombre d'échantillons séquentiels | 1 |
| Nombre d'échantillons annuels | 0 |

Le prédicteur s'exécute une fois pour chaque élément de données du groupe d'éléments de données. Étant donné que la fonction d'agrégation <code>somme()</code> est utilisée dans l'expression de génération du prédicteur, toutes les valeurs de l'expression seront extraites de la période précédente (puisque le nombre d'échantillons séquentiels est égal à 1). Le prédicteur écrira le solde initial de chaque élément de données pour les périodes comprises entre les dates de début et de fin de l'exécution du prédicteur, pour les unités d'organisation au(x) niveau(x) sélectionné(s).

Les prédictions sont toujours effectuées à l'avance. Le solde initial prédit pour une période peut être utilisé pour calculer le solde initial de la période suivante.

#### Exemple 2 { #example-2 }

Si vous voulez effectuer des prédictions pour la même période que les données d'entrée, il suffit d'omettre la fonction d'agrégation <code>somme()</code>. Pour compléter l'exemple précédent, supposons que vous disposiez d'une autre combinaison d'options de catégorie qui calcule la variation nette du stock au cours de la période :

| combinaison d'options de catégorie | signifie |
|---|---|
| <code>Hpiek8IefoS</code> | Variation du stock au cours de la période |

Vous pouvez utiliser l'expression suivante pour calculer la variation du stock ( réapprovisionnement - stock utilisé - stock perdu ) :

<pre><code>forEach ?de dans :DEG:aIMu0nieph7 -->
#{?de.CWa6eew5uco} - #{?de.nthohhie8Ba} - #{?de.Faey8Iphooy}</code></pre>

La combinaison d’options de catégorie de sortie est :

| propriété | valeur |
|---|---|
| Combinaison d'options de catégorie de sortie | Variation du stock au cours de la période (<code>Hpiek8IefoS</code>) |

Puisqu'il n'y a pas de fonction d'agrégation telle que <code>somme()</code> autour des éléments de l'expression, les données d'entrée proviennent de la même période que la sortie du prédicteur.

### Créer ou modifier un groupe de prédicteurs { #create_predictor_group } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Groupe de
    prédicteurs**.

2.  Cliquez sur le bouton Ajouter.

3.  Saisissez un **Nom**. Ce champ doit être unique.

4.  (Facultatif) Dans le champ **Code**, attribuez un code. Ce champ doit
    être unique.

5.  (Facultatif) Saisissez une **Description**.

6.  Double-cliquez sur les **prédicteurs** que vous souhaitez attribuer au groupe.

7.  Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les push reports { #manage_push_report } 

### À propos des push reports { #about_push_report } 

La fonctionnalité push vous permet de faire connaître davantage et d'utiliser l'analyse des données à travers l'envoi de rapports contenant des graphiques, des tableaux et des cartes, directement aux adresses électroniques des utilisateurs.

  - Un rapport push tire son contenu des tableaux de bord existants.

  - Un rapport push classe les éléments du tableau de bord dans le même ordre que celui du 
    tableau de bord.

  - Un rapport push ne peut contenir que des éléments de tableau de bord ayant des graphiques, des cartes ou des 
    tableaux.

  - Vous pouvez créer le rapport push et le programmer dans l'application **Maintenance**.
     

  - Les paramètres **Titre** et **Message** que vous avez configurés dans
    l'application **Maintenance** sont inclus dans chaque rapport. Le **Nom** que vous
    donnez au rapport n’est pas inclus dans le rapport. Il est plutôt
    utilisé pour identifier l’objet de l'analyse push dans le système. Ainsi, un
    rapport peut être nommé d'une manière et son titre peut être
    tout autre.

  - Lorsque vous exécutez une tâche de rapport push, le système constitue une liste de
    destinataires provenant des groupes d’utilisateurs que vous avez sélectionnés. Le système
    génère ensuite un rapport pour chaque membre des groupes d'utilisateurs sélectionnés. Chaque
    élément du tableau de bord est généré de manière spécifique pour chaque utilisateur.
    Cela signifie que les données incluses dans le rapport reflètent les données
    auxquelles l'utilisateur a accès. Tous les utilisateurs pourraient donc recevoir un même
    rapport (si toutes les données sont "statiques") ou des rapports personnalisés (si toutes les 
    données sont "dynamiques"), ou une combinaison des deux.

  - Les rapports push sont envoyés par mail aux destinataires, et non via le
    système de messagerie interne de DHIS2. Si un utilisateur ne dispose pas d'une adresse mail valide,
    ou si la tâche échoue, aucun mail ne sera envoyé. Dans ce cas, le
    problème est enregistré sur le serveur.

> **N.B**
>
> Les données générées dans les rapports push sont publiques. Assurez-vous donc que des données sensibles n'y soient pas incluses. >


![](resources/images/maintenance/push_report_ex.png)

Dans l'application **Maintenance**, vous gérez les objets de rapports push ci-après :



Tableau : Objets de rapports push dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Analyse push | Créer, modifier, cloner, supprimer, afficher les détails, traduire, prévisualiser et exécuter |

### Créer ou modifier un rapport push { #create_push_report } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Analyse
    push**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, entrez le nom du rapport prévu.

    Ce nom n'est pas inclus dans le mail du rapport. Il est plutôt
    utilisé pour identifier l’objet de l'analyse push dans le système.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Ajoutez un **Titre** au rapport.

    Ce titre est inclus dans le mail du rapport.

6.  (Facultatif) Ajoutez un **Message**.

    Ce message est inclus dans le mail du rapport.

7.  Sélectionnez un **Tableau de bord** sur lequel vous placerez le rapport.

8.  Sélectionnez et attribuez les groupes d'utilisateurs auxquels vous voulez envoyer le rapport.

9.  Sélectionnez une **Fréquence de programmation** : **Journalier**, **Hebdomadaire** ou
    **Mensuel**.

    > **Note**
    >
    > If you schedule a push report to "Monthly" and "31", the scheduled
    > report job will not run if the month has less than 31 days.

10. (Facultatif) Sélectionnez **Activer** pour activer la tâche de rapport push.

    La tâche ne sera pas exécutée tant que vous ne l'aurez pas activée.

11. Cliquez sur **Sauvegarder**.

### Prévisualiser les rapports push { #preview_push_report } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Analyse
    push**.

2.  Dans la liste des rapports push, identifiez le rapport push que vous voulez visualiser.

3.  Cliquez sur le menu Options et sélectionnez **Aperçu**.

    Un aperçu du rapport push s'ouvre dans une nouvelle fenêtre.

### Exécuter les tâches de rapport push { #run_push_report } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Analyse
    push**.

2.  Dans la liste des rapports push, identifiez le rapport push que vous voulez exécuter.

3.  Cliquez sur le menu Options et sélectionnez **Exécuter maintenant**.

    La tâche de Rapport push s'exécute immédiatement.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gérer les couches de carte externes { #manage_external_maplayer } 

### À propos des couches de carte externes { #about_gis_map_layers } 

Vous pouvez paramétrer le SIG en incluant des couches cartographiques provenant de diverses sources et les combinez avec vos propres données dans DHIS2. DHIS2 prend en charge les formats de service cartographique courants tels que : Web Map Service (WMS), Tile Map Service (TMS), XYZ tiles et Vector tiles (Style de Vecteur).

### Créer ou modifier une couche de carte externe { #create_external_map_layer } 

> **N.B.**
>
> DHIS2 ne prend en charge que la projection Web Mercator ([EPSG:3857](https://epsg.io/3857)) ; assurez-vous donc que le service externe prenne en charge cette projection. >>



Tableau : Objets de couche de carte externe dans l'application Maintenance

| Type d'objet | Fonctions disponibles |
|---|---|
| Couche de carte externe | Créer, modifier, cloner, supprimer, afficher les détails et traduire |

1.  Ouvrez l'application **Maintenance** et cliquez sur **Autre** \> **Couche de carte 
    externe**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, saisissez un nom qui décrit le contenu de la 
    couche de carte externe.

    C'est ce nom que vous verrez dans l'application **Cartes**.

4.  (Facultatif) Dans le champ **Code**, attribuez un code.

5.  Sélectionnez un format de **Service cartographique**.

    DHIS2 prend en charge quatre formats courants de services cartographiques :

      - Le Web Map Service (WMS)

        **Format d'image** : Le format PNG permet aux couches d'être transparentes,
        Le format JPG offre une meilleure compression et son chargement est souvent rapide.
         

        **Couches** : un WMS peut contenir plusieurs couches individuelles, et vous
        pouvez spécifier les éléments que vous voulez inclure (séparés par des virgules). Référez-vous
        au document WMS GetCapabilities pour voir les couches disponibles.

      - Le Tile Map Service (TMS)

      - Les pavés XYZ (peuvent également être utilisées pour le WMTS)

      - Vector tiles (Style de Vecteur)

      Lorsque Style de Vecteur est choisi, vous pouvez ajouter une valeur pour "Avant l'identifiant de la couche". Cette valeur indique l'identifiant de la couche dans la pile de tuiles du Vecteur (couches) dans laquelle les couches de l'utilisateur (telles que les couches thématiques et d'événements) seront insérées. Si cette valeur n'est pas définie, les couches de l'utilisateur seront placés au-dessus des couches présentes dans Style de Vecteur. L'URL du service de cartographie doit être un document JSON conforme à la [Spécification de style Mapbox GL](https://docs.mapbox.com/mapbox-gl-js/style-spec/).

6.  Entrez l' **URL** dans le service de cartographie.

    > **Note**
    >
    > XYZ and TMS URLs must contain placeholders {}, for example:
    > http://{s}.tile.osm.org/{z}/{x}/{y}.png.

7.  (Facultatif) Entrez la **Source** des couches de la carte. Le champ peut contenir
    des balises HTML si vous voulez créer un lien vers la source.

    Lorsque vous utilisez un service de cartographie externe, il est important de spécifier 
    la provenance des données.

8.  Sélectionnez un **Positionnement** :

      - **Bas - fond de carte** : dans l'application Cartes, cela rend la couche de carte externe
        sélectionnable en tant que fond de carte (c'est-à-dire comme alternative aux fonds de carte de 
        DHIS2).

      - **Haut - superposition** : dans l'application Cartes, cela permet à la carte externe
        d'être ajouté à partir de la sélection "Ajouter une couche" et placé n'importe où au-dessus
        du fond de carte.

    Notez que les couches de Style de Vecteur ne peuvent être ajoutées qu’en tant que fond de carte.

9.  (Facultatif) Ajoutez une légende.

    Vous pouvez ajouter une légende de deux façons :

      - Sélectionnez une **Légende** prédéfinie pour décrire les couleurs de la couche de
        carte.

        > **Tip**
        >
        > Click **Add new** to create legends that you're missing. In
        > the form that opens, create the legends you need. When you're
        > done, click **Refresh values**.

      - Saisissez un lien qui conduit vers une légende d'image externe dans **URL de l'image de 
        légende**.

        Tout ceci est souvent fournis pour le WMS. Voir l'URL de la légende dans le document 
        GetCapabilites de WMS.

10. Cliquez sur **Sauvegarder**.

### Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

### Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.

## Gestion des vues SQL { #maintenance_sql_view } 

La fonctionnalité de vue SQL de DHIS2 permet de stocker la définition de la vue SQL en interne, puis de matérialiser la vue lorsqu'elle est demandée.

Les administrateurs de bases de données doivent faire attention à ne pas créer des vues de base de données directement dans la base de données de DHIS2. Par exemple, lorsque les tableaux de ressources sont générés, ils seront d'abord tous supprimés puis recrées. Si des vues SQL dépendent de ces tableaux, une exception de violation de l'intégrité sera alors lancée et le processus sera interrompu.

Les vues SQL sont déposées par ordre alphabétique inverse en fonction de leurs noms dans DHIS2, et créées dans l'ordre alphabétique normal. Cela vous permet d'avoir des dépendances entre les vues SQL, étant donné que les vues ne dépendent que des autres vues qui arrivent plus tôt dans l'ordre alphabétique. Par exemple, "Vue B" peut dépendre sans risque de "Vue A". Sinon, le fait d'avoir des vues dépendantes d'autres vues entraîne une erreur de violation d'intégrité.

### Créer une nouvelle vue SQL { #creating-a-new-sql-view } 

Pour créer une nouvelle vue SQL, cliquez sur **Apps** \> **Maintenance** \> **Autre** \> **Vue SQL** et cliquez sur le bouton Ajouter **+**.


![](resources/images/maintenance/create_sql_view.PNG)

L'attribut " Nom " de la vue SQL sera utilisé pour déterminer le nom du tableau que DHIS2 créera lorsque la vue sera matérialisée par l'utilisateur. L'attribut "Description" permet de fournir un texte descriptif de ce que fait la vue SQL.

L'attribut "Type de SQL" permet de créer trois types de vues :
  - Une "Vue" est stockée dans la base de données et est régénérée lorsqu'elle fait l'objet d'une requête
  - Une "Vue Matérialisée" est stockée dans la base de données et ses résultats
    sont mis en cache dans la base de données
  - Une "Requête" n'est pas stockée dans la base de données

Enfin, la "requête SQL" doit contenir la définition de la vue SQL.

Seules les commandes SQL " SÉLECTIONNER " sont autorisées et certains tableaux sensibles (c'est-à-dire les informations des utilisateurs) ne sont pas accessibles.

Cliquez sur "Sauvegarder" pour stocker la définition de la vue SQL. Si vous avez créé une "Vue" ou une "Vue Matérialisée", vous devez également "Exécuter la requête" pour terminer la création de la vue SQL.

Gardez à l'esprit que les colonnes renvoyées par la commande SELECTIONNER utilisée deviennent des colonnes de tableau, ce qui signifie qu'elles doivent être une colonne de tableau valide. Lorsque des fonctions sont utilisées, il peut être nécessaire de convertir explicitement le résultat en un type en ajoutant `::{TYPE}` après la fonction.

Par exemple, au lieu de `jsonb_chacun` (qui renverrait un type d'enregistrement qui ne peut pas être un type de colonne) utilisez `jsonb_chacun_texte` et convertissez le résultat en `texte`, comme dans l'exemple ci-dessous :

```sql
sélectionnez jsonb_chacun_texte(donnéesévènements)::texte...
```

### Vues SQL qui appellent d'autres vues SQL { #sql-views-that-call-other-sql-views }

Si vous voulez effectuer une requête SQL sous forme de "vue", son **type de SQL** doit être " Vue " ou " Vue matérialisée " (et non " Requête "). Elle doit également faire l'objet d'une **exécution de requête** avant d'être affichée.

Par exemple, si vous avez créé une vue nommée **Nombre d'éléments de données** avec le type de SQL "Vue" et ce SQL :

```sql
sélectionnez nombre(*) comme nombre d'éléments de données ;
```

... ensuite vous pouvez cliquer sur **Exécuter la requête** à partir du menu contextuel et créer une deuxième vue SQL nommée **Plus de 100 éléments de données** avec ce SQL :

```sql
sélectionnez le cas lorsque le nombre > 100 puis 1 sinon le résultat pour _voir_le nombre_d'élément_de données sera 0 ;
```

### Gestion des vues SQL { #sql-view-management } 

Pour utiliser les vues SQL, il suffit de cliquer sur la vue et, dans le menu contextuel, de choisir "Exécuter la requête". Une fois le processus terminé, vous serez informé de la création d'un tableau. Le nom du tableau sera fourni, et est composé à partir de l'attribut "Description" fourni dans la définition de la vue SQL. Une fois que la vue est générée, vous pouvez alors la visualiser en cliquant à nouveau sur la vue et en sélectionnant "Afficher la vue SQL".

> **Conseils**
>
> Si vous avez une vue qui dépend d'une autre vue, vous devez donc faire attention à la façon dont les vues sont nommées. Lorsque l'analyse est exécutée sur le serveur DHIS2, toutes les vues doivent être supprimées et recréées. Lorsque vous lancez l'analyse, les vues sont supprimées par ordre alphabétique, puis recréées par ordre alphabétique inverse. Ainsi, si la vue A dépend de la vue B, elle doit apparaître avant la vue B dans l'ordre alphabétique. Si elle apparaît après la vue B dans l'ordre alphabétique, l'analyse peut échouer, car la vue et les dépendances ne seront pas disposées dans le bon ordre. >>>>>>>

## Gérer les emplacements{ #maintenance_locale_management } 

Il est possible de créer des emplacements personnalisés dans DHIS2. En plus des lieux disponibles dans le système, vous pouvez ajouter au système un emplacement personnalisé tel que "Anglais" et "Zambie". Cela vous permet de traduire les objets de métadonnées dans les langues locales, ou de tenir compte de légères variations entre pays utilisant une même définition des métadonnées.


![](resources/images/maintenance/locale_management.png)

L'emplacement est composés d'une langue et d'un pays. Sélectionnez les valeurs souhaitées et cliquez sur "Ajouter". Cet emplacement personnalisé sera maintenant disponible comme l'un des emplacements de traduction dans le système.

## Modifier plusieurs groupes d'objets à la fois { #edit_multiple_object_groups } 

L'**Éditeur de groupes de métadonnées** de l'application **Maintenance** vous permet de modifier plusieurs groupes d'objets à la fois. Vous pouvez modifier les types d'objets suivants :



Tableau : Types d'objets dans l'Editeur de groupes de métadonnées

| Type d'objet | Fonctions disponibles |
|---|---|
| Option de catégorie ||
| Groupe d'options de catégorie ||
| Élément de données | Ajoutez un élément de données à plusieurs groupes d'éléments de données<br> <br>Supprimez un élément de données de plusieurs groupes d'éléments de données |
| Groupe d'éléments de données | Ajoutez plusieurs éléments de données à un groupe d'éléments de données<br> <br>Supprimez plusieurs éléments de données d'un groupe d'éléments de données |
| Indicateur | Ajoutez un indicateur à plusieurs groupes d'indicateurs<br> <br>Supprimez un indicateur de plusieurs groupes d'indicateurs |
| Groupe d’indicateurs | Ajouter plusieurs indicateurs à un groupe d'indicateurs<br> <br>Supprimer plusieurs indicateurs d'un groupe d'indicateurs |

### Modifier plusieurs objets dans un groupe d'objets { #edit-multiple-objects-in-an-object-group } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Éditeur de groupes de métadonnées**.

2.  Cliquez sur **Gérer les éléments du groupe**.

3.  Sélectionnez un type de groupe d'objets, par exemple **Groupes d'indicateurs**.

4.  Sélectionnez un groupe d'objets, par exemple **VIH**.

5.  Dans la liste de gauche, sélectionnez le ou les objets que vous voulez ajouter au
    groupe d’objets et cliquez sur la flèche droite.

6.  Dans la liste de droite, sélectionnez le ou les objets que vous voulez supprimer du
    groupe d’objets et cliquez sur la flèche gauche.

### Modifier un objet dans plusieurs groupes d'objets { #edit-an-object-in-multiple-object-groups } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Éditeur de groupes de métadonnées**.

2.  Cliquez sur **Gérer les groupes pour l'élément**.

3.  Sélectionnez un type d'objet, par exemple **Indicateurs**.

4.  Sélectionnez un objet, par exemple **couverture de CPN MILD**.

5.  Dans la liste de gauche, sélectionnez le(s) groupe(s) d'objets auxquels vous voulez ajouter
    l’objet et cliquez sur la flèche droite.

6.  Dans la liste de droite, sélectionnez le(s) groupe(s) d'objets desquels vous voulez
    supprimez l’objet et cliquez sur la flèche gauche.



# Configurer les programmes dans l'application Maintenance { #configure_programs_in_maintenance_app } 

## À propos des programmes { #about_program_maintenance_app } 

Habituellement, les systèmes d'information de la santé publique communiquent des 
données agrégées sur la prestation de services dans le cadre des programmes de santé. 
Cela ne permet pas de suivre les personnes ayant bénéficié de ces services. Dans le 
DHIS2, vous pouvez définir vos propres programmes avec des étapes. Ces programmes 
sont une partie essentielle de la fonctionnalité "tracker" qui vous permet de suivre 
les dossiers individuels. Vous pouvez également suivre d'autres ‘entités’ telles que des puits 
ou des assurances. Vous pouvez créer deux types de programmes :



Tableau : Types de programmes

| Type de programme | Description | Exemples d'utilisation |
|---|---|---|
| Programme d'événement | Programme d'événement unique *sans* enregistrement (programme anonyme ou SEWoR) <br><br>Les événements individuels anonymes sont suivis par le système de santé. Aucune personne ou entité n'est associée à ces transactions individuelles. <br><br>N'a qu'une seule étape de programme. | Enregistrer des cas de santé sans enregistrer d'informations dans le système.<br><br> Enregistrer des données d'enquête ou des listes de surveillance. |
| Programme Tracker à étape unique | Événement unique *avec* programme d'enregistrement (SEWR)<br><br> Une entité (personne, produit, etc.) est suivie lors de chaque transaction individuelle avec le système de santé<br><br>. Comporte une seule étape du programme.<br><br> Une instance d'entité suivie (TEI) ne peut s'inscrire qu'une seule fois au programme. | Enregistrer l'acte de naissance et l'acte de décès. |
| Programme Tracker à plusieurs étapes | Événements multiples *avec* programme d'enregistrement (MEWR)<br><br> Une entité (personne, produit, etc.) est suivie à travers chaque transaction individuelle avec le système de santé<br><br>. Comporte plusieurs étapes du programme.  | Programme de santé maternelle avec des étapes comme la visite de CPN (2-4+), l'accouchement, la visite de consultation postnatale (CPN) |

Pour créer un programme, vous devez d'abord configurer plusieurs types d'objets de 
métadonnées. Vous pouvez créer ces objets de métadonnées dans l'application **Maintenance**.



Tableau : Objets de métadonnées du programme dans l'application Maintenance

| Type d'objet | Description | Fonctions disponibles |
|---|---|---|
| Programme d'événement | Un programme d'enregistrement d'un événement unique sans inscription | Créer, modifier, partager, supprimer, afficher les détails et traduire |
| Programme Tracker | Un programme d'enregistrement d'événements uniques ou multiples avec inscription | Créer, modifier, partager, supprimer, afficher les détails et traduire |
| Indicateur de programme | Une expression basée sur des éléments de données et des attributs d'entités suivies que vous utilisez pour calculer des valeurs basées sur une formule. | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Règle du programme | Permet de créer et de contrôler le comportement dynamique de l'interface utilisateur dans les applications de **Saisie Tracker** et de **Saisie d'Evénement**. | Créer, modifier, cloner, supprimer, afficher les détails et traduire |
| Variable de la Règle du Programme | Variables utilisées pour créer des expressions de règles de programme. | Créer, modifier, cloner, supprimer, afficher les détails et traduire |
| Type de relation | Définit la relation entre l'entité suivie A et l'entité suivie B, par exemple mère et enfant. | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Type d'entité suivie | Types d'entités qui peuvent être suivies par le système. Il peut s'agir de tout type d'entité, des personnes aux marchandises, par exemple un médicament ou une personne.<br><br> Un programme doit avoir une entité suivie. Pour inscrire une instance d'entité suivie dans un programme, l'entité suivie d'une entité et l'entité suivie d'un programme doivent être identiques.<br><br> **NB** <br><br>Un programme doit être spécifié avec une seule entité suivie. Seules les entités suivies identiques à l'entité suivie du programme peuvent s'inscrire à ce programme. | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Attribut d’entité suivie | Utilisés pour enregistrer des informations supplémentaires pour une entité suivie. <br><br> Peuvent être partagés entre les programmes. | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Programme | Un programme est composé d'étapes. | Créer, modifier, partager, supprimer, assigner à des unités d'organisation , afficher les détails et traduire |
| Étape du programme | Une étape du programme définit les mesure devant être prises à chaque étape. | Créer, modifier, partager, modifier l'ordre de tri, supprimer, afficher les détails et traduire |
| Groupe d'indicateurs du programme | Un groupe d'indicateurs de programme | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Règle de validation | Une règle de validation est basée sur une expression qui définit une relation entre les valeurs des éléments de données. | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Notification du programme | Message de rappel automatisé<br><br> Définissez des rappels qui seront automatiquement envoyés aux instances des entités suivies avant les rendez-vous programmés et après les visites manquées. | Créer, modifier et supprimer |
| Notification de l'étape du programme | Rappel de message automatisé<br><br> Définissez des rappels à envoyer automatiquement à chaque fois qu'une étape du programme est terminée, ou avant ou après la date limite. | Créer, modifier et supprimer |

## Configurer les programmes d'événements dans l'application Maintenance { #configure_event_program_in_maintenance_app } 

### À propos des programmes d'événements { #about_event_program } 

Les événements uniques *sans* programmes d'inscription sont appelés programmes 
d'événements. Vous pouvez les configurer dans l'application **Maintenance**. Les programmes d'événements peuvent avoir 
trois types de formulaires de saisie de données :



Tableau : Types de formulaires de saisie de données pour les programmes d'événements

| Type de formulaire | Description |
|---|---|
| Basique | Liste tous les éléments de données qui appartiennent au programme. Vous pouvez modifier l'ordre des éléments de données. |
| Section | Une section regroupe les éléments de données dans un ordre spécifique. Vous pouvez ensuite organiser l'ordre des sections pour déterminer la présentation souhaitée pour le formulaire de saisie de données. |
| Personnalisé | Définit le formulaire de saisie comme une page HTML. |

> **N.B.**
>
> - Les formulaires personnalisés ont la priorité sur les formulaires à sections si les deux sont 
> présents.
>
> - Si aucun formulaire personnalisé ou à sections n'est défini, le formulaire de base sera 
> alors utilisé.
>
> - L'application Android ne prend en charge que les formulaires à sections.

Vous pouvez créer des *notifications de programme* pour les programmes d'événements. 
Les notifications sont envoyées soit par le système de messagerie interne de DHIS2, 
soit par e-mail, soit par message texte (SMS). Vous pouvez utiliser les notifications de 
programme pour, par exemple, envoyer un rappel automatique à une entité suivie 10 jours 
avant un rendez-vous prévu. Vous utilisez les attributs de l'entité suivie du programme 
(par exemple le prénom) et les paramètres du programme (par exemple 
la date d'inscription) pour créer un modèle de notification. Dans le 
champ **Paramètres**, vous trouverez une liste des attributs de l'entité suivie 
et des paramètres du programme disponibles.

### Flux de production : Créer un programme d'événement { #workflow_event_program } 

1.  Entrez les détails du programme de l'événement.

2.  Attribuer des éléments de données.

3.  Créer un ou plusieurs formulaires de saisie de données : **Base**, **Section** ou **Personnalisé**.

4.  Affectez le programme à une ou plusieurs unités d'organisation.

5.  Créer une ou des notifications de programme.

### Créer ou modifier un programme d'événement { #create_event_program } 

#### Entrez les détails du programme de l'événement. { #enter-event-program-details } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Programme**.

2.  Cliquez sur le bouton d'ajout et sélectionnez **Programme de l'événement** dans le menu popup.

3.  Entrez les détails du programme, puis cliquez sur suivant.


    | Champ | Description |
    |---|---|
    | **Nom** | Nom du programme. |
    | **Couleur** | Couleur utilisée pour ce programme dans les applications de saisie de données. |
    | **Icône** | Icône utilisée pour ce programme dans les applications de saisie de données. |
    | **Nom abrégé** | Nom abrégé du programme. Le nom abrégé est utilisé comme titre par défaut du graphique ou du tableau dans les applications d'analyse. |
    | **Description** |Une description détaillée du programme. |
    | **Version** | La version du programme. Elle est utilisée par exemple lorsque des personnes collectent des données hors ligne dans le cadre d'une implémentation Android. Lorsqu'ils vont en ligne et synchronisent leurs métadonnées, ils doivent obtenir la dernière version du programme. |
    | **Combinaison de catégories** | La combinaison de catégories que vous souhaitez utiliser. La valeur par défaut est **Aucune**. |
    | **Jours ouverts après la date de fin de l'option de catégorie** | Si vous avez sélectionné une combinaison de catégories autre que "Aucune", vous pouvez saisir zéro ou un nombre positif. Cela vous permet de saisir des données dans ce programme pour une option de catégorie jusqu'au nombre de jours spécifié après la date de fin de cette option de catégorie.   |
    | **Flux de travail d'approbation des données** | Le flux de travail d'approbation des données que vous souhaitez utiliser. Le paramètre par défaut est **Aucune valeur**. |
    | **Date d'expiration des événements terminés** | Définit le nombre de jours pendant lesquels vous pouvez modifier un événement terminé. Cela signifie que lorsqu'un événement est terminé et que le nombre de jours d'expiration spécifié est écoulé, l'événement est verrouillé.<br>     <br>Si vous réglez "Jours d'expiration des événements terminés" sur 10", un événement est verrouillé dix jours après sa date de fin. Après cette date, vous ne pouvez plus modifier l'événement. |
    | **Type de période d'expiration**<br>     <br>**Jours d'expiration** | Les jours d'expiration définissent le nombre de jours après la fin de la période précédente pendant lesquels un événement peut être modifié. Le type de période est défini par le type de période d'expiration. Cela signifie que lorsque le nombre spécifié de jours d'expiration s'est écoulé depuis la date de fin de la période précédente, les événements de cette période sont verrouillés.<br>     <br>Si vous réglez le type d'expiration sur "Mensuel" et les jours d'expiration sur "10" et que le mois est octobre, vous ne pouvez pas ajouter ou modifier un événement pour octobre après le 10 Novembre. |
    | **Bloquer le formulaire d'inscription une fois l'événement terminé** | Cochez la case pour bloquer le formulaire d'inscription une fois l'événement de ce programme terminé.<br>     <br>Cela signifie que les données du formulaire de saisie ne peuvent pas être modifiées tant que vous n'avez pas rétabli le statut " non terminé ". |
    | **Type d'entité** | Définit si le programme doit saisir un type d'entité géographique ou non. <br>- **Aucune** Rien n'est saisi. <br>- **Polygone** Une zone est saisie. Pour les programmes à événement unique, la zone sera la zone représentant l'événement saisi. Pour les programmes tracker, la zone représentera la zone d'inscription.<br>- **Point** Un point/une coordonnée est saisi(e). Pour les programmes à événement unique, le point représentera l'événement saisi. Pour les programmes tracker, le point représentera l'inscription. |
| **Stratégie de validation** | Définit les exigences de validation côté serveur et côté client. <br><br>La validation du type de données est toujours effectuée, quelle que soit la stratégie de validation. Un champ de type entier n'est jamais stocké avec du texte, par exemple. <br>- **A terminer** Cette option impose la correction des champs obligatoires et des messages d'erreur lors de la clôture de l'événement, mais l'événement peut être sauvegardé sur le serveur sans passer par ces exigences de validation. Pour des raisons d'héritage, il s'agit toujours de la stratégie de validation pour les programmes tracker, où chaque valeur de données dans l'événement est stockée sur le serveur lors de la saisie des données. <br>- **A mettre à jour et à insérer** Cette option impose la validation des champs obligatoires lors de l'enregistrement de l'événement sur le serveur, quel que soit l'état d'achèvement de l'événement. Lorsque cette option est utilisée, aucun événement ne peut être stocké sans passer par les validations. |
    | **Pré-générer l'UID de l'événement** | Cochez la case pour pré-générer les numéros d'identification uniques de l'événement. |
| **Description de la date du rapport ** Saisissez une description de la date du rapport.<br>     <br>Cette description est affichée dans le formulaire de saisie du cas.|

1.  Cliquez sur suivant.

#### Attribuer des éléments de données { #assign_data_elements } 

1.  Cliquez sur **Attribuer des éléments de données**.

2.  Dans la liste des éléments disponibles, double-cliquez sur les éléments de données que vous 
    souhaitez attribuer au programme de l'événement.

3.  (Facultatif) Pour chaque élément de données, ajoutez des paramètres supplémentaires :


    | Paramètres | Description |
    |---|---|
    | **Obligatoire** | La valeur de cet élément de données doit être renseignée dans le formulaire de saisie pour que vous puissiez terminer l'événement. |
    | **Autorisation obtenue ailleurs** | Spécifiez si la valeur de cet élément de données provient d'un autre établissement, et non de l'établissement dans lequel cette donnée est saisie. |
    | **Affichage dans les rapports** | Affiche la valeur de cet élément de données dans l'événement unique sans fonction de saisie des données d'enregistrement. |
    | **Date future** | Permet à l'utilisateur de sélectionner une date future pour les éléments de données relatifs à la date. |
    | **Type de rendu mobile** | Peut être utilisé pour sélectionner différents types de rendu pour les appareils mobiles. Les options disponibles varient en fonction du type de valeur de l'élément de données. Par exemple, pour une valeur numérique, vous pouvez sélectionner "Défaut", "Valeur", "Curseur", "Échelle linéaire" et "Spinner". |
    | **Type de rendu pour les ordinateurs de bureau** | AVERTISSEMENT : PAS ENCORE IMPLÉMENTÉ.<br>     <br>Peut être utilisé pour sélectionner différents types de rendu pour les ordinateurs de bureau (c'est-à-dire l'interface web). Les options disponibles varient en fonction du type de valeur de l'élément de données. Par exemple, pour une valeur numérique, vous pouvez sélectionner "Défaut", "Valeur", "Curseur", "Échelle linéaire" et "Spinner". |

4.  Cliquez sur suivant.

#### Créer des formulaires de saisie de données { #create_data_entry_forms } 

Les formulaires de saisie définissent comment les éléments de données s'afficheront à 
l'utilisateur dans l'application **Saisie d'événements**.

1.  Cliquez sur **Créer un formulaire de saisie de données**.

2.  Cliquez sur **Base**, **Section** ou **Personnalisé**.

3.  Pour créer un formulaire de saisie **de base** : Glissez et déposez les éléments 
    de données dans l'ordre que vous souhaitez.

4.  Pour créer un formulaire ** À section** :

    1.  Cliquez sur le bouton "Ajouter" et entrez le nom, la description et 
        le type de rendu d'une section pour PC et mobile.

    2.  Cliquez sur la section pour qu'elle soit surlignée par une ligne noire.

    3.  Ajoutez des éléments de données en cliquant sur le signe "+" à côté du nom des 
        éléments de données.

    4.  Répétez les étapes ci-dessus jusqu'à ce que vous ayez toutes les sections dont vous avez besoin.

    5.  Modifiez l'ordre des sections : cliquez sur le menu des options, puis faites glisser la 
        section à l'endroit souhaité.

5.  Pour créer un formulaire de saisie de données **Personnalisé** : Utilisez l'éditeur WYSIWYG pour
    créer un formulaire entièrement personnalisé. Si vous sélectionnez **Source**, vous
    pouvez coller un code HTML directement dans la zone d'édition. Vous pouvez également
    insérer des images, par exemple des drapeaux ou des logos.

6.  Cliquez sur suivant.

#### Accès { #access } 

Les options d'accès déterminent qui peut saisir les données pour le programme ou visualiser/modifier 
les métadonnées du programme. Un programme peut être partagé avec des unités d'organisation, 
et en outre, les options d'accès au programme principal et à toutes les étapes du programme 
peuvent être configurées par le biais de la boîte de dialogue **Partage**. Les options d'accès sont 
disponibles dans l'onglet **Accès**.

Attribuer des unités d'organisation :

1.  Dans l'arbre d'organisation, double-cliquez sur les unités d'organisation que vous 
    souhaitez ajouter au programme.

    Vous pouvez localiser une unité d'organisation dans une arborescence en développant les
    branches (cliquez sur le symbole en forme de flèche) ou en la recherchant par son
    son nom. Les unités d'organisation sélectionnées s'affichent en orange.

Changer les rôles et l'accès :

1.  Faites défiler vers le bas jusqu'à la section **Rôles et accès**.

    La première ligne présente les options d'accès au programme principal, et chaque
    ligne suivante présente les options d'une étape du programme. Les étapes 
    du programme accompagnées d'une icône d'avertissement (point d'exclamation) contiennent des options d'accès
    différentes de celles du programme principal, ce qui signifie qu'elles sont accessibles à
    une combinaison d'utilisateurs différente.

2.  Cliquez sur l'une des lignes et la boîte de dialogue **Partage** s'affichera.

3.  Modifiez les options d'accès en conséquence. Voir la documentation sur le 
    dialogue de partage pour plus de détails.

4.  Cliquez sur le bouton **Appliquer**.

5.  Répétez le processus pour chaque programme/étape du programme. Vous pouvez également copier
    toutes les options d'accès du programme principal dans vos programmes subordonnés:

    1.  Sélectionnez les étapes du programme pour lesquelles vous souhaitez disposer d'options 
        d'accès similaires à celles du programme principal en cochant les cases situées à 
        droite des étapes du programme. Vous pouvez également choisir de
        **Sélectionner toutes** les étapes du programme, **Désélectionner toutes** les étapes du programme
        ou **Sélectionner des étapes similaires**, en termes d'options d'accès, à 
        celles du programme principal. Les étapes similaires sont cochées par défaut.

    2.  Cliquez sur **Appliquer aux étapes sélectionnées**.

#### Créer des notifications de programme { #create_program_notifications } 

1.  Créez le message que vous voulez envoyer :

    1.  Cliquez sur **Quoi envoyer?**.

    2.  Entrez un **Nom**.

    3.  Créez le **Modèle d'objet** : Double-cliquez sur les paramètres dans
        le champ **Modèle de variables** pour les ajouter à votre objet.

        > **Note**
        >
        > The subject is not included in text messages.

    4.  Créez le **Modèle de message** : Double-cliquez sur les noms des
        paramètres dans la liste **Modèle de variables** pour les ajouter à votre 
        message.

        Cher A{w75KJ2mc4zz}, Vous êtes maintenant inscrit au V{programme\_nom}.

2.  Définissez *quand* vous voulez envoyer le message :

    1.  Cliquez sur **Quand l'envoyer?**.

    2.  Sélectionnez un **Déclencheur de notification**.


        | Déclencher une notification | Description |
        |---|---|
        | Fin de l'étape d'un programme | La notification de l'étape d'un programme est envoyée lorsque l'étape d'un programme est terminée. |
        | Jours prévus (date d'échéance) | La notification de l'étape de programme est envoyée XX jours avant ou après la date d'échéance<br>         <br>Vous devez préciser le nombre de jours avant ou après la date prévue pour l'envoi de la notification. |

3.  Définissez *à qui* vous voulez envoyer le message :

    1.  Cliquez sur **L'envoyer à ?**.

    2.  Sélectionnez un **Destinataire de la notification**.


        | Destinataire de la notification | Description |
        |---|---|
        | Instance de l'entité suivie | Reçoit les notifications concernant un programme par e-mail ou par message texte.<br>         <br>Pour recevoir une notification concernant un programme, le destinataire doit disposer d'une adresse électronique ou d'un numéro de téléphone. |
        | Contact de l'unité d'organisation | Reçoit les notifications concernant un programme par courrier électronique ou par message texte.<br>         <br>Pour recevoir une notification concernant un programme, l'unité organisationnelle destinataire doit disposer d'une personne de contact enregistrée avec une adresse électronique et un numéro de téléphone. |
        | Utilisateurs de l'unité d'organisation | Tous les utilisateurs enregistrés dans l'unité d'organisation sélectionnée reçoivent les notifications concernant leur programme via le système de messagerie interne DHIS2. |
        | Groupe d'utilisateurs | Tous les membres du groupe d'utilisateurs sélectionné reçoivent les notifications du programme via le système de messagerie interne DHIS2 |
        | Programme | TBA |

    3. Cliquez sur **Enregistrer**.

4.  Répétez les étapes ci-dessus pour créer toutes les notifications de programme dont vous avez besoin.

5.  Cliquez sur **Sauvegarder**.

> **N.B.**
>
> Vous pouvez configurer quand les notifications de programme sont envoyées dans 
> l'application **Administration de données** \> **Programmation** \> **Planificateur de 
> notifications de programmes**.
>
> - Cliquez sur **Exécuter maintenant** pour envoyer les notifications du programme immédiatement.
>
> - Sélectionnez une heure et cliquez sur **Démarrer** pour programmer les notifications de programme 
> à envoyer à une heure 
précise.

### Informations de référence : Paramètres de notification du programme { #reference_information_event_program_notification_parameters } 



Tableau : Paramètres de notification de programme à utiliser dans les notifications de programme

| Type de notification | Nom de la variable | Code de la variable |
|---|---|---|
| Programme | Date actuelle | `V{date_actuelle}` |
|| Nombre de jours écoulés à compter de la date d'inscription | `V{jours_depuis_la date_d'inscription}` |
|| Date d’inscription | `V{date_d'inscription}` |
|| Date de l’incident | `V{date_de l'incident}` |
|| Nom de l'unité d’organisation | `V{nom_de l'unité_d'organisation}` |
|| Nom du programme | `V{nom_du programme}` |
| Étape du programme | Date actuelle | `V{date_actuelle}` |
|| Nombre de jours écoulés à compter de la date d'échéance | `V{jours_depuis_la date_d'échéance}` |
|| Nombre de jours restant avant la date d'échéance | `V{jours_jusqu'à_la date_d'échéance}` |
|| Date d’échéance | `V{date_d'échéance}` |
|| Nom de l'unité d’organisation | `V{nom_de l'unité_d'organisation}` |
|| Nom du programme | `V{nom_du programme}` |
|| Nom de l'étape du programme | `V{nom de_l'étape du_programme}` |
|| Statut de l'événement | `V{statut de_l'événement}` |


## Configurer les programmes Tracker dans l'application Maintenance { #configure_tracker_program_in_Maintenance_app } 

### À propos des programmes Tracker { #about-tracker-programs } 
Les programmes à événement unique ou multiple *avec*  inscription sont appelés des programmes Tracker. Un programme doit être spécifié avec une seule entité suivie. Seules les entités suivies identiques à l'entité suivie du programme peuvent s'inscrire à ce 
programme. Un programme a besoin de plusieurs types de métadonnées que vous pouvez créer dans les applications **Maintenance**.

### Flux de production : Créer un programme tracker { #workflow_tracker_program } 

1.  Entrez les détails du programme Tracker.

2.  Entrer les détails de l'inscription.

3.  Assigner des attributs et créer un formulaire d'inscription **à section** ou **personnalisé**.

4. Créer des étapes de programme.

5. Configurer l'accès et l'attribuer aux unités d'organisation.

6. Créer une ou plusieurs notifications de programme et d'étape de programme.

### Créer ou modifier un programme Tracker { #create-or-edit-a-tracker-program } 

1. Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Programme**.

2. Cliquez sur le bouton Ajouter et sélectionnez **Programme Tracker** dans le menu popup.

#### Entrer les détails de programme { #tracker_enter_programs_details } 

| Champ | Description |
|---|---|
| **Nom** | Le nom du programme. |
| **Couleur** | Couleur utilisée pour ce programme lors de la saisie Tracker. |
| **Icône** | Icône utilisée pour ce programme lors de la saisie Tracker |
| **Nom court** |  Un nom abrégé du programme. Le nom abrégé est utilisé comme titre de graphique ou de tableau par défaut dans les applications d'analyse.  |
| **Description** | Une description détaillée du programme. |
| **Version** |  La version du programme. Elle est utilisée par exemple lorsque des personnes collectent des données hors ligne dans une implémentation Android. Lorsqu'ellles se connectent et synchronisent leurs métadonnées, elles devront alors obtenir la dernière version du programme.  |
| **Type d'entité suivie** |  Le type d'entité suivie que vous souhaitez utiliser. Un programme ne peut avoir qu'un seul type d'entité suivie.  |
| **Combinaisons de catégories** |  La combinaison de catégories que vous souhaitez utiliser. Le paramètre par défaut est **Aucune**.  |
| **Jours ouvrables après la date de fin de l'option de catégorie** | Si vous avez sélectionné une combinaison de catégories autre que "Aucune", vous pouvez saisir un zéro ou un nombre positif. Cela vous permet de saisir des données dans ce programme pour une option de catégorie jusqu'au nombre spécifié de jours  après la date de fin de cette option de catégorie.    |
| **Afficher la liste de la première page** |  Cochez cette case pour afficher une liste des instances d'entités suivies dans la saisie Tracker. Si elle n'est pas sélectionnée, la Recherche sera affichée.  |
| **La première étape apparaît sur la page d'enregistrement** |  Cochez la case pour afficher la première étape du programme en même temps que l'inscription.  |
| **Niveau d'accès** | Choisissez le niveau d'accès au programme. |
| **Jours d'expiration des événements complétés** |  Définit le nombre de jours pendant lesquels vous pouvez modifier un événement terminé. Cela signifie que lorsqu'un événement est terminé et que le nombre de jours d'expiration spécifié s'est écoulé, l'événement est verrouillé. <br><br>Si vous définissez "Jours d'expiration des événements terminés" sur 10", un événement est verrouillé dix jours après la date de fin de l'événement. Après cette date, vous ne pouvez plus modifier l'événement.  |
| **Type de périodes d'expiration** <br><br>**jours d'expiration** |  La date d'expiration définit pendant combien de jours après la fin de la période précédente, un événement peut être modifié. Le type de période est défini par le type de période d'expiration. Cela signifie que lorsque le nombre déterminé de jours d'expiration s'est écoulé depuis la date d'expiration de la période précédente, les événements de cette période sont bloqués.<br><br> Si vous réglez le type d'expiration sur "Mensuel" et les jours d'expiration sur "10" et que le mois est octobre, vous ne pouvez pas ajouter ou modifier un événement pour le mois d'octobre après le 10 novembre.  |
| **Nombre minimum d'attributs requis pour la recherche** |  Indiquez le nombre d'attributs d'entités suivies à remplir pour rechercher des Entités Suivies dans le Programme.  |
| **Nombre maximum d'instances d'entités suivies à renvoyer lors de la recherche** |  Indiquez le nombre maximum d'instances d'entités suivies qui doivent être renvoyées lors d'une recherche. Saisissez 0 pour aucune limite.  |

#### Saisir les détails de l'inscription { #enter_enrollment_details } 

| Champ | Description |
|---|---|
| **Autoriser les dates d'inscription futures** |Cochez la case si vous souhaitez autoriser les instances d'entités suivies à s'inscrire au programme à une date ultérieure.|
| **Autoriser les dates d'incident futures** |Cochez cette case si vous souhaitez que la date de l'incident dans le programme soit fixée à une date ultérieure.|
| **Inscrire une seule fois (par durée de vie de l'instance d'entité suivie)** |Cochez cette case si vous souhaitez qu'une entité suivie n'ait le droit de s'inscrire qu'une seule fois à un programme. Ce paramètre est utile, par exemple, dans les programmes de vaccination des enfants ou d'examen post-mortem, où il ne serait pas judicieux d'inscrire une entité suivie plus d'une fois.|
| **Afficher la date de l'incident** |Ce paramètre vous permet d'afficher ou de masquer le champ de la date de l'incident lorsqu'une entité suivie s'inscrit au programme.|
| **Description de la date de l'incident** | Saisissez une description de la date de l'incident <br><br>Par exemple: <br><br>Dans un programme de vaccination pour les enfants de moins d'un an, la date de l'incident est l'anniversaire de l'enfant. <br><br>Dans un programme maternel, la date d'incident est la date des dernières règles.  |
| **Saisissez une description de la date d'inscription** |La date à laquelle l'entité suivie est inscrite au programme|
| **Ignorer les événements en retard** |Lorsqu'une entité suivie s'inscrit au programme, les événements correspondant aux étapes du programme sont créés. Si vous cochez cette case, le système ne va pas générer d'événements en retard.|
| **Type de caractéristique** |Définit si le programme va saisir un type d'entité géographique ou non. <br>* **Aucun:** Rien n'est capturé. <br>* **Polygone:** Une zone est capturée. Pour les programmes à événement unique, la zone correspond à la zone représentant l'événement en cours de saisie. Pour les programmes de suivi, la zone représente la zone d'inscription. <br>* **Point:** Un point/coordonnée est saisi. Pour les programmes à événement unique, le point représentera l'événement en cours de saisie. Pour les programmes de suivi, le point représente l'inscription. |
| **Programme apparenté** |Choisissez un programme Tracker en rapport avec le programme que vous allez créer, par exemple une CPN et un programme pour les Enfants.|


#### Affecter les attributs de l'entité suivie. { #assign_tracked_entity_attributes } 

  1. Dans la liste des **Attributs d'entités suivies de programme disponibles**, double-cliquez sur 
        les attributs que vous souhaitez attribuer au programme.

  2. (Facultatif) Pour chaque attribut assigné, ajoutez des paramètres supplémentaires :

| Paramètre | Description |
|---|---|
| **Afficher dans la liste** |                          Affiche la valeur de cet attribut dans la liste des instances d'entités          suivies dans la saisie Tracker.                      |
| **Obligatoire** |                          La valeur de cet attribut doit être indiquée dans le formulaire de              saisie avant que vous ne puissiez terminer l'événement.                      |
| **Date future** |                          Permet à l'utilisateur de sélectionner une date future pour                 les attributs de la date.                      |
| **Type d'affichage mobile** |                          Peut être utilisé pour sélectionner différents types d'affichage pour les appareils mobiles. Les options disponibles varient en fonction du type de valeur de l'attribut. Par exemple, pour une valeur numérique, vous pouvez sélectionner "Défaut", "Valeur", "Curseur", "Échelle linéaire" et le "Bouton fléché".                      |
| **Type d'affichage sur ordinateur de bureau** | ATTENTION : PAS ENCORE IMPLÉMENTÉ.<br>                       <br>             Peut être utilisé pour sélectionner différents types d'affichage pour les ordinateurs de bureau (c.-à-d. l'interface web). Les options disponibles varient en fonction du type de valeur de l'attribut. Par exemple, pour une valeur numérique, vous pouvez sélectionner "Défaut", "Valeur", "Curseur", "Échelle linéaire" et le "Bouton fléché".                      |

3. Créer un formulaire d'inscription

   Le formulaire d'inscription définit la manière dont les attributs seront affichés à l'utilisateur dans les applications consommatrices, telles qu'Android et Saisie Tracker.

    1. Cliquez sur **Créer un formulaire d'inscription**.

    2. Cliquez sur **À section** ou **Personnalisé**.

    3. Pour créer un formulaire ** À section** :

        1. Cliquez sur le bouton "Ajouter" et entrez le nom, la description et le type de rendu d'une section pour PC et mobile.
        2. Cliquez sur la section pour qu'elle surlignée par une bordure noire.
        3. Ajoutez des éléments de données en cliquant sur le signe "+" à côté du nom des éléments de données que vous souhaitez ajouter.
        4. Répétez les étapes ci-dessus jusqu'à ce que vous ayez toutes les sections dont vous avez besoin.
            Pour modifier l'ordre des sections : cliquez sur le menu des options, puis faites glisser la section à l'endroit souhaité.

    4. Pour créer un formulaire d'enregistrement **Personnalisé** : Utilisez l'éditeur WYSIWYG pour créer un formulaire entièrement personnalisé. Si vous sélectionnez Source, vous pouvez alors coller le code HTML directement dans la zone d'édition. Vous pouvez également insérer des images, par exemple des drapeaux ou des logos.

    5. Cliquez sur ajouter une étape.


#### Créer des étapes de programme { #create_program_stages } 

Un programme se compose d'étapes. Une étape du programme définit 
les mesure devant être prises à chaque étape.

> **N.B.**
>
> Les modifications apportées à une étape du programme ne sont pas enregistrées tant que vous n'avez pas sauvegardé le programme.

1. Cliquez sur le signe "+" pour créer une étape du programme.
2. Entrer les détails de l'étape du programme
    1. Entrez un **Nom**.
    2.  (Facultatif) sélectionnez une **Couleur** et une **Icône** qui seront utilisées 
par les applications de saisie de données pour identifier cette étape du programme
    3. Tapez une **Description**.
    4. Saisissez le nombre de jours requis dans le champ **Jours prévus à partir du début** : Le premier événement de cette étape du programme sera programmé plusieurs jours après la date d'inscription ou d'incident, en fonction de la configuration. Si l'option **Afficher la date de l'incident** dans **Détails de l'inscription** est configurée, le système utilisera la date de l'incident comme point de départ. Si l'option **Générer des événements en fonction de la date d'inscription** dans **Détails de l'étape du programme** est configurée, le système utilisera la date d'inscription comme point de départ.
3. Entrez les détails reproduisibles des étapes du programme.
    1. Précisez si l'étape du programme est **Reproduisible** ou non.
    2. Sélectionnez un **Type de période**.
    3. Décochez **Afficher la boîte de génération d'événement après avoir terminé** si vous
    ne voulez pas afficher *Créer une nouvelle boîte d'événement* pour créer un nouvel événement 
    pour une étape répétable après avoir cliqué sur *Terminé* pour un événement 
    de l'étape dans le formulaire de saisie de données. Ce champ est sélectionné par
    défaut.
    5. Saisissez **Jours d'intervalle standard**. Cette valeur correspond à l'intervalle suggéré entre le dernier événement d'une étape répétitive et la date prévue pour l'événement suivant.
    6. (Facultatif) Sélectionnez une **Date prochaine prévue par défaut**. Une liste des éléments de données attribués de type **date** apparaîtra. Si un élément est sélectionné, le client Tracker utilisera cette date comme date de début par défaut. L'élément de données peut être utilisé par les règles du programme pour programmer de façon dynamique des intervalles entre les événements.
4. Entrez les détails du formulaire


  | Option | Action |
 |---|---|
 | **Evénement généré automatiquement** |  Décochez la case pour empêcher la création automatique d'un événement de cette étape du programme lorsqu'une entité est inscrite au programme.  |
 | **Ouvrir le formulaire de saisie des données après l'inscription** |  Cochez la case pour ouvrir automatiquement l'événement de cette étape dès que l'entité s'est inscrite au programme.  |
 | **Date de déclaration à utiliser** | Si vous avez coché la case **Ouvrir le formulaire de saisie des données après l'affiliation**, sélectionnez également une **Date de déclaration à utiliser** : **Date de l'incident** ou **Date d'inscription**. <br>Il s'agit de la date utilisée comme date de déclaration pour un événement qui a été ouvert automatiquement. <br><br>Si la **Date de déclaration à utiliser** est sélectionnée comme l'une de ces deux dates ("date d'incident"/"date d'inscription"), dans le tableau de bord, la "Date de déclaration" de l'événement sera définie comme l'une de ces deux dates.  |
 | **Affectation des événements à l'utilisateur** |  Cochez la case pour permettre l'affectation d'un utilisateur à l'étape du programme. <br><br>Cela signifie que dans la saisie Tracker, il y aura une liste d'utilisateurs auxquels l'événement peut être affecté.  |
 | **Bloquer le formulaire de saisie une fois complété** |  Cochez la case pour bloquer le formulaire d'inscription une fois l'événement de cette étape terminé. <br><br>Cela signifie que les données du formulaire de saisie ne peuvent pas être modifiées tant que le statut n'a pas été réinitialisé à non terminé.  |
 | **Demander à l'utilisateur de compléter le programme lorsque l'étape est terminée** |  Cochez la case pour afficher une fenêtre contextuelle demandant à l'utilisateur s'il souhaite créer l'événement de l'étape suivante.  |
 | **Demander à l'utilisateur de créer un nouvel événement lorsque l'étape est terminée** |  Cochez cette case pour afficher une fenêtre contextuelle demandant à l'utilisateur s'il souhaite créer un nouvel événement de cette étape lorsqu'un événement de cette étape est terminé. <br><br> Cette propriété n'est active que si vous avez sélectionné **Répétitif**.  |
 | **Générer des événements par date d'inscription** |  Cochez cette option pour générer automatiquement les dates d'échéance des événements des étapes de ce programme, en fonction de la date d'inscription. Si elle n'est pas cochée, les dates d'échéance sont générées en fonction de la date de l'incident.  |
 | **Masquer les dates d'échéance** | Cochez la case pour masquer les dates d'échéance des événements. |
 | **Type de caractéristique** |  Définit si le programme va saisir un type d'entité géographique ou non. <br>* **Aucun:** Rien n'est capturé. <br>* **Polygone:** Une zone est capturée. Pour les programmes à événement unique, la zone correspond à la zone représentant l'événement en cours de saisie. Pour les programmes de suivi, la zone représente la zone d'inscription. <br>* **Point:** Un point/coordonnée est saisi. Pour les programmes à événement unique, le point représentera l'événement en cours de saisie. Pour les programmes de suivi, le point représente l'inscription. |
 | **Pré-générer l'UID de l'événement** | Cochez la case pour pré-générer des numéros d'identification uniques de l'événement. |
 | **Description de la date de déclaration** | Saisissez une description de la date de déclaration. <br><br>Cette description est affichée dans le formulaire de saisie des données. |
 | **Description de la date d'échéance** | Saisissez une description de la date d'échéance. |
 | **Référence*** | Drapeau indiquant si l'étape du programme est une référence ou non. |

5.  Attribuer des éléments de données à une étape du programme :

    1.  Dans la liste des **Éléments de données disponibles**, double-cliquez sur les
        éléments de données que vous souhaitez affecter à l'étape du programme.

    2.  Pour chaque élément de données attribué, examinez les propriétés. Vous pouvez 
        sélectionner :


| Option | Action |
|---|---|
| **Obligatoire**  |                      La valeur de cet élément de données doit être indiquée dans le formulaire de saisie des données avant de terminer l'événement.                  |
| **Autorisation accordée ailleurs** |                      Préciser si la valeur de cet élément de données provient d'un autre établissement, et non de l'établissement où cette donnée est saisie.                  |
| **Affichage dans les rapports** |                      La valeur de cet élément de données est affichée dans l'événement unique                   sans la fonction de saisie de données d'enregistrement.                  |
| **Date future** | Permet de sélectionner une date future pour les éléments de données relatifs à la date. |
| **Ignorer la synchronisation** |                      Permet d'ignorer des éléments de données lors de l'exécution de tâches de synchronisation de données.                  |
| **Type d'affichage mobile** |                      Peut être utilisé pour sélectionner différents types d'affichage pour les appareils mobiles. Les options disponibles varient en fonction du type de valeur de l'attribut. Par exemple, pour une valeur numérique, vous pouvez sélectionner "Défaut", "Valeur", "Curseur", "Échelle linéaire" et "Hélice".                  |
| **Type d'affichage sur ordinateur de bureau** | ATTENTION : PAS ENCORE IMPLÉMENTÉ.<br>                       <br>             Peut être utilisé pour sélectionner différents types d'affichage pour les ordinateurs de bureau (c.-à-d. l'interface web). Les options disponibles varient en fonction du type de valeur de l'attribut. Par exemple, pour une valeur numérique, vous pouvez sélectionner "Défaut", "Valeur", "Curseur", "Échelle linéaire" et Hélice".                  |

6. Créer des formulaires de saisie de données pour une étape du programme

    Les formulaires de saisie définissent comment les éléments de données seront affichés à 
    l'utilisateur dans l'application **Saisie Tracker**.

   1.  Cliquez sur **Créer un formulaire de saisie de données**.

   2.  Cliquez sur **Base**, **Section** ou **Personnalisé**.

   3.  Pour créer un formulaire de saisie **de base** : Glissez et déposez les éléments 
       de données dans l'ordre que vous souhaitez.

   4.  Pour créer un formulaire ** À section** :

       1.  Cliquez sur le bouton "Ajouter" et entrez le nom, la description et 
           le type de rendu d'une section pour PC et mobile.

       2.  Cliquez sur la section pour qu'elle soit mise en évidence par une bordure noire.

       3.  Ajoutez des éléments de données en cliquant sur le signe "+" à côté du nom des 
           éléments de données.

       4.  Répétez les étapes ci-dessus jusqu'à ce que vous ayez toutes les sections dont vous avez besoin.

       5.  Modifiez l'ordre des sections : cliquez sur le menu des options, puis faites glisser la 
           section à l'endroit souhaité.

   5.  Pour créer un formulaire de saisie de données **Personnalisé** : Utilisez l'éditeur WYSIWYG pour 
          créer un formulaire entièrement personnalisé. Si vous sélectionnez **Source**, vous 
          pouvez alors coller le code HTML directement dans la zone d'édition. Vous pouvez 
          également insérer des images, par exemple des drapeaux ou des logos.

   6.  Cliquez sur ajouter une étape.


#### Accès { #tracker_program_access } 

Les options d'accès déterminent qui peut saisir les données pour le programme ou visualiser/modifier 
les métadonnées du programme. Un programme peut être partagé avec des unités d'organisation, 
et en outre, les options d'accès au programme principal et à toutes les étapes du programme 
peuvent être configurées par le biais de la boîte de dialogue **Partage**. Les options d'accès sont 
disponibles dans l'onglet **Accès**.

Attribuer des unités d'organisation :

1.  Dans l'arbre d'organisation, double-cliquez sur les unités d'organisation que vous 
    souhaitez ajouter au programme.

    Vous pouvez localiser une unité d'organisation dans une arborescence en développant les
    branches (cliquez sur le symbole en forme de flèche) ou en la recherchant par son
    son nom. Les unités d'organisation sélectionnées s'affichent en orange.

Changer les rôles et l'accès :

1.  Faites défiler vers le bas jusqu'à la section **Rôles et accès**.

    La première ligne présente les options d'accès au programme principal, et chaque
    ligne suivante présente les options d'une étape du programme. Les étapes 
    du programme accompagnées d'une icône d'avertissement (point d'exclamation) contiennent des options d'accès
    différentes de celles du programme principal, ce qui signifie qu'elles sont accessibles à
    une combinaison d'utilisateurs différente.

2.  Cliquez sur l'une des lignes et la boîte de dialogue **Partage** s'affichera.

3.  Modifiez les options d'accès en conséquence. Voir la documentation sur le 
    dialogue de partage pour plus de détails.

4.  Cliquez sur le bouton **Appliquer**.

5.  Répétez le processus pour chaque programme/étape du programme. Vous pouvez également copier
    toutes les options d'accès du programme principal dans vos programmes subordonnés:

    1.  Sélectionnez les étapes du programme pour lesquelles vous souhaitez disposer d'options 
        d'accès similaires à celles du programme principal en cochant les cases situées à 
        droite des étapes du programme. Vous pouvez également choisir de
        **Sélectionner toutes** les étapes du programme, **Désélectionner toutes** les étapes du programme
        ou **Sélectionner des étapes similaires**, en termes d'options d'accès, à 
        celles du programme principal. Les étapes similaires sont cochées par défaut.

    2.  Cliquez sur **Appliquer aux étapes sélectionnées**.

#### Créer des notifications de programme { #create_tracker_program_notifications } 

Vous pouvez créer des notifications de programme pour les programmes avec enregistrement et 
leurs étapes. Les notifications sont envoyées soit par le système de messagerie interne 
DHIS2, soit par e-mail, soit par (SMS). Vous pouvez 
utiliser les notifications de programme pour, par exemple, envoyer un rappel automatique à 
une entité suivie 10 jours avant un rendez-vous prévu. Vous utilisez les 
attributs de l'entité suivie du programme (par exemple le prénom) et les paramètres du 
programme (par exemple la date d'inscription) pour créer un modèle de 
notification.


1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme puis 
    notifications**.

    Une liste des notifications de programme existantes pour le programme sélectionné 
    s'ouvre. Si le programme n'a pas de notifications de programme, la
    liste est vide.

2.  Cliquez sur le bouton ajouter et sélectionnez **Notification du programme**.

    ![](resources/images/program/what_to_send.png)
    ![](resources/images/program/where_to_send.png)
    ![](resources/images/program/who_to_send.png)

3.  Entrez un **Nom**.

4.  Créer le **Modèle d'objet**.

    Double-cliquez sur les paramètres dans le champ **Paramètres** pour les ajouter 
    à votre objet.

    > **Note**
    >
    > The subject is not included in text messages.

5.  Créer le **Modèle de message**.

    Double-cliquez sur les noms des paramètres dans le champ **Modèle de variables** pour les ajouter 
    à votre message.

    Cher A{w75KJ2mc4zz}, Vous êtes maintenant inscrit au V{programme\_nom}.

6.  Dans le champ **Quand l'envoyer**, sélectionnez ce qui doit déclencher la 
    notification.


    | Déclencheur | Description | Remarque |
    |---|---|---|
    | Inscription au programme | La notification de programme est envoyée lorsque le IES s'inscrit au programme. | - |
    | Fin du programme | La notification de programme est envoyée lorsque le programme de l'IES est terminé | - |
    | Jours programmés (date de l'incident) | La notification du programme est envoyée XX jours avant ou après la date de l'incident | Vous devez saisir le nombre de jours avant ou après la date programmée à laquelle la notification sera envoyée. |
    | Jours programmés (date d'inscription) | La notification du programme est envoyée XX jours avant ou après la date d'inscription | Vous devez saisir le nombre de jours avant ou après la date programmée à laquelle la notification sera envoyée. |
    | Règle de programme | La notification sera déclenchée à la suite de l'exécution d'une règle de programme. | La règle de programme avec ProgramRuleActionType.SENDMESSAGE doit être en place pour que ce déclenchement aboutisse. |


7.  Dans le champ **À qui l'envoyer**, sélectionnez la personne qui doit recevoir la 
    notification du programme.


    | Type de destinataire | Description | Remarque |
    |---|---|---|
    | Instance d'entité suivie | Reçoit des notifications de programme par courrier électronique ou par message texte. | Pour recevoir une notification de programme, le destinataire doit disposer d'une adresse e-mail ou d'un attribut de numéro de téléphone.|
    | Contact de l'unité d'organisation | Reçoit les notifications du programme par courrier électronique ou par message texte. | Pour recevoir une notification de programme, l'unité d'organisation destinataire doit avoir une personne de contact enregistrée avec une adresse électronique et un numéro de téléphone. |
    | Utilisateurs au sein de l'unité d'organisation : | Tous les utilisateurs enregistrés dans l'unité d'organisation sélectionnée reçoivent les notifications du programme via le système de messagerie interne DHIS2.| - |
    | Groupe d'utilisateurs | Tous les membres du groupe d'utilisateurs sélectionné reçoivent les notifications du programme via le système de messagerie interne DHIS2 | - |
    | Limiter à la Hiérarchie | Envoyer la notification uniquement aux utilisateurs qui appartiennent à l'une des unités d'organisation de la hiérarchie. | Cette option n'est disponible que lorsque le Groupe Utilisateur est sélectionné comme destinataire. |
    | Unité d'organisation mère uniquement | Envoyer la notification uniquement aux utilisateurs qui appartiennent à l'unité d'organisation mère. | Cette option n'est disponible que lorsque le Groupe Utilisateur est sélectionné comme destinataire. |
    | Attribut du programme | TrackedEntityAttribute peut également être sélectionné comme destinataire. | Ce paramètre ne sera effectif que si le type de valeur de TrackedEntityAttribute est NUMERO DE_TÉLÉPHONE / ADDRESSE ÉLECTRONIQUE.|

8.  Cliquez sur **Sauvegarder**.


### Créer une notification d'étape de programme { #create-a-program-stage-notification } 

![](resources/images/program/what_to_send-psnt.png)

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme puis 
    notifications**.

    Une liste des notifications d'étapes de programme existantes pour l'étape de programme sélectionnée
    s'ouvre. Si l'étape de programme n'a pas de notifications 
    d'étape de programme,  la liste est vide.

2.  Cliquez sur le bouton d'ajout et sélectionnez**Notification de l'étape du programme**.

3.  Cliquez sur **AJOUTER**.

4.  Entrez un **Nom**.

5.  Créer le **Modèle d'objet**.

    Double-cliquez sur les noms des paramètres dans le champ **Modèle de variables** pour les ajouter 
    à votre objet.

    > **Note**
    >
    > The subject is not included in text messages.

6.  Créer le **Modèle de message**.

    Double-cliquez sur les noms des paramètres dans le champ **Modèle de variables** pour les ajouter 
    à votre message.

    Cher A{w75KJ2mc4zz}, veuillez vous présenter au rendez-vous le
    V{due\_date}.

7.  Dans le champ **Quand l'envoyer**, sélectionnez ce qui doit déclencher la 
    notification.


    | Déclencheur | Description | Remarque |
    |---|---|---|
    | Fin de l'étape du programme | La notification de l'étape du programme est envoyée lorsque l'étape du programme est terminée. | - |
    | Jours programmés (date d'échéance) | La notification d'étape de programme est envoyée XX jours avant ou après la date d'échéance | Vous devez saisir le nombre de jours avant ou après la date programmée à laquelle la notification sera envoyée. |
    | Règle de programme | La notification sera déclenchée à la suite de l'exécution d'une règle de programme. | La règle de programme avec ProgramRuleActionType.SENDMESSAGE doit être en place pour que ce déclenchement aboutisse. |

    1. **Permettre l'envoi de notifications à plusieurs reprises**

        Cet indicateur peut être utilisé si la notification doit être envoyée plusieurs fois. Par exemple, dans le cas d'une étape de programme répétitive, la même notification sera envoyée autant de fois que l'étape se répète.

8.  Dans le champ **Destinataires**, sélectionnez qui doit recevoir la notification de l'étape du 
    programme. Vous pouvez sélectionner :


    | Type de destinataire | Description | Remarque |
    |---|---|---|
    | L'instance d'entité suivie | Reçoit les notifications de programme par courrier électronique ou par message texte. | Pour recevoir une notification d'étape de programme, le destinataire doit disposer d'une adresse e-mail ou d'un attribut de numéro de téléphone. |
    | Contact de l'unité d'organisation | Reçoit les notifications de programme par courrier électronique ou message texte. | Pour recevoir une notification d'étape de programme, l'unité d'organisation destinataire doit avoir une personne de contact enregistrée avec une adresse électronique et un numéro de téléphone.<br><br> Le système sélectionne la même unité d'organisation que celle où l'événement a eu lieu. |
    | Utilisateurs au sein de l'unité d'organisation : | Tous les utilisateurs enregistrés dans l'unité d'organisation sélectionnée reçoivent les notifications du programme via le système de messagerie interne DHIS2. | - |
    | Tous les membres du groupe d'utilisateurs sélectionné reçoivent les notifications du programme via le système de messagerie interne DHIS2. | - |
    | Limiter à la hiérarchie | Envoyer la notification uniquement aux utilisateurs qui appartiennent à l'une des unités d'organisation de la hiérarchie. | - |
    | Unité d'organisation mère uniquement | Envoyer la notification uniquement aux utilisateurs qui appartiennent à l'unité d'organisation mère. | - |
    | L'élément de données associé à l'étape du programme peut être sélectionné comme destinataire. | L'élément de données ne sera valide que si l'élément de données a le type de valeur NUMERO DE_TÉLÉPHONE / ADDRESSE ÉLECTRONIQUE. |
    | Attribut d'entité suivie | L'attribut d'entité suivie associé au ProgramInstance/Enrollment peut être sélectionné comme destinataire. | Cet attribut ne sera valide que s'il a le type de valeur NUMERO DE_TÉLÉPHONE / ADRESSE ÉLECTRONIQUE. |
    | Web Hook | Les Web Hooks sont des messages HTTP automatisés envoyés à une URL externe configurée dans le champ URL du Web Hook. Les variables du modèle de notification sont envoyées sous forme de paires clé-valeur dans la requête HTTP. | - |


10.  Cliquez sur **Sauvegarder**.


### Informations de référence : Paramètres de notification du programme { #reference_information_event_program_notification_parameters } 



Tableau : Paramètres de notification de programme à utiliser dans les notifications de programme

| Type de notification | Nom de la variable | Code de la variable |
|---|---|---|
| Programme | Date actuelle | `V{date_actuelle}` |
|| Nombre de jours écoulés à compter de la date d'inscription | `V{jours_depuis_la date_d'inscription}` |
|| Date d’inscription | `V{date_d'inscription}` |
|| Date de l’incident | `V{date_de l'incident}` |
|| Nom de l'unité d’organisation | `V{nom_de l'unité_d'organisation}` |
|| Nom du programme | `V{nom_du programme}` |
| Étape du programme | Date actuelle | `V{date_actuelle}` |
|| Nombre de jours écoulés à compter de la date d'échéance | `V{jours_depuis_la date_d'échéance}` |
|| Nombre de jours restant avant la date d'échéance | `V{jours_jusqu'à_la date_d'échéance}` |
|| Date d’échéance | `V{date_d'échéance}` |
|| Nom de l'unité d’organisation | `V{nom_de l'unité_d'organisation}` |
|| Nom du programme | `V{nom_du programme}` |
|| Nom de l'étape du programme | `V{nom de_l'étape du_programme}` |
|| Unité d'organisation d'événements | `V{identifiant_d'événement_de l'unité_d'organisation}` |
|| Unité d'organisation chargée de l'inscription | `V{identifiant_d'inscription_de l'unité_d'organisation}` |
|| Identifiant de l'étape du programme | `V{identifiant de_l'étape_du programme}` |
|| Identifiant du programme | `V{identifiant du_programme}` |
|| Identifiant d'instance de programme/identifiant d'inscription | `V{identifiant_d'inscription}` |
|| Identifiant d'entité suivie | `V{identifiant_d'entité_suivie}` |
|| Date d'événement/d'exécution | `V{date_d'événement}` |

## Configurer les indicateurs du programme { #configure_program_indicator } 

### À propos des indicateurs du programme { #about_program_indicators } 

Les indicateurs de programme sont des expressions basées sur les éléments de données et les attributs 
des entités suivies qui peuvent être utilisées pour calculer des valeurs à partir d'une 
formule. Les indicateurs de programme se composent d'un type d'agrégation, d'un type 
d'analyse, d'une expression et d'un filtre.

Les indicateurs de programme sont évalués sur la base du type d'agrégation, 
de l'expression et du filtre attribués. L'ordre d'évaluation est le suivant :

1.  Le *filtre* filtrera les événements qui font partie de la 
    routine d'évaluation/agrégation.

2.  La *expression* sera évaluée par événement.

3.  Toutes les valeurs d'expression évaluées seront *agrégées* selon 
    le type d'agrégation de l'indicateur de programme.



Tableau : Composantes des indicateurs du programme

| Composante de la règle du programme | Description |
|---|---|
| Type d'agrégation | Le type d'agrégation détermine comment l'indicateur de programme sera agrégé. Les types d'agrégation suivants sont disponibles : <br>* Moyenne <br>* Moyenne (nombre)<br> * Moyenne (nombre, désagrégation)<br> * Moyenne (somme dans la hiérarchie des unités d'organisation)<br> * Moyenne (somme des nombres)<br> * Moyenne (somme des nombres, désagrégation)<br> * Moyenne (Oui/Non)<br> * Compte <br>* Personnalisé<br> Le type d'agrégation "personnalisé" vous permet de spécifier le type d'agrégation dans l'expression. Tous les autres types d'agrégation sont appliqués à l'ensemble de l'expression. <br>L'utilisation du type d'agrégation "personnalisé" peut conduire à une exception à l'ordre d'évaluation décrit ci-dessus, où des parties individuelles de l'expression peuvent être évaluées et agrégées, par opposition à l'expression entière qui est évaluée avant l'agrégation.<br> * Défaut<br> * Max<br> * Min<br> * Aucun<br> * Écart-type<br> * Somme<br> * Variance |
| Type analytique | Les types de données analytiques disponibles sont *événement* et *inscription*.<br><br> Le type de données analytiques définit si l'indicateur de programme est calculé sur la base d'événements ou d'inscriptions au programme. Cela a un impact sur le type de calculs qui peuvent être effectués.<br> * Les événements impliquent une source de données où chaque événement existe en tant que ligne indépendante. Cela permet d'effectuer des agrégations telles que des comptages et des sommes.<br> * Les inscriptions impliquent une source de données où tous les événements d'une seule inscription sont combinés sur la même ligne. Cela permet d'effectuer des calculs qui peuvent permettre de comparer des données d'événements provenant de différentes étapes d'un programme au sein d'une inscription à ce programme. |
| Champ de l'unité d'organisation | Détermine l'unité d'organisation affectée aux valeurs de l'indicateur de programme.<br><br>Pour les programmes d'événements (sans inscription), les options sont les suivantes <br>* Unité d'organisation de l'événement (par défaut) : où l'événement a eu lieu <br>* Tout élément de données de type Unité d'organisation (le cas échéant) assigné au programme <br><br>Pour les programmes Tracker (avec inscription) et le type analytique *Enrôlement*, les options sont les suivantes : <br>* Unité d'organisation d'inscription : où l'instance d'entité suivie a été créée <br>* Unité d'organisation d'inscription (par défaut) : où l'instance d'entité suivie a été inscrite dans ce programme <br>* Unité d'organisation du propriétaire au début : où l'instance d'entité suivie était une propriété au début de la période de déclaration <br>* Unité d'organisation du propriétaire à la fin : où l'instance d'entité suivie était une propriété à la fin de la période de déclaration<br><br> Pour les programmes de suivi (avec inscription) et le type analytique *Evénement*, les options sont : <br>* Unité d'organisation de l'événement (par défaut) : où l'événement a eu lieu <br>* tout élément de données de type Unité d'organisation (le cas échéant) affecté au programme <br>* Unité d'organisation d'inscription : où l'instance d'entité suivie a été créée <br>* Unité d'organisation d'enrôlement : où l'instance d'entité suivie a été enrôlée dans ce programme <br>* Propriétaire au début de l'unité d'organisation : où l'instance d'entité suivie était une propriété au début de la période de rapport <br>* Propriétaire à la fin de l'unité d'organisation : où l'instance d'entité suivie était une propriété à la fin de la période de rapport |
| Limites de la période analytique | Définit les limites du calcul de l'indicateur de programme. Les limites déterminent quels événements ou inscriptions sont inclus dans les agrégations, toujours par rapport au début et à la fin de la période de déclaration agrégée. Lors de la création de l'indicateur de programme, les limites par défaut seront présélectionnées en fonction du type de données analytiques. <br>* Pour les données analytiques de type *événement*, les limites par défaut seront configurées pour encapsuler tous les événements dont la date est postérieure au début de la période de déclaration et antérieure à la fin de la période de déclaration. <br>* Pour le type de données analytiques *inscription*, les limites par défaut engloberont toutes les inscriptions dont la date est postérieure à la date de début de la période de déclaration et antérieure à la date de fin de la période de déclaration. En outre, l'indicateur de programme d'inscription par défaut évalue l'événement le plus récent pour toutes les étapes du programme, quelle que soit la date. <br><br>Il est possible de modifier les limites supérieure et inférieure afin d'inclure une période plus longue ou plus courte par rapport à la période de déclaration, ou de supprimer l'une des limites - ce qui revient à renvoyer toutes les données avant ou après une certaine période. Il est également possible d'ajouter des contraintes supplémentaires, par exemple pour qu'un indicateur de programme d'inscription n'inclue que les données d'événements jusqu'à un moment donné. <br>* Cible des limites : Peut être *date d'incident*, *date d'événement*, *date d'inscription* ou *personnalisé*. Désigne ce qui est soumis aux contraintes de la limite. <br><br>*personnalisé* est utilisé pour les limites qui ciblent soit un élément de données de type date, soit un attribut d'entité suivi, soit la présence d'un événement dans une étape du programme. Cette opération s'effectue à l'aide d'une expression personnalisée dans le formulaire :<br> - Élément de données de type date : #{programStageUid.dataElementUid}. <br>`#{A03MvHHogjR.a3kGcGDCuk6}` <br>- Attribut d'entité suivi de type date : #{attributeUid}. <br>`A{GPkGfbmArby}` <br>- Présence d'un événement dans une étape spécifique du programme : PS_EVENTDATE:programStageUid. <br>`PS_EVENTDATE:A03MvHHogjR` <br>**Remarque** Cette cible de délimitation ne s'applique qu'au type analytique Inscription <br>* Type de délimitation de la période analytique : Définit si la limite est une limite de fin - commençant par "avant...", ou une limite de début - "après...". Définit également si la limite renvoie à la fin de la période de déclaration agrégée ou au début de la période de déclaration agrégée. <br>* Décalage de la période par montant : Dans certains cas, par exemple les cohortes analytiques, la limite doit être décalée par rapport à la période de déclaration agrégée lors de l'exécution de tableaux croisés dynamiques et de rapports. La période de décalage par montant est utilisée pour déplacer la limite actuelle vers l'arrière (négatif) ou vers l'avant (positif) dans le temps. Le montant et le type de période déterminent conjointement l'ampleur du décalage. Par exemple, lors de la création d'un simple indicateur de programme de cohorte d'inscription pour une cohorte d'un an, il peut suffire de compenser chaque limite de l'indicateur de programme par "-1" et "Années" <br>* Type de période : Voir ci-dessus. Il peut s'agir de n'importe quelle période, par exemple *hebdomadaire* ou *trimestrielle*. |
| Expression | L'expression définit le mode de calcul de l'indicateur. L'expression peut contenir des références pour diverses entités qui seront remplacées par les valeurs correspondantes lors du calcul de l'indicateur : <br>* Éléments de données : La valeur de l'élément de données pour la période et l'unité d'organisation pour lesquelles le calcul est effectué sera substituée par la valeur de l'élément de données. Se réfère à la fois à l'étape du programme et à l'élément de données.<br>* Attributs : La valeur de l'attribut de la personne / de l'entité suivie pour laquelle le calcul est effectué sera substituée à la valeur de l'attribut. <br>* Variables : Seront remplacées par des valeurs spéciales liées au programme, y compris la date de l'incident et la date d'inscription de la personne, la date actuelle et le nombre de valeurs dans l'expression pour la période de temps et l'unité d'organisation pour lesquelles le calcul est effectué.<br> * Constantes : La valeur de la constante sera substituée à celle de l'expression. <br><br>L'expression est une expression mathématique et peut également contenir des opérateurs. <br><br>Pour les programmes à événement unique et les programmes tracker avec le type analytique *événement*, l'expression sera évaluée *par événement*, puis agrégée en fonction de son type d'agrégation.<br><br> Pour les programmes tracker avec le type analytique *inscription*, l'expression sera évaluée *par inscription*, puis agrégée en fonction de son type d'agrégation. |
| Filtre | Le filtre est appliqué aux événements et filtre la source de données utilisée pour le calcul de l'indicateur. En d'autres termes, le filtre est appliqué à l'ensemble des événements avant que l'expression de l'indicateur ne soit évaluée. Le filtre doit être évalué par vrai ou faux. Le filtre est appliqué à chaque événement individuel. Si la valeur du filtre est vraie, l'événement est inclus dans l'évaluation de l'expression, sinon il est ignoré. Le filtre peut, de la même manière que les expressions, contenir des références à des éléments de données, des attributs et des constantes. <br><br>Le filtre de l'indicateur de programme peut en outre utiliser des opérateurs logiques. Ces opérateurs peuvent être utilisés pour former des expressions logiques dont l'évaluation finale est soit vraie, soit fausse. Par exemple, vous pouvez affirmer que plusieurs éléments de données doivent avoir une valeur spécifique, ou que des attributs spécifiques doivent avoir des valeurs numériques inférieures ou supérieures à une constante. |

Dans l'application **Maintenance**, vous pouvez gérer les objets d'indicateurs de programme suivants :


| Type d'objet | Fonctions disponibles |
|---|---|
| Indicateur de programme | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |
| Groupe d'indicateurs du programme | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |

### Créer ou modifier un indicateur de programme { #create_program_indicator } 

> **N.B.**
>
> Un indicateur de programme appartient à un seul programme.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Indicateur
    de programme**.

2.  Cliquez sur le bouton Ajouter.

3.  Sélectionnez un **Programme** et entrez :

      - **Nom**

      - **Nom court**

      - **Code**

      - **Couleur**

      - **Icône**

      - **Description**
4.  Sélectionnez le nombre de **Décimales dans la production de données**.

5.  Sélectionnez un **Type d'agrégation**.

6.  Sélectionnez un si vous voulez **Afficher dans le formulaire**.

7.  Attribuez une ou plusieurs **Légende**.

8.  (Facultatif) Entrez une **Combinaison d'options de catégorie pour l'exportation de données 
    agrégées**.

9.  (Facultatif) Entrez une **Combinaison d'options d'attributs pour l'exportation de 
    données agrégées**.

10. Créer l'expression.

    1.  Cliquez sur **Modifier l'expression**.

    2.  Créez l'expression à partir des opérateurs mathématiques et des
        attributs, variables et constantes énumérés à droite.

11. Créer le filtre.

    1.  Cliquez sur **Modifier le filtre**.

    2.  Créez l'expression à partir des opérateurs mathématiques et des
        attributs, variables et constantes énumérés à droite.

12. Cliquez sur **Sauvegarder**.

### Créer ou modifier un groupe d'indicateurs de programme { #create_program_indicator_group } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Indicateur** \> **Indicateur
    Groupe d’indicateurs**.

2.  Cliquez sur le bouton Ajouter.

3.  Entrez **Nom** et **Code**.

4.  Dans la liste des indicateurs de programme disponibles, double-cliquez sur les
    indicateurs de programme que vous souhaitez affecter à votre groupe.

5.  Cliquez sur **Sauvegarder**.

### Informations de référence : Exemples d'expressions et de filtres par type de valeur { #reference_information_program_indicator } 

Le tableau ci-dessous présente des exemples de comment d'écrire des expressions et des 
filtres pour différents types d'éléments de données et de valeurs d'attribut :



Tableau: Exemples d'expressions et de filtres par type de valeur

| Types de valeur | Exemple de syntaxe |
|---|---|
| Entier<br><br> Entier négatif<br><br> Entier positif ou nul<br><br> Entier positif<br> <br>Nombre<br><br> Pourcentage | Les champs numériques peuvent être utilisés pour l'agrégation en tant qu'expression ou dans les filtres : <br>`#{mCXR7u4kNBW.K0A4BauXJDl} >= 3` |
| Oui/Non<br><br> Oui seulement | Champs booléens. Oui est traduit en valeur numérique 1, Non en valeur numérique 0. Peut être utilisé pour l'agrégation en tant qu'expression, ou dans les filtres : <br>`#{mCXR7u4kNBW.Popa3BauXJss} == 1` |
| Texte<br><br>Long Texte <br><br>Numéro de téléphone <br><br>Email | Champs de texte. Il est possible de vérifier l'égalité dans les filtres : <br>`#{mCXR7u4kNBW.L8K4BauIKsl} == 'LiteralValue'` |
| Date <br><br>Âge | Champs de date. Particulièrement utile lorsqu'il est associé à une fonction d2:daysBetween, qui produit un nombre pouvant être agrégé sous forme d'expression ou utilisé dans des filtres :<br> `d2:daysBetween(#{mCXR7u4kNBW.JKJKBausssl},V{enrollment_date}) > 100` <br>Il est également possible de vérifier directement son égalité dans les filtres : <br>`#{mCXR7u4kNBW.JKJKBausssl} == '2011-10-28'` |

### Informations de référence : Fonctions, variables et opérateurs à utiliser dans les expressions d'indicateurs de programmes et les filtres { #program_indicator_functions_variables_operators } 

Une expression qui comprend à la fois des attributs, des éléments de données et des 
constantes ressemble à ceci :

    (A{GPkGfbmArby} + #{mCXR7u4kNBW.NFkjsNiQ9PH}) * C{bCqvfPR02Im}

Une expression qui utilise le type d'agrégation personnalisé et peut donc utiliser 
les types d'agrégation en ligne ressemble à 
    ceci :

    (sum(#{mCXR7u4kNBW.K0A4BauXJDl} * #{mCXR7u4kNBW.NFkjsNiQ9PH}) / sum(#{mCXR7u4kNBW.NFkjsNiQ9PH})) * 100

Prêtez attention à la façon dont l'opérateur d'agrégation "somme" est utilisé à l'intérieur de l'expression 
elle-même.

#### Fonctions à utiliser dans une expression ou un filtre d'indicateur de programme { #functions-to-use-in-a-program-indicator-expression-or-filter } 

L'expression des indicateurs de programme et le filtre prennent en charge une série de 
fonctions. Ces fonctions peuvent être appliquées à des éléments et des attributs de données :



Tableau: Fonctions à utiliser dans une expression ou un filtre d'indicateur de programme

| Fonction | Arguments | Description |
|---|---|---|
| d2:hasValue | (object) | Donne un résultat positif si l'élément ou l'attribut de données a une valeur. Peut être utilisé dans les filtres pour faire la distinction entre le chiffre 0 et l'absence de valeur, et pour faire la distinction entre un "Non" explicite et l'absence de sélection pour un champ Oui/Non. |
| d2:minutesBetween | (datetime, datetime) | Produit le nombre de minutes entre deux éléments de données/attributs de type "date et heure". Lorsque le premier argument datetime précède le second argument datetime, le nombre sera positif - dans le cas contraire, le nombre sera négatif. Le format statique de datetime est 'yyyy-MM-dd hh:mm'. Chacun des arguments peut être remplacé par PS_EVENTDATE :(programStageUid) pour comparer la date de l'événement le plus récent d'une étape donnée du programme. |
| d2:daysBetween | (date, date) | Génère le nombre de jours entre deux éléments de données/attributs de type date. Lorsque la date du premier argument précède la date du second argument, le nombre sera positif - dans le cas contraire, le nombre sera négatif. Le format statique de la date est "aaaa-MM-jj". Chacun des arguments peut être remplacé par PS_EVENTDATE :(programStageUid) pour comparer la dernière date d'événement d'une étape de programme donnée. |
| d2:weeksBetween | (date, date) | Génère le nombre de semaines complètes entre deux éléments de données/attributs de type date. Lorsque la date du premier argument précède la date du second argument, le nombre sera positif - dans le cas contraire, le nombre sera négatif. Le format statique de la date est "aaaa-MM-jj". Chacun des arguments peut être remplacé par PS_EVENTDATE :(programStageUid) pour comparer la dernière date d'événement d'une étape donnée du programme. |
| d2:monthsBetween | (date, date) | Génère le nombre de mois complets entre deux éléments de données/attributs de type date. Lorsque la date du premier argument précède la date du second argument, le nombre sera positif - dans le cas contraire, le nombre sera négatif. Le format statique de la date est "aaaa-MM-jj". Chacun des arguments peut être remplacé par PS_EVENTDATE :(programStageUid) pour comparer la dernière date d'événement d'une étape donnée du programme. |
| d2:yearsBetween | (date, date) | Génère le nombre d'années complètes entre deux éléments de données/attributs de type date. Lorsque la date du premier argument précède la date du second argument, le nombre sera positif - dans le cas contraire, le nombre sera négatif. Le format statique de la date est "aaaa-MM-jj". Chacun des arguments peut être remplacé par PS_EVENTDATE :(programStageUid) pour comparer la dernière date d'événement d'une étape donnée du programme. |
| d2:condition | (boolean-expr, true-expr, false-expr) | Évalue l'expression booléenne et, si elle est vraie, renvoie la valeur vraie de l'expression, si elle est fausse, renvoie la valeur fausse de l'expression . L'expression conditionnelle doit être citée. Les arguments vrai-expr et fausse-expr doivent suivre les règles de toute expression d'indicateur de programme (y compris les fonctions). |
| d2:zing | (expression) | Affiche zéro si l'expression est négative, et affiche la valeur de l'expression dans le cas contraire. L'expression doit suivre les règles de toute expression d'indicateur de programme ( incluant les fonctions). |
| d2:oizp | (expression) | Affiche un si l'expression est nulle ou positive, et zéro dans le cas contraire. L'expression doit suivre les règles de toute expression d'indicateur de programme ( incluant les fonctions). |
| d2:zpvc | (object, [,object ...]) | Affiche le nombre de valeurs numériques nulles et positives parmi les arguments de l'objet donné. Le nombre d'arguments peut être illimité.  |
| d2:relationshipCount | ([relationshipTypeUid]) | Produit le nombre de relations du même type qui sont liées à l'affiliation ou à l'événement. Si aucun type n'est indiqué, tous les types sont comptés. |
| d2:count | (Élément de données) | Utile uniquement pour les indicateurs du programme d'inscription. Compte le nombre de valeurs de données qui ont été collectées pour l'étape du programme et l'élément de données concernés au cours de l'inscription. L'élément de données de l'argument est fourni avec la syntaxe #{programStage.dataElement}. |
| d2:countIfValue | (Élément de données, valeur) | Utile uniquement pour les indicateurs de programme d'inscription. Compte le nombre de valeurs de données qui correspondent à la valeur littérale donnée pour l'étape du programme et l'élément de données indiqués au cours de l'inscription. L'élément de données de l'argument est fourni avec la syntaxe #{programStage.dataElement}. La valeur peut être un texte ou un nombre codé en dur, par exemple " Pas_ d'anémie " si seules les valeurs contenant ce texte doivent être comptées. |
| d2:countIfCondition | (Élément de données, condition) | Utile uniquement pour les indicateurs de programme d'inscription. Compte le nombre de valeurs de données qui correspondent aux critères de condition donnés pour l'étape du programme et l'élément de données indiqués au cours de l'inscription. L'élément de données de l'argument est fourni avec la syntaxe #{programStage.dataElement}. La condition est fournie sous la forme d'une expression entre guillemets simples, par exemple "<10" si seules les valeurs inférieures à 10 doivent être comptées. |
| si | (boolean-expr, true-expr, false-expr) | Évalue l'expression booléenne et, si elle est vraie, renvoie la valeur vraie de l'expression, si elle est fausse, renvoie la valeur fausse de l'expression. Cette fonction est identique à la fonction d2:condition, sauf que l'expression booléenne n'est pas citée. |
| est | (expr1 in expression [, expression ...]) | Renvoie vrai si expr1 correspond à l’une des expressions suivantes. Dans le cas contraire, elle renvoie faux. |
| isNull | (object) | Renvoie vrai si la valeur de l'élément est manquante (null), sinon faux. |
| isNotNull | (object) | Renvoie vrai si la valeur de l'élément n'est pas manquante (non nulle), sinon faux. |
| firstNonNull | (object, [,object ...]) | Renvoie la valeur du premier élément non manquant (non nul). Le nombre d'arguments n'a pas de limite. Tout argument peut également être un texte numérique ou de chaîne, qui sera renvoyé si tous les objets précédents ont des valeurs manquantes. |
| plus grand | (expression [, expression ...]) | Renvoie la plus grande valeur (la plus élevée) des expressions données. Le nombre d'arguments peut être illimité. Chaque expression doit suivre les règles de toute expression d'indicateur de programme (y compris les fonctions). |
| moins | (expression [, expression ...]) | Renvoie la valeur la ( plus faible ) des expressions données. Le nombre d'arguments peut être illimité. Chaque expression doit suivre les règles de toute expression d'indicateur de programme (y compris les fonctions). |
| journal | (expression [, base ]) | Renvoie le logarithme naturel (base e) de l'expression numérique. Si un entier est donné comme second argument, renvoie le logarithme en utilisant cette base. |
| log10 | (expression) | Renvoie le logarithme commun (base 10) de l'expression numérique. |

Un filtre utilisant la fonction "hasValue" ressemble à ceci :

    d2:hasValue(#{mCXR7u4kNBW.NFkjsNiQ9PH})

Un filtre utilisant la fonction "relationshipCount(relationshipTypeUid)" ressemble à ceci :

    d2:relationshipCount('KLkjshoQ90U')

Un filtre utilisant la fonction "is( x in y, z )" ressemble à ceci :

    est(#{oahc9ooVema} dans 'Nouveau', 'Rechute')

Une expression utilisant les fonctions "zing" et "oizp" ressemble à ceci :

    d2:zing(A{GPkGfbmArby}) + d2:oizp(#{mCXR7u4kNBW.NFkjsNiQ9PH}))

Une expression utilisant la fonction "daysBetween" ressemble à ceci :

    d2:daysBetween(#{mCXR7u4kNBW.k8ja2Aif1Ae},'2015-06-01')

Voici une expression qui utilise la fonction "yearBetween" pour comparer le dernier événement de la phase du programme "mCXR7u4kNBW" à la date d'inscription :

    d2:daysBetween(V{enrollment_date},PS_EVENTDATE:mCXR7u4kNBW)

Une expression qui utilise la fonction "condition" ressemble à ceci :

    d2:condition('#{mCXR7u4kNBW.NFkjsNiQ9PH} > 100',150,50)

Une expression qui utilise la fonction "countIfValue" pour ne compter que le nombre de fois où la valeur 10 a été recueillie ressemble à ceci :

    d2:countIfValue(#{mCXR7u4kNBW.NFkjsNiQ9PH}),10)

Une expression utilisant la fonction "zpvc" ressemble à ceci :

    d2:zpvc(A{GPkGfbmArby}),#{mCXR7u4kNBW.NFkjsNiQ9PH}),4,-1)

Une expression utilisant les fonctions "if" et "isull" ressemble à ceci :

    if(isNull(A{GPkGfbmArby}),10,20)

Une expression utilisant la fonction "firstNonNull" ressemble à ceci :

    firstNonNull(A{GPkGfbmArby}),#{mCXR7u4kNBW.NFkjsNiQ9PH},44)

<table>
<caption>Variables à utiliser dans une expression ou un filtre d'indicateur de programme</caption>
<colgroup>
<col style="width: 21%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Variable</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr>
<td><p>date_événement</p></td>
<td><p>La date à laquelle l'événement ou le dernier événement de l'inscription a eu lieu.</p></td>
</tr>
<tr>
<td><p>date_création</p></td>
<td><p>La date à laquelle un événement ou une inscription a été créé dans le système.</p></td>
</tr>
<tr>
<td><p>date_échéance</p></td>
<td><p>La date à laquelle un événement est prévu.</p></td>
</tr>
<tr>
<td><p>date_synchro</p></td>
<td><p>La date à laquelle l'événement ou l'inscription a été synchronisé pour la dernière fois avec l'application Android.</p></td>
</tr>
<tr>
<td><p>date_incident</p></td>
<td><p>La date de l'incidence de l'événement.</p></td>
</tr>
<tr>
<td><p>date_inscription</p></td>
<td><p>La date à laquelle l'instance de l'entité suivie a été inscrite au programme.</p></td>
</tr>
<tr>
<td><p>statut_inscription</p></td>
<td><p>Peut être utilisé pour inclure ou exclure les inscriptions à certains statuts.</p>
<p>Pour calculer l'amélioration/la détérioration de l'hémoglobine tout au long d'une grossesse, il peut être judicieux de ne tenir compte que des inscriptions complètes. Si les inscriptions non terminées ne sont pas filtrées, elles représenteront des suivis de CPN à moitié terminés, où l'amélioration/détérioration finale n'est pas encore établie.</p></td>
</tr>
<tr>
<td><p>date_actuelle</p></td>
<td><p>La date actuelle.</p></td>
</tr>
<tr>
<td><p>nombre_valeur</p></td>
<td><p>Le nombre de valeurs non nulles dans la partie expression de l'événement.</p></td>
</tr>
<tr>
<td><p>nombre_valeur_zéro_positives</p></td>
<td><p>Le nombre de valeurs numériques positives dans la partie expression de l'événement.</p></td>
</tr>
<tr>
<td><p>nombre_événements</p></td>
<td><p>Le nombre d'événements (utile en combinaison avec des filtres).</p></td>
</tr>
<tr>
<td><p>nombre_inscriptions</p></td>
<td><p>Le nombre d'inscriptions (utile en combinaison avec les filtres). Le type d'agrégation pour l'indicateur de programme doit être COMPTER. </p></td>
</tr>
<tr>
<td><p>nombre_tei</p></td>
<td><p>Le nombre d'instances d'entités suivies (utile en combinaison avec des filtres). Le type d'agrégation pour l'indicateur de programme doit être COMPTER.</p></td>
</tr>
<tr>
<td><p>nombre_unités_d'org</p></td>
<td><p>Le nombre d'unités d'organisation (utile en combinaison avec les filtres). Le type d'agrégation pour l'indicateur de programme doit être COMPTER.</p></td>
</tr>
<tr>
<td><p>nom_étape_du programme</p></td>
<td><p>Peut être utilisé dans les filtres pour inclure seulement certaines étapes de programme dans un filtre pour les programmes de suivi. Utilise le nom de l'étape du programme :</p>
<pre><code>V{program_stage_name} == &#39;ANC first visit&#39;</code></pre></td>
</tr>
<tr>
<td><p>id_étape_du programme</p></td>
<td><p>Peut être utilisé dans les filtres pour inclure seulement certaines étapes de programme dans un filtre pour les programmes de suivi. Utilise l'identifiant unique de l'étape du programme :</p>
<pre><code>V{program_stage_id} == &#39;YPSSfbmAtt1&#39;</code></pre></td>
</tr>
<tr>
<td><p>début_période_d'analyse</p></td>
<td><p>Peut être utilisé dans des filtres ou des expressions pour comparer une date quelconque à la première date de chaque période de référence.</p>
<pre><code>d2:daysBetween(#{WZbXY0S00lP.w4ky6EkVahL}, V{analytics_period_start})</code></pre></td>
</tr>
<tr>
<td><p>fin_période_d'analyse</p></td>
<td><p>Peut être utilisé dans des filtres ou des expressions pour comparer une date quelconque à la dernière date incluse dans chaque période de référence.</p></td>
</tr>
</tbody>
</table>

    greatest(#{mCXR7u4kNBW.k8ja2Aif1Ae},#{mCXR7u4kNBW.NFkjsNiQ9PH},1)

#### Variables à utiliser dans une expression ou un filtre d'indicateur de programme { #variables-to-use-in-a-program-indicator-expression-or-filter } 

L'expression et le filtre des indicateurs de programme prennent en charge toute une série de variables :



Tablleau: Variables à utiliser dans une expression ou un filtre d'indicateur de programme

| Variable | Description |
|---|---|
| date_de l'évènement | Date à laquelle l'événement ou le dernier événement de l'inscription a eu lieu. |
| date de_création | La date de création d'un événement ou d'une affiliation dans le système. |
| date_d'échéance | La date à laquelle un événement est prévu. |
| date de_synchronisation | Date de la dernière synchronisation de l'événement ou de l'inscription avec l'application Android. |
| date_de l'incident | la date de l'incidence de l'événement. |
| date_d'inscription | La date à laquelle l'instance de l'entité suivie a été inscrite au programme. |
| statut_d'inscription | Peut être utilisé pour inclure ou exclure les inscriptions dans certains statuts. <br><br>Lors du calcul de l'amélioration/détérioration de l'hémoglobine tout au long d'une grossesse, il peut être judicieux de ne prendre en compte que les inscriptions terminées. Si les inscriptions non terminées ne sont pas filtrées, elles représenteront des suivis de CPN à moitié terminés, pour lesquels l'amélioration/détérioration finale n'est pas encore établie. |
| date_actuelle | La date du jour. |
| nombre de_valeurs | Le nombre de valeurs non nulles dans la partie expression de l'événement. |
| zero_nombre_de valeur_positive | Le nombre de valeurs numériques positives dans la partie expression de l'événement. |
| nombre_d'évènement | The count of events (useful in combination with filters). Aggregation type for the program indicator must be COUNT. |
| nombre_d'inscription | Le nombre d'inscriptions (utile en combinaison avec des filtres). Le type d'agrégation pour l'indicateur de programme doit être COUNT.  |
| nombre_d'ies | Le nombre d'instances d'entités suivies (utile en combinaison avec des filtres). Le type d'agrégation pour l'indicateur de programme doit être COUNT. |
| nombre_d'unité_d'organisation | Le nombre d'unités d'organisation (utile en combinaison avec des filtres). Le type d'agrégation pour l'indicateur de programme doit être COUNT. |
| nom de_l'étape du_programme | Peut être utilisé dans les filtres pour n'inclure que certaines étapes du programme dans un filtre pour les programmes de suivi. Utilise le nom de l'étape du programme :<br> `V{nom_de l'étape_du programme} == 'CPN première visite'` |
| identifiant de_l'étape_du programme | Peut être utilisé dans les filtres pour ne retenir que certaines étapes du programme dans un filtre pour les programmes tracker. Utilise l'identifiant unique de l'étape du programme :<br> `V{program_stage_id} == 'YPSSfbmAtt1'` |
| période_analytique_début | Peut être utilisé dans des filtres ou des expressions pour comparer n'importe quelle date à la première date de chaque période de déclaration.<br> `d2:daysBetween(#{WZbXY0S00lP.w4ky6EkVahL}, V{analytics_period_start})` |
| Période_analytique_fin | Peut être utilisé dans des filtres ou des expressions pour comparer une date quelconque à la dernière date incluse dans chaque période de déclaration. |
| statut de_l'évènement | Peut être utilisé dans des filtres ou des expressions pour comparer l'état d'un événement. <br>`V{event_status} == " TERMINÉ " ` |
| date_d'achèvement | Contient la date de fin de l'événement. Si l'événement n'est pas encore terminé, "date_de fin" ne contient rien. |


Un filtre utilisant la variable "Fin de la période d'analyse" pour n'inclure que 
les femmes ayant une DM qui surviendrait au premier 
    trimestre :

    d2:daysBetween(#{WZbXY0S00lP.w4ky6EkVahL}, V{analytics_period_end}) <= 84

Une expression utilisant la variable "value count" ressemble à 
    ceci :

    (#{A03MvHHogjR.a3kGcGDCuk6} + #{A03MvHHogjR.wQLfBvPrXqq}) / V{value_count}

Une expression qui utilise les variables "date\_événement" et "date\_incident" 
ressemble à ceci :

    d2:daysBetween(V{incident_date},V{event_date})

#### Opérateurs à utiliser dans un filtre d'indicateurs de programme { #operators-to-use-in-a-program-indicator-filter } 



Tableau: Opérateurs à utiliser dans un filtre d'indicateurs de programme

| Opérateur | Description |
|---|---|
| et | Logique ET |
| ou | Logique OU |
| == | Egale à |
| != | Pas égale à |
| < | Inférieur à |
| <= | inférieure ou égale à |
| > | Supérieure à |
| >= | Supérieure ou égal à |

Ces opérateurs peuvent être utilisés pour constituer des expressions logiques qui, en fin de 
compte, évaluent à vrai ou à faux. Vous pouvez par exemple affirmer que 
plusieurs éléments de données doivent avoir une valeur spécifique, ou que des 
attributs spécifiques doivent avoir des valeurs numériques inférieures ou supérieures à une constante.

Un filtre qui utilise à la fois des attributs et des éléments de données ressemble à ceci :

    A{cejWyOfXge6} == 'Female' and #{A03MvHHogjR.a3kGcGDCuk6} <= 2

> **Astuce**
>
> DHIS2 utilise la bibliothèque JEXL pour l'évaluation des expressions 
> utilisant une syntaxe supplémentaire hormis ce qui est proposé dans cette 
> documentation. Voir la référence sur la [page d'accueil du 
> projet] (http://commons.apache.org/proper/commons-jexl/reference/syntax.html) 
> pour savoir comment créer des expressions plus sophistiquées

## Configurer les règles du programme { #configure_program_rule } 

### À propos des règles du programme { #about_program_rules } 

Les règles du programme vous permettent de créer et de contrôler le comportement 
dynamique de l'interface utilisateur dans les applications **Saisie Tracker** et **Saisie dévénements**. 
Lors de la saisie des données, les expressions des règles du programme sont évaluées chaque fois que 
l'interface utilisateur est affichée, et chaque fois qu'un élément de donnée est 
modifié. La plupart des types d'actions prennent effet immédiatement lorsque 
l'utilisateur saisit des valeurs dans les applications **Saisie Tracker** et **Saisie 
d'événements**.



Tableau: Composantes de la règle du programme

| Composante de la règle du programme | Description |
|---|---|
| Action de la règle du programme | Chaque règle de programme contient une ou plusieurs actions. Ce sont les comportements qui sont déclenchés dans l'interface utilisateur lorsque l'expression est vraie. Les actions seront appliquées immédiatement si l'expression est vraie, et seront annulées si l'expression n'est plus vraie. Il existe plusieurs types d'actions et il est possible d'en avoir plusieurs dans une même règle de programme. |
| Expression de la Règle du Programme | Chaque règle de programme comporte une expression unique qui détermine si les actions de la règle de programme doivent être déclenchées, si l'expression est évaluée comme étant vraie. Si l'expression est vraie, la règle de programme est en vigueur et les actions seront exécutées. Si l'expression est fausse, la règle de programme n'est plus en vigueur et les actions ne seront plus appliquées. <br><br>Il est possible de créer l'expression à l'aide d'opérateurs mathématiques standard, de fonctions personnalisées, de valeurs statiques définies par l'utilisateur et de variables de règles de programme. Les variables de la règle de programme représentent les valeurs des attributs et des éléments de données qui seront évaluées dans le cadre de l'expression. |
| Variable de la Règle du Programme | Les variables de règles de programme vous permettent d'inclure des valeurs de données et d'attributs dans les expressions de règles de programme. En règle générale, vous devrez créer une ou plusieurs variables de règle de programme avant de créer une règle de programme. En effet, les expressions de règles de programme contiennent généralement au moins un élément de données ou une valeur d'attribut pour être significatives.<br><br> Les variables de règles de programme sont partagées par toutes les règles de votre programme. Lorsque vous créez plusieurs règles de programme pour le même programme, ces règles partageront la même bibliothèque de variables de règles de programme. |

Dans l'application **Maintenance**, vous gérez les objets de règles de programme suivants :


| Type d'objet | Fonctions disponibles |
|---|---|
| Règle du programme | Créer, modifier, cloner, supprimer, afficher les détails et traduire |
| Variable de la Règle du Programme | Créer, modifier, cloner, partager, supprimer, afficher les détails et traduire |

### Déroulement { #workflow_program_rule } 

1.  Dans l'application **Maintenance**, créez la ou les variable(s) de règle du programme si 
    nécessaire.

2.  Dans l'application **Maintenance**, créez la règle du programme :

    1.  Entrez les détails des règles du programme.

    2.  Créez l'expression de la règle du programme.

    3.  Définissez les actions de la règle du programme.

3.  Dans les applications **Saisie Tracker** ou **Saisie d'événement**, vérifiez que 
    la règle du programme fonctionne comme prévu.

### Créer ou modifier une variable de règle de programme { #create_program_rule_variable } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Variable de la règle du 
    programme**.

2.  Cliquez sur le bouton Ajouter.

3.  Sélectionnez un **Programme** et entrez un **Nom**

4.  Sélectionnez si vous voulez **Utiliser le code pour l'ensemble des options**.

    Cette option n'est effective que lorsque l'élément de données ou l'attribut de
    l'entité suivie est connecté à un ensemble d'options. Si vous ne sélectionnez pas
    cette option, la variable de la règle de programme sera remplie avec le 
    nom de l'ensemble d'options. Si vous sélectionnez cette option, la variable de règle de 
    programme sera remplie avec le code de l'ensemble d'options.

5.  Sélectionnez un **Type de source** et saisissez les informations requises.

    Selon le type de source, vous aurez à sélectionner, par exemple, une
    **étape du programme**, un **élément de données** ou un **attribut de l'entité suivie**.

    Les types de source déterminent comment saisir une valeur dans la 
    variable de règle de programme.


    | Type de source | Description |
    |---|---|
    | **Élément de données de l'événement le plus récent pour une étape de programme** | Ce type de source fonctionne de la même manière que **Élément de données de l'événement le plus récent dans le programme en cours**, sauf qu'il n'évalue que les valeurs d'une étape de programme.<br>     <br>Ce type de source peut être utile dans les règles de programme où le même élément de données est utilisé dans plusieurs étapes du programme et où une règle doit évaluer la valeur de données la plus récente dans une étape spécifique. |
    | **Élément de données de l'événement le plus récent du programme en cours** | Ce type de source est utilisé lorsqu'une variable de règle de programme doit refléter la valeur connue la plus récente d'un élément de données, quel que soit l'événement qui est actuellement ouvert par l'utilisateur.<br>     <br>Ce type de source est rempli de manière légèrement différente dans les applications **Saisie Tracker** et **Saisie d'événements** :<br>     <br>**Saisie Tracker** : la variable de la règle du programme sera remplie avec la dernière valeur de données collectée pour l'élément de données donné au cours de l'inscription.<br>     <br>**Saisie d'événements** : la variable de la règle du programme sera remplie avec les données de l'événement en cours. <br>**NB** Les dates futures sont plus "récentes" que les dates actuelles ou passées. |
    | **Élément de données dans l'événement actuel** | Les variables de règles de programme avec ce type de source contiendront la valeur des données de l'événement que l'utilisateur a en ce moment ouvert.<br>     <br>Il s'agit du type de source le plus couramment utilisé, en particulier pour la logique de saut (masquer les actions) et les règles d'avertissement/d'erreur. |
    | **Élément de données d'un événement précédent** | Les variables de règles de programme avec ce type de source contiendront la valeur d'un élément de données spécifié d'un événement précédent. Seuls les événements plus anciens sont évalués, à l'exclusion de l'événement qui est actuellement ouvert par l'utilisateur.<br>     <br>Ce type de source est généralement utilisé lorsqu'un élément de données ne doit être collecté qu'une seule fois au cours de l'affiliation et doit être masqué lors d'événements ultérieurs.<br>     <br>Un autre cas d'utilisation est l'élaboration de règles de validation des entrées lorsqu'il y a une progression attendue d'un événement à l'autre - une règle peut évaluer si la valeur précédente est supérieure/inférieure et donner un avertissement si une valeur inattendue est saisie. |
    | **Valeur calculée** | La variable de règle de programme avec ce type de source n'est pas connectée directement à des données de formulaire - mais sera remplie à la suite d'une action **AFFECTER** d'une autre règle de programme.<br>     <br>Cette variable sera utilisée pour effectuer des calculs préliminaires, ayant une action **AFFECTER** de la règle de programme et lui affectant une valeur, cette valeur peut être utilisée par d'autres règles de programme - rendant potentiellement les expressions plus simples et plus faciles à maintenir.<br>     <br>Ces variables ne seront pas conservées et resteront en mémoire uniquement pendant l'exécution de l'ensemble des règles du programme. Toute règle de programme qui affecte une valeur de données à une valeur calculée préliminaire doit normalement avoir une **priorité** - pour s'assurer que le calcul préliminaire est effectué avant la règle qui consomme la valeur calculée. |
    | **Attribut d'entité suivie** | Remplit la variable de règle de programme avec un attribut d'entité suivie spécifié pour l'inscription en cours.<br>     <br>Ce type de source permet de créer des règles de programme qui évaluent les valeurs des données saisies lors de l'enregistrement.<br>     <br>Ce type de source est également utile lorsque vous créez des règles de programme qui comparent les données des événements aux données saisies lors de l'enregistrement.<br>     <br>Ce type de source n'est utilisé que pour les programmes tracker (programmes avec enregistrement). |

6.  Cliquez sur **Sauvegarder**.

### Créer ou modifier une règle de programme { #create_program_rule } 

> **N.B.**
>
> Une règle de programme appartient à un seul programme.

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Règle de 
    programme**.

2.  Cliquez sur le bouton Ajouter.

3.  Saisissez les détails de la règle du programme. Ces champs ne sont pas affichés pour 
    l'utilisateur final, ils sont uniquement destinés à l'administrateur du programme.

      - **Programme**

      - **Règle de déclenchement uniquement pour la phase du programme**

        Si une étape de programme est sélectionnée, la règle de programme ne s'appliquera qu'à l'étape de programme sélectionnée, 
        au lieu de s'appliquer à toutes les étapes du programme.

      - **Nom**

      - **Description**

      - **Priorité**

        Supposons que votre programme comporte 16 règles. Vous
        configurez les règles de programme avec les paramètres de priorité
         suivants :

          - Priorité 1 pour la règle A du programme

          - Priorité 2 pour les règles B - K du programme

          - Pas de priorité pour les règles L - P du programme

        Résultat : le système exécute les règles du programme dans l'ordre 
        suivant :

        1.  Règle A du programme

        2.  Règles de programme B - K (vous ne pouvez pas savoir ou configurer 
            l'ordre dans lequel le système exécute ces règles de programme)

        3.  Règles L - P du programme

4.  Cliquez sur **Saisir l'expression de la règle de programme** et créez l'expression de la règle de 
    programme à l'aide de variables, de fonctions et d'opérateurs.

5.  Cliquez sur **Définir les actions de la règle du programme** et créez les actions 
    exécutées lorsque l'expression est vraie.

    1.  Cliquez sur le bouton d'ajout, sélectionnez une **Action** et entrez les 
        informations requises.

        Selon le type d'action, vous aurez à effectuer différents 
        types de paramétrages. Pour certains types d'action, vous devez également saisir
        librement un texte ou créer des expressions.


        | Action type | Required settings | Description |
        |---|---|---|
        ||||
        | **Assign value** | **Data element to assign value to**<br>         <br>**Program rule variable to assign value to**<br>         <br>**Expression to evaluate and assign** | Used to help the user calculate and fill out fields in the data entry form. The idea is that the user shouldn’t have to fill in values that the system can calculate, for example BMI.<br>         <br>When a field is assigned a value, the user sees the value but the user can't edit it.<br>         <br>Example from Immunization stock card i Zambia: The data element for vaccine stock outgoing balance is calculated based on the data element for incoming stock balance minus the data elements for consumption and wastage.<br>         <br>Advanced use: configure an 'assign value' to do a part of a calculation and then assign the result of the calculation to a program rule variable. This is the purpose with the "Calculated value" program rule variable. |
        | **Display text** | **Display widget**<br>         <br>**Static text**<br>         <br>**Expression to evaluate and display after static text** | Used to display information that is not an error or a warning, for example feedback to the user. You can also use this action to display important information, for example the patient's allergies, to the user. |
        | **Display key/value pair** | **Display widget**<br>         <br>**Key label**<br>         <br>**Expression to evaluate and display as value** | Used to display information that is not an error or a warning.<br>         <br>Example: calculate number of weeks and days in a pregnancy and display it in the format the clinician is used to see it in. The calculation is based on previous recorded data. |
        | **Error on complete** | **Data element to display error next to**<br>         <br>**Tracked entity attribute to display error next to**<br>         <br>**Static text**<br>         <br>**Expression to evaluate and display after static text** | Used whenever you've cross-consistencies in the form that must be strictly adhered to. This action prevents the user from continuing until the error is resolved.<br>         <br>This action differs from the regular **Show error** since the error is not shown until the user tries to actually complete the form.<br>         <br>If you don't select a data element or a tracked entity attribute to display the error next to, make sure you write a comprehensive error message that helps the user to fix the error. |
        | **Hide field** | **Data element to hide**<br>         <br>**Tracked entity attribute to hide**<br>         <br>**Custom message for blanked field** | Used when you want to hide a field from the user.<br>         <br>**Custom message for blanked field** allows you to define a custom message displayed to the user in case the program rule hides and blanks out the field after the user typed in or selected a value.<br>         <br>If a hide field action hides a field that contains a value, the field will always removed. If no message is defined, a standard message will be displayed to alert the user. |
        | **Hide section** | **Program stage section to hide** | Used when you want to hide a section in a program stage from the user.  |
        | **Prevent adding new events to stage** | **Program stage where users will not be able to add new events** | Used when you do not want users to add any more events to a program stage. Existing events will not be hidden. |
        | **Make field mandatory** | **Data element to make mandatory**<br>         <br>**Tracked entity attribute to make mandatory** | Used when you want to make a data element or tracked entity attribute mandatory so they have to be filled out before the form can be saved. |
        | **Show error** | **Data element to display error next to**<br>         <br>**Tracked entity attribute to display error next to**<br>         <br>**Static text**<br>         <br>**Expression to evaluate and display after static text** | Used whenever there are rules which must strictly be adhered to. The show error action prevents the user from continuing until the error is resolved.<br>         <br>Such a strict validation should only be used when it's certain that the evaluated expression is never true unless the user has made a mistake in data entry.<br>         <br>It's mandatory to define a message that is shown to the user when the expression is true and the action is triggered.<br>         <br>You can select which data element or tracked entity attribute to link the error to. This will help the user to fix the error.<br>         <br>In case several data elements or attributes are involved, select the one that is most likely that the user would need to change. |
        | **Show warning** | **Data element to display warning next to**<br>         <br>**Tracked entity attribute to display warning next to**<br>         <br>**Static text**<br>         <br>**Expression to evaluate and display after static text** | Used to give the user a warning about the entered data, but at the same time to allow the user to save and continue.<br>         <br>You can use warnings to help the user avoid errors in the entered data, while at the same time allow the user to consciously disregard the warnings and save a value that is outside preset expectations.<br>         <br>**Static text** defines the message shown to the user when the expression is true and the action is triggered.<br>         <br>You can select which data element or tracked entity attribute to link the error to. This will help the user to fix the error.<br>         <br>In case several data elements or attributes are involved, select the one that is most likely that the user would need to change. |
        | **Warning on complete** | **Data element to display warning next to**<br>         <br>**Tracked entity attribute to display warning next to**<br>         <br>**Static text**<br>         <br>**Expression to evaluate and display after static text** | Used to give the user a warning if he/she tries to complete inconsistent data, but at the same time to allow the user to continue. The warning is shown in a dialog when the user completes the form.<br>         <br>**Static text** defines the message shown to the user when the expression is true and the action is triggered. This field is mandatory.<br>         <br>You can select which data element or tracked entity attribute to link the error to. This will help the user to fix the error.<br>         <br>If you don't select a data element or a tracked entity attribute to display the error next to, make sure you write a comprehensive error message that helps the user to fix the error. |
        | **Send Message** | **Message template to send** | Send Message triggers a notification based on provided message template. This action will be taken immediately. The message template will be parsed and variables will be substituted with actual values. |
        | **Schedule Message** | **Message template to send**<br>         <br>**Data field which contains expression to evaluate the date which notification should be sent at. If this expression results in any value other than Date, then resultant will be discarded and notification will not get scheduled.** | Schedule Message will schedule notification at date provided by Expression in the data field. Sample expression is given below<br>         d2:addDays( '2018-04-20', '2' )         <br>Message template will be parsed and variables will be substituted with actual values. |
        | **Hide option** | **Data element to hide option for**<br>         <br>**Tracked entity attribute to hide option for**<br>         <br>**Option that should be hidden** | Used to selectively hide a single option for an option set in a given data element/tracked entity attribute.<br>         <br>When combined with **show option group** the **hide option** takes presedence. |
        | **Hide option group** | **Data element to hide option group for**<br>         <br>**Tracked entity attribute to hide option group for**<br>         <br>**Option group that should be hidden** | Used to hide all options in a given option group and data element/tracked entity attribute.<br>         <br>When combined with **show option group** the **hide option group** takes precedence. |
        | **Show option group** | **Data element to show option group for**<br>         <br>**Tracked entity attribute to show option group for**<br>         <br>**Option group that should be shown** | Used to show only options from a given option group in a given data element/tracked entity attribute. To show an option group implicitly hides all options that is not part of the group(s) that is shown. |

    2.  Click **Save**.

    3.  (Optional) Repeat above steps to add more actions.

6.  Cliquez sur **Sauvegarder**.

### Exemple : Règles du programme { #program_rule_examples } 

> **N.B.**
>
> Vous pouvez voir tous les exemples sur le serveur de démo : 
> <https://play.dhis2.org/dev/dhis-web-maintenance/#/list/programSection/programRule>

Cet exemple montre comment configurer une règle de programme qui calcule 
le nombre de semaines et de jours d'une grossesse et affiche le résultat dans le 
format utilisé par le clinicien. Le calcul est basé sur 
les données enregistrées 
    précédemment.

1.  ![](resources/images/maintenance/pg_rule_ex/keyvaluepair_details.png)

2.  ![](resources/images/maintenance/pg_rule_ex/keyvaluepair_expression.png)

3.  ![](resources/images/maintenance/pg_rule_ex/keyvaluepair_action.png)

    L'expression complète dans le champ **Données** :

        d2:concatenate(d2:weeksBetween(#{lmp}, V{current_date}), '+',
        d2:modulus(d2:daysBetween(#{lmp}, V{current_date}), 7))

![](resources/images/maintenance/pg_rule_ex/keyvaluepair_result.png)

Cet exemple montre comment configurer une règle de programme pour afficher du texte 
dans le widget Feedback de l'application **Saisie Tracker**.

1.  ![](resources/images/maintenance/pg_rule_ex/displaytext_pgrule_variable.png)

2.  ![](resources/images/maintenance/pg_rule_ex/displaytext_details.png)

3.  ![](resources/images/maintenance/pg_rule_ex/displaytext_expression.png)

4.  ![](resources/images/maintenance/pg_rule_ex/displaytext_action.png)

![](resources/images/maintenance/pg_rule_ex/displaytext_result.png)

Cet exemple montre comment configurer une règle de programme pour afficher toujours
certaines données dans le widget Feedback de l'application **Saisie Tracker**. Ceci 
est utile lorsque l'on veut s'assurer que les données vitales, en l'occurence 
les allergies aux médicaments, sont toujours 
    visibles.

1.  ![](resources/images/maintenance/pg_rule_ex/displaytext2_pgrule_variable.png)

2.  ![](resources/images/maintenance/pg_rule_ex/displaytext2_details.png)

3.  ![](resources/images/maintenance/pg_rule_ex/displaytext2_expression.png)

4.  ![](resources/images/maintenance/pg_rule_ex/displaytext2_action.png)

![](resources/images/maintenance/pg_rule_ex/displaytext2_first_pgstage.png)

![](resources/images/maintenance/pg_rule_ex/displaytext2_result.png)

En utilisant une règle de programme du type "Attribuer une valeur", vous pouvez calculer la 
valeur "Âge gestationnel à la visite" et la saisir dans le formulaire de saisie. Vous 
configurez la règle du programme pour calculer l'"âge gestationnel à la visite" sur la base 
de la "Date des dernières règles" ou de la "Date d'échéance estimée de 
l'échographie".

1.  ![](resources/images/maintenance/pg_rule_ex/assign_details.png)

2.  ![](resources/images/maintenance/pg_rule_ex/assign_expression.png)

3.  ![](resources/images/maintenance/pg_rule_ex/assign_action.png)

![](resources/images/maintenance/pg_rule_ex/assign_result.png)

### Informations de référence : Opérateurs et fonctions à utiliser dans l'expression de la règle du programme { #program_rules_operators_functions } 

> **Conseil**
>
> Vous pouvez emboîter des fonctions les unes dans les autres et avec des sous-expressions pour 
> former des conditions plus complexes. Voici un exemple qui génère l'âge gestationnel 
> en semaines, basé sur la date des dernières menstruations :
>
>     d2:floor( d2:daysBetween(#{lastMenstrualDate},V{event_date}) / 7 )

> **Conseil**
>
> Le type de source déterminera comment les appels de fonction d2 : 
> évalueront un paramètre (champ source).
>
> Exemple : où \#{hemoglobinCurrent} est défini sur le type de source **Élément de 
> donnée dans l'événement en cours**. L'appel de fonction suivant permet d'évaluer 
> si les données sur l'hémoglobine sont saisies dans l'événement en cours.
>
>     d2:hasValue( 'hemoglobinCurrent' )
>
> Exemple : où \#{hémoglobine} est défini sur le type de source **Élément de donnée 
> provenant du dernier événement du programme en cours**. L'appel de fonction suivant  
> permet d'évaluer s'il existe une valeur pour l'hémoglobine dans un événement 
> quelconque de l'inscription.
>
>     d2:hasValue( 'hemoglobin' )
>
> Exemple : où \#{hemoglobinPrevious} est défini sur le type de source **Élément de donnée > de l'événement précédent** . L'appel de fonction suivant permet d'évaluer 
> s'il existe une valeur pour l'hémoglobine parmi les événements 
> précédant l'événement en cours.
>
>     d2:hasValue( 'hemoglobinPrevious' )



Tableau : Opérateurs possibles à utiliser dans une expression de règle de programme

| Opérateur | Description |
|---|---|
| + | Additionner les nombres |
| - | Soustraire des nombres les uns des autres |
| \* | Multiplier deux nombres |
| / | Diviser deux nombres |
| % | Le module de deux nombres |
| && | Logique ET. Vrai uniquement si l'expression à gauche et à droite est vraie. Les côtés gauche et droit peuvent être oui/non, oui uniquement ou une sous-expression entre parenthèses. |
| &#124;&#124; | Logique OU. Vrai lorsque l'expression de gauche ou l'expression de droite est vraie. Les parties gauche et droite peuvent être oui/non, oui uniquement ou une sous-expression entre parenthèses. |
| > | Nombre situé à gauche supérieur au nombre situé à droite |
| >= | Nombre situé à gauche supérieur ou égal au nombre situé à droite |
| < | Nombre situé à gauche inférieur au nombre situé à droite |
| <= | Le nombre situé à gauche est inférieur ou égal au nombre situé à droite. |
| == | Le côté gauche est égal au côté droit. Prend en charge les nombres, le texte, oui/non et oui uniquement. |
| != | Le côté gauche n'est pas égal au côté droit. Prend en charge les nombres, le texte, oui/non et oui uniquement. |
| ! | Négation de la valeur suivante. Peut être utilisé pour oui/non, oui uniquement ou pour une sous-expression entre parenthèses. |
| () | La parenthèse est utilisée pour regrouper les sous-expressions. |



Tableau : Fonctions personnalisées à utiliser dans une expression de règle de programme

| Fonction | Arguments | Description |
|---|---|---|
| d2:limite | (nombre) | Arrondit l'argument d'entrée **au dessus** du nombre entier le plus proche. <br>Exemple :<br> `d2:ceil(#{valeurhémoglobine})` |
| d2:floor | (nombre) | Arrondit l'argument d'entrée **en dessous** du nombre entier le plus proche. <br>Exemple produisant le nombre de semaines de grossesse d'une femme. Notez que la sous-expression #{âgegestationnel}/7 est évaluée avant que la fonction floor ne soit exécutée : <br>`d2:floor(#{âgegestationnel}/7)` |
| d2:round | (nombre [, décimales]) | Arrondit l'argument d'entrée à l'entier le plus proche. Un deuxième argument facultatif peut être fourni pour spécifier le nombre de décimales auquel le nombre doit être arrondi. <br>Exemple : d2:round(1.25, 1) = 1.3 |
| d2:modulus | (nombre,nombre) | Produit le module en divisant le premier argument par le second.<br> Exemple produisant le nombre de jours de la semaine de grossesse en cours de la femme :<br> `d2:modulus(#{JoursDeGestation},7)` |
| d2:zing | (nombre) | Évalue l'argument d'un numéro de type à zéro si la valeur est négative, sinon à la valeur elle-même. |
| d2:oizp | (nombre) | Évalue l'argument du numéro de type à un si la valeur est zéro ou positive, sinon à zéro. |
| d2:concatenate | (objet, [,objet, objet,...]) | Produit une chaîne concaténée à partir des paramètres d'entrée. Prend en charge n'importe quel nombre de paramètres. Sera principalement utilisé dans les futurs types d'action, par exemple pour afficher l'âge gestationnel avec d2:concatenate('weeks','+','gestationalageDays') |
| d2:daysBetween | (date, date) | Produit le nombre de jours entre le premier et le deuxième argument. Lorsque la date du premier argument précède la date du second argument, le nombre sera positif - dans le cas contraire, le nombre sera négatif. Le format de la date statique est 'aaaa-MM-jj'. <br>Exemple : calcul de l'âge gestationnel (en jours) d'une femme, sur la base de ses dernières règles et de la date de l'événement en cours :<br> `d2:daysBetween(#{dernièreDateMenstruelle},V{date de_l'événement})` |
| d2:weeksBetween | (date, date) | Produit le nombre de semaines entières entre le premier et le deuxième argument. Lorsque la date du premier argument précède celle du second, le nombre sera positif - dans le cas contraire, le nombre sera négatif. Le format de la date statique est 'aaaa-MM-jj'. |
| d2:monthsBetween | (date, date) | Produit le nombre de mois entiers entre le premier et le deuxième argument. Lorsque la date du premier argument précède celle du second, le nombre sera positif - dans le cas contraire, le nombre sera négatif. Le format de la date statique est 'aaaa-MM-jj'. |
| d2:yearsBetween | (date, date) | Produit le nombre d'années entre le premier et le deuxième argument. Lorsque la date du premier argument précède la date du second argument, le nombre sera positif - dans le cas contraire, le nombre sera négatif. Le format statique de la date est 'aaaa-MM-jj'. |
| d2:addDays | (date, nombre) | Produit une date basée sur la date du premier argument, en ajoutant le nombre de jours du deuxième argument. <br>Exemple de calcul de la date d'échéance d'une grossesse en fonction des dernières règles :<br> `d2:addDays(#{dernièreDateMenstruelle},'283')` |
| d2:count | (champ source) | Compte le nombre de valeurs saisies pour le champ source dans l'argument. Le paramètre champ source est le nom de l'un des champs source définis dans le programme - voir l'exemple <br>Exemple d'utilisation où #{previousPregnancyOutcome} est l'un des champs source d'une étape de programme répétable "grossesse précédente" :<br> `d2:count('previousPregnancyOutcome')` |
| d2:countIfValue | (champ source, texte) | Compte le nombre de valeurs correspondantes saisies pour le champ source dans le premier argument. Seules les occurrences correspondant au deuxième argument sont comptabilisées. Le paramètre champ source est le nom de l'un des champs source définis dans le programme - voir l'exemple. <br>Exemple d'utilisation où #{previousPregnancyOutcome} est l'un des champs source d'une étape de programme répétable "grossesse précédente". La fonction suivante produira le nombre de grossesses précédentes qui se sont terminées par un avortement : <br>`d2:countIfValue('previousPregnancyOutcome', 'Abortion')` |
| d2:countIfZeroPos | (champ source) | Compte le nombre de valeurs nulles ou positives saisies pour le champ source dans l'argument. Le paramètre champ source est le nom de l'un des champs source définis dans le programme - voir l'exemple. <br>Exemple d'utilisation où #{écarthauteurfondamentale} est l'un des champs source du programme et peut être positif ou négatif. La fonction suivante produira le nombre d'occurrences positives : <br>`d2:countIfZeroPos('fundalHeightDiscrepancy')` |
| d2:hasValue | (champ source) | Le résultat est vrai si le champ source de l'argument contient une valeur, et faux si aucune valeur n'a été saisie. <br>Exemple d'utilisation, pour savoir si le champ source #{currentPregnancyOutcome} est déjà rempli : <br>`d2:hasValue('currentPregnancyOutcome')` |
| d2:zpvc | (objet, [,objet, objet,...]) | Détermine le nombre de valeurs numériques nulles et positives parmi les arguments de l'objet donné. Peut être doté de tout nombre d'arguments. |
| d2:validatePattern | (texte, modèle regex) | Devient vrai si le texte saisi correspond exactement au motif de l'expression régulière fournie. L'expression régulière doit être extraite. <br>Exemple d'expression, déclenchant des actions si un nombre n'est pas sur le motif 9999/99/9 :<br> `!d2:validatePattern(A{nrc},'\\d{6}\/\\d{2}\/\\d')` <br>Exemple d'expression, déclenchant des actions si l'adresse n'est pas composée de lettres ou d'espaces blancs, puis d'un espace blanc, puis d'un nombre :<br> `!d2:validatePattern(A{registrationAddress},'[\\w ]+ \\d+')` <br>Exemple, déclenchant des actions si un nom contient des chiffres : <br>`!d2:validatePattern(A{name},'[^\\d]*')` <br>Exemple d'expression déclenchant des actions si un numéro de téléphone portable contient la séquence illégale 555 : <br>`d2:validatePattern(A{mobile} ,'.*555.*')` |
| d2:left | (texte, nombre de caractères) | Évalue la partie gauche d'un texte, en nombre de caractères à partir du premier caractère.<br> Le texte peut être cité ou évalué à partir d'une variable :<br> `d2:left(#{variableAvecTexte}, 3)` |
| d2:right | (texte, nombre de caractères) | Évalue la partie droite d'un texte, en nombre de caractères à partir du dernier caractère.<br> Le texte peut être cité ou évalué à partir d'une variable :<br> `d2:right(#{variableAvecTexte}, 2)` |
| d2:substring | (texte, début-nombre de caractères, fin-nombre de caractères) | Évalue la partie d'une chaîne de caractères spécifiée par les numéros des caractères de début et de fin.<br> Exemple d'expression :<br> `d2:substring(#{variableWithText}, 1, 3)` Si #{variableWithText} dans l'exemple ci-dessus était 'ABCD', le résultat de l'évaluation serait 'BC' |
| d2:split | (texte, délimiteur, nombre d'éléments) | Diviser le texte par le délimiteur, et garder le nième élément (0 est le premier). <br>Le texte peut être cité ou évalué à partir d'une variable, le délimiteur doit être cité :<br> `d2:split(#{variableAvecTexte}, '-', 1)` <br>NB : le délimiteur de virgule (,) n'est pas pris en charge. |
| d2:length | (texte) | Trouver la longueur d'une chaîne . <br>Exemple<br> : `d2:length(#{variableWithText})` |
| d2:inOrgUnitGroup | (texte) | Détermine si l'unité d'organisation actuelle fait partie du groupe d'arguments. L'argument peut être défini avec un code d'identification ou un code de groupe d'unités d'organisation. L'unité d'organisation actuelle sera l'unité d'organisation de l'événement lorsque les règles sont déclenchées dans le contexte d'un événement, et l'unité d'organisation d'inscription lorsque les règles sont déclenchées dans le contexte d'un formulaire d'inscription à l'IES. <br>Exemple d'expression :<br> `d2:inOrgUnitGroup('HIGH_RISK_FACILITY')` |
| d2:hasUserRole | (Rôle de l'utilisateur) | Indique vrai si l'utilisateur actuel a ce rôle, autrement, il indique faux <br>Exemple d'expression :<br> d2:hasUserRole('UYXOT4A3ASA') |
| d2:zScoreWFA | Indicateur Z-Score du poids par rapport à l'âge | Calcule le z-score sur la base des données fournies par l'indicateur de poids pour l'âge défini par l'OMS. e varie entre -3,5 et 3,5 en fonction de la valeur du poids. <br>Exemple d'expression :<br> `d2:zScoreWFA( ageInMonths, poids, sexe )` <br>**Genre** > Le sexe est considéré comme féminin par défaut. L'un des codes suivants peut > être utilisé pour indiquer un homme : " Masculin ", " MASCULIN ", " masculin ", " ma ", " m ", " M ", 0, faux. |
| d2:zScoreHFA | Indicateur Z-Score de la taille par rapport à l'âge | Calcule le z-score à partir des données fournies par l'indicateur de taille pour l'âge de l'OMS. Sa valeur varie entre -3,5 et 3,5 en fonction de la valeur de la taille.<br> Exemple d'expression :<br> `d2:zScoreHFA( âgeEnMois, taille, genre )` |
| d2:zScoreWFH | Indicateur Z-Score du poids par rapport à la taille | Calcule le z-score sur la base des données dérivées des indicateurs de l'OMS relatifs au poids par rapport à la longueur et au poids par rapport à la taille. Les données utilisées pour les filles sont disponibles [ici](https://github.com/dhis2/dhis2-docs/blob/master/src/commonmark/en/content/user/resources/txt-files/zScoreWFH-girls-table.txt) et pour les garçons [ici](https://github.com/dhis2/dhis2-docs/blob/master/src/commonmark/en/content/user/resources/txt-files/zScoreWFH-boys-table.txt). Sa valeur varie entre -3,5 et 3,5 en fonction de la valeur du poids. <br>Exemple d'expression :<br> `d2:zScoreWFH( taille, poids, genre )` |
| d2:minValue | Obtenir la valeur minimale de l'élément fourni | Cette fonction permet d'obtenir la valeur minimale de l'élément de données fourni pour toute la période d'inscription.<br> Exemple d'expression :<br> `d2:minValue( 'tension artérielle' )` |
| d2:maxValue | Obtenir la valeur maximale de l'élément fourni | Cette fonction permet d'obtenir la valeur maximale de l'élément de données fourni pour toute la période d'inscription.<br> Exemple d'expression :<br> `d2:maxValue( 'tension artérielle' )` |
| d2:lastEventDate | Obtenir la date du dernier événement pour les données saisies | Obtient la date de l'événement au cours duquel l'élément de données fondamental a été saisi dans l'événement précédent d'une étape de programme. |
| d2:extractDataMatrixValue | Obtenir une valeur GS1 basée sur l'identifiant de l'application |  Étant donné une valeur de champ formatée selon la norme gs1 data matrix et une clé de chaîne provenant des identificateurs d'application GS1. La fonction recherche et renvoie la valeur liée à la clé fournie.<br>Exemple d'expression :<br> `d2:extractDataMatrixValue( 'gtin', A{GS1 Value} )` |


Tableau : Codes de la matrice de données

| AI    | Titre des données | Description | Longueur fixée |
|----|----|----|----|
|  00   | SSCC                      | SSCC ( Code des conteneurs d'expédition en série)                                                                                                      | 20           |
|  01   | GTIN                      | Numéro de l'article du commerce mondial                                                                                                                   | 16           |
|  02   | SOMMAIRE                   | GTIN des articles commerciaux contenus dans une unité logistique                                                                                          | 16           |
|  10   | NOMBRE_LOT                | Numéro de lot ou de série                                                                                                                       | Variable     |
|  11   | DATE DE_PRODUCTION                 | Date de production (AAMMJJ)                                                                                                                   | 8            |
|  12   | DATE_D'ÉCHÉANCE                  | Date d'échéance (AAMMJJ)                                                                                                                         | 8            |
|  13   | DATE_D'EMBALLAGE                 | Date d'emballage (AAMMJJ)                                                                                                                   | 8            |
|  15   | DATE_DE_PÉREMPTION          | Date de péremption (AAMMJJ)                                                                                                                  | 8            |
|  16   | VENDU_LE                   | Date de vente (AAMMJJ)                                                                                                                     | 8            |
|  17   | DATE_D'EXPIRATION                  | Date d'expiration (AAMMJJ)                                                                                                                   | 8            |
|  20   | VARIANTE                   | Variante interne du produit                                                                                                                  | 4            |
|  21   | NUMÉRO_DE SERIE             | Numéro de série                                                                                                                             | Variable     |
|  22   | CPV                       | Variante du produit de consommation                                                                                                                   | Variable     |
|  235  | TPX                       | Extension du numéro d'article commercial mondial (GTIN) contrôlée par un tiers et sérialisée (TPX)                                                      | Variable     |
|  240  | IDENTIFICATION_SUPPLÉMENTAIRE             | Identification supplémentaire du produit attribuée par le fabricant                                                                             | Variable     |
|  241  | NUMÉRO_DE RÉFÉRENCE_DU CLIENT      | Numéro de référence du client                                                                                                                       | Variable     |
|  242  | FABRIQUÉ SUR COMMANDE_NUMÉRO_DE VARIATION        | Fabriqué sur commande Numéro de variation                                                                                                             | Variable     |
|  243  | PCN                       | Numéro de la composante de l'emballage                                                                                                                 | Variable     |
|  250  | SÉRIE_SECONDAIRE          | Numéro de série secondaire                                                                                                                   | Variable     |
|  251  | RÉFÉRENCE_À_LA BASE             | Référence à l'entité de base                                                                                                                | Variable     |
|  253  | GDTI                      | Identifiant global de type de document                                                                                                           | Variable     |
|  254  | COMPOSANTE DE_L'EXTENSION_GLN   | Composant de l'extension du GLN                                                                                                                    | Variable     |
|  255  | GCN                       | Nombre de Bon mondial (GCN)                                                                                                                 | Variable     |
|  30   | NOMBRE_DE VARIABLE                 | Nombre de variables                                                                                                                            | Variable     |
|  310* | POIDS_NET_KG             | Poids net, en kilogrammes (mesure variable, article de commerce                                                                                         | Variable     |
|  311* | LONGUEUR_M                  | Longueur ou première dimension, en mètres (mesure variable, article de commerce)                                                                            | Variable     |
|  312* | LARGEUR_M                   | Largeur, diamètre ou deuxième dimension, en mètres (mesure variable, article de commerce)                                                                 | Variable     |
|  313* | HAUTEUR_M                  | Profondeur, épaisseur, hauteur ou troisième dimension, mètres (article commercial à mesure 
variable)                                                        | Variable     |
|  314* | SUPERFICIE_M2                   | Superficie, en mètres carrés (article commercial à mesure variable)                                                                                         | Variable     |
|  315* | VOLUME_NET_L              | Volume net, litres ( mesure variable de l'article commercial)                                                                                           | Variable     |
|  316* | VOLUME_NET_M3             | Volume net, mètres cubes (mesure variable de l'article commercial)                                                                                     | Variable     |
|  320* | POIDS_NET_LB             | Poids net, en livres (mesure variable de l'article commercial)                                                                                           | Variable     |
|  321* | LONGUEUR_I                  | Longueur ou première dimension, en pouces (article commercial de mesure variable)                                                                            | Variable     |
|  322* | LONGUEUR_F                  | Longueur ou première dimension, en pieds (article commercial de mesure variable)                                                                              | Variable     |
|  323* | LONGUEUR_Y                  | Longueur ou première dimension, yards (article commercial de mesure variable)                                                                             | Variable     |
|  324* | LARGEUR_I                   | Largeur, diamètre ou deuxième dimension, en pouces (mesure variable de l'article commercial)                                                                 | Variable     |
|  325* | LARGEUR_F                   | Largeur, diamètre ou deuxième dimension, en pieds (mesure variable de l'article commercial)                                                                   | Variable     |
|  326* | LARGEUR_Y                   | Largeur, diamètre ou deuxième dimension, yards (mesure variable de l'article commercial)                                                                   | Variable     |
|  327* | HAUTEUR_I                  | Profondeur, épaisseur, hauteur ou troisième dimension, en pouces (mesure variable de l'article commercial)                                                         | Variable     |
|  328* | HAUTEUR_F                  | Profondeur, épaisseur, hauteur ou troisième dimension, pieds (article commercial de mesure variable)                                                           | Variable     |
|  329* | HAUTEUR_Y                  | Profondeur, épaisseur, hauteur ou troisième dimension, yards (article commercial à mesure variable)                                                          | Variable     |
|  330* | POIDS_BRUT_GF           | Poids logistique, kilogrammes                                                                                                                 | Variable     |
|  331* | LONGUEUR_M_LOG              | Longueur ou première dimension, en mètres                                                                                                          | Variable     |
|  332* | LARGEUR_M_LOG               | Largeur, diamètre ou deuxième dimension, en mètres                                                                                               | Variable     |
|  333* | HAUTEUR_M_LOG              | Profondeur, épaisseur, hauteur ou troisième dimension, mètres                                                                                       | Variable     |
|  334* | SUPERFICIE_M2_LOG               | Superficie, mètres carrés                                                                                                                       | Variable     |
|  335* | VOLUME_L_LOG              | Volume logistique, litres                                                                                                                    | Variable     |
|  336* | VOLUME_M3_LOG             | Volume logistique, mètres cubes                                                                                                              | Variable     |
|  337* | KG_PAR_M2                 | Kilogrammes par mètre carré                                                                                                                | Variable     |
|  340* | POIDS_BRUT_LB          | Poids logistique, livres                                                                                                                    | Variable     |
|  341* | LONGUEUR_I_LOG              | Longueur ou première dimension, pouces                                                                                                          | Variable     |
|  342* | LONGUEUR_F_LOG              | Longueur ou première dimension, pieds                                                                                                            | Variable     |
|  343* | LONGUEUR_Y_LOG              | Longueur ou première dimension, yards                                                                                                           | Variable     |
|  344* | LARGEUR_I_LOG               | Largeur, diamètre ou deuxième dimension, en pouces                                                                                               | Variable     |
|  345* | LARGEUR_F_LOG               | Largeur, diamètre ou deuxième dimension, en pieds                                                                                                 | Variable     |
|  346* | LARGEUR_Y_LOG               | Largeur, diamètre ou deuxième dimension, en mètres                                                                                               | Variable     |
|  347* | HAUTEUR_I_LOG              | Profondeur, épaisseur, hauteur ou troisième dimension, en pouces                                                                                       | Variable     |
|  348* | HAUTEUR_F_LOG              | Profondeur, épaisseur, hauteur ou troisième dimension, en pieds                                                                                         | Variable     |
|  349* | HAUTEUR_Y_LOG              | Profondeur, épaisseur, hauteur ou troisième dimension, en yards                                                                                        | Variable     |
|  350* | SUPERFICIE_I2                   | Surface, pouces carrés ( article de commerce à mesure variable)                                                                                          | Variable     |
|  351* | SUPERFICIE_F2                   | Superficie, en pieds carrés ( article de commerce à mesure variable)                                                                                            | Variable     |
|  352* | SUPERFICIE_Y2                   | Superficie, en mètres carrés (article de commerce à mesure variable)                                                                                          | Variable     |
|  353* | SUPERFICIE_I2_LOG               | Superficie, en pouces carrés                                                                                                                        | Variable     |
|  354* | SUPERFICIE_F2_LOG               | Superficie, en pieds carrés                                                                                                                          | Variable     |
|  355* | SUPERFICIE_Y2_LOG               | Superficie, en mètres carrés                                                                                                                         | Variable     |
|  356* | POIDS_NET_T              | Poids net, en onces troy ( article commercial à mesure variable)                                                                                      | Variable     |
|  357* | VOLUME_NET_OZ             | Poids net (ou volume), en onces (mesure variable de l'article commercial)                                                                               | Variable     |
|  360* | VOLUME_NET_Q              | Volume net, quarts (mesure variable de l'article commercial)                                                                                           | Variable     |
|  361* | VOLUME_NET_G              | Volume net, gallons U.S. ( mesure variable de l'article commercial)                                                                                     | Variable     |
|  362* | VOLUME_Q_LOGISTIQUE              | Volume logistique, en litres                                                                                                                    | Variable     |
|  363* | VOLUME_G_LOGISTIQUE              | Volume logistique, en gallons U.S.                                                                                                              | Variable     |
|  364* | VOLUME_I3                 | Volume net, en pouces cubes ( article commercial à mesure variable)                                                                                     | Variable     |
|  365* | VOLUME_F3                 | Volume net, pieds carrés ( article de commerce à mesure variable)                                                                                       | Variable     |
|  366* | VOLUME_Y3                 | Volume net, en mètres cubes ( article de commerce à mesure variable)                                                                                      | Variable     |
|  367* | VOLUME_I3_LOGISTIQUE             | Volume logistique, en pouces cubes                                                                                                               | Variable     |
|  368* | VOLUME_F3_LOGISTIQUE             | Volume logistique, en mètres cubes                                                                                                                 | Variable     |
|  369* | VOLUME_Y3_LOGISTIQUE             | Volume logistique, en mètres cubes                                                                                                                | Variable     |
|  37   | COMPTAGE                     | Nombre d'articles commerciaux ou de pièces d'articles commerciaux contenus dans une unité logistique                                                                     | Variable     |
|  390* | MONTANT                    | Montant à payer ou valeur du bon, en monnaie locale                                                                                  | Variable     |
|  391* | MONTANT_ISO                | Montant applicable payable avec le code ISO de la devise                                                                                           | Variable     |
|  392* | PRIX                     | Montant à payer, zone monétaire unique (article commercial à mesure variable)                                                              | Variable     |
|  393* | PRIX_ISO                 | Montant applicable à payer avec le code ISO de la devise ( article commercial à mesure variable)                                                             | Variable     |
|  394* | PRCNT_OFF                 | Pourcentage de réduction d'un bon                                                                                                            | Variable     |
|  395* | PRIX_UOM                 | Montant à payer par unité de mesure - zone monétaire unique (article commercial à mesure variable)                                                      | N4+N6        | Variable     |
|  400  | NUMERO DE_COMMANDE              | Numéro du bon de commande du client                                                                                                            | Variable     |
|  401  | GINC                      | Numéro d'identification mondial pour les expéditions (GINC)                                                                                        | Variable     |
|  403  | ACHEMINEMENT                     | Code d'acheminement                                                                                                                               | Variable     |
|  410  | EXPÉDIER_À_LOCALISATION_MONDIALE          | Expédier à / Livrer à Numéro de localisation mondial (GLN)                                                                                          | Variable     |
|  411  | FACTURER_À_LOCALISATION               | Facturer à / facturer à Numéro de localisation mondial (GLN)                                                                                          | Variable     |
|  412  | ACHETÉ_À            | Acheté à Numéro de localisation mondial (GLN)                                                                                                | Variable     |
|  413  | EXPÉDIER_POUR_LOCALISATION              | Expédier pour / Livrer pour - Transférer au numéro de localisation mondial (GLN)                                                                           | Variable     |
|  414  | NUMERO_DE LOCALISATION                | Identification d'un lieu physique - Numéro de localisation mondial (GLN)                                                                       | Variable     |
|  415  | PAYER_À                    | Numéro de localisation mondial (GLN) de l'auteur de la facture                                                                                        | Variable     |
|  416  | LIEU DE_SERVICE_DE  PRODUCTION             | Numéro de localisation mondial (GLN) du lieu de production ou de service                                                                         | Variable     |
|  417  | PARTIE                     | Numéro de localisation mondial de la Partie (GLN)                                                                                                         | Variable     |
|  420  | EXPÉDIER_À_LA POSTE              | Expédier à / Livrer à un code postal au sein d'une même autorité postale                                                                          | Variable     |
|  421  | EXPÉDIER_À_L'ISO_DE LA POSTE          | Expédier à / Livrer à code postal avec code ISO du pays                                                                                     | Variable     |
|  422  | ORIGINE                    | Pays d'origine d'un produit commercial                                                                                                          | Variable     |
|  423  | PAYS_PREMIERE_TRANSFORMATION   | Pays de première transformation                                                                                                              | Variable     |
|  424  | PAYS_TRANSFORMATION           | Pays de transformation                                                                                                                      | Variable     |
|  425  | PAYS_DEMONTAGE       | Pays de démontage                                                                                                                     | Variable     |
|  426  | PAYS_ENSEMBLE DE_LA PRODUCTION      | Pays couvrant l'ensemble de la chaîne de production                                                                                                        | Variable     |
|  427  | SUBDIVISION_ORIGINE        | Subdivision du pays d'origine                                                                                                              | Variable     |
|  4300 | EXPÉDIER_À_ENTREPRISE              | Expédier à / Livrer à - Nom de l'entreprise                                                                                                          | Variable     |
|  4301 | EXPÉDIER_À_NOM              | Expédier à / Livrer à - contact                                                                                                               | Variable     |
|  4302 | EXPÉDIER_À_ADRESSE1              | Expédier à / Livrer à - ligne d'adresse 1                                                                                                        | Variable     |
|  4303 | EXPÉDIER_À_ADRESSE2              | Expédier à / Livrer à - ligne d'adresse 2                                                                                                        | Variable     |
|  4304 | EXPÉDIER_À_BANLIEUE               | Expédier à / Livrer à - banlieue                                                                                                                 | Variable     |
|  4305 | EXPÉDIER_À_LOCALITÉ          | Expédier à / Livrer à - localité                                                                                                               | Variable     |
|  4306 | EXPÉDIER_À_RÉGION               | Expédier à / Livrer à - région                                                                                                                 | Variable     |
|  4307 | EXPÉDIER_À_PAYS           | Expédier à / Livrer à - Code du pays                                                                                                          | Variable     |
|  4308 | EXPÉDIER_À_TÉLÉPHONE             | Expédier à / Livrer à - Numéro de téléphone                                                                                                      | Variable     |
|  4310 | RENVOYER_À_ENTREPRISE               | Renvoyer à -nom de l'entreprise                                                                                                                     | Variable     |
|  4311 | RENVOYER_À_NOM               | Renvoyer à -contact                                                                                                                          | Variable     |
|  4312 | RENVOYER_À_L' ADRESSE1               | Renvoyer à la ligne d'adresse 1                                                                                                                   | Variable     |
|  4313 | RENVOYER_À_L' ADRESSE2               | Renvoyer à la ligne d'adresse 2                                                                                                                   | Variable     |
|  4314 | RENVOYER_À LA_BANLIEUE                | Renvoyer à-banlieue                                                                                                                           | Variable     |
|  4315 | RENVOYER_À LA_LOCALITÉ           | Renvoyer à -localité                                                                                                                         | Variable     |
|  4316 | RENVOYER_À LA_RÉGION                | Renvoyer à-région                                                                                                                           | Variable     |
|  4317 | RENVOYER_AU_PAYS            | Renvoyer à -code du pays                                                                                                                     | Variable     |
|  4318 | RENVOYER_À LA_POSTE               | Renvoyer à -code postal                                                                                                                      | Variable     |
|  4319 | RENVOYER_AU_TÉLÉPHONE              | Renvoyer à -numéro de téléphone                                                                                                                 | Variable     |
|  4320 | DESCRIPTION_DU SERVICE           | Description du code de service                                                                                                                   | Variable     |
|  4321 | PRODUITS_DANGEREUX           | Drapeau pour produits dangereux                                                                                                                      | Variable     |
|  4322 | AUTORISATION DE_DÉPART                 | Autorisation de départ                                                                                                                         | Variable     |
|  4323 | SIGNATURE_REQUISE              | Drapeau de signature requis                                                                                                                    | Variable     |
|  4324 | PAS AVANT_LA DATE_DE LIVRAISON               | Pas avant la date de livraison                                                                                                              | Variable     |
|  4325 | PAS APRÈS_LA DATE_DE LIVRAISON               | Pas après la date de livraison                                                                                                               | Variable     |
|  4326 | DATE_DE PARUTION                  | Date de parution                                                                                                                               | Variable     |
|  7001 | NSN                       | Numéro de nomenclature OTAN (NSN)                                                                                                                   | Variable     |
|  7002 | DÉCOUPES DE_VIANDE                  | Classification CEE-ONU des carcasses et découpes de viande                                                                                              | Variable     |
|  7003 | TEMPS_D'EXPIRATION                  | Date et heure d'expiration                                                                                                                   | Variable     |
|  7004 | POUVOIR_ACTIF            | Pouvoir actif                                                                                                                             | Variable     |
|  7005 | ZONE DE_CAPTURE                | Zone de capture                                                                                                                                 | Variable     |
|  7006 | PREMIÈRE_DATE DE_CONGÉLATION         | Première date de congélation                                                                                                                          | Variable     |
|  7007 | DATE DE_RÉCOLTE              | Date de récolte                                                                                                                               | Variable     |
|  7008 | ESPÈCES DE_PÊCHE           | Espèces destinées à la pêche                                                                                                               | Variable     |
|  7009 | TYPE_D'ENGIN DE_PÊCHE         | Type d'engin de pêche                                                                                                                          | Variable     |
|  7010 | METHODE DE_PRODUCTION               | Méthode de production                                                                                                                          | Variable     |
|  7020 | LOT_DE RÉHABILITATION                | Identification du lot de réhabilitation                                                                                                                       | Variable     |
|  7021 | STATUT_FONCTIONNEL                 | Statut fonctionnel                                                                                                                          | Variable     |
|  7022 | STATUT_DE LA RÉVISON                  | Statut de la révision                                                                                                                            | Variable     |
|  7023 | GIAI_ASSEMBLAGE             | Identifiant mondial des actifs (GIAI) d'un assemblage                                                                                   | Variable     |
|  703* | NUMÉRO DU_PROCESSEUR          | Numéro de processeurs avec code ISO du pays                                                                                                  | Variable     |
|  7040 | UIC_EXT                   | GS1 UIC avec l'extension 1 et l'index de l'importateur                                                                                                | Variable     |
|  710  | NHRN_PZN                  | Numéro national de remboursement des soins de santé (NHRN) -PZN Allemagne                                                                              | Variable     |
|  711  | NHRN_CIP                  | Numéro national de remboursement des soins de santé (NHRN) -CIP France                                                                               | Variable     |
|  712  | NHRN_CN                   | Numéro national de remboursement des soins de santé (NHRN) -CN Espagne                                                                                 | Variable     |
|  713  | NHRN_DRN                  | Numéro national de remboursement des soins de santé (NHRN) - DRN Brésil                                                                               | Variable     |
|  714  | NHRN_AIM                  | Numéro national de remboursement des soins de santé (NHRN) - AIM Portugal                                                                             | Variable     |
|  723* | NUMÉRO DE_LA CERTIFICATION               | Référence de la certification                                                                                                                    | Variable     |
|  7240 | PROTOCOLE                  | Identifiant du protocole                                                                                                                                | Variable     |
|  8001 | DIMENSIONS                | Produits en rouleaux (largeur, longueur, diamètre du noyau, direction, épissures)                                                                           | Variable     |
|  8002 | NUMÉRO_CMT                | Identifiant de téléphone portable cellulaire                                                                                                       | Variable     |
|  8003 | GRAI                      | Identifiant mondial des biens consignés (GRAI)                                                                                                  | Variable     |
|  8004 | GIAI                      | Identifiant mondial des actifs individuels (GIAI)                                                                                                  | Variable     |
|  8005 | PRIX_PAR_UNITÉ            | Prix par unité de mesure                                                                                                                  | Variable     |
|  8006 | ITIP                      | Identification d'un article commercial individuel (ITIP)                                                                                    | Variable     |
|  8007 | IBAN                      | Numéro de compte bancaire international (IBAN)                                                                                                   | Variable     |
|  8008 | HEURE DE_FABRICATION                 | Date et heure de fabrication                                                                                                                | Variable     |
|  8009 | OPTSEN                    | Indicateur de détecteur à lecture optique                                                                                                        | Variable     |
|  8010 | CPID                      | Identifiant du composant/de la partie (CPID)                                                                                                           | Variable     |
|  8011 | CPID_SERIE               | Composant / Numéro de série de l'identificateur de la partie (CPID SERIAL)                                                                                      | Variable     |
|  8012 | VERSION                   | Version du logiciel                                                                                                                           | Variable     |
|  8013 | GMN                       | Nombre de modèle mondial (GMN)                                                                                                                  | Variable     |
|  8017 | FOURNISSEUR DU_GSRN             | Numéro global de relation de service (GSRN) pour identifier la relation entre une organisation offrant des services et le fournisseur de services.  | Variable     |
|  8018 | DESTINATAIRE DU_GSRN            | Numéro global de relation de service (GSRN) pour identifier la relation entre une organisation offrant des services et le destinataire de ces services. | Variable     |
|  8019 | SRIN                      | Numéro d'instance de relation de service (SRIN)                                                                                                    | Variable     |
|  8020 | NUMÉRO DE_RÉFÉRENCE                | Numéro de référence du bulletin de paiement                                                                                                              | Variable     |
|  8026 | ITIP_SOMMAIRE              | Identification des pièces d'un article commercial (ITIP) contenues dans une unité logistique                                                               | Variable     |
|  8110 | BON_USA                | Identification de code de bon de réduction en Amérique du Nord                                                                                        | Variable     |
|  8111 | POINTS                    | Points de fidélité d'un bon de réduction                                                                                                                 | Variable     |
|  8121 | OFFRE_POSITIVE_BON_USA | Identification des codes de coupon sans support papier à utiliser en Amérique du Nord                                                                              | Variable     |
|  8200 | URL_DU PRODUIT               | URL de l'emballage élargi                                                                                                                     | Variable     |
|  90   | ACCORD_INTERNE        | Informations approuvées d'un commun accord par les partenaires commerciaux                                                                                       | Variable     |
|  91   | ENTREPRISE_INTERNE_1        | Informations internes de l'entreprise                                                                                                              | Variable     |
|  92   | ENTREPRISE_INTERNE_2        | Informations internes de l'entreprise                                                                                                              | Variable     |
|  93   | ENTREPRISE_INTERNE_3        | Informations internes de l'entreprise                                                                                                              | Variable     |
|  94   | ENTREPRISE_INTERNE_4        | Informations internes de l'entreprise                                                                                                              | Variable     |
|  95   | ENTREPRISE_INTERNE_5        | Informations internes de l'entreprise                                                                                                              | Variable     |
|  96   | ENTREPRISE_INTERNE_6        | Informations internes de l'entreprise                                                                                                              | Variable     |
|  97   | ENTREPRISE_INTERNE_7        | Informations internes de l'entreprise                                                                                                              | Variable     |
|  98   | ENTREPRISE_INTERNE_8        | Informations internes de l'entreprise                                                                                                              | Variable     |
|  99   | ENTREPRISE_INTERNE_9        | Informations internes de l'entreprise                                                                                                              | Variable     |

Tableau : Variables standard à utiliser dans les expressions des règles du programme

| Variable | Type | Description |
|---|---|---|
| V{date_actuelle} | (date) | Contient la date du jour lorsque la règle est exécutée. <br>Exemple d'expression : <br>`d2:daysBetween(#{symptomDate},V{current_date}) < 0 `|
| V{date de_l'événement} | (date) | Contient la date de l'événement en cours d'exécution. N'aura pas de valeur au moment où la règle est exécutée dans le cadre du formulaire d'enregistrement. |
| V{satut de_l'événement} | (Chaîne) | Contient le statut de l'événement ou de l'inscription en cours. <br>Exemple d'expression pour vérifier l'état :<br>`V{event_status} == 'TERMINÉ' `  |
| V{due_date} | (date) | Cette variable contient la date actuelle à laquelle la règle est exécutée. Remarque : cela signifie que la règle peut produire des résultats différents à des moments différents, même si rien d'autre n'a changé. |
| V{nombre_d'événement} | (nombre) | Contient le nombre total d'événements dans l'inscription. |
| V{date_d'inscription} | (date) | Contient la date d'inscription de l'inscription actuelle. N'a pas de valeur pour les programmes à événement unique. |
| V{date de_l'incident} | (date) | Contient la date d'incident de l'inscription actuelle. N'a pas de valeur pour les programmes à événement unique. |
| V{identifiant de_l'inscription} | (Chaîne) | Chaîne d'identification universelle (UID) de l'inscription en cours. N'aura pas de valeur pour les programmes à événement unique. |
| V{identifiant de_l'événement} | (Chaîne) | Chaîne d'identification universelle (UID) du contexte de l'événement en cours. N'aura pas de valeur au moment où la règle est exécutée dans le cadre du formulaire d'enregistrement. |
| V{code de_l'unité d'organisation} | (Chaîne) | Contient le code de l'unité d'organisation liée à l'inscription en cours. Pour les programmes à événement unique, le code de l'unité d'organisation de l'événement en cours sera utilisé à la place. <br>Exemple d'expression pour vérifier si le code de l'unité d'organisation commence par WB_ : <br>`d2:left(V{orgunit_code},3) == 'WB_'` |
| V{environnement} | (Chaîne) | Contient un code représentant l'environnement d'exécution actuel des règles. Les valeurs possibles sont "le WebClient", " l'AndroidClient" et "le Serveur". Peut être utilisé lorsqu'une règle de programme n'est censée s'exécuter que dans un ou plusieurs types de clients. |
| V{identifiant de_l'étape du_programme} | (Chaîne) | Contient l'ID de l'étape du programme en cours qui a déclenché les règles. Cette variable peut être utilisée pour exécuter les règles dans des étapes spécifiques du programme, ou pour éviter l'exécution dans certaines étapes. Lorsque les règles sont exécutées dans le contexte d'un formulaire d'enregistrement TEI, la variable est vide. |
| V{nom de_l'étape_du programme} | (Chaîne) | Contient le nom de l'étape du programme en cours qui a déclenché les règles. Cette variable peut être utilisée pour exécuter les règles dans des étapes spécifiques du programme, ou pour éviter l'exécution dans certaines étapes. Lorsque les règles sont exécutées dans le contexte d'un formulaire d'enregistrement TEI, la variable est vide. |
| V{date_d'achèvement} | (Chaîne) | Cette variable contient la date d'achèvement de l'événement qui a déclenché cette règle. Si l'événement n'est pas encore terminé, "completed_date" ne contient rien. |

## Configurer les types de relation. { #configure_relationship_type } 

### À propos des types de relation { #about_relationship_types } 

Une relation est un lien entre deux entités dans le modèle Tracker. Une relation est considérée comme une donnée dans DHIS2 et est basée sur un type de relation, de la même manière qu'une instance d'entité suivie est basée sur un type d'entité suivie.

Les relations comprennent toujours deux entités, et ces entités peuvent inclure des instances d'entités suivies, des inscriptions et des événements, et toute combinaison de ceux-ci. Notez que toutes ces combinaisons ne sont pas disponibles dans les applications actuelles.

En outre, les relations peuvent être définies comme unidirectionnelles ou bidirectionnelles. La seule différence fonctionnelle est qu'elles nécessitent actuellement différents niveaux d'accès pour être créées. Les relations unidirectionnelles exigent que l'utilisateur ait un accès en écriture de données à l'entité "de" et un accès en lecture de données à l'entité "à", tandis que les relations bidirectionnelles exigent un accès en écriture de données pour les deux parties.

Pour plus d'informations sur la configuration et la signification de 'De la contrainte' et 'À la contrainte', voir [Modèle de relation](#relationship_model_relationship_type).

### Créer ou modifier un type de relation { #create_relationship_type } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Type de
    d'indicateur**.

2.  Cliquez sur le bouton Ajouter.

3.  Entrez un **Nom** du type de relation.

4.  (Facultatif) Attribuez un **Code**.

5.  (Facultatif) Faites une **Description** de la relation.

6. (Facultatif) Choisissez si la relation doit être bidirectionnelle

7. Indiquez **Nom de la relation vu de l'entité initiale**. C'est le nom de la relation s'affichera dans l'application Saisie de données à gauche de la relation. Par exemple, dans une relation mère-enfant, il peut s'agir de "Mère de".

8. (Facultatif) Indiquez **Nom de la relation vu de l'entité réceptrice**. C'est le nom de la relation qui s'affichera à droite de la relation dans l'application Saisie de données. Par exemple, dans le cas d'une relation mère-enfant, il peut s'agir de "Mère".

9.  Sélectionnez "De la contrainte". Cette contrainte limite le type d'entités pouvant être incluses dans la relation. [Modèle de relation](#relationship_model_relationship_type). Après avoir sélectionné "De la contrainte", vous avez la possibilité de choisir les attributs ou les éléments de données qui doivent être affichés dans le widget de la relation dans la saisie Tracker et la saisie "De la contrainte". La liste varie en fonction de la contrainte :
    * Lorsque vous sélectionnez "Instance d'entité suivie", puis un type d'entité suivie uniquement, vous devez choisir parmi les attributs de type d'entité suivie configurés.
    * En sélectionnant "Instance d'Entité Suivie", puis un Type d'Entité Suivie et un Programme, vous devez choisir entre les attributs qui ont été configurés pour le Type d'Entité Suivie et pour le Programme.
    * Lorsque vous sélectionnez "Inscription au programme", vous devez choisir parmi les attributs qui ont été configurés pour le programme.
    * Lorsque vous sélectionnez "Événement dans le programme ou l'étape du programme", vous devez choisir parmi les éléments de données qui ont été configurés pour ce programme d'événement ou cette étape du programme.

10. Sélectionnez 'À la contrainte'. Cela limite le type d'entités pouvant être incluses dans la relation. [Modèle de relation](#relationship_model_relationship_type). Répétez la sélection des attributs ou des éléments de données qui doivent être affichés dans le widget de relation pour " À la contrainte ".

11. Cliquez sur **Sauvegarder**.

## Configurer les types d'entités suivies { #configure_tracked_entity } 

### À propos des types d'entités suivies { #about_tracked_entity } 

Une entité suivie est un type d'entités qui peuvent être suivies par le 
système. Il peut s'agir de n'importe quoi, des personnes aux marchandises, par exemple un 
médicament ou une personne.

Un programme doit avoir une entité suivie. Pour inscrire une instance d'entité suivie 
dans un programme, le type d'entité suivie et le type d'entité suivie 
d'un programme doivent être identiques.

Les attributs d'entités suivies sont utilisés pour enregistrer des informations supplémentaires pour 
une entité suivie. Les attributs des entités suivies peuvent être partagés entre 
les programmes.

### Créer ou modifier un attribut d'entité suivie { #create_tracked_entity_attribute } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Attribut 
    d'entité suivie**.

2.  Cliquez sur le bouton Ajouter.

3.  Dans le champ **Nom**, saisissez le nom de l'attribut de l'entité suivie.

4.  (Facultatif) Tapez un **Nom abrégé**.

4.  (Facultatif) Entrez un **nom du formulaire**.

5.  (Facultatif) Dans le champ **Code**, attribuez un code.

6.  (Facultatif) Saisissez une **Description**.

7. (Facultatif) Dans le champ **Masque de champ**, vous pouvez taper un modèle qui est utilisé pour fournir 
   des conseils permettant un bon formatage de l'élément de donnée. **NB : Uniquement implémenté à ce jour, dans l'application de saisie Android du DHIS2, pas dans les applications de saisie et de saisie de suivi web**.
   Voici donc les caractères spéciaux qui peuvent être utilisés dans le masque. Les caractères spéciaux correspondent exactement à un caractère du type donné.

   | Caractère  | Correspondance                      |
   | ------------- |----------------|
   | \\d       | chiffre                      |
   | \\x       | lettre minuscule          |
   | \\X       | lettre majuscule             |
   | \\w       | tout caractère alphanumérique |

  Par exemple, le modèle peut être utilisé pour afficher des traits d'union dans le champ de saisie de l'élément de données selon les besoins. Par exemple, "\d\d\d-\d\d\d-\d\d\d" 
  montre un trait d'union après chaque troisième chiffre.

8.  Sélectionnez un **ensemble d'options**.

9.  Dans le champ **Type de valeur**, sélectionnez le type de données que 
    l'entité suivie pourra enregistrer.



    Tableau : Types de valeurs

    | Type de valeur | Description |
    |---|---|
    | Âge | - |
    | Coordonnées | Coordonnées d'un point spécifiées sous forme de longitude et de latitude en degrés décimaux. Toutes les coordonnées doivent être spécifiées au format "-19.23 , 56.42" avec une virgule séparant la longitude et la latitude. |
    | Date | Les dates sont affichées sous forme de widget de calendrier lors de la saisie des données. |
    | Date & heure | - |
    | E-mail | - |
    | Fichier | Une ressource de fichier où vous pouvez stocker des fichiers externes, par exemple des documents et des photos. |
    | Image | Semblable au fichier, mais limité aux images. |
    | Entier | Tout nombre entier (positif et négatif), y compris zéro. |
    | Lettre | - |
    | Long texte | Valeur textuelle. S'affiche comme une zone de texte dans les formulaires. |
    | Nombre entier négatif | Tout nombre entier inférieur à (mais ne comprenant pas) zéro. |
    | Nombre | Toute valeur numérique réelle avec une seule virgule décimale. Les séparateurs de milliers et la notation scientifique ne sont pas pris en charge. |
    | Pourcentage | Nombres entiers compris entre 0 et 100. |
    | Numéro de téléphone ||
    | Nombre entier positif | Tout nombre entier supérieur à (mais ne comprenant pas) zéro. |
    | Nombre entier positif de zéro | Tout nombre entier positif, y compris zéro. |
    | Unité d'organisation | - |
    | Intervalle d'unité | Tout nombre réel supérieur ou égal à 0 et inférieur ou égal à 1. |
    | Texte | Valeur textuelle. Le nombre maximum de caractères autorisés par valeur est de 50 000. |
    | Heure | L'heure est enregistrée au format HH:mm.<br>     <br>HH est un nombre compris entre 0 et 23<br>     <br>mm est un nombre compris entre 00 et 59 |
    | Associé Tracker | - |
    | Nom d'utilisateur | Affiché sous la forme d'une boîte de dialogue contenant une liste d'utilisateurs et un champ de recherche. L'utilisateur doit disposer de l'autorisation "Voir l'utilisateur" pour pouvoir utiliser ce type de données. |
    | Oui/Non | Valeurs booléennes, affichées sous forme de listes déroulantes lors de la saisie des données. |
    | Oui uniquement | Valeurs vraies, affichées sous forme de cases à cocher lors de la saisie des données. |

9.  Sélectionnez un **Type d'agrégation**.



    Tableau : Opérateurs d'agrégation

    | Opérateur d'agrégation | Description |
    |---|---|
    | Moyenne | Moyenne des valeurs dans les dimensions de la période et de l'unité d'organisation. |
    | Moyenne (somme dans la hiérarchie des unités d'organisation) | Moyenne des valeurs de données dans la dimension de la période, somme dans les dimensions des unités d'organisation. |
    | Comptage | Nombre de valeurs de données. |
    | Min | Minimum des valeurs de données. |
    | Max | Maximum des valeurs de données. |
    | Aucune | Aucune agrégation n'est effectuée dans une quelconque dimension.|
    | Somme | Somme des valeurs de données dans la dimension de la période et de l'unité d'organisation. |
    | Écart-type | Écart-type (basé sur la population) des valeurs de données. |
    | Variation | Variation (basée sur la population) des valeurs de données. |

10. Sélectionnez **Unique** pour spécifier que les valeurs de l'attribut de l'entité suivie 
    sont uniques.

    Il existe deux options pour ce cadre unique :

      - **Système complet** : Les valeurs de l'attribut d'entité suivie
        peuvent être dupliquées avec des valeurs appartenant à d'autres attributs d'entité
        suivie. Mais les valeurs contenues dans cet attribut d'entité suivie ne doivent 
        pas être dupliquées.

        Sélectionnez **Généré automatiquement** pour permettre la génération automatique
        de la valeur de l'attribut de l'entité suivie. Lorsque le paramètre de génération
        est activé, un champ facultatif permettant de spécifier un modèle s'affiche
        également. Ce champ doit contenir un motif basé sur la 
        syntaxe TextPattern. Lorsque la valeur est générée automatiquement,
        elle est unique pour cet attribut dans l'ensemble du système. Voir
        la section TextPattern pour plus d'informations sur son fonctionnement.

      - **Unité d'organisation** : Les valeurs de l'attribut de l'entité suivie 
        ne doivent pas être dupliquées dans la même unité d'organisation.

11. Sélectionnez **Hériter** pour enregistrer une nouvelle entité en relation avec une
    entité disponible. Toutes les valeurs des attributs de l'entité héritée 
    seront pré-remplies dans le formulaire d'enregistrement.

12. (Facultatif) Sélectionnez **Confidentiel**.

    Cette option n'est disponible que si vous avez configuré le cryptage 
    du système.

13. (Facultatif) Sélectionnez **Afficher dans la liste sans programme**.

14. (Facultatif) Attribuez une ou plusieurs **Légendes**.

15. Cliquez sur **Sauvegarder**.

### Créer ou modifier un type d'entité suivie { #create_tracked_entity } 

1.  Ouvrez l'application **Maintenance** et cliquez sur **Programme** \> **Attribut 
    type d'entité**.

2.  Cliquez sur le bouton d'ajout ou sur un **type d'entité 
    d'indicateur**.

3.  Entrez un **Nom** de l'entité suivie.

4.  (Facultatif) sélectionnez une **Couleur** et une **Icône** qui seront utilisées par
    les applications de saisie des données pour identifier ce type d'entité suivie.

5.  (Facultatif) Entrez une **Description** de l'entité suivie.

6.  (Facultatif) Saisissez un **Nombre minimum d'attributs requis pour
    la recherche**. Cela indique le nombre d'attributs qui doivent être
    remplis pour pouvoir rechercher ce **type d'entité 
    suivie** dans une *recherche globale*. Voir [Configurer 
    la recherche](../search/search.xml#configure_search) pour plus d'informations.

7.  (Facultatif) Saisissez un **Nombre maximum d'instances d'entités suivies à 
    renvoyer dans la recherche**. Cette valeur indique le nombre d'instances d'entités
    suivies qui seront renvoyées lors d'une *recherche globale*. Voir [Configurer
    la recherche](../search/search.xml#configure_search) pour plus d'informations.

8.  (Facultatif) Ajouter les **attributs du type d'entité suivi**. Ceci est utilisé pour
    configurer la recherche, voir [Configurer
    la recherche](configure_search) pour plus d'informations.

9.  (Facultatif) Entrez un **Nom alternatif** de l'entité suivie.

10. Cliquez sur **Sauvegarder**.

## Configurer la recherche { #configure_search } 

Les utilisateurs peuvent se voir attribuer des unités d'organisation de recherche, ce qui 
permet de rechercher des instances d'entités suivies en dehors de leurs unités 
d'organisation de saisie de données.

La recherche peut être effectuée soit dans le cadre d'un programme, soit dans le 
cadre d'un type d'entité suivie. Pour donner aux utilisateurs la possibilité d'effectuer une 
recherche dans le cadre d'un programme, il est nécessaire de configurer 
lequel des attributs de l'entité suivie du programme est interrogeable. Pour donner 
aux utilisateurs la possibilité d'effectuer une recherche dans le cadre d'un type d'entité 
suivie, il est nécessaire de configurer lequel des attributs du type d'entité suivi 
est interrogeable.

### Configurer la recherche pour le programme Tracker { #configure-search-for-tracker-program } 

Pour pouvoir effectuer une recherche avec un programme, vous devrez rendre certains des 
attributs du programme consultables. Les attributs de programme uniques seront toujours 
consultables.

1.  Ouvrez **l'application Maintenance** et cliquez sur **Programme** 

2.  Ouvrir ou créer un programme tracker

3.  Aller à **Attributs**

4.  Si vous n'avez pas d'attributs, ajoutez-en un

5.  Définir l'attribut interrogeable

Les attributs des programmes interrogeables seront attribués à un groupe de recherche.

  - Groupe unique. Un groupe par attribut unique du programme. Les attributs uniques
    ne peuvent pas être combinés avec d'autres attributs de programme dans une
    recherche. Le résultat de la recherche ne peut être que 0 ou 1 instance d'entité 
    suivie.

  - Groupe non unique. Ce groupe contient tous les attributs de programme non uniques 
    et permet de combiner plusieurs attributs dans une
    recherche.

Il y a deux limites qui peuvent être établies pour une recherche de programme, dans le cadre de 
la configuration des **Détails du Programme**.

  - Nombre minimum d'attributs requis pour effectuer une recherche : Cette propriété 
    définit le nombre d'attributs non uniques qui doivent être saisis
    avant qu'une recherche puisse être effectuée.

<!-- end list -->

  - Nombre maximum d'instances d'entité suivie à renvoyer : Cette propriété définit le degré de spécificité d'une recherche, en limitant le nombre d'instances d'entité suivie correspondantes qu'un utilisateur est autorisé à obtenir pour ses critères de recherche. Si le nombre d'enregistrements correspondants est supérieur à ce maximum, ils ne seront pas renvoyés. L'utilisateur doit fournir des critères de recherche plus spécifiques, afin de réduire le nombre d'enregistrements correspondants, avant qu'ils ne soient renvoyés.

    > **NOTE**
    >
    > This maximum is only applied to search results outside the users capture org unit. Within the capture scope, the user can see any number of results.

### Configurer la recherche pour le type d'entité suivie { #configure-search-for-tracked-entity-type } 

> **N.B.**
>
> TET = Type d'entité suivie

Pour pouvoir effectuer une recherche sans programme, vous devrez rendre certains des 
attributs du TET consultables. Les attributs uniques du TET seront toujours 
interrogeables.

1.  Ouvrez l'application **Type d'entité suivie**

2.  Ouvrez un type d'entité suivie

3.  Si le TET n'a pas d'attributs, ajoutez-en un

4.  Définir l'attribut interrogeable

Les attributs de TET interrogeables seront attribués à un groupe de recherche.

  - Groupe unique. Un groupe par attribut TET unique. Les attributs uniques
    ne peuvent pas être combinés avec d'autres attributs TET dans une recherche. Le résultat
    de la recherche ne peut être que 0 ou 1 instance d'entité suivie.

  - Groupe non unique. Ce groupe contient tous les attributs TET non uniques
    et permet de combiner plusieurs attributs dans une recherche.

Deux limites peuvent être établies pour une recherche de TET

  - Nombre minimum d'attributs requis pour effectuer une recherche : Cette propriété 
    définit le nombre d'attributs non uniques qui doivent être saisis
    avant qu'une recherche puisse être effectuée.

<!-- end list -->

  - Nombre maximum d'instances d'entité suivie à renvoyer : Cette propriété définit le degré de spécificité d'une recherche, en limitant le nombre d'instances d'entité suivie correspondantes qu'un utilisateur est autorisé à obtenir pour ses critères de recherche. Si le nombre d'enregistrements correspondants est supérieur à ce maximum, ils ne seront pas renvoyés. L'utilisateur doit fournir des critères de recherche plus spécifiques, afin de réduire le nombre d'enregistrements correspondants, avant qu'ils ne soient renvoyés.

    > **NOTE**
    >
    > This maximum is only applied to search results outside the users capture org unit. Within the capture scope, the user can see any number of results.

### Configurer les unités d'organisation de la recherche pour un utilisateur { #configure-search-organisation-units-for-a-user } 

Pour pouvoir effectuer des recherches dans unités d'organisation autres que celles de la 
saisie des données de l'utilisateur, ce dernier doit se voir attribuer des unités d'organisation 
de recherche. Le fait d'attribuer une unité d'organisation de recherche à un utilisateur lui donnera également 
accès à la recherche dans tous les enfants de cette unité d'organisation.

1.  Ouvrir l'application**Utilisateurs**

2.  Cliquez sur un utilisateur

3.  Ouvert **Attribuer des unités d'organisation de recherche**

4.  Sélectionnez les unités d'organisation

5.  Cliquez sur **Enregistrer**

## Cloner des objets de métadonnées { #clone_metadata } 

Le clonage d'un élément de données ou d'autres objets peut faire gagner du temps lorsque vous créez plusieurs objets similaires.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez cloner.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Cloner**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

## Supprimer les objets de métadonnées { #delete-metadata-objects } 

> **N.B.**
>
> Pour supprimer un élément de données et d'autres objets d'éléments de données, aucune donnée ne doit être associée à cet élément de données.

> **Avertissement**
>
> Tout ensemble de données que vous supprimez du système est définitivement perdu. Tous les formulaires de saisie de données et les formulaires de section créés seront également supprimés. Songez à sauvegarder votre base de données avant de supprimer un ensemble de données au cas où vous auriez besoin de le restaurer à un moment donné.
>>>>>

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez supprimer.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Supprimer**.

3.  Cliquez sur **Confirmer**.

## Modifier les paramètres de partage des objets de métadonnées { #change-sharing-settings-for-metadata-objects } 

Vous pouvez attribuer différents paramètres de partage aux objets de métadonnées, par exemple des unités d'organisation et des attributs d'entités suivies. Ces paramètres de partage déterminent les utilisateurs et les groupes d'utilisateurs qui peuvent visualiser ou modifier un objet de métadonnées.

Certains objets de métadonnées vous permettent également de modifier le paramètre de partage de la saisie de données pour l'objet. Ces paramètres supplémentaires permettent de déterminer qui peut visualiser ou saisir des données dans les champs de formulaire à l'aide des métadonnées.

> **N.B.**
>
> Le paramètre par défaut signifie que tout le monde (**Accès public**) peut trouver, visualiser et modifier les objets de métadonnées. >

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez modifier.

2.  Dans la liste des objets, cliquez sur le menu contextuel et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Ajoutez des utilisateurs ou des groupes d'utilisateurs : recherchez un utilisateur ou un groupe d'utilisateurs
    et sélectionnez-le. L'utilisateur ou le groupe d'utilisateurs est ajouté à la liste.

4.  Modifiez les paramètres de partage pour les groupes d'accès que vous souhaitez modifier.

      - **Peut modifier et visualiser** : Le groupe d'accès peut visualiser et modifier 
        à l'objet.

      - **Peut seulement visualiser** : Le groupe d'accès peut seulement visualiser l'objet.

      - **Pas d'accès** (uniquement applicable à **L'accès public**) : Le public 
        n'aura pas accès à l'objet.

5.  Modifiez les paramètres de partage des données pour les groupes d'accès que vous voulez 
    modifier.

      - **Peut saisir des données** : Le groupe d'accès peut visualiser et saisir des données 
        pour l'objet.

      - **Peut visualiser les données** : Le groupe d'accès peut visualiser les données relatives à
        à l'objet.

      - **Pas d'accès** : Le groupe d'accès n'aura pas accès aux données 
        relatives à l'objet.

6.  Cliquez sur **Fermer**

## Afficher les détails des objets de métadonnées { #display-details-of-metadata-objects } 

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Afficher
    les détails**.

## Traduire les objets de métadonnées { #translate-metadata-objects } 

DHIS2 dispose des fonctionnalités pour la traduction du contenu des bases de données, par exemple les éléments de données, les groupes d'éléments de données, les indicateurs, les groupes d'indicateurs ou les unités d'organisation. Vous pouvez traduire ces éléments pour plusieurs emplacements. Un emplacement représente une région géographique, politique ou culturelle spécifique.

> **Astuce**
>
> Pour activer une traduction, ouvrez l'application **Paramètres du système**, cliquez sur \> > **Apparence** et sélectionnez une langue.

1.  Ouvrez l'application **Maintenance** et cherchez le type d'objet de métadonnées 
    que vous voulez traduire.

2.  Dans la liste des objets, cliquez sur le menu Options et sélectionnez **Traduire**.

    > **Tip**
    >
    > If you want to translate an organisation unit level, click
    > directly on the **Translate** icon next to each list item.

3.  Sélectionnez un emplacement.

4.  Tapez un **Nom**, **Nom court** et **Description**.

5.  Cliquez sur **Sauvegarder**.



# Gérer les utilisateurs, les rôles des utilisateurs et les groupes d'utilisateurs { #manage_user_role_group } 

## À propos de la gestion des utilisateurs { #about_user_userrole } 

Plusieurs utilisateurs peuvent accéder simultanément au DHIS2 et chaque utilisateur peut avoir 
des différents types d'autorisations. Vous pouvez donc régler ces autorisations de manière à ce que 
certains utilisateurs ne puissent que saisir des données, tandis que d'autres ne peuvent que générer 
des rapports.

  - Vous pouvez créer autant d'utilisateurs, de rôles d'utilisateurs et de groupes d'utilisateurs que vous 
    souhaitez.

  - Vous pouvez attribuer des pouvoirs spécifiques à des groupes d'utilisateurs ou à des 
    utilisateurs individuels via des rôles d'utilisateur.

  - Vous pouvez créer plusieurs rôles d'utilisateur, chacun disposant de ses propres autorités.

  - Vous pouvez attribuer des rôles d'utilisateur aux utilisateurs pour leur accorder
    les autorités correspondantes.

  - Vous pouvez attribuer à chaque utilisateur des unités d'organisation. L'utilisateur peut ensuite 
    saisir des données pour les unités d'organisation qui lui sont attribuées.

  - Vous pouvez définir une date d'expiration pour les utilisateurs individuels

Tableau: Termes et définitions relatifs à la gestion des utilisateurs

| Terme | Définition | Exemple |
|---|---|---|
| Autorisations | Une autorisation pour effectuer une ou plusieurs tâches spécifiques | Créer un nouvel élément de données <br> <br> Mettre à jour une unité d'organisation <br> <br> Consulter un rapport |
| Utilisateur | Le compte utilisateur DHIS2 d'une personne | administrateur<br><br>traore<br><br>invité |
| Rôle de l'utilisateur | Un groupe d'autorités | Commis à la saisie des données<br><br>Administrateur du système<br><br>Accès au programme de soin prénatal |
| Groupe d’utilisateurs | Un groupe d'utilisateurs | Personnel du Kenya <br> <br> Destinataires des feedbacks <br> <br> Coordinateurs du programme VIH |

L'application **Utilisateurs** vous permet de gérer les utilisateurs, les rôles des utilisateurs et les groupes d'utilisateurs.

Tableau : Objets dans l'application "Utilisateurs"

| Type d'objet | Fonctions disponibles |
|---|---|
| Utilisateur | Créer, modifier, inviter, cloner, désactiver, afficher par unité d'organisation, supprimer, afficher les détails et réinitialiser le mot de passe |
| Rôle de l'utilisateur | Créer, modifier, partager, supprimer et afficher les détails |
| Groupe d’utilisateurs | Créer, modifier, rejoindre, quitter, partager, supprimer et afficher les détails |

### À propos des utilisateurs { #about-users } 

Chaque utilisateur dans DHIS2 doit avoir un compte d'utilisateur identifié par un 
nom d'utilisateur. Vous devez enregistrer un prénom et un nom de famille pour chaque utilisateur ainsi 
que des informations de contact, par exemple une adresse électronique et un numéro de
téléphone.

Vous devez enregistrer les bonnes coordonnées. DHIS2 
utilise ces informations pour contacter directement les utilisateurs, par exemple pour envoyer 
des courriels afin de les informer d'événements importants. Vous pouvez également utiliser les 
informations de contact pour partager, par exemple, des tableaux de bord et des tableaux croisés dynamiques.

Un utilisateur de DHIS2 est associé à une unité d'organisation. Vous devez donc 
attribuer l'unité d'organisation où l'utilisateur travaille.

Lorsque vous créez un compte d'utilisateur pour un responsable de l'enregistrement du district, vous devez 
lui attribuer le district où il travaille comme unité d'organisation.

L'unité organisationnelle assignée influence la manière dont l'utilisateur peut utiliser le DHIS2 :

  - Dans l'application **Saisie de données**, un utilisateur ne peut saisir des données que pour
    l'unité d'organisation à laquelle il est associé et pour les unités d'organisation
    qui lui sont subordonnées dans la hiérarchie. Par exemple, un responsable de l'enregistrement du district
    ne pourra enregistrer des données que pour son district et les 
    établissements qui lui sont subordonnés.

  - Dans l'application **Utilisateurs**, un utilisateur ne peut ajouter de nouveaux utilisateurs que pour
    l'unité d'organisation à laquelle il est associé, ainsi que pour les 
    unités d'organisation qui lui sont subordonnées dans la hiérarchie.

  - Dans l'application **Rapports**, un utilisateur ne peut consulter que les rapports de son
    unité d'organisation et de celles qui lui sont subordonnées. (C'est un point que nous envisageons 
    d'ouvrir pour permettre de faire des rapports de comparaison.)

Une aspect important de la gestion des utilisateurs consiste à contrôler quels utilisateurs sont 
autorisés à créer de nouveaux utilisateurs et avec quelles autorités. Dans le système DHIS2, vous pouvez 
contrôler quels utilisateurs sont autorisés à effectuer cette tâche. Le principe clé 
est qu'un utilisateur ne peut accorder des autorités et un accès à des ensembles de données que 
s'il y a accès lui-même. Le nombre d'utilisateurs au niveau national, provincial et 
du district est souvent relativement peu élevé et peut être créé et 
géré par les administrateurs du système. Si la grande majorité des 
établissements saisit directement les données dans le système, le nombre 
d'utilisateurs peut devenir trop important. Il est donc recommandé de déléguer et 
de décentraliser cette tâche aux responsables de district, ce qui rendra le 
processus plus efficace et permettra de mieux soutenir les utilisateurs des établissements.

### À propos des rôles des utilisateurs { #about-user-roles } 

Un rôle d'utilisateur dans le DHIS2 est un groupe d'autorités. Une autorité signifie
l'autorisation d'effectuer une ou plusieurs tâches spécifiques.

Un rôle d'utilisateur peut contenir des autorités permettant de créer un nouvel élément de donnée, mettre à jour une unité d'organisation ou visualiser un rapport.

Un utilisateur peut avoir plusieurs rôles d'utilisateur. Dans ce cas, les autorités de l'utilisateur seront 
la somme de toutes les autorités et de tous les ensembles de données contenus dans les rôles d'utilisateur. Cela 
signifie que vous pouvez mélanger et faire correspondre les rôles d'utilisateur à des fins particulières au lieu 
de n'en créer que de nouveaux.

Un rôle d'utilisateur est associé à une collection d'ensembles de données. Cela concerne 
l'application **Saisie de données** : un utilisateur ne peut saisir que les données des ensembles de données 
enregistrés pour son rôle d'utilisateur. Cela peut être utile lorsque, par exemple, 
vous souhaitez autoriser agents des programmes de santé à ne saisir que les données de 
leurs formulaires de saisie concernés.

Recommandations :

  - Créer un rôle d'utilisateur pour chaque poste au sein de l'organisation.

  - Créer les rôles des utilisateurs en définissant parallèlement quel utilisateur effectue 
    quelles tâches dans le système.

  - Ne donnez aux rôles d'utilisateur que les pouvoirs exacts dont ils ont besoin pour effectuer
    leur travail, pas plus. Seules les personnes censées effectuer une tâche
    doivent avoir le pouvoir de l'exécuter.

### À propos des groupes d'utilisateurs { #about-user-groups } 

Un groupe d'utilisateurs est un groupe composés uniquement d'utilisateurs. Vous utilisez les groupes d'utilisateurs lorsque vous configurez le partage des objets de métadonnées ou les notifications, par exemple pour les rapports ou les programmes.

Voir également :

[Partage](https://ci.dhis2.org/docs/master/en/user/html/sharing.html)

[Gérer les notifications du programme](https://docs.dhis2.org/master/en/user/html/configure_tracker_program_in_Maintenance_app.html#create-a-program-stage-notification)

[Gérer les rapports
push](https://docs.dhis2.org/master/en/user/html/manage_push_report.html)

## Déroulement { #user_mgt_workflow } 

1.  Définissez les postes dont vous avez besoin pour votre projet et identifiez 
    les tâches que les différents postes effectueront.

2.  Créez plus ou moins un rôle d'utilisateur pour chaque poste.

3.  Créez des utilisateurs.

4.  Attribuez des rôles d'utilisateur aux utilisateurs.

5.  Affectez les utilisateurs à des unités d'organisation.

6.  (Facultatif) Regrouper les utilisateurs en groupes d'utilisateurs.

7.  Partager des ensembles de données avec des utilisateurs ou des groupes d'utilisateurs via la boîte de dialogue Partage dans
    la section Gestion des ensembles de données de l'application Maintenance.

> **Conseil**
>
> Pour permettre aux utilisateurs de saisir des données, vous devez donc les ajouter à un 
> niveau d'unité d'organisation et partager avec eux un ensemble de données.

## Gérer les utilisateurs { #mgt_user } 

### Créer un utilisateur { #create_user } 


![](resources/images/dhis2UserManual/select_user_menu.png)

1.  Ouvrez l'application **Utilisateurs** et cliquez sur le **+** de la carte **Utilisateurs**.

2.  Définissez si vous voulez renseigner toutes les informations personnelles de l'utilisateur
    ou inviter l'utilisateur par email à compléter le reste de
    ses information :
 - **Créer un compte avec les informations de l'utilisateur**
![](resources/images/dhis2UserManual/user_management_details.png)
Choisissez cette option si vous voulez saisir toutes les informations de connexion du
nouvel utilisateur tel que nom d'utilisateur, le mot de passe, etc. Dans ce contexte, les champs nom d'utilisateur, mot de passe, nom, prénom
rôles sont obligatoires.<br/><br/>
Après avoir créé l'utilisateur, le compte est prêt à être utilisé par l'utilisateur
avec le nom d'utilisateur et le mot de passe que vous aurez fourni.<br/><br/>

    #### Exigences relatives au nom d'utilisateur

    Les règles ci-après s'appliquent lorsque vous créez un nouveau nom d'utilisateur. Le nom d'utilisateur doit :

    - Contenir au moins 4 caractères.

    - Ne doit pas contenir plus de 255 caractères.

    - Contenir des caractères et des chiffres latins en minuscule et en MAJUSCULE (`a-z`,`A-Z`,`0-9`).

    - Ces caractères sont également autorisés `. _ @` et `#`, mais ne peuvent servir que de séparateur et non de caractère de début ou de fin, et ne doivent pas être répétés (c'est-à-dire `user@@name` n'est pas autorisé).

 - **Invitation par e-mail à créer un compte**
![](resources/images/dhis2UserManual/user_management_invite.png)
Choisissez cette option si vous voulez envoyer une invitation par email à
l'utilisateur. Ensuite, il doit revenir sur DHIS2 pour terminer la configuration de son compte
utilisateur. Le compte dont l'utilisateur achève la configuration sera limité
en fonction de la configuration que vous lui aurez appliquez.

> **N.B**
>
> Pour pouvoir utiliser cette fonction, le système doit disposer d'une configuration de courrier électronique valide dans les Paramètres système -\> Email>


Saisissez l'adresse e-mail ciblée par l'invitation. Si vous le souhaitez, vous pouvez également entrer le nom d'utilisateur que portera le compte. Si vous ne remplissez pas le champ du nom d'utilisateur, l'utilisateur peut lui-même choisir son nom d'utilisateur lorsqu'il répond à l'invitation (tant que le nom d'utilisateur n'est pas déjà utilisé par un autre utilisateur.) <br/> <br/>

Après avoir créé l'utilisateur, le système envoie un e-mail à l'adresse que vous avez fournie. Il contient un lien Web unique par lequel l'utilisateur peut revenir vers le système et activer son compte, en entrant le reste de ses informations d'utilisateur. L'utilisateur doit terminer la configuration du compte dans les 4 jours. Passé ce délai, l'invitation devient invalide.

3. (Facultatif) Entrez des valeurs dans les champs **Cartographie de l'OpenID Connect, Identifiant LDAP, Numéro de téléphone portable, WhatsApp, Facebook Messenger, Skype, Telegram et Twitter**.

4. Sélectionner une **langue d'interface**.<br/>
Vous pouvez sélectionner une langue dans laquelle les éléments fixes de l'interface utilisateur de DHIS2 ont été traduits.

5. Sélectionner une **Langue de base de données**. <br/>
Vous pouvez sélectionner une langue dans laquelle les éléments fournis par l'implémentation
ont été traduits dans la base de données, par exemple les noms des éléments de données
ou les noms des niveaux de l'unité d’organisation.

6. Dans la section **Rôles disponibles**, double-cliquez sur les rôles que vous souhaitez attribuer à l'utilisateur.

7. Sélectionnez **Unités d'organisation de saisie et de maintenance des données**.<br/>
 ![](resources/images/dhis2UserManual/user_management_fewer_options.png)<br/>
    Les unités d'organisation de saisie et de maintenance des données contrôlent les unités d'organisation pour lesquelles l'utilisateur peut saisir des données. Vous devez attribuer au moins une unité d'organisation de saisie et de maintenance des données à chaque utilisateur.<br/><br/>
    Les utilisateurs auront accès à toutes les sous unités d'organisation de l'unité
    d’organisation attribuée. Par exemple, si vous avez attribué à un utilisateur un district
    avec plusieurs établissements, l'utilisateur
    aura accès aux données du district, ainsi qu'aux données de tous les établissements
    du district.

8. (Facultatif) Sélectionnez **Unités d'organisation de sortie et d'analyse des données**.<br/><br/>
Les unités d'organisation de sortie et d'analyse des données contrôlent
les unités d'organisation dont l'utilisateur peut visualiser les données agrégées dans les
applications d'analyse, par exemple les applications **Tableau croisé dynamique** et **SIG**. Vous
pouvez attribuer un nombre quelconque d'unités d'organisation de sortie et d'analyse de données à
un utilisateur.<br/><br/>
Les utilisateurs auront accès à toutes les sous unités d'organisation de l'unité
d'organisation attribuée. Vous n'avez pas à sélectionner les sous-éléments d'une
unité d'organisation que vous avez déjà sélectionnée. Par exemple, si
vous avez attribué un district à un utilisateur, vous ne devez pas sélectionner les
établissements au sein de ce district.<br/><br/>

> **N.B.**
>
> L'attribution des unités d'organisation de sortie et d'analyse des données est facultative. Si vous ne spécifiez aucune unité d'organisation, l'utilisateur aura accès à la hiérarchie complète des unités d'organisation pour visualiser les données agrégées. Comme pour les unités d'organisation de saisie des données, *vous ne devez pas sélectionner les unités d'organisation descendantes d'une unité que vous avez déjà sélectionnée*.<br/><br/> À plusieurs endroits dans les applications d'analyse, vous pouvez sélectionner "unité d'organisation de l'utilisateur" pour la dimension "unité d'organisation". Ce mécanisme tentera d'abord d'utiliser les unités d'organisation de visualisation des données liées à l'utilisateur actuel. S'il n'est pas trouvé, il utilisera alors les unités d'organisation de saisie et de maintenance des données. Si l'utilisateur a été affecté à plusieurs unités d'organisation, l'utilisation de "unité d'organisation d'utilisateur" peut entraîner une attitude imprévisible.<br/><br/>
>>>>>>>>>>>

9. Cliquez sur **Afficher plus d'options** pour afficher 
trois champs supplémentaires. (Facultatif) <br/><br/>

10. Dans les **unités d'organisation de recherche**
sélectionnez les unités d'organisation dans lesquelles vous voulez que l'utilisateur puisse effectuer des recherches.<br/><br/>

11. (Facultatif) Dans la section **Groupes d'utilisateurs disponibles**, double-cliquez sur les
groupes d'utilisateurs que vous voulez attribuer à l'utilisateur.<br/><br/>

12. (Facultatif) Dans la section **Restrictions de dimension disponibles pour l'analyse des données**,
double-cliquez sur les dimensions que vous voulez attribuer à l'utilisateur. <br/><br/>
Vous pouvez restreindre les valeurs que l'utilisateur peut voir dans les applications d'analyse de données en sélectionnant 
les dimensions qui restreindront la visualisation de l'utilisateur.

> **Exemple**
>
> Supposons que vous ayez défini *Partenaire d'implémentation* comme ensemble de groupes d'options de catégorie, et que vous n'ayez partagé avec cet utilisateur qu'un ou plusieurs partenaires d'implémentation spécifiques (groupes d'options de catégorie). Pour vous assurer que l'utilisateur ne voit pas les totaux dans les analyses incluant des valeurs d'autres groupes, attribuez *Partenaire d'implémentation à l'utilisateur*.<br/><br/> Ceci garantit que toute donnée visible par l'utilisateur via des applications d'analyse sera filtrée pour ne sélectionner que le(s) groupe(s) d'options de catégorie du Partenaire d'implémentation visible(s) par l'utilisateur.<br/><br/>

13. Cliquez sur **Sauvegarder**.

### Modifier l'utilisateur { #edit_user }

1.  Ouvrez l'application **Utilisateurs** et recherchez l'utilisateur que vous souhaitez modifier.

2.  Dans la liste des utilisateurs, cliquez directement sur l'utilisateur concerné ou cliquez sur le
    icône de menu et sélectionnez **Modifier**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Définir la date d'expiration du compte { #user_account_expiration_date }

Si un compte utilisateur expire à une date spécifique, vous pouvez définir une date d'expiration de compte pour l'utilisateur

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  **Sélectionnez l'utilisateur** dont le compte doit avoir une date d'expiration

3.  Utilisez l'entrée **Date d'expiration du compte** pour définir la date

4.  **Enregistrer les mises à jour** en soumettant le formulaire

### Désactiver l'utilisateur { #disable_user }

Vous pouvez désactiver un utilisateur. Cela signifie que le compte de l'utilisateur n'est pas supprimé, mais que l'utilisateur ne peut pas se connecter ou utiliser DHIS2.

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste, cliquez sur l'icône du menu de la fiche utilisateur concernée et sélectionnez 
    **Désactiver**.

3.  Cliquez sur **OK** pour confirmer.

> **Attention**
>
> Si vous utilisez l'application [Saisie Android] (https://www.dhis2.org/android), la désactivation d'un utilisateur (dans les versions DHIS2 antérieures à la version 2.30 et postérieures à la version 2.38) entraînera la suppression des données locales stockées sur le téléphone, la prochaine fois que l'utilisateur se connectera en ligne. Veuillez vous assurer que lorsque vous utilisez la fonction *désactiver l'utilisateur*, toutes les données ont été synchronisées avec le serveur ou que vous utilisez cette fonction pour assurer la suppression des données en cas de perte d'un appareil.

### Afficher le profil utilisateur { #display_user_profile }

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste, cliquez sur l'icône de menu de l'utilisateur concerné et sélectionnez
    **Profil**.

### Filtrer les utilisateurs par unité d'organisation { #filter-users-by-organisation-unit } 

Vous pouvez visualiser tous les utilisateurs affectés à une unité d'organisation donnée.

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Au-dessus de la liste des utilisateurs, cliquez sur le filtre d'entrée de l'**Unité d'organisation**.
     

3.  Une fenêtre contextuelle apparaîtra et vous pourrez y sélectionner les unités d'organisation 
    par lesquelles vous voulez effectuer le filtrage.

La liste des utilisateurs sera filtrée pour n'inclure que les utilisateurs ayant été affectés aux unités d'organisation sélectionnées.

### Cloner un utilisateur { #clone_user }

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste, cliquez sur l'icône de menu de l'utilisateur concerné et 
    sélectionnez **Répliquer**.

3.  Entrez un nouveau nom d'utilisateur et un nouveau mot de passe pour le compte d'utilisateur cloné.

4.  Cliquez sur **Répliquer**.

5.  Dans la liste des utilisateurs, cliquez sur l'utilisateur que vous venez de créer et cliquez sur 
    **Modifier**.

6.  Modifiez les options que vous voulez.

7.  Cliquez sur **Sauvegarder**.

### Changer le mot de passe de l'utilisateur { #user_manage_password } 

Pour modifier le mot de passe d'un utilisateur, suivez les étapes suivantes :

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste, cliquez sur l'icône de menu de l'utilisateur concerné et 
    sélectionnez **Modifier**.

3.  Saisissez un nouveau mot de passe et confirmez en le retapant.

4.  Cliquez sur **Sauvegarder**.

#### Les exigences en matière de mots de passe { #password-requirements } 

Les règles ci-après s'appliquent lorsque vous créez un nouveau mot de passe. Le mot de passe :

  - Doit contenir au moins 8 caractères. Notez que ce nombre est configurable par le biais du paramètre du système "Minimum de caractères dans le mot de passe", qui peut comporter jusqu'à 14 caractères.

  - Ne doit pas contenir plus de 34 caractères.

  - Doit contenir au moins un caractère spécial (caractère non alphanumérique).

  - Doit contenir au moins un caractère MAJUSCULE.

  - Doit contenir au moins un caractère minuscule.

  - Doit contenir au moins un chiffre (nombre).


### Réinitialiser le mot de passe de l'utilisateur par e-mail { #reset_user_password_by_email }

Pour réinitialiser le mot de passe d'un utilisateur par e-mail :

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.
2.  Dans la liste des utilisateurs, cliquez sur l'icône du menu de l'utilisateur concerné et sélectionnez **Réinitialiser le mot de passe**.
3.  Cliquez sur **Confirmer**.

La détenteur du compte utilisateur recevra un e-mail avec des instructions sur la façon de réinitialiser le mot de passe. L'e-mail est envoyé à l'adresse indiquée pour le compte.

### Supprimer un utilisateur { #delete_user }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type d'utilisateur que vous voulez 
    supprimer.

2.  Dans la liste, cliquez sur l'icône de menu de l'utilisateur concerné et 
    cliquez sur **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les informations de l'utilisateur { #display_user_details }

1.  Ouvrez l'application **Utilisateurs** et recherchez l'utilisateur que vous souhaitez visualiser.

2.  Dans la liste, cliquez sur l'icône de menu de l'utilisateur concerné et 
    cliquez sur **Afficher les détails**.

### Désactiver l'authentification à deux facteurs pour un utilisateur { #user_disable_2fa }

Lorsqu'un un utilisateur active l'authentification à deux facteurs et perd ensuite l'accès à son dispositif d'authentification (par exemple, si son smartphone est perdu ou endommagé), cet utilisateur ne pourra donc plus se connecter au système. Pour résoudre ce problème, un gestionnaire d'utilisateurs peut désactiver l'authentification à deux facteurs pour l'utilisateur concerné, afin que celui-ci puisse à nouveau accéder au système en utilisant simplement un mot de passe.

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Utilisateur**.

2.  Dans la liste, cliquez sur l'icône de menu de l'utilisateur concerné et 
    cliquez sur **Désactiver l'authentification à deux facteurs**.

3.  Cliquez sur **OK** pour confirmer.

> **N.B.**
>
> L'option de désactivation de l'authentification à deux facteurs ne sera disponible que pour les utilisateurs qui ont mis en place l'authentification à deux facteurs via l'application Profil de l'utilisateur. >>

## Gérer les rôles des utilisateurs { #mgt_userrole } 

### Créer un rôle d'utilisateur { #create_userrole } 


![](resources/images/dhis2UserManual/role_maintenance_page.png)

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Rôle de l'utilisateur**.

2.  Cliquez sur **AJOUTER**.

3.  Entrez un **Nom**, par exemple "Super utilisateur" ou "Utilisateur dmin ".

4.  Tapez une **Description**.

5.  Dans la section **Autorités**, sélectionnez les autorités que vous voulez
    accorder à votre utilisateur. Vous pouvez également utiliser les entrées de filtre au-dessus de
    la section Autorités pour rechercher une autorité spécifique.

6.  Cliquez sur **Ajouter**.

### Modifier le rôle de l'utilisateur { #edit-user-role }

1.  Ouvrez l'application **Utilisateurs** et cherchez le type de rôle d'utilisateur que vous voulez 
    modifier.

2.  Dans la liste des utilisateurs, cliquez directement sur le rôle d'utilisateur concerné ou cliquez sur l'
    icône de menu et sélectionnez **Modifier**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer un rôle utilisateur { #delete-user-role }

1.  Ouvrez l'application **Utilisateurs** et recherchez le rôle utilisateur que vous souhaitez supprimer.

2.  Dans la liste des rôles d'utilisateur, cliquez sur l'icône de menu de l'utilisateur concerné et
    cliquez sur **Supprimer**.

3.  Cliquez sur **Confirmer**.

### Afficher les détails du rôle utilisateur { #display-details-of-user-role }

1.  Ouvrez l'application **Utilisateurs** et recherchez le rôle utilisateur que vous souhaitez visualiser.

2.  Dans la liste des utilisateurs, cliquez sur l'icône de menu du rôle d'utilisateur concerné et
    cliquez sur **Afficher les détails**.

### Modifier les paramètres de partage des rôles utilisateur { #change-sharing-settings-for-user-role }

1.  Ouvrez l'application **Utilisateurs** et recherchez le rôle utilisateur que vous souhaitez modifier.

2.  Dans la liste des utilisateurs, cliquez sur le rôle d'utilisateur concerné et sélectionnez **Paramètres 
    de partage**.

3.  (Facultatif) Recherchez un groupe d'utilisateurs et sélectionnez-le, puis cliquez sur
    l'icône Plus. Le groupe d'utilisateurs sera ajouté à la liste.

4.  (Facultatif) Sélectionnez **Accès externe (sans connexion)**.

    L'accès n'est accordé que lorsqu'aucun utilisateur n'est connecté. Pour accorder
    également l'accès aux utilisateurs connectés, vous devez également autoriser l'**Accès public**.

5.  Modifiez les paramètres des groupes d'utilisateurs que vous souhaitez modifier.
 - **Aucun**
 - **Peut visualiser** : L'objet est visible par tout le monde dans le groupe d'utilisateurs
 - **Peut modifier et visualiser** : Tout le monde dans le groupe d'utilisateurs peut voir et modifier l'objet

6.  Cliquez sur **Sauvegarder**.

## Gérer des groupes d'utilisateurs { #mgt_usergroup } 

### Créer un groupe d'utilisateurs { #create_usergroup } 

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Groupe d'utilisateurs**.

2.  Cliquez sur **AJOUTER**.

3.  Dans le champ **Nom**, entrez le nom du groupe d'utilisateurs.

4.  Dans la section **Utilisateurs disponibles**, double-cliquez sur les utilisateurs que vous voulez
    ajouter au groupe d'utilisateurs.

5.  Dans la section **Groupes d'utilisateurs disponibles**, double-cliquez sur les groupes
    d'utilisateurs que vous voulez ajouter au groupe d'utilisateurs.

6.  Cliquez sur **Ajouter**.

### Rejoindre un groupe d'utilisateurs { #join_usergroup } 

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Groupe d'utilisateurs**.

2.  Dans la liste, cliquez sur le groupe d'utilisateurs concerné et sélectionnez **Rejoindre 
    prédicteurs**.

### Quitter un groupe d'utilisateurs { #leave_usergroup } 

1.  Ouvrez l'application **Utilisateurs** et cliquez sur **Groupe d'utilisateurs**.

2.  Dans la liste, cliquez sur le groupe d'utilisateurs concerné et cliquez sur **Quitter
    prédicteurs**.

### Modifier un groupe d'utilisateurs { #edit-user-group }

1.  Ouvrez l'application **Utilisateurs** et recherchez le type de groupe d'utilisateurs que vous voulez
    modifier.

2.  Dans la liste des groupes d'utilisateurs, cliquez directement sur le groupe d'utilisateurs concerné ou cliquez sur l'
    icône de menu et sélectionnez **Modifier**.

3.  Modifiez les options que vous voulez.

4.  Cliquez sur **Sauvegarder**.

### Supprimer un groupe d'utilisateurs { #delete-user-group }

1.  Ouvrez l'application **Utilisateurs** et recherchez le type de groupe d'utilisateurs que vous voulez
    supprimer.

2.  Dans la liste des groupes d'utilisateurs, cliquez sur l'icône de menu du groupe d'utilisateurs concerné et
    cliquez sur **Supprimer**.

3.  Cliquez sur **OK** pour confirmer.

### Afficher les détails des groupes d'utilisateurs { #display-details-of-user-group }

1.  Ouvrez l'application **Utilisateurs** et recherchez le groupe d'utilisateurs que vous voulez visualiser.

2.  Dans la liste des objets, cliquez sur l'icône de menu du groupe d'utilisateurs concerné et
    cliquez sur **Afficher les détails**.

### Modifier les paramètres de partage d'un groupe d'utilisateurs { #change-sharing-settings-for-user-group }

1.  Ouvrez l'application **Utilisateurs** et recherchez l'utilisateur que vous souhaitez modifier.

2.  Dans la liste des groupes d'utilisateurs, cliquez sur le groupe d'utilisateurs concerné et sélectionnez **Paramètres
    de partage**.

3.  (Facultatif) Recherchez un groupe d'utilisateurs et sélectionnez-le, puis cliquez sur
    l'icône Plus. Le groupe d'utilisateurs sera ajouté à la liste.

4.  (Facultatif) Sélectionnez **Accès externe (sans connexion)**.

    L'accès n'est accordé que lorsqu'aucun utilisateur n'est connecté. Pour accorder
    également l'accès aux utilisateurs connectés, vous devez également autoriser l'**Accès public**.

5.  Modifiez les paramètres des groupes d'utilisateurs que vous souhaitez modifier.
 - **Aucun**
 - **Peut visualiser** : L'objet est visible par tout le monde dans le groupe d'utilisateurs
 - **Peut modifier et visualiser** : Tout le monde dans le groupe d'utilisateurs peut voir et modifier l'objet

6.  Cliquez sur **Sauvegarder**.

## Décentraliser la gestion des utilisateurs { #decentralize-user-management } 

DHIS2 prend en charge un concept de gestion des utilisateurs appelé *utilisateurs gérés* qui permet de définir explicitement quels utilisateurs devraient être autorisés à gérer ou à modifier quels utilisateurs. "Gérer un utilisateur" implique que vous pouvez voir et modifier cet utilisateur. Le concept de base pour la gestion des utilisateurs est que vous pouvez voir et modifier les utilisateurs qui vous ont été attribués par toutes les autorités ; en d'autres termes, vous pouvez modifier les utilisateurs ayant un sous-ensemble de vos propres autorités. Le concept d'utilisateurs gérés vous donne un plus grand contrôle.

Le concept d'Utilisateurs gérés vous permet de définir quels utilisateurs peuvent gérer quels utilisateurs. La configuration se fait par le biais des groupes d'utilisateurs et des adhésions à ces groupes. Un groupe d'utilisateurs peut être configuré pour être autorisé à gérer d'autres groupes d'utilisateurs à partir de l'interface utilisateur standard d'ajout et de mise à jour. Ceci permet un utilisateur spécifique de gérer tous les utilisateurs membres de groupes d'utilisateurs qui peuvent être gérés par un groupe d'utilisateurs dont l'utilisateur est membre. En d'autres termes, les utilisateurs peuvent être gérés par tous les membres des groupes d'utilisateurs qui gèrent les groupes d'utilisateurs dont ils sont membres.

Pour activer ce concept, vous devez accorder aux utilisateurs l'autorisation d'"Ajouter/mettre à jour des utilisateurs au sein des groupes gérés", et *ne pas* accorder l'accès à l'autorisation standard "Ajouter/mettre à jour des utilisateurs". Le concept d'utilisateurs gérés implique que lorsque vous créez un utilisateur avec la fonction "Ajouter/mettre à jour des utilisateurs au sein de groupes gérés" uniquement, l'utilisateur doit être membre d'au moins un groupe d'utilisateurs que l'utilisateur actuel peut gérer. Dans le cas contraire, l'utilisateur actuel perdrait immédiatement l'accès à l'utilisateur en cours de création. Ceci est validé par le système.

Lorsque l'autorisation "Ajouter/mettre à jour des utilisateurs au sein de groupes gérés" est accordée, le système permet à un utilisateur d'ajouter des membres à des groupes d'utilisateurs auxquels il a un accès en lecture seule. L'objectif est de permettre une gestion décentralisée des utilisateurs. Vous pouvez définir une série de groupes d'utilisateurs dans lesquels d'autres utilisateurs peuvent ajouter ou supprimer des membres, mais pas supprimer ou modifier le nom du groupe.

## Exemple : gestion des utilisateurs dans un système sanitaire { #user_mgt_example } 

Dans un système de santé, les utilisateurs sont logiquement regroupés en fonction de la tâche qu'ils accomplissent et du poste qu'ils occupent.

1.  Définir les utilisateurs qui doivent jouer le rôle d'administrateur du système.
    Ils font souvent partie de la division nationale du HIS et devraient avoir
    toute autorité dans le système.

2.  Créez plus ou moins un rôle d'utilisateur pour chaque poste.

Voici des exemples de positions courantes :


| Position | Tâches spécifiques | Autorités recommandées | Commentaire |
|---|---|---|---|
| Administrateurs système | Configurer la structure de base (métadonnées) du système. | Ajoutez, mettez à jour et supprimez les éléments de base du système, par exemple les éléments de données, les indicateurs et les séries de données. | Seuls les administrateurs du système doivent modifier les métadonnées. <br> Si vous autorisez des utilisateurs à modifier les métadonnées, alors qu'ils ne font pas partie de l'équipe des administrateurs du système, cela peut entraîner des problèmes de coordination. <br> <br> Les mises à jour du système ne doivent être effectuées que par les administrateurs du système. |
| Directeur national de la santé<br><br>Directeur provincial de la santé | Suivi et analyse des données | Accès au module des rapports, aux applications **GIS**, **Qualité des Données** et au tableau de bord. | Vous n'avez pas besoin d'accès pour entrer des données, modifier des éléments de données ou des séries de données. |
| Responsables de la division du système national d'information sanitaire (HISO) <br> <br> Responsables des archives et de l'information sanitaires de district (DHRIO) <br> <br> Responsables des archives et de l'information sanitaires des établissements (HRIO) | Entrer les données provenant des établissements qui ne sont pas en mesure de le faire directement <br> <br> Surveiller, évaluer et analyser les données | Accès à toutes les applications d'analyse et de validation <br> <br> Accès à l'application **Entrée de Données**. | - |
| Commis à la saisie de données | - | - | - |



# Autorités des utilisateurs { #user_authorities } 


|||
|---|---|
| Accepter les données aux niveaux inférieurs | F_ACCEPT_DATA_LOWER_LEVELS |
| Access my data mart | F_MYDATAMART_VIEW |
| Ajouter un Établissement | F_FRED_CREATE |
| Ajouter une localité | F_LOCALE_ADD |
| Ajouter un Ensemble d'Options | F_OPTIONSET_ADD |
| Ajouter un Ensemble de Groupe d'Unités d'Organisation | F_ORGUNITGROUPSET_ADD |
| Ajouter une Règle du Programme | F_PROGRAM_RULE_ADD |
| Add Public Map | F_MAP_PUBLIC_ADD |
| Add Relationship Type | F_RELATIONSHIPTYPE_ADD |
| Add/Remove Members In Read-Only User Groups | F_USER_GROUPS_READ_ONLY_ADD_MEMBERS |
| Add SQL View | F_SQLVIEW_ADD |
| Add Tracked Entities | F_TRACKED_ENTITY_ADD |
| Add Tracked Entity Attribute Value | F_TRACKED_ENTITY_ATTRIBUTEVALUE_ADD |
| Add Tracked Entity Form | F_TRACKED_ENTITY_FORM_ADD |
| Add Tracked Entity Instance Comment | F_TRACKED_ENTITY_COMMENT_ADD |
| Add Tracked Entity Relationship | F_RELATIONSHIP_ADD |
| Add/Update Attribute | F_ATTRIBUTE_ADD |
| Add/Update Chart | F_CHART_ADD |
| Add/Update Concept | F_CONCEPT_ADD |
| Add/Update Constant | F_CONSTANT_ADD |
| Add/Update Data Value | F_DATAVALUE_ADD |
| Add/Update Indicator Type | F_INDICATORTYPE_ADD |
| Add/Update Min/max rule | F_DATAELEMENT_MINMAX_ADD |
| Add/Update Organisation Unit | F_ORGANISATIONUNIT_ADD |
| Add/Update Private Category Option Group | F_CATEGORY_OPTION_GROUP_PRIVATE_ADD |
| Add/Update Private Category Option Group Set | F_CATEGORY_OPTION_GROUP_SET_PRIVATE_ADD |
| Add/Update Private Data Element | F_DATAELEMENT_PRIVATE_ADD |
| Add/Update Private Data Element Category | F_CATEGORY_PRIVATE_ADD |
| Add/Update Private Data Element Category Combo | F_CATEGORY_COMBO_PRIVATE_ADD |
| Add/Update Private Data Element Category Option | F_CATEGORY_OPTION_PRIVATE_ADD |
| Add/Update Private Data Element Category Option Combo | F_CATEGORY_OPTION_COMBO_PRIVATE_ADD |
| Add/Update Private Data Element Groups | F_DATAELEMENTGROUP_PRIVATE_ADD |
| Add/Update Private Data Element Group Sets | F_DATAELEMENTGROUPSET_PRIVATE_ADD |
| Add/Update Private Data Set | F_DATASET_PRIVATE_ADD |
| Add/Update Private Document | F_DOCUMENT_PRIVATE_ADD |
| Add/Update Private Indicator | F_INDICATOR_PRIVATE_ADD |
| Add/Update Private Indicator Group | F_INDICATORGROUP_PRIVATE_ADD |
| Add/Update Private Indicator Group Sets | F_INDICATORGROUPSET_PRIVATE_ADD |
| Add/Update Private Option Set | F_OPTIONSET_PRIVATE_ADD |
| Add/Update Private Organisation Unit Group | F_ORGUNITGROUP_PRIVATE_ADD |
| Add/Update Private Organisation Unit Group Set | F_ORGUNITGROUPSET_PRIVATE_ADD |
| Add/Update Private Program | F_PROGRAM_PRIVATE_ADD |
| Add/Update Private Report | F_REPORT_PRIVATE_ADD |
| Add/Update Private SQL View | F_SQLVIEW_PRIVATE_ADD |
| Add/Update Private Tracked Entity Attribute | F_TRACKED_ENTITY_ATTRIBUTE_PRIVATE_ADD |
| Add/Update Private User Group | F_USERGROUP_PRIVATE_ADD |
| Add/Update Private User Role | F_USERROLE_PRIVATE_ADD |
| Add/Update Private Validation Rule Group | F_VALIDATIONRULEGROUP_PRIVATE_ADD |
| Add/Update Program Attribute | F_PROGRAM_ATTRIBUTE_ADD |
| Add/Update Program Indicator | F_ADD_PROGRAM_INDICATOR |
| Add/Update Program Stage | F_PROGRAMSTAGE_ADD |
| Add/Update Program Stage Section | F_PROGRAMSTAGE_SECTION_ADD |
| Add/Update Public Category Option Group | F_CATEGORY_OPTION_GROUP_PUBLIC_ADD |
| Add/Update Public Category Option Group Set | F_CATEGORY_OPTION_GROUP_SET_PUBLIC_ADD |
| Add/Update Public Chart | F_CHART_PUBLIC_ADD |
| Add/Update Public Dashboard | F_DASHBOARD_PUBLIC_ADD |
| Add/Update Public Data Element | F_DATAELEMENT_PUBLIC_ADD |
| Add/Update Public Data Element Category | F_CATEGORY_PUBLIC_ADD |
| Add/Update Public Data Element Category Combo | F_CATEGORY_COMBO_PUBLIC_ADD |
| Add/Update Public Data Element Category Option | F_CATEGORY_OPTION_PUBLIC_ADD |
| Add/Update Public Data Element Category Option | F_CATEGORY_OPTION_DELETE |
| Add/Update Public Data Element Category Option Combo | F_CATEGORY_OPTION_COMBO_PUBLIC_ADD |
| Add/Update Public Data Element Groups | F_DATAELEMENTGROUP_PUBLIC_ADD |
| Add/Update Public Data Element Group Sets | F_DATAELEMENTGROUPSET_PUBLIC_ADD |
| Add/Update Public Data Set | F_DATASET_PUBLIC_ADD |
| Add/Update Public Document | F_DOCUMENT_PUBLIC_ADD |
| Add/Update Public Indicator | F_INDICATOR_PUBLIC_ADD |
| Add/Update Public Indicator Group | F_INDICATORGROUP_PUBLIC_ADD |
| Add/Update Public Indicator Group Sets | F_INDICATORGROUPSET_PUBLIC_ADD |
| Add/Update Public Option Set | F_OPTIONSET_PUBLIC_ADD |
| Add/Update Public Organisation Unit Group | F_ORGUNITGROUP_PUBLIC_ADD |
| Add/Update Public Organisation Unit Group Set | F_ORGUNITGROUPSET_PUBLIC_ADD |
| Add/Update Public Program | F_PROGRAM_PUBLIC_ADD |
| Add/Update Public Report | F_REPORT_PUBLIC_ADD |
| Add/Update Public Report Table | F_REPORTTABLE_PUBLIC_ADD |
| Add/Update Public SQL View | F_SQLVIEW_PUBLIC_ADD |
| Add/Update Public Tracked Entity Attribute | F_TRACKED_ENTITY_ATTRIBUTE_PUBLIC_ADD |
| Add/Update Public User Group | F_USERGROUP_PUBLIC_ADD |
| Add/Update Public User Role | F_USERROLE_PUBLIC_ADD |
| Add/Update Public Validation Rule Group | F_VALIDATIONRULEGROUP_PUBLIC_ADD |
| Add/Update Section | F_SECTION_ADD |
| Add/Update Tracked Entity | F_TRACKED_ENTITY_ADD |
| Add/Update Tracked Entity Attributes | F_ALLOW_EDIT_TRACKED_ENTITY_ATTRIBUTES |
| Add/Update Tracked Entity Data Value | F_TRACKED_ENTITY_DATAVALUE_ADD |
| Add/Update Tracked Entity Instance | F_TRACKED_ENTITY_INSTANCE_ADD |
| Add/Update User | F_USER_ADD |
| Add/Update User Group Managing Relationships | F_USERGROUP_MANAGING_RELATIONSHIPS_ADD |
| Add/Update User Within Managed Group | F_USER_ADD_WITHIN_MANAGED_GROUP |
| Add/Update Validation Criteria | F_VALIDATIONCRITERIA_ADD |
| Add/Update Validation Rule | F_VALIDATIONRULE_ADD |
| Add Validation Rule Groups | F_VALIDATIONRULEGROUP_ADD |
| Administrate data mart | F_DATAMART_ADMIN |
| Administrate data mart | F_DATA_MART_ADMIN |
| Administrate data visualizer | F_DV_ADMIN |
| Administrate GIS | F_GIS_ADMIN |
| Approve data | F_APPROVE_DATA |
| Approve data at lower levels | F_APPROVE_DATA_LOWER_LEVELS |
| Archive data | F_ARCHIVE_DATA |
| Change GIS Configuration | F_GIS_CONFIGURATION_UPDATE |
| Change Location of Tracked Entity Instance | F_TRACKED_ENTITY_INSTANCE_CHANGE_LOCATION |
| Change order in Data Set | F_DATASET_ORDER_CHANGE |
| Change system settings | F_SYSTEM_SETTING |
| Change Tracked Entity Instance Location | F_TRACKED_ENTITY_CHANGE_LOCATION |
| Chart External Access | F_CHART_EXTERNAL |
| Concept Management | F_CONCEPT_MANAGEMENT |
| Constant Management | F_CONSTANT_MANAGEMENT |
| Copy Excel Item | F_COPY_EXCEL_ITEM_ADMINISTRATION |
| Create and download backup | F_DASHBOARD_DOWNLOAD_BACKUP |
| Data Admin Locking | F_DATAADMIN_LOCK |
| Data Admin Unlocking | F_DATAADMIN_UNLOCK |
| Delete Attribute | F_ATTRIBUTE_DELETE |
| Delete Category Option Group | F_CATEGORY_OPTION_GROUP_DELETE |
| Delete Category Option Group Set | F_CATEGORY_OPTION_GROUP_SET_DELETE |
| Delete Chart | F_CHART_DELETE |
| Delete Concept | F_CONCEPT_DELETE |
| Delete Constant | F_CONSTANT_DELETE |
| Delete Data Element | F_DATAELEMENT_DELETE |
| Delete Data Element Category | F_CATEGORY_DELETE |
| Delete Data Element Category Combo | F_CATEGORY_COMBO_DELETE |
| Delete Data Element Groups | F_DATAELEMENTGROUP_DELETE |
| Delete Data Element Group Sets | F_DATAELEMENTGROUPSET_DELETE |
| Delete Data Set | F_DATASET_DELETE |
| Delete Data Value | F_DATAVALUE_DELETE |
| Delete Document | F_DOCUMENT_DELETE |
| Delete Excel Template | F_EXCEL_TEMPLATE_MANAGEMENT_DELETE |
| Delete Facility | F_FRED_DELETE |
| Delete Indicator | F_INDICATOR_DELETE |
| Delete Indicator Group | F_INDICATORGROUP_DELETE |
| Delete Indicator Group Sets | F_INDICATORGROUPSET_DELETE |
| Delete Indicator Type | F_INDICATORTYPE_DELETE |
| Delete Locale | F_LOCALE_DELETE |
| Delete Min/max rule | F_DATAELEMENT_MINMAX_DELETE |
| Delete Option Set | F_OPTIONSET_DELETE |
| Delete Organisation Unit | F_ORGANISATIONUNIT_DELETE |
| Delete Organisation Unit Group | F_ORGUNITGROUP_DELETE |
| Delete Organisation Unit Group Set | F_ORGUNITGROUPSET_DELETE |
| Delete Program | F_PROGRAM_DELETE |
| Delete Program Attribute | F_PROGRAM_ATTRIBUTE_DELETE |
| Delete Program Enrollment | F_PROGRAM_INSTANCE_DELETE |
| Delete Program Stage | F_PROGRAMSTAGE_DELETE |
| Delete Program Stage Section | F_PROGRAMSTAGE_SECTION_DELETE |
| Delete Relationship Type | F_RELATIONSHIPTYPE_DELETE |
| Delete Report | F_REPORT_DELETE |
| Delete Report Table | F_REPORTTABLE_DELETE |
| Delete Section | F_SECTION_DELETE |
| Delete SMS | F_MOBILE_DELETE_SMS |
| Delete SQL View | F_SQLVIEW_DELETE |
| Delete Tracked Entity | F_TRACKED_ENTITY_DELETE |
| Delete Tracked Entity Attribute | F_TRACKED_ENTITY_ATTRIBUTE_DELETE |
| Delete Tracked Entity Attribute Value | F_TRACKED_ENTITY_ATTRIBUTEVALUE_DELETE |
| Delete Tracked Entity Data Value | F_TRACKED_ENTITY_DATAVALUE_DELETE |
| Delete Tracked Entity Form | F_TRACKED_ENTITY_FORM_DELETE |
| Delete Tracked Entity Instance | F_TRACKED_ENTITY_INSTANCE_DELETE |
| Delete Tracked Entity Instance Comment | F_TRACKED_ENTITY_COMMENT_DELETE |
| Delete Tracked Entity Instance Visit | F_PROGRAM_STAGE_INSTANCE_DELETE |
| Delete Tracked Entity Relationship | F_RELATIONSHIP_DELETE |
| Delete User | F_USER_DELETE |
| Delete User Group | F_USERGROUP_DELETE |
| Delete User Role | F_USERROLE_DELETE |
| Delete User Within Managed Group | F_USER_DELETE_WITHIN_MANAGED_GROUP |
| Delete Validation Criteria | F_VALIDATIONCRITERIA_DELETE |
| Delete Validation Rule | F_VALIDATIONRULE_DELETE |
| Delete Validation Rule Group | F_VALIDATIONRULEGROUP_DELETE |
| Eliminate duplicate data elements | F_ELIMINATE_DUPLICATE_DATA_ELEMENTS |
| Excel Reporting Administration | F_EXCEL_REPORT_ADMINISTRATION |
| Execute SQL View | F_SQLVIEW_EXECUTE |
| Export Activity Plan to XLS file | F_ACTIVITY_PLAN_EXPORT |
| Export data | F_EXPORT_DATA |
| Export events | F_EXPORT_EVENTS |
| Export meta-Data | F_METADATA_EXPORT |
| Generate Activity Plans | F_GENERATE_ACTIVITY_PLANS |
| Generate min-max values | F_GENERATE_MIN_MAX_VALUES |
| Generate Program Statistics Report | F_GENERATE_STATISTICAL_PROGRAM_REPORT |
| Generate Program Summary Report | F_GENERATE_PROGRAM_SUMMARY_REPORT |
| Generate Tracked Entity Tabular report | F_GENERATE_BENEFICIARY_TABULAR_REPORT |
| Import data | F_IMPORT_DATA |
| Import events | F_IMPORT_EVENTS |
| Import from other systems | F_IMPORT_OTHER_SYSTEMS |
| Import GML | F_IMPORT_GML |
| Import meta-Data | F_METADATA_IMPORT |
| Insert custom Java script and CSS | F_INSERT_CUSTOM_JS_CSS |
| List Excel Template | F_EXCEL_TEMPLATE_MANAGEMENT_LIST |
| List Tracked Entity Instance | F_TRACKED_ENTITY_INSTANCE_LIST |
| List User Groups | F_USERGROUP_LIST |
| List User Roles | F_USERROLE_LIST |
| Load event reminder messages | F_PROGRAM_STAGE_INSTANCE_REMINDER |
| Load Tracked Entity Instance History | F_TRACKED_ENTITY_INSTANCE_HISTORY |
| Lock Data Set | F_DATASET_LOCK |
| Manage integration routes | F_MANAGE_INTEGRATION_ROUTES |
| Manage Program Indicators | F_PROGRAM_INDICATOR_MANAGEMENT |
| Manage Program Rule | F_PROGRAM_RULE_MANAGEMENT |
| Manage Tracked Entities | F_TRACKED_ENTITY_MANAGEMENT |
| Manage Tracked Entity Instance Reminders | F_TRACKED_ENTITY_INSTANCE_REMINDER_MANAGEMENT |
| Map External Access | F_MAP_EXTERNAL |
| Merge organisation units | F_MERGE_ORGANISATION_UNITS |
| Move Organisation Unit | F_ORGANISATIONUNIT_MOVE |
| Multiple Individual Data Entry | F_NAME_BASED_DATA_ENTRY |
| Option Set Management | F_OPTIONSET_MANAGEMENT |
| Organisation Unit Registration | F_ORGANISATION_REGISTRATION |
| Perform maintenance tasks | F_PERFORM_MAINTENANCE |
| Program Enrollment | F_PROGRAM_ENROLLMENT |
| Program Event Management | F_PROGRAM_INSTANCE_MANAGEMENT |
| Program Stage Section Management | F_PROGRAMSTAGE_SECTION_MANAGEMENT |
| Program Tracking Management | F_PROGRAM_TRACKING_MANAGEMENT |
| Program Un-enrollment | F_PROGRAM_UNENROLLMENT |
| Prune organisation units | F_PRUNE_ORGANISATION_UNITS |
| Remove Empty Tracked Entity Events | F_TRACKED_ENTITY_REMOVE_EMPTY_EVENTS |
| Rename Excel Template file | F_EXCEL_TEMPLATE_MANAGEMENT_RENAME |
| Report Table External Access | F_REPORTTABLE_EXTERNAL |
| Lancer la validation | F_RUN_VALIDATION |
| Scheduling Administration | F_SCHEDULING_ADMIN |
| Scheduling case aggregate query builder | F_SCHEDULING_CASE_AGGREGATE_QUERY_BUILDER |
| Scheduling send messages | F_SCHEDULING_SEND_MESSAGE |
| Search Activity Plan | F_ACTIVITY_PLAN |
| Search events without registration | F_PROGRAM_STAGE_INSTANCE_SEARCH |
| Search events with registration | F_PROGRAM_TRACKING_SEARCH |
| Search Tracked Entity Instance | F_TRACKED_ENTITY_INSTANCE_SEARCH |
| Search Tracked Entity Instance in All Org Units | F_TRACKED_ENTITY_INSTANCE_SEARCH_IN_ALL_ORGUNITS |
| See API Module | M_dhis-web-api |
| See Apps Maintenance module | M_dhis-web-maintenance-appmanager |
| See Browser Cache Cleaner module | M_dhis-web-cache-cleaner |
| See Dashboard integration module | M_dhis-web-dashboard-integration |
| See Dashboard module | M_dhis-web-dashboard |
| See Data Administration module | M_dhis-web-maintenance-dataadmin |
| See Data Elements and Indicators Maintenance module | M_dhis-web-maintenance-datadictionary |
| See Data Entry module | M_dhis-web-dataentry |
| See Data Mart module | M_dhis-web-datamart |
| See Data Set Maintenance module | M_dhis-web-maintenance-dataset |
| See Data Visualizer module | M_dhis-web-visualizer |
| See Event Capture module | M_dhis-web-event-capture |
| See Event Reports module | M_dhis-web-event-reports |
| See Event Visualizer module | M_dhis-web-event-visualizer |
| See Excel Report module | M_dhis-web-excel-reporting |
| See Export Data Mart Module | M_dhis-web-exportdatamart |
| See FRED API Module | M_dhis-web-api-fred |
| See GIS module | M_dhis-web-gis |
| See GIS module | M_dhis-web-mapping |
| See Import-Export module | M_dhis-web-importexport |
| See Individual Records | M_dhis-web-caseentry |
| See Light module | M_dhis-web-light |
| See Line-listing DataEntry module | M_dhis-web-dataentry-national |
| See Mobile Maintenance module | M_dhis-web-maintenance-mobile |
| See NRHM Reports module | M_dhis-web-reports |
| See Organisation Unit Maintenance module | M_dhis-web-maintenance-organisationunit |
| See Pivot Table module | M_dhis-web-pivot |
| See Report module | M_dhis-web-reporting |
| See Settings Maintenance module | M_dhis-web-maintenance-settings |
| See Smartphone module | M_dhis-web-mobile |
| See SMS module | M_dhis-web-sms |
| See Tracked Entity And Programs module | M_dhis-web-maintenance-program |
| See Tracker Capture module | M_dhis-web-tracker-capture |
| See User Maintenance module | M_dhis-web-maintenance-user |
| See Validation Analysis module | M_dhis-web-validationrule-local-in |
| See Validation Rule module | M_dhis-web-validationrule |
| Send message | F_SEND_MESSAGE |
| Send SMS | F_MOBILE_SENDSMS |
| Set mobile settings | F_MOBILE_SETTINGS |
| Single Event Without Registration Data Entry | F_ANONYMOUS_DATA_ENTRY |
| Single Event With Registration Data Entry | F_SINGLE_EVENT_DATA_ENTRY |
| Sql View External Access | F_SQLVIEW_EXTERNAL |
| Sql View Management | F_SQLVIEW_MANAGEMENT |
| Tracked Entity Aggregation | F_TRACKED_ENTITY_AGGREGATION |
| Tracked Entity Form Management | F_TRACKED_ENTITY_FORM_MANAGEMENT |
| Tracked Entity Instance Dashboard | F_TRACKED_ENTITY_INSTANCE_DASHBOARD |
| Tracked Entity Instance Management | F_TRACKED_ENTITY_INSTANCE_MANAGEMENT |
| Tracked Entity Relationship Management | F_RELATIONSHIP_MANAGEMENT |
| Update Facility | F_FRED_UPDATE |
| Update Organisation Unit Level | F_ORGANISATIONUNITLEVEL_UPDATE |
| Update Program Rule | F_PROGRAM_RULE_UPDATE |
| Update Relationship Type | F_RELATIONSHIPTYPE_UPDATE |
| Update Tracked Entities | F_TRACKED_ENTITY_UPDATE |
| Update Tracked Entity Attribute | F_TRACKED_ENTITY_ATTRIBUTE_EDIT |
| Upload Excel Template | F_EXCEL_TEMPLATE_MAMAGEMENT_UPLOAD |
| View and Search Tracked Entity Attributes and Identifiers | F_ACCESS_TRACKED_ENTITY_ATTRIBUTES |
| View data browser | F_VIEW_DATABROWSER |
| View Program Stage Completeness Report | F_PROGRAM_STAGE_COMPLETENESS |
| View program tracking | F_PROGRAM_TRACKING_LIST |
| View Report | F_REPORT_VIEW |
| View Tracked Entity Attribute | F_TRACKED_ENTITY_ATTRIBUTE_VIEW |
| View unapproved data | F_VIEW_UNAPPROVED_DATA |
| View User | F_USER_VIEW |
| View User Group Managing Relationships | F_USERGROUP_MANAGING_RELATIONSHIPS_VIEW |
| View User Within Managed Group | F_USER_VIEW_WITHIN_MANAGED_GROUP |
| Delete tracked entity instance and associated enrollments and events | F_TEI_SUPPRIMER_CASCADE |
| Delete enrollment and associated events | F_INSCRIPTION_SUPPRIMER_CASCADE |
| Edit expired data | F_EDIT_EXPIRED |




# À propos du partage d'objets { #sharing } 

Ce chapitre traite de la fonction de partage des entités dans le DHIS2.

## Partage d'objets { #sharing-of-objects } 

De nombreux objets dans le DHIS2, comme les rapports, les graphiques, les cartes et les indicateurs, peuvent
être partagés. Le système DHIS2 permet le partage de métadonnées ou de données. Le partage 
des métadonnées consiste à rendre un objet, comme un rapport, disponible pour lecture ou 
modification à un groupe d'utilisateurs ou à tout le monde. Le partage des données  consiste 
à mettre à la disposition des autres les données réelles saisies et contrôler qui 
peut saisir ce type de données. Par exemple, pour les rapports, le dialogue de partage 
peut être ouvert en cliquant sur le bouton "Paramètres de partage" à côté de chaque 
rapport dans la liste. Les responsables de la mise en œuvre peuvent utiliser cette fonction 
pour permettre l'accès à certains objets à certains groupes d'utilisateurs seulement. Les 
utilisateurs peuvent utiliser cette fonction pour décider avec qui ils souhaitent partager des 
objets (des tableaux croisés dynamiques, des graphiques, des tableaux de bord, etc.).

Si le partage est pris en charge pour une catégorie particulière d'objets, un dialogue appelé 
"Paramètres de partage" sera disponible, généralement en cliquant sur le 
nom de l'objet ou dans les outils d'analyse, par le biais d'une icône (Partager 
avec d'autres personnes). Une fois que vous aurez accédé aux paramètres de partage pour 
l'objet que vous souhaitez partager, une boîte de dialogue similaire à celle ci-dessous 
s'affiche.

![](resources/images/maintenance/mtn_sharing_dialog.png)

Vous pouvez partager votre rapport avec tout le monde ou avec un certain nombre de 
groupes d'utilisateurs. Vous pouvez activer un "accès externe" pour permettre le partage 
de cette ressource avec tout le monde, y compris les utilisateurs qui ne peuvent pas se connecter au DHIS2. Cette 
activation est utile pour partager des ressources publiques avec des systèmes externes. Notez que si 
les objets sont partagés en externe, ils deviennent alors visibles par toute personne ayant 
accès à l'URL qui fournit la ressource sans aucune référence de 
connexion. Notez également que l'"accès externe" ***n'autorise pas*** l'accès aux 
utilisateurs connectés - pour leur donner accès, vous devez également activer 
l'"accès public".

À côté de "Accès public", vous pouvez choisir votre option d'accès public sous 
"MÉTADONNÉES " : "Pas d'accès", "Peut uniquement consulter" ou "Peut modifier et consulter", et 
sous "DONNÉES" : "Aucun accès", "Peut visualiser les données", "Peut saisir les données". L'accès 
public fait référence aux utilisateurs qui sont connectés au système. L'édition implique 
également la suppression du rapport.

Pour partager avec un groupe, il suffit de commencer à entrer le nom du groupe et le 
champ de saisie "Recherche de groupes d'utilisateurs" et de sélectionner le groupe 
souhaité. Cliquez sur l'icône "+" à côté du champ de saisie pour partager avec ce groupe. 
Pour chaque groupe, vous pouvez définir une option d'accès, similaire à l'accès public.

Le partage avec un groupe d'utilisateurs implique que tous les utilisateurs de ce groupe 
auront accès à l'objet partagé. Pour créer un groupe d'utilisateurs, vous pouvez vous rendre 
dans le module "Tableau de bord" et cliquer sur "Groupes". Cela vous mènera à la liste 
des groupes où vous pourrez cliquer sur "Ajouter nouveau" dans le coin supérieur droit. 
Tout le monde peut créer des groupes d'utilisateurs à partir du module "Tableau de bord".

## Partage des métadonnées et contrôle d'accès { #metadata-sharing-and-access-control } 

Les objets supportant le partage des métadonnées sont l'indicateur, le groupe d'indicateurs, 
l'ensemble de groupes d'indicateurs, le dictionnaire de données, l'ensemble de données, le 
programme, le rapport standard, la ressource, le tableau de rapport, le graphique, la carte et 
le groupe d'utilisateurs. Parmi ces objets, le tableau de rapport, le graphique, la carte et le 
groupe d'utilisateurs sont ouverts à tous et peuvent être créés en privé. Privé signifie que 
les objets ne sont disponibles que pour vous-même ou potentiellement pour un certain 
nombre de groupes d'utilisateurs si vous choisissez de partager l'objet. Ces objets sont 
appelés objets "ouverts" et peuvent être créés par tous les utilisateurs. Les autres objets, 
appelés objets "non ouverts", nécessitent que votre compte 
d'utilisateur soit habilité à les créer.

Un utilisateur peut avoir l'autorisation de créer des objets accessibles au public 
ou des objets accessibles à titre privé. Afin de créer un objet accessible au public 
(consultable ou modifiable par n'importe qui), votre compte d'utilisateur doit être 
habilité à le faire. Par exemple, pour créer une carte accessible au public, votre 
utilisateur doit avoir l'autorisation "Créer une carte publique". L'autorisation de 
créer des objets privés s'applique uniquement aux objets non ouverts. Par 
exemple, pour permettre à un utilisateur de créer des indicateurs qui ne seront 
accessibles qu'à cet utilisateur et non à tous, l'utilisateur peut se 
voir attribuer l'autorisation "Créer un indicateur privé".

Partager un objet non ouvert avec une autre personne et permettre à cette dernière 
de le modifier nécessite que le compte utilisateur de cette personne ait l'autorisation 
de mettre à jour ce type d'objets. Par exemple, si vous souhaitez laisser une autre 
personne modifier votre indicateur, le compte utilisateur de cette personne 
doit disposer de l'autorisation "Indicateur de mise à jour". Cela ne s'applique pas aux objets 
ouverts.

Lorsque vous créez un nouvel objet, il devient automatiquement visible par tous 
si votre compte d'utilisateur est habilité à créer des objets publics. Par exemple, si 
vous créez un rapport standard et que vous disposez de l'autorisation "Créer un 
rapport standard public", le rapport deviendra visible pour tout le monde. Si 
vous ne disposez pas de cette autorisation, le rapport ne sera visible que par 
vous. Une fois que vous avez créé un objet, vous pouvez, à partir 
de la boîte de dialogue "Paramètres de partage", définir le niveau de 
contrôle d'accès souhaité.

Si vous avez besoin d'un compte d'utilisateur pouvant visualiser absolument tous 
les objets, vous pouvez créer un rôle d'utilisateur avec l'autorité "TOUT" et attribuer 
un utilisateur à ce rôle. Si vous devez passer d'une vue "complète" des objets à 
une vue "personnelle" des objets, il est recommandé de créer deux comptes 
d'utilisateur, l'un avec l'autorité "TOUT" et l'autre sans.

## Application du partage des métadonnées { #metadata-sharing-applied } 

La fonctionnalité de partage des métadonnées est utile dans plusieurs cas de figure. L'un 
des cas d'utilisation est la mise en place d'une instance DHIS2 pour une organisation 
mondiale opérant dans plusieurs pays. En général, l'organisation dispose d'un 
ensemble de données, d'indicateurs et de rapports mondiaux qui doivent 
s'appliquer à tous es pays, tandis que chaque pays aura besoin d'ensembles 
de données, d'indicateurs et de rapports spécifiques. Dans ce scénario, l'approche 
suivante pourrait fonctionner :

  - Créez un groupe d'utilisateurs pour le personnel mondial.

  - Créez un groupe d'utilisateurs pour le personnel dans chaque pays.

  - Créez des ensembles de données et des rapports globaux, rendez les visibles pour tous 
    et modifiables uniquement pour le groupe d'utilisateurs mondial.

  - Créer des ensembles de données et des rapports spécifiques à un pays, les rendre visibles 
    et modifiables uniquement pour le groupe d'utilisateurs du pays et le groupe d'utilisateurs 
    uniquement.

Ce faisant, les indicateurs et les rapports mondiaux pourraient être consultés et analysés 
par tout le monde, mais gérés uniquement par le groupe d'utilisateurs mondiaux. Les 
ensembles de données, les indicateurs et les rapports spécifiques à chaque pays 
pourraient être consultés et mis à jour par le personnel du pays et du monde entier, sans 
être visibles ou avoir un impact sur le système pour les autres pays de l'organisation.

Une approche similaire pourrait fonctionner pour un scénario impliquant un donateur, de 
multiples organismes de financement et des partenaires de mise en œuvre dans un pays, 
où des groupes d'utilisateurs pourraient être mis en place pour chacune de ces entités. 
Ainsi, chaque partenaire de mise en œuvre pourrait créer et partager ses rapports au sein 
de son organisation sans affecter ou permettre l'accès aux autres. Les rapports pourraient 
également être partagés avec les superviseurs et les organismes de financement à la fin 
des périodes de référence.

Un autre cas d'utilisation est celui impliquant un ministère de la santé d'un pays ayant 
plusieurs programmes en matière de santé. En général, il est nécessaire de disposer de 
rapports et de tableaux généraux pour le ministère tout en permettant aux programmes de 
santé d'élaborer des rapports et des tableaux spécifiques à usage interne. Cela peut être 
réalisé en créant des groupes d'utilisateurs pour chaque programme de santé. Par la suite, 
lors de l'élaboration des rapports et des tableaux, ceux-ci peuvent être rendus visibles et 
modifiables uniquement pour le groupe d'utilisateurs du programme. De cette façon, les 
rapports ne seront pas visibles pour les autres programmes et utilisateurs. L'avantage ici 
c'est que les rapports sont conservés en interne dans le programme et parce que la liste 
visible des rapports des autres utilisateurs est plus courte et plus pertinente.

## Partage de données et contrôle d'accès { #data-sharing-and-access-control } 

Les objets suivants supportent le partage des données : l'ensemble de données, le type 
d'entité suivie, le programme et l'étape du programme. L'objectif du partage des données 
est de contrôler quels utilisateurs peuvent saisir des données et quels utilisateurs peuvent 
voir les données saisies.

### Partage de données pour les programmes basés sur des événements { #data-sharing-for-event-based-programs } 

Cette option s'applique aux types d'objets du type d'entité suivie, du programme et de l'étape du 
programme. Lorsqu'un utilisateur travaille avec des programmes d'événements individuels dans l'application 
Saisie d'événements, il devra disposer du niveau de partage "DONNÉES : Peut consulter les 
données" pour voir le programme et ses données. Sans ce niveau de partage, le programme 
et ses données ne seront pas visibles pour l'utilisateur. Lorsque l'utilisateur travaille avec des programmes Tracker 
dans la Saisie d'événements, il devra également disoposer du niveau de partage "DONNÉES : Peut consulter les données" pour 
voir le programme et le type d'entité suivie. Dans le cas d'un programme Tracker, 
l'utilisateur devra également disposer de "DONNÉES : Peux consulter les données" à chaque étape du programme 
individuellement pour pouvoir voir les données dans le programme. Pour saisir 
les données, l'utilisateur a besoin du niveau de partage "DONNÉES : Peut saisir des données".

> **N.B.**
>
> Pour consulter et saisir les données pour un programme, l'utilisateur saisissant les données doit également 
> faire un rapport pour le compte d'une unité d'organisation à laquelle le programme a été 
> affecté.



Tableau : Partage des données pour les programmes de suivi

| Type d'objet | Peut visualiser les données | Peut saisir des données | Commentaire |
|---|---|---|---|
| **Type d'entité suivie** | *Recherche d'entités suivies avec ce type d'entité suivie. <br>* Voir les valeurs des attributs du type d'entité suivie pour ce type d'entité suivie. | * Modifier les attributs visibles des entités suivies pour les instances d'entités suivies de ce type. <br>* Enregistrer/créer de nouvelles instances d'entités suivies de ce type. <br>* Supprimer les instances d'entités suivies de ce type. <br>* Désactiver/réactiver les instances d'entités suivies de ce type. ||
| **Programme** | * Rechercher des entités suivies dans ce programme. <br>* Voir les attributs des entités suivies spécifiques à ce programme. <br>* Voir les détails de l'inscription pour le programme. <br>* Voir les notes relatives à l'inscription. | * S'inscrire au programme. <br>* Modifier les détails de l'inscription au programme. <br>* Terminer/réouvrir les inscriptions au programme. <br>* Ajouter des commentaires relatifs au programme. <br>* Modifier les liens relatifs au programme. <br>* Envoyer un message à l'instance d'entité suivie. <br>* Supprimer des inscriptions au programme. | Les deux options "Peut visualiser les données" et "Peut saisir les données" requièrent également que l'utilisateur ait l'option "Peut visualiser les données" pour le type d'entité suivi. |
| **Étape du programme** | * Voir l'étape du programme et ses événements et données dans le cadre d'une inscription. <br>* Voir les commentaires relatifs à l'étape du programme. | * Ajouter/planifier/référer un nouvel événement au cours de la phase de programmation. <br>* Terminer / réouvrir les événements dans la phase du programme. <br>* Modifier les valeurs des données des entités suivies dans les événements de la phase du programme. <br>* Ajouter des commentaires pour les événements de la phase du programme. <br>* Supprimer des événements au cours de la phase du programme. | Les deux options "Peut visualiser les données" et "Peut saisir les données" requièrent également que l'utilisateur aie accès à "Peut visualiser les données" pour le programme et le type d'entité suivi. |



Tableau : Partage des données pour les programmes à événement unique

| Type d'objet | Peut visualiser les données | Peut saisir des données | Commentaire |
|---|---|---|---|
| **Programme** | * Voir la liste des événements au sein du programme. <br>* Voir les valeurs des données d'entités suivies pour les événements du programme. | * Ajouter de nouveaux événements dans le programme. <br>* Modifier les données des événements dans le programme. <br>* Supprimer des événements dans le programme. ||

### Partage des données pour les ensembles de données { #data-sharing-for-data-sets } 

S'applique aux types d'objets de l'ensemble de données et à l'option de catégorie . Lorsque 
l'utilisateur travaille dans l'application Saisie de données, il doit disposer de "DONNEES : peut saisir des 
données" pour voir et saisir les données dans l'ensemble de données. Pour enregistrer des données pour un 
champ de saisie dans un Ensemble de données, les utilisateurs doivent disposer de :

1.  Autorisation : F\_DATAVALUE\_ADD (Peut ajouter des valeurs de données )

2.  L'ensemble de données est partagé avec "Données : Peut saisir des données".

3.  L'élément de données est partagé avec les "Métadonnées" : Peut consulter".

4.  Toutes les Options de catégorie utilisées par l'Ensemble de données sélectionné sont partagées avec 
    "Données : Peut saisir des données".

> **N.B.**
>
> Pour consulter et saisir les données pour un ensemble de données, l'utilisateur saisissant les données doit également faire 
> un rapport pour le compte d'une unité d'organisation à laquelle l'ensemble de données a été 
> affecté.



Tableau : Partage des données pour les ensembles de données

| Type d'objet | Peut visualiser les données | Peut saisir des données | Commentaire |
|---|---|---|---|
| **L'ensemble de données** | * Visualiser les données de l'ensemble de données dans les Analyses | * Peut visualiser l'ensemble de données dans l'application de saisie des données<br> * Peut enregistrer des données pour l'ensemble de données à l'aide de l'API | Pour enregistrer la valeur des données dans l'application Saisie de données, les utilisateurs doivent également disposer de l'option "Peut saisir des données" pour les options de catégorie dans l'ensemble de données sélectionné. |
| **Option de catégorie** | * Peut visualiser les valeurs de données appartenant à une catégorie d'option partagée dans les analyses | * Peut enregistrer la valeur des données pour les champs de saisie dans l'application de saisie de données qui appartient à une catégorie partagée d'options. | Pour que CategoryOptionCombo et AttributeOptionCombo soient inscriptibles, toutes les CategoryOptions qui leur appartiennent doivent être partagées avec " Peut saisir des données ". |



# Configuration des cartes de DHIS2 { #gis_creating }

## Contexte { #gis_creating_context }

Pour configurer les Cartes, il suffit de stocker dans la base de données les coordonnées 
des unités d'organisation que vous souhaitez faire apparaître sur la carte. Les coordonnées 
sont souvent distribuées en formats propriétaires et devront être converties dans un format 
compréhensible par DHIS2. Le shapefile ESRI est le format de donnée vectorielle 
géospatiale le plus courant pour les applications de bureau. Vous pouvez trouver les 
shapefiles pour votre pays [ici](http://www.diva-gis.org/gdata) ou dans de nombreux 
autres référentiels de données géospatiales sur le web. Un travail préalable doit être 
effectué pour pouvoir utiliser ces coordonnées dans les cartes de DHIS2, à savoir 
transformer les données dans un format approprié et s'assurer que le nom contenu 
dans les données géospatiales correspond exactement aux noms des unités de 
l'organisation auxquelles elles doivent correspondre.

Seules les unités d'organisation avec des types de géométrie POINT peuvent être éditées par l'application de 
maintenance à ce moment. Pour modifier les géométries POLYGON, veuillez utiliser la fonction 
**Importation de géométrie d'unité d'organisation** dans l'application Import/Export.

Pour modifier les coordonnées du POINT d'une unité d'organisation, ouvrez l'application de maintenance 
et naviguez jusqu'à la section Unité d'organisation. Cliquez sur l'unité d'organisation que 
vous souhaitez visualiser ou modifier, vous pouvez rechercher ou filtrer la liste dans 
la partie gauche de l'écran. Une fois qu'une unité d'organisation est sélectionnée, 
vous pouvez modifier les valeurs de **Latitude** et de **Longitude** pour mettre à jour les coordonnées des 
POINTS. Si l'unité organisationnelle a une géométrie de type  POLYGON, les coordonnées 
ne peuvent pas être modifiées.

Si vous allez ajouter ou mettre à jour les coordonnées d'un grand nombre d'unités, ou 
si vous devez mettre à jour des géométries de polygone, vous devez utiliser l'importation automatique 
de la **géométrie des unités d'organisation** expliquée dans la section suivante.

> **Important**
>
> Le seul système de référence de coordonnées (SRC) pris en charge par DHIS2 est EPSG:4326, 
> également connu sous le nom de longitude/latitude géographique. Les coordonnées doivent être 
> stockées avec la longitude (position est/ouest) en procédant à la latitude 
> (position nord/sud). Si vos données vectorielles sont dans un SRC différent de 
> EPSG 4326, vous devrez d'abord reprojeter les données avant de les importer 
> le DHIS2.

## Importation de coordonnées en format GeoJSON { #geojson_creating_setup }

Étape 1 - Conversion des données géospatiales en format GeoJSON

Sautez cette étape si vos données sont déjà en format GeoJSON utilisant la 
longitude/latitude géographique.

L'outil recommandé pour les conversions de format géographique est appelé 
"ogr2ogr". Il devrait être disponible pour la plupart des distributions 
Linux `sudo apt-get install gdal-bin`. Pour Windows, allez sur 
<http://fwtools.maptools.org/>et téléchargez "FWTools", installez-le et ouvrez 
l'interpréteur de commandes FWTools. Pendant la conversion du format, nous voulons 
également nous assurer que la sortie dispose de la projection correcte des coordonnées 
(appelée EPSG:4326 avec la longitude et la latitude géographiques). Pour une référence 
plus détaillée des coordonnées géographiques, veuillez consulter ce 
[site](http://www.epsg-registry.org/). Si vous avez déjà reprojeté 
les données géographiques dans le système de latitude/longitude géographique 
(EPSG:4326), il n'est pas nécessaire de définir explicitement le système de coordonnées 
de sortie, en supposant que `ogr2ogr` peut déterminer le système de référence spatiale 
d'entrée. Notez que la plupart des shapefiles utilisent le système EPSG:4326. Vous pouvez 
déterminer le système de référence spatiale en exécutant la commande suivante.

    ogrinfo -al -so filename.shp

Cette commande suppose que vos données géospatiales sont au format ESRI Shapefile 
(.shp), mais [plusieurs autres formats sont pris en charge] (https://gdal.org/drivers/vector/).

En supposant que la projection telle que signalée par `ogrinfo` est de EPSG:27700 , 
nous pouvons la transformer en EPSG:4326 en exécutant la commande 
suivante.

    ogr2ogr -s_srs EPSG:27700 -t_srs EPSG:4326 -f GeoJSON filename.geojson filename.shp

Si les données géographiques sont déjà en EPSG:4326, vous pouvez simplement 
transformer le shapefile en GeoJSON en exécutant la commande suivante.

    ogr2ogr -f GeoJSON filename.geojson filename.shp

Vous trouverez le fichier GeoJSON créé dans le même dossier que le fichier shapefile.

Étape 2 - Simplifier/généraliser vos données géographiques

Les limites des fichiers de données géographiques sont généralement très précises, trop 
grandes pour les besoins d'un SIG basé sur le web. Cela n'affecte généralement pas 
les performances lors de l'utilisation de fichiers SIG sur un système local, mais il est 
généralement nécessaire d'optimiser les données géographiques pour le système 
SIG basé sur le web du DHIS2. Toutes les données géographiques doivent être 
téléchargées du serveur et rendues dans un navigateur. De ce fait, si les données sont trop 
complexes, la performance du SIG de DHIS2 sera négativement affectée. Ce 
processus d'optimisation peut être décrit comme suit :

Pour les polygones, nous pouvons rendre les lignes de délimitation moins détaillées en 
supprimant certains points de la ligne. Cette généralisation entraîne 
une dégradation du polygone. Cependant, après 
quelques expériences, il est possible de trouver un niveau optimal de généralisation, 
où la précision du polygone est visuellement acceptable et où les 
performances sont optimales. Faites une sauvegarde de vos fichiers 
avant de commencer. Une méthode possible consiste à utiliser 
[MapShaper] (http://www.mapshaper.org/), un outil en ligne qui permet de 
généraliser les données géographiques. Pour utiliser MapShaper, il suffit de charger 
vos fichiers sur le site. Ensuite, cliquez sur _Simplifier_ dans le menu supérieur et 
sélectionnez une méthode de simplification. Un curseur s'affiche en haut de l'écran, 
qui commence à 100 %. Il est généralement acceptable de le faire glisser jusqu'à environ 30 %. 
Lorsque vous êtes satisfait du résultat, cliquez sur "Exporter" dans le coin supérieur droit. 
Sélectionnez le format de fichier "GeoJSON" et cliquez sur le bouton Exporter pour 
télécharger le fichier. Passez à l'étape suivante avec votre nouveau fichier 
GeoJSON simplifié.

Étape 3 - Préparation du fichier GeoJSON

Malheureusement, le fichier GeoJSON n'est pas encore prêt pour l'importation. Ouvrez-le 
dans un éditeur de texte puissant comme Geany (Linux) ou Notepad++ (Windows). GeoJSON 
est un format basé sur JSON. Dans le fichier GeoJSON, une unité d'organisation est 
représentée par un élément. Chaque entité doit avoir une géométrie, des propriétés 
(attributs) et peut avoir un identifiant.

Pour pouvoir importer des données géospatiales à partir d'un fichier GeoJSON, le DHIS2 
doit faire correspondre chacune d'entre elles à une unité d'organisation de sa base de données. En d'autres termes, 
chaque élément GeoJSON doit contenir une référence pour son unité d'organisation 
correspondante. La référence elle-même doit être l'un des trois identifiants possibles de 
DHIS2 : **uid**, **code** ou **nom**.

Par défaut, nous tenterons de faire correspondre l'identifiant de l'unité d'organisation à celui 
de l'élément GeoJSON. Vous pouvez ajouter ou modifier le champ id pour qu'il corresponde 
à l'uid de l'unité d'organisation. Vous pouvez également faire correspondre une propriété 
aux propriétés de l'élément GeoJSON. La propriété peut être associée à l'organisation 
**uid**, **code** ou **nom**.

Veuillez noter que l'identifiant utilisé doit **uniquement** identifier une 
unité d'organisation (par exemple, s'il y a deux unités d'organisation dans la 
base de données avec le même nom ou le même code, elles ne peuvent pas être 
correctement associées à l'une ou à l'autre). Comme _uid_ est le seul identifiant à garantie 
unique, c'est le choix le plus robuste. Toutefois, il est généralement plus facile de faire 
correspondre le nom (étant donné que le nom fait déjà partie de vos données).

Examinez brièvement les identifiants et comparez-les aux valeurs 
correspondantes dans la base de données. S'ils semblent correspondre assez bien, 
il est donc opportun de réaliser une prévisualisation dans le module "import-export".

Allez dans l'application **Import/Export** et cliquez sur **Import géométrique d'unité d'organisation**. 
Sélectionnez le fichier GeoJSON et la façon dont vous voulez faire correspondre les caractéristiques GeoJSON aux 
unités d'organisation. Cliquez sur **Démarrer la simulation** et consultez le bilan. 
Recherchez les unités d'organisation nouvelles/mises à jour. Notre intention est d'ajouter des coordonnées 
aux unités d'organisation déjà existantes dans la base de données, nous voulons donc autant 
de mises à jour que possible et 0 nouvelle. Les unités répertoriées comme nouvelles seront créées en tant 
qu'unités racines et perturberont l'arborescence des unités d'organisation dans le DHIS2. Si l'une 
d'entre elles est répertoriée comme nouvelle, cliquez sur le numéro et les unités d'organisation en question apparaîtront 
dans la liste ci-dessous. S'il y a de légères fautes d'orthographe par rapport aux 
noms des unités d'organisation dans la base de données, corrigez-les et recommencez l'essai à blanc. 
Sinon, cliquez sur le bouton "annuler tout" en dessous de la liste, puis sur le 
bouton **démarrer l'importation**.

Si le processus d'importation se termine avec succès, vous devriez maintenant pouvoir 
utiliser les données géographiques dans le SIG de DHIS2. Si ce n'est pas le cas, consultez 
le journal pour obtenir des conseils et rechercher des erreurs courantes telles que :

\- Nom en double dans le fichier GeoJSON. La colonne du nom dans la base de données est 
unique et n'accepte pas deux unités d'organisation portant le même nom.

\- La colonne "nom abrégé" du tableau des unités d'organisation de votre base de données 
a une définition trop petite du varchar. Augmentez-la à 100.

\- Polices spéciales pour les noms dans le fichier GeoJSON.

\- Erreur de formatage de la saisie GeoJSON, utiliser [GeoJSONLint](https://geojsonlint.com/) 
pour tester le contenu.

## Importation de données en format GML { #gis_creating_setup }

Étape 1 - Simplifier/généraliser vos données géographiques

Les limites des fichiers de données géographiques sont généralement très précises, trop 
grandes pour les besoins d'un SIG basé sur le web. Cela n'affecte généralement pas 
les performances lors de l'utilisation de fichiers SIG sur un système local, mais il est 
généralement nécessaire d'optimiser les données géographiques pour le système 
SIG basé sur le web du DHIS2. Toutes les données géographiques doivent être 
téléchargées du serveur et rendues dans un navigateur. De ce fait, si les données sont trop 
complexes, la performance du SIG de DHIS2 sera négativement affectée. Ce 
processus d'optimisation peut être décrit comme suit :

Pour les polygones, nous pouvons rendre les lignes de délimitation moins détaillées en 
supprimant certains points de la ligne. Cette généralisation entraîne 
une dégradation du polygone. Cependant, après 
quelques expériences, il est possible de trouver un niveau optimal de généralisation, 
où la précision du polygone est visuellement acceptable et où les 
performances sont optimales. Faites une sauvegarde de vos shapefiles 
avant de commencer. Une méthode possible consiste à utiliser 
[MapShaper] (http://www.mapshaper.org/), un outil en ligne qui peut 
être utilisé pour généraliser les données géographiques. Pour utiliser MapShaper, il suffit de charger vos fichiers sur le site. Ensuite, cliquez sur Simplifier dans le menu supérieur et sélectionnez une méthode de simplification. Un curseur s'affiche en haut de l'écran, qui commence à 100 %. Il est généralement acceptable de le faire glisser jusqu'à environ 30 %. Lorsque vous êtes satisfait du résultat, cliquez sur "Exporter" dans le coin supérieur droit. Sélectionnez le format de fichier GeoJSON et cliquez sur le bouton Exporter pour télécharger le fichier sur votre ordinateur.

Étape 2 - Conversion au format GML

L'outil recommandé pour les conversions de format géographique est appelé 
"ogr2ogr". Il devrait être disponible pour la plupart des distributions Linux `sudo apt-get install gdal-bin`. 
Pour Windows, allez sur <http://fwtools.maptools.org/>et téléchargez 
"FWTools", installez-le et ouvrez l'interpréteur de commandes FWTools. Pendant la 
conversion du format, nous voulons également nous assurer que la sortie dispose de la projection correcte 
des coordonnées (appelée EPSG:4326 avec la longitude et la 
latitude géographiques). Pour une référence plus détaillée des coordonnées géographiques, 
veuillez consulter ce [site](http://www.epsg-registry.org/). Si vous avez 
déjà reprojeté les données géographiques dans le système de latitude/longitude 
géographique (EPSG:4326), il n'est pas nécessaire de définir explicitement 
le système de coordonnées de sortie, en supposant que `ogr2ogr` peut 
déterminer le système de référence spatiale d'entrée. Notez que la plupart des shapefiles 
utilisent le système EPSG:4326. Vous pouvez déterminer le système de référence spatiale 
en exécutant la commande suivante.

    ogrinfo -al -so filename.json

En supposant que la projection telle que signalée par `ogrinfo` est de EPSG:27700 , 
nous pouvons la transformer en EPSG:4326 en exécutant la commande 
suivante.

    ogr2ogr -s_srs EPSG:27700 -t_srs EPSG:4326 -f GML filename.gml filename.json

Si les données géographiques sont déjà en EPSG:4326, vous pouvez simplement 
transformer le shapefile en GML en exécutant la commande suivante.

    ogr2ogr -f GML filename.gml filename.json

Vous trouverez le fichier GML créé dans le même dossier que le fichier Shapefile.

Étape 3 - Préparer le fichier GML

Malheureusement, le fichier GML n'est pas encore prêt pour l'importation. Ouvrez-le 
dans un éditeur de texte robuste comme Geany (Linux) ou Notepad++ (Windows). GML est 
un format basé sur XML, ce qui signifie que vous reconnaîtrez la hiérarchie de balises XML 
habituelle. Dans le fichier GML, une unité d'organisation est représentée par un 
\<gml:featureMember\>. Dans des éléments de la fonctionnalité, nous trouvons généralement beaucoup 
d'attributs, mais nous allons simplement importer leurs coordonnées.

Pour importer des données géospatiales à partir des éléments membres de l'entrée GML, 
le DHIS2 doit faire correspondre chacun d'eux à une unité d'organisation de sa 
base de données. En d'autres termes, l'élément membre doit contenir une 
référence à l'unité d'organisation correspondante. La référence elle-même 
doit être l'un des trois identificateurs possibles de DHIS2 : **uid**, **code** ou 
**nom**. L'identificateur choisi doit être fourni comme une propriété pour 
chaque élément membre principal. L'importateur recherchera une propriété dont 
le nom local est soit _Uid_, _Code_ ou _Name_, par exemple "ogr:Nom" ou 
"anyPrefix:Code".

Si les membres de votre fonctionnalité contiennent déjà une propriété de l'identifiant que vous 
souhaitez utiliser (comme le nom d'une zone), vous pouvez utiliser la fonction de recherche et de remplacement 
dans un éditeur de texte pour renommer ces éléments en un nom que DHIS2 reconnaîtra 
(voir le tableau ci-dessous). Il s'agit généralement d'un processus qui s'applique 
lorsque le nom est utilisé comme identifiant (le shapefile source ou même le GML 
contiendra généralement le nom de chaque zone qu'il définit).

Tableau : Identifiants d'unité d'organisation pris en charge pour l'importation GML

| Priorité en matière de correspondance | Identificateur | Orthographes Valables  | Unique garanti |
| ----------------- | ---------- | ---------------- | ----------------- |
| 1                 | Uid        | uid, Uid, UID    | Oui               |
| 2                 | Code       | code, Code, CODE | Non                |
| 3                 | Nom       | nom, Nom, NOM | Non                |

Dans le cas de renommage des propriétés, on trouve généralement une balise nommée 
quelque chose comme "ogr:DISTRICT*NOM", "ogr:NOM_1" et on la renomme en 
"ogr:NOM". En revanche, si l'on utilise les identificateurs \_code* ou _uid_, 
il peut alors être nécessaire de rechercher les valeurs correctes dans la base de données DHIS2 et de parcourir 
le fichier GML, en ajoutant les propriétés de chaque membre correspondant 
de la caractéristique. Dans tous les cas, il est important de 
réaliser que l'identificateur utilisé doit **uniquement** identifier une 
unité d'organisation (par exemple, s'il y a deux unités d'organisation dans la 
base de données qui portent le même nom ou code, elles ne peuvent pas être mises en correspondance correctement 
sur l'une ou l'autre). Étant donné que _uid_ est le seul identifiant unique garanti, il s'agit 
du choix le plus robuste. Cependant, étant donné que la correspondance avec le nom est généralement plus facile 
(puisque le nom fait déjà partie de vos données), une approche viable pour 
résoudre les conflits d'unicité peut consister à faire correspondre toutes les 
unités d'organisation qui ne sont pas nommées de manière unique avec un identificateur différent (uid, de préférence) et le 
reste avec leur nom.

Comme on peut le voir dans le tableau ci-dessus, il existe une priorité de correspondance, 
ce qui signifie que si deux ou plusieurs identifiants sont fournis pour le même membre, 
la correspondance sera effectuée sur l'identifiant de plus haute priorité. Notez également 
les propriétés valides qui peuvent être utilisées dans votre GML. Le préfixe de l'espace de 
noms n'est pas important car seul le nom local est utilisé.

Les erreurs de syntaxe ou de dénomination des éléments constituent un écueil 
courant lors de la préparation des fichiers GML. Par conséquent, veuillez vous assurer que toutes les propriétés 
du fichier GML sont lancées et terminées avec les balises correspondantes. 
Assurez-vous également que les propriétés respectent l'une des orthographes valides 
données du nom de la propriété. Les propriétés d'identification sont censées 
ressembler, par exemple, à \<ogr:Name\>Moyamba District\</ogr:Name\>, 
\<somePrefix:uid\>x7uuia898nJ\</somePrefix:uid\> or 
\<CODE\>OU*12345\</CODE\>. Une autre erreur courante consiste à ne pas s'assurer que 
l'identifiant correspond exactement, en particulier lorsque l'on utilise la propriété \_nom*. 
Toutes les correspondances sont effectuées sur des valeurs exactes, ce qui signifie que "Moyamba" dans un 
fichier GML source ne serait pas mis en correspondance avec "Moyamba District" dans la 
base de données.

Examinez brièvement les identifiants et comparez-les aux valeurs 
correspondantes dans la base de données. S'ils semblent correspondre assez bien, 
il est donc opportun de réaliser une prévisualisation dans le module "import-export".

Allez dans l'application **Import/Export**, cliquez sur **Import géométrique de l'unité d'organisation** et sélectionnez le format **GML**. 
Sélectionnez le fichier GML et cliquez sur **Démarrer la simulation**. Recherchez les 
unités d'organisation nouvelles/mises à jour. Notre 
intention est d'ajouter des coordonnées aux unités d'organisation 
déjà existantes dans la base de données, nous voulons donc autant de mises à jour que possible et 0 nouvelle. Les 
unités répertoriées comme nouvelles seront créées en tant qu'unités racines et perturbent l'arborescence des unités 
d'organisation dans DHIS2. Si l'une d'entre elles est répertoriée comme nouvelle, cliquez sur le numéro et les 
unités d'organisation en question apparaîtront dans la liste ci-dessous. S'il y a 
de légères fautes d'orthographe par rapport aux noms des unités d'organisation dans 
la base de données, corrigez-les et refaites l'aperçu. Sinon, cliquez sur le bouton 
" Supprimer tout " en dessous de la liste, puis sur le bouton " Importer tout " 
au-dessus de la liste.

Si le processus d'importation se termine avec succès, vous devriez maintenant pouvoir 
utiliser les données géographiques dans le SIG de DHIS2. Si ce n'est pas le cas, consultez 
le journal pour obtenir des conseils et rechercher des erreurs courantes telles que :

\- Nom en double dans le fichier GML. La colonne du nom dans la base de données est 
unique et n'accepte pas deux unités d'organisation portant le même nom.

\- La colonne "nom abrégé" du tableau des unités d'organisation de votre base de données 
a une définition trop petite du varchar. Augmentez-la à 100.

\- Caractères spéciaux des noms dans le fichier GML. Veillez à les convertir en 
équivalents XML ou en séquences d'échappement appropriés.

\- Entrée GML mal formatée, balises non concordantes



# Configurer la fonctionnalité de rapport { #setting_up_reporting } 

## Sources de données pour les rapports { #reporting_data_sources } 

### Types de données et agrégation { #types-of-data-and-aggregation } 

Dans la terminologie générale du SIS, toutes les données du DHIS2 sont généralement 
appelées agrégées puisqu'il s'agit d'agrégats (par exemple, des résumés mensuels) de 
dossiers médicaux ou d'une sorte de registres de services déclarés par les établissements 
de santé. L'agrégation dans DHIS2, dont il est question 
ici, concerne toutefois la manière dont les données brutes saisies dans le DHIS2 (par saisie 
ou importation de données) sont ensuite agrégées au fil du temps (par exemple, des valeurs mensuelles aux 
valeurs trimestrielles) ou en remontant dans la hiérarchie organisationnelle (par exemple, 
des valeurs des établissements aux valeurs des districts).

#### Terminologie { #terminology } 

  - Les *données brutes* font référence aux données enregistrées dans DHIS2, soit
    par saisie, soit par importation, et qui n'ont pas été manipulées par 
    le processus d'agrégation du DHIS2. Toutes ces données sont stockées dans la 
    table (ou l'objet Java si vous préférez) appelée Valeur de données.

  - *Les données agrégées* font référence aux données qui ont été agrégées par 
    DHIS2, ce qui signifie qu'il ne s'agit plus de données brutes, mais d'une sorte d'agrégat 
    des données brutes.

  - Les *valeurs indicatrices* peuvent également être considérées comme des données agrégées, mais 
    elles ont la particularité d'être calculées sur la base de formules définies par 
    l'utilisateur (facteur \* numérateur/dénominateur). Les valeurs d'indicateur 
    sont donc des données traitées et non des données brutes, et se trouvent dans 
    le tableau/objet des valeurs d'indicateur agrégées. Les indicateurs sont calculés 
    à n'importe quel niveau de la hiérarchie organisationnelle et ces calculs 
    sont ensuite basés sur les valeurs des données agrégées disponibles à chaque 
    niveau. Un attribut de niveau dans le tableau des valeurs de données agrégées fait référence au 
    niveau organisationnel de l'unité pour laquelle la valeur a été 
    calculée.

  - *La période et le type de période* sont utilisés pour spécifier la dimension temporelle des 
    valeurs brutes ou agrégées, et les données peuvent être agrégées d'un 
    type de période à un autre, par exemple d'une période mensuelle à une période trimestrielle, ou d'une période quotidienne à 
    une période mensuelle. Chaque valeur de données a une période et cette période a un 
    type de période. Par exemple, les valeurs de données pour les périodes de janvier, février et mars 
    2009, toutes de type mensuel, peuvent être agrégées pour former 
    une valeur de données agrégée avec la période Q1 2009 et le type de période 
    Trimestriel.

#### Règles d'agrégation de base { #basic-rules-of-aggregation } 

##### Les données agrégées ensemble { #what-is-added-together } 

Les données (brutes) peuvent être enregistrées à n'importe quel niveau d'organisation, par 
exemple dans l'hôpital national au niveau 2, dans un établissement de santé au niveau 5 ou 
dans un SSP plus important au niveau 4. Cela varie d'un pays à l'autre, mais le DHIS2 est 
flexible en matière de saisie ou d'importation de données à n'importe quel 
niveau. Cela signifie que les organisations ayant elles-mêmes d'unités enfants peuvent 
enregistrer des données, parfois les mêmes éléments de données que leurs unités enfants. 
La règle de base de l'agrégation dans le DHIS2 stipule que *toutes les données brutes 
soient agrégées ensemble*, ce qui signifie que les données enregistrées dans un établissement au niveau 5 
sont ajoutées aux données enregistrées pour un SSP au niveau 4.

Il appartient à l'utilisateur/administrateur système/concepteur de s'assurer qu'il n'y a pas de 
double saisie et que, par exemple, les données saisies au 
niveau 4 ne concernent pas les mêmes services/visites que ceux déclarés par 
les enfants de l'orgunit au niveau 5.

> **N.B.**
>
> Dans certains cas où vous souhaitez avoir 
une double saisie dans le système, faites-le de manière contrôlée. Exemple : lorsque 
vous avez deux sources de données différentes pour les estimations de population, à la fois 
les données démographiques des bassins versants de niveau 5 et une autre source de 
données démographiques pour le niveau 4 basée sur les données de recensement (car la somme des bassins versants de niveau 5 n'est pas 
toujours la même que les données de recensement de niveau 4). Vous pouvez ensuite 
spécifier, à l'aide des paramètres d'agrégation avancés (voir plus bas), que le système ne 
doit pas, par exemple, ajouter les données démographiques de niveau 5 aux données démographiques de niveau 4, et 
que les agrégats de données démographiques de niveau 3,2,1 sont uniquement basés sur les données de niveau 4 
et n'incluent pas les données de niveau 5.

##### Comment agréger les données ensemble { #how-data-gets-added-together } 

La manière dont les données sont agrégées dépend de la dimension de l'agrégation (voir 
plus bas).

Au niveau de l'orgunit, les données sont toujours résumées, c'est-à-dire simplement 
additionnées. Notez que les données brutes ne sont jamais des pourcentages, et peuvent 
donc être additionnées. Les valeurs d'indicateurs qui peuvent être des pourcentages sont 
traitées différemment (recalculées à chaque niveau, mais jamais additionnées).

Dans la dimension temporelle, il existe plusieurs possibilités, les deux façons les plus 
courantes d'agréger les données sont la somme et la moyenne. L'utilisateur peut spécifier 
pour chaque élément de données la méthode à utiliser en définissant l'opérateur 
d'agrégation (voir plus bas). Les données mensuelles relatives aux services sont normalement additionnées 
dans le temps, par exemple le nombre de vaccins administrés dans une année est la 
somme des vaccins administrés pour chaque mois de cette année. Pour la population, 
l'équipement, le personnel et d'autres types de données dites semi-permanentes, on doit 
souvent utiliser la méthode de la moyenne, car, par exemple, le "nombre 
d'infirmières" travaillant dans un établissement au cours d'une année ne serait pas la somme des deux 
chiffres indiqués dans le rapport semestriel sur la dotation en personnel, mais plutôt la 
moyenne des deux chiffres. Pour plus de détails, voir la rubrique 'opérateurs 
d'agrégation'.

#### Dimensions d'agrégation { #dimensions-of-aggregation } 

##### Unités et niveaux d'organisation { #organisational-units-and-levels } 

On utilise les unités d'organisation pour représenter la dimension "où" associée 
aux valeurs des données. Dans le DHIS2, les unités d'organisation sont disposées 
selon une hiérarchie correspondant généralement à la nature hiérarchique 
de l'organisation ou du pays. Les niveaux d'unité d'organisation correspondent aux 
niveaux distincts de la hiérarchie. Par exemple, un pays peut être 
organisé en provinces, puis en districts, puis en établissements, puis 
en sous-centres. Cette hiérarchie organisationnelle comporterait alors cinq niveaux. 
À l'intérieur de chaque niveau, il existerait un certain nombre d'unités d'organisation. Au 
cours du processus d'agrégation, les données sont agrégées des niveaux inférieurs 
de l'unité d'organisation aux niveaux supérieurs. Selon 
l'opérateur d'agrégation, les données peuvent être "additionnées" ou "calculées en moyenne" à un niveau 
d'unité d'organisation donné, pour obtenir le total agrégé de toutes les 
unités d'organisation contenues dans un niveau d'unité 
d'organisation supérieur. Par exemple, si une province compte dix districts 
et que l'opérateur d'agrégation pour un élément de données particulier 
a été défini comme "SOMME", le total agrégé pour la province 
sera calculé comme étant la somme des valeurs des dix 
districts individuels de cette province.

##### Période { #period } 

Les périodes sont utilisées pour représenter la dimension "quand" associée aux valeurs 
de données. Les données peuvent facilement être agrégées de semaines à mois, de mois à 
trimestres et de trimestres à années. DHIS2 utilise des règles connues sur comment 
ces différents intervalles sont contenus dans d'autres intervalles (par 
exemple, le premier trimestre 2010 est connu pour contenir janvier 2010, février 2010 
et mars 2010) afin d'agréger des données provenant d'intervalles de temps plus petits, 
par exemple des semaines, en intervalles de temps plus longs, par exemple des mois.

##### Éléments de données et Catégories { #data-elements-and-categories } 

La dimension de l'élément de données spécifie "ce qui" est enregistré par une 
valeur de données particulière. Les catégories d'éléments de données sont en fait des dimensions dégénérées 
de la dimension d'élément de données, et sont utilisées pour désagréger 
la dimension d'élément de données en catégories plus fines. Les catégories d'éléments
de données, telles que "âge" et "sexe", sont utilisées pour enregistrer un élément de 
données particulier, généralement pour différents groupes de population. Ces 
catégories peuvent ensuite être utilisées pour calculer le total global de 
la catégorie et le total de toutes les catégories.

#### Opérateurs d'agrégation, méthodes d'agrégation { #aggregation-operators-methods-for-aggregation } 

##### Somme { #sum } 

L'opérateur 'somme' calcule simplement la somme de toutes les valeurs de données 
contenues dans une matrice d'agrégation particulière. Par exemple, si les données 
sont enregistrées sur une base mensuelle au niveau du district et sont agrégées 
n totaux trimestriels provinciaux, toutes les données de tous les districts pour 
une province donnée et toutes les semaines pour le trimestre donné seront alors 
additionnées pour obtenir le total agrégé.

##### Moyenne { #average } 

Lorsque l'opérateur d'agrégation moyenne est sélectionné, la moyenne non pondérée 
de toutes les valeurs des données dans une matrice d'agrégation donnée sont 
calculées.

Il est important de comprendre comment le DHIS2 traite les valeurs nulles dans le 
contexte de l'opérateur Moyenne. Il est assez courant que certaines 
unités d'organisation ne soumettent pas de données pour certains éléments de données. 
Dans le contexte de l'opérateur Moyenne, la moyenne résulte du nombre 
d'éléments de données effectivement présents (donc NON NUL) dans une
matrice d'agrégation donnée. S'il y a 12 districts dans une province 
donnée, mais que seuls 10 d'entre eux ont soumis des données, le total moyen 
résultera alors de ces dix valeurs effectivement présentes dans 
la base de données, et ne tiendra donc pas compte des valeurs manquantes.

#### Paramètres d'agrégation avancés (niveaux d'agrégation) { #advanced-aggregation-settings-aggregation-levels } 

##### Niveaux d'agrégation { #aggregation-levels } 

La règle normale du système consiste à agréger toutes les données brutes lorsqu'on 
monte dans la hiérarchie organisationnelle, et le système ne prévoit pas la saisie des 
mêmes services fournis aux mêmes clients au niveau des deux établissements ainsi que la 
saisie d'un nombre "agrégé" (somme de tous les établissements) à un niveau supérieur. Cela 
permet de faciliter l'agrégation lorsque les mêmes services sont 
fournis mais à des clients/groupes de population différents dans les établissements au 
niveau 5 et dans un CSP (le parent des mêmes établissements) au niveau 4. De 
cette façon, un établissement au niveau 5 et un CSP au niveau 4 peuvent partager les mêmes 
éléments de données et simplement additionner leurs nombres pour fournir le total 
des services fournis dans la zone géographique.

Parfois, une telle agrégation n'est pas souhaitable, simplement parce qu'elle 
impliquerait une duplication des données relatives à une même population. C'est le cas lorsque 
vous avez deux sources de données différentes pour deux niveaux d'orgunit différents. 
Par exemple, la population du bassin versant des établissements peut provenir d'une source différente 
de celle des districts et, par conséquent, la somme des populations du bassin versant des établissements 
ne correspond pas à la population du district fournie par les données démographiques, par 
exemple. Si tel est le cas, nous souhaiterions en fait disposer de données dupliquées 
dans le système afin que chaque niveau puisse avoir des chiffres aussi 
précis que possible, mais nous ne voulons PAS regrouper ces sources de 
données.

Dans la section Élément de donnée, vous pouvez modifier les éléments de données et, pour chacun 
d'entre eux, préciser comment l'agrégation est effectuée pour chaque niveau. Dans le cas 
décrit ci-dessus, nous devons indiquer au système de NE PAS inclure les données relatives 
à la population des établissements dans les agrégations au-dessus de ce niveau, comme le niveau 
ci-dessus. Au cas où les districts ont enregistré leur population 
directement en tant que données brutes, les données sur la population des districts doivent alors être utilisées 
à tous les niveaux supérieurs, y compris celui des districts, tandis que les données sur les établissements 
doivent être utilisées au niveau des établissements.

##### Comment modifier l'agrégation des éléments de données { #how-to-edit-data-element-aggregation } 

Cette activité est contrôlée par ce qu'on appelle les Niveaux d'agrégation. À 
la fin de l'écran de modification des éléments de données, vous verrez une case à cocher appelée 
Niveaux d'agrégation. Si vous cochez cette case, vous verrez une liste des 
niveaux d'agrégation, disponibles et sélectionnés. Par défaut, aucun 
niveau d'agrégation n'est défini, et toutes les données brutes de la hiérarchie seront 
alors additionnées. Pour spécifier la règle décrite ci-dessus, et étant donné 
une hiérarchie de Pays, Province, District, Etablissement : sélectionnez Etablissement et 
District comme vos niveaux d'agrégation. Fondamentalement, vous sélectionnez l'endroit où vous avez 
des données. En sélectionnant Etablissement, cela signifie que les Etablissements utiliseront des données provenant 
des établissements (indiqués étant donné qu'il s'agit du niveau le plus bas). La sélection de District 
signifie que les données brutes au niveau du district seront utilisées lors de l'agrégation 
des données pour le niveau du district (donc aucune agrégation n'aura lieu à ce 
niveau), et les données des établissements ne feront pas partie des valeurs agrégées 
du district. Lors de l'agrégation des données au niveau de la province, les données brutes au niveau du district 
seront utilisées car il s'agit du niveau d'agrégation le plus élevé disponible 
qui a été sélectionné. Les données brutes du district seront également utilisées pour les agrégats au 
niveau du pays. Pour rappel, si nous n'avions pas spécifié 
que le niveau du district était un niveau d'agrégation, les données des établissements et 
les données des districts auraient été additionnées, ce qui aurait entraîné une duplication 
(double) des données démographiques pour les districts ainsi que tous les niveaux supérieurs.

### Tableaux des ressources { #resource-tables } 

Les tableaux de ressources fournissent des informations supplémentaires sur les dimensions des 
données dans un format qui convient bien aux outils externes pour les combiner 
avec le tableau des valeurs de données. En associant le tableau des valeurs de données à ces 
tableaux de ressources, il est donc facile d'agréger les dimensions des catégories d'éléments 
de données ou les dimensions des groupes d'éléments de données/indicateurs/unités d'organisation. 
Par exemple, en marquant toutes les valeurs de données avec l'option de catégorie homme ou 
femme et en les indiquant dans une colonne séparée 'genre', on peut alors obtenir 
des sous-totaux d'hommes et de femmes basés sur les valeurs de données collectées pour 
des combinaisons d'options de catégorie telles que (homme, \<5) et (homme,\>5). Voir la 
section Tableaux croisés dynamiques pour plus d'exemples de leur utilisation. 
L'orgunitstructure est un autre tableau important de la base de données qui permet de 
fournir des données à la hiérarchie des unités. En joignant 
le tableau orgunitstructure au tableau des valeurs de données, vous pouvez obtenir des lignes 
de valeurs de données avec la hiérarchie complète, par exemple sur le formulaire : OU1, OU2, OU3, 
OU4, Elément de données, Période, Valeur (Sierra Leone, Bo, Badija, Ngelehun CHC, 
BCG \<1, Jan-10, 32). Ce format facilite grandement la tâche des tableaux croisés dynamiques ou d'autres outils OLAPqui permettent, par exemple, 
d'agréger les données de manière ascendante dans la hiérarchie.

### Les tableaux de rapport { #reportTable } 

Les tableaux de rapport sont des rapports définis et croisés pouvant servir de 
base pour d'autres rapports, tels que les tableaux croisés dynamiques Excel ou être simplement 
téléchargés sous forme de feuille Excel. Les tableaux de rapport sont destinés à fournir une 
vue spécifique des données requises, telles que les "Indicateurs nationaux mensuels de 
CPN". Ce tableau de rapport peut fournir tous les indicateurs de CPN pour un 
pays, agrégés par mois pour l'ensemble du pays. Ces données peuvent bien 
sûr être extraites du principal magasin de données, mais les tableaux de rapport sont généralement 
plus rapides et présentent aux utilisateurs des vues bien définies des données.

## Comment créer des tableaux de rapports { #reporting_creating_tables } 

Pour créer un nouveau tableau de rapport, allez dans la section Tableaux de rapport du 
module Rapports (Rapports -\> Tableau de rapport). Au-dessus de la liste des rapports 
standard, utilisez les boutons "Ajouter un tableau de rapports" ou "Ajouter un tableau de dimensions d'éléments de 
données". Un tableau de rapport standard peut être utilisé pour conserver les informations 
sur les éléments de données, les indicateurs ou l'exhaustivité des ensembles de données, tandis que les tableaux de 
dimension des éléments de données sont utilisés pour inclure des catégories d'éléments de données dans les 
tableaux de rapport. La création des tableaux se fait de la même manière, la seule 
exception étant toutefois le choix des données.

Pour créer un tableau de rapport, vous devez commencez par opérer quelques choix généraux pour 
le tableau, dont le plus important est la dimension croisée. Ensuite, 
vous choisissez les éléments de données, les indicateurs, les ensembles de données ou les 
dimensions des éléments de données à inclure. Enfin, vous sélectionnez les unités d'organisation 
et les périodes de temps à utiliser dans le tableau du rapport. Chacune de ces étapes 
est décrite en détail ci-dessous.

### Options générales { #reporting_general_options } 


![](resources/images/dhis2_creating_reporting/general_options.jpg)

**Recoupement des dimensions**

Vous pouvez croiser une ou plusieurs des dimensions suivantes : élément de 
donnée/indicateur, orgunit et période, ce qui signifie que les colonnes seront 
créées sur la base des valeurs des dimensions choisies. Par exemple, si des indicateurs 
sont sélectionnés, vous obtiendrez dans le tableau des noms de colonnes reflétant les 
noms des indicateurs sélectionnés.

Par exemple, si vous faites des recoupements entre les indicateurs et les périodes, les 
en-têtes de colonne indiqueront "\<indicator title\> \<period\>". Les unités d'organisation 
seront énumérées sous forme de lignes. Voir la capture d'écran pour plus de précisions :

![](resources/images/dhis2_creating_reporting/crosstab_ind-per.jpg)

Si vous faites des recoupements sur les indicateurs et les unités d'organisation, les en-têtes 
de colonne du tableau indiqueront "\<indicator title\> \<organisation unit\>". Les périodes 
seront désormais répertoriées sous forme de lignes. Voir la capture d'écran pour plus de 
précisions :

![](resources/images/dhis2_creating_reporting/crosstab_ind-org.jpg)

Notez que les options faites ici concernant le recoupement des dimensions peuvent avoir 
des conséquences sur les options disponibles lors de l'utilisation ultérieure du tableau de 
rapport comme source de données, par exemple pour les rapports standard.

**Ordre de tri**

Affecte la colonne la plus à droite du tableau, vous permet de choisir de la trier 
de bas en haut ou de haut en bas.

**Limite maximale**

La limite maximale vous permet de fixer un nombre maximum de lignes que vous souhaitez 
inclure dans le tableau du rapport.

**Inclure la régression**

Cette option ajoute des colonnes supplémentaires avec des valeurs de régression pouvant 
être incluses dans la conception du rapport, par exemple dans les graphiques linéaires.

### Sélection des données { #reporting_selecting_data } 


![](resources/images/dhis2_creating_reporting/select_data.jpg)

**Indicateurs/Éléments de données**

Vous sélectionnez ici les éléments de données/indicateurs que vous souhaitez inclure dans 
le rapport. Utilisez le filtre de groupes pour trouver plus facilement ce que vous 
cherchez et double-cliquez sur les éléments que vous voulez inclure, ou utilisez 
les boutons pour ajouter/supprimer des éléments. Vous pouvez avoir à la fois des éléments 
de données et des indicateurs dans le même rapport.

**Ensembles de données**

Vous sélectionnez ici les ensembles de données que vous souhaitez inclure dans le rapport. 
L'inclusion d'un ensemble de données vous donnera des informations sur l'exhaustivité des 
données de l'ensemble donné, et non des informations sur ses éléments. Double-cliquez 
sur les éléments que vous souhaitez inclure, ou utilisez les boutons.

### Sélection des paramètres du rapport { #selecting_reporting_params } 


![](resources/images/dhis2_creating_reporting/relative_options.jpg)

Il existe deux façons de sélectionner à la fois les unités d'organisation et les périodes (relatives ou fixes) à inclure dans 
un rapport. Les unités d'organisation et/ou les périodes fixes signifient que vous sélectionnez 
les unités/périodes à inclure dans le tableau du rapport lorsque vous créez le tableau du 
rapport. En utilisant des périodes relatives, vous pouvez sélectionner le temps et/ou les 
unités comme paramètres lorsque le tableau du rapport est rempli, par exemple lors de l'exécution 
d'un rapport standard ou de la création d'un graphique. Une combinaison est également possible, 
par exemple pour ajouter certaines unités d'organisation dans le rapport de manière permanente 
tout en laissant les utilisateurs choisir des unités supplémentaires. Les paramètres de rapport 
sont abordés plus loin. En général, l'utilisation d'unités dorganisation et/ou 
de périodes fixes constitue une restriction inutile.

**Unités d'organisation fixes**

Pour ajouter des unités d'organisation fixes, cliquez sur "Basculer les unités d'organisation 
fixes". Un panneau apparaîtra dans lequel vous pourrez choisir les unités d'organisation à 
inclure dans le rapport. Si vous le laissez vide, les utilisateurs choisissent les unités d'organisation 
lors de l'exécution du rapport grâce à l'utilisation des paramètres de rapport. Utilisez le 
menu déroulant pour filtrer les unités d'organisation par niveau, double-cliquez ou 
utilisez les boutons ajouter/supprimer.

**Périodes fixes**

Pour ajouter des périodes fixes, cliquez sur "Basculer les unités d'organisation fixes". Un 
panneau apparaîtra dans lequel vous pourrez choisir des périodes à inclure dans le 
rapport. Si vous le laissez vide, les utilisateurs sélectionnent les périodes lors de l'exécution 
du rapport grâce à l'utilisation des paramètres de rapport. Utilisez le menu déroulant pour 
choisir le type de période (semaine, mois, etc.), les boutons Précédent et Suivant pour 
choisir l'année, et double-cliquez ou utilisez les boutons ajouter/supprimer.

**Périodes relatives** 

Au lieu d'utiliser des périodes fixes/statiques comme 'Jan-2010' ou 'Q1-2010', vous 
pouvez utiliser des périodes plus génériques pour créer des tableaux de rapport réutilisables. Par exemple, 
pour les rapports mensuels, la période 'Mois de déclaration' choisira simplement le 
mois de déclaration actuel sélectionné par l'utilisateur lors de l'exécution du rapport. 
Notez que toutes les périodes relatives sont relatives à un 'mois de déclaration'. Le 
mois de déclaratio est soit sélectionné par les utilisateurs, soit le mois en 
ours est utilisé. Voici une description des périodes relatives possibles :

  - *Mois du rapport :*

    A utiliser pour les rapports mensuels. Le mois sélectionné dans le 
    paramètre "mois de rapport" sera utilisé dans le rapport.

  - *Mois/trimestres de cette année*:

    Il s'agit d'une valeur par mois ou par trimestre de l'année. Cette 
    méthode convient parfaitement aux rapports mensuels ou trimestriels standard dans lesquels tous 
    les mois/trimestres doivent être énumérés. Les périodes qui n'ont pas encore de données 
    seront vides, mais conserveront toujours le même nom de colonne.

  - *Cette année :*

    Il s'agit du cumul à ce jour de l'année, qui regroupe les périodes 
    allant du début de l'année jusqu'au mois de 
    déclaration sélectionné.

  - *Mois/trimestres de l'année précédente* :

    Cela permet d'obtenir une valeur par mois ou par trimestre de l'année dernière, par rapport 
    au mois de déclaration. Cette méthode convient parfaitement aux rapports mensuels ou 
    trimestriels standard pour lesquels tous les mois/trimestres doivent être énumérés.
    Les périodes qui n'ont pas encore de données seront vides, mais conserveront toujours l
    e même nom de colonne.

  - *L'année précédente :*

    Il s'agit du cumul de l'année précédente, par rapport au mois de déclaration, 
    regroupe toutes les périodes de l'année précédente.

**Exemple - périodes relatives**

Supposons que nous avons choisi trois indicateurs : A, B et C, et nous avons également 
choisi d'utiliser les périodes relatives 'Mois de déclaration' et 'Cette année' 
lorsque nous avons créé le tableau de rapport. Si le mois de déclaration (sélectionné 
automatiquement ou par l'utilisateur) est, par exemple, mai 2010, le tableau de rapport 
calculera les valeurs des trois indicateurs sélectionnés pour mai 2010 
(= le 'mois de déclaration') et les valeurs cumulées des trois 
indicateurs sélectionnés jusqu'à présent en 2010 (= jusqu'à présent 'cette année').

Ainsi, nous obtiendrons six valeurs pour chacune des unités d'organisation : 
"Indicateur A mai 2010", "Indicateur B mai 2010", "Indicateur C mai 2010", 
"Indicateur A jusqu'à présent en 2010", "Indicateur B jusqu'à présent en 2010" et 
"Indicateur C jusqu'à présent en 2010".

**Paramètres du rapport**

Les paramètres des rapports rendent les rapports plus génériques et réutilisables au fil du 
temps et pour différentes unités d'organisation. Ces paramètres s'afficheront lors de la 
production du tableau de rapport ou de l'exécution d'un rapport basé sur le tableau de 
rapport. Les utilisateurs sélectionneront ce qu'ils veulent voir dans le rapport. Il existe 
quatre paramètres de rapport possibles, et vous pouvez en sélectionner aucun, tous ou 
une combinaison quelconque.

  - *Mois du rapport :*

    Cette case permet de déterminer le mois qui sera utilisé lorsque le système choisira 
    les périodes relatives. Si la case n'est pas cochée, l'utilisateur ne sera pas 
    invité à indiquer le mois de déclaration lors de la génération du rapport - le 
    mois en cours sera alors utilisé.

  - *Unité d'organisation grand-parent :*

    Sélectionnez le grand parent de tous les enfants et petits-enfants 
    de l'unité d'organisation que vous souhaitez voir figurer dans le rapport. Par exemple, une région 
    sélectionnée déclenchera l'utilisation de la région elle-même, de tous ses districts et de tous 
    leurs sous-districts.

  - *Unité d'organisation parent :*

    Sélectionnez le parent de tous les enfants de l'unité d'organisation que vous souhaitez voir figurer dans le 
    rapport. Par exemple, un district sélectionné déclenchera l'utilisation du 
    district lui-même et de tous ses enfants/sous-districts.

  - *Unité d’organisation:*

    Cette option déclenche l'utilisation de cette orgunit dans le rapport. Aucune unité enfant n'est 
    répertorié.

**Exemple - paramètres de rapport**

Pour poursuivre avec l'exemple des périodes relatives juste au-dessus, supposons 
qu'en plus du "mois de déclaration", nous avons choisi "Unité de l'organisation 
parent" comme paramètre de rapport lors de la création du tableau de 
rapport. Lors de l'exécution du tableau de rapport, il nous sera demandé de sélectionner 
une unité d'organisation. Supposons maintenant que nous choisissions "Région R" comme 
unité d'organisation. La "Région R" a alors les enfants "District X" et 
"District Y".

Lorsque le rapport est exécuté, le système agrège les données pour le 
"District X" et le "District Y". Les données seront agrégées à partir du 
niveau le plus bas où elles ont été collectées. Les valeurs des 
districts seront agrégées davantage pour donner une valeur agrégée pour la 
"Région R".

Ainsi, le tableau du rapport générera les six valeurs présentées dans 
l'exemple précédent, pour "District X", "District Y" et "Région R".

### Tableaux de dimensions des éléments de données { #reporting_de_dimension_tables } 

Ces tableaux permettent d'utiliser des catégories d'élément de donnée dans les tableaux de rapports. 
Il y a deux différences par rapport aux tableaux de rapports habituels. La première est 
qu'il n'est pas possible de sélectionner les dimensions des tableaux croisés, car les colonnes seront 
toujours les désagrégations des combinaisons de catégories. L'autre 
est le choix effectif des données. Une seule combinaison de catégories peut être ajoutée 
par rapport, et seuls les éléments de données de la même combinaison de catégories peuvent être 
sélectionnés.

Les sous-totaux et le total seront également inclus dans le tableau. Par exemple, une 
combinaison de catégorie sexe (homme, femme) + âge PEV(\<1, \>1) donnerait les 
colonnes suivantes : homme+\<1, homme+\>1, femme+\<1, femme+\>1, homme, 
femme,\<1, \>1, total.

**Sélection des données**


![](resources/images/dhis2_creating_reporting/catcombo.jpg)

Utilisez le menu déroulant pour choisir les combinaisons de catégories. Les éléments de 
données utilisant cette combinaison de catégories seront énumérés. Double-cliquez pour 
ajouter au rapport, ou utilisez les boutons.

### Tableau des rapports - meilleures pratiques { #reporting_best_practices } 

Vous pouvez paramétrer les tableaux de rapport pour qu'ils soient réutilisables dans le 
temps et entre les orgunits. Quatre types de paramètres sont autorisés : orgunit, 
orgunit parent (pour la liste des orgunits dans une zone), orgunit grand parent 
et mois de déclaration. Il convient de noter que nous envisageons d'étendre cette 
possibilité pour inclure le trimestre et l'année de déclaration, 
ou de rendre ce paramètre de période plus générique en ce qui concerne le type de 
période d'une certaine manière. La possibilité d'utiliser la période comme paramètre rend le 
tableau de rapport réutilisable dans le temps et, par conséquent, il s'adapte bien aux besoins de rapports tels que 
les rapports mensuels, trimestriels ou annuels. Lorsqu'un rapport est exécuté par l'utilisateur 
dans DHIS2, celui-ci doit spécifier les valeurs des tableaux de rapport liés 
au rapport. Le tableau de rapport est d'abord généré à nouveau 
(supprimé et recréé avec des données mises à jour), puis le rapport est exécuté 
(en arrière-plan, dans le moteur de rapport Jasper).

Les tableaux de rapport peuvent être constitués de valeurs relatives à des éléments de données, à des indicateurs 
ou à l'exhaustivité des données, qui est à sont tour liée à l'exhaustivité des rapports 
des orgunits pour un mois donné. Les rapports d'exhaustivité seront abordé 
dans une autre section.

Un tableau de rapport comporte trois dimensions permettant d'identifier les données : 
les indicateurs ou éléments de données, les orgunits et les périodes. Pour chacune de ces 
dimensions, l'utilisateur peut sélectionner les valeurs de métadonnées à inclure dans le 
rapport. L'utilisateur doit sélectionner un ou plusieurs éléments de données ou indicateurs à 
faire figurer dans le rapport. La sélection de l'orgunit peut être remplacée par un 
paramètre, soit une orgunit spécifique, soit une orgunit mère (se faisant apparaître 
dans le rapport avec tous ses enfants). Si une ou plusieurs 
orgunits sont sélectionnées et qu'aucun paramètre d'orgunit n'est utilisé, le rapport 
est statique en ce qui concerne les orgunits à inclure, ce qui, dans la plupart des cas, 
constitue une restriction inutile à un rapport.

**Utilisation des périodes relatives**

La sélection de la période est plus avancée car elle peut, en plus de périodes spécifiques 
comme Jan-09, Q1-08, 2007, contenir ce qu'on appelle des périodes 
relatives. Etant donné que le rapport est généralement exécuté de manière routinière dans le temps, une période spécifique 
comme Jan-09 n'est pas très utile dans un rapport. Si vous voulez 
plutôt concevoir un rapport mensuel, vous devez alors utiliser la période relative appelée 
"mois de référence". Ensuite, vous devez également inclure le mois de référence comme l'un de 
vos paramètres de rapport afin de faire savoir au système quel est exactement le 
mois de référence au moment de la production du rapport. Il existe de nombreuses autres 
périodes relatives disponibles, et elles sont toutes liées au paramètre de rapport 
"Mois de référence". Par exemple, la période relative intitulée "Jusqu'à présent cette année" se réfère à 
la valeur cumulée pour l'année, y compris le mois de référence. Si vous 
souhaitez un rapport d'évolution avec plusieurs périodes au lieu d'une seule période 
agrégée, vous pouvez sélectionner par exemple "Mois de cette année", ce qui vous donnera 
les valeurs de chaque mois jusqu'à présent dans l'année. Vous pouvez faire un rapport similaire 
avec des trimestres. L'idée est de prendre en charge autant de types de rapports génériques 
que possible en utilisant des périodes relatives ; donc si vous avez d'autres besoins en matière de rapports, 
veuillez suggérer de nouvelles périodes relatives sur la liste de diffusion, et elles pourraient 
être ajoutées aux options du tableau des rapports.

**Recoupement des dimensions**

La tabulation recoupée est une fonctionnalité très puissante dans la conception de rapports, car le 
tableau de données DHIS2 typique, en ce qui concerne la période, l'élément de 
donnée/indicateur et l'orgunit, rend très difficile la conception de rapports plus 
avancés, puisque vous ne pouvez pas mettre par exemple des indicateurs, des périodes ou 
des orgunits spécifiques sur des colonnes spécifiques. Par exemple, en recoupant la tabulation sur la dimension de 
l'indicateur dans un tableau de rapport d'indicateurs, vous obtiendrez les noms des indicateurs 
dans les en-têtes de colonne de votre rapport, en plus d'une colonne 
faisant référence à l'orgunit et d'une autre colonne faisant référence à la période. Avec une telle 
conception de tableau, vous pouvez glisser et déposer les noms des indicateurs dans des colonnes ou des positions de graphique spécifiques 
dans le logiciel iReport. De même, vous pouvez faire des recoupements 
entre les orgunits ou les périodes afin de rendre leurs noms spécifiquement disponibles 
pour la conception du rapport. Par exemple, en recoupant les périodes et en sélectionnant les deux 
périodes relatives 'Mois de référence' et 'Cette année', vous pouvez concevoir 
des rapports avec le dernier mois et la valeur annuelle cumulée pour 
un mois donné, puisqu'ils seront disponibles en tant qu'en-têtes de colonne dans votre tableau de 
rapport. Il est également possible de combiner deux dimensions dans le cadre d'un recoupement, 
par exemple la période et l'indicateur, ce qui permet par exemple d'examiner trois 
indicateurs sélectionnés pour deux périodes relatives spécifiques. Cela permettrait par exemple 
de faire un rapport basé sur un tableau ou un graphique avec une couverture BCG, DTC3 
et Rougeole, à la fois pour le dernier mois et la couverture cumulée 
jusqu'à présent dans l'année.

Dans l'ensemble, la combinaison les fonctionnalités de recoupement, de périodes 
relatives et de paramètres de tableaux de rapports, requiert un outil permettant de prendre 
en charge la plupart des scénarios de rapports. Si tel n'est pas le cas, nous serions très heureux de recevoir 
des suggestions permettant d'améliorer encore les tableaux de rapport. Comme nous l'avons déjà 
mentionné, nous avons commencé à examiner des paramètres plus précis concernant la 
dimension Période, car le 'Mois de déclaration' ne couvre pas suffisamment, ou 
du moins n'est pas assez intuitif, en ce qui concerne par exemple les rapports 
trimestriels.

## Résultat du tableau de rapport { #reporting_table_outcomes } 

Lorsque le tableau du rapport est exécuté, le système calcule les valeurs pour 
des indicateurs, des éléments de données, des ensembles de données, des organisations et des périodes spécifiques. Les 
données seront présentées dans le système DHIS2 sous forme de tableau. Les en-têtes de colonne 
correspondront à la dimension de tableau croisé que vous avez sélectionnée. Un exemple 
de tableau de rapport montrant la couverture des soins prénatals pour un district en Gambie, est présenté 
ci-dessous. Ici, l'indicateur et les périodes sont croisés, comme on peut le 
voir dans les en-têtes de colonne.


![](resources/images/dhis2_creating_reporting/crosstab_ind-per.jpg)

Au-dessus de la table, il y a six boutons ; cinq boutons de téléchargement et un 
bouton Retour. En cliquant sur le bouton Retour, vous revenez simplement à 
l'écran précédent. Les fonctions des cinq boutons de téléchargement sont 
présentées sous la capture d'écran :

![](resources/images/dhis2_creating_reporting/report-table_output.png)

**Les cinq boutons de téléchargement**

  - *Télécharger au format Excel:*

    Télécharge un fichier Excel généré que vous pouvez ouvrir dans Excel.

  - *Télécharger au format CSV:*

    Télécharge un fichier .csv généré. CSV signifie **C**omma 
    **S**eparated **V**alues (valeurs séparées par des virgules). Il s'agit d'un fichier texte dont l'extension est 
    .csv. Chaque ligne du fichier correspond à une ligne du tableau, tandis que 
    les colonnes sont séparées par des points-virgules ( ;). Le fichier peut être 
    ouvert dans un éditeur de texte ainsi que dans un programme de feuille de calcul (tel 
    que Excel).

  - *Télécharger au format PDF:*

    Télécharge un fichier PDF généré. Les données seront présentées dans une 
    disposition similaire à celle du tableau généré que vous visualisez déjà dans 
    DHIS2.

  - *Télécharger comme rapport:*

    Télécharge un fichier PDF "stylé". En plus de présenter les données sous 
    forme de tableau, ce fichier présente également un graphique, montrant les 
    données agrégées de toutes les périodes choisies et de l'unité 
    d'organisation mère choisie pour le tableau du rapport. Le rapport est 
    généré à l'aide du moteur de rapport Jasper.

  - *Télécharger au format JRXML:*

    Télécharge le fichier de conception du rapport généré décrit au 
    point précédent. Le fichier de conception (avec l'extension .jrxml) peut 
    être ouvert dans le logiciel Jasper iReport Designer. Si vous prévoyez de 
    concevoir des rapports standard, c'est le point de départ.

## **SIG:**Le SIG intégré à DHIS 2 permet de présenter et d'analyser vos
données à l'aide de cartes géographiques à thèmes. Vous pouvez y
visualiser aussi bien les éléments de données que les indicateurs ; et
en supposant que vous disposiez des coordonnées de toutes vos unités
d’organisation, vous pouvez parcourir votre hiérarchie
organisationnelle et faire apparaitre des cartes pour tous les niveaux à
l’aide de polygones ou de points. Toutes les informations affichées sur
les cartes sont générées par DHIS 2 ; tout ce que vous devez faire est
de procéder à l’enregistrement des coordonnées de vos unités
d'organisation pour que les cartes deviennent disponibles. Voir le
chapitre spécifique qui traite du SIG pour obtenir plus de détails. { #reporting_standard_reports } 

### Qu'est-ce qu'un rapport standard ? { #what-is-a-standard-report } 

Un rapport standard est un rapport conçu manuellement qui présente les données dans une 
mise en page spécifiée manuellement. Les rapports standard peuvent être basés soit sur 
des tableaux de rapport, soit sur des requêtes SQL. Les deux approches sont décrites dans 
les sections suivantes. Le principal avantage de l'utilisation des tableaux de rapport est la 
simplicité - aucune compétence particulière de développement n'est requise. Si vous avez 
des exigences particulières ou si vous devez utiliser des parties supplémentaires de la 
base de données DHIS2, vous pouvez utiliser un rapport standard basé sur SQL. Dans tous 
les cas, vous pourrez utiliser des paramètres de rapport afin de créer 
des rapports dynamiques. Le guide suivant utilisera l'approche par tableau de rapport, 
tandis que l'approche SQL est abordée vers la fin.

### Conception de rapports standard dans iReport { #designing-standard-reports-in-ireport } 

Jasper iReport Designer est un outil permettant de créer des rapports pouvant être utilisés 
comme rapports standard dans le système DHIS2. L'outil permet de créer des 
modèles de rapports standard qui peuvent être facilement exportés du DHIS2 avec des 
données actualisées. Le processus de création de rapports comprend quatre principales étapes :

1.  Un tableau de rapport doit être créé dans DHIS2 avec les indicateurs/éléments 
    de données/ensembles de données à utiliser dans le rapport.

2.  Vous devez exécuter le tableau du rapport et télécharger le fichier de conception (Cliquez 
    sur le bouton "Télécharger au format JRXML").

3.  Ouvrez le fichier .jrxml téléchargé à l'aide du logiciel gratuit Jasper 
    iReport Designer pour modifier la mise en page du rapport.

4.  Le rapport édité peut ensuite être téléchargé dans le DHIS2 pour être utilisé comme un 
    rapport standard.

Si vous voulez prévisualiser votre rapport pendant la conception dans iReport, vous 
evez en fait télécharger votre fichier dans DHIS2 pour voir à quoi il ressemble.

Ces quatre étapes seront décrites en détail dans les sections suivantes. En 
général, lorsque vous établissez des rapports standard, vous devez avoir une idée 
précise de leur aspect avant même de créer le tableau du rapport, car la manière dont 
le tableau du rapport est conçu a des implications sur la façon dont le rapport peut être 
formaté dans iReport. Par exemple, la sélection des dimensions des tableaux croisés 
dans le tableau du rapport a des conséquences sur les tableaux croisés disponibles 
pour le rapport standard, et sur les types de 
graphiques que vous pouvez réaliser.

#### Télécharger et ouvrir le fichier de conception { #download-and-open-the-design-file } 

> **N.B.**
>
> Si vous n'avez pas encore créé de tableau de rapport, vous devez le faire. 
> Pour ce faire, voir la section "Comment créer des tableaux de rapport".\*

Localisez le tableau de rapport souhaité et lancez-le en cliquant sur le cercle vert 
avec une flèche blanche à l'intérieur. Lorsque le rapport est affiché, cliquez sur le bouton 
"Télécharger au format JRXML" pour télécharger le fichier de conception. Ouvrez ensuite ce 
fichier dans le logiciel Jasper iReport Designer.

#### Édition du rapport { #editing-the-report } 

Vous pouvez maintenant modifier la mise en page du rapport. La fenêtre principale 
d'iReport se compose d'un "Report Inspector" à gauche, du document de rapport 
au milieu, d'une zone "Palette" en haut à droite et d'une 
zone "Propriétés" en bas à droite. Le "Report Inspector" 
est utilisé pour sélectionner et examiner les différentes propriétés du 
rapport, et lors de la sélection d'un élément dans Inspector, le panneau "Propriétés" 
change pour afficher les propriétés relatives à la sélection. La 
"Palette" est utilisée pour ajouter divers éléments, par exemple des zones de texte, des images 
et des graphiques au 
document.


![](resources/images/dhis2_creating_reporting/ireport/iReport-window.png)

> **N.B**
>
> Si la barre latérale de la palette ou des propriétés n'est pas visible, vous pouvez 
> alors l'activer à partir de l'élément de menu "Fenêtre" dans la barre du menu.

Le document iReport est divisé en sept bandes principales, elles-mêmes divisées par des 
séparateurs de présentation (les lignes bleues). Ces lignes sont utilisées pour décider de la 
taille de chacune des zones du rapport.

Ces zones ont toutes des objectifs différents :

  - Titre - zone pour le titre du rapport

  - En-tête de page - zone pour l'en-tête de la page

  - En-tête de colonne - zone pour les en-têtes de colonne (pour le tableau)

  - Détail 1 - zone où seront placées les données du rapport proprement dit

  - Pied de page de la colonne - zone pour créer le pied de page du tableau

  - Bas de page - zone pour le bas de page

  - Résumé - les éléments dans cette zone seront placés à la fin du 
    rapport

Par défaut, vous verrez que seules les bandes Titre, En-tête de colonne et 
Détail 1 ont des données. Pour la plupart des rapports, cela ne pose pas de problème. La bande Titre 
convient pour un titre et, par exemple, un graphique. Les champs de données saisis dans la 
zone Détail 1 seront répétés pour créer un tableau. Par exemple, si un 
champ appelé "nom d'élément de donnée" est placé dans la bande Détail 1, tous les 
éléments de données du tableau du rapport seront répertoriés ici. Nous reviendrons un 
peu plus loin sur la gestion des champs de données.

Les bandes non utilisées dans le rapport sont contractées pour ajouter de l'espace supplémentaire aux données de votre 
rapport. Vous pouvez toutefois augmenter ou réduire la hauteur de la bande comme vous 
le souhaitez. Il y a deux façons de le faire. La première consiste simplement à faire glisser la 
ligne bleue de la bande comme indiqué ci-dessous.

![](resources/images/dhis2_creating_reporting/ireport/17_drag.jpg)

L'autre façon d'ajuster la hauteur de la bande est de sélectionner une bande dans le 
"Report Inspector", puis d'ajuster la valeur "Hauteur de la bande" dans la zone 
"Détail 1 - propriétés" dans le coin inférieur droit.

![](resources/images/dhis2_creating_reporting/ireport/18_adjust.jpg)

Etant donné que les champs sont déjà présents sur le rapport, vous ne voulez 
probablement rien faire d'autre que de corriger la mise en page et de faire glisser les champs. Vous pouvez 
également redimensionner les champs en faisant glisser les lignes latérales, supérieures ou inférieures. Si vous 
souhaitez modifier le texte des en-têtes de colonne, il vous suffit de double-cliquer 
sur le champ et de modifier le texte.

Pour ajouter un champ au tableau, il suffit de le faire glisser vers la bande Détail 1 
depuis le "Report Inspector". L'en-tête de la colonne sera ajouté 
automatiquement.

En double-cliquant sur la case, le texte peut alors être édité. Le format du 
texte, tel que la taille, la police et l'alignement, peut être ajusté avec les outils 
situés au-dessus du document.

![](resources/images/dhis2_creating_reporting/ireport/21_title_edit.jpg)

> **REMARQUE**
>
> Les champs commençant par "$F" présentent des valeurs qui sont 
> extraites de la base de données à chaque fois que le rapport est exécuté. Les valeurs 
> varient, ne modifiez donc pas ces champs à moins que vous ne souhaitiez avoir une 
> valeur statique !

#### Texte { #text } 

Le logiciel iReportIl dispose de deux types de texte : Les "étiquettes de texte" 
et les "champs de texte" (champs de données). Ces types de texte fonctionnent 
différemment et doivent être utilisés à des fins différentes. Ce qu'il faut retenir est que les 
champs de texte sont juste des espaces réservés qui seront remplis avec le texte correct du tableau de rapport 
lorsque celui-ci sera exécuté, tandis que les étiquettes de texte resteront telles 
quelles lorsque le rapport sera exécuté.

##### Texte statique { #static-text } 

Les textes statiques sont des étiquettes en texte clair qui peuvent être éditées normalement. 
Il existe deux façons de modifier les étiquettes de texte :

  - En double-cliquant dans la zone de saisie

  - En utilisant les propriétés du texte statique dans le panneau 
Propriétés


![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_01.jpg)

##### Champs de texte { #text-fields } 

Les champs de texte sont des formules qui seront complétées à partir du tableau de 
rapport lorsque celui-ci sera exécuté. Contrairement au texte statique, ils ne peuvent pas être modifiés 
normalement. Toutefois, ils peuvent être manipulés de différentes manières pour garantir 
que le résultat souhaité. Il existe trois façons de modifier 
les champs de texte :

  - En faisant un clic droit sur la zone de texte et en sélectionnant Modifier l'expression

  - En double-cliquant sur le champ de texte (non recommandé, car cela ne fera pas 
    apparaître l'éditeur d'expression)

  - En utilisant les propriétés du champ Texte dans le panneau 
Propriétés


![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_04.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_06.jpg)

Les champs de texte peuvent représenter soit des chiffres, soit du texte, de sorte qu'ils peuvent être 
utilisés à la fois pour indiquer par exemple les noms de districts ou pour la saisie des valeurs 
numériques. Il est donc important que la classe Expression, dans les propriétés du champ 
de texte, corresponde à l'expression du champ de texte. Aucun problème ne se pose en ce qui concerne les champs de texte par défaut 
dans le fichier .jrxml téléchargé depuis DHIS2, mais cette correspondance est importante 
lors de la création de nouveaux champs de texte. Les deux classes d'expression les plus importantes 
sont java.lang.Double pour les nombres et java.lang.String pour 
le texte.

###### Exemple { #example } 

Supposons par exemple que vous avez un rapport trimestriel et que vous souhaitez 
ajouter une nouvelle colonne du total annuel. Vous ajoutez donc un nouveau 
champ de texte statique à la bande d'en-tête de la colonne, et un champ de texte à la 
bande de détails. Par défaut, les nouveaux champs de Texte sont définis sur java.lang.String 
(texte). Cependant, la colonne du total annuel sera remplie de chiffres. Nous 
devons donc changer la classe d'expression en java.lang.Double pour le nouveau 
champ de texte :

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_07.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_08.jpg)

Lorsque nous modifions l'expression du champ de texte, la fenêtre de l'éditeur d'Expression 
s'affiche avec toutes les colonnes disponibles du tableau du rapport. Nous pouvons alors 
constater ici que chacune d'entre elles est marquée avec son type - texte ou 
nombre. Nous devons donc nous assurer que la classe d'expression 
que nous choisissons pour le champ de texte correspond à l'expression 
réelle.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_10.jpg)

### Filtrage des lignes du tableau { #filtering-the-table-rows } 

Dans le tableau par défaut exporté depuis DHIS2, il y a certaines lignes qu'il 
serait préférable de laisser en dehors du tableau, et d'autres qu'il serait 
préférable d'avoir à la fin. Par exemple, lors de la création d'un tableau basé sur 
un tableau de rapport avec le paramètre "unité d'organisation mère", le 
tableau par défaut peut comporter une ligne entre toutes les régions pour le niveau 
national. Dans le logiciel iReport, cela peut être modifié de manière à ce que 
l'"unité organisationnelle mère" apparaisse en bas du tableau. Cela 
implique deux étapes qui seront expliquées ci-dessous. Notez que cela ne 
fonctionnera pas lorsqu'il n'y a qu'une seule unité organisationnelle, et que c'est donc plus 
utile lorsque vous utilisez les paramètres "unité d'organisation mère" ou "unité 
d'organisation grand-mère" dans le tableau du rapport.

#### Masquer « Le paramètre unité d'organisation » du tableau { #hiding-the-parameter-organisation-unit-from-the-table } 

Nous supprimons du tableau l'"Unité d'organisation des paramètres" en utilisant une 
propriété dans la bande de détails appelée "Imprimer si expression" (Print when expression). Pour définir une 
propriété Imprimer si expression, commencez par sélectionner la bande Détails dans Report 
inspector, puis modifiez la propriété Imprimer si expression dans le panneau des 
propriétés.


![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_11.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_12.jpg)

La fenêtre de l'éditeur d'expression devrait maintenant s'afficher. Ce qu'il faut faire, c'est 
créer une expression qui vérifie si la ligne générée est celle 
dont l'unité d'organisation est donnée en paramètre. Le tableau de rapport 
contient une colonne que nous pouvons utiliser pour cette unité d'organisation appelée 
organisation\_unit\_is\_parent. Pour exclure la ligne contenant le paramètre 
Unité d'organisation, double-cliquez sur organisation\_unit\_is\_parent dans la 
liste pour la copier dans la zone d'expression, puis ajoutez `.equals("No")` à la 
fin pour que le code soit :

```
$F{organisation_unit_is_parent}.equals("No")
```

Cela indique au moteur de rapport de n'imprimer que les lignes du tableau où 
l'unité d'organisation n'est pas l'unité d'organisation 
mère.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_14.jpg)

#### Placer « Le paramètre unité d'organisation » au bas du tableau { #putting-the-param-organisation-unit-at-the-bottom-of-the-table } 

Au lieu de supprimer complètement le "paramètre Unité d'organisation" de la table, 
il est également possible de la placer en bas (ou en haut) de la 
table. Pour ce faire, il faut utiliser la fonctionnalité de tri expliquée dans la 
section suivante, et choisir de trier d'abord par 
"organisation\_unit_is\_parent". D'autres options de tri peuvent être ajoutées en 
plus de celle-ci, par exemple pour dresser une liste dans laquelle le paramètre 
unité d'organisation est en bas du tableau, avec les autres 
unités d'organisation listées par ordre alphabétique au-dessus.

#### Masquer les autres rangées { #hiding-other-rows } 

En utilisant l'éditeur d'expressions (expression editor), il est également possible d'exclure d'autres lignes 
du tableau, en plus de l'unité d'organisation mère comme expliqué 
ci-dessus. Au Ghana, par exemple, toutes les régions ont un "faux 
district" qui est le nom de la région entre crochets. Il est également 
possible de l'exclure du tableau en utilisant la propriété Imprimer si expression que nous 
avons abordée plus haut. Pour ce faire, suivez donc les instructions ci-dessus pour faire apparaître 
la fenêtre Expression editor. Ensuite, nous utilisons des expressions Java pour vérifier 
si la ligne doit être masquée ou non.

##### Exemple - suppression des lignes dont les unités d'organisation commencent par \[. { #example-removing-rows-with-organisation-units-starting-with } 

Exemple - suppression des lignes dont les unités d'organisation commencent par \[.

```
($F{organisationunitname}.charAt( 0 ) != '[')
```

Cela crée une situation dans laquelle le rapport saute toutes les lignes où le premier caractère du 
nom de l'unité d'organisation est \[.

Il est également possible de combiner plusieurs de ces expressions. Pour ce faire, 
nous mettons les expressions entre parenthèses avec les deux caractères && entre 
les deux. Par exemple, pour produire un tableau laissant les deux unités d'organisation 
dont le nom commence par \[ et l'unité d'organisation parent, nous pouvons 
utiliser l'expression suivante :

```
($F{organisationunitname}.charAt( 0 ) != '[')&&$F{organisation_unit_is_parent}.equals("No")
```


![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_29.jpg)

### Tri { #sorting }

Très souvent, vous établirez des rapports dont la première colonne contient les noms des 
unités d'organisation. Cependant, il peut être problématique que la liste des unités 
d'organisation ne soit pas classée par ordre alphabétique. Ce problème peut être résolu dans iReport 
en quelques étapes simples.

Dans Report Inspector, faites un clic droit sur le nom du rapport (par 
défaut, il s'agit de dpt) et sélectionnez Modifier la 
requête.


![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_21.jpg)

Une fenêtre de requête de rapport s'ouvre. Cliquez sur le bouton 
"Options de tri".

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_22.jpg)

Une fenêtre de tri apparaîtra comme indiqué ci-dessous. Ici, nous pouvons ajouter nos 
options de tri. Cliquez sur le bouton Ajouter un champ. Une autre petite fenêtre apparaîtra, 
avec un menu déroulant où vous pouvez choisir Trier par nom d'unité d'organisation 
pour que le tableau soit trié par ordre alphabétique de 
nom.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_23.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_24.jpg)

Cliquez sur OK - Fermer - OK pour fermer les trois fenêtres. Le tableau doit maintenant 
être trié.

### Modifier les noms d'indicateurs/d'éléments de données { #changing-indicatordata-element-names } 

Par défaut, les rapports du DHIS2 utilisent les noms abrégés des indicateurs 
et des éléments de données des rapports et des graphiques. Dans certains cas, ceux-ci ne sont pas 
toujours très significatifs pour les tiers, mais avec un peu de travail, ils peuvent avoir des 
noms personnalisés via iReport. Ceci est utile par exemple si vous 
produisez un rapport avec des indicateurs sous forme de lignes et des périodes sous forme de colonnes, ou 
pour des graphiques avec des 
indicateurs.


![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_000.jpg)

Pour modifier les noms d'un indicateur ou d'un élément de donnée, nous devons modifier 
son "expression" ou sa formule, par exemple en faisant un clic sur la zone de texte et 
en choisissant Modifier l'expression pour afficher l'Editeur 
d'expression.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_32.jpg)

Nous devons ensuite insérer un code Java. Dans l'exemple suivant, nous 
allons remplacer le nom abrégé de trois indicateurs par leur nom 
propre. Le code recherche le nom abrégé, puis le remplace par un 
nom propre.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_34.jpg)

```
($F{indicatorname}.equals("Bed Util All")) ? "Bed Utilisation - All Wards"
:
($F{indicatorname}.equals("Bed Util Mat")) ? "Bed Utilisation - Maternity"
:
($F{indicatorname}.equals("Bed Util Ped")) ? "Bed Utilisation - Paediatric"
:
$F{indicatorname}
```

On peut en déduire un modèle réutilisable pour des cas plus généraux.

  - Pour chaque indicateur ou élément de données dont nous voulons changer le nom, 
    nous avons besoin d'une ligne

  - Chaque ligne est séparée par deux points :

  - Nous terminons l'expression par une ligne « régulière »

Chaque ligne a le même format, où le texte rouge représente le nom abrégé, le 
texte bleu est ce que nous voulons insérer 
à la place.

![](resources/images/dhis2_creating_reporting/ireportadv/ireport_screen_0.jpg)

Les mêmes expressions peuvent être utilisées, par exemple, lorsque les noms 
des indicateurs se trouvent le long de l'axe des catégories d'un graphique.

### Addition des totaux horizontaux { #adding-horizontal-totals } 

En utilisant l'éditeur d'expressions, il est possible d'ajouter une colonne au 
tableau avec des totaux pour chaque ligne. Dans l'exemple suivant, nous allons faire un 
tableau en prenant trois mois comme colonnes ainsi qu'une colonne contenant les totaux 
pour les trois mois.

Nous commençons par faire glisser une étiquette de texte dans l'en-tête du tableau et changer son 
texte en "Total", et faire glisser un champ de texte dans la ligne de détails.

Comme nous l'avons vu dans la section "Champ de texte", nous devons modifier les 
propriétés du nouveau champ de texte afin qu'il puisse afficher des chiffres. Pour ce 
faire, changez la "Classe d'expressions" dans le panneau des propriétés en 
"java.lang.Double".

Faites un clic droit sur le champ de texte et choisissez "Modifier l'expression". L'éditeur 
d'expressions apparaîtra. Comme expression, nous voulons résumer toutes 
les colonnes. Dans ce cas, nous avons trois expressions de valeur que nous voulons 
résumer : "Septembre", "Octobre 2010", "Novembre 2010". Le nom de ces 
champs variera en fonction de la dimension de tableau croisé que vous avez choisie dans 
le tableau du rapport. Dans notre cas, l'expression que nous construisons est
```
$f{September}+$f{October 2010}+$f{November 2010}
```
Chaque ligne du tableau aura une colonne de totaux à droite.

### Groupes de tableaux { #groups-of-tables } 

Dans certains cas, il peut être utile d'avoir plusieurs tableaux dans un seul 
rapport. Cela peut être fait en utilisant les groupes de rapports. En utilisant cette fonctionnalité, 
on peut par exemple créer un rapport avec un tableau pour chaque indicateur, ou un 
tableau pour chaque unité d'organisation. Dans la suite, nous allons passer en revue 
les étapes nécessaires pour faire un rapport avec trois indicateurs, chacun 
représenté dans un tableau. Il est important que le tableau du rapport ne comporte pas 
de tableaux croisés sur les indicateurs lorsque nous voulons faire des groupes de tableaux basés sur les 
indicateurs.

Dans notre exemple, le fichier .jrxml téléchargé du DHIS2 aura par défaut 
une colonne pour l'unité d'organisation et une autre pour les indicateurs (en supposant que 
nous ayons choisi des périodes comme seule dimension croisée). Nous commençons par 
supprimer la colonne des indicateurs, puisque cela n'est pas nécessaire dans notre cas, et 
nous réalignons les autres champs pour qu'ils correspondent au rapport.


![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_36.jpg)

Ensuite, nous créons notre groupe de rapport. Allez dans Report Inspector, faites un clic droit 
sur le nom du rapport (dpt est la valeur par défaut) et choisissez Ajouter un groupe de 
rapports.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_38.jpg)

Une fenêtre s'affiche, avec un assistant de groupe de rapports. Sélectionnez un nom pour le 
groupe ; dans notre cas nous choisissons "Indicateur". Dans le menu déroulant, nous pouvons 
sélectionner les colonnes du tableau de rapport sur lesquelles nous voulons que les groupes soient 
basés. Ainsi, si nous voulions un tableau pour chaque unité d'organisation, nous 
choisirions le nom de l'unité d'organisation comme objet de rapport à 
regrouper. Cependant, étant donné que nous regroupons par indicateurs dans cet exemple, nous 
choisissons le nom de l'indicateur. Cliquez ensuite sur 
suivant.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_39.jpg)

L'étape suivante consiste à choisir si nous voulons ou non un en-tête et un pied de 
page de groupe séparés pour chaque groupe de rapports. Dans ce cas, nous 
choisissons d'inclure les deux. Cliquez sur Terminer, et les bandes de groupe devraient apparaître 
dans le 
rapport.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_40.jpg)

Si vous téléchargez et exécutez le rapport, il créera désormais un tableau pour chaque 
indicateur. Cependant, cela ne sera pas très joli puisqu'il n'y aura pas 
de ligne d'en-tête au-dessus de chaque tableau - un seul en-tête en haut de chaque page. 
De plus, il n'y a aucune indication quant à quel tableau montre quel 
indicateur. Dans ce qui suit, nous allons remédier à ce problème.

Au lieu d'avoir la ligne de titre dans l'en-tête de la colonne, nous pouvons la 
déplacer vers l'en-tête du groupe. Ainsi, le titre apparaîtra au-dessus de 
chaque tableau individuel. En outre, nous pouvons ajouter un titre à chaque tableau 
avec le nom de l'indicateur.

Déplacez les en-têtes de colonne de la bande d'en-tête de colonne à la bande 
d'en-tête du groupe 
d'indicateurs.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_41.jpg)

Ensuite, ajoutez un champ de texte à la bande d'en-tête du groupe Indicateur, et modifiez 
son expression pour afficher le nom de 
l'indicateur.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_42.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_44.jpg)

Le rapport devrait maintenant comporter trois tableaux, un pour chaque indicateur. Chaque 
tableau aura un titre avec le nom de l'indicateur, ainsi 
qu'une ligne d'en-tête de 
tableau.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_45.jpg)

#### Triage et regroupement { #sorting-and-grouping } 

Lorsqu'on utilise le groupage, certaines précautions doivent être prises en ce qui concerne 
le tri. Notamment, lors de l'ajout de paramètres de tri, le paramètre 
utilisé comme base du groupage doit être prioritaire. Ainsi, si vous groupez 
le rapport par indicateur et que vous souhaitez trier les unités d'organisation par ordre 
alphabétique, vous devez choisir de trier d'abord par indicateur, puis par 
nom d'unité d'organisation comme indiqué ci-dessous. Pour savoir comment ajouter 
un tri, voir la section sur le tri 
ci-dessus.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_59.jpg)

## Graphiques { #charts } 

Par défaut, un diagramme à barres 3D est inclus dans le fichier .jrxml 
téléchargé depuis DHIS 2, qui est configuré de manière à ce que seules les données de 
l'"unité d'organisation des paramètres" (souvent le parent ou le grand-parent) soient 
utilisées. C'est généralement une bonne solution. Etant donnée qu'il s'agit de la valeur par défaut, nous 
commencerons par examiner les diagrammes en barres, avant d'examiner les graphiques 
linéaires.

### Graphiques à barres { #bar-charts } 


![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_54.jpg)

Les diagrammes en barres sont le type de diagramme par défaut dans le DHIS2. Dans cette section, nous allons 
voir comment réaliser un diagramme en barres comme celui ci-dessus, en comparant la valeur 
d'un indicateur dans plusieurs districts. Pour modifier le graphique par défaut dans 
iReport, cliquez avec le bouton droit de la souris et choisissez Données du 
graphique.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_46.jpg)

Une fenêtre s'affiche. Par défaut, la zone de texte de l'expression Filtre est remplie de 
manière à ce que seules les données de l'unité d'organisation parent soient affichées. Si, 
pour une raison quelconque, vous ne le souhaitez pas, il vous suffit de supprimer le texte 
dans la zone de texte. Dans ce cas, nous ne voulons PAS du filtre, car nous faisons un 
graphique montrant une comparaison entre les districts. Pour continuer, cliquez sur l'onglet 
Détails.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_47.jpg)

Sous Détails, vous voyez la liste des séries pour le tableau. Par défaut, une 
série est créée par colonne de tableau croisé. Dans ce cas, nous examinons les 
données d'un indicateur pour toute l'année 2010, pour un certain nombre de districts. 
L'indicateur se trouve dans la dimension du tableau 
croisé.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_48.jpg)

Pour apporter des modifications à une série, sélectionnez-la et cliquez sur modifier. Une autre fenêtre 
s'affiche, dans laquelle il y a quatre zones qui peuvent être modifiées. Les trois premières 
sont obligatoires, mais il suffit d'ajouter une citation vide («») dans l'une 
des deux 
premières.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_500.jpg)

La première case est un champ de texte dans lequel le nom de la série peut être 
inséré ou modifié. C'est ce champ qui sera utilisé pour saisir le texte 
dans la case de légende (voir 
ci-dessous).

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_50.jpg)

Toutefois, si vous souhaitez que le nom de chaque barre soit placé le long de l'axe des x du 
graphique au lieu d'utiliser la légende, vous pouvez le faire en ajoutant 
le texte que vous souhaitez présenter dans le champ Expression de catégorie, ou 
en insérant une expression pour qu'il soit rempli automatiquement lors de 
l'exécution du rapport. Dans ce cas, nous voulons avoir une barre pour chaque 
unité d'organisation. Nous pouvons donc éditer l'expression de catégorie en cliquant 
sur le bouton à 
droite.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_49.jpg)

Comme expression, nous avons choisi nom d'unité d'organisation, comme indiqué 
ci-dessous.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_490.jpg)

Lorsque nous aurons terminé, l'Éditeur de séries devrait ressembler à ce qui suit. Cliquez 
sur OK, puis sur Fermer pour fermer la fenêtre Détails du 
graphique.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_501.jpg)

Si vous ajoutez une bonne description dans la zone d'expression de la catégorie, vous pouvez 
omettre la case de la légende. Cela se fait dans le panneau des propriétés du rapport 
d'iReport, où vous pouvez également modifier de nombreux autres détails du 
graphique.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_51.jpg)

Nous pouvons également ajouter un titre au tableau, par exemple le nom de 
l'indicateur. Cela se fait également dans le panneau des propriétés du graphique, sous Expression 
du titre.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_55.jpg)

La fenêtre Editeur d'expression s'ouvre, et vous pourrez donc saisir le titre. 
Notez que le titre doit être entre guillemets, comme indiqué 
ci-dessous.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_56.jpg)

Le graphique est maintenant prêt.

### Graphiques linéaires { #line-charts } 

Les graphiques linéaires peuvent être utiles dans de nombreuses circonstances. Toutefois, pour réaliser des graphiques 
linéaires, les données du rapport (tableau de rapport) doivent être adaptées à celui-ci. Ainsi, si vous 
voulez faire un graphique linéaire, il est important que le tableau de rapport ne 
comporte pas de périodes dans le recoupement de dimensions. Cela est utile par exemple 
si vous faites un rapport pour une seule unité d'organisation avec 
un ou plusieurs indicateurs, ou si vous faites un rapport avec un indicateur 
et une ou plusieurs unités d'organisation.

Ci-dessous, nous allons passer en revue les étapes nécessaires à la production d'un rapport avec un graphique 
linéaire montrant l'évolution de trois indicateurs sur un an, pour une 
unité d'organisation. Nous commençons par générer un tableau de rapport à partir des options 
indiquées 
ci-dessous :


![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_57.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_60.jpg)

Lorsque nous ouvrons le fichier .jrxml- obtenu dans iReport, le graphique linéaire par 
défaut est inclus. Du moment où nous voulons créer un graphique linéaire, nous supprimons 
ce graphique et faisons glisser un nouvel élément de graphique dans le rapport à partir du Panneau de la 
palette.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_61.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_62.jpg)

Dès que nous faisons glisser l'élément Graphique dans le rapport, une fenêtre 
apparaît. Nous choisissons le graphique linéaire, comme indiqué 
ci-dessous.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_63.jpg)

Un assistant graphique s'affiche. Cliquez sur Suivant dans la première étape, puis sur 
Terminer dans la suivante - nous ajouterons les données 
plus tard.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_64.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_65.jpg)

Ensuite, ajustez la taille et la position du graphique dans votre rapport. Ensuite, nous 
ajouterons une série de données pour chacun de nos trois indicateurs. Faites un clic droit 
sur le graphique et choisissez Données du graphique. Si vous créez un graphique avec un 
indicateur et plusieurs unités d'organisation, vous souhaitez probablement créer une 
expression filtre afin que seules les données de l'unité d'organisation mère/de paramètre 
soient utilisées dans le graphique. Pour ce faire, ajoutez cette ligne à la 
zone Expression filtre :

`$F{organisation_unit_is_parent}.equals("Yes")`

Ce n'est donc pas nécessaire dans notre exemple, puisque nous n'avons qu'une unité 
d'organisation. Ensuite, cliquez sur l'onglet "Détails" pour visualiser la liste des séries dans 
le tableau. Pour l'instant, cette liste est vide, mais nous allons ajouter une série pour 
chacun de nos trois indicateurs. Pour ajouter une série, cliquez sur le bouton 
Ajouter.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_66.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_67.jpg)

Dans la fenêtre qui s'affiche, entrez le nom du premier des 
indicateurs dans la fenêtre d'expression de la série. N'oubliez pas de mettre le nom entre 
guillemets. Dans l'expression de catégorie (sur l'axe des x), nous voulons les 
mois ; nous utilisons donc le bouton à côté du champ pour ouvrir l'éditeur 
d'expression et ajouter le 
nom de la période.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_69.jpg)

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_68.jpg)

Dans l'expression des valeurs, nous ajoutons les valeurs réelles des données pour notre premier 
indicateur. Pour ce faire, utilisez à nouveau l'éditeur d'expression. Lorsque nous avons 
terminé, la fenêtre doit ressembler à celle ci-dessous, mais avec des noms 
différents selon 
l'indicateur.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_70.jpg)

Vous pouvez ensuite cliquer sur OK pour fermer la fenêtre. Suivez les mêmes étapes pour ajouter 
une série pour les autres 
indicateurs.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_71.jpg)

Fermez la fenêtre, et les données du graphique linéaire devraient être prêtes. 
Cependant, quelques ajustements supplémentaires peuvent être nécessaires - la plupart d'entre eux peuvent 
être trouvés dans le panneau des propriétés du graphique linéaire. Par exemple, lors de la création 
d'un graphique mois par mois, comme nous l'avons fait dans l'exemple, il n'y a souvent pas assez 
d'espace pour les noms des mois le long de l'axe des catégories. Ce problème peut être résolu en 
faisant pivoter les étiquettes de -40 degrés par exemple, en utilisant la propriété 
Rotation des étiquettes de l'axe des 
catégories.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_72.jpg)

De nombreuses autres options sont disponibles pour donner au tableau l'aspect 
souhaité.

![](resources/images/dhis2_creating_reporting/ireportadv/irep_screen_73.jpg)

## Ajout de rapport au DHIS2 { #adding-the-report-to-dhis2 } 

Nous pouvons maintenant passer au système DHIS2 et importer notre rapport. Allez dans le 
Module de rapport de DHIS2, et sélectionnez "Rapport standard". Dans l'écran "Rapport standard", 
cliquez sur "Ajouter nouveau", ou modifiez un rapport existant.

Dans l'écran suivant, il y a plusieurs actions que nous devons effectuer. 
Premièrement, entrez un nom pour le nouveau "Rapport standard". Ensuite, pour la conception, 
cliquez sur "Choisir un fichier" et trouvez le fichier .jrxml- que vous avez édité dans iReport. 
Sélectionnons ensuite le tableau de rapport que nous avons utilisé comme base pour le rapport 
dans iReport. Cliquez sur "Ajouter", et il devrait se retrouver dans la zone "Tableaux de rapport 
sélectionnés". Enfin, cliquez sur 
Enregistrer.


![](resources/images/dhis2_creating_reporting/ireport/27_new_std_report.jpg)

Le rapport est désormais disponible sous forme de "Rapport standard" dans le système DHIS2 :

![](resources/images/dhis2_creating_reporting/ireport/28_done.jpg)

## Quelques orientations finales { #some-final-guidelines } 

  - Utilisez la même version d'iReport et la version de DHIS2 des 
    rapports Jasper. Voir la page À propos de DHIS2 pour connaître la version de Jasper utilisée.

  - Utilisez des tableaux de rapports avec des dimensions de tableaux croisés comme source de données pour 
    la conception de vos rapports. Il sera ainsi beaucoup plus facile de concevoir 
    des rapports dans lesquels vous devez placer des indicateurs, des périodes ou des unités d'organisation 
    spécifiques dans les colonnes.

  - Apprenez des autres, il existe de nombreux modèles de rapports DHIS2 pour Jasper sur 
    launchpad, voir 
    http://bazaar.launchpad.net/~DHIS2-devs-core/DHIS2/trunk/files/head:/resources/



## Conception de rapports standard basés sur SQL { #designing-sql-based-standard-reports } 

Un rapport standard peut être basé sur des requêtes SQL. Cela est utile lorsque vous 
devez accéder à plusieurs tables dans la base de données DHIS2 et faire des sélections 
et des jointures personnalisées.

\- Cette étape est facultative, mais pratique lorsque vous devez déboguer vos rapports 
et que vous avez un accès direct à la base de données que vous souhaitez utiliser. Cliquez 
sur le bouton "sources de données des rapports", "Nouveau", "Connexion à la base de données JDBC" 
et cliquez sur "Suivant". Dans cette fenêtre, vous pouvez donner un nom à votre connexion 
et sélectionner le pilote JDBC. PostgreSQL et MySQL devraient être inclus dans 
votre iReport. Saisissez ensuite l'URL de la connexion JDBC, le nom d'utilisateur et le mot de passe. 
Les trois derniers font référence à votre base de données et peuvent être récupérés dans votre 
fichier de configuration DHIS2 (hibernate.properties). Cliquez sur "enregistrer". Vous avez 
maintenant connecté iReport à votre base de données.

\- Allez à Rapports standard et cliquez sur "ajouter nouveau", puis "obtenir un modèle de 
rapport". Ouvrez ce modèle dans iReport. Ce modèle contient une 
série de paramètres de rapport qui peuvent être utilisés pour créer des instructions SQL 
dynamiques. Ces paramètres seront substitués en fonction des paramètres de rapport 
que nous sélectionnerons et inclurons plus tard dans le rapport 
standard. Ces paramètres sont les suivants :

  - périodes - chaîne constituée d'identifiants séparés par des virgules des 
    périodes relatives

  - nom\_de période - nom de la période de déclaration

  - unitésd'organisation - identifiant des unités d'organisation sélectionnées

  - nom\_d'unité d'organisation - nom de l'unité d'organisation déclarante

  - niveau\_d'unité d'organisation - niveau de l'unité d'organisation déclarante

  - niveau\_d'unité d'organisation\_colonne - nom de la colonne correspondante 
    dans la table de ressources \_structure d'unité d'organisation

Ces paramètres peuvent être inclus dans des instructions SQL en utilisant la 
syntaxe `$P\!{périodes}`, où "périodes" représente le paramètre.

\- Pour créer une requête SQL dans iReport, cliquez sur le bouton "requête de rapport". 
Ecrivez ou collez votre requête dans la zone de texte. Voici donc un exemple de requête SQL utilisant 
des paramètres qui permettront de créer un rapport affichant des valeurs de données brutes au 
quatrième niveau de la hiérarchie des unités d'organisation :
```
    select district.name as district, chiefdom.name as chiefdom, ou.name as facility,
    bcg.value as bcg, yellowfever.value as yellowfever, measles.value as  measles
    from organisationunit ou
    left outer join _orgunitstructure ous
      on (ou.organisationunitid=ous.organisationunitid)
    left outer join organisationunit district
      on (ous.idlevel2=district.organisationunitid)
    left outer join organisationunit chiefdom
      on (ous.idlevel3=chiefdom.organisationunitid)
    left outer join (
      select sourceid, sum(cast(value as double precision)) as value
      from datavalue
      where dataelementid=359706
      and periodid=$P!{periods}
      group by sourceid) as bcg on bcg.sourceid=ou.organisationunitid
    left outer join (
      select sourceid, sum(cast(value as double precision)) as value
      from datavalue
      where dataelementid=35
      and periodid=$P!{periods}
      group by sourceid) as yellowfever on yellowfever.sourceid=ou.organisationunitid
    where ous.level=4
    and ous.$P!{organisationunit_level_column}=$P!{organisationunits}
    order by district.name, chiefdom.name, ou.name;
```
Remarquez la façon dont tous les paramètres sont utilisés dans la requête, ainsi que les jointures SQL des 
tables de ressources dans la base de données de DHIS2.

\- Enfin, de retour dans l'écran d'ajout de nouveau rapport, nous cliquons sur "Utiliser la 
source de données JDBC". Cela vous permet de sélectionner n'importe quelle période relative et 
les paramètres de votre rapport. Les périodes relatives sont relatives à la date du 
jour. Les paramètres du rapport provoquent une invite lors de la création du rapport et 
permettent de sélectionner dynamiquement les unités d'organisation et les périodes à 
utiliser pour votre rapport pendant l'exécution. Pour l'exemple ci-dessus, nous devons 
sélectionner "mois de référence" sous les périodes relatives et à la fois "mois de 
référence" et "unité d'organisation" sous les paramètres du rapport. Cliquez sur "Sauvegarder". Vous 
serez alors redirigé vers la liste des rapports, où vous pourrez cliquer sur l'icône verte 
"créer" à côté de votre rapport pour le rendre.

## Conception de rapports standard basés sur HTML { #designing-html-based-standard-reports } 

Un rapport standard peut être conçu en utilisant uniquement HTML et JavaScript. Cela 
nécessite un peu d'expérience en matière de développement dans les domaines 
mentionnés. L'avantage des rapports standard basés sur HTML est qu'ils offrent un 
maximum de flexibilité. En utilisant HTML, vous pouvez concevoir exactement le rapport 
que vous souhaitez, en positionnant les tableaux, les logos et les valeurs sur la page selon 
vos besoins de conception. Vous pouvez écrire et enregistrer votre rapport standard dans 
un fichier texte ordinaire. Pour télécharger votre rapport standard HTML dans le système DHIS2, 
procédez comme suit :

  - Naviguez jusqu'aux rapports standard et cliquez sur "Ajouter nouveau".

  - Donnez un nom au rapport.

  - Sélectionnez "Rapport HTML" comme type.

  - Si vous le souhaitez, vous pouvez télécharger un modèle de rapport en cliquant sur 
    "Obtenir le modèle de rapport HTML".

  - Sélectionnez les périodes relatives souhaitées - elles seront disponibles en 
    JavaScript dans votre rapport.

  - Sélectionnez les paramètres du rapport - ils seront disponibles en JavaScript dans 
    votre rapport.

Le modèle de rapport, que vous pouvez télécharger après avoir sélectionné le type de rapport, 
constitue un point de départ utile pour l'élaboration de rapports standard basés sur HTML. 
Il vous donne la structure de base et vous suggère comment utiliser JavaScript 
et CSS dans le rapport. JavaScript et CSS peuvent facilement être inclus en utilisant 
des balises de script et de style standard.

Si vous avez sélectionné des périodes relatives lors de la création du rapport standard, vous 
pouvez y accéder en JavaScript sous cette forme :

    var périodes = dhis2.report.periods; // Un tableau contenant des identificateurs de périodes
    var période = périodes[0];

Si vous avez sélectionné le paramètre de rapport d'unité d'organisation lors de la création 
du rapport standard, vous pouvez accéder à l'unité d'organisation sélectionnée en 
JavaScript comme ceci :

    var orgUnit = dhis2.report.organisationUnit; // Un objet
    var id = id.orgUnit ;
    var nom = nom.orgUnit ;
    var code = code.orgUnit ;

Lors de la conception de ces rapports, vous pouvez utiliser la ressource Web API 
d'analyse afin de récupérer des données agrégées en JavaScript. Consultez 
le chapitre sur l'API Web de ce guide pour une description plus détaillée. A titre 
d'exemple, vous pouvez récupérer des données analytiques après le 
chargement du rapport et utiliser ces données pour définir le texte interne d'un 
élément HTML comme celui-ci :

    <script type="text/javascript">
    $( document ).ready( function() {
        $.get( "../api/analytics?dimension=dx:FnYCr2EAzWS;eTDtyyaSA7f&dimension=pe:THIS_YEAR&filter=ou:ImspTQPwCqd", function( json ) {
            $( "#bcg" ).html( json.rows[0][2] );
            $( "#fic" ).html( json.rows[1][2] );
        } );
    } );
    </script>

    <div>Couverture par le BGG : <span id="bcg"></span></div>
    <div>Couverture vaccinale : <span id="fic"></span></div>

Quelques conseils supplémentaires : Pour inclure des graphiques, vous pouvez convertir une image au format SVG 
et intégrer ce contenu SVG directement dans le rapport - DHIS2 est basé sur 
HTML 5 où les balises SVG sont un balisage valide. Pour inclure des graphiques et des cartes dans 
votre rapport, vous pouvez utiliser les ressources graphiques et cartographiques de l'API Web. 
Vous pouvez utiliser toutes les possibilités de l'API Web à partir de JavaScript dans 
votre rapport - il serait important de lire le chapitre sur l'API Web pour avoir un 
aperçu de toutes les ressources disponibles.



# Paramètres du système { #settings } 

## Paramètres généraux { #system_general_settings } 



Tableau : Paramètres généraux

| Paramètre | Description |
|---|--|
| **Stratégie de mise en cache** | Décide de la durée de mise en cache des rapports d'analyse. <br><br>Si vous utilisez la mise à jour programmée et nocturne des analyses, vous pouvez sélectionner **Mettre en cache jusqu'à 6 heures du matin le lendemain**. En effet, les données des rapports changent à ce moment-là et vous pouvez mettre en cache les données en toute sécurité jusqu'au moment où les tables d'analyse sont mises à jour. <br><br>Si vous chargez des données en continu dans les tables d'analyse, sélectionnez **Pas de cache**. <br><br>Dans les autres cas, sélectionnez la durée pendant laquelle vous souhaitez que les données soient mises en cache. |
| **Indicateurs d'infrastructure** | Définit un groupe d'indicateurs dont les indicateurs membres doivent décrire les données relatives à l'infrastructure des unités d'organisation. <br><br>Vous pouvez visualiser les données d'infrastructure dans l'application **SIG** : cliquez avec le bouton droit de la souris sur une installation et cliquez sur **Afficher les informations**. |
| **Éléments de données infrastructurelles** | Définit un groupe d'éléments de données dont les éléments de données associés doivent décrire les données relatives à l'infrastructure des unités d'organisation. <br><br>Les éléments de données d'infrastructure peuvent être la population, les médecins, les lits, la couverture Internet et le climat. <br><br>Vous pouvez visualiser les données d'infrastructure dans l'application **GIS** : cliquez avec le bouton droit de la souris sur un élément et cliquez sur **Afficher les informations**. |
| **Type de période infrastructurelle** | Définit la fréquence à laquelle les éléments de données du groupe d'éléments de données sur les infrastructures sont saisis. <br><br>En général, il sera question d'une périodicité annuelle. Lorsque vous visualisez les données d'infrastructure, vous pouvez sélectionner la période de la source de données. <br><br>Vous pouvez visualiser les données d'infrastructure dans l'application **GIS** : cliquez avec le bouton droit de la souris sur une entité et cliquez sur **Afficher les informations**. |
| **Période d'analyse relative par défaut ** | Le réglage de cette valeur déterminera la période relative sélectionnée par défaut dans les applications d'analyse. |
| **Destinataires du feedback** | Définit un groupe d'utilisateurs dont les membres recevront tous les messages envoyés via la fonction feedback de l'application **Tableau de bord**. <br><br>Il s'agit généralement de membres de l'équipe de super-utilisateurs qui sont en mesure d'apporter une assistance et de répondre aux questions des utilisateurs finaux. |
| **Destinataires de la notification de mise à jour du système** | Définit un groupe d'utilisateurs dont les membres recevront des messages sur les nouvelles mises à jour du système disponibles au téléchargement. Les destinataires ne recevront le message qu'une seule fois pour chaque nouvelle version corrigée de l'installation du DHIS2. Si aucun groupe d'utilisateurs n'est défini, le système envoie par défaut le message à tous les utilisateurs ayant le pouvoir ALL.                                                                                                                                                                             |
| **Niveaux maximums des unités d'organisation hors ligne** | Définit le nombre de niveaux dans la hiérarchie de l'unité d'organisation qui seront disponibles hors ligne dans le widget de l'arborescence de l'unité d'organisation. <br><br>Dans des circonstances normales, vous pouvez laisser ce paramètre au niveau le plus bas, qui est le paramètre par défaut. <br><br>Il peut être utile de le régler à un niveau plus élevé pour réduire le temps de chargement initial dans les cas où vous avez un grand nombre d'unités d'organisation, en général plus de 30 000. |
| **Analyse des données facteur des écarts-type** | Définit le nombre des écart-types utilisées dans l'analyse des valeurs aberrantes effectuée sur les données saisies dans l'application **Saisie de données**. <br><br>La valeur par défaut est 2. Une valeur élevée permet de détecter moins de valeurs aberrantes qu'une valeur faible. |
| **Indicatif local du numéro de téléphone** | L'indicatif de la localité de votre déploiement.<br><br> Utilisé pour l'envoi et la réception de SMS. Il s'agit généralement de l'indicatif d'un pays. <br><br>*+260* (indicatif de la Zambie) |
| **Autoriser les formulaires de plusieurs unités d'organisation** | Permet de saisir des formulaires de données pour plusieurs unités d'organisation simultanément dans l'application **Saisie de données**. <br><br>Si vous avez activé ce paramètre, vous pouvez, dans l'application **Saisie de données**, cliquer sur l'unité d'organisation parente des enfants pour lesquels vous souhaitez saisir des données, et la liste des ensembles de données comprendra les ensembles de données attribués aux enfants de ce parent. |
| **L'acceptation est requise avant la validation** | Lorsque ce paramètre est sélectionné, les données doivent d'abord être acceptés avant de pouvoir être soumis au niveau de validation suivant. |
| **Recueillir des statistiques analytiques sur les objets dans les tableaux de bord** | Recueillir les données d'analyse de l'utilisation lorsque des objets analytiques (par exemple, les cartes, les graphiques, etc.) sont sur un tableau de bord. Sans ce paramètre, les données analytiques sur les objets ne sont collectées que lorsque les objets sont visualisés hors du tableau de bord. |
| **Inclure les vues du tableau de bord passif dans les statistiques d'analyse utilisées** | Recueillir des données d'analyse d'utilisation sur le premier tableau de bord affiché lors du lancement de l'application Tableau de bord (sinon, seules les sélections explicites de tableaux de bord sont prises en compte). |

## Paramètres d'analyse { #system_analytics_settings } 



Tableau : Paramètres d'analyse

| Paramètre | Description |
|---|---|
| **Période d'analyse relative par défaut ** | Définit la période relative à utiliser par défaut dans les applications d'analyse : **Visualisateur de données**, **Rapports d'événements**, **Visualisateur d'événements**, **SIG** et **Tableau croisé dynamique**. La période relative sera automatiquement sélectionnée lorsque vous ouvrirez ces applications.<br><br> Paramètre recommandé : la période relative la plus fréquemment utilisée par vos utilisateurs. |
| **Propriété à afficher dans les modules d'analyse** | Définit si vous souhaitez afficher les noms ou les diminutions de noms des objets de métadonnées dans les applications d'analyse : **Visualiseur de données**, **Rapports d'événements**, **Visualiseur d'événements**, **SIG** et **Tableau croisé dynamique**. <br><br>L'utilisateur peut remplacer ce paramètre dans l'application **Paramètres** : **Paramètres utilisateur** \> **Propriété à afficher dans les modules d'analyse**. |
| **Séparateur de groupes de chiffres par défaut à afficher dans les modules d'analyse** | Définit le séparateur de groupe de chiffres par défaut dans les applications d'analyse : **Visualisateur de données**, **Rapports d'événements**, **Visualisateur d'événements**, **SIG** et **Tableau croisé dynamique**.
 |
| **Masquer les périodes journalières** | Masquer les périodes journalières dans les outils d'analyse |
| **Masquer les périodes hebdomadaires** | Masquer les périodes hebdomadaires dans les outils d'analyse |
| **Masquer les périodes mensuelles** | Masquer les périodes mensuelles dans les outils d'analyse |
| **Masquer les périodes bimensuelles** | Masquer les périodes bimensuelles dans les outils d'analyse |
| **Mois de début relatif de l'année fiscale** | Définit à partir de quel mois (avril, juillet ou octobre) doit commencer l'exercice financier relatif dans les applications analytiques. |
| **Mise en cache** | Définit si les réponses aux données analytiques doivent être servies avec une visibilité publique ou privée. <br><br>**Privé** : Tout nœud ou serveur entre le serveur DHIS2 et l'utilisateur final qui a la capacité de mettre en cache ne peut PAS mettre en cache la page web. Ceci est utile si la page servie peut contenir ou contient des informations sensibles. Cela signifie qu'à chaque fois que vous voulez une page web, soit vous obtenez une nouvelle page du serveur DHIS2, soit le serveur DHIS2 met la page en cache. Aucun autre serveur que le serveur DHIS2 n'est autorisé à mettre la page en cache. <br><br>**Public** : Tout nœud ou serveur entre le serveur DHIS2 et l'utilisateur final qui a la capacité de mettre en cache peut mettre la page web en cache. Cela allège le trafic vers le serveur DHIS2 et accélère potentiellement la vitesse de chargement de la page subséquente. |
| **Mode de cache analytique** | Prend en charge deux modes différents : <br><br>**Progressif** : il s'agit de la nouvelle fonction de mise en cache progressive pour les analyses. Lorsqu'elle est activée, elle REMPLACE la stratégie globale de mise en cache pour les demandes d'analyse. Ce mode déclenche la mise en cache du HTTP et de la couche de données pour toutes les demandes d'analyse. Lorsque ce mode est activé, le *facteur de mise en cache* est OBLIGATOIRE. <br><br>**Fixe** : les requêtes seront mises en cache sur la base de la période définie dans la *stratégie de mise en cache*. |
| **Facteur de mise en cache** | Sélectionnez une valeur pour le facteur de mise en cache. Ce champ n'est disponible que lorsque le mode de cache analytique est réglé sur *progressif*. <br><br>Il affiche une liste de nombres entiers où chaque nombre représente un facteur de mise en cache absolu. Cet nombre entier sera utilisé en interne pour calculer le délai d'expiration final de chaque requête analytique. Plus le facteur de mise en cache est élevé, plus la requête restera longtemps en cache. |
| **Nombre maximal d'années pour masquer les données non approuvées dans les analyses** | Définit si l'analyse doit respecter le niveau d'approbation des données et pour combien de temps. En règle générale, les données datant de plusieurs années sont considérées comme approuvées par défaut. Afin d'accélérer les demandes d'analyse, vous pouvez choisir d'ignorer le niveau d'approbation réel des données historiques. <br><br>**Ne jamais vérifier l'approbation** : aucune donnée ne sera masquée, quel que soit son statut d'approbation.<br><br> **Vérifier l'approbation pour toutes les données** : le statut d'approbation sera toujours vérifié. <br><br>D'autres options, par exemple **Dernières 3 années** : le statut d'approbation sera vérifié pour les données datant de moins de 3 ans ; les données plus anciennes ne seront pas vérifiées. |
| **Seuil pour la mise en cache des données analytiques** | Permet de définir si la mise en cache des données antérieures en fonction du nombre d'années spécifié doit être activée.<br><br> Cela permet de renvoyer directement les données les plus récentes sans mise en cache, tout en servant une version de mise en cache des données plus anciennes pour des raisons de performance. |
| **Respecter les dates de début et de fin des options de catégorie dans l'exportation des tableaux d'analyse** | Ce paramètre détermine si les analyses doivent filtrer les données qui sont associées à une option de catégorie avec une date de début et de fin, mais qui ne sont pas associées à une période comprise dans l'intervalle de validité des options de catégorie. |
| **Permettre aux utilisateurs de changer le type d'affichage favori du tableau de bord** | Permet aux utilisateurs de changer l'affichage des favoris du tableau de bord entre les graphiques, les tableaux croisés dynamiques et les cartes, à l'aide du menu des éléments du tableau de bord. |
| **Permettre aux utilisateurs d'ouvrir le tableau de bord favori dans l'application concernée** | Permet aux utilisateurs d'ouvrir les éléments du tableau de bord dans l'application pour ce type d'élément, en utilisant le menu de l'élément du tableau de bord. |
| **Permettre aux utilisateurs d'afficher les interprétations et les détails favoris du tableau de bord** | Permet aux utilisateurs de voir les interprétations et les détails favoris du tableau de bord, en utilisant le menu des éléments du tableau de bord. |
| **Permettre aux utilisateurs de visualiser les favoris du tableau de bord en plein écran** | Permet aux utilisateurs de visualiser les favoris du tableau de bord en plein écran, en utilisant le menu des éléments du tableau de bord. |
| **Carte de base par défaut** | Sélectionnez la carte de base qui sera sélectionnée par défaut dans l'application **Cartes**. Si aucune valeur n'est sélectionnée, **OSM Light** sera utilisé.|

## Paramètres du serveur { #system_server_settings } 



Tableau : Paramètres du serveur

| Paramètre | Description |
|---|---|
| **Nombre d'unités centrales du serveur de base de données** | Définit le nombre de noyaux de CPU de votre serveur de base de données. <br><br>Cela permet au système de fonctionner de manière optimale lorsque la base de données est hébergée sur un serveur différent du serveur d'application, puisque l'analyse dans le DHIS2 évolue de manière linéaire avec le nombre de noyaux disponibles. |
| **Système de notification de l'adresse électronique** | Définit l'adresse électronique qui recevra les notifications du système. <br><br>Les notifications concernant les échecs de processus tels que la génération de tables d'analyse seront envoyées à cette adresse. Ceci est utile pour la surveillance des applications. |
| **Clef des analyses de Google (" Analyse Universelle ")** | Définit la clé Google UA pour fournir des analyses d'utilisation pour votre instance DHIS2 via la plateforme Google Analytics. Il convient de noter qu'à l'heure actuelle, toutes les applications de DHIS2 ne prennent pas en charge Google Analytics, de sorte que certaines activités de vos utilisateurs peuvent ne pas apparaître dans cette plateforme. <br><br>Pour en savoir plus sur Google Analytics, consultez le site [google.com/analytics] (https://google.com/analytics). |
| **Clé API de Google Maps** | Définit la clé API pour l'API Google Maps. Cette clé est utilisée pour afficher les cartes dans le DHIS2. |
| **Clé de l'API de Bing Maps** | Définit la clé API pour l'API Bing Maps. Elle est utilisée pour afficher les cartes dans le DHIS2. |

Tableau : Paramètres des limites

| Paramètre | Description |
|---|---|
| **Nombre maximum d'enregistrements des analyses** | Augmentez ce nombre pour qu'il y ait plus d'enregistrements des analyses. <br><br>La valeur par défaut est de 50 000. <br><br>**Avertissement** <br><br>Utilisez le paramètre **illimité** avec précaution, car il peut entraîner une surcharge de votre serveur. |
| **Nombre maximum d'enregistrements de vues SQL** | Définit le nombre maximum d'enregistrements dans une vue SQL.<br><br> La valeur par défaut est Illimité. |
| **Nombre maximal d'instances d'entités suivies pouvant être extraites de la base de données** | Définit la limite maximale d'enregistrements d'instances d'entités suivies qui peuvent être extraits de la base de données. Si l'utilisateur ne fournit aucune valeur, la valeur par défaut de 50 000 sera utilisée. <br>Le réglage de cette valeur sur 0 ou sur un nombre entier négatif désactivera ce paramètre.<br> **Avertissement**<br>La désactivation de ce paramètre peut entraîner une charge élevée sur le serveur.|



## Paramètres d'apparence { #system_appearance_settings } 



Tableau : Paramètres d'apparence

| Paramètre | Description |
|---|---|
| **Choisir une langue** | Définit la langue pour laquelle vous pouvez ensuite entrer les traductions des paramètres suivants : <br>***Introduction de l'application**<br> ***Titre de l'application** <br>* **Notification de l'application** <br>* **Pied de page gauche de l'application** <br>* **Pied de page droit de l'application**<br>**Remarque**<br> Avant que chacun de ces paramètres puisse accepter une valeur traduite, ils doivent d'abord avoir une valeur par défaut/de récupération. Cette valeur peut être définie en sélectionnant *Système par défaut (récupération)\* dans cette liste déroulante. |
| **Titre de  l'application** | Définit le titre de l'application dans le menu supérieur. |
| **Présentation de l'application** | Définit une présentation du système qui sera visible dans la partie supérieure gauche de la page de connexion. |
| **Notification de l'application** | Définit une notification qui sera visible sur la page d'accueil sous la zone de connexion. |
| **Pied de page gauche de l'application** | Définit un texte dans le pied de page gauche de la page de connexion. |
| **Pied de page droit de l'application** | Définit un texte dans la partie droite du pied de page de la page de connexion. |
| **Style** | Définit le style (l'apparence) du système. <br><br>L'utilisateur peut modifier ce paramètre dans l'application **Paramètres** : **Paramètres utilisateur** \> **Style**. <br><br>**Remarque** <br><br>Pour des raisons techniques, il n'est pas possible de modifier la couleur de la version la plus récente de la barre d'en-tête. Les applications qui ont la barre d'en-tête la plus récente conserveront la barre d'en-tête bleue. |
| **Page de démarrage** | Définit la page ou l'application vers laquelle l'utilisateur sera redirigé après s'être connecté. <br><br>Paramètre recommandé : l'application **Tableau de bord**. |
| **Activer la page d'accueil simplifiée** | Demande aux applications d'afficher une page de démarrage simple et rapide. Recommandé dans les environnements à faible densité de bande passante. |
| **Lien de la page d'aide** | Définit l'URL que les utilisateurs verront lorsqu'ils cliqueront sur **Profil** \>**Aide**. |
| **Drapeau** | Définit le drapeau qui est affiché dans le menu à gauche de l'application **Tableau de bord**. |
| **Langue de l'interface** | Définit la langue utilisée dans l'interface utilisateur. <br><br>L'utilisateur peut modifier ce paramètre dans l'application **Paramètres** : **Paramètres utilisateur** \> **Langue de l'interface**. |
| **Langue de la base de données** | Définit la langue utilisée dans la base de données. <br><br>L'utilisateur peut modifier ce paramètre dans l'application **Paramètres** : **Paramètres utilisateur** \> **Langue de la base de données**. |
| **Autorisation requise pour ajout aux listes d'objets à visualiser** | Si vous sélectionnez cette option, vous masquerez les éléments du menu et de la page d'index ainsi que les liens vers les listes d'objets si l'utilisateur actuel n'a pas le droit de créer ce type d'objets (en privé ou en public). |
| **Logo personnalisé de la page de connexion** | Sélectionnez cette option et téléchargez une image à ajouter à la page de connexion. |
| **Logo personnalisé pour le menu principal** | Sélectionnez cette option et téléchargez une image pour ajouter votre logo à gauche dans le menu supérieur. |

## Paramètres de messagerie { #system_email_settings } 



Tableau : Paramètres de l'e-mail

| Paramètre | Description |
|---|---|
| **Nom de l'hôte** | Définit le nom d'hôte du serveur SMTP.<br><br> Lorsque vous utilisez les services SMTP de Google, le nom d'hôte doit être *smtp.gmail.com*. |
| **Portail** | Définit le portail de connexion au serveur SMTP. |
| **Nom d'utilisateur** | Le nom d'utilisateur du compte d'utilisateur sur le serveur SMTP. <br><br>mail@dhis2.org |
| **Mot de passe** | Le mot de passe du compte utilisateur du serveur SMTP. |
| **TLS** | Sélectionnez cette option si le serveur SMPT nécessite un protocole TLS pour les connexions. |
| **Expéditeur d'e-mail** | L'adresse électronique à utiliser comme expéditeur lors de l'envoi de courriels. |
| **Envoyez-moi un courriel d'essai** | Envoie un courriel d'essai à l'utilisateur actuel connecté à DHIS2. |

## Paramètres d'accès { #system_access_settings } 



Tableau : Paramètres d'accès

| Paramètre | Description |
|---|---|
| **Rôle de l'utilisateur d'un compte d'auto-enregistrement** | Définit le rôle d'utilisateur qui doit être attribué aux comptes d'utilisateurs auto-enregistrés. <br><br>Pour permettre l'auto-enregistrement des utilisateurs : sélectionnez un rôle d'utilisateur dans la liste. Un lien vers le formulaire d'auto-enregistrement sera affiché sur la page de connexion.<br><br> **Remarque**<br><br> Pour activer l'auto-enregistrement, vous devez également sélectionner une **unité d'organisation de compte d'auto-enregistrement**.<br><br> Pour désactiver l'auto-enregistrement des utilisateurs : sélectionnez **Désactiver l'auto-enregistrement**. |
| **Unité d'organisation du compte d'auto-enregistrement** | Définit l'unité d'organisation qui doit être associée aux utilisateurs auto-enregistrés. <br><br>**Remarque** <br><br>Pour activer l'auto-enregistrement, vous devez également sélectionner un **rôle d'utilisateur du compte d'auto-enregistrement**. |
| **Ne pas exiger un reCAPTCHA pour l'auto-enregistrement** | Définit si vous souhaitez utiliser reCAPTCHA pour l'auto-enregistrement des utilisateurs. Cette option est activée par défaut. |
| **Activer la récupération des comptes d'utilisateurs** | Définit si les utilisateurs peuvent restaurer leurs propres mots de passe. <br><br>Lorsque ce paramètre est activé, un lien vers le formulaire de récupération de compte est affiché sur la page d'accueil.<br><br> **Remarque** <br><br>La récupération des comptes d'utilisateurs nécessite que vous ayez configuré les paramètres d'e-mail (SMTP). |
| **Bloquer temporairement le compte de l'utilisateur après plusieurs tentatives d'échec de connexion ** | Définit si le système doit verrouiller les comptes d'utilisateurs après cinq échecs de connexion successifs sur une période de 15 minutes. <br><br>Le compte sera verrouillé pendant 15 minutes, puis l'utilisateur pourra tenter de se connecter à nouveau. |
| **Autoriser les utilisateurs à s'attribuer leurs propres rôles** | Définit si les utilisateurs peuvent accorder à d'autres les rôles d'utilisateur qu'ils ont eux-mêmes créés lors de la création de nouveaux utilisateurs. |
| **Autoriser l'affectation d'un objet à des objets apparentés lors d'un ajout ou d'une mise à jour** | Définit si les utilisateurs doivent être autorisés à attribuer un objet à un objet connexe lorsqu'ils créent ou modifient des objets de métadonnées.<br><br> Vous pouvez autoriser les utilisateurs à attribuer une unité d'organisation à des ensembles de données et à des ensembles de groupes d'unités d'organisation lors de la création ou de la modification de l'unité d'organisation. |
| **Demande de modification du mot de passe du compte utilisateur** | Définit si les utilisateurs doivent être obligés de modifier leur mot de passe tous les 3, 6 ou 12 mois. <br><br>Si vous ne voulez pas obliger les utilisateurs à changer de mot de passe, sélectionnez **Jamais**. |
| **Activer les alertes d'expiration de mot de passe** | Lorsque cette option est activée, les utilisateurs reçoivent une notification lorsque leur mot de passe est sur le point d'expirer. |
| **Caractères minimum pour un mot de passe** | Définit le nombre minimum de caractères que doivent contenir les mots de passe des utilisateurs. <br><br>Vous pouvez sélectionner 8 (valeur par défaut), 10, 12 ou 14. |
| **Liste blanche du CORS** | La liste blanche contient un ensemble d'URL qui peuvent accéder à l'API DHIS2 à partir d'un autre domaine. Chaque URL doit être saisie sur des lignes séparées. Le partage des ressources d'origine croisé (CORS) est un mécanisme qui permet à des ressources restreintes (par exemple des fichiers javascript) sur une page web d'être demandées à partir d'un autre domaine en dehors du domaine à partir duquel la première ressource a été fournie. |

## Paramètres du calendrier { #system_calendar_settings } 



Tableau : Paramètres du calendrier

| Paramètre | Description |
|---|---|
| **Calendrier** | Définit le calendrier qui sera utilisé par le système. <br><br>Le système prend en charge les calendriers suivants : Copte, éthiopien, grégorien, islamique (Hijri lunaire), ISO 8601, julien, népalais, persan (Hijri solaire) et thaïlandais. <br><br>C'est un paramètre valable pour l'ensemble du système. Il n'est pas possible d'avoir plusieurs calendriers dans une seule instance de DHIS2. <br><br> [Pour plus d'informations sur la différence entre le grégorien et l'ISO 8601, cliquez ici.] (https://en.wikipedia.org/wiki/ISO_8601#Week_dates)</a> |
| **Format de la date** | Définit le format de date à utiliser par le système. |

## Paramètres d'importation des données { #system_data_import_settings } 

Les paramètres d'importation de données s'appliquent aux contrôles supplémentaires pouvant être activés afin de valider les données agrégées importées via l'API web. Ils fournissent des contraintes optionnelles sur ce qui doit être considéré comme problématique lors de l'importation. Les contraintes sont appliquées à chaque valeur de données individuelles dans l'importation.



Tableau : Paramètres d'importation de données

| Paramètre | Description |
|---|---|
| **Nécessite que les périodes  correspondent au type de période de l'ensemble de données** | Nécessite que la période de la valeur des données soit du même type que les ensembles de données auxquels l'élément de la valeur des données est attribué. |
| **Nécessite que les éléments de données fassent partie de l'ensemble de données** | Nécessite que l'élément de données d'une valeur de données soit attribué à un ensemble de données. Si un ensemble de données spécifique est spécifié lors de l'importation, le système vérifiera que les valeurs de données sont associées à l'ensemble de données spécifié. |
| **Nécessite que les combinaisons d'options de catégorie correspondent à la combinaison de catégories de l'élément de données** | Exiger que la combinaison d'options de catégorie de la valeur de données fasse partie de la combinaison de catégories de l'élément de la valeur de données. |
| **Nécessite que les unités d'organisation  correspondent à la répartition de l'ensemble des données** | Exiger que l'unité d'organisation de la valeur des données soit affectée à un ou plusieurs ensembles de données auxquels l'élément de données de la valeur des données est affecté. |
| **Nécessite que les combinaisons d'options d'attributs  correspondent aux combinaisons de catégories de l'ensemble de données** | Exiger que la combinaison d'options d'attributs de la valeur des données fasse partie de la combinaison de catégories de l'ensemble de données auquel l'élément de données de la valeur des données est affecté. |
| **Nécessite la spécification de la combinaison d'options de la catégorie** | Requiert la spécification d'une combinaison d'options de catégorie pour la valeur des données.<br><br> Par défaut, la combinaison d'options de catégorie par défaut sera utilisée si elle n'est pas spécifiée. |
| **Nécessite la spécification d'une combinaison d'attributs et d'options** | Exige que la combinaison d'options d'attributs de la valeur des données soit spécifiée. <br><br>Par défaut, la combinaison d'options d'attributs par défaut sera utilisée si elle n'est pas spécifiée. |

## Paramètres de synchronisation { #synchronization-settings } 

Les paramètres suivants sont utilisés pour la synchronisation des données et des métadonnées.

> **N.B.**
>
> Pour plus de détails sur la manière de configurer la synchronisation des métadonnées, voir [Configurer la synchronisation des métadonnées] >>(https://docs.dhis2.org/master/en/user/html/metadata_sync.html)



Tableau : Paramètres de synchronisation

| Paramètre | Description |
|---|---|
| **L'URL du serveur distant** | Définit l'URL du serveur distant qui exécute DHIS2 pour télécharger les valeurs des données. <br><br>Il est recommandé d'utiliser SSL/HTTPS car le nom d'utilisateur et le mot de passe sont envoyés avec la demande (en utilisant l'authentification de base). <br><br>Le système tentera de synchroniser les données toutes les minutes.<br><br> Le système utilisera également ce paramètre pour la synchronisation des métadonnées. <br><br>**Remarque** <br><br>Pour activer la synchronisation des données et des métadonnées, vous devez également activer les tâches pour la **Synchronisation des données** et la **Synchronisation des métadonnées** dans l'application **Programmateur**. |
| **Nom d'utilisateur du serveur distant** | Le nom d'utilisateur du compte utilisateur DHIS2 sur le serveur distant à utiliser pour la synchronisation des données.<br><br> **Remarque** <br><br>Si vous avez activé le versionnage des métadonnées, vous devez vous assurer que l'utilisateur configuré a l'autorité "F_METADATA_MANAGE". |
| **Mot de passe du serveur distant** | Le mot de passe du compte utilisateur DHIS2 sur le serveur distant. Le mot de passe sera stocké de manière cryptée. |
| **Activer le versioning pour la synchronisation des métadonnées** | Définit s'il faut créer des versions de métadonnées lorsque vous synchronisez des métadonnées entre des instances centrales et locales. |
| **Ne pas synchroniser les métadonnées si les versions du DHIS diffèrent** | Le schéma des métadonnées change entre les versions de DHIS2, ce qui peut rendre incompatibles différentes versions de métadonnées.<br><br> Lorsqu'elle est activée, cette option ne permet pas la synchronisation des métadonnées si l'instance centrale et les instances locales ont des versions différentes de DHIS2. Cela s'applique à la synchronisation des métadonnées effectuée via l'interface utilisateur et l'API. <br><br>La seule fois où il peut être utile de désactiver cette option est lors de la synchronisation d'entités de base, par exemple des éléments de données, qui n'ont pas changé d'une version de DHIS2 à l'autre. |
| **Mode au mieux** | Un type de version de métadonnées qui détermine la manière dont l'importateur de la ou des instance(s) locale(s) va gérer la version de métadonnées.<br><br> *Mode au mieux* signifie que si l'importation de métadonnées rencontre des références manquantes (par exemple des éléments de données manquants dans un groupe d'éléments de données importés), elle ignore les erreurs et continue l'importation. |
| **Atomic** | Un type de version de métadonnées qui détermine la manière dont l'importateur de la/des instance(s) locale(s) va gérer la version de métadonnées.<br><br> *Atomique* signifie tout ou rien - l'importation des métadonnées échouera si l'une des références n'existe pas. |

## Clients OAuth2 { #system_oauth2_settings } 

Vous pouvez créer, modifier et supprimer les clients OAuth2 dans l'application **Paramètres du système**.

1.  Ouvrez les applications **Paramètres du système** et cliquez sur **Clients OAuth2**.

2.  Cliquez sur le bouton Ajouter.

3.  Entrez **Nom**, **Client ID** et **Client secret**.

4.  Sélectionnez **Types d'autorisation**.


    | Type d'autorisation | Description |
    |---|---|
    | **Mot de passe** | À déterminer |
    | **Actualiser le jeton** | À déterminer |
    | **Code d'autorisation** | À déterminer |

5.  Entrez **Rediriger les URI**. Si vous avez plusieurs URI, séparez-les par
    une ligne.

## Notification de mise à jour du système{ #system_update_notification_settings }

Le système enverra par défaut une notification dans la boîte mail sous la catégorie "système" lorsqu'une nouvelle version du correctif sera disponible en téléchargement. Cette notification sera envoyée aux utilisateurs qui ont l'autorité "TOUS", à moins que le groupe d'utilisateurs "Destinataires de la notification de mise à jour du système" ne soit défini dans les "Paramètres généraux".

Il est également possible de désactiver cette fonctionnalité en fixant la variable de configuration "system.update_notifications_enabled" à "off", dans le fichier "dhis.conf".

Sous le capot, il fonctionne en appelant (GET, sans paramètres) le point de terminaison d'une API REST sur un serveur central, tous les jours vers 2 heures du matin.

Voici l'URL : [https://releases.dhis2.org/v1/versions/stable.json](https://releases.dhis2.org/v1/versions/stable.json)



# Utilisation de l'application Data Exchange( Échange de données) { #data_exchange }

## A propos de l'Application Data Exchange { #about_data_exchange }

L'application Data Exchange (échange de données) permet d'échanger des données entre l'instance DHIS 2 dans laquelle l'application est installée et une instance cible du DHIS 2, ou d'autres logiciels capables d'importer le format de l'ensemble des valeurs des données du DHIS 2. Les données peuvent également être échangées au sein d'une instance DHIS 2, par exemple pour l'agrégation de données de suivi et l'enregistrement du résultat en tant que données agrégées.

Pour échanger des données, un ou plusieurs _échanges de données agrégées_ doivent être configurés dans le système. Un échange de données définit les éléments de données, les indicateurs, les périodes et les unités d'organisation pour échanger des données avec l'instance cible. Veuillez consulter la section _Échange de données agrégées_ dans le chapitre _Échange de données_ du guide du développeur pour une explication détaillée.

## Aperçu { #overview_data_exchange }

L'application Data Exchange propose différentes sections :

![](resources/images/data_exchange/data-exchange-overview.png)

1. **Sélection de l'échange de données:** Le menu déroulant de l'échange de données dans la barre supérieure permet de sélectionner l'échange de données.
2. **Aperçu de données:** La section d'aperçu de données affiche les données qui seront échangées avec l'instance cible.
3. **Soumettre les données:** En cliquant sur le bouton **Soumettre les données**, les données définies par l'échange de données sélectionné sont échangées.

## Échange de données { #exchanging_data }

Démarrer l'échange de données :

1. Sélectionnez un échange de données dans le menu déroulant des échanges de données.
2. Prévisualisez les données pour s'assurer de leur exactitude et de leur qualité.
3. Cliquer sur **Soumettre les données**. La boîte de dialogue de confirmation s'affiche.
4. Examinez les paramètres pour lesquels vous souhaitez soumettre des données et cliquez sur **Oui, soumettre**. Vous obtenez alors un récapitulatif de la soumission.
5. Examinez le récapitulatif de la soumission et cliquez sur **Fermer**.

![](resources/images/data_exchange/data-exchange-submit.png)

Le récapitulatif de la soumission indique le résultat, c'est-à-dire si l'opération a été un succès ou un échec, et combien de valeurs de données ont été importées, mises à jour et ignorées dans le cadre de l'échange de données.

![](resources/images/data_exchange/data-exchange-submission-success.png)



# Administration des données { #data_admin }

The data administration module provides a range of functions to ensure
that the data stored in the DHIS2 database is integral and that the
database performance is optimised. These functions should be executed on
a regular basis by a data administrator to ensure that the quality of
the data stored is optimal.

## Intégrité des données { #data_admin_data_integrity }

DHIS2 can perform a wide range of data integrity checks on the data
contained in the database. Identifying and correcting data integrity
issues is extremely important for ensuring that the data used for
analysis purposes is valid. Each of the data integrity checks that are
performed by the system will be described, along with general procedures
that can be performed to resolve these issues.

### Éléments de données sans ensemble de données { #data-elements-without-data-set } 

Each data element must be assigned to a data set. Values for data
elements will not be able to be entered into the system if a data
element is not assigned to a data set. Choose
Maintenance-\>Datasets-\>Edit from the main menu and then add the
"orphaned" data element to the appropriate data set.

### Éléments de données sans groupes { #data-elements-without-groups } 

Some Data Elements have been allocated to several Data Element Groups.
This is currently not allowed, because it will result in duplication of
linked data records in the analytics record sets that provide aggregated
data. Go to Maintenance -\> Data Element Groups to review each Data
Element identified and remove the incorrect Group allocations.

### Éléments de données violant la règle d'ensembles de groupes exclusifs { #data-elements-violating-exclusive-group-sets } 

Some data elements have been allocated to several data element groups
that are members of the same data element group set. All group sets in
DHIS2 are defined as exclusive, which means that a data element can
*only* be allocated to *one* data element group within that group set.
Go to Maintenance -\> Data elements and indicators -\> Data element
groups to review each data element identified in the integrity check.
Either remove the data element from all groups except the one that it
should be allocated to, or see if one of the groups should be placed in
a different group set.

### Éléments de données présent dans l'ensemble de données mais pas dans le formulaire ou dans les sections { #data-elements-in-data-set-but-not-in-form-or-sections } 

Data elements have been assigned to a data set, but have not been
assigned to any sections of the data set forms. All data sets which use
section forms, should generally have all data elements in the data set
assigned to exactly one section of the dataset.

### Éléments de données affectés à des ensembles de données avec différents types de périodes { #data-elements-assigned-to-data-sets-with-different-period-types } 

Data elements should not be assigned to two separate data sets whose
period types differ. The recommended approach would be to create two
separate data elements (for instance a monthly and yearly data element)
and assign these to respective datasets.

### Ensembles de données non attribués aux unités d'organisation { #data-sets-not-assigned-to-organisation-units } 

Tous les ensembles de données doivent être attribués à au moins une unité organisationnelle.

### Sections ayant des combinaisons de catégories non valables { #sections-with-invalid-category-combinations } 

Data sets which use section forms should only have a single category
combination within each section. This violation could result from
assigning a data element to a section, but then changing the category
combination of this data element at a later point in time.

### Indicateurs avec des formules identiques { #indicators-with-identical-formulas } 

Although this rule will not affect data quality, it generally does not
make sense to have two indicators with the exact same definition. Review
the identified indicators and their formulas and delete or modify any
indicator that appears to be the duplicate.

### Indicateurs sans groupes { #indicators-without-groups } 

All data elements and indicators must be assigned to at least one group,
so these Indicators need to be allocated to their correct Data Element
and Indicator Group. From the main menu, go to Data elements/Indicators
-\> Indicator Groups, and allocate each of the \`Orphaned\` indicators
to its correct group.

### Numérateurs d'indicateurs non valides { #invalid-indicator-numerators } 

Violations of this rule may be caused by an incorrect reference to a
deleted or modified data element. Review the indicator and make
corrections to the numerator definition.

### Dénominateurs d'indicateurs non valides { #invalid-indicator-denominators } 

Violations of this rule may be caused by an incorrect reference to a
deleted or modified data element. Review the indicator and make
corrections to the denominator definition.

### Indicateurs violant la règle d'ensembles de groupes exclusifs { #indicators-violating-exclusive-group-sets } 

Some indicators have been allocated to several indicator groups that are
members of the same indicator group set. All group sets in DHIS2 are
defined as exclusive, which means that an indicator can *only* be
allocated to *one* indicator group within that group set. Go to
Maintenance -\> Data elements and indicators -\> Indicator groups to
review each indicator identified in the integrity check. Either remove
the indicator from all groups except the one that it should be allocated
to, or see if one of the groups should be placed in a different group
set.

### Double période { #duplicate-periods } 

If periods have been imported from external applications, it may be
possible that some periods will be duplicated. If you have any periods
which appear to be duplicated here, you will need to resolve these
directly in the DHIS2 database. All data which has been assigned to the
duplicated period, should be moved to the correct period, and the
duplicate period should be removed.

### Unités d'organisation avec des références cycliques { #organisation-units-with-cyclic-references } 

Organisation units cannot be both parent and children of each other,
directly nor indirectly. If this situation occurs, you will need to
resolve the cyclic reference directly in the DHIS2 database in the
"organisation unit" table, by reassigning the "parentid" field of the
organisation units.

### Unités d'organisation orphelines { #orphaned-organisation-units } 

All organisation units must exist within the organisation unit
hierarchy. Go to Organisation units -\> Hierarchy Operations and move the
offending organisation unit into the proper position in the hierarchy.

### Unités d'organisation sans groupes { #organisation-units-without-groups } 

All organisation units *must* be allocated to at least *one* group. The
problem might either be that you have not defined any compulsory OrgUnit
Group Set at all, or that there are violations of the compulsory rule
for some OrgUnits . NOTE: If you have defined no compulsory OrgUnit
Group Sets, then you must first define them by going to Organisation
units-\>Organisation unit group sets and define at least one compulsory
Group Set (the group set 'Type' are nearly universally relevant). If you
have the relevant group sets, go to Maintenance -\> OrgUnit Groups to
review each OrgUnit identified and add the relevant Group allocation.

### Les unités d'organisation violant la règle d'ensembles de groupes obligatoires { #organisation-units-violating-compulsory-group-sets } 

These organisation units have not been assigned to the any organisation
unit group within one of the *compulsory* organisation unit group sets.
When a group set is defined as compulsory, it means that an organisation
unit must be allocated to at least one organisation unit group within
that group set. For instance, all organisation units must belong to one
of the groups in the 'Type' group set. It might belong to the
\`Hospital\` or the \`Clinic\` or any other 'type' group - but it must
belong to exactly one of them. Go to Organisation units-\>Organisation
unit groups to review each organisation unit identified in the integrity
check. Allocate all organisation units to exactly one compulsory group.

### Unités d'organisation violant la règle d'ensembles de groupes exclusifs { #organisation-units-violating-exclusive-group-sets } 

Some organisation units have been allocated to several organisation unit
groups that are members of the same organisation unit group set. All
group sets in DHIS2 are defined as exclusive, which means that an
organisation unit can *only* be allocated to *one* organisation unit
group within that Group Set. For instance, one organisation unit cannot
normally belong to the both the 'Hospital' and 'Clinic' groups , but
rather to only to one of them. Go to Organisation unit-\>Organisation
unit groups to review each organisation unit identified in the integrity
check. Remove the organisation units from all groups except the one that
it should be allocated to.

### Groupes d'unités d'organisation sans ensembles de groupes { #organisation-unit-groups-without-group-sets } 

The organisation unit groups listed here have not been allocated to a
group set. Go to Maintenance-\>Organisation unit-\>Organisation unit
group sets and allocate the Organisation unit group to the appropriate
group set.

### Règles de validation sans groupes { #validation-rules-without-groups } 

All validation rules must be assigned to a group. Go to **Maintenance**
app \> **Validation rule group** and assign the offending validation
rule to a group.

### Expressions à gauche de la règle de validation invalide { #invalid-validation-rule-left-side-expressions } 

An error exists in the left-side validation rule definition. Go to
**Maintenance** app -\> **Validation rule** and click **Edit** on the
offending rule. Click **Left side** and make the required corrections.

### Expressions de droite invalide de la règle de validation { #invalid-validation-rule-right-side-expressions } 

An error exists in the right-side validation rule definition. Go to
**Maintenance** app -\> **Validation rule** and click **Edit** on the
offending rule. Click **Right side** and make the required corrections.

### Règles de programme sans condition { #programrules-with-no-condition } 

Le rapport mettra en évidence toutes les **Règles du programme** configurées sans **condition**. Les règles n'ayant pas de condition sont toujours évaluées comme étant fausses.

### Règles de programme sans priorité { #programrules-with-no-priority } 

Le rapport mettra en évidence toutes les **Règles du programme** configurées sans **Priorité**. Ceci est facultatif mais son existence est très importante lorsque le **Type d'action de la règle du programme** est **ASSIGNER**. Les règles ayant le type d'action ASSIGNER doivent avoir une priorité plus élevée que le reste des types d'action.

### Règles de programme sans action { #programrules-with-no-action } 

Le rapport mettra en évidence toutes les **Règles du programme** configurées sans une **Action de la règle du programme**.

### Variables de règles de programme sans éléments de données { #programrulevariables-without-dataelements } 

Le rapport mettra en évidence toutes les **Variables de règles de programme** configurées sans **Élément de donnée**. Le rapport sera basé sur la configuration Type de source. L'élément de donnée doit être fourni lorsque le type de source de la variable de règles de programme est **Élément de donné**.

### Variables de règles de programme sans attributs { #programrulevariables-without-attributes } 

Le rapport mettra en évidence toutes les **Variables de règle du programme** non configurées avec **Attribut de l'entité suivie**. Le rapport sera basé sur la configuration Type de source. L'attribut de l'entité suivie doit être fourni lorsque le type de source de la Variable de règle du programmee est **Attribut**.

### Actions de la règle de programme sans objets de données. { #programruleactions-with-no-data-objects } 

Report will highlight all the **Program rule actions** not configured with any Data object. Data object can be either **DataElement** of **TrackedEntityAttribute**. There are certain ProgramRuleActions which are responsible for assigning values to either dataElement or trackedEntityAttribute.

### Actions de règle du programme sans notification { #programruleactions-with-no-notification } 

Le rapport mettra en évidence toutes les **Actions de règle du programme** dont le Type d'action de régle du programme est défini sur ENVOYER UN MESSAGE/PROGRAMMER UN MESSAGE lorsque la configuration ne prévoit aucun lien avec la notification.

### Actions de la règle du programme sans identification de section { #programruleactions-with-no-section-id } 

Le rapport mettra en évidence toutes les **actions de règle de programme** dont le Type d'action de la règle du programme est défini sur **MASQUER LA SECTION** mais la configuration ne fournit aucun identifiant de section.

### Actions de la règle du programme sans identification du stade du programme { #programruleactions-with-no-program-stage-id } 

Le rapport mettra en évidence toutes les **Actions de règle du programme** dont le Type d'action de la règle du programme est défini sur **MASQUER LE STADE DU PROGRAMME** mais la configuration ne fournit aucun identifiant du stade du programme.

### Expression invalide d'indicateur de programme { #invalid-program-indicator-expression } 

Signale toutes les violations dans l'expression de l'indicateur de programme causées par un **Elément de donnée** invalide ou un **Attribut d'entité suivie** invalide.

### Expression de filtre d'indicateur de programme invalide { #invalid-program-indicator-filter-expression } 

Signale toutes les violations dans l'expression de filtre d'indicateur de programme causées par un **Elément de donnée** invalide ou un **Attribut d'entité suivie** invalide.

## Maintenance { #data_admin_maintenance }

Tableau : Fonctions de maintenance des données dans l'application Administration des Données

| Fonction | Description |
|---|---|
| Effacer les tableaux analytiques | Effacez tout le contenu des tableaux analytiques. Ces tableaux sont utilisés pour générer des données agrégées pour les tableaux croisés dynamiques, le SIG et les rapports. |
| Supprimer les valeurs de données nulles | Supprime les valeurs de données nulles de la base de données. Les valeurs enregistrées pour les éléments de données avec l'opérateur d'agrégation "moyen" ne sont pas supprimées, car ces valeurs seront très utiles lors de l'agrégation des données, contrairement aux valeurs enregistrées pour les éléments de données avec l'opérateur d'agrégation "somme". <br> <br> La réduction du nombre de valeurs de données améliorera les performances du système. |
| Supprimez définitivement les valeurs de données placées dans la corbeille | Lorsqu'une valeur de données est supprimée de l'interface DHIS2, le système marque la ligne de base de données correspondante comme supprimée, mais ne la supprime pas réellement. <br> <br> L'exécution de cette fonction de maintenance supprimera physiquement ces lignes de valeurs de la base de données. |
| Elaguer les périodes | Supprime toutes les périodes qui n'ont pas de valeurs de données enregistrées. La réduction du nombre de périodes améliorera les performances du système. |
| Supprimer les invitations expirées | Supprime les utilisateurs représentant des invitations de comptes utilisateur qui ont dépassé leur date d'expiration. |
| Supprimer des vues SQL | DHIS2 vous permet de configurer et de gérer des vues SQL en tant qu'objets du système avec des vues SQL de base de données correspondantes. <br> <br> L'exécution de cette fonction de maintenance supprimera les vues SQL sous-jacentes pour toutes les vues système. Utilisez la fonction **Créer des vues SQL** pour recréer ces vues. |
| Créer des vues SQL | Recrée toutes les vues SQL dans la base de données. |
| Mettre à jour les combinaisons d’options catégorie | Reconstruit les combinaisons d'options catégorie. Cela peut être nécessaire après une modification des options de catégorie appartenant à une catégorie donnée. |
| Mettre à jour les accès aux unités d'organisation | Le tableau des unités d'organisation de la base de données DHIS2 a une colonne "accès" qui contient une chaîne concaténée pour toutes les données anciennes de la hiérarchie de chaque unité d'organisation. <br> <br> L'exécution de cette fonction de maintenance mettra à jour ces valeurs et garantira leur synchronisation avec la hiérarchie actuelle des unités d'organisation. Cette colonne est gérée par DHIS2, mais une mise à jour manuelle peut s'avérer utile lorsque les données sont directement chargées dans la base de données. |
| Effacer la mémoire cache des applications | Efface la mémoire cache du système. |
| Recharger les applications | Recharge et détecte manuellement les applications DHIS2 installées. <br> <br> Les applications installées sont également détectées au démarrage du système et lors de l'installation ou de la désinstallation d'applications. |

## Tableaux des ressources  { #data_admin_resource_tables }

Resource tables are supporting tables that are used during analysis of
data. One would typically join the contents of these tables with the
data value table when doing queries from third-party applications like
Microsoft Excel. They are also used extensively by the analysis modules
of DHIS2. Regeneration of the resource tables should only be done once
all data integrity issues are resolved. The resource tables are also
generated automatically, every time the analytics process is run by the
system.

  - Structure de l'unité d'organisation (\_orgunitstructure)

    This table should be regenerated any time there have been any
    changes made to the organisational unit hierarchy. This table
    provides information about the organisation unit hierarchy. It has
    one row for each organisation unit, one column for each organisation
    unit level and the organisation unit identifiers for all parents in
    the lineage as values.

  - Structure de l'ensemble des groupes d'éléments de données (\_dataelementgroupsetstructure)

    This table provides information about which data elements are
    members of which data element group sets. The table has one row for
    each data element, one column for each data element group set and
    the names of the data element group as values.

  - Structure de l'ensemble de groupes d'indicateurs (\_indicatorgroupsetstructure)

    This table provides information about which indicators are members
    of which indicator group sets. The table has one row for each
    indicator, one column for each indicator group set and the names of
    the indicator group as values.

  - Organisation unit group set structure
    (\_organisationunitgroupsetstructure)

    This table provides information about which organisation units are
    members of which organisation unit group sets. The table has one row
    for each organisation unit, one column for each organisation unit
    group set and the names of the organisation unit groups as values.

  - Structure des catégories (\_categorystructure)

    This table provides information about which data elements are
    members of which categories. The table has one row for each data
    element, one column for each category and the names of the category
    options as values.

  - Nom de la combo d'options de catégorie de l'élément de donnée (\_categoryoptioncomboname)

    This table should be regenerated any time there have been changes
    made to the category combination names. It contains readable names
    for the various combinations of categories.

  - Structure des éléments de données (\_dataelementstructure)

    This table provides information about all data elements and which
    period type (frequency) they capture data at. The period type is
    determined through the data set membership and hence relies on data
    elements to be member of data sets with similar period types to have
    a defined behaviour.

  - Structure de la période (\_dataperiodstructure)

    This table provides information about all periods and which period
    type they are associated with. For each period type with lower
    frequency than itself, it contains information about which period it
    will fall within.

  - Data element category option combinations
    (\_dataelementcategoryoptioncombo)

    This table provides a mapping between data elements and all possible
    category option combinations.

## Gestion des tableaux analytiques{ #data_admin_analytics_tables }

DHIS2 generates database tables which the system then uses as basis for
various analytics functions. These tables are also valuable if you write
advanced SQL reports. In the **Data Administration** app, you can execute the tables
generation immediately. If you want to schedule them to be executed at regular intervals,
this can be done in the **Scheduler** app. This means that you can refresh recent analytics on
demand and see updated pivot tables without waiting for all of the past years data to
re-process.

> **Note**
>
> You can also generate the tables through the web API. This task is
> typically performed by a system administrator.

1.  Ouvrez l'application **Administration des données** et cliquez sur **Tables d'Analyse**.

2.  Sélectionnez les parties du processus d'analyse que vous souhaitez ignorer :

      - **Ignorer la génération des tableaux de ressources**

      - **Ignorer la génération de données agrégées et de données de complétude**

      - **Ignorer la génération de données d'événement**

      - **Ignorer la génération des données d'inscription**

      - **Ignorer la génération des données de propriété de l'unité d'organisation**

3.  Sélectionnez **Nombre de dernières années de données à inclure**.

4.  Cliquez sur **Démarrer l'exportation**.

## Data statistics { #data_admin__data_statistics }

The data statistics module provides an overview of the number of objects
stored in the DHIS2 database.


![](resources/images/maintenance/data_stats.png)

The total number of each type of object is presented in a series of
tables with summary statistics of each object.

## Lock exceptions { #data_admin__lock_exception }

Lock exceptions provide fine-grained control over exemption from a
locked data set. After the expiry of the data set, data entry will be
denied by default, unless an exception has been granted through the Lock
exception interface.

### Adding a lock exception { #adding-a-lock-exception } 

By granting a lock exception, data entry will be enabled even after the
expiry period of the data set has passed.

1. Ouvrez l'application **Administration des données** et cliquez sur **Exemption de verrouillage**.
2. Cliquez sur **Ajouter une exception de verrouillage** en haut de la page
3. Select the desired data set, organisation units and time period (see
   screenshot below)
4. Cliquez sur **Ajouter une exception de verrouillage**

![](resources/images/maintenance/create_lock_exception.png)

In the example above, a data lock exception would be created for "Bo" for the
"ART monthly summary" dataset for "February 2014".

## Génération de valeurs minimales-maximales{ #data_admin_min_max_value_generation }

This administrative function can be used to generate min-max values,
which are used as part of the data quality and validation process for
specific organization units and data sets. Simply select the dataset
from the left hand frame, and then select the required organisation
units to generate the min-max values for from the organisational units
selector on the right. Press the "Generate" button to generate or
regenerate all min-max values. Press "Remove" to remove all min-max
values which are currently stored in the database.

![](resources/images/maintenance/min_max_value_generation.png)

## Statistiques de la mémoire cache { #data_admin_cache_statistics }

This option is for system administrators only to use. The cache
statistics shows the status of the application level cache. The
application level cache refers to the objects and query results that the
application is caching in order to speed up performance. If the database
has been modified directly the application cache needs to be cleared for
it to take effect.



# Visualiser les statistiques d'utilisation { #using_usage_analytics }

## À propos de l'application Analyse de l'utilisation { #about-the-usage-analytics-app } 

![](resources/images/usage_analytics_interface.png)

The **Usage Analytics** app lets you visualize statistics on how users
are working with the **Dashboard**, **GIS**, **Event
Visualizer**, **Data Visualizer** and **Event Reports** apps within
DHIS2. With this statistics you can answers questions such as:

-   Combien de fois des visualisations et des tableaux de bord ont-ils été chargé ?

-   Combien de favoris les utilisateurs ont-ils créés ?

-   Combien d'utilisateurs se connectent par rapport au nombre total d'utilisateurs ?

-   Quels sont les favoris les plus regardés ?

## Créer un graphique d'analyse de l'utilisation { #usage_analytics_create_chart }

1.  Ouvrez l'application **Analyse de l'utilisation**.

2.  Sélectionnez une **date de début** et une **date de fin**.

3.  Sélectionnez un **intervalle** : jour, semaine, mois ou année.

4.  Sélectionnez une **Catégorie**.

    Il existe cinq catégories d'analyse :

    -   **Favorite views**: Provides the number of times various types
        of favorites have been viewed, such as visualizations and
        dashboards, over time. This analysis lets you switch between all
        types of favorites, the total across all types and the average
        number of views.

    -   **Favorites**: Provides the number of favorites which have been
        created and stored in the system over time.

    -   **Users**: Provides the number of active as well as total number
        of users over time.

    -   **Top favorites**: Shows the most viewed favorites in the system
        by type.

    -   **Data values**: Provides the number of data values stored in
        the system over time.

5.  Cliquez sur **Mettre à jour**.



# Gestionnaire de base de données { #datastore_manager_app } 

Le gestionnaire de la base de données est destiné aux utilisateurs avancés de DHIS2. Avant d'utiliser le gestionnaire de la base de données, vous pouvez en savoir plus sur la base de données ici : [Base de données DHIS2] (https://docs.dhis2.org/master/en/developer/html/webapi_data_store.html).

## Utilisation du gestionnaire de la base de données { #using-the-datastore-manager } 

Le gestionnaire de base de données vous permet de gérer le contenu des bases de données de l'API Web. Ceci est utile pour la gestion des applications ainsi que des scripts externes.

## Ajouter un nouvel espace de noms et une clé au gestionnaire de la base de données. { #add-a-new-namespace-and-key-to-the-datastore-manager } 

N.B. : Vous devez d'abord créer un espace de noms avant de pouvoir y ajouter une clé.

1.  Cliquez sur **Nouveau**.

2.  Entrez un nom pour le l'espace de noms que vous voulez créer.

3.  Entrez un nom de clé et sélectionnez **Créer**. Le nouvel espace de noms s'affiche 
    dans le volet de gauche.

## Ajouter une clé à un espace de noms existant dans le gestionnaire de la base de données { #add-a-key-to-an-existing-namespace-in-the-datastore-manager } 

Pour ajouter une nouvelle clé à un espace de noms existant dans le gestionnaire de la base de données,

1.  sélectionnez l'espace de noms auquel vous souhaitez ajouter une clé.

2.  Cliquez sur le menu des options, puis sur **Nouvelle clé**.

    ![](resources/images/datastore_manager/datamgr_add_key.png)

3.  Entrez un nom de clé dans la boîte de dialogue **Nouvelle clé**.

4.  Cliquez sur **Créer**. La nouvelle clé est ajoutée à l'espace de noms que vous 
    avez sélectionné.

## Supprimer un espace de noms ou une clé du gestionnaire de la base de données { #delete-a-namespace-or-key-from-the-datastore-manager } 

Pour supprimer un espace de noms, ou une clé, cliquez sur le menu Options, puis sur **Supprimer**, et enfin sur **Supprimer** à nouveau. Notez que si vous supprimez la seule clé d'un espace de noms, vous supprimerez également l'espace de noms auquel elle appartient.

## Recherche d'espaces de noms ou de clés { #search-for-namespaces-or-keys } 

Utilisez l'outil de recherche situé dans le coin supérieur gauche pour rechercher les espaces de noms et les clés de la façon suivante :

  - Entrez un nom d'espace de noms suivi de **\#** et le nom de la clé pour rechercher
    une clé spécifique dans un espace de noms.

  - Entrez **\#** suivi du nom d'une clé pour rechercher des clés 
uniquement.

![](resources/images/datastore_manager/datamgr_search_namespaces_keys.png)

## Cherchez dans votre bibliothèque JSON { #search-your-json-library } 

Utilisez l'outil de recherche dans la barre d'outils de l'espace de travail pour effectuer une recherche dans votre bibliothèque JSON.

![](resources/images/datastore_manager/datamgr_searchJSON.png)

## Modifier les espaces de noms ou les clés dans le gestionnaire de base de données { #edit-namespaces-or-keys-in-the-datastore-manager } 

Utilisez l'outil **Recherche** pour trouver des espaces de noms ou des clés dans votre base de données. Lorsque vous modifiez votre contenu, vous pouvez basculer entre la vue **Arborescence** et la vue **Code**. Utilisez la vue **Arborescence** pour obtenir un aperçu du contenu de la base de données. Utilisez la vue **Code** pour modifier votre code directement dans l'éditeur de code. N'oubliez pas de sauvegarder votre travail en cliquant sur le bouton **Sauvegarder**.

![](resources/images/datastore_manager/datamgr_treeview.png)

Avec la vue Code, vous pouvez modifier votre code. Lorsque vous modifiez une ligne de code, celle-ci est surlignée en jaune.

![](resources/images/datastore_manager/datamgr_codeview.png)

Les éventuelles erreurs sont signalées par l'éditeur. Un survol de l'icône d'erreur, vous permet de voir une courte description de l'erreur.

![](resources/images/datastore_manager/datamgr_editcode_error.png)




# Programmation { #scheduling } 

The Scheduler is an application for managing background jobs in DHIS2.
Background jobs can do a number of tasks, such as running analytics,
synchronizing data and meta data, or sending a push analysis report. The
application provides the ability to create, modify and delete such jobs.

The Scheduler comes bundled with DHIS2 and is accessed through the App
Menu.

![La page de démarrage de l'application Programmateur](resources/images/scheduler/overview.png)

The start page of the Scheduler app shows an overview of existing jobs.
By default, pre-defined system jobs are hidden. To view these, click
*Include system jobs in list* in the top right corner.

When you create or modify a job, it will be scheduled according to
the selected schedule. To run a job on demand, go to the job list,
click the "Actions" button of the job you want to run and click
"Run manually". This action is only available for enabled jobs.

## Créer une tâche { #scheduling_create_job } 

1.  Open the **Scheduler** app and click the "New job" button in the top
    right corner.

1.  Choisissez un **Nom** approprié pour le nouvel emploi.

1.  Select the **Job type** you want to schedule using the
    drop-down menu.

1.  Select a schedule for the job. Each job type has its own scheduling type,
    either **Cron** scheduling or **Delay** scheduling.

    1.  For **Cron** scheduled job types you can set a schedule using the 
        [Spring scheduling](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html) 
        syntax. You can also select a predefined **Cron expression** by clicking
        "Choose from preset times". This schedule will only start a new job run
        if the previous job run has finished, to prevent the system from spawning
        too many jobs.

    1.  For **Delay** scheduled jobs you can set a delay in seconds. Unlike the
        **Cron** scheduled jobs, these jobs aren't executed according to a set 
        schedule, but with a specific delay in between job runs. The delay timer
        starts when a job ends, starting a new job run when the delay timer reaches
        zero. This will continue as long as the job is enabled.

1.  If the job type is customizable, a **Parameters** section will appear below
    the scheduling settings. These additional options specify the details of the
    scheduled job, and will vary depending on the job type.

1.  Press the **Save** button to confirm the job creation. On successful job
    creation you will be redirected to the job overview, where the newly
    created job will now be listed.

![Création d'une nouvelle tâche de programmateur](resources/images/scheduler/add_new_job.png)

Les tâches nouvellement créées sont activées par défaut.

## Editing a job { #scheduling_configure_job } 

With the proper permissions, you can modify the details of user-created
jobs. To quickly enable or disable a user created job from running, use the
switches in the **On/off** column on the landing page of the Scheduler app.
Note that system jobs are always enabled and cannot be disabled.

Modification ultérieure des tâches utilisateur :

1.  Click the "Actions" button of the job you want to edit and click "Edit" (only
    user jobs can be edited).

1.  Lorsque vous avez terminé la modification, cliquez sur le bouton **Enregistrer les modifications** pour poursuivre les modifications.

## Supprimer une tâche { #dataAdmin_scheduler_delete } 

1.  Click the "Actions" button of the job you want to delete and click "Delete"
    (only user jobs can be deleted).

1.  Confirmez en cliquant à nouveau sur **Supprimer** dans la fenêtre pop-up.

Les tâches utilisateur peuvent également être supprimées sur la page de modification.

![Suppression d'une nouvelle tâche de programmateur](resources/images/scheduler/delete_job.png)

## Types de tâches { #job-types } 

La section suivante décrit les différents types de tâches.

### Disable Inactive Users { #scheduling_disable_inactive_users } 
Users that have not been active - not logged in - for a number of months can automatically be disabled.
Select the number of inactive months as the job parameter.
All users that have not logged in for that number of months or longer will be disabled by the job.
Disabled users will no longer be able to log into the system.

The _Reminder days before_ parameter can be set to send a reminder email to
those users the specified number of days before their account is due to expire.
If users do not log in further reminder emails are sent each halving the 
previous number of days. For example if the number of days is set to 7 the 
first email is sent 7 days in advance, the second 3 days and the third and 
last 1 day in advance.
If the value is not set (blank) no reminder is sent.


### Tableau des ressources { #scheduling_resource_table } 

Le tableau de ressources à pour tâche de générer et de metter à jour des tables de la base de données des ressources. Ces tables sont utilisées par différents composants de DHIS 2 et sont destinées à simplifier les recherches dans la base de données.

Notez que lorsque vous spécifiez l'une des tâches de la table analytique, les tables de ressources peuvent faire partie du processus et il n'est pas nécessaire de spécifier également une tâche de la table de ressources.

### Tableau analytique { #scheduling_analytics_table } 

Les tableaux analytiques permettent de générer et de mettre à jour les tableaux analytiques. Les tableaux analytiques sont utilisés comme base pour les requêtes d'analyse de données dans le DHIS2. Les applications telles que Tableau de bord, Visualiseur et Cartes récupèrent les données de ces tableaux via l'API analytique du DHIS2, et elles doivent être mises à jour pour que les données analytiques deviennent disponibles. Vous pouvez programmer ce processus de façon à ce qu'il s'exécute régulièrement par le biais d'un type de tâche de table analytique.

La tâche du tableau analytique remplira par défaut les champs de données pour toutes les années et tous les éléments de données. Les paramètres suivants sont disponibles :

- **Dernières années:** Le nombre de dernières années pour lesquelles il faut remplir les tableaux d'analyse. Par exemple, si vous indiquez 2 années, le processus mettra à jour les données des deux dernières années, mais pas les données plus anciennes. Ce paramètre est utile pour réduire le temps nécessaire au processus, et est approprié si les données plus anciennes n'ont pas changé, et lorsque l'on souhaite mettre à jour les données récentes.
- **Sauter les tableaux de ressources:** Sauter les tableaux de ressources pendant le processus de mise à jour du tableau analytique. Cela réduit le temps nécessaire à l'exécution du processus, mais entraine une situation dans laquelle les modifications des métadonnées ne sont pas prises en compte dans les données analytiques.
- **Sauter les types de tableaux : ** Sauter un ou plusieurs types de tableaux analytiques. Cela réduit le temps nécessaire à l'exécution du processus, mais conduit à ce que ces types de données ne soient pas mis à jour dans les données analytiques.

### Tableau d'analyse (Suite) { #scheduling_continuous_analytics_table } 

Les tableaux analytiques permettent de générer et de mettre à jour les tableaux analytiques. Les tableaux analytiques sont utilisés comme base pour les requêtes d'analyse de données dans le DHIS2. Les applications telles que Tableau de bord, Visualiseur et Cartes récupèrent les données de ces tableaux via l'API analytique du DHIS2, et elles doivent être mises à jour pour que les données analytiques deviennent disponibles. Vous pouvez programmer ce processus de façon à ce qu'il s'exécute régulièrement par le biais d'un type de tâche de table analytique.

La tâche de la table d'analyse continue est basé sur deux phases :

- _Dernière mise à jour :_ mise à jour des données récentes, où récente renvoie aux données qui ont été ajoutées, mises à jour ou supprimées depuis la dernière mise à jour des données récentes ou des données complètes. Ce processus pourra être fréquent.
- _Mise à jour complète :_ mise à jour de toutes les données sur toutes les années. Ce processus aura lieu une fois par jour.

Le tâche de la table d'analyse continue mettra fréquemment à jour les dernières données. Le processus de mise à jour des données utilise une partition spéciale de la base de données qui ne contient que les données les plus récentes. Cette partition peut être rapidement actualisée en raison de la quantité relativement faible de données. La taille de la partition augmentera jusqu'à ce qu'une mise à jour complète soit effectuée. Toutes les données de toutes les années seront mises à jour une fois par jour,. La dernière partition sera ainsi effacée.

La tâche du tableau analytique remplira par défaut les champs de données pour toutes les années et tous les éléments de données. Les paramètres suivants sont disponibles :

- **Heure du jour de la mise à jour complète:** Heure du jour à laquelle la mise à jour complète sera effectuée. Par exemple, si vous indiquez 1, la mise à jour complète sera effectuée à 1 heure du matin.
- **Dernières années:** Le nombre de dernières années pour lesquelles il faut remplir les tableaux d'analyse. Par exemple, si vous indiquez 2 années, le processus mettra à jour les données des deux dernières années, mais pas les données plus anciennes. Ce paramètre est utile pour réduire le temps nécessaire au processus, et est approprié si les données plus anciennes n'ont pas changé, et lorsque l'on souhaite mettre à jour les données récentes.
- **Sauter les tableaux de ressources:** Sauter les tableaux de ressources pendant le processus de mise à jour du tableau analytique. Cela réduit le temps nécessaire à l'exécution du processus, mais entraine une situation dans laquelle les modifications des métadonnées ne sont pas prises en compte dans les données analytiques.

### Tracker search optimization { #scheduling_tracker_search_optimization } 

The tracker search optimization job is responsible for generating and updating the trigram indexes for relevant tracked entity attributes. Trigram indexes improve the performance of searching tracked entity instances based on specific tracked entity attribute values. The usefulness of trigram indexes depends on whether the tracked entity attribute is configured as unique or if they are configured as searchable (when connected to program/tracked entity type). You can configure the job to choose which tracked entity attributes should be trigram indexed. The job also takes care of deleting any obsolete indexes that have been created earlier but are no more required due to change in metadata configuration. 

Les paramètres suivants sont disponibles :

- **Attributes:** The list of attributes that needs a trigram index created. For each attribute, a partial trigram index will be created. As an example, if you specify "firstname" and "lastname" attribute, the process will create two separate trigram indexes for the corresponding attributes "firstname" and "lastname". Note that, if the attribute provided in this parameter is not indexable (either because they are not unique or not searchable), such attributes are simply ignored by the process and no trigram index will be created for them. 
- **Ignorer la suppression de l'index :** Ignorer la suppression des index obsolètes pendant le processus d'indexation des trigrammes. S'ils sont définis sur vrai, les index jugés obsolètes ne seront pas supprimés.

### Synchronisation des données { #scheduling_data_sync } 

DHIS2 provides synchronisation of data between remotely distributed
instances and a central instance of DHIS2. This can be useful e.g. when
you have deployed multiple stand-alone instances of DHIS2 which are
required to submit data values to a central DHIS2 instance. Both tracker
data and aggregate data synchronization is supported.

Voici les étapes à suivre pour activer la synchronisation des données :

- Go to Synchronization Settings, enter the remote server URL,
  username and password. Press the TAB button to automatically save
  the new password. Refresh the page and check that the filled values
  are still present. Note that the password field will be empty after
  the refresh, since this value is encrypted, so you can consider it
  saved.

- Using the Scheduler app, create a new job using the "Event Programs 
  Data Sync" and/or "Tracker Programs Data Sync" job type. Make sure it 
  is enabled when you finish. (Note: If the "Program Data Synchronization" 
  job, available in previous versions, was set up in Scheduler app before, 
  it was automatically replaced by the two new jobs "Event Programs Data Sync" 
  and "Tracker Programs Data Sync" with the identical settings. )

Quelques aspects de la fonction de synchronisation des données à prendre en compte :

- The local DHIS2 instance will store the password of the user account
  on the remote instance encrypted in the local database. The remote
  account is used for authentication when transferring data. For
  security purposes make sure you set the _encryption.password_
  configuration parameter in _hibernate.properties_ to a strong
  password.

- Deploying the remote server on SSL/HTTPS is strongly recommended as
  the username and password are sent in clear text using basic
  authentication and could be intercepted by an attacker.

- The data synchronization uses the UID property of data elements,
  category option combos and organisation units to match the
  meta-data. Hence the synchronization is dependent on these three
  meta-data objects being harmonized on the local and remote instance
  in order to work appropriately.

- The first time DHIS2 runs the synchronization job, it will include
  any data available. The subsequent synchronization jobs will only
  include data added and changed since the last successful job. A
  synchronization job is considered successful only if all the data
  was saved successfully on the remote server (Any data successfully
  synced will remain on the receiving instance, regardless if the job
  eventually fails). Whether the job was successful or not can be
  decided from the import summary returned from the central server.

- The initial synchronization job may take a significant amount of
  time, possibly slowing down your instance, depending on how much
  data is being synchronized. It could be a good idea to configure the
  job to run when there are few online users, then later change this
  to your own preference. If you do not want or need to synchronize all 
  the data, there is a possibility to <a href="#skip_changed_before">skip 
  some of the data being synchronised</a>.

  When DHIS2 synchronizes tracker data, it determines the set of data
  to synchronize based on the last time it was synchronized. Each of
  the tracked entity instances and events have their own records of
  when they where last successfully synchronized.

- The system will start a synchronization job based on the rules set
  in the configuration of the job. If the synchronization job starts
  while there is no connection to the remote server, it will retry up
  to three times before it aborts. The job will run again at a
  scheduled time.

- The server handles each set of programs separately, which means one
  set of programs can be synchronized successfully, while the other
  fails. The failure or success of one doesn't influence the other, as
  the last successful synchronization time is tracked individually for
  each item as previously mentioned.

- The attributes of TrackedEntityInstances (TrackedEntityAttribute)
  and the data elements of ProgramStages (ProgramStageDataElement)
  which have an option "Skip synchronization" turned on will not be
  synchronized. This feature allows you to decide to not synchronize
  some sensitive or not relevant data and to keep them only locally.

- The authority `Ignore validation of required fields in Tracker and Event Capture`
  (`F\_IGNORE\_TRACKER\_REQUIRED\_VALUE\_VALIDATION`) should be used when
  there is a requirement that some mandatory attribute / data element
  has at the same time a "Skip synchronization" property turned on.
  Such a setting will lead to validation failure on the central server
  as the given attribute / data element will not be present in the
  payload.

  The validation won't fail for the user with this authority. The
  authority should be assigned to the user, on the central server,
  that will be used for synchronization job.

- In specific cases, **the initial synchronization of all the data can be undesirable**; 
  for example, when a database on the local instance is a fresh copy of the 
  database present on the central instance, or when it is preferred to not 
  synchronize old data in favor of initial synchronization taking less 
  time. 

  The *syncSkipSyncForDataChangedBefore* SettingKey can be used to skip 
  the synchronisation of all the data (data values, Event and Tracker 
  program data, complete data set registrations) that were *last 
  changed before the specified date*. The `SettingKey` is used in the 
  synchronization job all the time. Therefore, if you need to synchronize 
  the old data, you should change the `SettingKey`.

- Both Tracker Programs and Event Programs synchronization job supports 
  paging in order to avoid timeouts and to deal with unstable network.
  Default page size for "Event Programs Data Sync" job is set to 60. 
  Default page size for "Tracker Programs Data Sync" job is set to 20.

  If default values do not fit your purpose, own page size can be specified 
  via parameter in particular sync job in Scheduler app.

### Planification de la synchronisation des métadonnées { #scheduling_metadata_sync } 

DHIS2 provides a feature for synchronizing meta data from a remote
instance to a local instance of DHIS2. This can be useful when you have
deployed multiple stand-alone instances of DHIS2 and you need to create
meta data in all the local instances similar to the central DHIS2
instance.

Voici les étapes à suivre pour activer la synchronisation des meta-données :

- Go to Settings \> Synchronization, enter the remote server URL,
  username and password and click Save.

- Go to Metadata administration \> Scheduling. Under Metadata
  synchronization set strategy to Enabled, select the time-period and
  click Start.

Quelques aspects de la fonction de synchronisation des meta-données à prendre en compte :

- The local DHIS2 instance will store the password of the user account
  of the remote instance in its database. The remote user account is
  used for authentication when transferring/downloading data. For
  security purposes make sure you set the _encryption.password_
  configuration parameter in _hibernate.properties_ to a strong
  password.

- Deploying the remote server on SSL/HTTPS is strongly recommended as
  the username and password are sent in clear text using basic
  authentication and could be intercepted by an attacker.

- Also ensure that the remote user is not having ALL authority,
  instead simply create a user with F\_METADATA\_MANAGE authority so
  that even if these details are intercepted by a hacker, one cannot
  have full control of the remote system.

- The meta data synchronization relies on the underlying import layer.
  Each meta data version is an export of meta data between two given
  timestamps. Each sync of meta data version is an attempt to import
  that meta data snapshot into the local instance. The sync of
  versions is incremental. The local instance will try to download the
  meta data versions from the central instance one after the other.
  Failure to sync a specific meta data version will not let the sync
  proceed to further versions. In case of failures, appropriate
  changes must be made to meta data at central to ensure that the
  error gets resolved. Metadata configuration is critical and the
  user should be careful while rolling out the updates to the
  production. It's always recommended to have staging environments in
  place to ensure the sanity of the meta data versions and their
  impact thereafter. The local instance will sync the meta data from
  first version so that harmony is maintained and local and central
  instance will work appropriately.

- The system will attempt a synchronization at the scheduled time. If
  the local or remote server does not have a working Internet
  connection at the time, the synchronization will be aborted and
  re-attempted after as per the retry count as mentioned in the
  _dhis.conf_ file.

- You can see the time of last successful synchronization with remote
  server in the scheduling screen next to the "Last success" label.

### Predictor { #scheduling_predictor } 

Cette fonction exécute les prédicteurs et/ou groupes de prédicteurs sélectionnés.

The relative start and end parameters determine the periods in
which data will be predicted, corresponding to the date on which the
predictor job is run:

- **Relative start** counts the days from the job date to the
earliest date on which a predicted period may start. It can be positive
or negative. For example, a value of 3 means predict into periods that
start at least 3 days after the predictor run. A value of -3 means
predict into periods that start at least 3 days before the predictor run.

- **Relative end** counts the days from the job date to the
latest date on which a predicted period may end. It can be positive
or negative. For example, a value of 9 means predict into periods that
end at least 9 days after the predictor run. A value of -9 means
predict into periods that end at least 9 days before the predictor run.

Setting these values can give you very flexible control over when
predictions will be made, especially if your predictor job is set to
run daily or more frequently. Before you set these values, you should
think carefully about when you want predictions for a period to start
being made, and when you want them to stop being made. Then you
need to compute the appropriate relative start
and end dates.

Exemples:

1. **Requirement**: A predictor uses data from the same week
as the predicted value. (No past sampled data are used.)
After the week ends on Sunday, you expect the data
to be entered in the following two days (Monday and Tuesday).
You don't want to start predicting data until Wednesday after the
week ends because you don't want partial results to be shown.
However, data may still be adjusted on Wednesday, so you want to
update the predictions also on Thursday. After that, the
data are frozen and you don't want to predict for that period anymore.

    **Solution:** For a job running daily or more frequently, define the
    relative start as -10 and the relative end as -2 (for periods
    within 10 to 2 days before the job runs).

    - Before Wednesday of the following week, the period end is
    greater than 2 days before, so no predictions are made.

    - On Wednesday of the following week, the period started 9 days
    before and ended 2 days before. Predictions are made because -9 to -2
    are within the range -10 to -2.

    - On Thursday of the following week, the period started 10 days
    before and ended 3 days before. Predictions are made because -10 to -3
    are within the range -10 to -2.

    - After Thursday, the previous week started more than
    10 days before, so no predictions are made.

    - Predictions are made only on Wednesday and Thursday. On Friday through
    Tuesday, no predictions are made (and the job finishes very quickly).

2. **Requirement**: A predictor is used to forecast a limit (average plus twice
the standard deviation)
for expected non-seasonally varying disease cases based on data from the
previous five weeks. Weeks are Monday through Sunday. Predictions should start
being made from the previous Tuesday, using available data at that time, and
continue being made through Tuesday of the week that the predictions are being
made for (by which time it is assumed that the previous week's data are final).

    **Solution:** For a job running daily or more frequently,
    define the relative start as -1 and the relative end as 12.

    - Before Tuesday, predictions will not be made for the following week because it
    ends more than 12 days later.

    - On Tuesday, predictions will be made for the following week which starts
    in 6 days and ends in 12 days.

    - On Wednesday through the following Tuesday, predictions will be made for
    the week whose start-to-end dates are Wed: 5 to 11, Thu: 4 to 10,
    Fri: 3 to 9, Sat: 2 to 8, Sun: 1 to 7, Mon: 0 to 6, and Tue: -1 to 5.

    - Note that on Tuesday, predictions are made for the current week with
    start-to-end dates -1 to 5, and also for the following week
    with start-to-end dates 6 to 12. On all other days of the week
    predictions are made for one week.

Vous pouvez sélectionner les prédicteurs et les groupes de prédicteurs qui opéreront pendant l'exécution de la tâche :

- **Predictors** runs individual predictors.
They run in the order added.

- **Predictor groups** runs predictor groups.
They run in the order added. The predictors within each group run in the
order of their names (comparing Unicode character values).

If both individual predictors and predictor groups are selected in the same
job, the individual predictors run first, followed by the predictor groups.



# Application Import/Export { #import_export }

In a primary health system, the HMIS typically involves a distributed
application, where the same application is running in different
geographical locations (PHCs,CHCs, hospitals, districts, and state).
Many of these physical locations do not have Internet connectivity, and
hence they work off-line. At some point (normally at the district
level), the data needs to be synchronised in order to have a
consolidated database for the a particular geographical region. For
this, it is important to be able to export data from one location (which
is working offline, say at the health facility level) and import into
another one (say at the district level).
This feature of exporting and importing is thus a crucial function of a HMIS.
This feature also helps us overcome the dependency on the Internet to some
degree, as data updates can be transferred via USB key where there is no
connectivity, or through email where there is limited Internet
connectivity. DHIS2 provides robust export-import functionality to
fulfil these needs.

To access the Import/Export app, search in the top header bar for
Import/Export. Import/Export app offers a number of services details for
which can be found below.

![](resources/images/import_export/overview.png)

## Importation de données { #importing_data }

### Enregistreur de la progression des importations { #import_progress_logger }

No matter what you import ("Data", "Events", "Org unit geometry", "Metadata" or
"Tracked Entity Instances" data), you can always view the progress of
the import by looking at the "Job Summary" at the top of the page.

### Résumés des importations { #metadata_import_summaries }

On import request completion, we show import summaries above the
import form. Any conflicts or errors are shown in the table under the
main summary for the import.

![](resources/images/import_export/import_summary.png)

### Importation de métadonnées { #metadata_import }

Metadata Import can be accessed from the sidebar by clicking on
Metadata Import.

![](resources/images/import_export/metadata_import.png)

1.  Choisissez un fichier à télécharger

2.  Sélectionnez un format : _JSON_ , _CSV_ ou _XML_

3.  Sélectionnez les paramètres appropriés pour :

    - Identificateur
    - Mode rapport d'importation
    - Mode d'économie d'énergie
    - Stratégie d'importation
    - Mode atomique
    - Mode Fusion

4.  Click **Advanced options** if you want to adjust one or more of
    the following settings before importing:

    - Mode Flush
    - Ignorer le partage
    - Ignorer la validation
    - Async
    - Stratégie inclusive

5.  Click on the **Import** button which will upload the file and start the
    importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before
> importing data; to make sure you keep control over any changes to your
> Metadata, and to check for problems with out-of-sync data elements or
> organisation unit names

> **Note**
>
> If an organisation unit e.g. `Nduvuibu MCHP` had a unknown reference to an object with ID `aaaU6Kr7Gtpidn`, it means that the object with ID `aaaU6Kr7Gtpidn` was not present in your imported file, and it was not found in the existing database.
>
> You can control this using **Identifier** option, to indicate if you want to allow objects with such invalid references to be imported or not. If you choose to import invalid references you will have to correct the reference manually in DHIS2 later.

#### Correspondance des identificateurs dans DXF2 { #matching_identifiers_in_dxf2 }

The DXF2 format currently support matching for two identifiers, the
internal DHIS2 identifier (known as a UID), and also using an external
identifier called called a "code". When the importer is trying to search
for references (like the one above), it will first go to the UID field,
and then to the code field. This allows you to import from legacy
systems without having a UID for every meta-data object. I.e. if you are
importing facility data from a legacy system, you can leave out the ID
field completely (DHIS2 will fill this in for you) and put the
legacy system's own identifiers in the code field, this identifier is
required to be unique. This not only works for organisation units, but
for all kinds of meta-data, allowing for easy import from other systems.

### Importation de données { #import }

Data Import can be accessed from the sidebar by clicking on Data
Import.

![](resources/images/import_export/data_import.png)

1.  Choisissez un fichier à télécharger

2.  Sélectionnez un format : _JSON_, _CSV_, _XML_, _ADX_ ou _PDF_

3.  Sélectionnez les paramètres appropriés pour :

    - Stratégie
    - Préchauffer le cache

4.  Click **Advanced options** if you want to adjust one or more of
    the following settings before importing:

    - Schéma d'identification d'un élément de données
    - Schéma d'identification d'une unité d'organisation
    - Schéma d'identification
    - Ignorer un contrôle existant

5.  Click on the **Import** button which will upload the file and start the
    importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before
> importing data; to make sure you keep control over any changes to your
> Metadata, and to check for problems with out-of-sync data elements or
> organisation unit names

#### Données PDF { #importPDFdata }

DHIS2 supports import of data in the PDF format. This can be used to
import data produced by off-line PDF data entry forms. Please refer to
the section **Data set management** for details on how to produce a PDF
form which can be used for off-line data entry.

To import a PDF data file, navigate to the _PDF Data Import_ item in the
side menu. Upload the completed PDF file and click _Import_.

### Importation d'événements { #event_import }

Event Import can be accessed from the sidebar by clicking on Event
Import.

![](resources/images/import_export/event_import.png)

1.  Sélectionnez un format : _JSON_ , _CSV_ ou _XML_

2.  Click **Advanced options** if you want to adjust one or more of
    the following settings before importing:

    - Schéma d'identification des événements
    - Schéma d'identification d'un élément de données
    - Schéma d'identification d'une unité d'organisation
    - Schéma d'identification

3.  Click on the **Import** button which will upload the file and start the
    importing process.

### Importation depuis Earth Engine { #ee_import }

Earth Engine Import can be accessed from the sidebar by clicking on Earth Engine
Import.

Import high resolution population data from WorldPop using Google Earth Engine. A [Google
Earth Engine account](https://docs.dhis2.org/en/topics/tutorials/google-earth-engine-sign-up.html) is required to use this importer.

![](resources/images/import_export/ee_import.png)

#### Select which Earth Engine data should be imported { #select-which-earth-engine-data-should-be-imported } 

La première section du formulaire sert à configurer les données de Earth Engine à importer.

1. Select which Earth Engine dataset should be imported. Currently the choices are *Population* and *Population age groups*.

2. Après la sélection d'un ensemble de données, une période doit être sélectionnée. Une seule période peut être importée à la fois.

3. Choisissez la manière dont les données doivent être arrondies. Par défaut, les données ne sont pas arrondies.

4. Sélectionnez les unités d'organisation vers lesquelles les données seront importées. Si vous sélectionnez des unités d'organisation niveau établissement, vous devez choisir une géométrie associée à l'établissement. Sans géométrie associée à l'établissement, Earth Engine ne peut pas déterminer la population.

![](resources/images/import_export/ee_ou_associated_geometry.png)

#### Select the data elements to import the Earth Engine data into { #select-the-data-elements-to-import-the-earth-engine-data-into } 

Après avoir configuré l'ensemble de données de Earth Engine, vous devez sélectionner l'élément de données vers lequel les données doivent être importées. Pour les ensembles de données scindés en sous-groupes, tels que "Groupes d'âge de la population", l'élément de données DHIS2 doit avoir des sous-éléments sous la forme de combinaisons d'options de catégorie, lesquelles correspondent aux sous-groupes de l'ensemble de données de Earth Engine.

![](resources/images/import_export/ee_group_coc_mapping.png)

> **Configuration des éléments de données pour l'importation depuis Earth Engine**
>
> Lors de la configuration des éléments de données DHIS2 qui vont contenir des données de Earth Engine, si vous prévoyez d'importer des données vers plusieurs niveaux d'unité organisationnelle, assurez-vous que ces niveaux soient ajoutés en tant que niveaux d'agrégation dans la configuration des éléments de données.
>
> Lorsque certains ensembles de données de Earth Engine contiennent des sous-groupes, l'élément de données DHIS2 doit être configuré avec les combinaisons d'options de catégorie correspondantes. Par exemple, l'ensemble de données « Groupes d'âge de la population » est divisé en sous-groupes de genre (homme, femme) et d'âge (par intervalle de 5 ans).
>
> Sur l'interface DHIS2, cela signifie que vous devez avoir une catégorie Homme/Femme et une catégorie de tranche d'âge de 5 ans (<1an, 1-4ans, 5-9ans, 10-14ans... 80+yans). Ces catégories permettent de former des combinaisons.
>
> Conseil de professionnel : pour faire correspondre automatiquement la combinaison d'options de catégorie au sous-groupe de Earth Engine, ajoutez un code à chaque combinaison qui correspond au nom du groupe de Earth Engine. Par exemple, avec « Groupes d'âge de la population », les groupes sont nommés : F_0, F_1, F_5..., M_0, M_1, M_5...

#### Run the import { #run-the-import } 

Après la sélection des combinaisons d'éléments de données et des options de catégorie, le bouton Aperçu s'active. Après avoir examiné les données que vous souhaitez importer, vous pouvez d'abord effectuer un essai  ou procéder à l'importation proprement dite.

![](resources/images/import_export/ee_data_preview.png)

### Importation de Géométrie d'Unité d'Organisation { #geometry_import }

Accessed from the sidebar by clicking on _Org Unit geometry import_. Two
geometry formats are supported: GeoJSON and GML. GeoJSON is the
recommended format and can also be used to import associated geometries
(catchment areas).

#### Importation GeoJSON { #geojson_import }

![](resources/images/import_export/geojson_import.png)

1.  Téléchargez un fichier en utilisant le format GeoJSON.

2.  Par défaut, l'identifiant de la fonctionnalité GeoJSON doit correspondre à celui de l'unité d'organisation.

3.  Check **Match GeoJSON property to organisation unit scheme** to match by
    a feature propery. Type the GeoJSON property name and select the
    Organisation unit ID scheme (_Id_, _Code_ or _Name_).

4.  Check **Import as associated geometry** to import the GeoJSON features
    as associated geometries the organisation units (e.g. catchment areas).
    Select at geometry attribute where the data should be imported. This requires
    an attribure of type _GeoJSON_ applied to _Organisatiot unit_. This
    attribute can be defined in the Maintenance app.

5.  Click on the **Start import** button which will upload the file and start the
    importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before
> importing data; to make sure you keep control over any changes to
> your organisation unit geometries.

#### Importation GML { #gml_import }

![](resources/images/import_export/gml_import.png)

1.  Téléchargez un fichier en utilisant le format _GML_ (Langage de balisage géographique).

2.  Click on the **Import** button which will upload the file and start the
    importing process.

### Importation d'instances d'entités suivies { #tei_import }

Tracked Entity Instances Import can be accessed from the sidebar by
clicking on TEI Import.

![](resources/images/import_export/tei_import.png)

1.  Choisissez un fichier à télécharger

2.  Sélectionnez un format : _JSON_ ou _XML_

3.  Sélectionnez les paramètres appropriés pour :

    - Identificateur
    - Mode rapport d'importation
    - Mode d'économie d'énergie
    - Stratégie d'importation
    - Mode atomique
    - Mode Fusion

4.  Click **Advanced options** if you want to adjust one or more of
    the following settings before importing:

    - Mode Flush
    - Ignorer le partage
    - Ignorer la validation
    - Stratégie inclusive

5.  Click on the **Import** button which will upload the file and start the
    importing process.

> **Tip**
>
> **It is highly recommend to use the Dry run option** to test before
> importing data; to make sure you keep control over any changes to
> your Tracked Entity Instances.

## Exportation de données { #exporting-data } 

### Exportation de métadonnées { #metadata_export }

Metadata export can be accessed from the sidebar by clicking on
Metadata export.

![](resources/images/import_export/metadata_export.png)

1.  Choisissez la liste des objets que vous souhaitez exporter.

2.  Select a format: *JSON*

3.  Choisissez un type de compression: _Zip_ , _gzip_ ou _non compressé_.

4.  Vous êtes libre de cocher _Ignorer les paramètres de partage et d'accès_ ou non.

5.  Click **Export metadata** which will open a new web-browser window
    that will give you a file to download to your local computer.

### Exportation de métadonnées avec des dépendances { #metadata_export_dependencies }

Metadata export with dependencies lets you create canned exports for
metadata objects. This type of export will include the metadata objects
and the metadata object's related objects; that is, the metadata which
belong together with the main object.

Tableau : Types d'objets et leurs dépendances

| Type d'objet          | Dépendances incluses dans l'exportation                                                                                                                                                                                                                                                                                                                                                           |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Ensembles de données**        | Eléments de données<br>   <br> Sections <br>   <br> Indicateurs <br>   <br> Types d'Indicator <br>   <br> Attributs<br>   <br> Formulaires de saisie <br>   <br> Ensemble de données <br>   <br> Légendes <br>   <br> Combinaisons de catégories <br>   <br> Catégorie<br>   <br> Options de catégorie <br>   <br> Combinations d'options de catégorie<br>   <br>Ensemble d'options                                                                                              |
| Programmes             | Formulaire de saisie <br>   <br>Entité suivie <br>   <br> Etapes de programme <br>   <br>Attributs de programme <br>   <br> Indicateurs de programme <br>   <br> Règles de programme <br>   <br> Actions de la règle de programme <br>   <br> Variables de la règle de programme <br>   <br> Attributs du programme <br>   <br> Eléments de données <br>   <br> Combinaison de catégories <br>   <br> Catégories<br>   <br> Options de catégorie <br> <br> Combinaisons d'options de catégorie <br> <br> Ensemble d'options |
| La combinaison de catégories | <<Combinaisons de catégories<br> Catégories<br>Options de catégorie<br> <br>Combinaisons d'options de catégorie<br> <br>Attributs>>                                                                                                                                                                                                                                                                 |
| Tableau de bord            | <Eléments du tableau de bord <br>   <br>Graphiques   <br> Graphiques d'évènements <br>   <br> Tableau croisé dynamique <br>   <br> Rapports d'évènements <br>   <br> Cartes<br>   <br> Rapports<br>   <br> Ressources>                                                                                                                                                                                                                                             |
| Groupes d'éléments de données  | Eléments de données <br>   <br> Combinaisons de catégories <br>   <br> Catégories<br>   <br> Options de catégories <br>   <br>Combinaisons d'options de catégorie <br>   <br> Ensemble d'options <br>   <br> Attributs <br>   <br> Ensemble de légendes <br>   <br> Légendes                                                                                                                                                                                   |
| Ensemble d'options           | Option                                                                                                                                                                                                                                                                                                                                                                                    |

![](resources/images/import_export/metadata_dependency_export.png)

![](resources/images/import_export/metadata_dependency_export_object_types.png)

1.  Select an object type: _Data sets_, _Programs_, _Category combination_,
    _Dashboard_, _Data element groups_ or _OptionSets_.

2.  Sélectionnez un objet.

3.  Select a format: *JSON*

4.  Choisissez un type de compression: _Zip_ , _GZip_ ou _non compressé_.

5.  Click **Export metadata dependencies** which will open a new
    web-browser window that will give you a file to download to your
    local computer.

### Exportation de données { #data_export }

Data export can be accessed from the sidebar by clicking on Data
export.

![](resources/images/import_export/data_export.png)

1.  Sélectionnez les unités d'organisation à partir desquelles les données seront exportés.

2.  Select if you want export to include descendants of organisation
    units selected in Step 1 or only the manually selected
    organisation units.

3.  Sélectionnez les ensembles de données qui seront exportés.

4.  Définissez les dates de début et de fin

5.  Sélectionnez un format : _JSON_, _CSV_, _XML_, _ADX_

6.  Sélectionnez un mode de compression : **Zip** , **GZip** ou **Non compressé**.

7.  Click **Advanced options** if you want to adjust one or more of
    the following settings before exporting:

    - Inclure les éléments supprimés
    - Schéma d'identification d'un élément de données
    - Schéma d'identification d'une unité d'organisation
    - Schéma d'identification

8.  Click **Export data** which will open a new web-browser window
    that will give you a file to download to your local computer.

### Exportation d'événements { #event_export }

Event export can be accessed from the sidebar by clicking on Event
export.

![](resources/images/import_export/event_export.png)

Vous pouvez exporter des données d'événement ou de suivi en utilisant les formats JSON, CSV ou XML.

1.  Sélectionnez une unité d'organisation.

2.  Sélectionnez l'inclusion :

    - _Selected_: Export event data only for the selected
      sélectionnez une unité d'organisation.

    - _Directly below_: Export event data including the first
      level of the organisation units inside the selections as well
      as the selected organisation unit itself.

    - _All below_: Export event data for all organisation units
      inside the selections as well as the selected organisation
      unit itself.

3.  Sélectionnez un programme et une étape du programme (le cas échéant).

4.  Définissez les dates de début et de fin

5.  Sélectionnez un format : _JSON_ , _CSV_ ou _XML_

6.  Choisissez un mode de compression: _Zip_ , _GZip_ ou _non compressé_.

7.  Click **Advanced options** if you want to adjust one or more of
    the following settings before exporting:

    - Inclure les éléments supprimés
    - Schéma d'identification d'un élément de données
    - Schéma d'identification d'une unité d'organisation
    - Schéma d'identification

8.  Click **Export events** which will open a new web-browser window
    that will give you a file to download to your local computer.

### Exportation d'instances d'entités suivies { #tei_export }

Tracked entity instances export can be accessed from the sidebar by
clicking on TEI export.

![](resources/images/import_export/tei_export.png)

Vous pouvez exporter des données d'événement ou de suivi en utilisant les formats JSON, CSV ou XML.

1.  Sélectionnez les unités d'organisation à inclure.

2.  Choisissez si vous voulez filtrer par programme ou type d'entité suivie.

3.  Sélectionnez un format : _JSON_ , _CSV_ ou _XML_

4.  Click **Advanced options** if you want to adjust one or more of
    the following settings before exporting:

    - Filtrer par date de dernière mise à jour
    - Mode d'utilisateur assigné
    - Inclure les éléments supprimés
    - Inclure tous les attributs
    - Schéma d'identification d'un élément de données
    - Schéma d'identification des événements
    - Schéma d'identification d'une unité d'organisation
    - Schéma d'identification

5.  Click **Export tracked entity instances** which will open a new
    web-browser window that will give you a file to download to your
    local computer.

## Aperçu des tâches { #job_overview }

The job overview page can be accessed from the sidebar by clicking on
_Job Overview_.

![](resources/images/import_export/job_overview.png)

This page allows you to see the progress of all the imports you have
started this session. You can see the list of all jobs on the left
side and details about a specific selected job on the right.

### Filtrage par type de tâche d'importation { #filtering-by-import-job-type } 

![](resources/images/import_export/job_overview_filter.png)

By default jobs of all import types are shown in the job list, but you
can filter categories you are interested in by clicking on the job
type filters above the job list.

### Recréer une ancienne tâche { #recreating-a-previous-job } 

![](resources/images/import_export/job_overview_recreate.png)

You can recreate previously run import jobs by clicking on the
_Recreate job_ button at the bottom of the page, assuming you have
selected a job from the list. This will take you to the correct import
page and fill in all the form details exactly as the job you chose to
recreate.

## Schémas { #schemes } 

The various schemes used in many of the import and export pages are
also known as identifier schemes and are used to map metadata objects
to other metadata during import, and to render metadata as part of
exports.

Tableau : Valeurs disponibles

| Schéma       | Description                                                                                                                                                                                                                                                                                                                                                         |
| ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ID, UID      | Correspondre avec l'identifiant permanent DHIS2. il s'agit du schéma d'identification par défaut.                                                                                                                                                                                                                                                                                                    |
| CODE         | Correspondre avec le code DHIS2, principalement utilisé pour échanger des données avec un système externe.                                                                                                                                                                                                                                                                                          |
| NOM         | Correspondre avec le nom DHIS2. Veuillez noter que c'est l'élément disponible en tant que _nom.de l'objet_ qui est utilisé, et non le nom traduit. Notez également que les noms ne sont pas toujours uniques. Lorsque des noms sont déjà utilisés, ils ne peuvent plus l'être.                                                                                                                                                                |
| ATTRIBUT:ID | Correspondre avec l'attribut de métadonnées. Cet attribut doit être assigné au type sur lequel vous faites correspondre, d'autant plus que la propriété unique est définie sur _vrai_. Cette fonctionnalité permet principalement d'échanger des données avec des systèmes externes. Il présente certains avantages par rapport à _CODE_ puisque plusieurs attributs peuvent être ajoutés. Il peut donc se synchroniser avec plus d'un système. |

### Schéma d'identification { #id-scheme } 

The ID scheme applies to all types of objects, but can be overwritten
by more specific object types.



# Configurer la synchronisation des métadonnées { #metadata_sync } 

## À propos de la synchronisation des données et des métadonnées { #about-data-and-metadata-synchronization } 

Vous pouvez synchroniser les données et les métadonnées entre les différentes instances du DHIS2. 
Dans une stratégie de déploiement central-local, les métadonnées 
créées au niveau du système central peuvent être synchronisées avec le système local 
et les données créées au niveau du système local peuvent être synchronisées avec le 
système central. Cela peut être utile lorsque vous avez plusieurs instances autonomes 
de DHIS2 et que des métadonnées globales doivent être créées à toutes les 
instances locales.

![](resources/images/metadata_synchronization/dhis2_architecture.png)

Si la création et la mise à jour des métadonnées ont lieu au niveau du système central et si 
la tâche de synchronisation des métadonnées est activée, les métadonnées sont alors 
synchronisées jusqu'à toutes les instances locales liées à 
l'instance centrale. Ces instances locales transmettront à leur tour à l'instance centrale les valeurs des données, 
les données des programmes d'événements et de suivi ainsi que les ensembles complets 
d'enregistrement des données. L'activation ou la désactivation du versionnage de la 
synchronisation des métadonnées au niveau de l'instance locale n'entravera pas le 
processus de synchronisation des métadonnées. En effet, la synchronisation des 
métadonnées interagit avec les points finaux de versionnement de l'instance centrale et non 
avec les points finaux de l'instance locale.

Chaque instantané d'exportation de métadonnées généré est référencé à une version de 
métadonnées. Une nouvelle version de métadonnées ne contient que les modifications entre la 
version précédente et la version actuelle, c'est-à-dire qu'il s'agit d'une exportation entre 
deux horodateurs. Toutes les versions de métadonnées sont maintenues dans la base de 
données DHIS2 et sont disponibles pour toutes les instances locales qui s'y connectent. 
Vous pouvez programmer chacune des instances locales pour télécharger de nouvelles 
versions de métadonnées. Il est recommandé de conserver une taille réduite et logique des 
versions de métadonnées.

> **Attention**
>
> Chaque instance du DHIS2, qu'elle soit centrale ou locale, peut créer des versions de 
> métadonnées. L'instance locale est destinée à synchroniser les métadonnées provenant 
> d'un système central et non à créer des métadonnées de manière autonome.
>
> Si une nouvelle version de métadonnées est créée sur l'instance locale, cette 
> instance ne peut donc pas recevoir de nouvelles versions de métadonnées de l'instance 
> centrale, car le contenu des versions de métadonnées sera 
> désynchronisé.
>
> Si vous avez créé des versions de métadonnées sur une instance locale, vous devez 
> alors supprimer manuellement ces versions de la base de données avant de pouvoir 
> synchroniser avec l'instance centrale.
>
> Supposons que les instances DHIS2 centrales et locales aient des instantanés de 
> métadonnées identiques jusqu'à la version 10. Ensuite, l'instance locale crée un nouvel 
> instantané appelé version 11. Après cela, l'instance centrale crée un 
> nouvel instantané appelé version 11. Lorsque l'instance locale tente de 
> synchroniser les métadonnées, la version 11 n'est pas téléchargée. Cependant, le 
> contenu de la version 11 sur l'instance locale n'est pas identique au 
> contenu de la version 11 sur l'instance centrale.

> **N.B.**
>
> Vous pouvez également utiliser l'application **Import-Export** pour synchroniser les 
> métadonnées manuellement.

## Déroulement { #workflow } 

1.  Sur l'instance centrale, configurez le versionnage des métadonnées. Vous devez
    le faire une fois que l'instance centrale contient des métadonnées.

2.  Connecter la ou les instances locales à l'instance centrale.

3.  Sur la ou les instance(s) locale(s), configurez la synchronisation automatique.

## Configurer le versionnement des métadonnées sur l'instance centrale { #configure-metadata-versioning-on-central-instance } 

> **N.B.**
>
> Pour synchroniser les métadonnées, le compte utilisateur du système central doit 
> avoir l'autorité suivante :
>
> **F\_GESTION\_DES MÉTADONNÉES **
>
> Seuls les utilisateurs disposant de cette autorité pourront alors créer et 
> télécharger des métadonnées. Cette mesure vise à garantir la sécurité du système central 
> où les métadonnées sont créées. Au lieu de donner les références de 
> l'utilisateur ayant l'autorité TOUT sur les instances de terrain, vous devez créer un 
> utilisateur ayant uniquement cette autorité spécifique.

1.  Sur l'instance centrale, ouvrez l'application **Paramètres système** et cliquez sur 
    **Synchronisation**.

2.  Allez dans la section **Versionnage des métadonnées** et sélectionnez **Activer
    le versionnage pour la synchronisation des 
    métadonnées**.

    ![](resources/images/metadata_synchronization/metadata_versioning.png)

3.  (Facultatif) Sélectionnez **Ne pas synchroniser les métadonnées si les versions DHIS2 diffèrent**.

4.  Sélectionnez un type de version de métadonnées : **Mode au mieux** ou **Atomique**.

      - *Le meilleur effort* signifie que si l'importation de métadonnées rencontre
        des références manquantes (par exemple des éléments de données manquants lors de l'importation d'un  
        groupe d'éléments de données), elle ignore les erreurs et poursuit
        l'importation.

      - *Atomique* signifie tout ou rien - l'importation des métadonnées échouera si 
        l'une des références n'existe pas.

        > **Note**
        >
        > Each metadata entity is associated with a "User" object. If
        > this "User" reference is missing while importing metadata
        > version of type ATOMIC, the import will fail at the validation
        > phase itself. This means that the user who creates metadata
        > also needs to synchronize down to local instances to
        > successfully import the metadata version of type ATOMIC.

5.  Cliquez sur **Créer une nouvelle version**. La nouvelle version est ajoutée au 
    tableau de versionnage.

## Connecter un instances locale à l'instance centrale { #connect-local-instance-to-central-instance } 

Pour activer la synchronisation des métadonnées, vous devez configurer la connexion 
entre l'instance locale et l'instance centrale.

1.  Sur l'instance locale, ouvrez l'application **Paramètres système** et cliquez sur 
    **Synchronisation**.

2.  Ajoutez les détails de l'instance centrale du DHIS2 à l'instance locale :

      - **L'URL du serveur distant**

      - **Nom d'utilisateur du serveur distant**

      - **Mot de passe du serveur distant**

3.  Allez dans la section **Versionnage des métadonnées** et sélectionnez **Activer
    le versionnage pour la synchronisation des métadonnées**

4.  (Facultatif) Sélectionnez **Ne pas synchroniser les métadonnées si les versions DHIS2 diffèrent**.

    Le schéma des métadonnées change entre les versions de DHIS2, ce qui pourrait 
    rendre incompatibles différentes versions de métadonnées.

    Lorsqu'elle est activée, cette option ne permet pas la synchronisation des 
    métadonnées si l'instance centrale et l'instance locale ont des versions DHIS2 
    différentes. Cela s'applique à la synchronisation des métadonnées effectuée via 
    l'interface utilisateur et l'API.

    La seule fois où il peut être utile de désactiver cette option est lors de
    la synchronisation d'entités de base, par exemple des éléments de données, qui n'ont
    pas changé d'une version DHIS2 à une autre.

5.  (Facultatif) Configurez les notifications par courrier électronique pour informer les utilisateurs de
    la réussite ou de l'échec de la synchronisation des métadonnées :

    1.  Ouvrez l'application **Paramètres système**, puis cliquez sur **Email**.

    2.  Entrez **Nom d'hôte**, **Port**, **Nom d'utilisateur**, **Mot de passe** et 
        **Expéditeur de l'e-mail**.

    3.  Cliquez sur **Serveur** et saisissez une **Adresse électronique de notification du 
        système**.

        Cette adresse électronique recevra des notifications sur l'état de la 
        synchronisation des métadonnées.

    > **Tip**
    >
    > When you receive email notification about a metadata
    > synchronization failure, check which metadata version that causes
    > the error and resolve it. Then you avoid future errors when the
    > system downloads new metadata versions.

## Configurer la synchronisation automatique des métadonnées sur l'instance locale { #configure-automatic-metadata-synchronization-on-local-instance } 

Une fois que vous avez configuré la synchronisation automatique des métadonnées 
(programmation) sur la ou les instance(s) locale(s), le programmateur s'exécutera à ce 
moment précis et synchronisera (téléchargera et importera) les métadonnées de l'instance 
centrale. Aucune intervention manuelle n'est requise de la part des utilisateurs de la ou les 
instances locale(s).

Une fois que le programmateur a terminé la synchronisation des métadonnées, l'instance 
locale disposera des métadonnées exactement telles qu'elles ont été créées sur le système 
central.

> **N.B.**
>
> Les mots de passe des utilisateurs ne sont pas synchronisés. Ils sont annulés pour 
> des raisons de sécurité. Après la synchronisation des métadonnées, l'utilisateur Admin doit 
> réinitialiser ces mots de passe.

1.  Sur l'instance locale, ouvrez l'application **Administration de données** et 
    cliquez sur **Programmation**.

2.  Dans la section **Synchronisation des métadonnées**, sélectionnez **Activé**.

3.  Sélectionnez une période : **Journalier**, **Hebdomadaire**, **Mensuel** ou 
    **Annuel**.

    ![](resources/images/metadata_synchronization/metadata_sync.png)

4.  Cliquez sur **Démarrer**.

## Créer manuellement une nouvelle version de métadonnées sur une instance centrale ou locale { #create-a-new-metadata-version-manually-on-central-or-local-instance } 

1.  Ouvrez l'application **Paramètres système**, puis cliquez sur **Synchronization**.

2.  Allez dans la section **Versionnage des métadonnées** et sélectionnez **Activer
    le versionnage pour la synchronisation des métadonnées**

3.  (Facultatif) Sélectionnez **Ne pas synchroniser les métadonnées si les versions DHIS2 diffèrent**.

4.  Sélectionnez **Mode au mieux** ou **Atomique**.

5.  Cliquez sur **Créer une nouvelle version**. La nouvelle version est ajoutée au 
    tableau de versionnage.

Lorsque le système est une *instance centrale*, vous verrez trois colonnes dans le 
tableau de versionnage :

![](resources/images/settings/metadata_versioning_table.png)


| Objet | Description |
|---|---|
| Version Master | La dernière version du système. |
| Version | Nom de la version. Le nom est généré automatiquement par le système. |
| Quand | L'horodatage de la création de la version des métadonnées au niveau de l'instance centrale. |
| Type | Type de version des métadonnées. |

Lorsque le système est une *instance locale*, vous verrez quatre colonnes dans le 
tableau de 
versionnage :

![](resources/images/settings/metadata_versioning_table_failure_case.png)


| Objet | Description |
|---|---|
| Version Master | La dernière version de l'instance centrale. <br> <br> **Remarque** <br> <br> Les informations de la version master correspondent à la dernière version de l'instance centrale. Il est important d'examiner la différence entre les versions des métadonnées au niveau central et local. |
| Dernière tentative de synchronisation | Si la dernière tentative de synchronisation échoue, cela s'affichera. |
| Version | Nom de la version. Le nom est généré automatiquement par le système. |
| Quand | L'horodatage de la création de la version des métadonnées au niveau de l'instance centrale. |
| Type | Type de version des métadonnées. |
| Dernière synchronisation | Date de la dernière synchronisation pour cette version dans ce système. |

## Informations de référence : paramètres de configuration de la synchronisation des métadonnées { #reference-information-metadata-synchronization-configuration-parameters } 

Le processus de synchronisation des métadonnées est appelé Tâche de synchronisation
des métadonnées. Cette tâche s'effectue en une série d'étapes avant la synchronisation 
des métadonnées :

  - Données de type push (données agrégées et données d'événements anonymes) de l'instance 
    locale à l'instance centrale.

  - Obtient la version actuelle des métadonnées de l'instance locale. Il utilise
    ensuite ces informations de version comme base de référence pour obtenir la liste des versions de
    métadonnées créées après la base de référence.

  - Si de nouvelles versions sont créées à l'instance centrale, elle effectue
    la synchronisation des versions de métadonnées l'une après l'autre. Un mail
    sera envoyé à l'utilisateur configuré (le cas échéant) après chaque synchronisation réussie 
    de la version des métadonnées sur l'instance locale.

Une fois que la tâche de synchronisation des métadonnées a été exécutée à l'heure prévue, la tâche peut 
recommencer (si l'une des étapes échoue) en fonction de la configuration des 
paramètres suivants définis dans le fichier `dhis.conf` :


| Paramètre | Valeur par défaut |
|---|---|
| `metadata.sync.retry` | 3 |
| `metadata.sync.retry.time.frequency.millisec` | 30000 |

Chaque nouvelle tentative sera effectuée après le temps (en millisecondes) indiqué. Si 
les étapes échouent toujours même après toutes les tentatives, le planificateur 
arrête alors son exécution et un courrier électronique est envoyé à l'utilisateur configuré 
(le cas échéant). Si aucune valeur n'est spécifiée, les valeurs par défaut seront 
utilisées.

`metadata.sync.retry` = 5

`metadata.sync.retry.time.frequency.millisec` = 10000



# Mobile { #mobile } 

This chapter covers various mobile technologies including Web, J2ME, SMS
Service and SMS Command.

## Introduction à la version Mobile de DHIS2 { #mobile_intro } 

DHIS2 provides a range of options to allow data entry from mobile
devices, including a dedicated GPRS/3G J2ME client and two versions of
DHIS2 which have been optimized specifically for mobile browsers. Each
of these solutions will be described in detail in the following
sections. DHIS2 offers several Android clients, which are described in
detail in other sections of this guide.

Collection of data in the field can be technically challenging and
expensive. Mobile phone solutions have the potential to significantly
reduce the complexity of deploying a distributed data collection system.
Using a simple Java client installed on a mobile phone or a web browser
which works on the mobile phone, field workers can report directly to
the DHIS2 database through their mobile device.

While mobile phone solutions have a great potential, there are
complexities with such deployments. Phones lack processing power and
have a small display, they need to be charged, and often such
deployments make the most sense in areas with poor or intermittent
network coverage.

Each of the mobile solutions are introduced briefly below, and the
discussed in separate sections in detail:

  - DHIS2 Light: A mobile browser optimized data entry module for all
    devices

    This module allows for data entry directly with the browser of the
    mobile device. A wide range of devices and mobile browsers are
    supported including: Opera mini 3 & 4 (basic and advanced) - Opera
    mini 4, Nokia S40 mobiles ,Windows Phone 7, Window Mobile 6, Palm
    Pre, Blackberry (v5 and v6), Firefox mobile, iOS devices (iPhone)
    and Android devices. This client does not have offline-support, and
    an active GPRS/3G connection is required. It does not require a new
    application installation on the phone to support new features, but
    does require a stable data connection for use. This solution is
    described in [Mobile browser based data entry](#mobile_web_based)

  - DHIS2 Smartphone client: A mobile browser optimized data entry
    module for Smartphone devices

    This module allows for data entry directly with the browser of a
    Smartphone. Offline data entry is supported and it does not require
    any installation of a special client on the phone itself.

  - Client J2ME GPRS/3G

    DHIS-mobile includes two separate J2ME clients supporting
    GPRS/EDGE/3G as a transport mechanism. One clients supports facility
    aggregate reporting and the second client supports name-based
    program tracking. These clients are split into separate applications
    to make deployment easier. Some health workers may have both
    applications installed on their phone. Both of these clients support
    offline-storage of data and work on J2ME enabled devices (feature
    phones). .?\>

    An active GPRS/3G connection is required in order to send data to
    the DHIS2 database, but data can be entered offline and transmitted
    when a connection is present. This client is intended primarily for
    low-end devices which support J2ME applications, although the
    offline-supports adds some memory requirements which limits the
    handset selection. While the solution is primarily tested on Nokia
    phones, it also works on several other J2ME capable handsets.

    The facility reporting J2ME client is described in the chapter "J2ME
    GPRS/3G Client"


## Saisie de données par navigateur mobile { #mobile_web_based } 

### Démarrer avec la saisie de données par navigateur mobile { #getting-started-with-mobile-browser-data-entry } 

This approach is for data-entry on a smart phone with a mobile browser
by navigating to the URL of the DHIS2 instance, for example: the full
URL link for demo on [dhis2.org](dhis2.org)
<http://apps.dhis2.org/dev/mobile/index.action> . And your mobile
browser will automatically detect the DHIS2 application where the server
URL is given (e.g.: <http://apps.dhis2.org/dev>). Here is the login form
to access the application with user-name and password. Click on "Login"
to continue or "Reset" to reset:

![](resources/images/dhis2_mobile_web_based/mobile-browser-login.png)

Après s'être connecté, vous verrez afficher la liste des fonctions :

![](resources/images/dhis2_mobile_web_based/mobile-browser-menu.PNG)

**- Aggregate Reporting:** Entries for aggregate data with
defined/assigned dataset by organisation-units

\- **Tracking:**

  - Find Person: find person based on Name, Phone Number or ID, and
    Organization unit.

  - Activity Plan: Entries data for the persons by organisation-units,
    persons and programs/program-stages

  - Enregistrement des personnes : Enregistrer une nouvelle personne

  - Anonymous : Entrées pour les personnes anonymes basées sur des programmes

**- Messages:** Manage the messages and discussions from the server.
Message reply is available. User can send feedback message in Messages.

**- Rapports:** Les rapports de sortie du serveur.

\- **Settings:** User-information (e.g.: First-name, Surname, Phone
number, E-mail) and the Interface language.

**- Déconnexion :** pour se déconnecter de l'application.

**- Desktop version**: navigate to the desktop version of DHIS2 for
administration. This require a lot of resources from the client mobile,
for example: the sufficient memory to load the pages. Not recommended
for the normal GPRS/3G/... phones.

La liste ci-dessus sera expliquée plus en détail :

1.  **Aggregate Reporting:** Entries for aggregate data with
    defined/assigned dataset by
    organisation-units.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-aggregate-reporting.PNG)

    Click on the "Aggregate Reporting", then choose an Organisation Unit
    from the list and the list of the datasets will be appeared for
    entering aggregate data. See the below example:

    **Step 1: Select an Organisation Unit from the
    list**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-select-orgunit.png)

    **Step 2: Select a Dataset (entry form) from the
    list**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-select-dataset.png)

    **Step 3: Select a period (based on the period type of the chosen
    dataset) from the
    list**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-select-period.png)

    **Step 4: Entering the
    data**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-entry.png)

    **Step 5: Save the data entered after completing the data, choose
    the option for data completeness if
    having.**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-entry-complete-save.png)

2.  **Tracking:** **Find/Add Person, Visit Schedule, Person
    Registration,
    Anonymous**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-menu-2.PNG)

    2.1 ***Find/Add Person***: find person based on Name, Phone Number
    or ID, and Organization unit.

      - Step 1: insert Name, Phone Number or ID and select the
        Organization Unit, then click
        Search.

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-find-person-1.PNG)

      - Step 2: select a
        person

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-findPersonStep2.png)

        Ensuite, toutes les informations de cette personne s'afficheront

      - Step 3: choose the next program stage for entering the
        data

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-findPersonStep3.png)

        To view all the program stages, click on the name of that
        program (Child Heath Program as the screen
        shot)

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-findPersonStep3.1.png)

    2.2: ***Visit Schedule***: Choose An Organization Unit

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-org.png)

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-activityPlan.png)

      - Current Activity Plan: the list of the beneficiaries registered,
        enrolled, not yet finish/complete a/many program and there is at
        least a program-stage open for data-entry.

        \+ *Step 1: Choose a Person for
        entry*

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-BE.png)

        \+ *Step 2: Choose a current and active program-stage for
        entering the
        data*

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-PGS.png)

        You can also see the person's information (ID, gender, Date of
        Birth, and Blood Group) by clicking on the Details (on top of
        the list
        appeared)

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-details.png)

        The details information of the chosen
        person:

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-details-info.png)

      - All Activity Plan: the list of all beneficiaries registered,
        enrolled, not yet finish/complete a/many program.

      - Single
        Event:

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-activityPlan-singleEvent.png)

    2.3 : **Enregistrement des personnes :** Enregistrer une nouvelle personne

      - Step 1: Entry personal
        information

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-personRegistrationStep1.png)

      - Step 2: Enrol program for the person just been registered, then
        click
        "Enroll".

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-personRegistrationStep2.png)

      - Step 3: Entry required information for the chosen program, then
        click
        "Enroll"

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-personRegistrationStep3.png)

        Here is the
        result:

        ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-personRegistrationStep4.png)

    2.4: **Anonymous:** Entries for anonymous person based on specific
    programs

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-tracking-anonymous.png)

3.  **Messages:** Manage the messages and discussions from the
    server. Message reply is
    disponibles.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages-menu.PNG)

    The number showed is the unread messages. Click on that to view the
    list of the messages (the unread messages are in bold and dark blue
    color):

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-message-conversations.PNG)

    Then you can pick up the message/topic for the discussions by
    leaving the reply message, see this
    example:

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages-reply.png)

    User can create and send a feedback to server in messages section.
    After sending out the new feedback, the message (feedback) will be
    listed under "Messages" for further following up.

4.  **Reports:** The output reports from the
    server

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-reports.png)

    (sera mis à jour)

5.  **Settings:** User-information (e.g.: First-name, Surname, Phone
    number, E-mail) and the Interface
    language.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-settings.png)

    Here is the form for setting the user account/access and the
    interface language. Click on "SAVE" for completing the settings, see
    the example
    below:

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-settings-update.png)

6.  **Logout:** to log out the
    application

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-logout.png)

7.  **Desktop version**: navigate to the desktop version of DHIS2 for
    administration.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-desktop-version.png)

    Here is the GUI of the desktop version (which require much memory
    for loading), not recommended for normal mobile. The example with
    DHIS2 Demo (from
    [dhis2.org](dhis2.org))

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-desktop-version-GUI.png)

<!-- end list -->

1.  ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-data-entry.png)

    After clicking on the "Namebased Data Entry", the next will guiding
    to the selections in the following steps:

    **Step 1: Choose an Organisation
    Unit**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-org.png)

    **Step 2: Choose the Activity
    Type**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-AC.png)

    (the screen-shot with an example with "Current Activity Plan"
    option)

    Il y aura normalement les deux types d'activités suivants :

    \+ "Current Activity Plan": the list of the beneficiaries
    registered, enrolled, not yet finish/complete a/many program and
    there is at least a program-stage open for data-entry.

    \+ "All Activity Plan": the list of all beneficiaries registered,
    enrolled, not yet finish/complete a/many program.

    **Step 3: Choose a Beneficiary for
    entry**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-BE.png)

    (la capture d'écran avec un exemple utilisant l'option "Hybia Welde")

    **Step 4: Choose a current and active program-stage for entering the
    data**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-PGS.png)

    (the screen-shot with an example with "16-24 months after birth"
    option)

    You can also see the beneficiary's information (ID, gender, Date of
    Birth, and Blood Group) by clicking on the Details (on top of the
    list
    appeared)

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-choose-details.png)

    The details information of the chosen
    beneficiary:

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-namebased-details-info.png)

2.  **Beneficiary Registration:** Registry a new
    beneficiary

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-registration.png)

    **Step 1: Choose an
    OrganisationUnit**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-registration-choose-OU.png)

    **Step 2: Fill in the Beneficiary Registration
    form**

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-registration-form.png)

    There necessary information: Full Name, Gender, Date of Birth (and
    Blood Group).

    Cliquez sur "Sauvegarder" pour enregistrer un nouveau bénéficiaire.

    A message "Successfully Saved" will appear when the beneficiary is
    created/registered
    successfully.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-registration-form-success.png)

3.  **Beneficiary Enrollment:** Enrol a beneficiary to one or many
    programs


    ![](resources/images/dhis2_mobile_web_based/mobile-browser-beneficiary-enrollment.png)

    Before enrolling a beneficiary to a program, the search function for
    a beneficiary is provided:

    If the beneficiary is found, the result will be listed. The simply
    click on the beneficiary name for navigating to the programs in
    which the beneficiary enrolled:

    The below screen-shot example describes the beneficiary named
    "Nguyen Van A":

    \- Has not enrolled any programs before

    \- There is one program: "Child Health Program" available for
    enrolment

    The list of the available programs for enrolment will be listed.
    Just click on the program for enrolment by specifying the date of
    enrolment and the date of incident. See the example:

    After clicking on the "ENROLL" button, if successful, the program
    enrolled will be listed under "Enrolled Programs for" + \<Name of
    the beneficiary\>, see the example:

4.  **Messages:** Manage the messages and discussions from the
    server. Message reply is
    disponibles.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages.png)

    The number showed is the unread messages. Click on that to view the
    list of the messages (the unread messages are in bold and dark blue
    color):

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages-unread.png)

    Then you can pick up the message/topic for the discussions by
    leaving the reply message, see this
    example:

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-messages-reply.png)

5.  **Reports:** The output reports from the
    server

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-reports.png)

    (sera mis à jour)

6.  **Settings:** User-information (e.g.: First-name, Surname, Phone
    number, E-mail) and the Interface
    language.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-settings.png)

    Here is the form for setting the user account/access and the
    interface language. Click on "SAVE" for completing the settings, see
    the example
    below:

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-settings-update.png)

7.  **Feedback:** the extra function for creating a new message to
    send to the server. The new created feedback from this will be
    listed under
    "**Messages**"

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-feedback.png)

    After clicking on the "Feedback", there will be a form for
    editing/sending out a new message/discussion. See the example
    below:

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-feedback-new.png)

    After sending out the new feedback, the message (feedback) will be
    listed under "Messages" for further following
    up.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-feedback-listed-in-messages.png)

8.  **Logout:** to log out the
    application

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-logout.png)

9.  **Desktop version**: navigate to the desktop version of DHIS2 for
    administration.

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-desktop-version.png)

    Here is the GUI of the desktop version (which require much memory
    for loading), not recommended for normal mobile. The example with
    DHIS2 Demo (from
    [dhis2.org](dhis2.org))

    ![](resources/images/dhis2_mobile_web_based/mobile-browser-desktop-version-GUI.png)

## Les Clients J2ME GPRS/3G { #mobile_j2me_gprs_3g } 

The DHIS2 GPRS/3G mobile module provides a mechanism for remote clients
using mobile phones to enter data directly into the DHIS2 system. There
are two functions of the client, namely:

The solution relies on the mobile phone having a data connection
available (i.e. GPRS, Edge, 3G), over which it communicates with a DHIS2
instance which must be publicly available on the internet, as any other
web server. The client application on the phone downloads the data entry
forms to the phone from the server, and the forms can therefore be
updated without installing a new application. This is also a crucial
feature for community reporting, which relies on regularly downloading
activity plans from the server.

  - Facility reporting, for data entry and reporting of regular DHIS2
    aggregate data,

  - Activity reporting, for supporting individual activity reporting
    with the Community module.

### Disponibilité des connexions de données { #data-connection-availability } 

Data connection availability can be a problem in many of the contexts
where DHIS2 mobile reporting would otherwise be a good solution for
getting data directly into DHIS2. If that is the case for you, you might
want to consider trying the SMS based solution described in a separate
document. Keep in mind that even though a data connection is currently
required for communication between the server and the mobile phone, it
is only required when initializing or updating the mobile application
and when sending reports to the server. The phone stores all entered
data locally, so it can work fine with only temporary access to a data
connection on a regular basis.

### Client J2ME GPRS 3G des rapports fournis par les établissements { #mobile_j2me_gprs_3g_facility_reporting } 

The server side component of the web based solution is included in the
general build of DHIS2.

In order to configure the DHIS2 web-based mobile reporting, you should
follow the following steps.

  - Set the "Available for Mobile Reporting" flag for the data sets you
    want reported: Under *Maintenance-\>DataSet*-\>*Edit* mark the
    “Available for Mobile Reporting” check box and save.

  - Create a user role for the mobile user. Select
    *Maintenance-\>Users-\>User Role-\>Add new*. Add a user role name
    and description. Add the desired data sets for the role. The mobile
    user role will need to have at least privileges for DHIS2 Web API.
    Save the user role by clicking "Save".

  - Create a user which will be used by the client to login from
    *Maintenance-\>Users-\>User -\>Add new*. Fill in all of the required
    details, keeping in mind that the password must be at least 8 digits
    long, contain one capital letter,and one digit. Assign the desired
    user role to the user which was created in the previous step.

    > **Important**
    >
    > Assign the user to exactly **one** organisation unit. Each mobile
    > reporting client will need their own user name and password.

### Configuration détaillée des ensembles de données et des formulaires de déclaration { #detailed-configuration-of-data-sets-and-reporting-forms } 

Though the previous steps is all that should be needed for testing the
solution more detail configuration of the datasets may be required and
are described in the following sections.

#### La mise en correspondance des ensembles de données pour constituer la mise en page sur le téléphone { #the-mapping-of-data-sets-to-form-layout-on-the-phone } 

By default, a data set is mapped to a single form on the phone. If the
data set is divided into sections, each section is displayed as a
separate page on the phone. If a data element has more than one category
option combo it will be displayed as a heading with the category
combination options following.


||||
|---|---|---|
| **Élément de conception de formulaire** | **Métadonnées DHIS2** | **Élément de métadonnées** |
| Titre du formulaire | Ensemble de données | Nom abrégé si possible. Dans le cas contraire, garder le nom |
| Titre de la page | Section | Nom de la section (ou nom du formulaire s'il n'y a pas de sections) |
| Question | Élément de données | Nom alternatif si possible. Dans le cas contraire, garder le nom |
| Nom de la question, s'il y'a des combinaisons | Combinaison d'options de catégorie | nom |

#### Triage des formulaires { #sorting-of-forms } 

By default, data elements will be sorted according to the global sorting
assigned in DHIS2. If sections are used, their section specific sorting
order will be used. In some cases, when sections are not used, a data
element might be used in multiple data sets, and conflict in the way it
should be sorted in individual data sets. A work around for this
situation is to wrap the whole dataset in one section (note that this
will only work if the data elements have the same category option combo)

#### Versionnage des ensembles de données { #versioning-of-data-sets } 

To make it possible to compare and update the data sets on the mobile
phone with the version on the server, data sets are automatically
versioned when you edit the data set structure. Some changes which occur
on the DHIS2 server, will cause the mobile client to update its forms
with a new version.

  - Créer un ensemble de données

  - Modifier un ensemble de données

  - Créer/modifier/supprimer une section dans l'ensemble de données

  - Ordre de tri des sections

  - Mise à jour de l'Élément de donnée (affecte de nombreux Ensembles de données connexes)

  - Mise à jour de l'Élément de donnée (affecte de nombreux Ensembles de données connexes)

  - Modifier la catégorie d'éléments de données

  - Combo de catégories d'éléments de données

#### Support linguistique { #language-support } 

Un support multilingue est disponible.

DataSet and DataElement are translated through web-based function.
Default language on server is used on mobile in cases requested language
from mobile is not available.

![](resources/images/dhis_mobile/translateDataSet.jpg)

### Configuration de l'application mobile { #mobile-application-setup } 

#### Installation et initialisation { #installation-and-initialization } 

##### Installation { #installation }

Download the jar packages from the DHIS2 homepage:
[https://www.dhis2.org/downloads](www.dhis2.org/downloads)

##### Initialisation { #initialization } 

Initialization should be performed before the phones are delivered
end-users. Given the large variation in possible phone configurations,
it is impossible to describe the exact steps which are required in order
to enable the client on the phone. However, for most phones, simply
copying the DHIS2 Web Mobile client "JAR" file to the phone with a USB
cable or via Bluetooth is sufficient. Of course, GPRS/3G connectivity
must be enabled. Contact your mobile service provider for exact details
on the configuration of the phones and networks.

![](resources/images/dhis_mobile/mobile_login_screen.png)

Once the client has been installed on the phone, an initialization
process must occur by providing a user name, password and server URL.

1.  Connexion au serveur pour la première fois.

    The first time the client logins to the server, or if the client is
    reinitialized, the username, password and server URL must be
    entered.

    If the client is unable to login, there could be several possible
    error messages which you see.

      - Connection Not Found: The specified server URL is not correct.
        Check the server address, ensure that the server is actually
        reachable, and try again.

      - Invalid User Name Or Password: the username or password is
        incorrect

      - Application not authorized to access restricted APIs : The
        server can be contacted, but the user does not have the
        necessary permissions to access the mobile reporting module

2.  Setting the PIN number: After the initial login process, a PIN
    number can be entered by the user. This will make the login process
    much easier, as the user only has to remember the four digit pin
    number, as opposed to typing in the user name and password each
    time. The PIN number can be preset if the phone is initialized prior
    to delivery, or it can be set by the users themselves if they have
    been provided with usernames and passwords.


    ![](resources/images/dhis_mobile/mobile_enter_pin.png)

    After entering the PIN, press (Menu)-\>Next.

3.  Download all forms: After the PIN has been specified, all forms will
    be downloaded from the server and stored locally on the phone..

    If the user has been configured to report on aggregate datasets, a
    list of appropriate datasets will be displayed. If the user is
    responsible for community based reporting, the list of assigned
    activities is displayed.

    *Notes*: If the Health Worker is responsible for both Facility
    Reporting and Community Reporting, DHIS2 server will send all forms
    of both Facility Reporting and Community Reporting to mobile and on
    mobile, there will be a screen to choose whether displaying Facility
    Reporting or Community Reporting.

    *Errors*:

#### Connexion (pour une utilisation régulière) { #logging-in-for-regular-use } 

Après le lancement de l'application, le formulaire du code PIN s'affiche.

  - PIN : Saisissez le code PIN à quatre chiffres.

  - Reinitialize Command: this function will clear all data on mobile
    and we start from the login screen with username and password.

  - Errors: Invalid PIN: If the user has entered an invalid PIN, they
    will need to enter the correct PIN, or reinitialize the application
    with the correct username and password.

#### Module de rapport sur les établissements { #facility-reporting-module } 

##### Procédure de saisie de données { #entering-data } 

After selecting an aggregate dataset from the "Select report form"
window, the user will need to select an appropriate time period. A list
of available time periods is automatically generated.

1.  After the user has entered their PIN, they can select from a list of
    available datasets. Select the appropriate dataset and press "Next".


    ![](resources/images/dhis_mobile/select_report_form.png)

2.  Choosing periods: A list of available periods will be automatically
    displayed to the user. They can select the appropriate period from
    the list.


    ![](resources/images/dhis_mobile/aggregate_select_periods.png)

3.  Fill in values: After choosing the period, the form can be displayed
    in two modes, depending on the

      - Formulaire à sections

        Each form section is displayed in a single screen with the name
        of the section in the title window.

        Pour naviguer d'un écran à l'autre, appuyez sur "Suivant".

      - Formulaires sans section (Ensembles de données sans section)

        All fields are displayed on one screen with the title that is
        the name of DataSet

    The user simply fills in each data element with the appropriate
    value.


    ![](resources/images/dhis_mobile/aggregate_data_entry_form.png)

4.  Enregistrer et terminer : 

    After finishing data entry, the user can choose to save the data
    locally on the phone or to upload the data directly to the DHIS2
    server.


    ![](resources/images/dhis_mobile/aggregate_save_complete.png)

    If the user saves the data form, they can edit the form at a later
    point in time if they need to. When selecting a period once again,
    the period will be marked as "Saved' as seen in the next screen
    shot.

    ![](resources/images/dhis_mobile/aggregate_data_entry_form_saved.png)

    If the user selects "Complete", and the data entry form is not
    complete, the user will be asked if they are certain they wish to
    submit the form as incomplete. Once the form has been submitted, a
    message should be displayed informing the user that the transmission
    was successful.

    ![](resources/images/dhis_mobile/aggregate_report_success.png)

##### Notes { #notes } 

1.  Liste des périodes :

    Periods marked with an asterisk (\*) is the period that is completed
    or saved, depending on the status of the data
    des données 


    ![](resources/images/dhis_mobile/aggregate_save_completed_periods.png)

    All periods that are not in period list are considered old and will
    be deleted automatically.

2.  Durée de stockage des valeurs

    The number of saved forms on mobile are limited only by the
    effective amount of storage of the mobile device.

    Forms are saved for limited period only, depending on the frequency
    of collection of the particular dataset.

      - Formulaires quotidiens : 2 mois (mois en cours et mois précédent)

      - Formulaires hebdomadaires : 4 semaines (semaine en cours et 3 semaines précédentes)

      - Formulaires mensuels : 2 mois (mois en cours et mois précédent)

      - Formulaires trimestriels : 2 trimestres (trimestre en cours et trimestre précédent)

      - Formulaires annuels : 2 ans (année en cours et année précédente)

3.  Formulaires remplis - Formulaires non modifiables

    If the form has been completed, the user can view the form on their
    phone, but they cannot make any subsequent edits to the form. Each
    field is greyed out and inactive for editing.

4.  Editer de nouveau les formulaires remplis

    If the user wishes to edit data which has already been submitted to
    the server, they can do so by pressing the "Edit" button. They are
    allowed to do this assuming that the dataset has not been locked for
    the period in question. If they attempt to upload the data, the user
    will be informed that the dataset has been locked, and it is not
    possible to upload the data.


    ![](resources/images/dhis_mobile/dataset_locked_upload_failed.png)

5.  Mise à jour des formulaires : 

    This function is used to synchronize the forms on mobile and on
    server. The process is automatically triggered after entering PIN
    number.

    Note: Checking and downloading updated forms process run in
    background. After finished, prompt is displayed to ask user whether
    refresh form list or stay where they are.

6.  Support multilingue :

    This function help user to choose language of mobile's GUI
    (graphical user interface) and content's language (Forms).

    The forms must be translated on server, otherwise, default language
    is used.

    Default language of first login is English. Change language in
    Setting menu will affect both interface and content.

    ![](resources/images/dhis_mobile/settingCmd.jpg)

    ![](resources/images/dhis_mobile/settingScreen.jpg)

    ![](resources/images/dhis_mobile/supportedLanguageList.jpg)

    Multi-Language Interface: In Setting menu, there are list of
    supported language (downloaded from server). Language of GUI is only
    changed after restart application.

    Multi-Language Content (forms): Form's language is change after
    click "Save". In case there are many forms, it take several minutes
    to save setting.

##### Résolution de problèmes { #troubleshooting } 

  - Les données ont été saisies sur le téléphone mais n'apparaissent pas sur le serveur

    This usually occurs when users enter data on the phone, but cannot
    send it to the server. This may be because of the configuration of
    the phone, lack of credit on the phone, or lack of coverage. Usually
    an error message is displayed as shown below.


    ![](resources/images/dhis_mobile/http_error_mobile_client.png)

    Users should be informed that if they see this error, then it means
    that their data has not been transmitted.

## SMS Command  { #mobile_sms_command } <!-- @TODO: DHIS2-10850 -->

SMS command feature helps DHIS2 system receiving SMS from users,
patients, or even anonymous. A SMS command is an object containing the
configurations for each SMS form: reporting data from phones or j2me
apps, alerting users, registering patient or user, etc.

### Configurer la commande SMS { #set-up-sms-command } 

This is where you can create a new SMS
command

![](resources/images/dhis2_mobile_sms/mobile-sms-startup-link.png)

![](resources/images/dhis2_mobile_sms/mobile-sms-startup-link-sms-command.png)

Usually each SMS command has it own property, then the setting up
process may be different from each other. Currently, we have 4 types of
SMS
command:

![](resources/images/dhis2_mobile_sms/mobile-sms-conf-sms-command-types.png)

With KEY\_VALUE\_PARSER and J2ME\_PARSER, the SMS command will have
dataset because those are used for reporting data. If data is reported
for a Period which is already approved then SMS response will be sent
back containing information about approval status of the
period.

![](resources/images/dhis2_mobile_sms/mobile-sms-conf-sms-command-dataset.png)

With ALERT\_PARSER and UNREGISTERED\_PARSER, the SMS command will have
user group because those are used for sending message such as SMS, DHIS2
conversation,
email.

![](resources/images/dhis2_mobile_sms/mobile-sms-conf-sms-command-user-group.png)

There are certain parameters which are common to all SMS Command types.
These parameters have default values configured in the system, if user
does provide any value to these parameters then those default ones will
be used. Here is the list of those parameters



Tableau : Paramètres communs

| Paramètre | Type | Description |
|---|---|---|
| Séparateur de valeur de code | Chaîne | Pour fournir un séparateur de valeur de code personnalisé. La valeur par défaut est "=" |
| Séparateur de champs | Chaîne | Pour fournir un séparateur de champs personnalisé. La valeur par défaut est "&#124;" |
| Message de réponse lorsqu'aucun code n'est envoyé (seulement la commande) | Chaîne | Pour proposer un message lorsqu'aucun code n'est trouvé dans le texte du SMS. La valeur par défaut est "Paramètre manquant" |
| Message au format incorrect | Chaîne | Pour proposer un message lorsque la commande n'est pas correctement formatée. La commande doit être formatée selon le séparateur de valeur de code. Ce message sera également renvoyé si un paramètre obligatoire manque. |
| Aucun message d'utilisateur | Chaîne | Pour proposer un message lorsque le numéro de téléphone qui sert à l'envoi n'est pas enregistré dans DHIS2. |
| Utilisateur associé à plus d'un message d'unité d'organisation | Chaîne | Certains types de commandes SMS exigent que l'utilisateur (sans le numéro de téléphone d'envoi) ne soit associé qu'à une seule unité d'organisation. Ce message peut être configuré pour un renvoi si cette exigence n'est pas respectée. |
| Message de confirmation | Chaîne | Pour proposer un message qui sera envoyé une fois le processus terminé avec succès. |

### Type de commande SMS { #sms-command-type } 

The SMS command is basically defined by its parser type. In other word,
each SMS command has one unique parser to parse the plain text SMS, then
the result will be used for the purpose of that SMS command.

#### Commande SMS pour la déclaration de données { #sms-command-for-reporting-data } 

In order to report data for example data set (aggregation), we use SMS
commands which have KEY\_VALUE\_PARSER (for phone's plain text), or
J2ME\_PARSER (for j2me
apps)

![](resources/images/dhis2_mobile_sms/mobile-sms-cofig-sms-command-format-reportingdata.png)

If the command has name "report", and a list of data element with code
like above. The format should be: \[command's name\] \[code\]\[value\]
\[code\]\[value\] \[code\]\[value\]....,the \[value\] of course might be
changed depends on real data, so you have to prepare an SMS text like
this example: **report vo2 vn5 a2 b6 z3 x1**

In case the command has a separator for instance ".", the SMS text
should be:

**report vo.2.vn.5.a.2.b.6.z.3.x.1**

ou **report vo.2|vn.5|a.2|b.6|z.3|x.1**

Moreover in SMS text input, orgUnit can be specified like this **org
orgUnitCode** If no orgUnit is specified in SMS then user is retrieved
first from the sending phoneNumber and then orgUnit from that user. As
far as PeriodType is concerned it should be specified in this format
"ddMM" for example 3108, but in case its not specified then PeriodType
will be retrieved from DataSet attached to SMSCommand

With the J2ME\_PARSER, you don't need to prepare those SMS text, because
the J2ME will do this job

![](resources/images/dhis2_mobile_sms/mobile_sms_custom_message.PNG)

User can set the custom response message for "Wrong format message", "No
User Message", "User belong to more than one OrgUnit message" and
"Success message". If no custom message is being set, system will use
the default message.

#### Commande SMS pour l'inscription d'une entité { #sms-command-for-entity-enrollment } 

TRACKED\_ENTITY\_REGISTRATION\_PARSER can be used to enrol tracked
entity into the system.

![](resources/images/dhis2_mobile_sms/TEI_parser.png)

Command name will be followed by tracked entity attributes pertaining to
specific program which this command is associated with. Program
selection will be done while creating this command.

Default text pattern ( if field separator and codevalue separator is not
provided ) for this parser would look like this. **childProgram
fn=xmen|ln=xmen2|age=4**

In case field separator is for example "," then text would look like
this.**childProgram fn=xmen,ln=xmen2,age=4**

Rest of the behavior is same as for other commands. If user does not
provide those parameters then default ones will be used.

#### Commande SMS pour la saisie de données à une étape de programme { #sms-command-for-program-stage-data-entry } 

PROGRAM\_STAGE\_DATAENTRY\_PARSER can be used to enter program stage
related data for a specific tracked entity instance.

![](resources/images/dhis2_mobile_sms/programstage_data_parser.png)

Command name will be followed by data elements pertaining to specific
program stage which this command is associated with. Program and program
stage selection will be done while creating this command.

Default text pattern ( if field separator and codevalue separator is not
provided ) for this parser would look like this. **programstage
bcgd=1|opvd=2|wght=34**

In case field separator is for example "," then text would look like
this.**programstage bcgd=1,opvd=2,wght=34**

Rest of the behavior is same as for other commands. If user does not
provide those parameters then default ones will be used.

#### Commande SMS pour les alertes, le enregistrements { #sms-command-for-alerting-registering } 

In order to alert users, we use SMS commands which have ALERT\_PARSER
(for phone's plain text), or UNREGISTERED\_PARSER (for j2me apps).
UNREGISTERED\_PARSER can also be used for registering IDSR
rumour.

![](resources/images/dhis2_mobile_sms/mobile-sms-cofig-sms-command-format-alert.png)

The format of those command will be: \[command's name\] \[text\], for
example:

**alerte d'un cas d'urgence dans Une ville**

Commands which has ALERT\_PARSER will be received from users only

#### Commande SMS pour l'enregistrement des événements { #sms-command-for-event-registration } 

Event Registration can be used to register anonymous event into the
system based on the data collected through SMS. This command type is
associated with Programs of type WITHOUT\_REGISTRATION. For example
Birth events can be tracked using this parser.

![](resources/images/dhis2_mobile_sms/event-registration-parser.png)

The format of those command will be: \[command's name\]
\[code\]\[separator\]\[value\], for example:

**Naissance A=1,B=2,G=Mâle**

Code/Value separator is configurable. Pipe "|" is by default taken as
field separator. Commands which has EVENT\_REGISTRATION\_PARSER will be
received from DHIS2 users only. Once command is successfully received
then data received in SMS will be parsed and event will be registered in
DHIS2.

## Service SMS { #mobile_sms_service } 

SMS Service is a generic service used for sending/receiving SMS. Any
other DHIS2 module can include this service and utilize it to send and
receive SMS from users or workers in the field.

### Mise en place d'un service SMS { #setting-up-sms-service } 

There are few pre-requisites in order to make this service functional.
There are two ways to complete these steps. One way is to configure
gateway from the GUI in Mobile Configuration Module. The other way is to
use SMS Web Api.

  - Configurer la passerelle SMS

#### Configurer la passerelle SMS { #configure-sms-gateway } 

There are five different types of Gateways supported by SMS Service. SMS
can be sent if any one of the gateway is configured. If more than one
gateways are present, then they will be used in round-robin fashion for
load balancing. There are different parameters for different type of
gateway. The Gateway can be configured in GUI in Mobile Configuration
Module as shown in the figure. More information about parameters needed
to configure gateway can be found in [Gateway
Configurations] section of new SMS app.(#gateway.configuration)


![](resources/images/dhis2_mobile_sms/sms-app.png)

#### Configurer la passerelle GenericHttp { #configure-generichttp-gateway } 

Many DHIS2 instances are using GenericHttpGateway to connect to their
local gateways. These local gateways provides HTTP APIs for sending SMS.
In new GenericHttpGateway it is now possible to configure generic configuration
template for gateway configuration. This template is converted into request payload by replacing
place holders with actual values taken from gateway key value parameters.


![](resources/images/dhis2_mobile_sms/generic-gateway.png)

### Configurations des passerelles { #gateway.configuration } 

Le tableau ci-dessous indique les paramètres nécessaires à la configuration de la passerelle.



Tableau : Paramètres de configuration de la passerelle

| Paramètre | Passerelle BulkSMS | Passerelle Clickatell | Passerelle HTTP générique | Passerelle SMPP | Description |
|---|---|---|---|---|---|
| Nom de la passerelle | Facultatif | Facultatif | Facultatif | Facultatif | Utilisé comme identité de passerelle. Le nom par défaut sera enregistré si ce paramètre n'est pas configuré. Son utilisation est recommandée |
| Nom d'utilisateur | Obligatoire | Facultatif (si des jetons sont utilisés) | Obligatoire | Obligatoire | Utilisé pour l'authentification API |
| Mot de passe | Obligatoire | Facultatif (si des jetons sont utilisés) | Obligatoire | Obligatoire | Utilisé pour l'authentification API |
| Jeton-Auth | N/A | Facultatif (si un mot de passe est utilisé) | N/A | N/A | Utilisé pour l'authentification API |
| Modèle d'URL | N/A | N/A | Obligatoire | Obligatoire | Un modèle Url n'est requis que dans le cas d'une passerelle Http générique. Par exemple "http://smsgatewa1.com" |
| En-têtes | N/A | N/A | Facultatif | N/A | L'option d'en-tête peut être cochée pour envoyer le paramètre sélectionné en tant qu'en-tête http. Par exemple, nom d'utilisateur/mot de passe/jeton peut être envoyé dans l'en-tête http. |
| useGet | N/A | N/A | Facultatif | N/A | La méthode HTTP POST est utilisée par défaut pour publier des données sur la passerelle. Mais dans certains cas, lorsque la méthode HTTP GET est requise, le paramètre useGet peut être défini sur true. La valeur par défaut pour useGet est false. |
| Type de système | N/A | N/A | N/A | Obligatoire | Le paramètre Type de système est requis pour la passerelle SMPP. La valeur par défaut est 'cp' |
| typeOfNumber | N/A | N/A | N/A | Obligatoire | Le paramètre TypeOfNumber est requis pour la passerelle SMPP. La valeur par défaut est 'INCONNU'. Les autres valeurs possibles sont INCONNU, INTERNATIONAL, NATIONAL, RÉSEAU_SPÉCIFIQUE, ABONNÉ_NOMBRE, ALPHANUMERIQUE et ABRÉGÉ |
| numberPlanIndicator | N/A | N/A | N/A | Obligatoire | Le paramètre NumberPlanIndicator est requis pour la passerelle SMPP. La valeur par défaut est INCONNU. Les autres valeurs possibles sont INCONNU, ISDN, DONNÉES, TELEX, LAND_MOBILE, NATIONAL, PRIVÉ, ERMES, INTERNET et WAP |
| bindType | N/A | N/A | N/A | Obligatoire | Le paramètre BindType est requis pour la passerelle SMPP. La valeur par défaut est TX. Les autres valeurs possibles sont BIND_TX, BIND_RX et BIND_TRX |
| compressé | N/A | N/A | N/A | Facultatif | Le paramètre de compression est facultatif pour la passerelle SMPP. La valeur par défaut est false |
| Paramètres d'envoi d'Url | N/A | N/A | Facultatif | N/A | Les paramètres de la passerelle seront ajoutés à l'URL, par exemple `https://samplegateway.com/messages?apiKey={apiKey}&to={recipients},content={text},deliveryreport={dp}` |
| type de contenu | N/A | N/A | Facultatif | N/A | Le modèle dans lequel les données seront envoyées à la passerelle sms. La valeur par défaut est application/x-www-form-urlencoded. Les autres types pris en charge sont application/json, application/xml et text/plain |
| modèle de configuration | N/A | N/A | Facultatif | N/A | Un modèle de configuration générique peut être utilisé pour fournir les données sous une forme acceptable pour la passerelle externe. Par exemple `username=${username}&password=${password}&to=${recipients}&countrycode=880&message=${text$}&messageid=0`. Un modèle Json/xml peut également être fourni. |



# Configuration des SMS { #sms-configuration-intro }

This document covers the functionality of the SMS Configuration App. For
additional information about SMS service integration, please refer to the
[Mobile](#mobile_intro) document.

## La fonction de Commande SMS { #sms-configuration-commands }

SMS commands process SMS messages received by a DHIS2 instance, taking certain
actions depending on the command and message content. Multiple SMS commands can
be set up to process and handle data in multiple ways. A SMS command is an
object containing the configurations for each SMS form: reporting data from
phones or j2me apps, alerting users, registering patients or users, etc.

### Liste des commandes disponibles { #sms-configuration-commands-list }

To see all available commands, navigate to the "Commands" page.  All commands
will be listed in a table. On this page the following actions are available:

* Ajouter des commandes (1)
* Modifier les commandes (2)
* Supprimer les commandes (3)
* Commandes de suppression multiple (4)

![Commandes SMS - Liste](resources/images/sms-configuration/commands-list.png)

### Supprimer les commandes disponibles { #sms-configuration-commands-delete }

Deleting commands can be done by individually checking the checkboxes of each
command (1) that should be deleted or by selecting all displayed commands by
checking the checkbox in the table head (2). After selecting the commands to
delete, the "Delete selected" button needs to be clicked (3).

![Commandes SMS - Supprimer la sélection](resources/images/sms-configuration/commands-delete-selection.png)

Pour éviter les suppressions involontaires, une boîte de dialogue de confirmation s'affichera.

![Commandes SMS - Confirmer la suppression](resources/images/sms-configuration/commands-delete-confirmation.png)

### Ajout de commandes { #sms-configuration-commands-add }

> **Caution**
>
> Commands are not active immediately after they are added! 
> They must then be edited in order to configure the necessary fields!

After clicking on the "Add command" button in the command overview page, a
dynamic form will appear. Depending on the parser type, different inputs will
be displayed:

| Type d'analyseur | Groupe d’utilisateurs | Programme | Étape du programme | Ensemble de données |
|-|-|-|-|-|
| Analyseur d'alertes | &#10003; | &#10005; | &#10005; | &#10005; |
| Analyseur d'enregistrement d'événement | &#10005; | &#10003; | &#10003; | &#10005; |
| Analyseur J2ME | &#10005; | &#10005; | &#10005; | &#10003; |
| Analyseur de valeur clé | &#10005; | &#10005; | &#10005; | &#10003; |
| Analyseur de saisie de données des étapes de programme | &#10005; | &#10003; | &#10003; | &#10005; |
| Analyseur des enregistrements d'entités suivies | &#10005; | &#10003; | &#10005; | &#10005; |
| Analyseur non enregistré | &#10003; | &#10005; | &#10005; | &#10005; |

#### Analyseur d'enregistrement d'événements{ #sms-configuration-commands-add-eventregistration }

These commands can have short codes for their associated program stage.
Only programs of type "Event program" can be chosen for this command.
Therefore only one program stage exists, which will be selected automatically.

#### Analyseur de saisie de données des étapes de programme { #sms-configuration-commands-add-programstagedataentry }

These commands can have short codes for their associated program stage.
Only programs of type "Tracker program" can be chosen for this command.
Unlike "Event registration" parsers, a program stage has to be chosen for this
parser type.

### Modification des commandes { #sms-configuration-commands-edit }

When editing commands, changing the parser type as well as the additional data
supplied when adding the command is not possible. The only way this is
currently possible is by creating a new command and deleting the old one.

There are certain parameters which are common to all SMS Command types.
These parameters have default values configured in the system, if user
does provide any value to these parameters then those default ones will
be used. Here is the list of those parameters

Ces champs communs sont :

| Paramètre | Type | Description |
|---|---|---|
| Séparateur de champs | Chaîne | Pour fournir un séparateur de champs personnalisé. La valeur par défaut est "&#124;" |
| Message de réponse lorsqu'aucun code n'est envoyé (seulement la commande) | Chaîne | Pour proposer un message lorsqu'aucun code n'est trouvé dans le texte du SMS. La valeur par défaut est "Paramètre manquant" |
| Message au format incorrect | Chaîne | Pour proposer un message lorsque la commande n'est pas correctement formatée. La commande doit être formatée selon le séparateur de valeur de code. Ce message sera également renvoyé si un paramètre obligatoire manque. |
| Aucun message d'utilisateur | Chaîne | Pour proposer un message lorsque le numéro de téléphone qui sert à l'envoi n'est pas enregistré dans DHIS2. |
| Utilisateur associé à plus d'un message d'unité d'organisation | Chaîne | Certains types de commandes SMS exigent que l'utilisateur (sans le numéro de téléphone d'envoi) ne soit associé qu'à une seule unité d'organisation. Ce message peut être configuré pour un renvoi si cette exigence n'est pas respectée. |
| Message de confirmation | Chaîne | Pour proposer un message qui sera envoyé une fois le processus terminé avec succès. |

Some commands have the option to add short codes, which are explained in the
individual sections for each parser type down below.

#### Modification des commandes de l'analyseur d'alertes { #sms-configuration-commands-edit-alertparser }

When editing an alert parser command, only two fields are editable, the fields
that are shared between most parser types are not present:

* Nom (obligatoire)
* Confirmer le message

Les deux sont des champs de texte.

#### Modification des commandes de l'analyseur des enregistrements d'événements{ #sms-configuration-commands-edit-eventregistration }

Commands of this parser type have all the shared fields.
Additionally short codes can be defined.
A short code can be added for every data element connected to the program stage
that was selected when adding the command:

![Commandes SMS - Codes courts de l'analyseur d'enregistrement d'événement](resources/images/sms-configuration/commands-edit-eventregistrationparse-shortcodes.png)

#### Modification des commandes d'analyseur J2ME { #sms-configuration-commands-edit-j2me }

Commands of this parser type have all the shared fields. The SMS command will
have a dataset because those are used for reporting data. If data is reported
for a Period which is already approved then SMS response will be sent back
containing information about approval status of the period. Additionally short
codes can be defined. Each command is connected to a dataset. The dataset has
data elements, which have category combos, which have at least one category
option combo. For every existing "data element - category option combo"
combination, a short code can be provided.

Required values notice Make sure at least one SMS short code is provided when
completeness method "Receive at least one data value" is chosen, otherwise
received messages will not be processed.

##### Formules de codes courts{ #sms-configuration-commands-edit-j2me-shortcodeformulas }

Each short code can have an optional formula. By providing a formula, the value
of a different data element can be either added or subtracted.

This can be done by clicking the "Add formula" / "Edit formula" button below
the short code's input field:

![Commandes SMS - Codes courts de l'analyseur J2Me - Bouton Ajouter/Modifier la formule](resources/images/sms-configuration/commands-edit-j2meparser-shortcodes-formulabutton.png)

When clicking the button, a modal will appear which offers a dropdown to select
a data element, and the formula operator, which can be either "+" or "-":

![Commandes SMS - Codes abrégés de l'analyseur J2Me - Ajouter/Modifier la formule modale](resources/images/sms-configuration/commands-edit-j2meparser-shortcodes-formulamodal.png)

By clicking "Save", the formula will be added to the main edit form, it does
not get saved to the command automatically! In order to save a changed formula,
you need to submit the whole form.

###### Suppression d'une formule de code court { #sms-configuration-commands-edit-j2me-removingshortcodeformula }

If a short code has a formula, it can be removed by clicking the "Edit formula"
button. The modal that will appear, has a button "Remove". By clicking that
button, the formula will be removed from the short code in the main form and
the modal will close. It does not get saved to the command automatically! In
order to save the removal of the formula, you need to submit the whole form.

![Commandes SMS - Codes courts de l'analyseur J2Me - Ajouter/Modifier la formule modale](resources/images/sms-configuration/commands-edit-j2meparser-shortcodes-formulamodalremove.png)

#### Modification des commandes de l'analyseur de valeurs clés { #sms-configuration-commands-edit-keyvalue }

This command type works identically to J2ME parser commands work. Please check
the documentation above.

#### Modification des commandes de l'analyseur de saisie de données de l'étape du programme { #sms-configuration-commands-edit-programstagedataentry }

Commands of this parser type have all the shared fields.  Additionally short
codes can be defined. A short code can be added for every data element
connected to the program stage that was selected when adding the command:

![Commandes SMS - Codes courts de l'analyseur de saisie de données de l'étape du programme](resources/images/sms-configuration/commands-edit-programstagedataentryparser-shortcodes.png)

#### Modification des commandes de l'analyseur des enregistrements d'entités suivies { #sms-configuration-commands-edit-trackedentityregistration }

Commands of this parser type have all the shared fields.  Additionally short
codes can be defined. A short code can be added for every tracked entity
attribute connected to the program that was selected when adding the command:

![Commandes SMS - Codes courts de l'analyseur de saisie de données de l'étape du programme](resources/images/sms-configuration/commands-edit-trackedentityregistrationparser-shortcodes.png)

#### Modification des commandes d'analyseur non enregistrées { #sms-configuration-commands-edit-unregistered }

This command type works identically to alert parser commands work. Please check
the documentation above.

## Passerelles SMS { #sms-configuration-gateways }

An SMS gateway lets a DHIS2 instance send and receive SMS messages. Different
gateway types can be added and configured below. At least one gateway is needed
to send and receive SMS messages. Load balancing will use all gateways if there
are multiple available.

Il existe quatre types de passerelles prises en charge par le service SMS :
* Passerelles génériques
* Passerelles BulkSMS
* Passerelles Clickatell
* Passerelles SMPP

### Liste des passerelles { #sms-configuration-gateways-listing }

To see all available gateways, navigate to the "Gateway configurations" page.
All gateways will be listed in a table. On this page the following actions are
available:

* Ajouter des passerelles (1)
* Modifier les passerelles (2)
* Supprimer les passerelles (3)
* Passerelles de suppression multiple (4)
* Définir la passerelle par défaut (5)

![Passerelles SMS - Liste](resources/images/sms-configuration/gateways-list.png)

### Ajout de passerelles { #sms-configuration-gateways-add }

After clicking on the "Add gateway" button in the gateway configurations
overview page, a dynamic form will appear. It's devided into two sections:

1. Le type de passerelle (1)
1. La configuration de la passerelle dépend du type de passerelle (2)

![Passerelles SMS - Ajout de passerelles](resources/images/sms-configuration/gateways-addinggateways.png)

For more details about configuring gateways, please refer to the [Gateway
Configurations](#gateway.configuration) section of the "Mobile" maintenance
documentation.

### Modification des passerelles { #sms-configuration-gateways-edit }

Editing is similar to adding gateways with the exception that the gateway type
cannot be altered. If a gateway has the wrong type, it needs to be deleted and
added again. For more information how to edit gateways, please refer to the
"Adding gateways" section above.

## Afficher les SMS entrants { #sms-configuration-inbound }

To see all inbound sms, navigate to the "Received" page.  All received sms will
be listed in a paginated table. On this page the following actions are
available:

* Filtrage des SMS entrants (1)
* Suppression de SMS (2)
* Suppression multiple de SMS (3)

![SMS entrants - Liste des SMS entrants](resources/images/sms-configuration/inboundsms-list.png)

### Filtrage { #sms-configuration-inbound-filtering }

#### Réinitialisation des filtres { #sms-configuration-inbound-filtering-resetting }

Tous les filtres définis peuvent être réinitialisés en cliquant sur le bouton "Réinitialiser le filtre".

![SMS entrants - Filtrer les SMS entrants par statut](resources/images/sms-configuration/inboundsms-resetfilters.png)

#### Filtrage par statut { #sms-configuration-inbound-filtering-status }

La liste des SMS entrants peut être filtrée selon les statuts suivants :

* Tous
* Échec
* Entrants
* Traités
* Traitement
* Envoyés
* Non gérés

![SMS entrants - Filtrer les SMS entrants par statut](resources/images/sms-configuration/inboundsms-filterbystatus.png)

#### Filtrage par numéro de téléphone { #sms-configuration-inbound-filtering-phonenumber }

By entering a phone number in the input field above the table with the SMSes,
the table can be filtered by that phone number.

![SMS entrants - Filtrer les SMS entrants par statut](resources/images/sms-configuration/inboundsms-filterbyphonenumber.png)

## Afficher les SMS sortants { #sms-configuration-outbound }

This section is identical to the "Inbound"/"Received" SMSes section, with only
one difference: The list cannot be filtered by a phone number. Please refer to
the ["View inbound SMS"](#sms-configuration-inbound) section.



> **Caution**
>
> The screenshots and information in this section is stale and in
> process of being updated.

## Installation d'applications dans DHIS2 { #apps_installing_apps }

Apps can be installed by uploading zip file into the App Manager. In,
Services → Apps, click on the _App Hub_ menu item.
![](resources/images/apps/app-management.png) The app can be uploaded by
pressing the Browse button and after selecting the zip package, the file
is uploaded automatically and installed in DHIS2. You can also browse
through apps in the DHIS2 [AppHub](https://apps.dhis2.org/)
and download apps from there. The DHIS2 AppHub allows for app
searching, reviewing, commenting, requesting features, rating on the
apps by the community.

## Lancement d'applications { #apps_launching_apps }

After installation, your apps will be integrated with the menu system
and can be accessed under services and from the module overview page. It
can also be accessed from the home page of the apps module. Click on an
app in the list in order to launch it.



# À propos des dimensions de donnée { #data_dimensions } 

## Dimensions de donnée : Éléments de base du DHIS2 { #data-dimensions-core-building-blocks-in-dhis2 } 

A data value in DHIS2 is described by at least three dimensions: 1) data
element, 2) organisation unit, and 3) period. These dimensions form the
core building blocks of the data model.

![](resources/images/data_dimensions/datavalue_with_dimensions.png)

As an example, if you want to know how many children that were immunised
for measles in Gerehun CHC in December 2014, the three dimensions which
describe that value are the data element "Measles doses given", the
organisation unit "Gerehun CHC", and the period "December 2014". All
data values have at least these three dimensions describing *what*,
*where*, and *when*.

In addition to the data element, organisation unit, and period
dimensions, data values may also be associated with additional data
dimensions. A common use of this feature is to describe data values
which are reported by multiple partners in the same location for the
same data element and time period. In principle, it can be used as a
"free-form" dimension, to describe multiple observations of the same
phenomena at the same place and time. For more information about this,
see Chapter 34: Additional data dimensions.


| Unité d'organisation | Élément de données | Période | Valeur |
|---|---|---|---|
| Gerehun CHC | Doses de rougeole administrées | Dec-09 | 22 |
| Tugbebu CHP | Doses de rougeole administrées | Dec-09 | 18 |

## Data elements: the *what* dimension { #data-elements-the-what-dimension } 

### Catégories  d'éléments de données { #data-element-categories } 

The data element mentioned above ,"Measles doses given", can be further
disaggregated into by combinations of data element categories. Each
system administrator of DHIS2 is free to define any data element
category dimensions for data elements. There are however, certain best
practices which should generally be followed.

Given the example of Measles vaccination, if you want to know whether
these vaccines were given at the facility (fixed) or out in the
community as part of the outreach services then you could add a
dimension called—e.g., "Place of service", with the two possible options
"Fixed" and "Outreach". Then all data collected on measles immunisation
would have to be disaggregated along these to options. In addition to
this you might be interested in knowing how many of these children who
were under 1 year or above 1 year of age. If so you can add an Age
dimension to the data element with the two possible options "\<1 y" and
"\>1 y". This implies further detail on the data collection process. You
can also apply both categories "Place of service" and "Age" and combine
these into a data element category combination e.g. called "EPI
disaggregation". You would then be able to look at four different more
detailed values in stead of only one as in the example above for the
data element "Measles doses given": 1) "Fixed and \<1 y, 2) Fixed and
\>1 y, 3) Outreach and \<1 y, and 4) Outreach and \>1 y. This adds
complexity to how data is collected by the health facilities, but at the
same time opens up for new possibilities of detailed data analysis of
Measles immunisation.



Tableau : Exemple de stockage détaillé des valeurs de données lors de l'utilisation des catégories d'éléments de données "Lieu de service" et "Âge" (simplifié pour une meilleure lisibilité comparé au tableau de la base de données réelle)

| Unité d'organisation | Élément de données | Lieu de service | Âge | Période | Valeur |
|---|---|---|---|---|---|
| Gerehun CHC | Doses de rougeole administrées | Fixe | \<1 y | Dec-09 | 12 |
| Gerehun CHC | Doses de rougeole administrées | Proximité | \<1 y | Dec-09 | 4 |
| Gerehun CHC | Doses de rougeole administrées | Fixe | \>1 y | Dec-09 | 4 |
| Gerehun CHC | Doses de rougeole administrées | Proximité | \>1 y | Dec-09 | 2 |
| Tugbebu CHP | Doses de rougeole administrées | Fixe | \<1 y | Dec-09 | 10 |
| Tugbebu CHP | Doses de rougeole administrées | Proximité | \<1 y | Dec-09 | 4 |
| Tugbebu CHP | Doses de rougeole administrées | Fixe | \>1 y | Dec-09 | 3 |
| Tugbebu CHP | Doses de rougeole administrées | Proximité | \>1 y | Dec-09 | 1 |

### Ensemble de groupes d'éléments de donnée { #data-element-group-sets } 

While the data element categories and their options described above
provide the level of detail (disaggregation) at the point of data
collection and how data values get stored in the database, the data
element group sets and groups can be used to add more information to
data elements after data collection. As an example, if you are analysing
many data elements at the same time in a report, you would want to group
these based on some criteria. Instead of looking at all the data
captured in a form for immunisation and nutrition, you might want to
separate or group data elements along a programme dimension (known as a
data element group set in DHIS2) where "Immunisation" (or EPI) and
"Nutrition" would be the two groups.

Expanding the report to include data from other programs or larger
themes of health data would mean more groups to such a group set
dimension, like "Malaria", "Reproductive Health", "Stocks". For this
example, you would create a data element group set called "Programme"
(or whatever name you find appropriate), and to represent the different
programmes in this dimension you would define data elements groups
called "EPI", "Nutrition", "Malaria", "Reproductive health" and so on,
and add all these groups to the "Programme" group set. To link or tag
the data element "Measles doses given" to such a dimension you must (in
our example) add it to the "EPI" group. Which groups you add "Measles
doses given" to does not affect how health facilities collect the data,
but adds more possibilities to your data analysis. So for the group set
dimensions there are three levels; the group set (e.g. "Programme"), the
group (e.g. "EPI"), and the data element (e.g. "Measles doses given").

Indicators can be grouped into indicator groups and further into
indicator group sets (dimensions) in exactly the same way as data
elements.


| Unité d'organisation | Élément de données | Programme | Période | Valeur |
|---|---|---|---|---|
| Gerehun CHC | Doses de rougeole administrées | PEV | Dec-09 | 22 |
| Gerehun CHC | Vitamine A administré | Nutrition | Dec-09 | 16 |
| Tugbebu CHP | Doses de rougeole administrées | PEV | Dec-09 | 18 |
| Tugbebu CHP | Vitamine A administré | Nutrition | Dec-09 | 12 |
| Gerehun CHC | Nouveaux cas de paludisme | Paludisme | Dec-09 | 32 |
| Tugbebu CHP | Nouveaux cas de paludisme | Paludisme | Dec-09 | 23 |

## Organisation units: the *where* dimension { #organisation-units-the-where-dimension } 

Organisation units in DHIS2 should typically represent a location, such
as a Community Health Centre or referral hospitals, or an administrative
unit like "MoHS Sierra Leone", "Bo District" or "Baoma Chiefdom". In
non-health sector applications, they could be "schools" or "water
points". Orgunits are represented in a default hierarchy, usually the
default administrative hierarchy of a country or region, and are
therefore assigned an organisational level. As an example, Sierra Leone
has four organisation unit levels; National, District, Chiefdom, and
Facility, and all orgunits are linked to one of these levels. An orgunit
hierarchy in DHIS2 can have any number of levels. Normally data is
collected at the lowest level, at the health facility, but can be
collected at any level within the hierarchy, such as both the districts
as well as the facility level.

When designing reports at higher levels with data aggregated at the
district or province level, DHIS2 will use the hierarchy structure to
aggregate all the health facilities' data for any given unit at any
level. The organisation unit level capturing the data always represents
the lowest level of detail that is possible to use in data analysis, and
the organisational levels define the available levels of aggregation
along a geographical dimension.

### Ensembles de groupes d'unités d'Organisation et groupes { #organisation-unit-group-sets-and-groups } 

While facility level is typically the lowest geographical level for
disaggregation in DHIS2, there are ways to flexibly group organisation
units into any number of dimensions by using the organisation unit
groups and group set functionality. As an example, if all facilities are
given an official type like "Community health center" or "District
Hospital, it is possible to create an organisation unit group set called
"Type" and add groups with the names of the types mentioned above. In
order for the group sets to function properly in analysis, each
organisation unit should be a member of a single group (compulsory and
exclusive) within a group set. Stated somewhat differently, a facility
should not be both a "Community health center" as well as a "District
hospital".

#### Hériter des valeurs d'un ensemble de groupes d'unités d'organisation { #inherit-the-values-of-an-organisation-unit-group-set } 

You can improve the completeness of your aggregated data by inheriting
the settings of a "parent" organisation unit in your organisation unit
hierarchy. This is particularly helpful if you are aggregating the data
of more than 100 organisation units. See the
[Maintenance](https://docs.dhis2.org/master/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set)
app documentation for more
details.

#### Hiérarchies alternatives des unités d'organisation - utilisation avancée des ensembles de groupes et des groupes { #alternative-organisation-unit-hierarchies-advanced-use-of-group-sets-and-groups } 

A more advanced use of organisation unit group sets is to create
alternative hierarchies e.g. use administrative borders from other
ministries. In Sierra Leone that could mean an alternative hierarchy of
1:MoHS, 2:Districts, and 3: Local councils, instead of the four-level
hierarchy with chiefdoms and facilities. For instance, if all facilities are linked
to a specific local council, it would be possible to look at data
aggregated by local council instead of chiefdom. Then you would first
need to create a group set called "Local council" and then create one
organisation unit group for every local council, and finally link all
facilities to their corresponding local council group.


| District | Type d'unité d'organisation | Élément de données | Période | Valeur |
|---|---|---|---|---|
| Bo | CHC | Doses de rougeole administrées | Dec-09 | 121 |
| Bo | CHP | Doses de rougeole administrées | Dec-09 | 98 |
| Bo | MCHP | Doses de rougeole administrées | Dec-09 | 87 |
| Bombali | CHC | Doses de rougeole administrées | Dec-09 | 110 |
| Bombali | CHP | Doses de rougeole administrées | Dec-09 | 67 |
| Bombali | MCHP | Doses de rougeole administrées | Dec-09 | 59 |

### Meilleure pratique en matière d'utilisation des ensembles et des groupes { #best-practice-on-the-use-of-group-sets-and-groups } 

As mentioned above, all organisation units should be a member of a
single group within a group set. If an organisation unit is not present
in any group or is present in multiple group members in a group set,
this can lead to unexpected results in the analysis modules. DHIS2 has
integrity checks to identify organisation units which are not present in
any organisation unit group set member, or which is present in multiple
groups.

## Period: the *when* dimension { #period_types } 

The period dimension becomes an important factor when analysing data
over time e.g. when looking at cumulative data, when creating quarterly
or annual aggregated reports, or when doing analysis that combines data
with different characteristics like monthly routine data, annual
census/population data or six-monthly staff data.

### Les types de période { #period-types } 

In DHIS2, periods are organised according to a set of fixed period types
described below. The following list is for the default ISO 8601 calendar
type.

1.  Quotidien 

2.  Weekly: The system supports various weekly period types, with
    Monday, Wednesday, Thursday, Saturday and Sunday as the first day of
    the week. You collect data through data sets configured to use the
    desired weekly period type. The analytics engine will attribute
    weekly data to the month which contains four days or more of the
    week.

3.  Bi-weekly: Two week periods beginning with the first week of the
    year.

4.  Mensuel : Se réfère aux mois civils standard.

5.  Bimensuel : Périodes de deux mois commençant en janvier.

6.  Trimestriel : Trimestre norme ISO, à partir de janvier.

7.  Semestriel : Périodes de six mois commençant en janvier

8.  Annuel : Il s'agit d'une année civile.

9.  Financial April: Financial year period beginning on April 1st and
    ending on March 31st of the calendar next year

10. Financial July: Financial year period beginning on July 1st and
    ending on June 31st of the calendar next year

11. Financial Oct: Financial year period beginning on October 1st and
    ending on September 31st of the calendar next year

12. Six-monthly April: Six-month periods beginning on April 1st with a
    duration of six calendar months.

As a general rule, all organisation units should collect the same data
using the same frequency or periodicity. A data entry form therefore is
associated with a single period type to make sure data is always
collected according to the correct and same periodicity across the
country.

It is possible however to collect the same data elements using different
period types by assigning the same data elements to multiple data sets
with different period types, however then it becomes crucial to make
sure no organisation unit is collecting data using both data sets/period
types as that would create overlap and duplication of data values. If
configured correctly the aggregation service in DHIS2 will aggregate the
data together, e.g. the monthly data from one part of the country with
quarterly data from another part of the country into a national
quarterly report. For simplicity and to avoid data duplication it is
advised to use the same period type for all organisation units for the
same data elements when possible.

### Périodes relatives { #relative-periods } 

In addition to the fixed period types described in the previous section,
DHIS2 also support relative periods for use in the analysis modules.

When creating analytical resources within DHIS2 it is possible to make
use of the relative periods functionality. The simplest scenario is when
you want to design a monthly report that can be reused every month
without having to make changes to the report template to accommodate for
the changes in period. The relative period called "Last month" allows
for this, and the user can at the time of report generation through a
report parameter select the month to use in the report.

A slightly more advanced use case is when you want to make a monthly
summary report for immunisation and want to look at the data from the
current (reporting) month together with a cumulative value for the year
so far. The relative period called "This year" provides such a
cumulative value relative to the reporting month selecting when running
the report. Other relative periods are the last 3,6, or 12 months
periods which are cumulative values calculated back from the selected
reporting month. If you want to create a report with data aggregated by
quarters (the ones that have passed so far in the year) you can select
"Last four quarters". Other relative periods are described under the
reporting table section of the manual.


| Unité d'organisation | Élément de données | Mois du rapport  | A ce jour | Nom du mois du rapport  |
|---|---|---|---|---|
| Gerehun CHC | Doses de rougeole administrées | 15 | 167 | Oct-09 |
| Tugbebu CHP | Doses de rougeole administrées | 17 | 155 | Oct-09 |

### Agrégation des périodes { #aggregation-of-periods } 

While data needs to be collected on a given frequency to standardise
data collection and management, this does not put limitations on the
period types that can be used in data analysis and reports. Just like
data gets aggregated up the organisational hierarchy, data is also
aggregated according to a period hierarchy, so you can create quarterly
and annual reports based on data that is being collected on a Monthly
basis. The defined period type for a data entry form (data set) defines
the lowest level of period detail possible in a report.

#### Somme et agrégation moyenne sur la dimension de la période { #sum-and-average-aggregation-along-the-period-dimension } 

When aggregating data on the period dimension there are two options for
how the calculation is done, namely sum or average. This option is
specified on a per data element in DHIS2 through the use of the
'aggregation operator' attribute in the Add/Edit Data Elements dialog.

Most of the data collected on a routinely basis should be aggregated by
summing up the months or weeks, for instance to create a quarterly
report on Measles immunisation one would sum up the three monthly values
for "Measles doses given".

Other types of data that are more permanently valid over time like
"Number of staff in the facility" or an annual population estimate of
"Population under 1 year" need to be aggregated differently. These
values are static for all months as long as there are valid data. For
example, the "Estimated population under 1", calculated from the census
data ,is the same for all months of a given year, or the number of
nurses working in a given facility is the same for every month in the 6
months period the number is reported for.

This difference becomes important when calculating an annual value for
the indicator morbidity service burden for a facility. The monthly
head-counts are summed up for the 12 months to get the annual headcount,
while the number of staff for the facility is calculated as the average of
the two 6-monthly values reported through the 6-monthly staff report. So
in this example the data element "OPD headcount" would have the
aggregation operator "SUM" and the data element "Number of staff" would
have it set to "AVERAGE".

Another important feature of average data elements is the validity
period concept. Average data values are standing values for any period
type within the borders of the period they are registered for. For
example, an annual population estimate following the calendar year, will
have the same value for any period that falls within that year no matter
what the period type. If the population under 1 for a given facility is
250 for the year of 2015 that means that the value will be 250 for
Jan-15, for Q3-15, for Week 12 of 2015 and for any period within 2015.
This has implications for how coverage indicators are calculated, as the
full annual population will be used as denominator value even when doing
monthly reports. If you want to look at an estimated annual coverage
value for a given month, then you will have the option of setting the
indicator to "Annualised" which means that a monthly coverage value will
be multiplied by a factor of 12, a quarterly value by 4, in order to
generate an effective yearly total. The annualised indicator feature can
therefore be used to mimic the use of monthly population estimates.

## Collecte de données et Analyse de données { #data-collection-vs-data-analysis } 

### Collecte et stockage des données { #data-collection-and-storage } 

Datasets determine what raw data that is available in the system, as
they describe how data is collected in terms of periodicity as well as
spatial extent. Data sets define the building blocks of the data to be
captured and stored in DHIS2. For each data dimension we decide what
level of detail the data should be collected at namely 1) the data
element (e.g. diagnosis, vaccine, or any event taking place) and its
categories (e.g. age and gender), 2) the period/frequency dimension, and
3) the organisation unit dimension. For any report or data analysis you
can never retrieve more detailed data than what is defined in the data
sets, so the design of the datasets and their corresponding data entry
forms (the data collection tools) dictate what kind of data analysis
will be possible.

### L'entrée n'est pas égale à la sortie { #input-does-not-equal-output } 

It is important to understand that the data entry forms or datasets
themselves are not intrinsically linked to the underlying data value and
that the meaning of data is only described by the data element (and its
categories). This makes it perfectly safe to modify datasets and forms
without altering the data (as long as the data elements stay the same).
This loose coupling between forms and data makes DHIS2 flexible when it
comes to designing and changing new forms and in providing exactly the
form the users want.

Another benefit of only linking data to data elements and not to forms,
is the flexibility of creating indicators and validation rules based on
data elements, and also in providing any kind of output report (in pivot
tables, charts, maps etc.) that can combine data individually or across
forms, e.g. to correlate data from different health programs. Due to
this flexibility of enabling integration of data from various programs
(forms) and sources (routine and semi permanent (population, staff,
equipment)) a DHIS2 database is used as an integrated data repository
for many or all parts of the aggregated data in a larger HIS. The figure
below illustrates this flexibility.

![](resources/images/data_dimensions/dhis_input_output.jpg)

In this example, we see that data elements from multiple forms can be
combined to create a given indicator. As a more concrete example, one
might collect "Population under one year of age" in an annual data set
by district, and then collect a data element like "Fully immunized
children" by month at the facility level. By annualizing the population,
we can generate an approximation of the effective monthly population,
and combining this with the aggregate total of the number of fully
immunized children by month, it would be possible to generate an
indicator "Fully immunized coverage", consisting of the aggregated
total of children who are fully immunized, divided by the effective
monthly population.

## Plus d'exemples d'éléments de données et de formulaires { #extended-examples-of-data-elements-and-forms } 

The table below combines data element the two group sets Diagnosis (all
the diseases) and Morbidity/Mortality (New cases, Follow-ups, Referrals,
Deaths) with the data element category PHU/Community. Deaths are
captured in a separate form with other dimensions (e.g. the
PHU/Community) than morbidity.

![](resources/images/data_dimensions/Ex_table1.jpg)

This output table combines the two data element categories HIV\_Age and
Gender with the data element group set ART Group. The group enables
subtotals for staging and entry points summing up the data elements in
that group. Subtotals for either age groups and gender would be other
possible columns to easily include here.

![](resources/images/data_dimensions/Ex_table2.jpg)

## Son fonctionnement dans les tableaux croisés dynamiques { #how-this-works-in-pivot-tables } 

When doing data analysis in Excel pivot tables or any other OLAP based
tool the dimensions become extremely powerful in providing many
different views into the data. Each data element category or group set
become a pivot field, and the options or groups become values within
each of these fields. In fact categories and groupsets are treated
exactly the same way in pivot tables, and so are orgunits, periods, and
data elements. All these become dimensions to the data value that can be
used to rearrange, pivot, filter, and to drill down into the data. Here
we will show some examples of how the data dimensions are used in pivot
tables.

Using the example of morbidity and mortality data, a pivot table can
show how the dimensions can be used to view data for different
aggregation levels.

The completely aggregated number is viewed when none of the pivot fields
are arranged in the table area, as column or row fields, but are listed
above the table itself as page field (filter).

![](resources/images/data_dimensions/pivot_overview_1.jpg)

Here we have selected to look at the Morbidity total. The various data
elements on morbidity have been ordered into the main\_de\_groups
Morbidity (we will get back to Mortality later). The fields above the
table itself are all set to "All", meaning that the totals in the table
will contain data from all Countries, Districts, Chiefdom, ou\_type,
year, months, the various categories as listed in the red fields, and
all data elements in the Morbidity group.

As we have seen, this is not a very useful representation, as Morbidity
is organized into new cases, follow-ups, referrals, and then again in
age groups. Also, we do not see the various diagnoses. The first step is
to include the diagnoses field (which is a group set), which is done by
dragging the "diagnosis" field down to be a row field, as shown in the
figure below, and to add the group set called "morbiditymortality" in
the column field to display new cases, follow-up, and referrals.

![](resources/images/data_dimensions/pivot_diagnoses.jpg)

Comparez ce chiffre ci-dessus à celui ci-dessous.

![](resources/images/data_dimensions/pivot_dataelements.jpg)

They both show the same data (some of the rows have been cut in the
screenshot due to image size), albeit in a different way.

  - The "dataelement" field, used in the bottom figure, displays each
    diagnosis as three elements; one follow-up, one new, and one
    referrals. This is the way the data elements have been defined in
    DHIS2, as this makes sense for aggregation. You would not like to
    aggregate follow-ups and new, thus these have not been made as
    categories, the whole point of is to ease aggregation and
    disaggregation.

  - The "diagnosis" group set has instead been made to lump these three
    (follow-up, new, referrals) together, which can then be split with
    another group set, namely the one called "morbiditymortality". This
    allows us to organize the data as in the first of the two figures,
    where we have the single diagnosis per row, and the groups new,
    follow-up, referrals as rows.

The idea of using group sets is that you can combine, in any set,
different data elements. Thus, if we add the mortality data (by checking
it from the drop-down menu of the main\_de\_groups field, and moving
this field out of the table) we can see also the deaths, since the
mortality data elements have been included as a "death" group in the
"morbiditymortality" group set. The result is shown below.

![](resources/images/data_dimensions/pivot_diagnoses_all.jpg)

The result is a much more user-friendly pivot table. Now, another figure
shows the relationship between the group sets and elements (these are
fake data values).

This small detail of the pivot table show how the actual data elements
link to the group sets:

  - The four data elements, as defined in DHIS2, are Measles death,
    Measles follow-up, Measles new, and Measles referrals

  - They all belong to the group set "diagnosis", where they have been
    lumped together in the group Measles

  - The group set "morbiditymortality" contains the groups New cases,
    Follow-up, Referrals, and Deaths.

  - Only the data element Measles deaths has data related to the group
    Deaths, thus this is where the data value (20) is shown, at the
    upper right corner. The same for Measles new; the value (224) is
    shown at the intersection of the data element Measles new and the
    group New cases (in the group set morbiditymortality)

  - All the intersections where the data element does not link with the
    groups in morbiditymortality are left blank. Thus in this case we
    would get a nice table if we excluded the data element from the
    table, and just had diagnosis and the group set morbiditymortality,
    as in the figure shown earlier

Now lets see how the data element categories can be used. In the data
entry form for Morbidity the new cases and follow-ups use one age
category, the referral data another,, and the mortality data a third age
breakup, so these are available as three individual age group fields in
the pivot tables called morbidity\_age, referrals\_age and
mortality\_age. It doesn't make sense to use these while looking at
these data together (as in the examples above), but e.g. if we only want
to look at the only the new cases we can put the MobidityMortalityGroups
field back up as a page field and there select the New cases group as a
filter. Then we can drag the Morbidity\_age field down to the column
area and we get the following view:

![](resources/images/data_dimensions/pivot_morb_age.jpg)

The following table illustrates the benefits of reusing data element
categories across datasets and category combinations. The VCCT, ART and
PMTCT data are collected in three different datasets, the first two with
both gender and age breakdown, and the PMTCT only age (gender is given).
All three share the same age groups and therefore it is possible to view
data elements from all these three datasets in the same table and use
the age dimension. In the previous example with morbidity and mortality
data this was not possible since new cases, referrals and deaths all
have different age groups.

![](resources/images/data_dimensions/pivot_hiv_age.jpg)

In the table below PMTCT data has been removed from the table and the
gender category added to the column area so that you can analyse the
data for VCCT and ART by age and gender. An optional subtotal for gender
has also been added, as well as a grand total for all age and
gender.

![](resources/images/data_dimensions/pivot_hiv_age_gender.jpg)

## Étude de cas : Des formulaires papier aux ensembles de données multidimensionnelles - les enseignements tirés { #case-study-from-paper-forms-to-multidimensional-datasets-lessons-learned } 

Typically the design of a DHIS2 dataset is based on some requirements
from a paper form that is already in use. The logic of paper forms are
not the same as the data element and data set model of DHIS2, e.g. often
a field in a tabular paper form is described both by column headings and
text on each row, and sometimes also with some introductory table
heading that provides more context. In the database this is captured in
one atomic data element with no reference to a position in a visual
table format, so it is important to make sure the data element with the
optional data element categories capture the full meaning of each
individual field in the paper form.

Another important thing to have in mind while designing datasets is that
the dataset and the corresponding data entry form (which is a dataset
with layout) is a data collection tool and not a report or analysis
tool. There are other far more sophisticated tools for data output and
reporting in DHIS2 than the data entry forms. Paper forms are often
designed with both data collection and reporting in mind and therefore
you might see things such as cumulative values (in addition to the
monthly values), repetition of annual data (the same population data
reported every month) or even indicator values such as coverage rates in
the same form as the monthly raw data. When you store the raw data in
DHIS2 every month and have all the processing power you need within the
computerised tool there is no need (in fact it would be stupid and most
likely cause inconsistency) to register manually calculated values such
as the ones mentioned above. You only want to capture the raw data in
your datasets/forms and leave the calculations to the computer, and
presentation of such values to the reporting tools in
DHIS2.

### Des tableaux aux combinaisons de catégories - concevoir des ensembles de données multidimensionnelles { #from-tables-to-category-combinations-designing-multi-dimensional-data-sets } 

As we have seen in the examples above, data element categories and
category options are helpful in representing tabular data, when adding
dimensions to a field in a paper form. We have also seen how the data
element is one of the required dimensions which describe data in DHIS2.
As we will see in the example below there are often more than one way to
represent a paper form in DHIS2 , and it can be difficult to know which
dimension to represent with a data element name and which to represent
as categories, or even as groups as we have seen above. Here are some
general lessons learned from working with data element and category
combinations:

  - Design your dimensions with data use in mind, not data collection.
    This means that disaggregation of data values at collection time
    should be easily aggregated up along the various dimensions, as in
    adding up to a meaningful total.

  - Reuse dimensions as much as possible as this increases the ability
    to compare disaggregated data (e.g. age groups, fixed/outreach,
    gender).

  - Disaggregation dimensions should add up to a total. In certain
    cases, data elements may be collected a subsets of each other. In
    this case, use of categories to disaggregate the data element should
    not be used. As an example, we might collect "Number of confirmed
    malaria cases" and disaggregate this by "Under 5" and "Over 5". A
    third data element "Number of confirmed malaria cases under 1" might
    also exist on the form. It would seem reasonable then to create
    three age groups : Under 1, Under 5 and Over 5, to describe the
    disaggregation. However, the Under 1 is actually a subset of the
    Under 5 group, and when totalled, would result in duplication. Thus,
    categories should be generally be composed of mutually exclusive
    category options, such that the sum of individual category options
    results in a coherent total.

  - Different levels of dimensions; 1) disaggregation and 2) grouping.
    Disaggregation dimensions dictate how you collect and how detailed
    you store your data, so plan these carefully. The group dimension is
    more flexible and can be changed and added to even after data
    collection (think of it as tagging).

  - It is best to think of how the data would be used in an integrated
    data repository and not how it will actually be collected on forms
    or by programs when designing the meta-data model. Ideally, the same
    type of disaggregation should be used across forms and datasets for
    data elements which will be analysed together, or used to build
    indicators. Reuse definitions so that the database can integrate
    even though the forms themselves might be duplicated (which in
    practice, is often the case).

In order to better explain the approach and the possibilities we present
an example paper form and will walk through it step by step and design
data elements, categories, category options and category combinations.

![](resources/images/data_dimensions/PHUF3.jpg)

This form has many tables and each of them potentially represent a data
element category combination (from now on referred to as a catcombo). As
such there is no restriction on a dataset to only have one set of
dimensions or catcombo, it can have many and as we see above this is
necessary as the dimensions are very different from table to table. In
the following paragraphs, we will analyse how to break down this form
into its component pieces and suggest an implementation pathway in
DHIS2.

**ANC table**. This table in the top left corner is one the simpler ones
in this form. It has two dimensions, the first column with the ANC
activity or service (1st visit, IPT 2nd dose etc) and the second and
third column which represent the place where the service was given with
the two options "Fixed" and "Outreach". Since the ANC service is the key
phenomena to analyse here, and often there is a need for looking at the
total of "ANC 1st visits" no matter where they actually took placed, it
makes a lot of sense to use this dimension as the data element
dimension.

Thus, all items on the first column from "1st ANC" visit to "2nd IPT
dose given by TBA" are represented as individual data elements. The
*where* dimension is represented as a data element category (from now on
referred to as category) with the name "fixed/outreach" with the two
data element category options (from now on catoptions) "fixed" and
"outreach". There is no other dimension here so we add a new catcombo
with the name "Fixed/Outreach" with one category "Fixed/Outreach".
Strictly speaking there is another dimension in this table, and that is
the at PHU or by TBA dimension which is repeated for the two doses of
IPT, but since none of the other ANC services listed have this dimension
it does not seem like a good idea to separate out two data elements from
this table and give them another catcombo with both fixed/outreach and
at PHU/by TBA. reusing the same catcombo for all the ANC services makes
more sense since it will be easier to look at these together in reports
etc. and also the fact that there is not much to lose by repeating the
at PHU or by TBA information as part of the data element name when it is
only for four data elements in a table of eleven data elements.

**DELIVERY table.** This table is more tricky as it has a lot of
information and you can see that not all the rows have the same columns
(some columns are merged and a one field is greyed out/disabled.). If we
start by looking at the first column "Deliveries assisted by" that seems
to be one dimension, but only down to the "Untrained TBA" row, as the
remaining three rows are not related to who assisted the delivery at
all. Another dimension is the place of delivery, either In PHU or in
Community as stated on the top column headings. These deliveries are
further split into the outcome of the delivery, whether it is a live or
still birth, which seems to be another dimension. So if we disregard the
three bottom rows for a moment there seems to be 3 dimensions here, 1)
assisted by, 2) place of delivery, and 3) delivery outcome. The key
decision to make is what to use as the data element, the main dimension,
the total that you will most often use and want easily available in
reports and data analysis.

In this case, the outcome dimension as "Total live births" is a very
commonly used value in many indicators (maternal mortality ratio, births
attended by skilled health personnel etc.). In this case the "Assisted
By" dimension could also have been used without any problem, but the
added value of easily getting the total live births information was the
decisive point for us. This means that from this table (or sub-table of
row 1 to 6) there are only two data elements; "Live births" and "Still
births".

Next, there are two more dimensions, the "PHU/Community" with its two
options and a "Births attended by" with options ("MCH Aides", "SECHN",
"Midwives", "CHO", "Trained TBA", "Untrained TBA"). These two categories
make up the catcombo "Births" which is assigned to the two data elements
"Live births" and "Still births". Considering the final three rows of
the delivery table we can see that "Complicated Deliveries" does not
have the assisted by dimension, but has the place and the outcome. "Low
birth weight" also does not have the assisted by dimension and not the
outcome either. The LLITN given after delivery does not have any
additional dimension at all. Since not any of the three rows can share
catcombo with any other row we decided to represent these fields as so
called flat data elements, meaning data elements with no categories at
all, and simply adding the additional information from the column
headings to the data element name, and therefore ended up with the
following data elements with the default (same as none) catcombo;
"Complicated deliveries in PHU live birth", "Complicated deliveries in
PHU still births", "Complicated deliveries in community live birth",
"Complicated deliveries in community still births", "Low birth weight in
PHU", "Low birth weight in community", and "LLITN given after delivery".

**POST-NATAL CARE table** This table is simple and we used the same
approach as for the ANC table. 3 data elements listed in the first
column and then link these to the catcombo called "fixed/outreach".
Reusing the same category fixed/outreach for these data elements enables
analysis on fixed/outreach together with ANC data and other data using
the same category.

**TT table** This table is somewhat more complex than the previous
examples.We decided to use "TT1", "TT2" ... "TT5" as data elements which
makes it easy to get the total of each one of these. There is
fixed/outreach dimension here, but there is also the "In school place"
that is only applied to the Non-Pregnant, or more correctly to any of
the two as the school immunisation is done whether the girls are
pregnant or not. We consulted the program people behind the form and
found out that it would be OK to register all school TT immunisations as
non-pregnant, which simplifies the model a bit since we can reuse the
"TT1" to "TT5" data elements. So we ended up with a new category called
"TT place" with the three options (Fixed, Outreach, In School), and
another category called "Pregnant/Non-pregnant" with two options. The
new catcombo "TT" is then a combination of these two and applied to the
5 TT data elements. Since we agreed to put all In Schools immunisations
under Non-pregnant in means that the combination of options (Pregnant+In
School) will never be used in any data entry form, and hence become a
possible optioncombo, which is OK. As long as the form is custom
designed then you can choose which combinations of options to use or
not, and therefore it is not a problem to have such passive or unused
catoptions. Having school as one option in the TT place category
simplifies the model and therefore we thought it was worth it. The
alternative would be to create 5 more data elements for "TT1 in school"
... "TT5 in school", but then it would be a bit confusing to add these
together with the "TT1" ..."TT5" plus TT catcombo. Having school as a
place in the TT place category makes it a lot easier to get the total of
TT1.. TT5 vaccines given, which are the most important numbers and most
often used values for data analysis.

**Complications of early and late pregnancy and labour tables** We treat
these two tables as one, and will explain why. These two tables are a
bit confusing and not the best design. The most important data coming
out of these tables are the pregnancy complications and the maternal
deaths. These data elements contain further detail on the cause of the
complication or death (the first column in both tables), as well as a
place of death (in PHU or community), and an outcome of the complication
(when its not a death) that can be either "Managed at PHU" or "
Referred". We decided to create two data elements for these two tables;
"Pregnancy complications", and "Maternal Deaths", and two category
combinations, one for each of the data elements. For the Pregnancy
Complications data element there are two additional dimensions, the
cause of the complication (the combined list of the first column in the
two tables) and the outcome (managed at PHU or Referred), so these are
the categories and options that make up that category combination. For
the "Maternal deaths" data element the same category with the different
causes are used and then another category for the place of death (in PHU
or In community). This way the two data elements can share one category
and it will be easy to derive the total number of pregnancy
complications and maternal deaths. While the list of complications on
the paper form is divided into two (early and late/labour) you can see
that e.g. the malaria in 2nd and 3rd trimester are listed under early,
but in fact are for a later phase of the pregnancy. There is no clear
divide between early and late complications in the form, and therefore
we gave up trying to make this distinction in the database.

**Family Planning Services table** This table has 2 dimensions, the
family planning method (contraceptive) and whether the client is new or
continuing. We ended up with one data element only "Family planning
clients" and then added two categories "FP method" with all the
contraceptives as options, and another category "FP client type" with
new or continuing as options. This way it will be easy to get the total
number of family planning clients which is the major value to look at in
data analysis, and from there you can easily get the details on method
or how many new clients there are.

### Une approche progressive de la conception des ensembles de données { #step-by-step-approach-to-designing-datasets } 

1.  Identify the different tables (or sub datasets) in the paper form
    that share the same dimensions

2.  Pour chaque tableau, identifiez les dimensions qui décrivent les champs de données

3.  Identify the key dimension, the one that makes most sense to look at
    in isolation (when the others are collapsed, summed up). This is
    your data element dimension, the starting point and core of your
    multidimensional model (sub dataset). The data element dimension can
    be a merger of two or more dimensions if that makes more sense for
    data analysis. The key is to identify which total that makes most
    sense to look at alone when the other dimensions are collapsed.

4.  For all other/additional dimensions identify their options, and come
    up with explanatory names for dimensions and their options.

5.  Each of these additional dimensions will be a data element category
    and their options will be category options.

6.  Combine all categories for each sub dataset into one category
    combination and assign this to all the data elements in your table
    (or sub dataset if you like).

7.  When you are done with all the tables (sub datasets), create a
    new dataset and add all the data elements you have identified (in
    the whole paper form) to that dataset.

8.  Your dataset will then consist of a set of data elements that
    are linked to one or more category combinations.



# Dimensions supplémentaires des données { #additional_data_dimensions } 

## À propos des dimensions supplémentaires des données { #about-additional-data-dimensions } 

DHIS2 has the ability to add dimensions to data in addition to what was
described in the previous chapter. We will call these dimensions
“attribute categories” (ACs). The categories described in the previous
chapter we will call “disaggregation categories” (DCs) to differentiate
them from ACs.

ACs and DCs are quite similar—they work in much the same way, are
accessed through the same part of the maintenance interface, and exist
in the same part of the database. The main difference between them is
what they are connected to. A DC is attached to a data element; however,
an AC is attached to a data set. This means values for all DC options
can be entered on the same data entry screen, whereas you must choose
the AC option before you begin to enter data.

In setting up a system, you could just use DCs and ignore ACs
altogether. However, ACs are a way to simplify data entry screens or
reduce the size of the cross-product of category option combos.

> **Tip**
>
> When you’re deciding which categories should be DCs and which should be
> ACs, here’s a good rubric:
>
>  - Use DCs when you want to use different combinations of categories on
>    different data elements within a data set
>
>  - Use DCs when you want to enter all the category option combinations
>    on one data entry screen
>
>  - Use ACs when you want to use the same combination of categories for
>    all the data in a data set
>
>  - Use ACs when you want to enter only one category option combination
>    on one data entry screen

While we referred to DCs as part of the *what* dimension for simplicity
in the former chapter, it’s actually more complex. Either DCs or ACs can
answer any question about a data element, including *what* (of course),
*who*, *why*, *how*, or even a *where* or a *when* beyond the
organisation unit and period dimensions.

## Créer ou modifier une catégorie d'attributs et ses options { #create-or-edit-an-attribute-category-and-its-options } 

The process of creating an attribute category as well as its options and
combinations, is discussed in the section 
[Manage categories](manage_category.html). As noted 
there, disaggregation categories are configured by editing a data
element and attribute categories are configured by editing a data set.

## Data entry with disaggregation categories and attribute categories { #data-entry-with-disaggregation-categories-and-attribute-categories } 

When entering aggregate data, one must first choose the attribute
categories, and then one can enter the data across disaggregation
categories on a single page.

For instance, in the graphic below, the attribute categories are
Implementing Partner (AIDSRelief Consortium) and Project (Improve access
to medicines).  The disaggregation categories are gender
(male/female/etc.), age (<15, 15-24, 25-49, >49).

![](resources/images/maintenance/categories_dataset_attributes.png)

## Analysis with disaggregation categories and attribute categories { #analysis-with-disaggregation-categories-and-attribute-categories } 

In order to do analysis with disaggregation and attribute categories,
check the “Data dimension” box in the category editing screen of the
Maintenance app, as discussed in 
[Create or edit a category](manage_category.html#create_category).

## Approvals with attribute categories { #approvals-with-attribute-categories } 

To include attribute categories in approvals, create a category
option group that contains the same category options as the attribute
category.  Then create a category option group set and add that the
category option group set as a data approval level.

This is covered in more detail in the section
[Approving by category option group set](data_approvals_approving_by_cogs.html) and 
[Approving by multiple category option group sets](approving_by_multiple_category_option_group_sets.html).

## Attribute categories and the datavalue table { #attribute-categories-and-the-datavalue-table } 

For some, the way attribute categories work with disaggregation
categories is clearer when we look at how the data values are stored
in DHIS2’s database. If diving into the database internals doesn’t help
you understand how the different types of categories work together,
please feel free to ignore it.

Each data value is associated with a data element, a period, and an
organisation unit, which are represented in this way:

 <table width="100%">
 <colgroup>
 <col style="width: 18%" />
 <col style="width: 10%" />
 <col style="width: 10%" />
 <col style="width: 7%" />
 <col style="width: 27%" />
 <col style="width: 28%" />
 </colgroup>
 <tbody>
 <tr class="odd">
 <td> <p> dataelementid </p> </td>
 <td> <p> periodid </p> </td>
 <td> <p> sourceid </p> </td>
 <td> <p> &nbsp; </p> </td>
 <td> <p> &nbsp; </p> </td>
 <td> <p> &nbsp; </p> </td>
 </tr>
 </tbody>
 </table>

(Notez qu'il s'agit d'identifiants de base de données numériques, et non de DHIS2.)

And of course, each data value has a value, adding the **value** column
to the database:

 <table width="100%">
 <colgroup>
 <col style="width: 18%" />
 <col style="width: 10%" />
 <col style="width: 10%" />
 <col style="width: 7%" />
 <col style="width: 27%" />
 <col style="width: 28%" />
 </colgroup>
 <tbody>
 <tr class="odd">
 <td> <p> dataelementid </p> </td>
 <td> <p> periodid </p> </td>
 <td> <p> id source </p> </td>
 <td> <p> valeur </p> </td>
 <td> <p> &nbsp; </p> </td>
 <td> <p> &nbsp; </p> </td>
 </tr>
 </tbody>
 </table>

Each data value also references the disaggregation category options
and the attribute category options assigned to it. For instance, in
the example above, the data value entered in the box “Male <15” will
have the option “Male” for the disaggregation category **gender**, and
the option “<15” for the disaggregation category **age**. The
combination of these two options is represented in the database by a
single **category option combination** meaning “Male, <15”. The data
value references this disaggregation category option combination in the
**categoryoptioncomboid**:

<table width="100%">
<colgroup>
<col style="width: 18%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 7%" />
<col style="width: 27%" />
<col style="width: 28%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>dataelementid</p></td>
<td><p>periodid</p></td>
<td><p>sourceid</p></td>
<td><p>value</p></td>
<td><p>categoryoptioncomboid</p></td>
<td><p>&nbsp;</p></td>
</tr>
</tbody>
</table>

Likewise, the same data value will have the option “AIDSRelief
Consortium” for the category **Implementing Partner**, and the option
“Improve access to medicines” for the category **Project**. There will
also be a database **category option combination** meaning “Implementing
Partner, Improve access to medicines”. The data value references this
attribute category option combination in the **attributeoptioncomboid**:

<table width="100%">
<colgroup>
<col style="width: 18%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 7%" />
<col style="width: 27%" />
<col style="width: 28%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>dataelementid</p></td>
<td><p>periodid</p></td>
<td><p>sourceid</p></td>
<td><p>value</p></td>
<td><p>categoryoptioncomboid</p></td>
<td><p>attributeoptioncomboid</p></td>
</tr>
</tbody>
</table>

> **Note**
>
> The above column list does not include all of the columns in the
datavalue table.

If you have not defined a disaggregation category combination for a data
element, the categoryoptioncomboid will reference a “default” category
option combination, which is defined internally in DHIS2 as the category
default with the option default (the only option in the default
category). Likewise, if you have not defined an attribute category
combination for the dataset in which you enter the data, the
attributeoptioncomboid references the same “default” category option
combination.

We hope this investigation of how data values are stored in DHIS2’s
database makes it clearer how data values can be associated with various
groups of category options, both from disaggregation categories and
attribute categories.



# Modèle de relation { #relationship_model } 
<!--DHIS2-SECTION-ID:relationship_model-->

Une relation est un lien entre deux entités dans le modèle Tracker. Une relation est considérée comme une donnée dans DHIS2 et est basée sur un type de relation, de la même manière qu'une instance d'entité suivie est basée sur un type d'entité suivie.

Les relations comprennent toujours deux entités, et ces entités peuvent inclure des instances d'entités suivies, des inscriptions et des événements, et toute combinaison de ceux-ci. Notez que toutes ces combinaisons ne sont pas disponibles dans les applications actuelles.

In addition, relationships can be defined as unidirectional or bidirectional.
The only functional difference is currently that these requires different levels
of access to create. Unidirectional relationships requires the user to have data
write access to the "from" entity and data read access for the "to" entity,
while bidirectional relationships require data write access for both sides.

## Type de relation { #relationship_model_relationship_type } 
<!--DHIS2-SECTION-ID:relationship_model_relationship_type-->

A Relationship Type is the definition of the properties a relationship have.
Relationships always consists of two sides, referred to as "from" and "to", and
what entities can be contained for each side is determined by the Relationship
Type. The properties that determine what each can contain are called
constraints, fromConstraint and toConstraint respectively. These constraints are
significant when working with the data later, to understand what a relationship
can and cannot contain.

Each of the constraints defined in the Relationship Type consists of several
properties. The primary property is the relationship entity, which decides what
kind of entities the relationship can contain. The entities can be one of the
following for each constraint:

* Instance d'entité suivie
* Inscription
* Événement

Depending on the kind of relationship entity you select, you can choose
additional limitations for each constraint. The following table explains the
different combinations you can configure:

|                     | Instance d'entité suivie | Inscription | Événement    |
|---------------------|-------------------------|------------|----------|
| Type d'entité suivie | Obligatoire                | Facultatif   | -        |
| Programme             | -                       | Obligatoire   | -        |
| Étape du programme       | -                       | Obligatoire   | Facultatif |

These additional limitations, will require the entity to match the limitation
set before it can be created. For example, if your relationship is between a
mother and a child, both constraints would have their required Tracked Entity
Type set to Person and could optionally set the Enrollment to Maternal Health
Program and Child Program respectively. This way, only Tracked Entity Instances
who are of type Person and who is enrolled in the required program is allowed to
be included in these relationships.

In addition to the constrains a Relationship Type can have, each relationship
can be set to bidirectional, true or false. If the property is set to false, the
relationships are treated as unidirectional. As previously mentioned, the only
functional difference between these relationships are how strict the access is
when creating or updating them - bidirectional being the strictest. Relationships 
are also presented differently in the UI based on whether or not the relationship 
is bidirectional or unidirectional.

One important thing to note about bidirectional relationships, are that the
"from" and "to" sides are still significant in the database, meaning each entity
must match the constraint for that side. However, from a user perspective, which
side each entity is stored as is insignificant.



# Glossaire du DHIS2 { #dhis2_glossary }

## A { #a } 

Aggregation
:   In the context of DHIS2, aggregation refers to how data elements are
    combined within a particular hierarchical relationship. As an
    example, all the health facilities in a particular district would
    contribute to the total value for the particular district in
    question. Different aggregation operators are supported within
    DHIS2, such as SUM, AVERAGE, and COUNT.

Analytics
:   Analytics refers to the process which processes and prepares data
    which has been entered into DHIS2 into a format which is more
    suitable for retrieving indicators and aggregated data. When data is
    entered into DHIS2, it is stored in a format which is optimized for
    writing the data. However, when data needs to be processed into
    indicators or aggregated (e.g from months to quarters), it is more
    efficient to transform and store this data in a different format
    which is optimized for read-only operations. The analytics system of
    DHIS2 is used extensively by the analytics apps (GIS, Pivot Table,
    Event reports, etc.).

    Il est important de garder à l'esprit que puisque les données qui ont été
saisies dans DHIS2 doivent être traitées dans un format analytique, les 
données qui apparaissent dans les applications d'analyse ne représentent que les données
qui étaient présentes dans le système lors de la dernière exécution de l'analyse. Si 
des données ont été saisies après cette date, il faudra relancer les analyses 
pour que ces données apparaissent les applications d'analyse.

Aggregate data
:   In the context of DHIS2, aggregate data refers to either data
    elements or indicators that have been derived from other
    hierarchical data sources. For instance, aggregate facility data
    would result from the aggregate totals of all patients that have
    attended that facility for a particular service. Aggregate district
    data would result from the aggregate totals of all facilities
    contained with a particular district.

Application programming interface
:   An application programming interface is a specification of how
    different software components should interact with each other. The
    DHIS2 API (or WebAPI) can be used to interface DHIS2 with other
    software, to build reports or custom data entry forms.

Approvals
:   Approvals can be used to control the visibility and editibility of
    data. When data is submitted from the lowest reporting level, it can
    be approved by the next higher level. This approval has two effects:

1. Il n'est plus possible d'éditer les données dans les écrans de saisie au niveau inférieur.

2. En fonction des paramètres du système qui ont été activés, les 
données deviennent visibles au niveau de l'approbation.

Par exemple, les données sont saisies au niveau de l'établissement, puis soumises à l'approbation. Une fois les données approuvées au niveau du district, les données seront verrouillées dans les écrans de
saisie des données au niveau de l'établissement. Elles deviendront également visibles dans les applications d'analyse pour les utilisateurs du district.

## B { #b } 

Bi-monthly
:   Refers to a two-month period, such as January 1st to February 28th.

## C { #c } 

Category
:   Categories are groups of category options. The are used in
    combinations to disaggregate data elements. Categories are typically
    a single type of concept, such as "Age" or "Gender".

Category combinations
:   Category combinations are used to disaggregate data elements. As an
    example, the data element "Number of confirmed cases of malaria"
    could be disaggregated subdivided into to categories: "Age" and
    "Gender". In turn each of these categories, would consist of several
    category options, such as "Male" and "Female" for the gender
    category. Category combinations may consist of one or several
    categories.

Category combination options
:   Category combination options are dynamically composed of all of the
    different combinations of category options which compose a category
    combination. As an example, two categories "Gender" and "Age", might
    have options such as "Male" or "Female" and "<5 years" or ">5 years".
    The category combination options would then consist of:

- Homme <5 ans
- Homme >5 ans
- Femme <5 ans
- Femme >5 ans

Category option
:   Category options are atomic elements that are grouped into
    categories.

Comma separated values
:   Comma separated values are series of tabular data stored in a
    plain-text format. They are commonly used with DHIS2 to export and
    import data values.

## D { #d } 

Data dictionary
:   A collection of data elements and indicators, which can be exchanged
    with other DHIS2 systems. Typically used to define a set of data
    elements and indicators when setting up the DHIS2 system.

Data exchange format
:   In the context of DHIS2, the "data exchange format" refers to a XML
    schema that enables the transportation of data and meta-data between
    disconnected DHIS2 instances, as well as between different
    applications that support the DXF schema.

Datamart
:   A set of database tables in DHIS2 that contains processed data
    elements and indicator values that is generated based on aggregation
    rules and calculated data element and indicator formulae. Datamart
    tables are used for analysis and report production. Typically, users
    should not work directly with unaggregated data values, but rather
    with values that have resulted from a datamart export for analysis.

Data element
:   A data element is the fundamental building block of DHIS2. It is an
    atomic unit of data with well-defined meaning. Essentially it is a
    data value that has been actually observed or recorded which is
    further characterized by a number of dimensions. As an example the
    data element "Number of fully immunized children" would refer to the
    number of children that received this particular service. Data
    elements are always linked to a period as well as an organizational
    unit. They optionally may be linked to other dimensions.

Data element group
:   Data element groups are used to categorize multiple data elements
    according to a common theme, such as "Immunization" or "ART".
    Typically, they are used during reporting and analysis to allow
    related data elements to be analysed together.

Data element group sets
:   Data element groups are used to categorize multiple data element
    groups into a common theme.

Dimension
:   A dimension is used to categorize data elements during analysis.
    Dimensions provide a mechanism to group and filter data based on
    common characteristics. Typically, related data elements may be
    aggregated or filtered during analysis with the use of dimensions.
    Dimensions may be a member of a hierarchy. For instance the "Period"
    dimension may be broken down into "Day-\>Month-\>Quarter-\>Year".

DXF

## H { #h } 

Health management information system
:   Typically, an electronic database system that is used to record
    aggregated data on service delivery, disease incidence, human
    resource data and other information used to evaluate the performance
    of delivery of health services. Typically, an HMIS does not contain
    the highly detailed data of electronic medical record systems or
    individual patient data.

## I { #i } 

Indicator
:   The divisor of an indicator. Can be composed of multiple data
    elements with the use of an indicator formula.

\[
Indicateur = {\frac{Numéroteur}{Dénominateur}}
\]

Il s'agit évidemment d'un exemple très général. Le numérateur et 
l'indicateur peuvent eux-mêmes être composés de divers éléments de données,
facteurs et des quatre opérandes de base (addition, multiplication,
division et soustraction).

## N { #n } 

Numerator
:   The dividend of a indicator. Can be composed of multiple data
    elements and factors with the use of indicator formulas.

## O { #o } 

Organisational unit
:   An organisational unit is usually a geographical unit, which exists
    within a hierarchy. As an example, in the United States, "Georgia"
    would be considered an organisational unit with in the orgunit level
    of "State". Organizational units can also be used to specify an
    administrative unit, such as a ward within a hospital. The
    organisational unit dimension specifies essentially *where* a
    particular data value occurs.

Organisational unit level
:   Refers to a level within an organizational hierarchy. Typically,
    countries are administered at different levels, such as 1) Country
    2) States 3) Counties 4) Health facilities. In the context of DHIS2,
    health facilities typically are the lowest orgunit level. Data is
    aggregated upwards from the lowest orgunit level to the highest.

## P { #p } 

Period
:   A period is a specific time interval which consists of a start date
    and end date. For instance "January 2011" would refer to the time
    interval of January 1st 2011-January 31st 2011.

## U { #u } 

Unique identifier
:   A unique identifier (UID) is a semi-random series of letters and
    numbers used by DHIS2 to identify specific resources. UIDs begin
    with a letter, and are followed by exactly 10 letters or digits.



# About demo server, D2 cluster and database design { #moare_about_dhis2_server_database } 

## Utilisation du serveur de démonstration de DHIS2 { #using-the-dhis2-demo-server } 

The DHIS2 team maintains a demonstration server at
<https://play.dhis2.org/demo>. This is by far the easiest way to try out
DHIS2. Simply open the link in your web browser and login with username
= admin and password = district.

> **Note**
>
> All changes on this server are deleted each night, so do not save any
> important work on this server. It is strictly for demonstration
> purposes on only\!

## Spinning up a local DHIS2 instance using D2 Cluster  { #mod2_1 } 

### Running D2 Cluster { #running-d2-cluster } 

Using Docker containers to run a d2 cluster is an easy way to get started with DHIS2 on
your local computer. This approach is appropriate for a stand-alone
installation and demos. Simply follow the guide
[here](https://developers.dhis2.org/docs/guides/spin-up-local-instance).

#### Prerequisites to running D2 Cluster { #prerequisites-to-running-d2-cluster } 

You must be sure that you have installed [Yarn](https://classic.yarnpkg.com/en/docs/install/) and [Nodejs](https://nodejs.org/en/). A current version of [Docker](https://www.docker.com/) must be
installed on your machine as well. Please refer to the [guide](https://developers.dhis2.org/docs/guides/spin-up-local-instance) for detailed information.

### Télécharger et installer la version serveur { #downloading-and-installing-the-server-version } 

The latest stable server version can be downloaded from this
[website](http://stable.dhis2.org/). For detailed information on how to
install it please refer to the installation chapter in the
implementation manual.

## Se connecter à DHIS2 { #mod2_2 } 

Regardless of whether you have installed the server version or ran a DHIS2 instance locally, you will use a web-browser to log on to the
application. DHIS2 should be compatible with most modern web-browsers,
although you will need to ensure that Java Script is enabled.

To log on to the application just enter <http://localhost:8080/dhis> if
you are using the DHIS2 live package, or replace `localhost` with the
name or IP address of the server where the server version is installed.

Once you have started DHIS2, either on-line or off-line, the displayed
screen will prompt you to enter your registered user-name and password.
After entering the required information click on log-in button to log
into the application. The default user name and password are 'admin' and
'district'. They should be changed immediately upon logging on the first
time.

![](resources/images/getting_started/login.png)

You can select the language which you wish to display DHIS2 in from the
"Change language" dialog box at the bottom of the screen. Not all
languages may be available.

Should you have forgotten your password, you can click on the "Forgot
password?" link. You must have informed DHIS2 of your email address and
the server must be properly configured to send emails.

If you want to create your own account (and the server administrator
allows this), simply click "Create an account" and follow the directions
provided.

Once you have logged into DHIS2, refer to the specific sections in this
manual for the different functionality which is available.

## Se déconnecter de DHIS2 { #mod2_4 } 

Just click on the Profile and the click "Log out" the top-right corner
of the DHIS2 menu.

## Brève introduction à la conception d'une base de données DHIS2 { #database_design } 

DHIS2 provides a powerful set of tools for data collection, validation,
reporting and analysis, but the contents of the database, e.g., what to
collect, who should collect it and on what format will depend on the
context of use. However, in order to do anything with DHIS2, you must
first create meta-data. Meta-data, or data about the data, describes
what should be collected (data elements and categories), where it should
be collected (organisation units) and how frequently it should be
collected (periods). This meta-data needs to be created in the DHIS2
database before it can be used. This can be done through the user
interface and requires no programming or in-depth technical skills of
the software, but does require a good understanding of the processes
which you are trying to collect data form.

This section will provide a very quick and brief introduction to DHIS2
database design and mainly explain the various steps needed to prepare a
new DHIS2 system for use. How to do each step is explained in other
chapters, and best practices on design choices will be explained in the
implementers manual. Here are the steps to follow:

1\. Configurez une hiérarchie organisationnelle

2\. Définissez les éléments de données

3\. Définissez les ensembles de données ainsi que les modèles de saisie de données

4\. Définissez les règles de validation

5\. Définissez les indicateurs

6\. Définissez les tableaux de rapports et concevez les rapports

7\. Configurez le module SIG

8\. Concevez des graphiques et personnalisez le tableau de bord

### La hiérarchie organisationnelle { #the-organisational-hierarchy } 

The organisational hierarchy defines the organisation using the DHIS2,
the health facilities, administrative areas and other geographical areas
used in data collection and data analysis. This *where* dimension to the data is
defined as a hierarchy with one root unit (e.g., Ministry of Health) and
any number of levels and nodes below. Each node in this hierarchy is
called an organisational unit in DHIS2.

The design of this hierarchy will determine the geographical units of
analysis available to the users as data is collected and aggregated in
this structure. There can only be one organisational hierarchy at the
same time so its structure needs careful consideration. Additional
hierarchies (e.g. parallel administrative groupings such as "Facility
ownership") can be modelled using organisational groups and group sets,
however the organisational hierarchy is the main vehicle for data
aggregation on the geographical dimension. Typically national
organisational hierarchies in public health have 4-6 levels, but any
number of levels is supported. The hierarchy is built up of parent-child
relations, e.g. a Country or MoH unit (the root) might have e.g. 8
parent units (provinces), and each province again ( at level 2) might
have 10-15 districts as their children. Normally the health facilities
will be located at the lowest level, but they can also be located at
higher levels, e.g. national or provincial hospitals, so skewed
organisational trees are supported (e.g. a leaf node can be positioned
at level 2 while most other leaf nodes are at level 5).

Typically there is a geographical hierarchy defined by the health
system. e.g. where the administrative offices are located (e.g. MoH,
province, district), but often there are other administrative boundaries
in the country that might or might not be added, depending on how its
boundaries will improve data analysis. When designing the hierarchy the
number of children for any organisational unit may indicate the
usefulness of the structure, e.g. having one or more 1-1 relationships
between two levels is not very useful as the values will be the same for
the child and the parent level. On the other extreme a very high number
of children in the middle of the hierarchy (e.g. 50 districts in a
province) might call for an extra level to be added in between to
increase the usefulness of data analysis. The lowest level, the health
facilities will often have a large number of children (10-60), but for
other levels higher up in the hierarchy approx. 5-20 children is
recommended. Too few or too many children might indicate that a level
should be removed or added.

Note that it is quite easy to make changes to the upper levels of the
hierarchy at a later stage, the only problem is changing organisational
units that collect data (the leaf nodes), e.g. splitting or merging
health facilities. Aggregation up the hierarchy is done based on the
current hierarchy at any time and will always reflect the most recent
changes to the organisational structure. Refer to the chapter on
Organisation Units to learn how to create organisational units and to
build up the hierarchy.

### Éléments de donnée { #data-elements } 

The Data Element is perhaps the most important building block of a DHIS2
database. It represents the *what* dimension, it explains what is being
collected or analysed. In some contexts this is referred to an
indicator, but in DHIS2 we call this unit of collection and analysis a
*data element*. The data element often represents a count of something,
and its name describes what is being counted, e.g. "BCG doses given" or
“Malaria cases”. When data is collected, validated, analysed, reported
or presented, the data elements or expressions built upon data
elements describes what the data is. As such the data elements
become important for all aspects of the system and they decide not only
how data is collected, but more importantly how the data values are
represented in the database, which again decides how data can be
analysed and presented.

It is possible to add more details to this *what* dimension through the
disaggregation dimension called data element categories. Some common
categories are age and gender, but any category can be added by the user
and linked to specific data elements. The combination of a data
element's name and its assigned category defines the smallest unit of
collection and analysis available in the system, and hence describes the
raw data in the database. Aggregations can be done when zooming out of
this dimension, but no further drill-down is possible, so designing data
elements and categories define the detail of the analysis available to
the system (on the *what* dimension). Changes to data elements and
categories at a later stage in the process might be complicated as these
will change the meaning of the data values already captured in the
database (if any). So this step is one of the more decisive and careful
steps in the database design process.

One best practice when designing data elements is to think of data
elements as a unit of data analysis and not just as a field in the data
collection form. Each data element lives on its own in the database,
completely detached from the collection form, and reports and other
outputs are based on data elements and expressions/formulas composed of
data elements and not the data collection forms. So the data analysis
needs should drive the process, and not the look an feel of the data
collection forms. A simple rule of thumb is that the name of the data
element must be able to stand on its own and describe the data value
also outside the context of its collection form. E.g. a data element
name like "Total referrals" makes sense when looking at it in either the
"RCH" form or the "OPD" form, but on its own it does not uniquely
describe the phenomena (who are being referred?), and should in stead be
called "Total referrals from Maternity" or "Total referrals from OPD".
Two different data elements with different meanings, although the field
on the paper form might only say "Total referrals" since the user of the
form will always know where these referrals come from. In a database or
a repository of data elements this context is no longer valid and
therefore the names of the data elements become so important in
describing the data.

Common properties of data elements can be modelled through what is
called data element groups. The groups are completely flexible in the
sense that they are defined by the user, both their names and their
memberships. Groups are useful both for browsing and presenting related
data, but can also be used to aggregate data elements together. Groups
are loosely coupled to data elements and not tied directly to the data
values which means they can be modified and added at any point in time
without interfering with the raw data.

### Ensemble de données et formulaires de saisie de données { #datasets-and-data-entry-forms } 

All data entry in DHIS2 is organised through the use of Datasets. A
Dataset is a collection of data elements grouped together for data
collection, and in the case of distributed installs they also define
chunks of data for export and import between instances of DHIS2 (e.g.
from a district office local installation to a national server).
Datasets are not linked directly to the data values, only through their
data elements and frequencies, and as such a dataset can be modified,
deleted or added at any point in time without affecting the raw data
already captured in the system, but such changes will of course affect
how new data will be collected.

A dataset has a period type which controls the data collection
frequency, which can be daily, weekly, monthly, quarterly, six-monthly,
or yearly. Both which data elements to include in the dataset and the
period type is defined by the user, together with a name, short name,
and code.

In order to use a dataset to collect data for a specific orgunit you
must assign the orgunit to the dataset, and this mechanism controls
which orgunits that can use which datasets, and at the same time defines
the target values for data completeness (e.g. how many health facilities
in a district expected to submit RCH data every month).

A data element can belong to multiple datasets, but this requires
careful thinking as it may lead to overlapping and inconstant data being
collected if e.g. the datasets are given different frequencies and are
used by the same orgunits.

#### Modèles de saisie de données { #data-entry-forms } 

Once you have assigned a dataset to an orgunit that dataset will be made
available in Data Entry (under Services) for the orgunits you have
assigned it to and for the valid periods according to the dataset's
period type. A default data entry form will then be shown, which is
simply a list of the data elements belonging to the dataset together
with a column for inputting the values. If your dataset contains data
elements with categories such as age groups or gender, then additional
columns will be automatically generated in the default form based on the
categories. In addition to the default list-based data entry form there
are two more alternatives, the section-based form and the custom form.

##### Formulaires à section { #section-forms } 

Section forms allow for a bit more flexibility when it comes to using
tabular forms and are quick and simple to design. Often your data entry
form will need multiple tables with subheadings, and sometimes you need
to disable (grey out) a few fields in the table (e.g. some categories do
not apply to all data elements), both of these functions are supported
in section forms. After defining a dataset you can define it's sections
with subsets of data elements, a heading and possible grey fields i the
section's table. The order of sections in a dataset can also be defined.
In Data Entry you can now start using the Section form (should appear
automatically when sections are available for the selected dataset). You
can switch between default and section forms in the top right corner of
the data entry screen. Most tabular data entry forms should be possible
to do with sections forms, and the more you can utilise the section
forms (or default forms) the easier it is for you. If these two types of
forms are not meeting your requirements then the third option is the
completely flexible, although more time-consuming, custom data entry
forms.

##### Formulaires personnalisés { #custom-forms } 

When the form you want to design is too complicated for the default or
section forms then your last option is to use a custom form. This takes
more time, but gives you full flexibility in term of the design. In
DHIS2 there is a built in HTML editor (FcK Editor) for the form designer
and you can either design the form in the UI or paste in your HTML
directly using the Source window in the editor. In the custom form you
can insert static text or data fields (linked to data elements +
category) in any position on the form and you have complete freedom to
design the layout of the form. Once a custom form has been added to a
dataset it will be available in data entry and used automatically. You
can switch back to default and section (if exists) forms in the top
right corner of the data entry screen.

### Règles de validation { #validation-rules } 

Une fois que vous avez configuré la partie du système relative à la saisie de données et commencé à collecter des données, il est donc temps de définir des règles de contrôle de la qualité des données permettant d'améliorer la qualité des données collectées. Vous pouvez alors ajouter autant de règles de validation que vous voulez. Celles-ci sont composées d'expressions de gauche et de droite qui, elles aussi, sont composées d'éléments de données, avec un opérateur entre les deux côtés. Les règles typiques consistent à comparer les totaux partiels aux totaux de quelque chose. Si vous avez par exemple deux éléments de données "Tests de dépistage du VIH" et "Résultat positif du test de dépistage", vous savez alors que dans le même formulaire (pour la même période et la même unité d'organisation), le nombre total de tests doit toujours être supérieur ou égal au nombre de tests positifs. Ces règles doivent être des règles absolues, ce qui signifie qu'elles sont mathématiquement correctes et non pas simplement des hypothèses ou sont "la plupart du temps correctes". Les règles peuvent être exécutées lors de la saisie de données, après le remplissage de chaque formulaire, ou dans un processus plus complexe dans plusieurs formulaires à la fois. Exemple : pour toutes les structures sanitaires du mois précédent, les résultats des tests listeront toutes les violations et les valeurs détaillées pour chaque côté de l'expression où la violation s'est produite pour faciliter le retour à la saisie des données et corriger les valeurs.

### Indicateurs { #indicators } 

Les indicateurs représentent peut-être la plus puissante fonctionnalité d'analyse de données de DHIS2. Alors que les éléments de données représentent les données brutes (comptes) collectées, les indicateurs représentent des formules fournissant des taux de couverture, des taux d'incidence, des ratios et d'autres unités d'analyse basées sur une formule. Un indicateur est composé d'un facteur (Exemple : 1,100, 100, 100 000), d'un numérateur et d'un dénominateur. Les deux derniers sont tous deux des expressions basées sur un ou plusieurs éléments de données. Exemple : l'indicateur "Couverture du BCG \<1 an" est défini par une formule avec un facteur 100, un numérateur ("Les doses BCG administrées aux enfants de moins de 1") et un dénominateur ("Population cible de moins de 1 an"). L'indicateur "Taux d'abandon de DPT1 à DPT3" est une formule de 100% x ("Doses de DPT1 administrées" - "Doses de DPT3 administrées") / ("Doses de DPT1 administrées").

La plupart des modules de rapport dans DHIS2 prennent en charge les éléments de données et les indicateurs et vous pouvez également les combiner dans des rapports personnalisés, mais la différence et la puissance des indicateurs par rapport aux données brutes (valeurs de données de l'élément de donnée) réside dans la possibilité de comparer des données entre différentes zones géographiques (par exemple les zones très peuplées ou rurales), la population cible pouvant être utilisée comme dénominateur.

Les indicateurs peuvent être ajoutés, modifiés et supprimés à tout moment sans interférer avec les valeurs de données contenues dans la base de données.

### Tableaux et rapports { #report-tables-and-reports } 

Standard reports in DHIS2 are a very flexible way of presenting the data
that has been collected. Data can be aggregated by any organisational
unit or orgunit level, by data element, by indicators, as well as over
time (e.g. monthly, quarterly, yearly). The report tables are custom
data sources for the standard reports and can be flexibly defined in the
user interface and later accessed in external report designers such as
iReport or through custom HTML reports. These report designs can then be
set up as easily accessible one-click reports with parameters so that
the users can run the same reports e.g. every month when new data is
entered, and also be relevant to users at all levels as the
organisational unit can be selected at the time of running the report.

### SIG { #gis } 

Dans le module SIG intégré, vous pouvez facilement afficher vos données sur des cartes, à la fois sur des polygones (zones) et sous forme de points (structures sanitaires), et soit en tant qu'éléments de données ou en tant qu'indicateurs. En fournissant les coordonnées de vos unités d'organisation au système, vous pouvez rapidement vous adapter à ce module. Consultez la section SIG pour plus de détails sur la façon de vous y prendre.

### Diagrammes et tableau de bord { #charts-and-dashboard } 

La plupart des modules de rapport dans DHIS 2 supportent à la fois les
éléments de données et les indicateurs et vous pouvez également
combiner ceux-ci dans des rapports personnalisés; toutefois la
différence importante et la force des indicateurs par rapport aux
données brutes (les valeurs des éléments de données) est leur capacité
de comparer les données entre les différentes zones géographiques (par
exemple, zones densément peuplées et zones rurales) par le fait que la
population cible peut être utilisée au niveau du dénominateur.



# Tutoriels sur le DHIS2 { #dhis2_tutorials } 

## Créer des tableaux de bord à l'aide de l'application Tableau croisé dynamique { #create-scorecards-pivot-table } 

**Scorecards definition:** In public health settings such as Ministries
of Health, scorecards offer a useful and standardized method for
combining related indicators into one table. A scorecard gives an
overall view of the performance of a health program such as a
vaccination program, highlighting successes, weaknesses, and areas for
improvement Here's what a typical scorecard looks like:

![](resources/images/tutorials/scorecards_pivot_result.png)

Ce tutoriel explique comment créer un tableau de bord dans l'application Tableau croisé dynamique de DHIS2. L'utilisation du tableau croisé dynamique pour la création d'un tableau de bord, par exemple, présente de nombreux avantages tels que :

  - Vous pouvez enregistrer la carte de pointage sur le tableau de bord et l'utiliser hors ligne.

  - Vous pouvez partager la carte de pointage avec d'autres utilisateurs de DHIS2.

Commençons donc !

### Créez une légende pour votre carte de pointage { #create-a-legend-for-your-scorecard } 

Tout d'abord, nous allons créer une légende de "feux" en 3 couleurs pour la carte de pointage. Avec ses trois couleurs de base, la carte de pointage devient facile à scanner et à comprendre.

1.  Open the **Maintenance** app. Click the menu in the top right corner
    and select Maintenance from the list of apps. You can also type the
    first letters of the word maintenance in the search field to find
    the app.

    ![](resources/images/tutorials/scorecards_maintenance_app.png)

2.  In the Maintenance app, scroll to the bottom of the page right down
    to the **Other** section.

3.  Allez sur **Legende** et cliquez sur le **+**.

    ![](resources/images/tutorials/scorecards_maintenance_legend.png)

4.  In the **Legend Management** page, scroll to the bottom of the page
    and create a new legend by clicking the blue + button.

    ![](resources/images/tutorials/scorecards_maintenance_addbtn.png)

5.  Enter a name for the legend such as “Traffic light”, a start value
    and an end value in the fields. The values you enter here depend on
    the performance ratings you wish to set for the scorecard.

6.  Change **Number of legend items** to 3 to display three colors in
    the scorecard. To change the legend item colors, click the blue +
    button and then edit the
    colors.

    ![](resources/images/tutorials/scorecards_maintenance_legend_color.png)

### Créer une carte de pointage dans l'application Tableau croisé dynamique { #create-a-scorecard-in-the-pivot-table-app } 

1.  Open the **Pivot Table** app from the top right menu of the
    dashboard. You can also enter the first letters of Pivot Table in
    the search field.

2.  Go to **Data** in the pane on the left side and select
    **Indicators** in the list.

3.  Sélectionnez un **groupe d'indicateurs** tel que "ANC" dans la deuxième liste.

4.  Using the arrows, select the type of indicators you want to see in
    your scorecard.

    ![](resources/images/tutorials/scorecards_pivot_indicators.png)

5.  Click **Update**. This button is in the menu at the top of the
    workspace

6.  Go to **Periods** and select a period for which you want to display
    data. In this “traffic light” example, we’ll use the relative period
    section. In **Quarters**, select **This quarter**and **Last
    quarter**. Clear any other checkboxes and click **Update**.

    ![](resources/images/tutorials/scorecards_pivot_period.png)

7.  Go to **Organisation Units** in the same left side pane, and click
    the arrow next to the gear button.

8.  Sélectionnez **Sélectionner les niveaux**.

    ![](resources/images/tutorials/scorecards_pivot_orgunit_level.png)

9.  Select **District** from the list (next to the gear button). Click
    **Update**.

    ![](resources/images/tutorials/scorecards_pivot_orgunit_level2.png)

As you can see, the scorecard is starting to take shape in the
workspace. Now it’s time to fine-tune the look and feel.

### Organiser la mise en page et l'affichage de votre carte de pointage { #organise-the-layout-and-display-of-your-scorecard } 

1.  Dans l'espace de travail, cliquez sur **Disposition**.

    ![](resources/images/tutorials/scorecards_pivot_layout.png)

2.  In **Table layout**, drag **Organisation units** down to the **Row
    dimensions** section.

3.  Faites glisser **Données** dans la section **Dimensions de la colonne**.

4.  In the **Column dimensions** pane, drag **Periods** below **Data**,
    and click **Update**.

5.  Dans l'espace de travail, cliquez sur **Options**.

    ![](resources/images/tutorials/scorecards_pivot_options.png)

6.  Allez dans **Données** et décochez toutes les cases.

7.  Go to **Style** \> **Legend set** and from the list, select the
    legend you created in the Maintenance app. In this example, we
    called it Traffic light.

8.  Go to **Style** \> **Legend display style** and select **Background
    color**.

9.  Cliquez sur **Mettre à jour**.

La carte de pointage est donc prête\ !


![](resources/images/tutorials/scorecards_pivot_result.png)

### Enregistrer et partager votre carte de pointage { #save-and-share-your-scorecard } 

1.  Dans l'espace de travail, allez au menu **Favoris**.

2.  Cliquez sur **Enregistrer sous**. Entrez un nom pour votre carte de pointage.

3.  Pour partager votre carte de pointage, sélectionnez **Favoris**.

4.  Enter the name of a user group name, and click **Save**. Your
    scorecard can be viewed by people that you share a dashboard with.

## Travailler avec TextPattern { #working-with-textpattern } 

TextPattern was introduced in DHIS2 version 2.29, as a way of defining a
pattern that includes variables, generated values and raw text, which
then could be generated into a text value. The current use-case for
TextPattern is automatically generated attributes for tracked entities,
where you want to generate for example unique ids based on a specific
pattern.

This guide will cover both basic and advanced topics for working with
TextPattern, but is mainly focused on how you can define TextPatterns
and which limitations and caveats exists.

### Syntaxe TextPattern { #textpattern-syntax } 

A TextPattern is a sequence of *segments*, joined together by the "+"
character. A segment has a specific notation and in most cases a
parameter *format*, which allows for further manipulation of the value.



Tableau : Segments TextPattern

|  Notation de segment | Description | Paramètre (format) | Exemple (segment → valeur d'entrée → résultat) |
|---|---|---|-----|
| "Texte brut" | The plain text segment will remain unchanged in all generated values. This special segment is defined by wrapping text between two double quotes. If your pattern should include separation symbols like a dash, you should use this "-". <br>The plain text segment also allows for placeholder text. That means you can specify that parts of the plain text segment should be any of a set of characters. Currently there are 4 supported special characters you can use:<br>* \d (0-9)<br>* \x (a-z)<br>* \X (A-Z)<br>* \w (a-zA-Z0-9) | Aucun | " Bonjour le monde " → Aucun → Bonjour le monde <br>" Bonjour \x\x\x " → " Bonjour toi " → Bonjour toi <br><br>" \d\d\d " → " 123 " → 123 |
| DATE_ACTUELLE(format) | Le segment de la date actuelle sera généré par le serveur au moment de la génération. Ceci est utile si vous voulez que vos motifs aient une contrainte temporelle déconnectée du contexte. Vous ne devez pas l'utiliser si vous avez besoin de contrôler la date injectée dans le modèle. | Format de la date | DATE_ACTUELLE(yyyy) → 01-01-2018 → 2018 |
| UNITE_D'ORG_CODE(format) | Ce segment représente le code de l'unité d'organisation associée à la génération. | Format du texte | UNITE_D'ORG_CODE(...) → OSLO → OSL |
| ALEATOIRE(format) | Les segments aléatoires seront remplacés par une valeur générée aléatoirement par le serveur en fonction du format. Les segments générés, comme les segments aléatoires, fondent leur unicité sur le reste du modèle. Cela signifie qu'une valeur aléatoire peut apparaître deux fois, à condition que le reste du motif soit différent, ce qui signifie que le texte généré dans son ensemble sera unique. | Format de génération | ALEATOIRE(X####) →Aucun → A1234 |
| SEQUENTIEL(format) | Les segments séquentiels seront remplacés par un nombre, basé sur une valeur de comptage sur le serveur. Les segments séquentiels commencent à la valeur 1 et, pour chaque valeur générée, ils comptent jusqu'à ce qu'il n'y ait plus de valeurs disponibles, en fonction du format. Comme pour les segments aléatoires, l'unicité est basée sur le reste du modèle, de sorte que chaque version possible du modèle ait son propre compteur séquentiel commençant à 1. | Format de génération | "A"+SEQUENTIEL(###) →Aucun→ A001 <br>"A"-SEQUENTIEL(###) → Aucun→ A002<br> <br>"B"-SEQUENTIEL(###) → Aucun → B001<br> <br>"B"-SEQUENTIEL(###) →Aucun → B002 |

Most segments has a parameter *format*, except for the plain text
segment. The following table lists the available formats, how they are
used and example notations using them.



Tableau: Formats des paramètres

| Format | Description | Exemple |
|---|---|---|
| Format de la date | Ce format est basé directement sur le format Java SimpleDateFormat, ce qui signifie que tout modèle valide pour SimpleDateFormat sera valide comme format de date dans TextPattern. | DATE_ACTUELLE(dd-MM-yyyy) → 31-12-2018 <br>DATE_ACTUELLE(MM-yyyy) → 12-2018 |
| Format du texte | Le format texte permet une manipulation de base du texte. En laissant le format vide, la valeur sera renvoyée sans modification, mais en utilisant "^", "." et "\$", vous pouvez modifier la valeur avant qu'elle ne soit renvoyée. Chaque "." représente un caractère, tandis que "^" représente le début du texte et "\$" la fin. Lors de l'utilisation de formats, la valeur d'entrée doit être au moins de la même longueur que le format. | UNITE_D'ORG_CODE(....) → OSLO<br> <br>UNITE_D'ORG_CODE(..) → OS<br> <br>UNITE_D'ORG_CODE(..\$) → LO<br> <br>UNITE_D'ORG_CODE(^...\$) → OSLO<br> <br>^....\$ exigera que la valeur d'entrée comporte exactement 4 caractères. |
| Format de génération | Le format de génération accepte une combinaison d'un ou plusieurs des caractères suivants : "#", "X", "x" et "\*". Ils représentent respectivement un nombre (0-9), une lettre majuscule (A-Z), une lettre minuscule (a-z) ou l'un des caractères ci-dessus (0-9, a-z, A-Z). Le segment SEQUENTIEL n'accepte que "#", car il ne génère que des nombres. Le nombre de caractères dans le format détermine la taille de la valeur générée. En d'autres termes, l'utilisation d'un seul "#" ne permettra de générer que 10 valeurs (0-9), tandis que "###" permettra de générer 1000 valeurs (000-999). Les valeurs SEQUENTIELLES générées ont des zéros en tête, de sorte que la longueur de la valeur générée corresponde toujours à la longueur du format. | ALEATOIRE(X###) → A123 <br>ALEATOIRE(\*\*\*\*) → 1AbC<br> <br>SEQUENTIEL(###) → 001<br> <br>SEQUENTIEL(######) → 000001 |

Quelques points importants à noter concernant les formats :

  - Date format is very versatile, but be aware of which date or time
    components you are using. Using components smaller than a day (For
    example hours or seconds) is not recommended, even though available.

  - Text format allows for marking both the start and end of the input
    value, but "^..." and "..." will in reality give exactly the same
    results. The only time you would want to use "^" is when you want to
    enforce the length of the input value. For example, "^....$" will
    accept OSLO, since its 4 characters between the start and end, but
    PARIS will be rejected, since it has 5 characters.

  - When text format is used for unique values, like organisation unit
    code, make sure that the format does not break the uniqueness.
    (Example: ORG\_UNIT\_CODE(..) for "PARIS" and "PANAMA CITY" would
    both return PA, which means these two organisation units would in
    reality share generated values)

  - Generation format is the primary way to understanding the capacity
    of your pattern. Make sure the format is long enough to cover more
    values than you need.

To finish off the syntax section of the tutorial, here is a couple of
example
    TextPattern:

    CODE_D'UNITE_D'ORG(...) + "-" + DATE_ACTUELLE(yyyyww) + "-" + SÉQUENTIEL(#####)

This pattern will have 99999 possible values (based on SEQUENTIAL. 00000
is never used since we start at 1). In addition, the remaining pattern
will change for each different organisation unit generating values
(ORG\_UNIT\_CODE) and for each week (CURRENT\_DATE(yyyyww) represents
year and week). That effectively means every new week, each organisation
unit will have 99999 new values they can use.

    "ABC_" + ALÉATOIRE(****)

The plain text segment of this pattern, will make no difference in the
total capacity of the pattern, however the generated segment (RANDOM)
will allow for 14776336 possible values. The reason for this is that \*
can be any one character of the 62 characters available (0-9, a-z, A-Z).
You can read more about understanding pattern capacity further down in
the tutorial.

### Conception d'un modèle de texte pour la génération d'identifiants { #designing-textpattern-for-generating-ids } 

One use-case for TextPattern is to generate unique ids. In this section
we will present guidelines and common issues related to designing
TextPatterns used for ids.

An id should never contain sensitive information, or information that in
combination can identify an individual. TextPattern does not currently
support segments that uses these kind of values, but might do so in the
future.

The following list highlights some of the TextPattern specific
restrictions you need to consider when designing a TextPattern for ids:

  - Make sure the capacity (number of possible values) of the
    TextPattern covers your use-case. It's better to have more values
    than needed than less. Tracked entity attributes using TextPattern
    will require that a single generated segment is present in the
    TextPattern.

  - A TextPattern is unique in the entire system, but only for the
    object using it. In other words, if you have a single tracked entity
    attribute with TextPattern, used by multiple Tracked entities (Not
    to be mistaken for tracked entity instances), all values generated
    will be shared between all traced entities using the attribute. This
    also means that if you have two tracked entity attributes with the
    same TextPattern syntax, each attribute will be able to generate the
    same value as the other, since uniqueness is based on the attribute.

<!-- end list -->

  - SEQUENTIAL segments are in the implementation numbers starting from
    1, increasing by 1 for each value, sequentially until no more values
    are available. However, in reality you will most likely end up with
    gaps when users generate and reserve values that is never used, or
    if a user sends in a value where the SEQUENTIAL segment has a higher
    value than recorded on the server.

  - The current implementation relies on the user-client to send in the
    values contained in the TextPattern when storing a new value. That
    means generating a correct id is depending on the user, and
    user-client, to provide the correct data.

### Comprendre la capacité du TextPattern { #understanding-textpattern-capacity } 

The most important thing to keep in mind when designing a TextPattern,
is the capacity - that means the total number of potential values a
TextPattern can yield.

With the current implementation of TextPattern, there are three main
factors that decides the capacity:

1.  Capacité du segment généré dans le TextPattern

2.  The presence of a CURRENT\_DATE segment

3.  The presence of a ORG\_UNIT\_CODE segment

The presence of a date segment (like CURRENT\_DATE) will effectively
reset the capacity each time the segment changes. Depending on the date
format, it can change anywhere to yearly to daily. **Important: If your
date format don't contain a year, the pattern will resolve to the same
value every year.** That means values will already be used. For example,
if your TextPattern looks like this:

    DATE_ACTUELLE(ww) + "-" + ALEATOIRE(#)

This pattern will give you up to 10 unique values for each week, but
after 1 year, CURRENT\_DATE(ww) will be the same as last year, and you
will have no new values available. If you use "yyyy-ww" instead, it will
be unique for every year, every week.

Organisation unit codes will make your values unique for each different
organisation unit, which means if you have a text pattern like this:

    CODE_D'UNITE_D'ORG() + "-" + ALEATOIRE(#)

This pattern will give you 10 unique values for each different
organisation unit.

#### Calcul de la capacité des segments générés { #calculating-capacity-for-generated-segments } 

Understanding how to calculate the capacity of a TextPattern is critical
when designing TextPatterns. The generated segments will be the main
component of any TextPattern in terms of capacity, then increased based
on the presence of ORG\_UNIT\_CODE or CURRENT\_DATE.

Let's start with SEQUENTIAL segments. Each "\#" in the format represents
a number between 0 and 9. To calculate the total capacity, you multiply
the number of possible values for each "\#". Since it's always 10 (0-9)
the maths is quite straight forward:

    SÉQUENTIEL(#) = 10 = 10
    SÉQUENTIEL(###) = 10 * 10 * 10 = 1000
    SÉQUENTIEL(#####) = 10 * 10 * 10 * 10 * 10 = 100000

Since SEQUENTIAL counters on the server start at 1 and not 0, the actual
capacity is 999, but that's insignificant in most cases.

As soon as we involve RANDOM, the calculation becomes a bit more
complicated. Similar to SEQUENTIAL, a "\#" has 10 possible values, in
addition we have "X" and "x" with 26 possible values each, as well as
"\*" which can be any of the previous, which means 62 (10+26+26)
possible values.

To calculate the capacity, you need to take each character in your
format and replace with the number of possible values, then multiply
them all together like we did for SEQUENTIAL:

    ALÉATOIRE(#) = 10 = 10
    ALÉATOIRE(X) = 26 = 26
    ALÉATOIRE(*) = 62 = 62

    ALÉATOIRE(X##) = 26 * 10 * 10 = 2600
    ALÉATOIRE(XXxx) = 26 * 26 * 26 * 26 = 456976

    ALÉATOIRE(***) = 62 * 62 * 62 = 238328

As you can see, the maths gets a bit more complicated when, but by
following this recipe you can see the number of potential values.

### Les segments aléatoires et pourquoi vous devriez les éviter { #random-segments-and-why-you-should-avoid-it } 

There is a hidden cost of using the random segment in TextPattern in the
long run, but that does not mean you should never use it. This section
will highlight the problems of using the random segment and suggest when
it might be more appropriate to use it.

This section is motivated by an issue with the previous generation
strategy, where you only had random generation. After while, instances
using this feature would actually be unable to generate and reserve new
values, since it was taking to long to find available values. This
section looks at some of the problems with random generation that
created this situation.

#### Générer des valeurs aléatoires { #generating-random-values } 

Before using the RANDOM segment in your TextPattern, you should consider
the following problems connected to the use of RANDOM:

  - Generating values from a TextPattern with a RANDOM segment will be
    more complex than other TextPatterns

### Saisie de données pour les métadonnées basées sur le TextPattern { #data-entry-for-textpattern-based-metadata } 

As previously mentioned, the only metadata currently supporting
TextPattern is the tracked entity attributes. In this section, we will
describe the different ways data entry for TextPattern works, especially
for tracked entity attributes.

#### Validation des valeurs à l'aide d'un modèle de texte { #validation-of-values-using-textpattern } 

By default, all values sent to the server for metadata using
TextPattern, will be validated. Validation can be skipped if needed, but
you should always validate input under normal circumstances. The
validation will be based on the TextPattern you have defined and will be
as strict as possible:

  - Date segments must match the same format as specified in the segment
    parameter

  - Les segments de texte clair doivent correspondre exactement

  - Text segments values must be at least as long as the format string.
    If both "^" and "$" is present, the value must match the exact
    length.

  - Generated segment values must match the format exactly, character by
    character.

When using the server to first generate and reserve values, the server
will modify the values used in the TextPattern before injecting them,
meaning you will always get a valid value when generating it on the
server.

A final exception to TextPattern validation is made for a special case:
If you change a TextPattern after reserving values for the original
pattern, values sent to the server that are invalid according to the new
TextPattern, will still be accepted if it was already reserved.

#### Différents flux de saisie de données pour le TextPattern { #different-data-entry-flows-for-textpattern } 

There is currently 2 ways a client can store values for TextPattern
metadata:

1.  Générer et réserver des valeurs (les applications devraient le faire pour vous)

2.  Stockage d'une valeur personnalisée

The preferred way, is to generate and reserve the needed values (The
number of values generated and reserved is handled by the app). That
means each time you are seeing and storing a value, it has been
generated and reserved by the server, and will be valid.

The other way might be useful in specific cases. The user will supply
the value themselves and as long as the value supplied is valid for the
TextPattern, they can put anything they want. The caveat of doing it
this way, is that you might use values that was reserved by someone else
and if you have a SEQUENTIAL segment, the counter will not be updated.



# DHIS2 - Foire aux questions { #dhis2-frequently-asked-questions } 

**Q:** I have entered data into a data entry form, but I cannot see the
data in any reports (pivot tables, charts, maps). Why does data which is
entered not show up immediately in my graphs in DHIS2?

**A:** Data which is entered into DHIS2 must first be processed with the
"analytics". This means that data is not immediately available in the
analytics resources (such as reports, pivot tables, data visualizer,
GIS, etc.) after it has been entered. If scheduling is active, the
analytics process will run automatically at midnight each day. After
that, new data which was entered since the last time the analytics
process ran, will become visible.

You can trigger the analytics process manually by selecting
Reports-\>Analytics from the main menu and pressing the "Start export"
button. Note, the process may take a significant amount of time
depending on the amount of data in your database.

D'autres facteurs susceptibles d'affecter la visibilité des données sont :

  - Data approval: If data has not been approved to a level which
    corresponds to your users level, the data may not be visible to you.

  - Sharing of meta-data objects: If certain meta-data objects have not
    been shared with a user group which you are a member of, the data
    may not be visible to you.

  - Caching of analytics: In many cases, server administrators cache
    analytical objects (such as pivot tables, maps, graphs) on the
    server. If you have entered data, re-run analytics, and you are
    still not seeing any (updated) data, be sure that your data is not
    being cached by the server.

**Q:** I have downloaded DHIS2 from <https://www.dhis2.org/downloads>
but when i try to enter the system it needs a username and password.
Which should I use?

**A:** By default, the username will be "admin" and the password
"district". Usernames and passwords are case sensitive.



# Notes de mise à jour et de mise à niveau { #release-and-upgrade-notes } 

Pour obtenir des informations actualisées sur les dernières versions de DHIS 2, veuillez consulter la page [téléchargements DHIS 2](https://www.dhis2.org/downloads) de notre site web.



