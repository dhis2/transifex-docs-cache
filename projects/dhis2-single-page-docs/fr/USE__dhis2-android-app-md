---
revision_date: '2024-05-28'
tags:
- Utilisation
template: single.html
---

# À propos de ce guide { #about_this_guide_ } 

<!--DHIS2-SECTION-ID:about_this_guide_-->

La documentation du DHIS 2 est le fruit d'un effort collectif de la part de l'équipe de développement et des utilisateurs. Ce guide se veut complet, mais il se peut que certaines fonctionnalités y soient omises ou nécessitent d'être documentées de manière approfondie. Cette section présente certaines des conventions utilisées dans le document.

DHIS2 est une application qui fonctionne dans un navigateur. Très souvent, des captures d'écran ont été incluses pour une meilleure compréhension. Des raccourcis vers diverses fonctionnalités sont affichés comme par exemple **Élément de données** \> **Groupe d'éléments de données**. Le symbole "\>" indique que vous devez cliquer sur **Élément de données** et ensuite sur **Groupe d'éléments de données**

Différents styles de texte ont été utilisés pour mettre en avant des parties importantes ou des types de texte particuliers, tels que le code source. Chacune des conventions utilisées dans le document est expliquée ci-dessous.

> **Note**
>
> Une note contient des informations supplémentaires qui doivent être prises en considération ou une référence à des informations supplémentaires pouvant être utiles.

> **Conseil**
>
> Un conseil peut être utile, par exemple sur la manière de réaliser une tâche particulière de manière plus efficace.

> **Important**
>
> Les informations importantes ne doivent pas être ignorées et indiquent généralement une exigence de l'application.

> **Attention**
>
> Les informations contenues dans ces sections doivent être examinées avec soin et, à défaut d'être prises en compte, elles pourraient entraîner des résultats inattendus en matière d'analyse, de performance ou de fonctionnalité.

> **Avertissement**
>
> Les informations contenues dans ces sections, si elles ne sont pas prises en compte, pourraient entraîner une perte permanente de données ou affecter la convivialité globale du système.

> **Complet**
>
> Les informations contenues dans ces sections indiqueront qu'il s'agit de points qui ont été entièrement traités.

> **Incomplet**
>
> Les informations contenues dans ces sections, indiqueront qu'il s'agit de questions qui ne sont pas traitées et qui seront ignorées.

> **Not_applicable (Non applicable)**
>
> Les informations contenues dans ces sections, indiqueront qu'il s'agit de questions non pertinentes.

> **Work_in_progress (Tâches en cours)**
>
> Les informations contenues dans ces sections indiqueront qu'il s'agit de problèmes ou de menaces qui n'ont pas été complètement traités ou dont le comportement inattendu a déjà été signalé.
>>>>>>>>>>>

    Les programmes répertoriés contiennent généralement du code informatique
    Ils sont affichés sur un fond sombre et avec une police distincte

`Les commandes sont affichées en gras et représentent une commande à exécuter sur le système d'exploitation ou dans la base de données.`

Les liens vers des sites externes ou références croisées sont affichés en bleu et soulignés comme [ceci.](http://www.dhis2.org).

<!-- 
Les références bibliographiques seront affichées entre crochets comme suit
Store2007. La liste complète des références peut être trouvée dans la bibliographie fournie
à la fin de ce document.
-->



# Introduction { #capture_app_introduction }

Ce guide est conçu de manière à vous aider lors de la configuration de DHIS 2 en vue de son utilisation avec l'application Android Capture.

Il ne s'agit pas d'un tutoriel ou d'un manuel de formation ; il est conçu pour compléter la documentation et le matériel de formation de base de DHIS 2 par un matériel de référence spécifique à l'application Android.

Le document est subdivisé en sections, dont l'objectif est de décrire toutes les fonctionnalités mises en œuvre dans l'application, celles qui ne le sont pas encore et celles qui ne seront pas prises en charge. Le cas échéant, une explication des problèmes liés à l'utilisation d'une fonctionnalité particulière dans l'application Android sera fournie. Des recommandations ou des conseils seront également présentés pour une meilleure compréhension et utilisation de l'application.

En outre, le document comporte des sections consacrées aux nouvelles fonctionnalités de connexion, aux configurations visuelles, à la gestion de la synchronisation et à une liste des erreurs importantes identifiées.







# Recommandations relatives à un déploiement de DHIS 2 sur mobile { #capture_app_recommendations }

Si vous prévoyez le déploiement de l'application Android DHIS2 sur le terrain, nous vous recommandons vivement de lire les [Lignes directrices pour la mise en œuvre sur les appareils mobiles] (https://docs.dhis2.org/master/en/dhis2_android_implementation_guideline/about-this-guide.html) publiées par UiO. Ce document contient des chapitres consacrés aux exigences technologiques, aux aspects de sécurité et de configuration, ainsi qu'aux recommandations de test et de déploiement. Vous trouverez ci-dessous une présentation succincte de certains aspects clés ; nous vous recommandons également de lire le document détaillé.

## Spécifications des appareils mobiles { #capture_app_recommendations_mobile_specs }

L'application Android est compatible et prise en charge par les versions 2.35 et 2.37 de DHIS 2. De plus, elle ne présente aucune modification importante par rapport aux versions 2.30 et 2.34.

Elle nécessite un appareil fonctionnant sous Android v4.4 (non recommandé mais pris en charge jusqu'en avril 2022) ou supérieur. Le minimum recommandé pour les nouveaux appareils est Android 7 ou supérieur.

Dans [la section spécifique des lignes directrices sur la mise en œuvre sur appareils mobiles](https://docs.dhis2.org/master/en/dhis2_android_implementation_guideline/mobile-device-specifications.html) vous trouverez des recommandations relatives à l'acquisition de nouveaux appareils mobiles pour un déploiement du Dhis2 sur Android.

## Test et essai pilote { #capture_app_recommendations_testing }

Si vous prévoyez un déploiement de l'application Android DHIS 2 sur le terrain, vous devez d'abord effectuer une série complète de tests de l'application dans votre propre configuration.

L'application a été largement testée avec les serveurs de démo. De plus, lors des tests bêta, elle a également été testée avec des configurations réelles. Nous savons cependant que chaque configuration DHIS 2 est particulière à bien des égards, et peut entraîner des incohérences que nous n'avons pas pu identifier.

Il est fortement recommandé d'effectuer un test complet de l'application sur votre propre serveur avant de procéder à l'essai pilote.



# Contribuez à l'application { #capture_app_contribute }

## Comment signaler un bogue { #capture_app_contribute_report }


Tout d'abord, veuillez consulter la [Liste des bugs déjà signalés dans la JIRA](https://dhis2.atlassian.net/issues/?filter=10252)

La liste est toujours mise à jour au fur et à mesure que vous ajoutez de nouveaux bugs que notre équipe se charge de corriger. Vous devez disposer d'un compte DHIS 2 Jira actif et gratuit.

Lorsque vous signalez un bug, veuillez le préciser avec votre descriptif :

- Version DHIS 2 et révision de build
- Version de l'application Android DHIS 2
- Version Android OS
- Appareil (si possible)
- Journal d'erreurs (si possible)

## Proposer des icônes à la bibliothèque { #capture_app_contribute_icons }


DHIS 2 et la nouvelle application Android DHIS 2 vous donne la possibilité de sélectionner des icônes pour les programmes, les ensembles de données et les options d'un ensemble d'options. La version 2.30 de DHIS 2 comprend 125 icônes. Nous prévoyons d'étendre la collection d'icônes sur chaque version future de DHIS 2 et pour cela nous avons besoin de votre collaboration : nous sommes à la recherche d'idées pour de nouvelles icônes - veuillez soumettre les vôtres en utilisant [ce formulaire] (https://forms.gle/FkUmwfZGYAScd2326).

## Ajouter des traductions { #capture_app_contribute_translations }


Voici les étapes à suivre pour contribuer à la traduction de l'application :

1. Créer un compte sur [Transifex](https://www.transifex.com/signin/?next=/hisp-uio/)
2. Faire partie d'une organisation existante
3. Rechercher HISP UiO et sélectionner l'organisation et non les projets
4. Sélectionner ANDROID : Projet Capture
5. Rejoindre l'équipe en charge de la langue choisie

Veuillez nous informer en cas de dysfonctionnement ou si vous devez ajouter une nouvelle langue en envoyant un message à l'utilisateur dhis2-android au sein de la communauté.


# Configurations visuelles { #capture_app_visual }

##  Local Analytics (Improved 3.0) { #local-analytics-improved-30 } 

### Data Visualizations { #capture_app_visual_data_visualizations }

L'application DHIS2 Android peut désormais afficher les analyses qui ont été créées dans l'application Data Visualizer de DHIS2. Les analyses à afficher doivent être configurées à l'aide des paramètres de l'application Web Android, où les administrateurs pourront décider des graphiques et des tableaux à afficher pour les utilisateurs finaux.

Pour configurer l'analyse, ouvrez les paramètres Android WebApp sur votre serveur DHIS2 et suivez les étapes ci-dessous :

   1. Sélectionnez Accueil, Programme ou Ensemble de données dans le menu Analytique.
   2. Select the visualization type "Data visualization"
   3. Click on the  "Add Visualization" button
   4. Recherchez en saisissant le nom de la visualisation et sélectionnez-la en cliquant dessus.
   5. Ajouter un titre alternatif, sinon l'application affichera le nom de la visualisation.

![](resources/images/capture-app-image162.png){ width=25%}
![](resources/images/capture-app-image164.png){ width=25%}

Analytics are created and configured using the web tools, however, the data aggregation happens offline using only data stored in the device.  

![](resources/images/capture-app-image165.png){ width=25%}
![](resources/images/capture-app-image166.png){ width=25%}
![](resources/images/capture-app-image167.png){ width=25%}

#### Analytics Types and Filters { #analytics-types-and-filters } 

Les outils d'analyse pris en charge par l'application Android sont les suivants :

   - Tableaux croisés dynamiques
   - Diagramme à colonnes
   - Diagramme linéaire
   - Diagramme circulaire
   - Diagramme de Kiviat
   - Valeur unique

Pour chaque objet de visualisation, l'utilisateur pourra filtrer dans l'application par: 

   * Relative Period: Daily, Weekly, Monthly, Yearly, This Quarter, Last Quarter, Last 4 Quarters and Quarter this year.
   * Unité d'organisation : Sélectionnez "All" (Tout) pour afficher toutes les unités d'organisation disponibles pour l'utilisateur ou "Selection" pour spécifier une ou plusieurs unités d'organisation

![](resources/images/capture-app-image180.png){ width=25%}
![](resources/images/capture-app-image168.png){ width=25%}
![](resources/images/capture-app-image169.png){ width=25%}

Un bouton de réinitialisation s'affiche si un filtre est appliqué. Sélectionnez Réinitialiser pour afficher la visualisation par défaut.

![](resources/images/capture-app-image170.png){ largeur=25%}

Les utilisateurs peuvent également modifier le type d'analyse (graphique, tableau ou valeur unique).

![](resources/images/capture-app-image166.png){ width=25%}
![](resources/images/capture-app-image171.png){ width=25%}

#### Legends { #capture_app_visual_data_visualizations_legends }

Les légendes sont affichées dans les tableaux croisés dynamiques en activant la fonction "Utiliser les légendes pour la couleur du graphique" dans l'application Data Visualizer.

L'application Android colorera les cellules en utilisant soit la légende prédéfinie par élément de données, soit une légende unique pour l'ensemble du tableau croisé dynamique, en fonction des paramètres définis dans Web.

Le style des légendes dans les tableaux présente une nouvelle conception qui garantit un bon contraste et une bonne visibilité, indépendamment de la couleur sélectionnée pour la légende.

![](resources/images/capture-app-image183.png){ largeur=25%}

#### Groups { #capture_app_visual_data_visualizations_groups }

Toutes ces visualisations peuvent être organisées et affichées dans des groupes. Les groupes sont également configurés à l'aide de l'application Web des paramètres Android en suivant les étapes ci-dessous :

   1. Open the Android Settings App
   2. Cliquez sur Ajouter une nouvelle visualisation dans le menu Analytique (Accueil, Programme ou Ensemble de données).
   3. Séllectionnez une visualisation
   4. Cochez la case "Utiliser une visualisation de groupe".
   5. Créer ou sélectionner un groupe déjà créé
   6. Sauvegarder la visualisation

Vous pouvez nommer vos différents groupes, ils seront affichés sous forme de bouton dans la barre supérieure de l'écran d'analyse.

![](resources/images/capture-app-image173.png){ largeur=25%}

#### Limitations { #capture_app_visual_data_visualizations_limitations }

Android utilise les tableaux et les graphiques créés à l'aide de l'application web Visualizer, mais seuls les paramètres de configuration de l'objet sont utilisés par l'application Android : éléments de données, indicateurs, type de graphique, titre, périodes... ; toutes les agrégations sont calculées hors ligne par l'application Android. Les résultats seront basés sur les données stockées dans l'appareil à ce moment précis.

Étant donné que les agrégations et les calculs affichés sont calculés dans l'appareil, la mise en œuvre de l'analyse est limitée par rapport au web. En résumé, les objets et fonctionnalités compatibles et pris en charge sont les suivants :

   - Objets analytiques bien constitués (séries, catégories, filtres)
   - Use of relative periods (Fix periods are not supported)
   - L'utilisateur a un accès de visualisation
   - Limites pour les tableaux croisés dynamiques
      - Number of header lines: 1 or 2 (from 2.3)
      - Nombre de colonnes d'en-tête : 2
   - Limites pour les graphiques
      - Nombre de séries : Aucune limite (mais n'oubliez pas que le rendu se fait sur un petit écran)
      - Nombre de catégories (ne s'applique pas aux diagrammes circulaires) : Aucune limite

De nombreuses autres restrictions s'appliquent à Android Analytics en ce qui concerne les nombreuses options de configuration disponibles dans le visualiseur Web ainsi que les fonctions et les calculs pris en charge liés aux indicateurs et aux indicateurs de programme. [Ce tableau (https://docs.google.com/spreadsheets/d/1127cz7M0K4fux5CU0V54V2Z77NZWCr0BTrZ6jcCec4Q) résume toutes les fonctions prises en charge.

> **Note**
>
> The following aggreagation functions are supported now in local analytics: LAST, FIRST, AVERAGE_SUM_ORG_UNIT, LAST_AVERAGE_ORG_UNIT, LAST_IN_PERIOD, LAST_IN_PERIOD_AVERAGE_ORG_UNIT, FIRST_AVERAGE_ORG_UNIT
> 
> 

### Event Visualizations (New 3.0) { #capture_app_visual_event_visualizations }

The DHIS2 Android App can now render analytics that have been created in the line listing app.Analytics to be displayed require to be configured using the Android Settings WebApp where administrators will be able to decide the tables to be displayed for end users.

Pour configurer l'analyse, ouvrez les paramètres Android WebApp sur votre serveur DHIS2 et suivez les étapes ci-dessous :

   1. Select Home or Program from the Analytics menu
   2. Select the visualization type "Event visualization"
   3. Click on the  "Add Visualization" button
   4. Recherchez en saisissant le nom de la visualisation et sélectionnez-la en cliquant dessus.
   5. Add an alternative title, otherwise, the app will display the name of the visualization 

In the app, the users will be able to search by period, Org. unit, or any of the columns added in the Line List.

![](resources/images/capture-app-image265.png){ width=25%}
![](resources/images/capture-app-image266.png){ width=25%}
![](resources/images/capture-app-image267.png){ width=25%}

#### Limitations { #capture_app_visual_event_visualizations_limitations }

To add an event visualization in the Android Settings WebApp, the table must:

- be created in the Line Listing app
- use relative periods
- not exceed 15 columns

## Interface language { #interface-language } 

The language of the interface will corespond to the language set in the DHIS2 user configuration. If the language is not available in the app, it will pick the language of the device. 

Si aucune des configurations linguistiques n'est disponible, l'application sera par défaut en anglais.

Les traductions établies dans DHIS2 pour les métadonnées seront également affichées en fonction de la langue dans la configuration de l'utilisateur.

![](resources/images/capture-app-image182.png){ largeur=25%}


## Personnaliser votre icône { #capture_app_visual_icon }

Vous pouvez définir votre icône dans le fond d'écran en utilisant le widget DHIS 2 App. L'icône correspondra au drapeau configuré dans votre serveur.

![](resources/images/capture-app-image32.jpg){ largeur=25%}

> **N.B.**
>
> Comment ajouter un widget :
>
> - Faites un appui long dans votre fond d'écran
> - Sélectionnez Widgets
> - Recherchez le widget DHIS 2
> - Sélectionnez
>
> Un raccourci sera alors ajouté à votre application.

## Personnaliser la couleur de l'application { #capture_app_visual_colour }

Vous pouvez définir le thème générique de l'application en les configurant dans notre serveur :

![](resources/images/capture-app-image28.png){largeur=80% }

> **Note**
>
> How to set the server theme and flag:
>
> Go to **System Settings > Appearance > Style**
>
> - Select your style
>   - Green,
>   - India (Orange),
>   - Light Blue,
>   - Myanmar (red),
>   - Vietnam
> - Select your flag
>
>![](resources/images/capture-app-image23.png){ width=25%}

## Icon library for metadata (Improved 3.0) { #capture_app_visual_icon_lib }

There are currently 134 icons available that you can choose from. You can search by name in the icon picker widget. Icons are available in positive, negative and outlined shapes.

Des icônes peuvent être associées aux programmes, aux étapes, aux éléments de données et aux options d'un ensemble d'options. La configuration est possible via l'application Maintenance.

> **N.B.**
>
> Cette fonction est disponible à partir de la version 2.30 du DHIS2

![](resources/images/capture-app-image13.png){ .largeur centrale=80% }

Dans l'application DHIS2 Android, des icônes apparaissent sur l'écran d'accueil pour illustrer tous les programmes disponibles pour un utilisateur, ou lors de l'ajout d'une étape. Pour les éléments de données et les options, les icônes s'affichent pour les programmes à événement unique, lorsqu'une section contient un ou plusieurs éléments de données, montrant l'ensemble d'options sous forme de matrice ou de séquence d'images.

La saisie de données à l'aide d'icônes peut désormais être utilisée dans les formulaires d'inscription. Lorsqu'une section d'affiliation contient un ou plusieurs attributs d'entités suivies avec des jeux d'options et des icônes, l'application est en mesure de les afficher sous forme de matrice ou de séquence en fonction du type de rendu de la section. Dans les sections précédentes de l'application, cette fonctionnalité n'était disponible que pour les éléments de données.

![](resources/images/capture-app-image19.png){ width=25%}
![](resources/images/capture-app-image26.png){ width=25%}

From 3.0 it is possible to display custom icons in the Android App. DHIS2 (41 version) now allows uploading custom Icons to be used in addition to the built-in Icon library. This is useful for use cases not related to health or that require very specific iconography. The Android App will render the custom icons that need to be uploaded and configured using the Maintenance DHIS2 Web App.

To upload and assign the custome icons through the instance, the admin must:

1. Open the object (program, data element, option, etc.)
2. Click on the "Select icon"
3. Click on the "Choose file to upload"
4. Add a key and description
5. Enregistrer

![](resources/images/capture-app-image290.png){ width=25%}

> **N.B.**
>
> Dans un premier temps, les icônes ne s'afficheront que dans la nouvelle application Android. La nouvelle application de capture basée sur le web les intégrera dans un avenir proche.

Nous prévoyons d'élargir la collection d'icônes dans chaque version future de DHIS2. Pour ce faire, nous avons besoin de votre aide : nous recherchons des idées pour de nouvelles icônes - veuillez soumettre les vôtres en utilisant [ce formulaire] (https://www.google.com/url?q=https://drive.google.com/open?id%3D1LmfYJQAu3KyDfkY3X6ne7qSsuTa9jXZhoQHzkDxeCdg&sa=D&ust=1557433016147000).

## Palette de couleurs pour les métadonnées { #capture_app_visual_colour_palette }


Les fonctions de suivi et de capture d'événements permettent désormais d'afficher des couleurs pour les programmes, les étapes, les éléments de données et les options dans les séries d'options. Un sélecteur de couleurs est intégré à l'application de maintenance. Il s'agit d'une palette, hormis les options qui permettent de sélectionner une couleur quelconque.

![](resources/images/capture-app-image20.png){ .largeur centrale=80% }

Dans l'application Android, la couleur sera utilisée comme couleur d'arrière-plan pour les programmes et les étapes, combinée à une icône (si elle est sélectionnée). Pour les options, elle est affichée comme couleur d'arrière-plan dans le formulaire de saisie des données pour les programmes à événement unique. Lorsque l'utilisateur sélectionne un programme auquel une couleur a été attribuée, cette couleur devient le thème d'arrière-plan de tous les écrans dans le domaine du programme.

![](resources/images/capture-app-image19.png){ width=25%}
![](resources/images/capture-app-image2.jpg){ width=25%}

> **N.B**
>
> Les couleurs seront d'abord disponibles dans la nouvelle application Android, puis, dans les prochaines versions, sur le site web de la nouvelle application de saisie.

## Types de rendu pour les sections de programme { #capture_app_visual_rendering_type }


![](resources/images/capture-app-image16.png){largeur=80% }

**Section de programme** : lorsqu'elle est utilisée en combinaison avec des icônes, une section de programme comportant un ou plusieurs éléments de données et des ensembles d'options associés peut rendre les options dans une mise en page séquentielle ou matricielle (voir les captures d'écran). Si l'icône n'est pas trouvée, l'application affiche le logo du DHIS.

![](resources/images/capture-app-image26.png){ width=25%}
![](resources/images/capture-app-image36.png){ width=25%}

From 2.8, the app will render option set with any value type as matrix or sequential layout.

![](resources/images/capture-app-image226.png){ width=25%}
![](resources/images/capture-app-image227.png){ width=25%}

> **N.B**
>
> Le type de rendu pour les sections sera d'abord disponible dans l'application Android, puis, dans les prochaines versions, dans la nouvelle interface utilisateur de l'application de saisie basée sur le web.

## Calendrier { #capture_app_visual_calendar }


Il est désormais possible d'utiliser deux calendriers différents. Celui de gauche est le premier à apparaître, mais vous pouvez le modifier en cliquant sur l'icône de calendrier dans le coin inférieur gauche.

Cette option est disponible lorsque :

1. Effectuer une nouvelle inscription.
2. Création d'un nouvel événement (programmes avec et sans inscription).
3. Utilisation de filtres de période dans des ensembles de données et des programmes avec et sans enregistrement.

![](resources/images/capture-app-image60.jpg){ width=25%}
![](resources/images/capture-app-image61.jpg){ width=25%}

> **Note**
> 
> For Android versions 4.4,  5.1 and small devices, the Accept option is not visible in the second calendar view.

## Types de rendu { #capture_app_visual_render }

The available rendering options have been expanded to include horizontal and vertical radio buttons, checkboxes and toggles for any value type.

![](resources/images/capture-app-image111.png){ width=100%}
![](resources/images/capture-app-image224.png){ width=25%}
![](resources/images/capture-app-image225.png){ width=25%}

> **Note** 
>
> The default rendering option will automatically display a search box whenever there are more than 15 elements in the option set to ease the selection.
> 
> ![](resources/images/options_no_search.png){ width=25% } ![](resources/images/options_search.png){ width=60% }

Les types de rendu sont disponibles dans les formulaires d'événement et d'inscription

### QR et codes-barres{ #capture_app_visual_render_qr }


 Les éléments ou attributs de données ou le texte type peuvent être configurés sous forme de QR ou de codes à barres. Lorsqu'un élément ou un attribut de données est présenté sous forme de QR ou de code à barres, l'application ouvre la caméra de l'appareil pour lire l'image du code. Lorsque le QR/Code à barres est un attribut de TEI configuré comme étant consultable, l'utilisateur sera autorisé à scanner le code afin de rechercher et d'identifier l'instance de l'entité suivie. Cela fonctionnera également pour les ensembles d'options.

Les codes-barres permettent également à l'utilisateur de saisir manuellement la valeur.

![](resources/images/capture-app-image118.png){ width=20%}
![](resources/images/capture-app-image119.png){ width=20%}
![](resources/images/capture-app-image120.png){ width=20%}
![](resources/images/capture-app-image121.png){ width=20%}


#### Export/Share { #exportshare } 

Les utilisateurs peuvent désormais afficher un code-barres ou un code QR dans une image afin de la partager pour l'imprimer, de faire une capture d'écran ou de l'afficher à l'écran pour la numérisation.

Les champs non éditables peuvent toujours partager le code-barres ou le code QR, mais empêchent l'utilisateur d'en saisir un nouveau.

![](resources/images/capture-app-image181.png){ width=20%}
![](resources/images/capture-app-image174.png){ width=20%}

#### Codes de la matrice de données GS1{ #capture_app_visual_gs1 }

Si un type de rendu d'attribut ou d'élément de données est configuré en tant que code QR, l'application Android sera en mesure de lire et de traiter la chaîne en tant que codes de la matrice de données GS1.

Combinés aux fonctions d2 dans les règles de programme, les différents champs d'un code GS1 peuvent être enregistrés dans différents éléments de données ou attributs (d2:extractDataMatrixValue(key, dataMatrixText)).

![](resources/images/capture-app-image184.png){ width=20%}
![](resources/images/capture-app-image200.png){ width=20%}

### Signature (Improved 3.0) { #capture_app_visual_signature }

This feature allows users to collect handwritten signatures from the device. The signatures will be saved as an image data element in the app.

This configuration must be done in web ( available from 2.40 version) by selecting the "canvas" rendering type on an image value type.

![](resources/images/capture-app-image231.png){ width=20%}
![](resources/images/capture-app-image232.png){ width=20%}

From 3.0, signatures are allowed to be opened in full screen for better visibility.

## User Experience { #capture_app_visual_user_experience }

### Tappable areas in icons and buttons { #capture_app_visual_tappable_areas }

Certains boutons ou étiquettes de l'application Android comportaient de petites zones sensibles sur lesquelles l'utilisateur pouvait appuyer. L'ensemble de l'interface utilisateur a été revu et les zones sensibles ont été augmentées. Par exemple, le bouton "+" pour créer une nouvelle étape ou l'icône "˅" pour ouvrir les détails TEI ou développer une section.

![](resources/images/capture-app-image208.png){largeur=20%}

### Loading Banners { #capture_app_visual_loading_banners}

The Android App provides visual animations to users when they perform actions that take longer than usual to complete, such loading maps or searching, so that they know that the system is processing their request.

![](resources/images/capture-app-image228.png){ width=20%}

### Offline Buttons { #capture_app_visual_offline_buttons}

This feature enhances the functionality of the app when it is used offline, ensuring that menus are disabled when the online actions are not available.

### Long Texts Management { #capture_app_visual_longtext_management}

The Android App enables users to view long text in fields that are limited in size, such as a stage names or datasets headers.

### Legends (Improved 3.0) { #capture_app_visual_legends_descriptions}

The Android App displays the full description of the legend when tapping on the information icon once a legend is active. These feature is available only in event and registration forms.

![](resources/images/capture-app-image276.png){ width=25%}
![](resources/images/capture-app-image277.png){ width=25%}

### Input fields (Improved 3.0) { #capture_app_visual_input_fields }

The new input fields are now displayed by default in the Android app and admin users are able to opt-out to use the old forms through the Android Settings web app.

![](resources/images/capture-app-image289.png){ width=25%}


# Paramètres { #capture_app_settings }

![Settings window](resources/images/capture-app-image17.png){  width=25%}

Sync data
:   User is able to choose from a drop-down list if the data entered in the app is uploaded to the server manually or scheduled every 15 min, 1 hour or 1 Day. By default the app will sync every 24h. This kind of Syncing includes new and updated events and TEI’s.

Sync configuration (also known as sync metadata)
:   User is able to choose from a drop-down list  if the data entered in the app is uploaded to the server manually or scheduled every day or week. By default the app will sync every 24h.  This sync will update changes in programs or configurations in web.

Sync parameters
:   These parameters allow the user to specify the maximum number of TEI’s and events that can be stored in the local device. The user can also specify if limits apply per organisation unit or in total. Values can be set to default by clicking on “Reset to default”.

> **Note** 
>
> Sync data, Sync configuration and Sync parameters can be overwritten using the Android Settings Web App as described [in the specific section][#capture_app_andoid_settings_webapp_synchronization]
>
>

Reserved values
:   This will specify the number of reserved Id's available in your device and will allow you to refill them.

Open sync errors log
:   The sync error log gives details about the error and is prepared to be shared with admins.

Export database (New 3.0)
:   Users are now be able to export the local database and share it with an admin, who will be able to import it for troubleshooting, being able to replicate the exact environment (database, device, configuration). The exported database is encrypted and the administrator will require the user credentials to be able to access the database

![](resources/images/capture-app-image260.png){ width=25%}

The import button can be found by tapping on the tree dots menu at the login screen.

![](resources/images/capture-app-image261.png){ width=25%}

Delete local data
:   This action will delete local data without having to log out.

> **Warning** 
>
> Using this functionality might lead to data loss if changes have not been previously synced to the server.
>
>

Reset app data & configuration
:   This action will log out the user and delete all data and metadata, this means user and server information is also deleted. It is similar to resetting the App.

> **Warning** 
>
> Using this functionality might lead to data loss if changes have not been previously synced to the server.
>
>

SMS Settings
:   This sections allows to check or edit the parameters related to the sms gateway.

Software Update
:   This feature enables implementation administrators to manage and control the version of the Android app from the DHIS2 user web interface, making it easier to manage app updates and ensure compatibility with the DHIS2 system. Managers will be able to upload the desired version and users will get a prompt message to update when they are not in the last updated version. The management of versions is made through a new Web App.

![](resources/images/capture-app-image229.png){ width=25%}


# Fonctionnalités génériques { #capture_app_generic }

## Connexion { #capture_app_generic_login }

Il existe deux façons d'accéder à l'application :

1. Manuelle : L'utilisateur doit entrer l'URL correspondante du serveur à utiliser et saisir le nom d'utilisateur et le mot de passe.

    > **Note**
    >
    > Take note that login is only possible with servers from version 2.29.

2. QR : l'utilisateur peut utiliser un code QR plutôt que de saisir l'URL, mais le nom d'utilisateur et le mot de passe doivent être saisis manuellement.

![](resources/images/capture-app-image63.png){ largeur=25%}

> **Note**
>
> 1. After a succesful login the DHIS2 Android App will keep these values cached (URL and username) and will suggest them for future connections without having to type them.
>

After a succesful login the user should be able to perform an *offline* login only (only avaialble for the last combination of URL/Username). Offline usage gives the possiblity of using the application withou any type of connectivity. All data will still be stored and user can perform a synchornization once the connection is restablished or avaialble.


> **Warning**
> 
> In DHIS2 versions up to 2.30 if a user attemps an on-line login and their account has been disabled as explained in the [DHIS 2 Manual - Disable User](https://docs.dhis2.org/master/en/user/html/dhis2_user_manual_en_full.html#disable_user) all the data will be wiped from the phone. Make sure that before disabling a user all the data has been synced or that you are using this feature to remotely wipe sensitive data in case of a device getting lost.
>
> Due to a change in the login API this feature is not available in 2.31, 2.32, 2.33, 2.34, 2.35 and 2.36.

## Multi-utilisateur hors ligne { #capture_app_generic_multiuser}

The Android app have removed the limitation on the number of offline accounts that users can create, allowing them to work with as many offline accounts as needed.

The users will need to have access to the internet for the first login of each account and will be able to switch accounts after without requiring access to the Internet.

![](resources/images/capture-app-image185.png){ width=25%}
![](resources/images/capture-app-image186.png){ width=25%}

The users will be able to manage the user accounts and delete accounts if needed.

![](resources/images/capture-app-image187.png){ width=25%}
![](resources/images/capture-app-image188.png){ width=25%}
![](resources/images/capture-app-image189.png){ width=25%}
![](resources/images/capture-app-image190.png){ width=25%}

## Récupération de compte { #capture_app_generic_recovery }

Les utilisateurs pourront restaurer leur propre mot de passe si ce paramètre est activé : Activer la Récupération du compte d'utilisateur.

![](resources/images/capture-app-image64.png){ width=25%}

## Bloquer la session (code PIN) { #capture_app_generic_PIN }

User is able to lock the session using a 4 digit PIN. This allows to move to other apps in your phone without deleting the local data.
If the user forgets the PIN number, log in by entering the credentials is also available.

![](resources/images/capture-app-image65.png){width=25%}

## Empreinte digitale { #capture_app_generic_fingerprint }

L'utilisateur peut utiliser le scanner d'empreintes digitales si cette fonction est activée dans l'appareil.

* Lorsque le lecteur d'empreintes digitales est activé et non le code PIN, la session est verrouillée à chaque fois que l'application se ferme, passe en arrière-plan ou que l'appareil est bloqué. Lorsque l'application est à nouveau ouverte, l'utilisateur doit appuyer sur l'icône de l'empreinte digitale pour activer le scanner.
* Si le code PIN et l'empreinte digitale sont définis, lorsque la session est verrouillée et que l'utilisateur ouvre à nouveau l'application, le code PIN lui est demandé.

![](resources/images/capture-app-image104.jpg){width=25%}
![](resources/images/capture-app-image105.jpg){width=25%}

## Boutons d'instructions/informations { #capture_app_generic_instructions }

A contextual guide is available in TEI dashboard screen.

![](resources/images/capture-app-image66.png){width=25%}

> **Tip**
>
>  User is able to re-open<!-- PALD: unnecessary: (trigger)--> the instructions by clicking on the three dots at the top right corner of the screen.

## Filtre { #capture_app_generic_filter }

Un filtre peut être appliqué dans tous les écrans de liste (accueil, liste d'événements, recherche tei et ensembles de données), ce qui réduit les données affichées. Les filtres disponibles sont les suivants : période, unité d'organisation, état de synchronisation, statut de l'événement, combinaison d'options de catégorie et " affecté à moi ".

![](resources/images/capture-app-image19.png){ width=25%}
![](resources/images/capture-app-image123.png){ width=50%}
![](resources/images/capture-app-image134.png){ width=25%}

Les filtres s'adapteront aux différents programmes et ensembles de données.

1. Programme sans enregistrement : Date, Unité d'Organisation, État de Synchronisation, État de l'Événement et Combinaison de Catégories. 
2. Programme avec inscription : Date de l'événement, Date de l'inscription, Unité d'org. , Synchronisation, Statut de l'inscription, Statut de l'événement et Affecté à moi. L'icône de filtre ne s'affichera que si une liste d'événements est disponible (affichage de la fonction de liste de la page d'accueil ou recherche).
3. Ensembles de données : Période, Unité d'Org. , et État de synchronisation.

### Affecté à moi{ #capture_app_generic_filter_assigned }

Il est possible de filtrer les événements en fonction de leur affectation à l'utilisateur actuel. Le filtre " Affecté à moi " a été ajouté à la liste des programmes d'événements individuels, à la liste des TEI, au tableau de bord des TEI et aux vues cartographiques. Il ne s'affiche que lorsque le programme actif est configuré pour attribuer des événements à des utilisateurs.

### Date de l'événement/Date/Période { #capture_app_generic_filter_date }

Filtrez les événements, les TEI (sur la base de leurs événements) et les ensembles de données, les périodes suivantes sont disponibles :
- Aujourd'hui
- Cette semaine
- Ce mois
- Hier
- Semaine dernière
- Mois dernier
- Demain
- Semaine prochaine
- Mois prochain
- De - à
- Autre (ouvre un sélecteur de date)
- À tout moment

### Unité d'Organisation { #capture_app_generic_filter_orgunit }

Permet à l'utilisateur de saisir la recherche ou de sélectionner une unité d'organisation dans l'arborescence. Le filtre ne sera pas visible si l'utilisateur n'a configuré qu'une seule unité d'organisation.

### Syncronisation { #capture_app_generic_filter_sync }

Filtrer par :
- Synchronisés (Événements, TEI, Ensembles de données)
- Non synchronisé
- Erreur de synchronisation
- SMS Synchronisé

###  Status de l'Evenement { #capture_app_generic_filter_event }

Filtrer les événements en fonction de :
- Ouvrir
- Horaire
- Retard
- Terminée
- Ignoré

La sélection de plusieurs statuts est autorisée. Lorsque vous ouvrez un TEI, le filtre est conservé dans le tableau de bord et n'affiche que les événements ayant l'état sélectionné.

Les événements affichés ont jusqu'à 5 ans d'âge.

### Date d'inscription { #capture_app_generic_filter_date_enroll }

La " Date d'inscription " s'applique à la date d'inscription du TEI dans le programme. S'il y a plusieurs dates d'inscription, les résultats seront triés en fonction de la date la plus récente. L'étiquette de ce filtre s'affichera lorsqu'elle sera disponible.

### Statut de l'inscription { #capture_app_generic_filter_enroll_status }

The filter 'Enrollment status' offers three options: Active, Completed, Cancelled. Only one option can be selected at time. If you filter by "completed" and the TEI has more than one enrollment, the app will open the "active"  enrollment. To see the completed one, select the three dot menu at the top right corner of the dashboard and select "program enrollments".

### Follow-Up { #follow-up } 

Le filtre "Suivi" permet à l'utilisateur de filtrer les TEI qui ont été marqués comme "Suivi". Les TEI peuvent être marqués comme devant faire l'objet d'un suivi dans le tableau de bord des TEI.

### Filtrage ajouté dans le tableau de bord TEI : { #capture_app_generic_filter_tei }

Des filtres ont été ajoutés au tableau de bord du TEI. Il est possible de filtrer les événements d'une inscription d'entité suivie par période, par unité d'organisation, par statut de synchronisation, par statut d'événement et par affectation d'utilisateur.

![](resources/images/capture-app-image114.png){ largeur=25%}

## Triage { #capture_app_generic_sorting }

Le tri a été intégré dans le menu filtre.

Le bouton de tri se trouve sur les barres de filtre et se présente de la manière suivante :
- Un seul tri s'applique à la fois. Si l'utilisateur clique sur un autre tri, le précédent se désactive.
- The icon for applied sorting shows it is active, the others are inactive.  
- Des clics répétés modifient l'ordre en l'inversant.

![](resources/images/capture-app-image135.png){ largeur=25%}

### Dates (période, date, date d'événement ou date d'inscription) { #capture_app_generic_sorting_dates }

- La date de l'événement précède la date d'échéance, n'utilisez la date d'échéance que lorsqu'il n'y a pas de date d'événement.
- L'ordre va du plus récent au moins récent. Les événements à venir (date d'échéance) sont placés en premier.

### Unité d'Organisation { #capture_app_generic_sorting_orgunits }

- La liste sera triée par ordre alphabétique du nom de l'unité d'organisation.

### Statut de l'inscription { #capture_app_generic_sorting_enrollment }
- La liste sera triée par ordre alphabétique du nom du statut.

![](resources/images/capture-app-image123.png){ width=100%}

## Informations sur la synchronisation { #capture_app_generic_sync_info }

### Login Sync {#capture_app_generic_login_sync}

Pendant le téléchargement des métadonnées, l'application demeure dans l'écran de démarrage et ouvre l'écran d'accueil une fois que les métadonnées sont dans l'appareil.

Sur l'écran d'accueil, l'application informe du téléchargement des données à l'aide d'un indicateur de chargement sur chaque programme. Une fois le processus de synchronisation terminé, l'application affichera l'une des deux icônes possibles :

* A green checkmark if the program downloads data successfully and without errors (the icon will disappear after three seconds)  or,
* Une flèche grise s'il y a une erreur pendant le processus de synchronisation et que les données entières ou partielles ne sont pas téléchargées.

L'utilisateur pourra voir combien de programmes sont en train de télécharger des données ou ont terminé, ce qui rendra le processus d'attente plus transparent et plus informatif quant à sa progression.

![](resources/images/capture-app-image207.png){ largeur=20%}

**REMARQUE:** Tous les programmes et ensembles de données seront bloqués jusqu'à ce que le processus de synchronisation soit entièrement terminé.

### Subsequent logins {#capture_app_generic_subsequent_login}

L'application lancera un processus de synchronisation des données et des métadonnées uniquement lors de la première connexion de l'utilisateur. Afin de faciliter le travail dans les cas les plus difficiles, le processus de synchronisation a été supprimé pour les connexions subséquentes. Cela signifie que lorsque l'utilisateur ouvre l'application, celle-ci s'ouvrira sans effectuer une synchronisation complète, même si l'utilisateur se déconnecte du compte.

Si l'utilisateur supprime le compte, la prochaine connexion lancera le processus de synchronisation.

En outre, les utilisateurs ont la possibilité de se synchroniser avec le serveur à l'aide du bouton Actualiser lorsqu'ils le souhaitent.

### Statut de la synchronisation {#capture_app_generic_sync_status}

Une icône s'affiche devant chaque programme ou ensemble de données pour permettre à l'utilisateur de vérifier les informations relatives à la synchronisation. Les enregistrements synchronisés n'affichent aucune icône. Les icônes de non-synchronisation (flèches grises), d'erreur (flèches rouges), d'avertissement (orange) ou de SMS (bleu avec le mot SMS à l'intérieur) s'affichent en fonction du statut.

![](resources/images/capture-app-image67.png){ width=20%}
![](resources/images/capture-app-image69.png){ width=20%}
![](resources/images/capture-app-sync-status.png){ width=20%}

### Synchronisation granulaire { #capture_app_generic_sync_granular }

Les utilisateurs peuvent cliquer sur les flèches grises (qui désignent les enregistrements stockés en ligne dans l'appareil) pour effectuer une synchronisation. Ces options sont disponibles au niveau supérieur (programmes/ensembles de données) ou individuellement (TEI, événements, valeurs de données).

![](resources/images/capture-app-image89.png){ width=25%}
![](resources/images/capture-app-image161.png){ width=25%}


### Synchronisation des SMS { #capture_app_generic_sync_sms }

When there is no Internet conection (either via WiFi or Mobile Data) but there is still mobile conectivity, users can synchronize via SMS if the gateway has been previously established in the app and properly configured at server level. 

Si l'application a été téléchargée à partir de Google Play, les utilisateurs devront envoyer manuellement le SMS à partir de leur application SMS par défaut (leur application SMS par défaut s'ouvrira avec le message rédigé). Les utilisateurs doivent envoyer le message sans le modifier, puis revenir à l'application DHIS2 pour confirmer l'envoi du message.

![](resources/images/capture-app-sms-sync.png){ width=25%}
![](resources/images/capture-app-sms-sync-default-app.png){ width=25%}
![](resources/images/capture-app-sms-sync-confirm.png){ width=25%}

Cependant, si l'application a été téléchargée depuis Github (ou si la version de démonstration est utilisée), l'application demandera simplement une confirmation pour envoyer un ou plusieurs messages (SMS) et les enverra en arrière-plan (sans ouvrir l'application SMS par défaut).

![](resources/images/capture-app-sms-sync-training.png){ width=25%}
![](resources/images/capture-app-sms-sync-confirm-training.png){ width=25%}
![](resources/images/capture-app-sms-synced-training.png){ width=25%}

> **Tip**
>
>  Edit parameters related to SMS gateway in the SMS Settings (Settings Menu) or set this globally via the [#capture_app_android_settings_webapp_general](Android Settings Web App)

![](resources/images/capture-app-image90.png){ largeur=25%}

> **Note**
>
>  Note that in order to user the SMS sync capabilities the SMS services needs to be enabled in the server side as described in the [https://docs.dhis2.org/master/en/dhis2_user_manual_en/mobile.html#sms-service](oficial documentation). You can also find more information on how to use different gateways in the [https://docs.dhis2.org/master/en/dhis2_android_implementation_guideline/about-this-guide.html](Android Implementation Guidelines)

### Erreur de synchronisation des meta-données { #capture_app_visual_sync_error }

En cas d'erreur dans le processus de synchronisation, un message s'affiche dans le menu des paramètres (section "Synchroniser des données" ou "Synchroniser la configuration"). De plus, une icône de synchronisation rouge s'affiche à côté du programme sur l'écran d'accueil. Le journal des erreurs de synchronisation fournit des détails sur l'erreur et peut être partagé avec les administrateurs.

![](resources/images/capture-app-image43.jpg){ width=25%}
![](resources/images/capture-app-image11.png){ width=25%}

Vous pouvez également ouvrir le journal des erreurs de synchronisation en cliquant sur **Paramètres** :

![](resources/images/capture-app-image15.jpg){ largeur=25%}

## Actualiser les données { #capture_app_generic_refresh_data }

Les utilisateurs peuvent désormais récupérer les données les plus récentes du serveur avant d'introduire de nouvelles données. Un bouton d'actualisation permet désormais de déclencher une synchronisation granulaire dans les écrans suivants :

* Accueil
* Recherche
* Tableau de bord des TEI
* Liste des programmes d'événement
* Détails sur l'événement
* Liste des ensembles de données
* Détails de l'ensemble des données

![](resources/images/capture-app-image19.png){ width=25%}
![](resources/images/capture-app-image191.png){ width=25%}
![](resources/images/capture-app-image192.png){ width=25%}
![](resources/images/capture-app-image193.png){ width=25%}

## Unité d'organisation { #capture_app_generic_orgunit }

![](resources/images/capture-app-image30.png){ largeur=25%}

The whole organisation unit tree is displayed. Organisation units not available for data entry will be colored in grey.
User must check the box to select the org unit wanted. After an organisation unit is selected, the parents will be marked in bold to show hint of the organisation unit selection when opening the hierarchy.

![](resources/images/capture-app-image194.png){ largeur=25%}

> **Caution**
>
>  Mobile users are not expected to access the org. unit hierarchy of a whole country. Maximum number of org units is difficult to set, as the App does not set the limit, but the resources on the device (memory, processor). We could say below 250 org units should be safe, but still believe that is a very big number for a mobile use case.


## Ensembles de données { #capture_app_generic_datasets }

L'utilisateur peut maintenant saisir des données agrégées pour une unité d'organisation, une période et un ensemble d'éléments de données et les envoyer au serveur.

![](resources/images/capture-app-image87.png){ width=25%}
![](resources/images/capture-app-image93.png){ width=25%}
![](resources/images/capture-app-image92.png){ width=25%}


## Home {#capture_app_home}

The home screen of the DHIS2 Android App shows the list of programs and data sets available for the user. The first thing the user does when collecting data in this case is to select the program or data set to work with.


![](resources/images/capture-app-image87.png){largeur=25%}

> **Tip**
>
>  An easy way to differentiate them is by looking at the word at the bottom left corner. The word 'Event' will always be in event programs. In tracker will appear the name of the tracked entity type (person, patient, building, etc.). For data sets, the word 'DataSets' will be shown next to the number of records.

For those implementations where the users have access to only one program or dataset, the App will skip the home and will open directly the program or datasaset screen with the event, TEI or dataset list to reduce the number of clicks and streamline the process of data entry.

![](resources/images/capture-app-image245.png){ width=25%}
![](resources/images/capture-app-image247.png){ width=25%}

## Partage de données { #capture_app_generic_shargin }

Users can share TEI via QR codes. This allows transferring/sharing information between devices without the need of transferring via the server (useful when connecitivity might be missing). To do this users should open any TEI and click on the *SHARE* button.

![](resources/images/capture-app-image72.png){ width=25%}
![](resources/images/capture-app-image73.png){ width=25%}


## Coordonnées de saisie { #capture_app_generic_capture_coord }

### Coordonnées TEI{ #capture_app_generic_capture_coord_tei }

Capture the TEI coordinates in the registration form.  Enable this feature in the TET feature type.

![](resources/images/capture-app-image94.png){ largeur=25%}

### Polygones { #capture_app_generic_capture_coord_polygons }

L'application prend désormais en charge le format geoJSON et l'utilisateur peut saisir des polygones.

![](resources/images/capture-app-image95.png){largeur=25%}


## Images { #capture_app_generic_images }

L'image ValueType peut être utilisée dans Android pour saisir des données et aussi, selon la configuration du programme, pour être affichée dans le tableau de bord TEI. Lorsque ce type de valeur est le premier élément de données/attribut marqué comme affiché dans la configuration du programme, il sera utilisé comme image de profil TEI.

![](resources/images/capture-app-image99.png){ width=25%}
![](resources/images/capture-app-image98.png){ width=25%}
![](resources/images/capture-app-image100.png){ width=25%}

Ouvrez l'image du profil TEI en cliquant dessus.

![](resources/images/capture-app-image138.png){ largeur=25%}


## Afficher les événements et les TEI sur des cartes { #capture_app_generic_display_events }

Lorsqu'une étape du programme ou un type d'entité suivi possède un type de caractéristique (et pour les programmes avec enregistrement, l'option "affichage de la liste de la page d'accueil" est activée), les listes peuvent être modifiées afin d'afficher les informations sur une carte. Pour ce faire, cliquez sur l'icône de la carte dans le panneau de navigation.


![](resources/images/capture-app-image101.png){ width=25%}
![](resources/images/capture-app-image102.png){ width=25%}

Si le TEI dispose d'une image de profil, la carte l'affichera.

![](resources/images/capture-app-image103.png){ largeur=25%}

## Vue personnalisé  du calendrier{ #capture_app_personalized_calendar }

 Dans l'application de Android Capture du DHIS2, les utilisateurs peuvent passer de la sélection de la date à l'affichage du calendrier. Dans cette version, l'application se souviendra de la dernière visualisation sélectionnée par l'utilisateur et l'utilisera la prochaine fois que l'utilisateur devra sélectionner une date.

![](resources/images/capture-app-image177.png){ largeur=25%}

## Raison pour laquelle les données ne sont pas modifiables{ #capture_app_reason_non_editable }

 Les données peuvent être bloquées dans le DHIS2 pour de nombreuses raisons, notamment en raison de restrictions d'accès ou d'expiration. Lorsqu'un événement, une TEI ou un ensemble de données n'est pas modifiable, l'utilisateur pourra trouver la raison dans la section "Détails". 

La liste suivante contient toutes les raisons possibles :

* Fin de l'événement
* Fin de l'inscription
* Événement expiré
* Unité d'organisation fermée
* Unité d'organisation hors du champ de la saisie
* Aucun accès à la saisie des données dans le programme ou l'ensemble de données
* Aucun accès à une option de catégorie dans le programme ou l'ensemble de données

![](resources/images/capture-app-image178.png){ width=25%}
![](resources/images/capture-app-image179.png){ width=25%}

## Résolution des problèmes de configuration { #capture_app_configuration_troubleshooting }

Cette fonction est destinée aux administrateurs. L'application Android comprend une option dans l'écran des paramètres pour vérifier certains aspects de la configuration du DHIS2.

![](resources/images/capture-app-image188.png){ width=25%}
![](resources/images/capture-app-image195.png){ width=25%}

* **Langue:** l'utilisateur pourra changer la langue de l'interface utilisateur de l'application afin d'identifier les étiquettes, les boutons ou les invites avec des erreurs ou sans traduction.

![](resources/images/capture-app-image196.png){ width=25%}
![](resources/images/capture-app-image197.png){ width=25%}

* **Validation des règles du programme:** ce validateur vérifie les règles du programme dans l'appareil et affiche les incohérences de configuration.

![](resources/images/capture-app-image198.png){ width=25%}
![](resources/images/capture-app-image199.png){ width=25%}

## Error Navigation { #capture_app_error_navigation }

The Android App has improved the navigation of sync errors on the user interface. The app will display the sync errors in a simple and clean manner allowing the user to navigate from the home screen to the exact field that is causing the error inside the event or data set.

![](resources/images/capture-app-image217.png){ width=25%}

User must tap on any of the errors listed and the app will move to the correspondent screen. Once the error is located and fixed, the user can synced by tapping on the "Refresh" button.

![](resources/images/capture-app-image218.png){ width=25%}
![](resources/images/capture-app-image219.png){ width=25%}
![](resources/images/capture-app-image220.png){ width=25%}

## LMIS Module { #capture_app_lmis_module }

The new module for real stock monitoring use case enables users to manage and monitor their stock levels in real-time. Integrating a module implies that the app will open a completely new and different user interface and experience to respond to a different data entry flow. To use this modules the program will need to be configured using the new web app for program use case configuration.

![](resources/images/capture-app-image221.png){ width=25%}
![](resources/images/capture-app-image222.png){ width=25%}
![](resources/images/capture-app-image223.png){ width=25%}



# Ensembles de données { #capture_app_datsets }

### Data Entry {#capture_app_data_sets_data_entry}

Lors de la saisie de données, la nouvelle boîte de dialogue dédiée à la saisie de textes ouvre un champ de saisie au-dessus du clavier, qui affiche le nom de l'élément de données et les options de catégorie du champ sélectionné, permettant ainsi à l'utilisateur de garder le contexte lors de la consultation des tableaux.

![](resources/images/capture-app-image213.png){ largeur=25%}

![](resources/images/capture-app-image214.png){ largeur=25%}


### Barre de navigation { #capture_app_data_sets_navigation_bar }

Utilisez la barre de navigation située au bas de l'ensemble de données pour basculer entre le formulaire de saisie de données et l'écran d'aperçu.

![](resources/images/capture-app-image139.png){ largeur=25%}

### Écran d'aperçu { #capture_app_data_sets_overview_screen }

Le nouvel onglet Aperçu contient les détails suivants :

- Nom de l'ensemble de données
- Dernière mise à jour
- Statut ouvert/fermé
- Période
- Unité d'organisation
- Combinaison d'options de catégorie
- Bouton Actualiser (Pour lancer une synchronisation granulaire)

![](resources/images/capture-app-image122.png){ largeur=25%}

### Enregistrement d'un ensemble de données { #capture_app_data_sets_saving }

Les règles de validation et la constitution des ensembles de données sont intégrées dans les opérations effectuées à l'aide du bouton de sauvegarde :

- When a Data set is configured to *complete only if validation passess*. If the validation is successful, a dialog asking to mark as complete will show up. The App will allow completion only if all mandatory fields have value.

![](resources/images/capture-app-image131.png){ largeur=25%}

- en cas d'échec, une boîte de dialogue d'erreur devrait s'afficher et l'ensemble de données ne sera pas marqué comme complet. La description et les instructions de la règle de validation seront affichées pour aider l'utilisateur à identifier l'erreur.

![](resources/images/capture-app-image128.png){ width=25%}

- Pour un ensemble de données qui n'a pas la configuration "Achèvement autorisé seulement si la validation réussit". Lorsque vous cliquez sur le bouton Enregistrer, si l'ensemble de données est associé à des règles de validation, l'application demandera à l'utilisateur d'exécuter les règles de validation.

![](resources/images/capture-app-image130.png){ largeur=25%}

- Si la validation n'est pas réussie, une boîte de dialogue d'erreur devrait s'afficher, mais avec la possibilité de compléter tout de même l'ensemble de données. La description et les instructions de la règle de validation seront affichées pour aider l'utilisateur à identifier l'erreur.

![](resources/images/capture-app-image129.png){ largeur=25%}

- Si l'ensemble de données ne dispose pas de règles de validation, il sera marqué comme complet si tous les champs obligatoires ont une valeur.

### Increase Row and column Headers { #capture_app_data_sets_row }

Users are now allowed to resize the row headers and columns in datasets, making it easier to view and work with larger tables.

To resize any column, tap on its header and then drag and drop until the desired size. A maximum and minimum size limit is given for the columns that can be resized to ensure a good layout.

If the column have multiple headers, the resizing will be available only for the child header (lowest level). Users can also resize all collumns at once by clicking on the top left of the table.

![](resources/images/capture-app-image215.png){ width=25%}

![](resources/images/capture-app-image216.png){ width=25%}

### Indicateurs { #capture_app_data_sets_indicators }

Les indicateurs sont maintenant disponibles dans les formulaires par défaut et de section et sont affichés au bas du formulaire de saisie de données.

![](resources/images/capture-app-image140.png){ largeur=25%}

### Cards design { #capture_app_datsets_cards_design }

The new design of cards offers a cleaner and more intuitive layout replacing the use of coloured icons by explicit text when relevan.

#### Main changes { #capture_app_datsets_cards_design_main_changes }

**Sync button:** It now appears as a button at the bottom of the card and it is only displayed if there are unsynced data or an error or warning after a sync.

**Completion status:** After the data set is completed, the app will add a label in each card to specify the completion status.

![](resources/images/capture-app-image237.png){ width=25%}

## Aperçu des fonctionnalités prises en charge { #capture_app_datsets_supported_features }


Vous trouverez ci-dessous une liste complète de toutes les fonctionnalités disponibles pour les ensembles de données dans DHIS2, accompagnées de notes explicatives indiquant si elles ont été implémentées ou non dans l'application Android de Saisie.

Dans les notes, « administrateur » fait référence à une personne qui développe et configure un système DHIS2, et « utilisateur »  à une personne qui utilise des applications pour saisir des données, les mettre à jour et examiner les rapports.

|Légende|Description ;|
|:--:|:------|
|![](/en/resources/images/admin/icon-complete.png)|Fonctionnalité implémentée|
|![](/en/resources/images/admin/icon-incomplete.png)|Fonctionnalité non implémentée&nbsp; (sera ignorée)|
|![](/en/resources/images/admin/icon-na.png)|Non applicable|
|![](/en/resources/images/admin/icon-wip.png)|Travail en cours. La fonctionnalité n'est pas encore complètement implémentée (pour le moment) ou présente une attitude inattendue déjà signalée.|


|Fonctionnalité|Description de la fonctionnalité|Statut|Notes relatives à la mise en œuvre|
|-|---|:-:|---|
|Type de période|Détermine la période couverte par la saisie des données.|![](/en/resources/images/admin/icon-complete.png) | |
|Jours d'expiration|Sets the deadline (days after period) after which DHIS2 locks all data entry for the period (0 means no locks at all).  Periods can still be opened, but cells will be greyed out.| ![](/en/resources/images/admin/icon-complete.png) | |
|Ouvrir les futures périodes pour la saisie de données|Ce paramètre peut être utilisé pour déverrouiller la période en cours ou toutes les périodes jusqu'à un certain moment futur.|![](/en/resources/images/admin/icon-complete.png) | |
|Périodes de saisie des données|Vous permet de définir une plage de dates spécifique pour la saisie des données d'une période et empêche la saisie des données des périodes qui ne font pas partie de cette plage de dates.|![](/en/resources/images/admin/icon-complete.png) | |
|Jours accordés après le délai pour entrer des données|Définit la date limite (jours après la période) après laquelle DHIS2 considère la saisie des données comme « en retard ».| ![](/en/resources/images/admin/icon-complete.png)| |
|[Attribut] combinaison de catégories|Permet à un administrateur de joindre une catégorie (ensemble d'options) à l'ensemble de données, en générant un écran de saisie de données distinct pour chaque option (Il s'agit dans le DHIS2 d'une combinaison de catégories d'attributs2).| ![](/en/resources/images/admin/icon-complete.png)| |
|[Attributs] Restrictions sur les options de combinaison de catégories|If Attribute Category Combinations (see above) are used, then this features gives admins the ability to restrict which specific options are available in the drop-down.  Each option can be restricted to a particular range of dates and/or organisation units, and that option will not be shown if data is being captured outside of these dates or org units.| ![](/en/resources/images/admin/icon-complete.png)||
|Entrer les destinataires de la notification|Envoie un message DHIS2 au groupe d'utilisateurs sélectionné lorsque l'ensemble de données est marqué "complet".|![](/en/resources/images/admin/icon-incomplete.png)| |
|Envoyer une notification à l'utilisateur qui entre des données|Envoie un message DHIS2 à l'utilisateur qui entre des données lorsque l'ensemble de données est marqué « complet ».|![](/en/resources/images/admin/icon-incomplete.png)| |
|Tous les champs des éléments de données sont obligatoires|Lorsqu'une ou plusieurs catégories sont utilisées pour désagréger un élément de données, ce paramètre oblige l'utilisateur soit à effectuer toutes les désagrégations, soit à les laisser toutes vides.|![](/en/resources/images/admin/icon-complete.png) | |
|Compléter seulement en cas de validation|Permet seulement à l'ensemble de données d'être marqué complété lorsqu'aucune règle de validation n'est activée.|![](/en/resources/images/admin/icon-complete.png)| |
|Ignorer l'option hors connexion|Exige de l'utilisateur qu'il ajoute un "commentaire" si une valeur n'est pas compléter (ou si l'ensemble de données ne peut pas être "complété"). Cette fonction permet à l'ensemble de données de n'être sélectionné que pour la saisie de données lorsque vous êtes connecté à Internet (bien qu'une fois sélectionné, la saisie puisse continuer hors connexion).|![](/en/resources/images/admin/icon-incomplete.png)| |
|Décoration des éléments de données|Affiche la description de l'élément de données lorsque la souris survole son Nom.|![](/en/resources/images/admin/icon-complete.png) | |
|Formulaires de section - Présenter les sections comme des onglets|Présente chaque section du formulaire comme un onglet distinct, au lieu de toutes les regrouper sur une même page.|![](/en/resources/images/admin/icon-incomplete.png)| |
|Formulaires de section - présenter sous forme verticale||![](/en/resources/images/admin/icon-incomplete.png)| |
|Élément de données - Combinaisons de catégories|Permet à un élément de données distinct d'être automatiquement désagrégé en une ou plusieurs catégories (par exemple, hommes/femmes et enfants/adultes), avec des champs/valeurs séparés et collectés pour chacune de ces désagrégations.|![](/en/resources/images/admin/icon-complete.png)| |
|Indicateurs intégrés / total des formulaires de section|Active la combinaison de catégorie par défaut pour chaque élément de données qui doit être remplacé par une combinaison différente ; pour cet ensemble de données uniquement.|![](/en/resources/images/admin/icon-complete.png)| |
|Formulaires de section - Présenter les sections comme des onglets|Adding indicators to Data Sets makes them available for use in section forms and custom forms; row and/or column totals can also be added to these forms.  (Both are displayed on the screen alongside data capture cells, and update automatically as values are captured.)|![](/en/resources/images/admin/icon-incomplete.png)| |
|Attribution d'unité d'organisation|Garantit que l'ensemble de données ne soit disponible que pour les unités d'organisation auxquelles il a été attribué.|![](/en/resources/images/admin/icon-complete.png) | |
|Éléments de données obligatoires|Cela permet de marquer des éléments de données/Combinaisons de catégories spécifiques comme « obligatoires », ce qui signifie que les utilisateurs doivent saisir une valeur (ces parties ne doivent pas être laissées vides).| ![](/en/resources/images/admin/icon-complete.png)| |
|Formulaires - formulaires par défaut|DHIS2 affiche automatiquement le formulaire sous forme de tableau(x), avec un nouveau tableau qui apparait chaque fois que les combinaisons de catégories changent (= différents en-têtes de colonne).|![](/en/resources/images/admin/icon-complete.png) | |
|Formulaires - formulaires de section|Form sections and section titles can be specified, giving you more control over the grouping and layout of the form (but it is still rendered automatically).  This section form automatically overrides the default form if implemented.|![](/en/resources/images/admin/icon-complete.png) | |
|Formulaires - formulaires personnalisés|A custom HTML form can be designed, giving total control over layout, and enabling JavaScript code to be included within the form.  This custom form automatically overrides the default and section forms if implemented.|![](/en/resources/images/admin/icon-incomplete.png)| |
|Formulaires de section - désactiver des champs (griser)|Avec les formulaires de section, cette fonction vous permet de "griser" distinctement les champs (tout un élément de données ou des options de combinaison de catégories spécifiques) afin que les utilisateurs ne puissent pas y saisir de données.|![](/en/resources/images/admin/icon-complete.png) | |
|Formulaires de plusieurs unités d'organisation|Lorsque ce paramètre de serveur est activé, la présentation  des formulaires est modifiée pour afficher plusieurs unités d'organisation sous forme de lignes et tous les éléments de données/combinaisons de catégorie sous forme de colonnes (c'est-à-dire un formulaire très plat et large par unité d'organisation).|![](/en/resources/images/admin/icon-incomplete.png)| |
|Fenêtre contextuelle des valeurs de données : marquer la valeur pour le suivi|Permet à l'utilisateur de marquer cette valeur de données spécifique pour le suivi (les valeurs marquées peuvent être examinées dans l'application web Qualité des Données).|![](/en/resources/images/admin/icon-incomplete.png)| |
|Fenêtre contextuelle des valeurs de données : ajouter un commentaire à la valeur|Permet à l'utilisateur d'ajouter un commentaire à cette valeur de données spécifique.|![](/en/resources/images/admin/icon-incomplete.png)| |
|Fenêtre contextuelle des valeurs de données : afficher l'historique des éléments de données|Affiche l'historique de cet élément de données spécifique (c'est-à-dire les valeurs des 12 mois précédents).|![](/en/resources/images/admin/icon-incomplete.png)| |
|Fenêtre contextuelle des valeurs de données : afficher le journal d'audit|Affiche un historique des précédentes modifications apportées à cette valeur de données spécifique.|![](/en/resources/images/admin/icon-incomplete.png)| |
|Fenêtre contextuelle des valeurs de données : plages min/max (également accessibles via l'application Administration des Données)|This enables users to set minimum and maximum expected values for a data element, enabling DHIS2 to highlight values outside this range during data entry (but it does not prevent saving or 'completing').  You can set min/max ranges automatically/in-bulk (via the Data Administration app) or manually/individually (via the Data Entry app).|![](/en/resources/images/admin/icon-incomplete.png)| |
|Imprimer le formulaire / imprimer le formulaire vierge|Rend possible l'impression d'un formulaire de saisie de données, pour permettre la saisie de données sur papier et  ultérieurement.|![](/en/resources/images/admin/icon-incomplete.png)| |
|Enregistrer des données|Les données saisies sur l'écran ne sont conservées que lorsqu'elles sont "enregistrés". Jusque-là, elles ne sont conservées qu'en mémoire. Elles sont perdues en cas de coupure de l'alimentation, etc.|![](/en/resources/images/admin/icon-complete.png)| |
|Compléter l'ensemble de données|This enables user to mark data-entry for a period/org unit/etc as 'complete'.  Note that this is just for data-entry tracking and timeliness purposes, and does not lock the data set or prevent further edits.|![](/en/resources/images/admin/icon-complete.png)| |
|Éléments de données : règles de validation|Enables the creation of rules (at the data element level) to enforce data quality, based on comparing different values/collections of values.  (Eg number of patients seen in the month must be less than the number of visits for the month.)|![](/en/resources/images/admin/icon-complete.png)| |
|Niveaux de partage des données/Possibilité de saisir des données|Permet à l'utilisateur d'ajouter de nouvelles valeurs, de modifier des valeurs ou de les supprimer dans l'ensemble de données.|![](/en/resources/images/admin/icon-complete.png) | |
|Niveaux de partage de données/Possibilité d'afficher des données|Permet à l'utilisateur de consulter les valeurs dans l'ensemble de données.|![](/en/resources/images/admin/icon-complete.png) | |
|Niveaux de partage des données/Pas d'accès|L'utilisateur ne pourra pas visualiser l'ensemble de données.|![](/en/resources/images/admin/icon-complete.png) | |
|Processus d'approbation des données|Si un administrateur sélectionne un processus d'approbation des données préconfiguré, celui-ci sera utilisé pour appliquer un flux d' «approbation » ou d' « acceptation et approbation », permettant aux utilisateurs d'approuver et de verrouiller les données.|![](/en/resources/images/admin/icon-complete.png) | Le processus d'approbation doit être effectuer en ligne. Une fois qu'un ensemble de données est approuvé, les données ne seront plus modifiables dans l'application. |
|Les valeurs manquantes nécessitent un commentaire explicatif|Pour toute valeur manquante, un commentaire sera nécessaire pour justifier l'absence.|-||



# Programmes { #capture_app_programs }

## Caractéristiques communes des événements et de Tracker{ #capture_app_common_features }

### Navigation Bar { #navigation-bar } 

Utilisez la barre de navigation inférieure pour passer d'un écran à un autre.

#### Event Dashboard { #event-dashboard } 

Lors de la saisie des informations de l'événement, la barre de navigation inférieure permet à l'utilisateur de choisir parmi :

1. Détails
2. Saisie des données
3. Analyses (si disponible)
4. Notes

![](resources/images/capture-app-image141.jpg){ largeur=25%}

#### TEI Dashboard { #tei-dashboard } 

Lors de la navigation sur le tableau de bord des TEI, la barre de navigation inférieure permet à l'utilisateur de choisir parmi :

1. Détails
2. Analyses (si disponible)
3. Relations 
4. Notes

![](resources/images/capture-app-image142.jpg){ largeur=25%}

#### Event listing for event and tracker programs { #event-listing-for-event-and-tracker-programs } 

La barre de navigation inférieure permet également de changer de mode de visualisation si le programme d'événement ou le programme tracker ont été définis avec des coordonnées. Vous trouverez plus d'informations sur l'affichage cartographique dans la section spécifique ci-dessous.

  1. Vue en liste
  2. Affichage cartographique

![](resources/images/capture-app-image143.jpg){ width=25%}
![](resources/images/capture-app-image144.jpg){ width=25%}

### Flux de saisie de données { #capture_app_common_features_Data_flow }

#### creating/editing an event (Improved 3.0) { #capture_app_common_features_newEdit_event }

When creating an event or an enrollment, there are a number of fields that are not data elements or attributes, for example, event date, org unit, coordinates, enrollment date, category combinations. 

Those elements are referred to as event/enrollment details and in previous versions they were displayed in different screens separated from the data elements or attributes. From 3.0,  the details are displayed inside the form, as the first opened section for completion. Once they are filled in, for example when the user reopens the event or enrollment form, the details section will be visible and easily available, but collapsed to leave more space for the data collection.

![](resources/images/capture-app-image284.png){ width=25%}
![](resources/images/capture-app-image285.png){ width=25%}
![](resources/images/capture-app-image286.png){ width=25%}

#### Terminer/rouvrir l'événement { #capture_app_common_features_complete_reopen }

When adding an event to an event program or inside a tracker program the user should fill the information and scroll down to make the *save* icon appear at the bottom right corner.

![](resources/images/capture-app-image37.jpg){ width=25%}
![](resources/images/capture-app-image74.png){ width=25%}

Après avoir cliqué sur le bouton "Enregistrer", si le formulaire ne contient pas d'erreurs, d'avertissements ou de champs obligatoires vides, l'application demandera à l'utilisateur s'il souhaite remplir le formulaire. Deux options sont proposées à l'utilisateur :

1. « Pas maintenant » : l'application enregistre le formulaire et revient à la page de la liste des événements (ou au tableau de bord de TEI pour les programmes tracker). Le statut de l'événement restera Ouvert.
2. 'Compléter' : l'application enregistre le formulaire et revient à la liste des événements. Le statut de l'événement devient 'complété'.

![](resources/images/capture-app-image201.png){ largeur=25%}

> **Note**
>
> To verify if an event is completed look at the icon, it must be a green checked box.
>

> **Note**
>
> If the event is non-editable, the app will hide the 'save' button
>

Pour rouvrir un événement, l'application affiche désormais un bouton "Rouvrir le formulaire" sur l'écran Détails. Ce bouton ne sera disponible que si l'utilisateur dispose de l'autorisation appropriée ("Événements inachevés") pour rouvrir un événement déjà terminé.

![](resources/images/capture-app-image202.png){ largeur=25%}

#### Schedule after completion (Improved 3.0) { #capture_app_programs_common_features_schedule_after_completion }

In 3.0, the schedule dialog after completion has been redisigned to facilitate the creation of the event.

![](resources/images/capture-app-image270.png){ width=25%}

#### Abandonner les modifications { #capture_app_programs_common_features_discard_changes }

Lorsque vous cliquez sur la flèche de retour dans un formulaire d'inscription ou d'événement, deux options s'offrent à vous :

1. 'Discard changes',  which allows the user to restored the fields to their previous values or,
2. 'Réviser' pour garder le formulaire et mettre à jour les champs.

Lorsque l'utilisateur participe à une nouvelle inscription ou à un nouvel événement, les options lui permettent de :

1. 'Abandonner les modifications' : l'inscription ou l'événement n'est pas créé ou,
2. « Continuer à modifier » : l'utilisateur peut terminer l'inscription ou l'événement.

![](resources/images/capture-app-image203.png){ largeur=25%}

#### Pourcentage d'achèvement des champs { #capture_app_programs_common_features_field_percentage }

Le pourcentage de données complétées pour chaque événement est affiché dans le coin supérieur droit de l'événement lorsqu'il est ouvert après le premier enregistrement.

![](resources/images/capture-app-image80.png){ largeur=25%}

> **Remarque**
>
> L'affichage ou non du pourcentage peut être paramétré à l'aide du [#capture_app_android_settings_webapp_appearance_program](Android Settings WebApp)

#### Navigation dans les rubriques { #capture_app_programs_common_features_sections_nav }

The sections can be collapsed for a simpler user experience.  Sections in enrollment forms are also supported and are aligned with the design of the event sections.

![](resources/images/capture-app-image115.png){ width=25%}
![](resources/images/capture-app-image116.png){ width=25%}

#### Messages d'erreur { #capture_app_programs_common_features_errors }

L'application affichera le nom des champs obligatoires non remplis lorsque l'utilisateur tente de compléter un événement ou une inscription. Les sections comportant les champs manquants seront surlignées pour permettre à l'utilisateur de les retrouver.

![](resources/images/capture-app-image117.png){ largeur=25%}

Après avoir cliqué sur le bouton "enregistrer", l'application affichera deux options :

1. 'Pas maintenant' : Autorise l'utilisateur à enregistrer le formulaire avec un statut 'ouvert' ou,
2. 'Réviser' : L'application restera active dans le formulaire pour que l'utilisateur remplisse les champs obligatoires encore vides.

Les erreurs et les avertissements sont également affichés sous forme d'indicateur à côté du nom de la section, y compris le nombre d'erreurs pour chaque section. Une liste des champs avec les erreurs/avertissements lorsque l'utilisateur essaie d'enregistrer le formulaire s'affichera.

![](resources/images/capture-app-image145.png){ largeur=25%}

Après avoir cliqué sur le bouton "enregistrer", l'application affichera deux options :

**Avertissements**

1. 'Pas maintenant' : Autorise l'utilisateur à enregistrer le formulaire avec un statut 'ouvert' ou,
2. 'Compléter' : Le formulaire est enregistré et son statut devient 'Complété'

**Erreurs**

1. 'Pas maintenant' : Autorise l'utilisateur à enregistrer le formulaire avec un statut 'ouvert' ou,
2. 'Réviser' : L'application restera active dans le formulaire pour que l'utilisateur puisse réviser les champs qui comportent des erreurs

En cas de combinaison d'erreurs, d'avertissements et de champs obligatoires manquants, l'application n'affichera que les options "Pas maintenant" et "Réviser".


### Notes d'événement { #capture_app_programs_common_features_event_notes }

Il est possible d'ajouter des notes aux événements dans les programmes d'événements uniques et dans les événements des étapes du programme. Les notes sont disponibles dans un nouvel onglet du formulaire de saisie des données.

![](resources/images/capture-app-image106.png){ width=25%}
![](resources/images/capture-app-image107.jpg){ width=25%}

### Cartes { #capture_app_programs_common_features_maps }

#### Map Layers (Improved 3.0) { #map-layers-improved-30 } 

Lors de l'affichage des cartes, différentes couches peuvent être affichées lorsque vous cliquez sur le bouton approprié dans le coin supérieur droit de l'écran. L'utilisateur peut sélectionner une ou plusieurs couches à afficher. Les types de coordonnées et de polygones seront affichés. Les couches dépendent du type de programme tel qu'expliqué ci-dessous :

- Afficher les événements (Pour les programmes sans enregistrement)
- Vue par satellite
- Coordonnées de TEI (Par défaut dans les programmes avec enregistrement)
- Coordonnées d'inscription (uniquement pour les programmes avec enregistrement)
- Coordonnées d'étape de programme (uniquement pour les programmes avec enregistrement)
- Relations (Uniquement pour les programmes avec enregistrement)
- Carte thermique (Uniquement pour les programmes avec enregistrement)
- Attributs d'entité suivie (type de valeur des coordonnées - uniquement pour les programmes avec enregistrement)
- Éléments de données (type de valeur des Coordonnées)

![](resources/images/capture-app-image125.png){ width=25%}
![](resources/images/capture-app-image136.png){ width=25%}

From 3.0 custom map layers are also supported by the Android App. These custom layers, configured in the [maintenance app](https://docs.dhis2.org/en/use/user-guides/dhis-core-version-240/configuring-the-system/metadata.html#manage_external_maplayer), will be downloaded and displayed as additional layers to the default ones.
![](resources/images/capture-app-image263.png){ width=25%}
![](resources/images/capture-app-image262.png){ width=25%}

#### Carrousel de carte { #capture_app_programs_common_features_map_carousel }

Sur la carte du programme, un carrousel de cartes s'affiche, une pour chaque TEI (programmes Tracker) ou événement (programmes d'événements) inscrit.

* Les cartes de TEI sur le carrousel se présentent de la même façon que la liste de TEI.
* En défilant horizontalement dans le carrousel, la carte agrandit les coordonnées sélectionnées. Si le champ des coordonnées est vide, un message s'affiche à la place.

![](resources/images/capture-app-image126.png){ width=25%} 
![](resources/images/capture-app-image133.png){ width=25%}

Chaque carte affiche les attributs d'entité suivie (pour les programmes Tracker) et les éléments de données (pour les programmes d'événement) configurés « Afficher dans la liste ».

![](resources/images/capture-app-image147.png){ largeur=25%}

#### Current Location displayed in maps { #current-location-displayed-in-maps } 

Si l'utilisateur autorise la localisation dans l'application, la carte affichera la position actuelle représentée par un point de couleur bleue. Les cartes de l'application Android Capture du DHIS2 offrent désormais la possibilité de centrer la carte sur la position de l'utilisateur.

![](resources/images/capture-app-image148.png){ largeur=25%}

#### Navigation to Specific Location { #navigation-to-specific-location } 

Si le TEI ou l'événement a des coordonnées, une icône de navigation sera affichée dans l'angle supérieur droit de la carte. Cliquez pour ouvrir la position dans l'application de cartes par défaut configurée dans l'appareil.

![](resources/images/capture-app-image149.png){ width=25%}
![](resources/images/capture-app-image150.png){ width=25%}
![](resources/images/capture-app-image151.jpg){ width=25%}

### Working Lists { #capture_app_programs_common_features_working_lists }

Les listes de tâches sont disponibles dans les programmes Tracker et d'événements. Une fois qu'une liste est sélectionnée, les filtres seront bloqués et ne pourront être modifiés que si l'utilisateur réinitialise la recherche.

The Android App supports the new tracker working lists, allowing users to filter by data elements. The working lists need to be configured in web using the web Capture App. The Android app will download the working lists that are configured and saved on the server side.

In 2.9, the working lists have been moved from the filters section to the main program screen. In earlier versions the user had to open the filters to be able to see and select a working list, from this version the working lists are always visible under the search bar facilitating its selection for filtering out Tracked Entity Instances

![](resources/images/capture-app-image251.png){ width=25%}

### Indicateurs de programme { #program-indicators } 

L'onglet consacré aux analyses prend en charge l'affichage du texte et de la paire clé/valeur dans la section des commentaires ou des indicateurs.

![](resources/images/capture-app-image154.png){ largeur=25%}

### Légendes { #legends } 

Des légendes peuvent être attribuées aux éléments de données. Elles seront affichées à côté de la valeur avec la couleur et l'étiquette correspondantes.

![](resources/images/capture-app-image155.png){ largeur=25%}

### Formulaire de saisie de données { #capture_app_programs_common_features_data_entry_form }

#### Hint messages { #hint-messages } 

Les champs de saisie afficheront un message conseil disant "Insérer une valeur ici". Le message s'affichera jusqu'à la saisie d'une valeur par l'utilisateur.

![](resources/images/capture-app-image209.png){ largeur=25%}

#### Navigation button { #navigation-button } 

Dans les formulaires avec plusieurs sections, l'application a un bouton "Suivant" à la fin de chaque section. Sa fonction  est de fermer la section actuelle et d'ouvrir la nouvelle.

![](resources/images/capture-app-image210.png){ largeur=25%}

#### Program Stage section description { #capture_app_programs_common_features_data_entry_form_program_stage_description }

To provide more context and information at the moment of data collection the description has now been brought to the user interface and will be displayed below the section name. The description will always be visible but if the text is too long (more than 3 lines) the app will add an ellipsis and a show more/less button to expand or collapse.

![](resources/images/capture-app-image243.png){ width=25%}
![](resources/images/capture-app-image244.png){ width=25%}

#### Enable/disable collapsible sections in forms { #capture_app_programs_common_features_data_entry_form_collapsible_sections }

Stage sections in the Android App are displayed with collapsible menus that enable the user to open one section at a time. The purpose of this accordion-like implemementation is to help the user navigate very long forms, however some implementations would prefer to list the sections one after the other. 

This new version of the application enables the admin use to decide if the sections should appear in extended mode. This configuration is made through the [Android Settings Web App](https://docs.dhis2.org/en/use/android-app/settings-configuration.html#capture_app_android_settings_webapp_appearance_program_specific) and will display the sections one after the other with the name the secion acting as a separator. In extended mode, the "next" button at the end of each section is removed.

![](resources/images/capture-app-image241.png){ width=25%}

#### New inputs per value types { #capture_app_programs_common_features_data_entry_form_new_inputs }

The inputs for all value types have been redesigned. Tappable areas and texts have been increased and selection modes are improved to offer cleaner and more intuitive user experience. By default the Android App will display the current forms. Admin users are able to opt-in to use the new forms through the [Android Settings WebApp]().

![](resources/images/capture-app-image238.png){ width=25%}
![](resources/images/capture-app-image239.png){ width=25%}
![](resources/images/capture-app-image240.png){ width=25%}

### Actionable Icons  { #capture_app_programs_common_features_actionable_icons }

This feature enables users to take action on phone numbers and email addresses directly from the app.  When tapping on the icons, the app will dial a phone number or open an email app copying the address from the event or enrollment data entry form.

![](resources/images/capture-app-image230.png){ largeur=25%}

### Customized Tracker Terminology { #capture_app_programs_common_features_customized_terminology }

In order to facilitate the terminology used in DHIS2, it has been decided to gradually enable the possibility to customize certain terms to each particular use case. In 3.0, the terms "event" (used in a program stage context) and "enrollment" are customizable.

To customize the terms, the admin can go to the Maintenance and when creating or editing the program add a text to:

  1. "Custom label for enrollment" in the Enrollment details section OR
  2. "Custom label for event" in the stage details section

![](resources/images/capture-app-image253.png){ width=25%}
![](resources/images/capture-app-image254.png){ width=25%}
![](resources/images/capture-app-image256.png){ width=25%}
![](resources/images/capture-app-image255.png){ width=25%}


## Fonctionnalités spécifiques des programmes d'événements { #capture_app_programs_events }

### Event - TEI relationships { #event-tei-relationships } 

L'application permet d'ajouter des relations entre événements uniques (dans des programmes d'événements) et TEI. Un nouvel onglet nommé Relations est présent sur l'écran des événements. Il ne sera affiché que lorsque ce type de relations est configuré sur le serveur pour le programme spécifique.

> **Remarque**
>
> La version actuelle ne permet pas aux TEI d'établir des relations ou d'utiliser des événements appartenant à une inscription.

![](resources/images/capture-app-image175.png){ largeur=25%}

### Cards design { #capture_app_programs_common_features_cards_design }

The new design of cards offers a cleaner and more intuitive layout replacing the use of coloured icons by explicit text when relevant.

#### Main changes { #main-changes } 

**Sync button:** It now appears as a button at the bottom of the card and it is only displayed if there are unsynced data or an error or warning after a sync.

**Event status:** After an event program is completed, the app will add a label in each card to specify the status.

![](resources/images/capture-app-image236.png){ width=25%}

## Caractéristiques spécifiques des programmes Tracker (programme avec enregistrement) { #capture_app_programs_tracker }

### Relations dans les cartes { #capture_app_programs_map_relationships }

Dans les programmes Tracker, l'utilisateur peut visualiser les relations qui existent sur une carte en cliquant sur l'icône de la carte dans l'onglet des Relations.

* Une flèche indique le sens de la relation.
* Pour les relations bidirectionnelles, la flèche pointe vers les deux côtés.
* Chaque type de relation affiche une couleur différente.
* Si un ou les deux TEI ont un polygone pour coordonnée, la ligne va du (et vers le) point le plus proche des deux TEI dans le polygone.

![](resources/images/capture-app-image132.png){ largeur=50%}

### TEI Dashboard (Improved 3.0) { #capture_app_programs_TEI_Dashboard }

The TEI Dashboard has been redesigned for both portrait and landscape view. The new design offers a cleaner and more intuitive layout replacing the use of coloured icons by explicit text when relevant and moving some secondar actions to the hidden menus.

#### Dashboard card { #dashboard-card } 

Main changes in 2.9:

**Edit registration form:** In previous versions, there was a button "Open TET details" at the bottom of the TEI dashboard card. Now, the button is located at the top bar of the screen with the label "Edit TET" (For example: Edit Patient)

**Follow-up:** In previous versions, there was an icon at the top right corner of the card to mark the TEI. Now, to mark for follow up, the user needs to tap the three dot menu and select the "Mark for follow-up" option.

**Card title** In previous versions, the title included the values of the first 3 tracked entity attributes marked as Display in List. Now, the tile of the card can bdisplay the first Tracked Entity Attribute marked as Display in list OR a customize text, called TEI header, using program indicators and the Android Settings web App.

More information [here](https://docs.dhis2.org/en/use/android-app/program-features.html#capture_app_programs_tei_header) on how to configure the TEI header.

**Tracked Entity Attributes:** From 2.9, the complete list of tracked entity attributes marked as Display in List will be display in the dashboard card. The first three will always be visible and if there are more, a show "more" button will appear to expand the list.

**Programs:** From 2.9, if the TEI is enrolled to more than one program, a list of the programs will be display and will also allow the user to tap on the label and navigate to full list of enrollments.

![](resources/images/capture-app-image248.png){ width=50%}

#### Program stages { #capture_app_programs_TEI_Dashboard_program_stages }

Main changes in 3.0:

**Event list:** fresh and more clean look of the list of events, with more space and less -not critical- information displayed.

**Timeline view:** the button for creating new events has been moved to the top.

![](resources/images/capture-app-image248.png){ width=50%}

#### Navigation panel { #navigation-panel } 

To simplify and personalize the user experience, the user interface actions offered to the user at the TEI dashboard will be tailored to the specific configuration of each  program.

* L'onglet Relations ne sera pas visible si les relations du programme ne sont pas configurées
* Le bouton "Créer un événement" sera masqué si l'utilisateur ne peut pas créer d'autres événements en fonction de la configuration du tracker.
* L'onglet Indicateurs ne sera pas visible si le programme n'a pas d'indicateurs de programme configurés.
* Le filtre Unité d'organisation ne sera pas visible si l'utilisateur n'a qu'une seule unité d'organisation configurée.

#### Creating A Stage { #creating-a-stage } 

Pour créer un nouvel événement, l'utilisateur doit cliquer sur l'icône Plus sur la carte de l'étape. Cette icône est toujours visible sauf si l'étape est non répétable et déjà créée.

Lorsque l'utilisateur clique sur le bouton, cette étape de programme se déroule et présente à l'utilisateur tous les événements déjà existants de cette étape de programme particulière

![](resources/images/capture-app-image211.png){ largeur=50%}

Si l'utilisateur crée une nouvelle étape qui n'a qu'une seule option basée sur la configuration du programme, l'étape de programme disponible est automatiquement sélectionnée et la partie sélection de l'étape de programme est ignorée.

#### Share a TEI  { #share-a-tei } 

Le bouton "Partager" a été retiré du tableau de bord de TEI et la fonctionnalité permettant de partager une TEI via un code QR a été déplacée vers le menu à trois points verticaux, dans l'angle supérieur droit de l'écran.

![](resources/images/capture-app-image212.png){ largeur=50%}

### Conception de cartes TEI { #capture_app_programs_tei_design }

The TEI Card has been designed to display as much information as possible considering the constrains of screen size.

From 2.9 the card has been redesigned to offer a cleaner and more intuitive layout replacing the use of coloured icons by explicit text when relevant.

The main changes are:

**Card title** The tile of the card can be composed by the first Tracked Entity Attribute marked as Display in list or a customize text, called TEI header, using program indicators and the Android Settings web App. More information [here](https://docs.dhis2.org/en/use/android-app/program-features.html#capture_app_programs_tei_header) on how to configure the TEI header.

**Sync button:** It now appears as a button at the bottom of the card and it is only displayed if there are unsynced data or an error or warning after a sync.

**Enrollment status:** After a program is completed or cancelled, the app will add a label in each card to specify the status.

**Overdue events:** Is now displayed as a red label with the text: "Overdue" + date of the event

**Follow-up:** After a TEI is marked for follow-up, an orange label with the text "Marked for follow-up" is added to the card

![](resources/images/capture-app-image247.png){ width=50%}

### Terminer/désactiver l'inscription { #capture_app_programs_complete_deactivate_enrollment }

Pour terminer ou désactiver une inscription, cliquez sur le menu à trois points dans l'angle supérieur droit et sélectionnez "Terminer" ou "Désactiver".

![](resources/images/capture-app-image76.jpg){ largeur=25%}

### Search Flow (Improved 3.0) { #capture_app_programs_search }

#### Recherche de TEI configurable { #capture_app_programs_configurable_search }

Désormais, la recherche de TEI avant création n'est plus obligatoire. À l'aide de l'application Android Paramètres (v2.2.0), vous pouvez configurer le caractère obligatoire de la recherche de TEI avant de faire une inscription. Suivez les étapes ci-dessous pour activer la création de TEI sans effectuer de recherche :

  1. Ouvrez le menu Apparence dans l'application Android Paramètres
  2. Dans "Programme", ajoutez un paramètre de programme
  3. Sélectionnez un programme de suivi
  4. Cochez la case "Autoriser l'utilisateur à créer une TEI sans effectuer de recherche"
  5. Enregistrer

Si la fonction est activée, l'application Android affichera un bouton "créer un nouveau" après l'ouverture d'un programme et une recherche ne sera pas requise. Si la fonction n'est pas activée ou si l'utilisateur utilise une version précédente de l'application, une recherche doit être effectuée pour éviter d'éventuels doublons. Une fois la recherche effectuée, le bouton de recherche deviendra "Ajouter", ce qui permet à l'utilisateur de créer une nouvelle inscription.

![](resources/images/capture-app-image281.png){ width=25%}

#### Search by unique QR/bar Codes (new 3.0) { #capture_app_programs_unique_qrBar_search }

In 3.0, the search form has been improved to provide a cleaner look and a more intuitive user experience. The buttons have been made more explicit for differencing search from creation. In addition the flow for searching TEIs using attributes rendered as bar / QR codes has been made more agile. If there is only one result and the attribute is unique, the app will open the TEI Dashboard directly. If there are multiple results, the app will display all the cards on the TEI list (this is equal to the current workflow), and if there are no results, the app will display the create button and allow the user to “search outside the program” if the configuration allows it.

#### Recherche hors ligne et en ligne { #capture_app_programs_offline_online_search }

Pour améliorer le temps de réponse concernant les résultats de recherches, désormais l'application Android effectue d'abord une recherche hors ligne et en affiche les résultats tout en effectuant une recherche en ligne (comme deuxième étape), perceptible par l'utilisateur.

Searching outside the program is offered as a second step when  the attributes used in the search contain at least one Tracked Entity Type (TET) attribute

#### Réinitialiser les champs de recherche { #capture_app_programs_reset_search }

Les champs de recherche sont utilisés pour rechercher une entité spécifique, et la flèche encerclée pour réinitialiser la recherche. Tous les champs seront vides pour permettre à l'utilisateur d'effectuer une nouvelle recherche.

![](resources/images/capture-app-image79.png){ largeur=25%}

#### Écran de recherche pour tous les types d'entités suivies { #capture_app_programs_search_screen }

User can search across all programs by specific tracked entity type (TET). In the Search screen there is a drop down which shows all the programs available for the active TET (active TET is defined by the selection of the program in the home screen). That drop down should also have an option with TET name, for example: *All Person*.

Lorsque l'utilisateur sélectionne cette option, les champs de recherche disponibles seront uniquement des attributs de TET (pas d'attributs spécifiques à un programme). Les restrictions de recherche ne s'appliquent pas, car elles concernent les programmes.

![](resources/images/capture-app-image44.png){ width=25%}
![](resources/images/capture-app-image22.png){ width=25%}

La recherche renverra les TEI trouvées dans la base de données locale ainsi que celles de l'unité d'organisation de recherche de l'utilisateur (lorsque l'utilisateur est en ligne). Pour celles trouvées en ligne, l'utilisateur devra les sélectionner pour qu'elles soient téléchargées.

> **Note**
>
>  When configuring search org. units, make sure that your capture org. units are contained in your search org. units, to do that capture org. units have to be selected as well as search org. units.


### Tableau de bord de TEI dans les programmes { #capture_app_programs_tei_dashboard }

L'utilisateur peut voir le tableau de bord TEI sans aucun programme s'il sélectionne le TEI dans la liste alors que la recherche était sans programme.

Les tableaux de bord afficheront la liste des inscriptions actives.

![](resources/images/capture-app-image22.png){ width=25%}
![](resources/images/capture-app-image38.png){ width=25%}

### Historique des inscriptions TEI et nouvelle inscription { #capture_app_programs_tei_history }

User can see the complete historical records of the TEI. Clicking on the upper right corner menu, select "Program Enrollments". A list of "Active enrollments" will be displayed, followed by a list of "Past enrollments" (completed or cancelled), followed by the programs in which the TEI could be enrolled.  User can also return to the "TEI Dashboard" without any program' by selecting "All enrollments".

![](resources/images/capture-app-image40.jpg){ width=25%}
![](resources/images/capture-app-image7.png){ width=25%}

### Delete TEI's & Enrollments (Improved 3.0) { #capture_app_programs_delete_tei }

To delete a TEI or an enrollment, select the desired option in the three dots menu of TEI dashboard.  Local TEI or Enrollment will be deleted from the database. Records that has been previously synced with the server will be marked for deletion if the user has the following authorities:

* F_INSCRIPTION_SUPPRIMER_CASCADE
* F_TEI_SUPPRIMER_CASCADE

Dans ce cas, elles seront affichées dans la liste de recherche TEI, mais ne seront pas accessibles.

![](resources/images/capture-app-image86.jpg){ largeur=25%}

From 3.0, there is a confirmation message to reduce errors when tapping on the dele button.

![](resources/images/capture-app-image269.png){ width=25%}

> **Attention**
>
> Lorsque les utilisateurs saisissent une TEI et tant qu'elle n'est pas synchronisée avec le serveur, ils pourront supprimer la TEI et l'inscription même si ces droits ne leur ont pas été attribuées. Cette fonctionnalité existe par conception et pour permettre aux utilisateurs de revenir en arrière en cas d'erreur lors de la saisie des données (TEI et/ou inscription) et ainsi d'empêcher l'erreur d'atteindre le serveur, ce qui nécessitera qu'un autre utilisateur avec plus de droits résolve le problème.

### Vue de groupe des étapes du programme dans le tableau de bord des TEI { #capture_app_programs_group_view }

Le tableau de bord des TEI offre désormais la possibilité de changer la liste des événements de la vue chronologique à une vue de groupe des étapes. La vue de groupe des étapes permet de regrouper et de réduire les événements par étape du programme. Chaque groupe d'étapes du programme peut être élargi par l'utilisateur et les événements seront affichés de manière chronologique.

![](resources/images/capture-app-image108.png){ width=25%}
![](resources/images/capture-app-image109.jpg){ width=25%}

### Hériter des valeurs { #capture_app_programs_inherit_values }

Lors de la création d'une nouvelle TEI pour une relation, héritez de tous les attributs de programme marqués du signe d'héritage, sur le web.

Cela signifie que tous les attributs existants dans la première TEI doivent être transmis à la nouvelle et être affichés dans le formulaire d'enregistrement.

### Briser le verre { #capture_app_programs_breaking_the_glass }

**Briser la glace:** Si le programme est configuré avec un niveau d'accès "Protégé" et qu'une recherche est effectuée en dehors du champ d'application de l'utilisateur, une boîte de dialogue demandant une raison d'accès sera affichée pour que l'utilisateur puisse temporairement passer outre le privilège de propriété du programme. Cela signifie que l'utilisateur aura accès aux données relatives au programme.

Une fois la raison écrite, l'application téléchargera la TEI et le tableau de bord s'ouvrira. Si la TEI en cours de téléchargement n'a pas d'inscription au programme en cours, une date d'inscription et une unité d'organisation seront demandées.

![](resources/images/capture-app-image205.png){ width=25%}
![](resources/images/capture-app-image206.png){ width=25%}

### Analytic charts { #analytic-charts } 

Il est possible d'afficher l'évolution des éléments de données sous forme de graphiques, de valeurs ou de tableaux. Ces éléments de données doivent être présentés sous forme de valeurs numériques et configurés dans une étape répétable.

1. Valeur unique : Elle affichera la valeur la plus récente du programme.

![](resources/images/capture-app-image156.png){ largeur=25%}

2. Graphiques : Il est possible d'afficher les valeurs dans un graphique linéaire ou dans un graphique à barres.

![](resources/images/capture-app-image157.png){ largeur=25%}

The Nutrition Growth charts are shown according to the WHO standards.  This option will render a background image and apply the axis (0 to 5 monthly)according to the WHO model.

 ![](resources/images/capture-app-image159.png){ width=25%}

3. Les tableaux :  afficheront les éléments de données ou les indicateurs dans les lignes et périodes au sein les colonnes.

![](resources/images/capture-app-image160.png){ largeur=25%}

### Références { #capture_app_programs_referrals }

lorsqu'un utilisateur effectue une référence permanente d'une TEI, la propriété sera mise à jour en conséquence sur le serveur.

From 2.9, admin users can now enable or disable the referrals in the DHIS2 Android Capture App through the [Android Settings WebApp](https://docs.dhis2.org/en/use/android-app/settings-configuration.html#capture_app_android_settings_webapp_appearance_program).

When users add events (tapping on the + icon) in a tracker program, the DHIS2 Android Capture App offers three options: Add (for new events), Schedule (for planning future events) and Refer (for referrals or transfers). IF the referral option is not needed, then the admin user can remove the option from the menu to simplify the user experience. The removal can be general (for all the programs) or for specific programs.

![](resources/images/capture-app-image233.png){ width=50%}

### [EXPERIMENTAL] TEI Header  { #capture_app_programs_tei_header }

The TEI Header is a title that can be added to the TEI cards and dashboards in the app. The title helps identify a TEI by displaying a summary of key information. It is formed by a concatenation of Tracked Entity Atributes and fixed text. The title is configured through a Program Indicator in the maintenance app and its assigned to the tracker program in the Android settings webapp. This feature is experimentan and depending on feedback and adoption it will be refined and incorporated in the Web Capture app.

> **Attention**
>
>  In the Maintenace app, text expressions aren't valid. Even though the error is display in the dialog, save the program indicator and assign it in the Android Settings Web App, the DHIS2 Android capture app will read the expression accordingly.

For more information on how to configure the TEI header, click [here.](https://docs.dhis2.org/en/use/android-app/settings-configuration.html#capture_app_android_settings_webapp_appearance_program)

![](resources/images/capture-app-image249.png){ width=50%}
![](resources/images/capture-app-image250.png){ width=50%}

## Aperçu des fonctionnalités prises en charge { #capture_app_programs_supported_features }

Vous trouverez ci-dessous une liste complète de toutes les fonctionnalités disponibles pour les Programmes avec et sans enregistrement dans DHIS2, accompagnées de notes explicatives indiquant si elles ont été implémentées ou non dans l'application Android de Saisie.

Dans les notes, « administrateur » fait référence à une personne qui développe et configure un système DHIS2, et « utilisateur »  à une personne qui utilise des applications pour saisir des données, les mettre à jour et examiner les rapports.

|Légende|Description ;|
|:--:|:------|
|![](/en/resources/images/admin/icon-complete.png)|Fonctionnalité implémentée|
|![](/en/resources/images/admin/icon-incomplete.png)|Fonctionnalité non implémentée (sera ignorée)|
|![](/en/resources/images/admin/icon-na.png)|Non applicable|
|![](/en/resources/images/admin/icon-wip.png)|Travail en cours. La fonctionnalité n'est pas encore complètement implémentée (pour le moment) ou présente une attitude inattendue déjà signalée.|

### Programme { #capture_app_programs_supported_features_program }

|Fonctionnalité|Description de la fonctionnalité|Programme avec inscription|Programme sans inscription|Notes relatives à la mise en œuvre|
|-|---|:-:|:-:|---|
|Méthode de saisie des données pour les ensembles d'options|Permet à un administrateur de choisir le mode d'affichage des options sur l'écran, à travers tout le programme (c'est-à-dire sous forme de listes déroulantes ou de boutons radio)|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)|Ce sera remplacé par les nouvelles options.|
|Combinaison de catégories (attribut Combinaison de catégories)|Permet à un administrateur de joindre une catégorie (ensemble d'options) au programme, obligeant les utilisateurs à catégoriser chaque inscription. (Il s'agit dans le DHIS2 d'une combinaison de catégories d'attributs)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Processus d'approbation des données|Si un administrateur sélectionne un processus d'approbation des données préconfiguré, celui-ci sera utilisé pour appliquer un flux d' "approbation" ou d'"acceptation et approbation", permettant aux utilisateurs d'approuver et de verrouiller les données.|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)||
|Afficher la liste de la première page|Lorsque cette option est cochée, la page d'accueil affiche une liste des inscriptions actives dès qu'une unité d'organisation et un programme sont choisis. (Les attributs affichés sont ceux cochés "afficher dans la liste".)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|La première étape apparaît sur la page d'enregistrement|Lorsque cette option est choisie lors de l'inscription au programme, l'écran de la première étape du programme s'affiche également (l'inscription et l'entrée du premier événement se font sur un même écran).|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)| Avec Android, cette fonctionnalité est implémentée avec ouverture automatique de l'événement une fois l'inscription terminée, au lieu d'un ajout du formulaire au même écran.|
|Jours d'expiration des événements complétés|Permet aux administrateurs de verrouiller la saisie de données quelque temps après la fin d'un événement.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Type de périodes d'expiration + jours d'expiration|Permet aux administrateurs de définir une période (hebdomadaire ou mensuelle par exemple) et de verrouiller la saisie de données quelques jours suivant la fin de la période.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Autoriser les dates d'inscription futures|Lorsque cette option est cochée, l'utilisateur peut entrer des dates d'inscription futures lors des inscriptions à un programme ; dans le cas contraire, les utilisateurs sont limités au jour présent ou à des dates passées.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Autoriser les dates d'incident futures|Lorsque cette option est cochée, l'utilisateur peut entrer des dates d'incident futures lors des inscriptions à un programme ; dans le cas contraire, les utilisateurs sont limités au jour présent ou à des dates passées.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Inscrire une seule fois (par durée de vie d'instance d'entité suivie)|Cette option, lorsqu'elle est cochée, empêche une TEI (par exemple, une personne) d'être inscrite à ce programme plus d'une fois.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Afficher la date de l'incident|Lorsque cette option est cochée, les dates d'inscription et d'incident sont présentées à l'utilisateur pour la saisie des données ; dans le cas contraire, seule la date d'inscription est affichée/saisie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Description de la date de l'incident|Permet à un administrateur de personnaliser le libellé utilisé pour la date de l'incident.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Description de la date d'inscription|Permet à un administrateur de personnaliser le libellé utilisé pour la date d'inscription.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Saisir les coordonnées (inscription)|Permet aux utilisateurs de saisir des coordonnées géographiques lors de l'inscription au programme.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Entrer un polygone (inscription) |Permet aux utilisateurs d'entrer les positions (zones fermées) lors de l'inscription au programme.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Coordonnées des TEI |Permet aux utilisateurs de saisir les coordonnées géographiques de la TEI lors de l'inscription au programme.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Relations : créer et mettre à jour|Permet aux utilisateurs de créer et de mettre à jour des relations.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Relations - lien direct pour ajouter un parent|Cette fonction permet aux administrateurs d'ajouter un lien pour une relation spécifique sur le tableau de bord ; ce qui permet aux utilisateurs de créer directement une TEI avec lien (par exemple, un patient "enfant").|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-na.png)||
|Attributs : afficher dans la liste|Ce paramètre détermine si un attribut peut être affiché dans des listes telles que les résultats de recherche, et s'il peut l'être dans la liste restreinte des attributs affichés dans la rubrique "Profil" du tableau de bord.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)|Les trois premiers attributs seront affichés|
|Attributs : obligatoires|Cette fonctionnalité permet à un administrateur de marquer un attribut comme "obligatoire", ce qui signifie que l'inscription n'est enregistrée que si valeur est saisie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Attributes:  date in future|Pour les attributs de date, cette fonction permet à un administrateur d'empêcher ou d'autoriser l'entrée de dates futures.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Formulaire d'enregistrement- par défaut|Le formulaire de saisie de données par défaut répertorie tous les attributs définis pour la TEI.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Formulaire d'enregistrement - personnalisé|Cette fonction permet à un administrateur de définir une disposition personnalisée (en utilisant le format HTML) pour le formulaire d'enregistrement.|-|![](/en/resources/images/admin/icon-na.png)|Les dispositions personnalisées ne sont pas prises en charge par l'application Android||
|Notifications de programme|Vous pouvez configurer des notifications automatiques en cas d'inscriptions ou d'achèvements de programme, ou à un intervalle défini avant/après les dates d'incident ou d'inscription. Ces derniers peuvent être envoyés sous forme de messages internes de DHIS 2, d'e-mails ou de SMS.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|Cette fonctionnalité s'exécute au niveau du serveur, dès que les données sont reçues. Elle ne s'exécutera pas si l'application fonctionne hors ligne.|
|Activer/désactiver l'inscription|Si vous désactivez un tableau de bord d'une TEI, celui-ci passe "en lecture seule". Vous ne pouvez donc pas saisir de données, ni inscrire la TEI, ni modifier son profil.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Compléter seulement en cas de validation|Cochez la case pour qu'un événement créé par ce programme ne soit terminé que si toutes les règles de validation sont respectées.|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)||
|Dates d'ouverture/fermeture de l'unité d'organisation|Permet à un administrateur de définir des dates d'ouverture et de fermeture pour une unité d'organisation, ce qui empêche les utilisateurs d'ajouter ou de modifier des événements en dehors de ces dates.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Niveaux de partage des données/Possibilité de saisir des données|Permet à l'utilisateur d'ajouter un nouvel événement, de modifier des données et de supprimer des événements dans le programme.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Niveaux de partage de données/Possibilité d'afficher des données|Permet à l'utilisateur de visualiser la liste des événements du programme.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Niveaux de partage des données/Pas d'accès|L'utilisateur ne pourra pas consulter le programme|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||


### Étape du programme { #capture_app_programs_supported_features_program_stage }

|Fonctionnalité|Description de la fonctionnalité|Programme avec inscription|Programme sans inscription|Notes relatives à la mise en œuvre|
|-|---|:-:|:-:|---|
|Formulaire d'événement - par défaut|Le formulaire de saisie de données par défaut répertorie tous les attributs appartenant à une inscription de programme|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Formulaire d'événement - formulaires de section|Les formulaires de sections vous permettent de diviser les formulaires existants en segments|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Formulaire d'événement - personnalisé|Définissez un formulaire d'événement personnalisé en tant que page HTML.|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)|Les dispositions personnalisées ne sont pas prises en charge par l'application Android|
|Notifications d'étape de programme|Vous pouvez configurer des notifications automatiques en cas d'achèvement de l'étape du programme ou à un intervalle défini avant/après les dates d'événements programmés. Ces derniers peuvent être envoyés sous forme de messages internes de DHIS 2, d'e-mails ou de SMS.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)|Cette fonctionnalité s'exécute au niveau du serveur, dès que les données sont reçues. Elle ne s'exécutera pas si l'application fonctionne hors ligne.|
|Répétable|Si l'option Répétable est cochée, cette étape peut être répétée lors d'une inscription à un programme. Dans le cas contraire, l'étape ne peut se produire qu'une seule fois lors d'une inscription à un programme.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Répétable|Si l'option Répétable est cochée, cette étape peut être répétée lors d'une inscription à un programme. Dans le cas contraire, l'étape ne peut se produire qu'une seule fois lors d'une inscription à un programme.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Répétable + Jours d'intervalle standard|Le système proposera la date d'échéance en additionnant la date du dernier événement aux dates d'intervalle standard.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Type de période|Permet à un administrateur de configurer un ensemble de périodes (par exemple, des semaines ou des mois) pour chaque événement de l'étape du programme, au lieu d'une simple date. Lors de la création d'événements, les utilisateurs seront invités à choisir une période (au lieu d'une date) pour chaque nouvel événement qu'ils créent au cours de cette étape du programme.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Evénement généré automatiquement|Si cette option est cochée, une "réservation" est générée pour cette étape du programme lors de l'inscription, en fonction des "jours programmés depuis le début".|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Générer des événements en fonction de la date d'inscription (et non de la date de l'incident)|Cochez cette option pour générer automatiquement les dates d'échéance des événements des étapes de ce programme, en fonction de la date d'inscription. Si elle n'est pas cochée, les dates d'échéance sont générées en fonction de la date de l'incident.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Ouvrir le formulaire de saisie de données après l'inscription + date de rapport à utiliser|Si ce paramètre est sélectionné, dès que l'inscription est terminée, le formulaire de saisie des données d'un événement devrait s'ouvrir juste après.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Demander à l'utilisateur de compléter le programme lorsque l'étape est terminée| Si ce paramètre est sélectionnée, à la fin de l'étape du programme, l'utilisateur doit être invité à compléter le programme. (Il est ignoré si le paramètre "Demander à l'utilisateur de créer un nouvel événement" est également coché.)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Demander à l'utilisateur de créer un nouvel événement lorsque l'étape est terminée|Si cette option est sélectionnée, lorsque l'étape du programme est terminée, l'utilisateur est invité à réserver.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Masquer la date d'échéance|La date réelle des événements est affichée et la date d'échéance est masquée.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Entrer les coordonnées (événement) / Type de fonctionnalité-Point|Permet à l'utilisateur d'entrer les coordonnées géographiques lorsque chaque événement est créé.![](/en/resources/images/admin/icon-incomplete.png)                  Cette fonction est très utile notamment avec les appareils équipés d'un GPS (par exemple les appareils Android), car au lieu d'entrer des coordonnées par saisie, l'utilisateur peut le faire automatiquement en cliquant sur un bouton.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Entrer un polygone (événement) / Type de fonctionnalité -Polygone |Cette fonction permet aux utilisateurs d'entrer des positions (zones fermées) lors de la création de chaque événement. Un polygone doit contenir au moins 4 points.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Description de la date de rapport|Permet à un administrateur de personnaliser le libellé utilisé pour la date de l'évènement.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Éléments de données - obligatoires|Cette fonctionnalité permet à un administrateur de marquer un élément de données comme "obligatoire", ce qui signifie qu'un évènement n'est enregistrée que si valeur est saisie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Éléments de données-autoriser l'extraction de données à partir d'autres sources|Sur le formulaire, une case à cocher est placée à côté de l'élément de données sélectionné et permet d'extraire les données précédentes vers l'élément de données.|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-na.png)||
|Éléments de données - afficher dans les rapports|La valeur de cet élément de données est affichée dans l'événement unique avec la fonction de saisie de données d'enregistrement désactivée.|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Éléments de données-date futures|Pour les éléments de données de date, cette fonction permet à un administrateur d'empêcher ou d'autoriser l'entrée de dates futures.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Eléments de données - radio comme option de rendu|Permet à un administrateur de choisir le mode d'affichage des options sur l'écran, pour chaque élément de données (c'est-à-dire sous forme de listes déroulantes ou de boutons radio)|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-incomplete.png)||
|Bloquer le formulaire de saisie une fois complété|Empêche toute modification apportée aux événements dès qu'elles sont terminés.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Commentaires sur l'événement|Permet à l'utilisateur d'ajouter des commentaires à un événement. Ces commentaires sont cumulatifs (les nouveaux commentaires sont ajoutés à la suite des commentaires déjà existants).|![](/en/resources/images/admin/icon-incomplete.png)|![](/en/resources/images/admin/icon-na.png)||

### Programme avec enregistrement : Tableau de bord des entités suivies { #capture_app_programs_supported_features_program_with_reg }

|Fonctionnalité|Description de la fonctionnalité|Statut|Notes relatives à la mise en œuvre|
|-|---|:-:|---|
|Messagerie|Cette fonction permet aux utilisateurs d'envoyer des messages en texte libre ponctuels aux TEI (par exemple, les patients) par SMS ou par e-mail.|![](/en/resources/images/admin/icon-incomplete.png)||
|Marquer pour suivi (bouton avec le triangle d'exclamation)|Permet à un utilisateur de marquer une TEI (par exemple, un patient) comme nécessitant un suivi.|![](/en/resources/images/admin/icon-complete.png)||
|Afficher l'historique des audits des TEI|Permet à l'utilisateur de consulter un historique de toutes les modifications apportées aux attributs de cette TEI (par exemple, un patient).|-||
|Indicateurs de programme en ligne|Si la case "afficher dans le formulaire" d'un indicateur de programme est cochée, l'indicateur apparaît sur le tableau de bord de saisie de Tracker et est mis à jour au fur et à mesure que les données sont saisies.|![](/en/resources/images/admin/icon-complete.png)||
|Supprimer des événements|Permet à l'utilisateur de supprimer un événement.|![](/en/resources/images/admin/icon-complete.png)||
|Planifier des événements|Dans la fenêtre de dialogue de création d'événement, l'utilisateur devrait également avoir la possibilité de programmer un événement. Le processus est similaire à la création d'un événement, sauf que l'utilisateur sera renvoyé au tableau de bord des TEI après la programmation de l'événement.|![](/en/resources/images/admin/icon-complete.png)||
|Transfert de patients |Dans la fenêtre de dialogue de création d'événement, l'utilisateur devrait également avoir la possibilité de référer un patient. Le processus est similaire à la création/planification d'un événement, sauf que l'utilisateur peut changer l'unité d'organisation et doit préciser s'il s'agit d'un renvoi ponctuel ou permanent. S'il s'agit d'un transfert ponctuel, il suffit de créer l'événement dans l'unité d'organisation spécifiée.|![](/en/resources/images/admin/icon-complete.png)||
|Réinitialiser les champs de recherche|L'utilisateur peut nettoyer les champs de recherche en appuyant sur l'icône en forme de flèche arrondie dans le coin supérieur droit de l'écran de recherche.|![](/en/resources/images/admin/icon-complete.png)||
|Écran de recherche pour tous les types d'entité suivie (TET)|L'utilisateur peut effectuer une recherche dans tous les programmes d'un type d'entité suivie (TET). L'écran de recherche comporte un menu déroulant affichant tous les programmes disponibles pour le TET actif (le TET actif est défini par la sélection du programme dans l'écran d'accueil). Ce menu déroulant doit également comporter une option avec le nom du TET (Personne dans notre serveur). Lorsque l'utilisateur sélectionne cette option, les champs de recherche disponibles seront uniquement les attributs du TET (aucun attribut spécifique au programme). Toutes les restrictions de recherche ne s'appliquent pas, étant donné qu'elles appartiennent aux programmes.|![](/en/resources/images/admin/icon-complete.png)||
|Tableau de bord TEI sans programme|L'utilisateur peut voir le tableau de bord TEI sans aucun programme en sélectionnant la TEI dans la liste si la recherche a été effectuée sans programme. Les tableaux de bord afficheront les attributs du TET dans la fiche détaillée suivie d'une liste des inscriptions actives.|![](/en/resources/images/admin/icon-complete.png)||
|Historique d'inscriptions de la TEI et nouvelle inscription|L'utilisateur peut consulter l'historique complet de la TEI. En cliquant sur l'icône dans l'angle supérieur droit, il pourra voir une liste des inscriptions actives, suivie d'une liste des inscriptions passées (terminées ou annulées), puis des programmes auxquels la TEI pourrait être inscrite. Les utilisateurs doivent pouvoir accéder aux différentes inscriptions à partir de la liste.|![](/en/resources/images/admin/icon-complete.png)||
|Niveau d'accès - Briser la vitre|Si le programme est configuré avec le niveau d'accès "protégé", et que l'utilisateur recherche et trouve des instances d'entités suivies qui appartiennent à une unité d'organisation pour laquelle l'utilisateur n'est pas autorisé à saisir des données, l'utilisateur a la possibilité de briser la vitre. L'utilisateur trouvera une raison de briser la vitre, puis obtiendra la propriété temporaire de l'instance de l'entité suivie.|![](/en/resources/images/admin/icon-incomplete.png)||

### Programme sans enregistrement : Programme d'événement unique { #capture_app_programs_supported_features_program_without_reg }

|Fonctionnalité|Description de la fonctionnalité|Statut|Notes relatives à la mise en œuvre|
|-|---|:-:|---|
|Liste des événements (grille)|Il s'agit d'une liste des événements existants qui s'affiche une fois qu'un programme est sélectionné.|![](/en/resources/images/admin/icon-complete.png)||
|Trier et filtrer les événements dans la grille|Cette fonction permet à l'utilisateur de trier les événements répertoriés ou de filtrer les événements en fonction de mots-clés ou de plages de dates/numéros spécifiques.|![](/en/resources/images/admin/icon-complete.png)|Les événements sont classés par ordre chronologique. L'utilisateur peut peut effectuer un filtrage par période et par unité d'organisation.|
|Modifier les événements dans la grille|Cela permet à l'utilisateur de modifier directement les éléments de données affichés dans la liste/grille des événements.|![](/en/resources/images/admin/icon-incomplete.png)||
|Consulter l'historique d'audit des événements|Permet à l'utilisateur de visualiser un historique de toutes les modifications apportées aux éléments de données de l'événement.|![](/en/resources/images/admin/icon-incomplete.png)||
|Afficher/masquer les colonnes (dans la liste/grille des événements)|Permet à l'utilisateur de modifier les éléments de données affichés dans la liste/grille des événements (s'applique uniquement à cet utilisateur).|![](/en/resources/images/admin/icon-incomplete.png)||
|Pourcentage de remplissage des champs|Le pourcentage de données complétées pour chaque événement est affiché dans l'angle supérieur droit de événement lorsqu'il est ouvert après le premier enregistrement. Les pourcentages doivent être adaptés aux règles du programme dans les formulaires.|![](/en/resources/images/admin/icon-complete.png)|Le pourcentage d'avancement ne tient pas compte des types de valeur qui ne sont pas pris en charge dans les formulaires.|
|Supprimer des événements|Permet à l'utilisateur de supprimer un événement.|![](/en/resources/images/admin/icon-complete.png)||



# Règles de programme prises en charge par l'application de saisie Android { #capture_app_pr }

Vous trouverez ci-dessous une liste complète de tous les composants des règles de programme (types de variables et actions) disponibles dans DHIS2, ainsi que des remarques sur leur implémentation ou non dans l'application DHIS2 Android.

> **Note**
> 
> Any issues around using a particular feature with Android are highlighted with an exclamation mark !.

|légende|Description|
|:--:|:------|
|![](/en/resources/images/admin/icon-complete.png)|Type de valeur mis en œuvre|
|![](/en/resources/images/admin/icon-incomplete.png)|Type de valeur non appliqué, mais ignoré en toute sécurité (s'il n'est pas obligatoire) |
|![](/en/resources/images/admin/icon-na.png)|Non applicable|
|![](/en/resources/images/admin/icon-wip.png)|Travail en cours. La fonctionnalité n'est pas encore complètement implémentée ou présente une attitude inattendue déjà signalée. |

## Règle de programme Types de sources variables prises en charge { #capture_app_pr_prv }

| Type de variable| Description du type de variable| Programme avec inscription| Programme sans inscription| Notes relatives à la mise en œuvre|
|-|-----|:-:|:-:|-----|
|Élément de données de l'événement le plus récent pour une étape du programme|Ce type de source fonctionne de la même manière que "Élément de données de l'événement le plus récent du programme en cours", sauf qu'il n'évalue que les valeurs d'une étape spécifique du programme.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Élément de données de l'événement le plus récent du programme actuel (avec inscription)|Ce type de source est alimenté par la dernière valeur de données collectée pour l'élément de données spécifié dans l'inscription.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Élément de données de l'événement le plus récent du programme actuel (sans inscription)|Cette variable de règle de programme sera alimentée par la valeur de données la plus récente trouvée parmi les 10 événements les plus récents dans la même unité d'organisation.|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-complete.png)||
|Élément de données dans l'événement en cours (avec inscription)|La variable prend la valeur des éléments&rsquo;s de données de l'événement en cours.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Élément de données dans l'événement en cours (sans inscription)|Contient la valeur des données de l'événement ouvert par l'utilisateur.|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-complete.png)||
|Élément de données de l'événement précédent (avec inscription)|Les variables de règles de programme avec ce type de source contiendront la valeur la plus récente de tous les événements précédents pour l'élément de données spécifié. L'événement en cours n'est pas évalué.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Élément de données de l'événement précédent (sans inscription)|Cette variable de règle de programme sera alimentée par la valeur de données la plus récente trouvée dans les 10 événements précédant la date de l'événement en cours ( sans compter l'événement en cours).|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-complete.png)||
|Attribut d’entité suivie|Remplit la variable de la règle de programme avec un attribut d'entité suivie spécifié pour le TEI actuel (par exemple, le patient actuel).|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Valeur calculée|Valeur calculée.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||

## Règle de programme Actions prises en charge (Élément de données dans l'événement en cours) { #capture_app_pr_pra }

| Action| Description d'une action| Programme avec inscription| Programme sans inscription| Notes relatives à la mise en œuvre|
|-|-----|:-:|:-:|-----|
|Masquer un champ|Masque un élément de données individuel si la règle est vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|! Si vous modifiez la valeur après que le champ a été masqué, l'action sera inversée en fonction de la valeur par défaut du moteur de la règle de type de valeur. Nous recommandons de l'utiliser en combinaison avec la fonction hasvalue.|
|Masquer une section|Masque une section entière et ses éléments de données si la règle est vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Masquer une option|Masque une option unique pour un ensemble d'options dans un élément de données/attribut d'entité suivi donné. Lorsqu'elle est combinée avec <b>le groupe d'options afficher</b> , l'<b>option masquer </b>est prioritaire.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Masquer un groupe d'options|Masque toutes les options d'un groupe d'options donné et un attribut d'élément de données/d'entité suivie. Lorsqu'elle est combinée avec <b>le groupe d'options afficher</b> , l'<b>option masquer</b>est prioritaire. |![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Afficher un groupe d'options|Utilisé pour afficher uniquement les options d'un groupe d'options donné dans un élément de données/attribut d'entité suivi donné. L'affichage d'un groupe d'options masque implicitement toutes les options qui ne font pas partie du ou des groupe(s) affiché(s).|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Attribuer une valeur|Attribue une valeur à un élément de données ou à un attribut spécifié si la règle est vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|Pour évaluer un texte, celui-ci doit être placé entre apostrophes . Par exemple : '2+2' affichera le texte 2+2 et 2+2, sans les apostrophes, affichera 4. |
|Afficher un avertissement|Affiche une fenêtre d'avertissement à l'intention de l'utilisateur si la règle est vraie ; n'empêche pas l'utilisateur de continuer.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Avertissement à la fin|Affiche une fenêtre d'avertissement à l'intention de l'utilisateur si, au moment où il clique sur &lsquo;complete&rsquo, une règle est vraie ; cela n'empêche pas l'utilisateur de continuer.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Afficher une erreur|Affiche un message d'erreur à l'utilisateur dès qu'une règle est vraie et l'empêche de continuer jusqu'à ce que la règle ne soit plus vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|La valeur n'est pas sauvegardée, en revanche le texte n'est pas effacé, permettant à l'utilisateur de le corriger facilement.|
|Erreur à la fin|Affiche une fenêtre d'avertissement à l'intention de l'utilisateur si, lorsqu'il clique sur " terminé ", une règle est vraie, et empêche l'utilisateur de continuer jusqu'à ce que la règle ne soit plus vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Rendre un champ obligatoire|Définit un élément de données comme "obligatoire"; si la règle est vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Afficher le texte (programmes d'événements)|Permet d'afficher des informations autres qu'une erreur ou un avertissement, par exemple un feedback.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)| Indépendamment du type de variable source, le texte sera affiché dans le formulaire en tant que dernier élément de la dernière section. Le texte sera affiché sous forme de messages dans l'onglet des indicateurs.|
|Afficher le texte (programmes tracker)|Permet d'afficher des informations autres qu'une erreur ou un avertissement, par exemple un feedback.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|<b>1. Règle de programme configurée comme "Règle de déclenchement uniquement pour l'étape du programme". </b>Le texte sera affiché UNIQUEMENT dans le formulaire en tant que dernier élément de la dernière section. Le texte sera affiché sous forme de messages dans l'onglet des indicateurs. </br>-> Si la règle de programme utilise un type de variable qui n'est pas de l'étape en cours, la règle ne pourra pas être évaluée et le message ne sera pas affiché.</br><b>2. règle de programme NON configurée comme "Règle de déclenchement uniquement pour l'étape de programme".</b> Le texte sera affiché UNIQUEMENT dans l'onglet des indicateurs et NON dans le formulaire.</br>--> Si la règle de programme utilise une variable de type Evénement en cours, la règle ne pourrra pas être évaluée et le message ne sera pas affiché.|
|Valeur de la touche d'affichage/paire (programmes d'événements)|Utilisé pour afficher des informations tirées d'un élément de données.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|<b>Variable Type:</b> </br>* Data element from the newest event in the current program</br>* Data element from previous event</br>* Data element in current event</br>* Built-in variable</br>Key/Value Pair will be displayed in the form ONLY in the specified section.|
|Valeur de la touche d'affichage/paire (programmes traker)|Utilisé pour afficher des informations tirées d'un élément de données.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|<b>1. Variable Type:</b></br>* Data element in current event</br>Key/Value Pair will be displayed in the form ONLY in the specified section.</br><b>2. Variable Type:</b></br>* Data element from the newest event in the current program</br>* Data element from previous event</br>* Data element from the newest event for a program stage</br>* Tracked entity attribute</br>* Built-in variable</br>Key/Value Pair will be displayed ONLY in the indicators tab and NOT in the form.|
|Masquer l'étape du programme|Masque une étape entière du programme à l'utilisateur si la règle est vraie.|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|La règle d'action n'est prise en charge que pour<b> l'élément de données de l'événement le plus récent dans le type de programme actuel et les </b>variables d'attribut de l'entité suivie.|
|Envoyer un message|L'envoi d'un message déclenche une notification basée sur le modèle de message fourni. Cette action sera entreprise chaque fois qu'il y aura un changement dans la valeur des données. Toutefois, ce comportement peut être contrôlé en fournissant le statut d'inscription à l'événement dans l'expression de la règle du programme.|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|Cette fonction est exécutée au niveau du serveur.|
|Programmer un message|Programmer un message programme la notification à la date indiquée par Expression dans le champ de données.|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|Cette fonction est exécutée au niveau du serveur.|

## Règle de programme Actions prises en charge (Autres variables) { #capture_app_pr_pra_other }

| Action| Description d'une action| Élément de données de l'événement le plus récent du programme actuel (avec inscription)|Élément de données de l'événement le plus récent du programme actuel (sans inscription)| Élément de données de l'événement précédent (avec inscription) |Élément de données de l'événement précédent (sans inscription)| Élément de données de l'événement le plus récent pour une étape du programme (avec inscription)|Attribut d'entité suivie (avec inscription) |Notes relatives à la mise en œuvre|
|-|-----|:-:|:-:|:-:|:-:|:-:|:-:|-----|
|Masquer un champ|Masque un élément de données individuel si la règle est vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Masquer une section|Masque une section entière et ses éléments de données si la règle est vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Masquer une option|Masque une option unique pour un ensemble d'options dans un élément de données/attribut d'entité suivi donné. Lorsqu'elle est combinée avec <b>le groupe d'options afficher</b> , l'<b>option masquer </b>est prioritaire.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Masquer un groupe d'options|Masque toutes les options d'un groupe d'options donné et un attribut d'élément de données/d'entité suivie. Lorsqu'elle est combinée avec le groupe d'options afficher , l'option masquer est prioritaire.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Attribuer une valeur|Attribue une valeur à un élément de données ou à un attribut spécifié si la règle est vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|Pour évaluer un texte, celui-ci doit être placé entre apostrophes . Par exemple : '2+2' affichera le texte 2+2 et 2+2, sans les apostrophes, affichera 4.|
|Afficher un avertissement|Affiche une fenêtre d'avertissement à l'intention de l'utilisateur si la règle est vraie ; n'empêche pas l'utilisateur de continuer.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Avertissement à la fin|Affiche une fenêtre d'avertissement à l'intention de l'utilisateur si, au moment où il clique sur "completé", une règle est vraie ; cela n'empêche pas l'utilisateur de continuer.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Afficher une erreur|Affiche un message d'erreur à l'utilisateur dès qu'une règle est vraie et l'empêche de continuer jusqu'à ce que la règle ne soit plus vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|La règle permet à l'utilisateur de terminer l'inscription mais l'empêche de terminer les événements jusqu'à ce que la règle ne soit plus vraie. La valeur n'est pas enregistrée, cependant le texte n'est pas effacé afin que l'utilisateur puisse le corriger facilement.|
|Erreur à la fin|Affiche une fenêtre d'avertissement à l'intention de l'utilisateur si, au moment où il clique sur "completé", une règle est vraie ; cela n'empêche pas l'utilisateur de continuer.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)||
|Rendre un champ obligatoire|Définit un élément de données comme "obligatoire" si la règle est vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)||
|Afficher le texte (programmes d'événements)|Permet d'afficher des informations autres qu'une erreur ou un avertissement, par exemple un feedback.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)| Indépendamment du type de variable source, le texte sera affiché dans le formulaire en tant que dernier élément de la dernière section. Le texte sera affiché sous forme de messages dans l'onglet des indicateurs.|
|Afficher le texte (programmes tracker)|Permet d'afficher des informations autres qu'une erreur ou un avertissement, par exemple un feedback.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|<b>1. Règle de programme configurée comme "Règle de déclenchement uniquement pour l'étape du programme". </b>Le texte sera affiché UNIQUEMENT dans le formulaire en tant que dernier élément de la dernière section. Le texte sera affiché sous forme de messages dans l'onglet des indicateurs. </br>-> Si la règle de programme utilise un type de variable qui n'est pas de l'étape en cours, la règle ne pourra pas être évaluée et le message ne sera pas affiché.</br><b>2. règle de programme NON configurée comme "Règle de déclenchement uniquement pour l'étape de programme".</b> Le texte sera affiché UNIQUEMENT dans l'onglet des indicateurs et NON dans le formulaire.</br>--> Si la règle de programme utilise une variable de type Evénement en cours, la règle ne pourrra pas être évaluée et le message ne sera pas affiché.|
|Valeur de la touche d'affichage/paire (programmes d'événements)|Utilisé pour afficher des informations tirées d'un élément de données.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|<b>Variable Type:</b> </br>* Data element from the newest event in the current program</br>* Data element from previous event</br>* Data element in current event</br>* Built-in variable</br>Key/Value Pair will be displayed in the form ONLY in the specified section.|
|Valeur de la touche d'affichage/paire (programmes traker)|Utilisé pour afficher des informations tirées d'un élément de données.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-complete.png)|<b>1. Variable Type:</b></br>* Data element in current event</br>Key/Value Pair will be displayed in the form ONLY in the specified section.</br><b>2. Variable Type:</b></br>* Data element from the newest event in the current program</br>* Data element from previous event</br>* Data element from the newest event for a program stage</br>* Tracked entity attribute</br>* Built-in variable</br>Key/Value Pair will be displayed ONLY in the indicators tab and NOT in the form.|
|Masquer l'étape du programme|Masque une étape entière du programme à l'utilisateur si la règle est vraie.|![](/en/resources/images/admin/icon-complete.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-complete.png)|La règle d'action n'est prise en charge que pour <b>l'élément de données de l'événement le plus récent dans le</b>type de variable du programme actuel. Si l'événement est généré automatiquement, la règle ne s'applique pas.|
|Envoyer un message|L'envoi d'un message déclenche une notification basée sur le modèle de message fourni. Cette action sera entreprise chaque fois qu'il y aura un changement dans la valeur des données. Toutefois, ce comportement peut être contrôlé en fournissant le statut d'inscription à l'événement dans l'expression de la règle du programme.|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|Cette fonction est exécutée au niveau du serveur.|
|Programmer un message|Programmer un message programme la notification à la date indiquée par Expression dans le champ de données.|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|![](/en/resources/images/admin/icon-na.png)|Cette fonction est exécutée au niveau du serveur.|

## Fonctions à utiliser dans les expressions des règles du programme { #capture_app_pr_pre }

| Fonction   | Description de la fonction | Statut        | Notes relatives à la mise en œuvre |
| ---- | ----------------------------- | :----: | -- |
| d2:limite    | Arrondit l'argument d'entrée au niveau supérieur du nombre entier le plus proche.   | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:floor   | Arrondit l'argument d'entrée au niveau inférieur du nombre entier le plus proche. | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:round   | Arrondit l'argument d'entrée au nombre entier le plus proche.      | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:modulus | Produit le module en divisant le premier argument par le second.        | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:zing    | Évalue l'argument d'un numéro de type à zéro si la valeur est négative, sinon à la valeur elle-même.   | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:oizp    | Évalue l'argument du numéro de type à un si la valeur est zéro ou positive, sinon à zéro.        | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:concatenate      | Produit une chaîne concaténée à partir des paramètres d'entrée. Prend en charge un nombre illimité de paramètres.      | ![](/en/resources/images/admin/icon-complete.png)    |Utilisez la fonction d2:concatenate au lieu de "+", car l'évaluateur d'expression de l'application ajoutera des nombres s'il le peut.|
| d2:daysBetween      | Indique le nombre de jours entre le premier et le deuxième argument. Si la date du deuxième argument est antérieure à celle du premier argument, la valeur de retour sera le nombre négatif de jours entre les deux dates. Le format statique de la date est 'aaaa-MM-jj'.        | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:weeksBetween     | Indique le nombre de semaines complètes entre le premier et le deuxième argument. Si la date du deuxième argument est antérieure à celle du premier argument, la valeur de retour sera le nombre négatif de semaines entre les deux dates. Le format de la date statique est 'aaaa-MM-jj'. | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:monthsBetween    | Indique le nombre de mois entiers entre le premier et le deuxième argument. Si la date du deuxième argument est antérieure à celle du premier argument, la valeur de retour sera le nombre négatif de mois entre les deux dates. Le format statique de la date est 'aaaa-MM-jj'. | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:yearsBetween     | Indique le nombre d'années entre le premier et le deuxième argument. Si la date du deuxième argument est antérieure à celle du premier argument, la valeur de retour sera le nombre négatif d'années entre les deux dates. Le format statique de la date est 'aaaa-MM-jj'.       | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:addDays | Produit une date basée sur le premier argument qu'est la date, en ajoutant le deuxième argument qu'est le nombre de jours.    | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:count   | Compte le nombre de valeurs saisies pour le champ source dans l'argument.      | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:countIfValue     | Compte le nombre de valeurs correspondantes saisies pour le champ source dans le premier argument. Seules les occurrences correspondant au deuxième argument sont comptabilisées. | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:countIfZeroPos   | Compte le nombre de valeurs nulles ou positives saisies pour le champ source dans l'argument. Le paramètre du champ source est le nom de l'un des champs source définis dans le programme.      | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:hasValue         | Prend la valeur vrai si le champ source de l'argument contient une valeur, faux si aucune valeur n'est saisie.       | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:validatePattern  | Prend la valeur vrai si le texte saisi correspond exactement au motif de l'expression régulière fournie. L'expression régulière doit être esquivée.       | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:left    | Évalue la partie gauche d'un texte, en nombre de caractères à partir du premier caractère.     | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:right   | Évalue la partie droite d'un texte, en nombre de caractères à partir du dernier caractère.     | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:substring        | Évalue la partie d'une chaîne de caractères spécifiée par les numéros des caractères de début et de fin.     | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:split   | Répartie le texte en fonction du délimiteur et conserve le nième élément (0 est le premier).       | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:length  | Trouver la longueur d'une chaîne.     | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:zpvc    | Détermine le nombre de valeurs numériques nulles et positives parmi les arguments de l'objet donné. Peut être doté de tout nombre d'arguments.   | ![](/en/resources/images/admin/icon-complete.png)    | |
| d2:inOrgUnitGroup\* | Détermine si l'unité d'organisation actuelle fait partie du groupe d'arguments. L'argument peut être défini avec l'ID ou le code du groupe d'unités d'organisation. | ![](/en/resources/images/admin/icon-complete.png) | |
| d2:hasUserRole\** |Renvoie  vrai si l'utilisateur actuel joue ce rôle, sinon faux.| ![](/en/resources/images/admin/icon-complete.png) | |
| d2:zScoreWFA\*** |La fonction calcule le z-score sur la base des données fournies par l'indicateur de poids pour l'âge de l'OMS. Sa valeur varie entre -3,5 et 3,5 en fonction de la valeur du poids.| ![](/en/resources/images/admin/icon-complete.png) | Si vous indiquez un âge inférieur à 0 ou supérieur à 60, la règle du programme ne sera pas calculée. En outre, dans les tableaux de la WFA, le paramètre de l'âge est augmenté par paliers de 1. L'indication d'une fraction d'âge aura pour effet de réduire la valeur à zéro (2,3 mois → 2 mois).|
| d2:zScoreHFA\*** |La fonction calcule le z-score sur la base des données fournies par l'indicateur de la taille pour l'âge de l'OMS. Sa valeur varie entre -3,5 et 3,5 en fonction de la valeur du poids.| ![](/en/resources/images/admin/icon-complete.png) |Si vous indiquez un âge inférieur à 0 ou supérieur à 60, la règle du programme ne sera pas calculée. En outre, dans les tableaux de la HFA, le paramètre de l'âge est augmenté par paliers de 1. L'indication d'une fraction d'âge aura pour effet de réduire la valeur à zéro (2,3 mois → 2 mois). |
| d2:zScoreWFH\*** |La fonction calcule le z-score sur la base des données fournies par l'indicateur de poids pour la taille de l'OMS. Sa valeur varie entre -3,5 et 3,5 en fonction de la valeur du poids.| ![](/en/resources/images/admin/icon-complete.png) | Si vous indiquez une taille inférieure à 45 ou supérieure à 120, la règle du programme ne sera pas calculée. En outre, les tables de la WFH ont un paramètre de taille qui augmente par paliers de 0,5, l'indication d'une fraction de la taille aura pour effet de modifier la valeur (45.3 → 45 | 45.7 → 45.5).|

> **Note**
>
> * Available in DHIS2 v2.30
> ** Available in DHIS2 v2.31 and greater
> *** Available in DHIS2 v2.32 and greater

## Variables standard à utiliser dans les expressions des règles du programme { #capture_app_pr_standard_vars }

Disponible dans DHIS2 v2.30

| Variable     | Description de la fonction       | Statut | Notes relatives à la mise en œuvre |
| --- | -------------------------------------------- | :---: | -- |
| V{date_actuelle}       | Contient la date du jour lorsque la règle est exécutée. | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{date de_l'événement}         | Contient la date de l'événement en cours d'exécution. N'aura pas de valeur au moment où la règle est exécutée dans le cadre du formulaire d'enregistrement. | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{satut de_l'événement}         | Contient le statut de l'événement ou de l'inscription en cours. | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{due_date} \*        | Cette variable contient la date actuelle à laquelle la règle est exécutée. Remarque : cela signifie que la règle peut produire des résultats différents à des moments différents, même si rien d'autre n'a changé.     | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{nombre_d'événement}        | Contient le nombre total d'événements dans l'inscription.   | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{enrollment_date} \* | Contient la date d'inscription de l'inscription actuelle. N'a pas de valeur pour les programmes à événement unique.       | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{incident_date} \*   | Contient la date d'incident de l'inscription actuelle. N'a pas de valeur pour les programmes à événement unique.         | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{enrollment_id} \*   | Chaîne d'identification universelle (UID) de l'inscription en cours. N'aura pas de valeur pour les programmes à événement unique.   | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{identifiant de_l'événement}  | Chaîne d'identification universelle (UID) du contexte de l'événement en cours. N'aura pas de valeur au moment où la règle est exécutée dans le cadre du formulaire d'enregistrement.   | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{code de_l'unité d'organisation}       | Contient le code de l'unité d'organisation liée à l'inscription en cours. Pour les programmes à événement unique, le code de l'unité d'organisation de l'événement en cours sera utilisé à la place.  | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{environnement}        | Contient un code représentant l'environnement d'exécution actuel des règles. Les valeurs possibles sont "le WebClient", " l'AndroidClient" et "le Serveur". Peut être utilisé lorsqu'une règle de programme n'est censée s'exécuter que dans un ou plusieurs types de clients.    | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{identifiant de_l'étape du_programme}   | Contient l'ID de l'étape du programme en cours qui a déclenché les règles. Cette variable peut être utilisée pour exécuter les règles dans des étapes spécifiques du programme, ou pour éviter l'exécution dans certaines étapes. Lorsque les règles sont exécutées dans le contexte d'un formulaire d'enregistrement TEI, la variable est vide.   | ![](/en/resources/images/admin/icon-complete.png)      | |
| V{nom de_l'étape_du programme} | Contient le nom de l'étape du programme en cours qui a déclenché les règles. Cette variable peut être utilisée pour exécuter les règles dans des étapes spécifiques du programme, ou pour éviter l'exécution dans certaines étapes. Lorsque les règles sont exécutées dans le contexte d'un formulaire d'enregistrement TEI, la variable est vide. | ![](/en/resources/images/admin/icon-complete.png)      | |

> **Notes**
> 
> \* Only applies to tracker


## Différences entre les règles du programme dans la version web et la version Android{ #capture_app_pr_differences_web_android }

As the web and the Android application are currently using a different *program rule engine* there might be programs rule that work in one system and not in the other. In general terms it can be said that the Android *program rule engine* is more strict and so, some Program Rules that work in the web version of DHIS2 will fail in Android. This subsection describes the main differences and how to adapt the rules in order to have them working in both systems.

### Évaluation du type booléen { #capture_app_pr_differences_web_android_bool }


DHIS2 web version considers the type boolean as 0 or 1 (which can be evaluated to true or false), however Android evaluates them only as true or false. While this makes possible the addition of booleans in web, it will fail in Android; in order to fix this an additional *program rule variable* is needed to transform the boolean into an number that can be operated. Check the table below for examples and possible solutions.

Pour les exemples ci-dessous, considérez les éléments suivants :

* yn_prv1: est une variable de règle de programme qui a été configurée pour obtenir la valeur d'un élément de données "Oui/Non".
* yn_prv2: est une variable de règle de programme qui a été configurée pour obtenir la valeur d'un élément de données "Oui/Non".
* prv_booléen_un: est une variable de règle de programme qui a été configurée pour obtenir la valeur d'un éelément de données "Oui/Non".
* prv_booléen_deux: est une variable de règle de programme qui a été configurée pour obtenir la valeur d'un éelément de données "Oui/Non".
* prv_boolean_one_to_number : est une variable de règle de programme avec une valeur calculée
* prv_boolean_two_to_number : est une variable de règle de programme avec une valeur calculée
* Parfois, le terme "true" est utilisé comme condition d'une règle de programme, ce qui signifie que l'action est toujours exécutée.
* The following acronyms are used: 
    * ED (Élément de Données)
    * RP (Règle du Programme)
    * ERP (Expression de la Règle du Programme)
    * CRP (Condition de la Règle du Programme)
    * VRP (Variable de la Règle du Programme)
    * ARP (Action de la Règle du Programme)

| Condition(s) de la règle du programme | Actions(s) de la règle du programme | Version web | Version Android | Commentaire |
| ----------- | ----------- | :---: | :---: | ----- |
| d2:hasValue('yn_prv1') \|\| d2:hasValue('yn_prv2') | Attribuer une valeur fixe à l'ED | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | |
| #{yn_prv1} \|\| #{yn_prv2} | Attribuer une valeur fixe à l'ED | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | |
| d2:hasValue('yn_prv1') \|\| d2:hasValue('yn_prv2') | Attribuer une valeur fixe à l'ED: #{yn_prv1} + #{yn_prv2} + 1 | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-negative.png) | Crashes in Android  whenver a boolean is marked as the expression would result in *true*+*false*+1 |
| PR1: #{prv_boolean_one} <br /><br />PR2: #{prv_boolean_two} <br /><br />PR3: #{prv_boolean_one} \|\| #{prv_boolean_two} | PRA1. Assign value "1" to PRV "#{prv_bool_one_to_number}" <br /><br />PRA2. Assign value: "1" to PRV "#{prv_bool_two_to_number}" <br /><br />PRA3. Assign value to DE: "#{prv_bool_one_to_number} + #{prv_bool_two_to_number} + 1"| ![](/en/resources/images/admin/icon-negative.png) | ![](/en/resources/images/admin/icon-negative.png) | Il existe 2 variables pour les booléens, l'une obtient la valeur via une définition de la VRP "  formulaire de valeur de l'ED " et l'autre via une ARP. Si une variable booléenne n'est pas marquée, elle est comptée comme une chaîne de caractères au lieu d'un nombre. |
| Quatre RP pour attribuer 1 ou 0 aux booléens et un supplémentaire pour l'addition. Les priorités vont du haut vers le bas <br /><br />CRP1 : !d2:hasValue('prv_boolean_one') \|\| !#{prv_boolean_one} <br /><br />PRC2: d2:hasValue('prv_boolean_one') && #{prv_boolean_one}<br /><br />PRC3: !d2:hasValue('prv_boolean_two')  \|\| !#{prv_boolean_two} <br /><br />PRC4: d2:hasValue('prv_boolean_two') && #{prv_boolean_two} <br /><br />PRC5: true | PRA1: Assign value: "0" to PRV "#{prv_bool_one_to_number}" <br /><br />PRA2: Assign value: "1" to PRV "#{prv_bool_one_to_number}" <br /><br />PRA3: Assign value: "0" to PRV "#{prv_bool_two_to_number}" <br /><br />PRA4: Assign value: "1" to PRV "#{prv_bool_two_to_number}" <br /><br />PRA5: Assign value: "#{prv_bool_one_to_number} + #{prv_bool_two_to_number} + 1" to DE <br /> | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | Il y a 2 variables pour les booléens, l'une obtient la valeur via une définition de la VRP " formulaire de valeur de l'ED " et l'autre via une ARP.

### Évaluation des nombres{ #capture_app_pr_differences_web_android_numbers }


La version web de DHIS2 évalue les nombres d'une manière plus souple en transformant les valeurs entières en valeurs flottantes et vice-versa. Cela peut entraîner certains problèmes, comme l'expliquent les exemples ci-dessous.

#### Division of numbers { #division-of-numbers } 

Si cela est nécessaire pour une division, Web passera d'un nombre entier à un nombre flottant. Cependant, Android prend les nombres comme tels (littéralement et sans passer par une division), ce qui peut donner des résultats inattendus. Consultez le tableau ci-dessous pour des exemples et des solutions possibles.

| Condition(s) de la règle du programme | Actions(s) de la règle du programme | Version web | Version Android | Commentaire |
| ----------- | ----------- | :---: | :---: | ----- |
| vrai | Attribuer une valeur à l'ED: d2:daysBetween('2020-05-13', '2020-05-17') / 3 | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-negative.png) | L'utilisateur s'attendrait à ce que la division soit calculée comme 4/3 avec un résultat de 1,3333. Cependant, Android ne convertit pas 4 en flottant (4.0 comme le fait la version web), de sorte que le résultat dans Android est un pur 1 comme résultat de la division entière 4/3. |
| vrai | Attribuer une valeur à l'ED: d2:daysBetween('2020-05-13', '2020-05-17') / 3.0 | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | La division donne 1.33333 pour le web et l'Android. | 


#### Using the function validatePattern { #using-the-function-validatepattern } 

De la même manière, si un Élément de données du nombre saisi est utilisé, Android utilisera cette valeur comme un flottant (y compris les décimales), ce qui peut conduire à ce que la fonction Valider le motif ne fonctionne pas comme prévu.

Considérez ce qui suit :

* temperatue_prv: is a Program Rule Variable containing the value of the Data Element *temperature*.
* L'utilisateur saisit 38 dans l'élément de données.

| Condition(s) de la règle du programme | Actions(s) de la règle du programme | Version web | Version Android | Commentaire |
| ----------- | ----------- | :---: | :---: | ----- |
| !d2:validatePattern(#{temperature_prv},'\\\\{d}') | Erreur d'affichage si la valeur n'est pas de 2 chiffres | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-negative.png) | L'utilisateur s'attendrait à ce que la règle du programme n'affiche PAS d'erreur car 38 correspond au motif. Cependant, Android tente de valider le motif \\{d} par rapport à 38.0, et il affiche l'erreur. |
| !d2:validatePattern(#{temperature_prv},'(\\\\d{2}\|\\\\d{2}\\\\.\\\\d\|\\\\d{2}\\\\.\\\\d{2})$') | Erreur d'affichage si la valeur n'est pas de 2 chiffres | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | L'expression régulière utilisée ici correspondra à la fois aux nombres entiers et aux nombres flottants, ce qui lui permettra d'être évaluée correctement sur le web et sur Android et de ne pas afficher d'erreur. |

## Changements dans les règles du programme (à partir de la version 2.2 de l'application){ #capture_app_pr_changes }

In the version 2.2 of the application (released on August, 2020) a new rule-engine was included.  This rule-engine requires some optional and some mandatory changes to be performed on the program rules expressions in order to make it work in the new application. A list of those changes, how to detect them and how to fix them is included in the following subsections.

### Évaluation de 'd2:hasValue' { #capture_app_pr_changes_hasvalue }

#### Description { #description } 

This is an optional change. *d2:hasValue* now works with both single quotes or full variable expression. The following expressions is valid: `(d2:hasValue('variable_name') and d2:hasValue(#{variable_name}))`

#### How to identify via API? { #how-to-identify-via-api } 

Obtenir les règles de programme dont la condition ou l'action utilise la fonction d2:hasValue.

```
https://example.org/api/programRules?fields=program[name],name,programRuleActions[data],condition&filter=programRuleActions.data:like:hasValue&filter=condition:like:hasValue&rootJunction=OR
```

```xml
<programRule name="PR01 - Check variable with hasValue(#{variable})">
<condition>d2:hasValue(#{Âge en années})</condition>
<program name="JB_Testing_2.2"/>
<programRuleActions>
<programRuleAction/>
</programRuleActions>
</programRule>
<programRule name="PR01 - Check variable with hasValue('variable')">
<condition>d2:hasValue('Âge en années')</condition>
<program name="JB_Testing_2.2"/>
<programRuleActions>
<programRuleAction/>
</programRuleActions>
</programRule>
```

#### How to fix it? { #how-to-fix-it } 

L'exemple ci-dessus montre comment différentes manières d'utiliser la fonction hasValue auront le même effet à partir de la version 2.2. Il n'y a pas de changement obligatoire, mais gardez à l'esprit que lorsque vous écrivez de nouvelles règles de programme, la cohérence peut aider à éviter les problèmes.

### Évaluation d'une variable { #capture_app_pr_changes_eval_var }

#### Description { #description } 

This is a mandatory change. *!#{variable_name}* can only be used boolean type variables (BOOLEAN and TRUE_ONLY).

#### How to identify via API? { #how-to-identify-via-api } 

Obtenir des variables de règles de programme avec des éléments de données de type NON BOLÉEN ou VRAI_ UNIQUEMENT

```
https://example.org/api/programRuleVariables?fields=name&filter=dataElement.valueType:!in:[TRUE_ONLY,BOOLEAN]&paging=False
```

Obtenir toutes les conditions de programRule
```
https://example.org/api/programRules?fields=displayName,condition&paging=False
```

Check manually (or programmatically via a script) if in the list of programRule.conditions (obtained via the second API call) any of the program rules variables (obtained via the first API call) is being used. 

Par exemple, à partir de la première liste, nous obtenons :

```xml
<programRuleVariable name="AdditionalMedication"/>
<programRuleVariable name="age"/>
<programRuleVariable name="Age in years"/>
<programRuleVariable name="AgeYears"/>
<programRuleVariable name="allergies"/>
<programRuleVariable name="apgarcomment"/>
```

Nous pouvons faire une comparaison avec la seconde liste :

```xml
<programRule>
<condition>!#{Enceinte}</condition>
<displayName>PR03- !#{varible_name} - BOOLEEN</displayName>
</programRule>
<programRule>
<condition>!#{Age en années}</condition>
<displayName>PR03- !#{varible_name} - PAS BOOLEEN</displayName>
</programRule>
<programRule>
<condition>#{Statut de grossesse} != 'OUI'</condition>
<displayName>Statut de grossesse : faux</displayName>
</programRule>
```

Ceci montre qu'une variable NON BOLÉENNE est utilisée de manière erronée.

#### How to fix it? { #how-to-fix-it } 

Make sure that you are evaluating  BOOLEAN or TRUE_ONLY variables in your conditions. In case the program rule variable is not of that type update your program rule condition with d2:hasValue(#{variable_name}) or d2:hasValue(‘variable_name’)

Dans l'exemple ci-dessus, la condition doit passer de :

```xml
<condition>!#{Age en années}</condition>
```
à:
```xml
<condition>d2:hasValue(‘Age en années’)</condition>
```

### Evaluation des textes { #capture_app_pr_changes_eval_text }

#### Description { #description } 

Il s'agit d'un changement important. Dans les actions de règles de programme du type AFFECTER, AFFICHER LE TEXTE, AFFICHER LA PAIRE TOUCHE/VALEUR, AFFICHER L'AVERTISSEMENT, AFFICHER L'ERREUR, AVERTISSEMENT A LA FIN DU PROGRAMME ou ERREUR A LA FIN DU PROGRAMME, si l'expression à évaluer et à affecter/afficher est un texte, elle doit être encadrée par des apostrophes .

#### How to identify via API? { #how-to-identify-via-api } 

Obtenir les règles de programme dont les actions sont de type texte, avec quelque chose sur les données du champ et vérifier leur contenu pour trouver des chaînes sans apostrophes.

```
https://example.org/api/programRules?fields=program[name],name,programRuleActions[programRuleActionType,content,data]&filter=programRuleActions.programRuleActionType:in:[ASSIGN,DISPLAYTEXT,DISPLAYKEYVALUEPAIR,SHOWWARNING,SHOWERROR]&filter=programRuleActions.data:!null&paging=false
```

Par exemple, nous pouvons détecter ici une erreur de champ de texte sans apostrophes dans la première action de règle de programme, alors que la seconde est correcte.

```xml
<programRule name="PR04- !#{varible_name} - BOOLEAN - Assign text without quotes">
<program name="JB_Testing_2.2"/>
<programRuleActions>
<programRuleAction>
<programRuleActionType>SHOWWARNING</programRuleActionType>
<data>embarazada</data>
<content>PR04 text with quotes is: </content>
</programRuleAction>
</programRuleActions>
</programRule>
```

```xml
<programRule name="PR04- !#{varible_name} - BOOLEAN - Assign text with quotes">
<program name="JB_Testing_2.2"/>
<programRuleActions>
<programRuleAction>
<programRuleActionType>SHOWWARNING</programRuleActionType>
<data>'embarazada'</data>
<content>PR04 text with quotes is: </content>
</programRuleAction>
</programRuleActions>
</programRule>
```

#### How to fix it? { #how-to-fix-it } 

Analysez la liste générée (via les appels API suggérés) pour trouver les composants de données de l'action de règle de programme où le texte n'est pas cité, puis allez à chacune des règles de programme identifiées et mettez-les à jour.

### Concaténation de chaînes et d'objets { #capture_app_pr_changes_concat }

#### Description { #description } 

This is a mdantory change. In program rule actions of the type ASSIGN, DISPLAY TEXT, DISPLAY KEY/VALUE PAIR, SHOW WARNING, SHOW ERROR, WARNING ON COMPLETE or ERROR ON COMPLETE if the Expression to evaluate and assign/display is a text, it must be enclosed with single quotes (same as previous change); but, on top of that, if it requires to concatenate two strings or a combination of functions it is mandatory to use the *d2:concatenate* function.

#### How to identify via API? { #how-to-identify-via-api } 

Obtenir les règles du programme dont les actions sont de type texte, avec n'importe quel contenu sur les données du champ et vérifier leur contenu de données pour vérifier si la fonction d2:concatenate est utilisée dans le cas où deux ou plusieurs chaînes (ou autres objets) sont jointes.

Obtenez les règles de programme dont les actions sont de type texte et vérifiez le contenu de leurs données pour trouver des chaînes de caractères sans guillemets.

```
http://localhost:8034/api/programRules?fields=program[name],name,programRuleActions[programRuleActionType,content,data]&filter=programRuleActions.programRuleActionType:in:[ASSIGN,DISPLAYTEXT,DISPLAYKEYVALUEPAIR,SHOWWARNING,SHOWERROR]&filter=programRuleActions.data:!null&paging=false
```

Par exemple, nous pouvons détecter ici une erreur de deux chaînes de caractères dans une action sans utiliser d2:concatenate.

```xml
<programRule name="PR08- Assign text and variable without concatenate">
<program name="JB_Testing_2.2"/>
<programRuleActions>
<programRuleAction>
<programRuleActionType>AFFICHER L'AVERTISSEMENT</programRuleActionType>
<data>'L'âge est de 10 ans et le module est une autre chaîne.'</data>
<content>PR05 le texte sans concat est: </content>
</programRuleAction>
</programRuleActions>
</programRule>
```

#### How to fix it? { #how-to-fix-it } 

Analysez la liste générée (via les appels API suggérés) pour trouver les composants de données de l'action de règle de programme où deux objets ou plus sont concaténés et mettez-les à jour pour utiliser la fonction d2:concatenate.

Dans l'exemple ci-dessus, les données doivent passer de :

```xml
<data>'L'âge est de 10 ans et le module est une autre chaîne.'</data>
```
à:
```xml
<data>d2:concaténer('L'âge est de 10 ans et le module', 'une autre chaîne ')</data>
```



# Indicateurs de programme { #capture_app_program_ind }

Vous trouverez ci-dessous une liste complète de toutes les variables d'indicateurs de programme disponibles dans DHIS2, ainsi que des remarques sur leur implémentation ou non dans l'application de saisie Android.

Tout problème lié à l'utilisation d'une fonctionnalité particulière avec Android est signalé par un point d'exclamation.

|légende|Description|
|:--:|:------|
|![](/en/resources/images/admin/icon-complete.png)|Composante implémentée|
|![](/en/resources/images/admin/icon-incomplete.png)|Composant non implémenté (règle échouée) |
|![](/en/resources/images/admin/icon-na.png)|Non applicable|
|![](/en/resources/images/admin/icon-wip.png)|Travail en cours. La fonctionnalité n'est pas encore complètement implémentée (pour le moment) ou présente une attitude inattendue déjà signalée.|

## Fonctions courantes à utiliser dans l'expression d'un indicateur de programme ou d'un filtre{ #capture_app_program_ind_common_functions }

|Fonction|Description ;|Statut|Notes relatives à la mise en œuvre|
|-|-----|:-:|-----|
|si|Évalue l'expression booléenne et, si elle est vraie, renvoie la valeur vraie de l'expression, si elle est fausse, renvoie la valeur fausse de l'expression. Les arguments doivent respecter les règles pour toute expression d'indicateur.|![](/en/resources/images/admin/icon-complete.png)||
|isNull|Renvoie vrai si la valeur de l'élément est manquante (nulle), sinon faux.|![](/en/resources/images/admin/icon-complete.png)||
|isNotNull|Renvoie vrai si la valeur de l'élément n'est pas manquante (non nulle), sinon faux.|![](/en/resources/images/admin/icon-complete.png)||
|firstNonNull|RRenvoie la valeur du premier élément qui n'est pas manquant (non nul). Le nombre d'arguments peut être illimité. Tout argument peut également être un littéral numérique ou de chaîne, qui sera renvoyé si tous les objets précédents ont des valeurs manquantes.|![](/en/resources/images/admin/icon-complete.png)||
|plus grand|Renvoie la plus grande valeur (la plus élevée) des expressions données. Le nombre d'arguments n'a pas de limite.|![](/en/resources/images/admin/icon-complete.png)||
|moins|Renvoie la plus petite des valeurs des expressions données. Le nombre d'arguments n'a pas de limite.|![](/en/resources/images/admin/icon-complete.png)||

## (d2) Fonctions à utiliser dans l'expression d'un indicateur de programme ou d'un filtre { #capture_app_program_ind_d2_functions }

|Fonction|Description ;|Statut|Notes relatives à la mise en œuvre|
|-|-----|:-:|-----|
|addDays|Produit une date basée sur le premier argument qu'est la date, en ajoutant le deuxième argument qu'est le nombre de jours.|![](/en/resources/images/admin/icon-complete.png)||
|limit|Arrondit l'argument d'entrée au niveau supérieur du nombre entier le plus proche.|![](/en/resources/images/admin/icon-complete.png)||
|condition|Évalue l'expression booléenne et, si elle est vraie, renvoie la valeur vraie de l'expression, si elle est fausse, renvoie la valeur fausse de l'expression . L'expression conditionnelle doit être citée. Les arguments vrai-expr et fausse-expr doivent suivre les règles de toute expression d'indicateur de programme (y compris les fonctions).|![](/en/resources/images/admin/icon-complete.png)||
|compter|Compte le nombre de valeurs de données qui ont été collectées pour l'étape du programme et l'élément de données donnés au cours de l'inscription. L'élément de données de l'argument est fourni avec la syntaxe #{programStage.dataElement}.|![](/en/resources/images/admin/icon-complete.png)||
|countIfCondition|Compte le nombre de valeurs de données qui correspondent aux critères de condition donnés pour l'étape du programme et l'élément de données indiqués au cours de l'inscription. L'élément de données de l'argument est fourni avec la syntaxe #{programStage.dataElement}. La condition est fournie sous la forme d'une expresssion entre guillemets|![](/en/resources/images/admin/icon-complete.png)||
|countIfValue|Compte le nombre de valeurs de données qui correspondent à la valeur littérale donnée pour l'étape du programme et l'élément de données indiqués au cours de l'inscription. L'élément de données de l'argument est fourni avec la syntaxe #{programStage.dataElement}. La valeur peut être un texte ou un nombre codé en dur.|![](/en/resources/images/admin/icon-complete.png)||
|countIfZeroPos|Compte le nombre de valeurs nulles ou positives saisies pour le champ source dans l'argument.|![](/en/resources/images/admin/icon-complete.png)||
|daysBetween|Produit le nombre de jours entre deux éléments de données/attributs sur le modèle de la date.|![](/en/resources/images/admin/icon-complete.png)||
|floor|Arrondit l'argument d'entrée au niveau inférieur du nombre entier le plus proche.|![](/en/resources/images/admin/icon-complete.png)||
|hasUserRole|Renvoie  vrai si l'utilisateur actuel joue ce rôle, sinon faux.|![](/en/resources/images/admin/icon-complete.png)||
|hasValue|Renvoie vrai si l'élément/attribut de données a une valeur.|![](/en/resources/images/admin/icon-complete.png)||
|inOrgUnitGroup|Détermine si l'unité d'organisation actuelle fait partie du groupe d'arguments. L'argument peut être défini avec l'ID ou le code du groupe d'unités d'organisation.|![](/en/resources/images/admin/icon-complete.png)||
|gauche|Évalue la partie gauche d'un texte, en nombre de caractères à partir du premier caractère.|![](/en/resources/images/admin/icon-complete.png)||
|longueur|Trouver la longueur d'une chaîne.|![](/en/resources/images/admin/icon-complete.png)||
|minutesBetween|Produit le nombre de minutes entre deux éléments de données/attributs de type "date et heure".|![](/en/resources/images/admin/icon-complete.png)||
|modulus|Produit le module en divisant le premier argument par le second.|![](/en/resources/images/admin/icon-complete.png)||
|monthsBetween|Produit le nombre de mois entiers entre le premier et le deuxième argument.|![](/en/resources/images/admin/icon-complete.png)||
|oizp|Renvoie un si l'expression est nulle ou positive, sinon renvoie zéro.|![](/en/resources/images/admin/icon-complete.png)||
|relationshipCount|Produit le nombre de relations du même type qui sont liées à l'affiliation ou à l'événement. Si aucun type n'est indiqué, tous les types sont comptés.|![](/en/resources/images/admin/icon-incomplete.png)||
|droite| Évalue la partie droite d'un texte, en nombre de caractères à partir du dernier caractère.|![](/en/resources/images/admin/icon-complete.png)||
|Arrondir| Arrondit l'argument d'entrée au nombre entier le plus proche.|![](/en/resources/images/admin/icon-complete.png)||
|Diviser|RRépartie le texte en fonction du délimiteur et conserve le nième élément (0 est le premier).|![](/en/resources/images/admin/icon-complete.png)||
|substring|Évalue la partie d'une chaîne de caractères spécifiée par les numéros des caractères de début et de fin.|![](/en/resources/images/admin/icon-complete.png)||
|validatePatten|Prend la valeur " vrai " si le texte saisi correspond exactement au motif de l'expression régulière fournie.|![](/en/resources/images/admin/icon-complete.png)||
|weeksBetween|Produit le nombre de semaines complètes entre deux éléments de données/attributs de type date.|![](/en/resources/images/admin/icon-complete.png)||
|yearsBetween|Produit le nombre d'années entre le premier et le deuxième argument.|![](/en/resources/images/admin/icon-complete.png)||
|zing|Retourne à zéro si l'expression est négative, sinon retourne à la valeur de l'expression.|![](/en/resources/images/admin/icon-complete.png)||
|zpvc|Détermine le nombre de valeurs numériques nulles et positives parmi les arguments de l'objet donné.|![](/en/resources/images/admin/icon-complete.png)||

## Variables à utiliser dans une expression ou un filtre d'indicateur de programme { #capture_app_program_ind_variables }


| Type de variable| Description du type de variable|Statut|Notes relatives à la mise en œuvre|
|-|-----|:-:|-----|
|Date de l'évenement <br />évenement_date|La date à laquelle l'événement a eu lieu.|![](/en/resources/images/admin/icon-complete.png)||
|Creation Date* <br />creation_date|La date de création d'un événement ou d'une affiliation dans le système.|![](/en/resources/images/admin/icon-complete.png)||
|Date limite<br />date_limite|La date à laquelle un événement est prévu.|![](/en/resources/images/admin/icon-complete.png)||
|Date de synchronisaton\*<br />syncronisation_date|Date de la dernière synchronisation de l'événement ou de l'inscription avec l'application Android.|![](/en/resources/images/admin/icon-incomplete.png)||
|Date de l'incident<br />incident_date|la date de l'incidence de l'événement.|![](/en/resources/images/admin/icon-complete.png)||
|Date d'inscription (non visible sur UI)<br />enrollment_date|La date à laquelle l'instance de l'entité suivie a été inscrite au programme.|![](/en/resources/images/admin/icon-complete.png)||
|Statut de l'inscription<br />enrollment_status|Peut être utilisé pour inclure ou exclure des affiliations dans certains statuts.|![](/en/resources/images/admin/icon-complete.png)||
|Date du jour<br />current_date|La date du jour.|![](/en/resources/images/admin/icon-complete.png)||
|Date de fin|La date à laquelle l'événement est terminé.|![](/en/resources/images/admin/icon-complete.png)||
|Nombre de valeurs<br />value_count|Le nombre de valeurs non nulles dans la partie expression de l'événement.|![](/en/resources/images/admin/icon-complete.png)||
|Nombre de valeurs nulles ou positives<br />zero_pos_value_count|Le nombre de valeurs numériques positives dans la partie expression de l'événement.|![](/en/resources/images/admin/icon-complete.png)||
|Nombre d'événements<br />event_count|Le nombre d'événements (utile en combinaison avec les filtres).|![](/en/resources/images/admin/icon-complete.png)||
|Nombre d'inscription<br />enrollment_count|Le nombre d'inscriptions (utile en combinaison avec les filtres).|![](/en/resources/images/admin/icon-complete.png)|Les indicateurs de l'application Android sont calculés dans le domaine d'une inscription TEI. La valeur est toujours 1.|
|Nombre de TEI<br />tei_count|Le nombre d'instances d'entités suivies (utile en combinaison avec les filtres).|![](/en/resources/images/admin/icon-na.png)|Les indicateurs de l'application Android sont calculés dans le domaine d'une inscription TEI. La valeur est toujours 1.|
|Nom de l'étape du programme<br />program_stage_name|Peut être utilisé dans les filtres pour inclure uniquement certaines étapes du programme dans un filtre pour les programmes tracker.|![](/en/resources/images/admin/icon-incomplete.png)||
|ID de l'étape du programme<br />program_stage_id|Peut être utilisé dans les filtres pour inclure uniquement certaines étapes du programme dans un filtre pour les programmes tracker.|![](/en/resources/images/admin/icon-incomplete.png)||
|Début de la période de déclaration<br />reporting_period_start|Peut être utilisé dans des filtres ou des expressions pour comparer une date quelconque à la première date de chaque période de déclaration.|![](/en/resources/images/admin/icon-na.png)|Les indicateurs de l'application Android sont calculés dans le domaine d'une inscription au TEI.|
|Fin de la période de déclaration<br />reporting_period_end|Peut être utilisé dans des filtres ou des expressions pour comparer une date quelconque à la dernière date incluse dans chaque période de déclaration.|![](/en/resources/images/admin/icon-na.png)|Les indicateurs de l'application Android sont calculés dans le domaine d'une inscription au TEI.|
|Nombre d'unités d'organisation<br />organisationunit_count|.|![](/en/resources/images/admin/icon-na.png)||

[Documentation Référence](https://docs.dhis2.org/master/en/user/html/configure_program_indicator.html%23program_indicator_functions_variables_operators&sa=D&ust=1557433016643000)



# Types de valeur pris en charge { #capture_app_value_types }

Vous trouverez ci-dessous une liste complète de tous les types de valeurs disponibles dans DHIS 2, ainsi que des remarques sur leur mise en œuvre ou non dans l'application de saisie Android.

Tout problème lié à l'utilisation d'une fonctionnalité particulière avec Android est signalé par un point d'exclamation\!.

|Légende|Description ;|
| :-: | :------ |
| ![](/en/resources/images/admin/icon-complete.png) | Type de valeur mis en œuvre |
| ![](/en/resources/images/admin/icon-incomplete.png) | Type de valeur non appliqué, mais ignoré en toute sécurité (s'il n'est pas obligatoire) |
| ![](/en/resources/images/admin/icon-wip.png) | Travail en cours. La fonctionnalité n'est pas encore complètement implémentée ou présente une attitude inattendue déjà signalée. |


| le type de valeur ; | Description du type de valeur | Programme avec inscription | Programme avec inscription | Programme sans inscription | Ensemble de données| Notes relatives à la mise en œuvre |
| :--| :----|:-:|:-:|:-:|:-:|:--|
| | | **Attributs** | **Éléments de données** | **Éléments de données** | **Éléments de données** | |
| Heure | Heure uniquement | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-complete.png) | |
| Date & heure | Date et heure | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| Date | Date uniquement | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | |
| Âge | Permet de saisir soit un âge en années/mois/jours, soit une date de naissance (les deux sont stockés sous forme de date de naissance). | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-complete.png) | |
| Numéro de téléphone | Numéro de téléphone valide | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-complete.png) | |
| Adresses électronique | Une adresse électronique sous un format valide | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-complete.png) | |
| oui/non | Booléen oui/non (ou pas de réponse) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| Oui uniquement | réponse de oui ou non | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| Nombre | tout nombre valid y compris les décimaux | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| Entier | Tout entier (nombres entiers, sans décimales) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| Entier positif | Uniquement des entiers positifs (pas de zéro ni de valeurs négatives) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| Entier positif ou zéro | Uniquement zéro ou des entiers positifs (pas de valeurs négatives) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| Entier négatif | Uniquement des entiers négatifs (pas de zéro ni de valeurs positives) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-complete.png) | |
| Pourcentage | Toute valeur décimale comprise entre 0 et 100 | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| Intervalle unité | Toute valeur décimale comprise entre 0 et 1 | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-complete.png) | |
| Texte | Texte (longueur du texte pouvant atteindre 50 000 caractères) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-complete.png) | |
| Multi_Text (New in 3.0) | Option set for multiple choice | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-incomplete.png) | |
| Texte long | Texte (aucune contrainte quant à la longueur) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-complete.png) | |
| Lettre | Une seule lettre | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| Fichier | Permet de télécharger des fichiers dans différents formats (nécessite la configuration d'un espace de stockage approprié) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-incomplete.png) | |
| Unité d’organisation | Permet la sélection d'une unité d'organisation DHIS2 comme valeur choisie | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |  ![](/en/resources/images/admin/icon-incomplete.png)| |
| Chargé de suivi | Permet de sélectionner une instance existante, "instance d'entité suivie" (par exemple une personne) comme valeur. | ![](/en/resources/images/admin/icon-incomplete.png) | ![](/en/resources/images/admin/icon-incomplete.png) | ![](/en/resources/images/admin/icon-incomplete.png) | ![](/en/resources/images/admin/icon-incomplete.png) | |
| Nom d'utilisateur | Permet la sélection d'un nom d'utilisateur valide de DHIS2 comme valeur | ![](/en/resources/images/admin/icon-wip.png) | ![](/en/resources/images/admin/icon-wip.png) | ![](/en/resources/images/admin/icon-wip.png) |  ![](/en/resources/images/admin/icon-incomplete.png) | |
| Coordonnée | Permet la saisie manuelle des coordonnées géographiques (ne permet pas la saisie automatique des coordonnées) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png)| |
| URL | Permet la saisie manuelle d'un URL. | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) |![](/en/resources/images/admin/icon-complete.png) | |
| Image | Permet le chargement des images. | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-complete.png) | ![](/en/resources/images/admin/icon-incomplete.png) | |




# Android Settings WebApp { #capture_app_android_settings_webapp }
## Aperçu { #capture_app_android_settings_webapp_overview }

Cette section se focalise sur l'implémentation de [Android Settings Web App](https://apps.dhis2.org/app/a1bd6b5b-de8c-4998-8d34-56c18a139683).


[Android Settings Web App] (https://apps.dhis2.org/app/a1bd6b5b-de8c-4998-8d34-56c18a139683) permet aux administrateurs de configurer les paramètres de synchronisation de l'application Android de DHIS2, de crypter la base de données locale des appareils Android, de personnaliser l'aspect des programmes, des ensembles de données et de l'écran d'accueil, et d'ajouter des outils d'analyse des TEI. Les paramètres de configuration définis dans cette application Web écraseront les paramètres de tous les appareils Android utilisant l'application de Saisie Android de DHIS2.

Please note that in this version of the Web App (2.3), if the DHIS2 version is equal to or higher than 2.40, only users with "M_androidsettingsapp" or "ALL" authority can define those parameters in the configuration. Other users accessing the web app can see the value of the parameters but cannot edit them.

> **Warning**
>
> If the DHIS2 version is not above 2.40, only users with 'ALL' authority can define those parameters in the configuration.
> 


## Paramètres généraux { #capture_app_android_settings_webapp_general }

Elles incluent des configurations telles que l'URL Matomo et l'identifiant du projet, le nombre de valeurs réservées à télécharger par TEI, et crypte la base de données de l'appareil.

![](resources/images/capture-app-general-settings.png)

### Matomo configuration { #capture_app_android_settings_webapp_general_matomo }

The DHIS2 Android App sends anonymize analytics that can be used to evaluate performance and/or detect problems at an early stage. [Matomo](https://matomo.org) is the tool used for this and running in a specific server not accessible to the general public. However, implementations can set up their own
 Matomo instance (or using the cloud version) in order to collect and analyse the statistics. 

Once you have your Matomo instance ready you should get the URLs and the project ID like shown in the picture below (left). The ID can be introduced directly but the URL needs to be followed with */matomo.php* and start with *https* or *http* as shown below (right).

![](resources/images/capture-app-matomo-instance.png){width=33%}
![](resources/images/capture-app-matomo-settings.png){width=33%}


### Mobile configuration { #capture_app_android_settings_webapp_generalmobile_configuration }
This section allows admin users to edit the SMS gateway ad result sender phone number.
This configuration can be found in the Android app.
- Cliquez sur Paramètres
- Cliquez sur Paramètres de SMS

![](resources/images/capture-app-sms-settings.png){largeur=33%}

### Reserved values { #capture_app_android_settings_webapp_general_reserved_values }
Cette fonction permet de spécifier le nombre de valeurs par attribut de TEI réservées à télécharger sur les appareils. Par défaut, l'application Android réserve 100 identifiants, mais il est possible d'augmenter ou de réduire ce nombre.

Pour retrouver cette configuration dans l'application Android :
- Cliquez sur Paramètres
- Cliquez sur Valeurs réservées
- To refill them click on *Manage Reserved Values*

![](resources/images/capture-app-reserved-values.png){width=33%}
![](resources/images/capture-app-reserved-values-refill.png){width=33%}

### Encrypt device database { #capture_app_android_settings_webapp_general_encrypt_database }
Tous les appareils devront stocker la base de données cryptée, augmentant ainsi le niveau de sécurité contre les tentatives de vol de données.

By default, the DHIS2 Android App database is not encrypted, but an admin can check the *Encrypt device database* to encrypt the metadata and data stored in every device. Encrypting the database will have an impact on the database volume and performance (degradation between 10-15%) of the Android app. Note that at the moment of selecting or unselecting this option, no data is lost (even if it hasn't been previously synchronized with the server)

> **Warning**
>
> This is a critical action and will affect the local database of all Android devices synchronizing with the server (it won't affect the server DHIS2 database).
>
> By default, the Android app database is not encrypted, but an admin can check the *Encrypt device database* to encrypt the metadata and data stored in every device. Encrypting the database will have an impact on the database volume and performance of the Android app. Note that at the moment of selecting or unselecting this option, no data is lost (even if it hasn't been previously synchronized with the server)

### Allow screenshots { #capture_app_android_settings_webapp_general_screenshots }
This section allows to configure the possibility to take screenshots or screen sharing using the Android Capture App (which is required to remote support with applications like Teamviewer, Teams, etc.). Please note that the default behavior is deactivated screenshots.

> **Warning**
>
> The DHIS2 Android App disables the possibility of taking screenshots (and capturing the screen from other apps) by default following security and privacy recommendations. Allowing screenshots might be useful for support and/or sharing purposes in same cases but make sure you understand the security and privacy implications of this setting before enabling it.
>


### Skip DHIS2 version validation (**New 2.4**) { #capture_app_android_settings_webapp_general_skip_version_validation }
When connecting to DHIS2 instances, the app typically verifies compatibility with supported versions. However, in some cases, connecting to unsupported instances may be necessary or useful. Please note that the default behavior is to enforce strict version validation. To skip the validation process for DHIS2 version compatibility, select the checkbox.

![](resources/images/capture-app-skip-version-validation.png)

> **Warning**
>
> This option is only applicable when using Android Capture app version 3.0 or later.
>


### Opt-in Features (**v2.3.1**) { #capture_app_android_settings_webapp_general_optin_features }
Opt-in features are additional functionalities or settings within the application that the user can choose to enable based on preferences. Unlike default settings, these features require an explicit consent or action ('opting in') to activate.
Opting in allows the user to customize the experience by adding extra capabilities to the app. Keep in mind that these features might come with specific considerations, so it is recommended to review any associated information before opting in.

To enable a feature:

- Click on *Opt-in Features*. 
- A list of available opt-in settings will appear.
- Click on the feature's checkbox to enable it.

**Data entry Form (**New 2.4**):** The inputs for all value types have been redesigned in the Android Capture App with an improved selection mode and increased tappable areas and texts to offer a cleaner and more intuitive user experience. By default, the Android Capture App will display the new forms. Admin users can opt out of using the new version of forms by clicking the checkbox option.

![](resources/images/capture-app-optin-features.png)

### Disable all settings { #capture_app_android_settings_webapp_general_disable_settings }
En cliquant sur ce bouton, l'utilisateur supprimera tous les paramètres de configuration Android. De ce fait, aucune configuration ne sera appliquée à l'application Android (si tel est le cas, les paramètres de synchronisation appliqués sont ceux définis dans l'application de Saisie Android).


## Synchronisation { #capture_app_android_settings_webapp_synchronization }

Cette fonction propose des paramètres supplémentaires pour contrôler la synchronisation des métadonnées et/ou des données.


### Général{ #capture_app_android_settings_webapp_synchronization_global }

Metadata sync
:   Admin users can choose how often the metadata will sync. e.g. Sync metadata every 24 hours.

Data sync
:   Admin users can choose how often the data will sync. e.g. Syncing data every 6 hours.

![](resources/images/capture-app-sync-global.png){width=50%}
![](resources/images/capture-app-sync-global-app.png){width=33%}


Use the new Tracker Importer
:   Admin users can choose which tracker importer endpoint will be used.

> **Warning**
>
> This option is only available if the Android Settings Webapp is used from version 2.38 DHIS2 API onwards.
>
> By default, if the DHIS2 API version is 2.38 or higher, the Android app will use the importer introduced in 2.37 */api/tracker* endpoint but an admin can deselect this option and the legacy tracker importer */api/trackedEntityInstances* will be used.
> 
> ![](resources/images/capture-app-sync-global-importer.png){width=50%}
>

Use the new Tracker Exporter (**v2.3**)
:   Admin users can choose which tracker exporter endpoint will be used.

> **Warning**
>
> This option is only available if the Android Settings Webapp is used from version 2.40 DHIS2 API onwards. 
> 
> By default, if the DHIS2 API version is 2.40 or higher, the Android app will use the exporter introduced in the 2.37 */api/tracker* endpoint, but an admin can deselect this option, and the legacy tracker importer */api/trackedEntityInstances* will be used.
>
>
> ![](resources/images/capture-app-sync-global-exporter.png){width=50%}
>

Limit the file size to download (**v2.3**)
:   Admin users can limit the maximum size of the file resources downloaded in KB.

![](resources/images/capture-app-sync-download-file-size.png){width=33%}



### Programme { #capture_app_android_settings_webapp_synchronization_program }

Cette section contrôle les paramètres de synchronisation de données du programme. Il possède une section permettant de définir les paramètres généraux ou par défaut qui seront utilisés lors de la synchronisation de tous les programmes.

#### Paramètres généraux{ #capture_app_android_settings_webapp_synchronization_program_global }

Les paramètres généraux s'appliquent à tous les programmes auxquels les utilisateurs de l'application Android ont accès. Les paramètres peuvent être activés de façon générale, par unité d'organisation, par programme ou par unité d'organisation et programme.

![](resources/images/capture-app-program-global-settings.png){width=50%}

TEI to download
:   Maximum number of TEIs to download from the server.

TEI download period
:   It downloads the TEIs that have been updated within a period. e.g. TEIs that have been updated within last month

Event to download
:   Maximum number of Events to download (from events programs, see note below).

Event download period
:   It downloads Events which event date belongs to a specific period.

> **Note**
>
> User might find misleading the amount of data downloaded When setting a number of TEIs and a number of Event. The Android App will download the number of TEIs and all their events following the number of TEI set in the field. The Android App will limit the number of Event to download only for the *event programs* (and not *tracker programs*) according to the field. 
>
> For example, imagine there is *tracker program* in the server with several program stages and each TEI has 5 events (enrollments and program stages). The *TEI to download* value is set to 100. Also, in the server there is an *event program* which contains 1000 events. The *Event to download* value has been set to 200. The Android App will download the following: 100 x 5 events from the tracker program, 200 events from the event program, therefore the Android App will end up downloading 700 events.
>


#### Paramètres spécifiques { #capture_app_android_settings_webapp_synchronization_program_specific }

Cette section permet aux utilisateurs administrateurs de spécifier le comportement d'un ou de plusieurs programmes particuliers lors de la synchronisation des données. La configuration spécifique écrase les paramètres généraux des programmes répertoriés dans cette section. Pour ajouter un paramètre à un programme spécifique :

- Click on *Add a Program-specific setting*, a Dialog will appear. 
- Cliquez sous le titre "Valeurs par programme" et vous aurez une liste de programmes.
- Clicking on a program will show the different parameters to configure. The number of parameters depends on the program type (with or without registration). 

**Paramètres des programmes sans enregistrement**

![](resources/images/capture-app-program-specific-dialog-without_registration.png){largeur=50%}

**Paramètres des programmes avec des enregistrements**

![](resources/images/capture-app-program-specific-dialog-with_registration.png){largeur=50%}

Si des paramètres spécifiques ont été enregistrés, un tableau en présentera un résumé avec la configuration propre à chaque programme ainsi que les options pour modifier ou supprimer ces paramètres.

![](resources/images/capture-app-program-specific-table.png){largeur=50%}

> **Caution**
>
> Using specific settings per program might have unexpected results in the number of TEIs downloaded and the total amount might exceed the one defined in the Global Settings. This is due to how the application download the TEIs from the server. The Android client will first download a max number of TEIs from the server based on the Organisation Units where the user has access and based on the lastUpdate field. Afterwards it will download a max number of TEIs from the specific programs. Therefore, if the TEIs downloaded from the Global setting (500 in the example above) have been updated more recently than any of the TEIs from a specific program (500 for Malaria case diagnosis, treatment and investigation) the Android client will end up downloading 1000 TEI.
> 
> This might look confusing at first, but once understood can be used to ensure a minimum (and maximum) number of TEIs for a specific program will be downloaded which can be very useful in specific implementations.
>
> Imagine an implementation where it must be ensured that the Android user has all the TEIs of a specific program in a server where the same user has access to other Organisation Units where other TEIs might be enrolled in another program. The program is called Community Care, and it has 17 TEIs which have been updated very long time ago. The administrator can ensure that the 17 TEIs will be downloaded by setting anything in Global Settings (if needed to reduce bandwidth a very low value should be set) and an at least 17 for the specific program as show in the image below:
>
> ![](resources/images/capture-app-program-specific-example-web.png){width=50%}
>
> When the initial synchronization is triggered the Android device will first download the last TEIs updated on the server (which according to our example do not belong to the specific program) and secondly up to 20 TEI from the specific program resulting in the following (notice all the TEIs for the program were downloaded):
>
> ![](resources/images/capture-app-program-specific-example-mobile1.png){width=33%}
>
> And by going to the settings it can be appreciated how the total number of TEIs is the expected 37, 20 from the Global Setting, and 17 from the program specific.
>
> ![](resources/images/capture-app-program-specific-example-mobile2.png){width=33%}
>

#### Réinitialiser toutes les valeurs { #capture_app_android_settings_webapp_synchronization_program_reset_all }

By clicking on *Reset all values*, the admin user will restore the default settings values of the program section. Please note that in this case it means no specific settings per program. 

To save any configuration, the admin user needs to click on the *Save* button (this button is disabled for the users who don't have "ALL" or "M_androidsettingsapp" authority)


### Ensemble de données { #capture_app_android_settings_webapp_synchronization_data }

Cette section contrôle les paramètres de synchronisation des données agrégées.

#### Paramètres généraux{ #capture_app_android_settings_webapp_synchronization_data_global }

The first part is for global settings that apply to all data sets an Android user has access to. 

![](resources/images/capture-app-dataset-global-settings.png){largeur=50%}

Le nombre maximal de périodes définit le nombre de périodes passées que l'application va télécharger lors du processus de synchronisation des données.

Si un ensemble de données contient des périodes futures (configuration "périodes futures ouvertes"), l'application ne les prendra pas en compte dans la restriction des périodes à télécharger.

Par exemple, dans un ensemble de données avec "périodes futures ouvertes" = 2 et "nombre maximal de périodes à télécharger" = 1, l'application téléchargera 3 périodes.

#### Paramètres spécifiques { #capture_app_android_settings_webapp_synchronization_data_specific }

Pour ajouter un paramètre spécifique :

- Click on *Add a Data set specific setting*, a dialog with a list of data sets will appear. 
- Cliquez sur un ensemble de données pour compléter automatiquement ce champ avec la valeur par défaut en fonction du type de période de l'ensemble de données.

![](resources/images/capture-app-dataset-specific-dialog.png){largeur=50%}

![](resources/images/capture-app-dataset-specific-table.png){largeur=50%}


### Test de synchronisation de l'utilisateur { #capture_app_android_settings_webapp_synchronization_user_sync_test }

This section checks the amount of data and metadata a user would sync to his/her device. You can run this test on any user that you have access to. This test shows up the number of organisation units, data sets, program rules, programs, etc., that an android user has access to (so the resources that the android app will download), and the metadata and data download size (approx estimation). Please note that a user doesn't need to have the "ALL" or "M_androidsettingsapp" authority to run this test.

![](resources/images/capture-app-user-sync-test.png){largeur=50%}

> **Note:** 
>
> The values that are highlighted in red are because the value is considered greater than the maximum recommended value.


## Apparence { #capture_app_android_settings_webapp_appearance }

Ces paramètres permettent de contrôler l'aspect des formulaires de saisie de données et de listes.

- Filtre : il définit les filtres qui peuvent être activés dans les différents menus de l'application.
- Spinner d'achèvement : il active/désactive le spinner d'achèvement, lequel montre la progression des entrées de données dans les formulaires.

These settings refer to visual components, so they must be consumed by the app.
For more information about filters feel free to review filters [documentation](https://docs.dhis2.org/en/use/android-app/android-specific-features.html#capture_app_generic_filter). 

### Écran d'accueil { #capture_app_android_settings_webapp_appearance_home_screen }

Il permet à l'utilisateur administrateur d'activer ou de désactiver l'option d'affichage des filtres liés à la date, à l'unité d'organisation, à l'état de la synchronisation et à l'utilisateur lui-même, sur l'écran d'accueil.

![](resources/images/capture-app-appearance-home.png){largeur=75%}


### Programme { #capture_app_android_settings_webapp_appearance_program }

Program appearance allows to hide/show features within the program according to the configuration needs. These changes can happen globally, applying to ALL the programs, or specifically to a single one.

#### Paramètres généraux { #capture_app_android_settings_webapp_appearance_program_global }

Les paramètres généraux s'appliquent à tous les programmes auxquels un utilisateur de l'application Android a accès.

![](resources/images/capture-app-appearance-program-global.png){largeur=75%}

Percentage (%) complete in Program: 
Enable or disable the option to show the completion percentage of the data entry form.

TEI referrals (**v2.3.1**): 
It allows to switch off/on the TEI referral option.

Collapse sections in form (**v2.3.1**):  
Current behavior lets the sections collapse and expand in an accordion style. This option overrides the behavior by keeping all the sections of the form (registration and events) open and removing the "next" button in each section. 


#### Paramètres spécifiques { #capture_app_android_settings_webapp_appearance_program_specific }

This section allows the admin user to customize features such as filter, completion percentage, mandatory search, referrals, TEI headers, referral options and collapse sections in form. Each explained in the section below.

Pour ajouter un paramètre spécifique :

- Click on *Add a Program Settings*, and a dialog will appear.
- Cliquez sur le menu déroulant ; il affichera une liste de programmes.
- Lorsque vous cliquez sur un programme, les différents filtres à configurer seront affichés. Le filtre de la combinaison de catégorie dépend du nom de la combinaison de catégorie.

![](resources/images/capture-app-appearance-program-specific.png){largeur=75%}

![](resources/images/capture-app-appearance-program-specific-advanced.png){width=75%}

TEI without searching:
Offer online and offline search, as well as allow the user to create a TEI without a prior search.

TEI Header (**v2.3.1**):
Assign a specific attribute or expression that will be displayed as a header in TEI cards. 

To add a TEI Header:

- Select a Program Indicator
- An expression related to the program indicator will be displayed

![](resources/images/capture-app-appearance-program-specific-tei-header.png)


> **Note:**
>
> A notice box will be displayed if the selected program lacks expressions related to program indicators that are valid for Android. 
> 
> An expression is considered valid for Android only if it is composed exclusively of attributes and/or functions.
> 
> ![](resources/images/capture-app-appearance-program-specific-expression-valid.png)
> 
> ![](resources/images/capture-app-appearance-program-specific-expression-invalid.png)
> 


If any specific settings have been saved, a table will summarize the particular configuration per program, and the options to edit or delete these settings. 

![](resources/images/capture-app-appearance-program-table.png)

The option "Show percentage (%) complete in Program toolbar" refers to: 
![](resources/images/capture-app-appearance-programs-spinner.png){width=50%}

**Search Tracked Entity (v2.2)**

Searching before entering a new TEI is mandatory to avoid possible duplicates, and the DHIS2 Android App has been designed as such. This new version gives the possibility to choose to keep this process or allow the user to create a TEI without searching first.
By default, allowing the user to create a TEI without searching is disabled.



### Ensemble de données { #capture_app_android_settings_webapp_appearance_data }

Il permet aux administrateurs d'activer/désactiver les filtres pour la section Ensemble de données

#### Paramètres généraux{ #capture_app_android_settings_webapp_appearance_data_global }

La première partie concerne les paramètres généraux qui s'appliquent à tous les ensembles de données auxquels un utilisateur de l'application Android a accès.

![](resources/images/capture-app-appearance-dataset-global.png){largeur=75%}

#### Paramètres spécifiques { #capture_app_android_settings_webapp_appearance_data_specific }

Pour ajouter un paramètre spécifique :

- Click on *Add a Data set Settings*. A dialog box will pop up with a dropdown with a list of data sets.
- Cliquez sur un ensemble de données. Une liste d'options permettant d'activer ou de désactiver les filtres s'affichera.

![](resources/images/capture-app-appearance-dataset-specific.png){largeur=75%}

![](resources/images/capture-app-appearance-dataset-table.png){largeur=75%}


## Analyses { #capture_app_android_settings_webapp_analytics }

Analytics settings define TEI, Home, Program and Data Set analytics items (charts, tables) that will be displayed to the user. Any item defined in the settings app will overwrite the default behaviour of the android app, only showing the items defined in the settings app. 

De plus, même si ces analyses sont créées à l'aide de Android Settings Web App, l'agrégation des données se fait hors ligne, en n'utilisant que les données stockées dans l'appareil.

### TEI { #capture_app_android_settings_webapp_analytics_tei }

Le champ d'application de l'analyse est la TEI. Les visualisations seront donc visibles sur le tableau de bord TEI de l'application Android.

The purpose of this section is to define visualizations to show evolution of *data elements* and *program indicators* over time. Based on that, it will only take into consideration data elements that belongs to a repeatable program stage, or program indicators which formula contains at least one data element that belongs to a repeatable program stage.

Pour créer un élément d'**Analyses des TEI ** :

1. Click on *Add TEI Analytics*. A dialog box will pop up with a small form.
2. Choisissez un programme et une étape de programme répétable, puis remplissez le formulaire. **Nom abrégé** est le seul champ facultatif.
3. Si une visualisation d'élément autre que Nutrition OMS a été choisie, les prochains champs à sélectionner seront le type de période (mensuel, hebdomadaire, quotidien), un type d'élément (indicateur de programme, élément de données) et un élément qui sera basé sur le type d'élément précédemment sélectionné. Rappelez-vous que ces éléments sont liés au programme et à l'étape du programme répétable choisis au début.

![](resources/images/capture-app-analytics-item.png)

Pour créer un élément d'**Analyses de Nutrition OMS** :

1. Sélectionnez un programme, une étape de programme et Nutrition OMS comme type de visualisation.
2. Choisissez un type de visualisation OMS qui peut être la taille pour l'âge (HFA), le poids pour l'âge (WFA) ou le poids pour la taille (WFH).
3. Sélectionnez l'attribut d'entité suivie qui représente le genre. Vous devrez ensuite spécifier l'option Homme 'Titre masculin' et l'option Femme 'Titre féminin'. Normalement, il s'agira de codes d'option.
4. Choisissez l'élément de données/indicateur de programme qui sera affiché sur l'axe horizontal (x)
5. Choisissez l'élément de données/indicateur de programme qui sera affiché sur l'axe vertical (y)


![](resources/images/capture-app-analytics-who-item.png)

Si un élément d'Analyses de TEI a été créé, un tableau affichera le titre de l'élément et le nom du programme, ainsi que des boutons d'action permettant de supprimer ou de modifier cet élément.

![](resources/images/capture-app-analytics-table.png)

### Home { #capture_app_android_settings_webapp_analytics_home }

Les visualisations de l'Accueil sont affichées sur l'écran d'accueil (onglet Analyses) de l'application Android.

All items available are first created in the Data visualizer or Line Listing app in DHIS2 and configured in the Android Settings app.

> **Note:**
>
> Visualization items can be sourced either from the **Data Visualizer** or the **Line Listing** app. 
> 
> When choosing a visualization type, the items shown automatically change; if "Data Visualization" is selected, only visualizations created in the Data Visualization app will be displayed. 
> 
> When selecting "Event Visualization" (**New 2.4**), only elements created in the Line Listing app will appear in the Visualization search box.
>

Pour créer un élément de l'**Accueil** :

1. Click on "Add Home Visualization" Button.
2. Choose a "Visualization Type" (**New 2.4**)
3. Cliquez au niveau de la zone de recherche et sélectionnez la visualisation dans la liste ou entrez le nom de l'élément de visualisation.
4. Add an alternative title, otherwise, the app will display the name of the visualization.
5. Par défaut, l'application activera le paramètre de visualisation de groupe.
   1. Create a new group: A free text box will pop up to type the name or
   2. Sélectionner une visualisation de groupe déjà créée : choisissez une option dans la liste pour ajouter la visualisation ou
   3. Désactivez la visualisation de groupe en cliquant sur la case à cocher.
6. Cliquez sur le bouton "Enregistrer".

![](resources/images/capture-app-analytics-home-newGroup.png)

![](resources/images/capture-app-analytics-home-createdGroup.png)

> **Note:**
>
> Visualizations that are added with no group selected, will be displayed in a common "group"
>
> ![](resources/images/capture-app-analytics-default-group.png)
>

To edit the title of a **Home** item (**v2.2.1**):

1. Recherchez l'élément en développant les groupes.
2. Cliquez sur le bouton "Modifier" situé près du nom de l'élément.
3. Une fenêtre contextuelle avec seulement le titre de la visualisation sera disponible ; les autres champs seront désactivés. Vous pouvez modifier le titre de la visualisation.
4. Cliquez sur le bouton "Enregistrer".

![](resources/images/capture-app-analytics-home-editVisualization.png)


Pour supprimer un élément de l'**Accueil** :

1. Recherchez l'élément en développant les groupes.
2. Cliquez sur le bouton "Supprimer" situé près du nom de l'élément.
3. Cliquez sur "Supprimer"
4. Cliquez sur le bouton "Enregistrer"

![](resources/images/capture-app-analytics-home-deleteVisualization.png)

Pour supprimer un élément de l'**Accueil** :

1. Faites une recherche du groupe qui doit être supprimer
2. Cliquez sur "Supprimer le groupe"
3. Cliquez sur "Supprimer"
4. Cliquez sur le bouton "Enregistrer"

Tous les éléments associés à ce groupe seront supprimés

![](resources/images/capture-app-analytics-home-deleteGroup.png)

Pour réinitialiser toutes les valeurs :

1. Cliquez sur "Rétablir toutes les valeurs par défaut"
2. Cliquez sur le bouton "Enregistrer"

### Program { #capture_app_android_settings_webapp_analytics_program }

Les visualisations de programme sont affichées sur l'écran de recherche (onglet Analyses) plus précisément dans les programmes de Tracker ou sur l'écran de listes (onglet Analyses) dans les programmes d'événements de l'application Android.

All items available are first created in the Data visualizer or Line Listing (**New 2.4**) app in DHIS2 and configured in the Android Settings app.

> **Note:**
>
> Visualization items can be sourced either from the **Data Visualizer** or the **Line Listing** app.
>
> When choosing a visualization type, the items shown automatically change; if "Data Visualization" is selected, only visualizations created in the Data Visualization app will be displayed.
>
> When selecting "Event Visualization" (**New 2.4**), only elements created in the Line Listing app will appear in the Visualization search box.
>
> ![](resources/images/capture-app-analytics-program-visualization-type.png)
> 

Pour créer un élément de **Programme** :

1. Click on "Add Program Visualization" Button.
2. Choose a Visualization Type (**New 2.4**).
3. Select a Program.
4. Cliquez au niveau de la zone de recherche et sélectionnez la visualisation dans la liste ou entrez le nom de l'élément de visualisation.
5. Ajouter un titre alternatif, sinon l'application affichera le nom de la visualisation.
6. Par défaut, l'application activera le paramètre de visualisation de groupe.
   1. Create a new group: A free text box will pop up to type the name or
   2. Sélectionner une visualisation de groupe déjà créée : choisissez une option dans la liste pour ajouter la visualisation ou
   3. Désactivez la visualisation de groupe en cliquant sur la case à cocher.
7. Cliquez sur le bouton "Enregistrer".

![](resources/images/capture-app-analytics-program-add.png)

To edit the title of a **Program** item (**v2.2.1**):

1. Recherchez l'élément en développant les groupes.
2. Cliquez sur le bouton "Modifier" situé près du nom de l'élément.
3. Une fenêtre contextuelle avec seulement le titre de la visualisation sera disponible ; les autres champs seront désactivés. Vous pouvez modifier le titre de la visualisation.
4. Cliquez sur le bouton "Enregistrer".

![](resources/images/capture-app-analytics-program-editVisualization.png)

Pour supprimer un élément de **Programme** :

1. Recherchez l'élément en développant les groupes.
2. Cliquez sur le bouton "Supprimer" situé près du nom de l'élément.
3. Cliquez sur "Supprimer"
4. Cliquez sur le bouton "Enregistrer"

![](resources/images/capture-app-analytics-program-deleteVisualization.png)

Pour supprimer un groupe de **Programmes** :

1. Rechercher le groupe qui doit être supprimer dans le programme correspondant
2. Cliquez sur "Supprimer le groupe"
3. Cliquez sur "Supprimer"
4. Cliquez sur le bouton "Enregistrer"

Tous les éléments associés à ce groupe seront supprimés

![](resources/images/capture-app-analytics-program-deleteGroup.png)

Pour réinitialiser toutes les valeurs :

1. Cliquez sur "Rétablir toutes les valeurs par défaut"
2. Cliquez sur le bouton "Enregistrer"

### Data Set { #capture_app_android_settings_webapp_analytics_data }

Les visualisations des Ensembles de Données sont affichées sur l'écran d'accueil (onglet Analyses) de l'application Android.

Tous les éléments disponibles sont d'abord créés dans l'application Visualiseur de Données sur DHIS2 et configurés avec l'application de paramètres Android.

Pour créer un élément d'**Ensemble de données** :

1. Cliquez sur "Ajouter une Visualisation de l'Ensemble de Données"
2. Sélectionnez un ensemble de données
3. Cliquez au niveau de la zone de recherche et sélectionnez la visualisation dans la liste ou entrez le nom de l'élément de visualisation.
4. Ajouter un titre alternatif, sinon l'application affichera le nom de la visualisation.
5. Par défaut, l'application activera le paramètre de visualisation de groupe.
   1. Create a new group: A free text box will pop up to type the name or
   2. Sélectionner une visualisation de groupe déjà créée : choisissez une option dans la liste pour ajouter la visualisation ou
   3. Désactivez la visualisation de groupe en cliquant sur la case à cocher.
6. Cliquez sur le bouton "Enregistrer".

![](resources/images/capture-app-analytics-dataset-add.png)

To edit the title of a **Data set** item (**v2.2.1**):

1. Recherchez l'élément en développant les groupes.
2. Cliquez sur le bouton "Modifier" situé près du nom de l'élément.
3. Une fenêtre contextuelle avec seulement le titre de la visualisation sera disponible ; les autres champs seront désactivés. Vous pouvez modifier le titre de la visualisation.
4. Cliquez sur le bouton "Enregistrer".

![](resources/images/capture-app-analytics-dataset-editVisualization.png)

Pour supprimer un élément d'**Ensemble de Données** :

1. Recherchez l'élément en développant l'ensemble de données et le groupe
2. Cliquez sur le bouton "Supprimer" situé près du nom de l'élément.
3. Cliquez sur "Supprimer"
4. Cliquez sur le bouton "Enregistrer"

![](resources/images/capture-app-analytics-dataset-deleteVisualization.png)

Pour supprimer un groupe d'**Ensembles de Données** :

1. Rechercher le groupe qui doit être supprimer dans l'ensemble de données correspondant
2. Cliquez sur "Supprimer le groupe"
3. Cliquez sur "Supprimer"
4. Cliquez sur le bouton "Enregistrer"

Tous les éléments associés à ce groupe seront supprimés

![](resources/images/capture-app-analytics-dataset-deleteGroup.png)

Pour réinitialiser toutes les valeurs :

1. Cliquez sur "Rétablir toutes les valeurs par défaut"
2. Cliquez sur le bouton "Enregistrer"

### Visualization user test { #capture_app_android_settings_webapp_analytics_visualization_user_test }

Le test utilisateur de visualisation est une fonctionnalité disponible dans les paramètres d'Accueil, de Programme et d'Analyse d'Ensemble de Données. Elle permet à l'utilisateur administrateur de déterminer si un utilisateur particulier pourra voir la visualisation.

L'application des paramètres Android vérifie au moins l'une de ces trois autorisations :

1. La visualisation est accessible au public
2. L'utilisateur a un accès individuel à la visualisation
3. L'utilisateur fait partie d'un groupe qui a accès à la visualisation

Pour mener le test :

1. Sélectionnez l'utilisateur dans la liste
2. Cliquez sur "Mener le test"

![](resources/images/capture-app-analytics-usertest-access.png)

![](resources/images/capture-app-analytics-usertest-access-visualization.png)

![](resources/images/capture-app-analytics-usertest-noaccess.png)

![](resources/images/capture-app-analytics-usertest-noaccess-visualization.png)

### Analytics Limitations { #capture_app_android_settings_analytics_limitations }

Since the aggregations and calculations displayed are calculated in the device, the implementation of analytics is limited compared to web. 

In summary the compatible and supported objects and features for Data Visualizations are:

- Objets analytiques bien constitués (séries, catégories, filtres)
- Use of relative periods (Fix periods are not supported)
- L'utilisateur a un accès de visualisation
- Limites pour les tableaux croisés dynamiques
  - Number of header lines: 1 or 2 (*v2.3*)
  - Nombre de colonnes d'en-tête : 2
- Limites pour les graphiques
  - Nombre de séries : Aucune limite (mais n'oubliez pas que le rendu se fait sur un petit écran)
  - Nombre de catégories (ne s'applique pas aux graphiques circulaires) : Aucune limite

De nombreuses autres restrictions s'appliquent à Android Analytics en ce qui concerne les nombreuses options de configuration disponibles dans le visualiseur Web ainsi que les fonctions et les calculs pris en charge liés aux indicateurs et aux indicateurs de programme. [Ce tableau (https://docs.google.com/spreadsheets/d/1127cz7M0K4fux5CU0V54V2Z77NZWCr0BTrZ6jcCec4Q) résume toutes les fonctions prises en charge.

In the same way, Event visualizations are considered valid if:

- Visualization was created using Line Listing app
- Visualization type is Line List
- Use of relative periods
- Limitations for Table
  - Number of columns: 15


> **Note (v2.2.1)**
>
> When searching for a visualization to add as part of the Analytics visualizations, all visualizations will be listed, but visualizations that don't meet the above restrictions will be disabled. 
>
> ![](resources/images/capture-app-analytics-visualization-search.png)
>


## Installation { #capture_app_android_settings_webapp_installation }

Un utilisateur peut facilement installer Android Settings Web App en se connectant à DHIS2 et en accédant à **Gestion des applications**.

- Cliquez sur **App Hub**
- Go to *Android Settings App*
- Click on *Install V2.X.X*

![](resources/images/capture-app-app-hub-install.png)
![](resources/images/capture-app-app-hub-install-webapp.png)


## Connexion et première configuration { #capture_app_android_settings_webapp_login }

After a user installs and launches the Android Settings Web App for the first time, the web app will require setting and saving the default values of the configuration. This will apply default settings to all android devices connected to the instance. 

![](resources/images/capture-app-first-time-setup.png){largeur=50%}

> **Attention**
>
> Les versions précédentes sont obsolètes. Vous débuterez donc avec une nouvelle configuration par défaut.

![](resources/images/capture-app-first-setup-with-deprecation-message.png){largeur=50%}

> **Warning (v2.3)** 
>
> When using DHIS2 version equal to or higher to 2.40, only users with "M_androidsettingsapp" or "ALL" authority can *save or update* the configuration, but any user will have *view* access once it is created.
> 


![](resources/images/capture-app-first-setup-no-authorities.png){largeur=50%}


## Entrer et enregistrer les paramètres de configuration { #capture_app_android_settings_webapp_enter_and_save }

### Magasin de données { #capture_app_android_settings_webapp_datastore }

Internally all settings are stored in [Datastore](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-240/data-store.html) in JSON format.

Structure du Magasin de données :

| Élément      | Description                                 | Type de données |
|-----------|---------------------------------------------|-----------|
| Espace de noms | Espace-noms pour l'organisation des entrées       | Chaîne    |
| Clé       | Clé d'identification des valeurs            | Chaîne    |
| Valeur     | Valeur contenant les informations à entrer | JSON      |

### Enregistrer les paramètres de configuration { #capture_app_android_settings_webapp_save_config }

At the form footer of all settings sections, admin users can find a *Save* button.

![](resources/images/capture-app-save_button.png)

Only when an admin user clicks on this button, all changes made on the current section are saved on the Datastore. These changes will apply to the Android Capture App when they synchronize their configuration.

Unsaved changes
:   In case an admin user wants to go to another section when there are still some unsaved changes, an alert will be displayed before navigating away from the current section. In case the user accepts leaving the page, the unsaved changes will be lost.

![](resources/images/capture-app-unsaved-changes.png)

#### Réinitialiser toutes les valeurs par défaut { #capture_app_android_settings_webapp_reset_all }

An admin user can restore the settings at any time. There is a *Reset all values to default* button at the form footer of all settings sections. 

![](resources/images/capture-app-reset-default.png)

The default values will be only restored on Datastore and applied after clicking on *Save*. 


## Uninstall the app { #capture_app_android_settings_webapp_uninstall_app }

In case of needing to uninstall the Android Settings App it is recommended to also delete all the data from the reserved datastore namespace.

#### Delete data { #capture_app_android_settings_webapp_delete_data }

- Go to *General* section
- Click on *Disable all settings*
- A modal will pop up, click on *Disable*

![](resources/images/capture-app-unistall-delete-namespace.png)

![](resources/images/capture-app-unistall-delete-namespace-modal.png)

#### Uninstall app { #capture_app_android_settings_webapp_uninstall_app }

- Go to **App Management**
- Click on **Custom Apps**
- Go to *Android Settings App*
- Click on *Uninstall V2.X.X*

![](resources/images/capture-app-unistall-custom-app.png)

![](resources/images/capture-app-unistall-aswa.png)

> **Warning**
>
> This is a critical action, be aware that by doing this, all previous configurations will be permanently deleted.


# Use Case Configuration Web App { #capture_app_use_case_configuration_webapp }
## Overview { #capture_app_use_case_configuration_webapp_overview }

This section focuses on the [Use Case Configuration Web App](https://apps.dhis2.org/app/7df6f344-0487-469c-abe6-53c6e729abcf) implementation.


The [Use Case Configuration Web App](https://apps.dhis2.org/app/7df6f344-0487-469c-abe6-53c6e729abcf) will connect the components of use cases, like Pharmacy stock management (LMIS), such as the Tracker Program and Data elements, to the Android Capture App. This app ensures configuration flexibility and avoids hard coding various metadata in the actual mobile application.

Based on the configuration, any program of the DHIS2 server can be set as a stock management system or any other use case.

Please note that in this version of the Web App, only users with "ALL" authority are able to define the configuration. Other users will not have access to the web app or see the configuration.

> **Warning**
>
> Be aware that the app can only be used in instances using the 2.39.1 DHIS2 API version onward.
> 
> ![](resources/images/capture-app-use-case-configure-api-no-access.png)
>


## Installation { #capture_app_use_case_configuration_webapp_installation }

A user can easily install the Use Case Configuration Web App by logging into the DHIS2 and going to **App Management**.

- Cliquez sur **App Hub**
- Go to *Use Case Configuration App*
- Click on *Install V1.X.X*

![](resources/images/capture-app-use-case-configure-app-hub-install.png)
![](resources/images/capture-app-use-case-configure-app-hub-install-webapp.png)


## Log in and first time setup { #capture_app_use_case_configuration_webapp_login }

After a user installs and launches the Use Case Configuration Web App for the first time, the web app will require saving the default values of the configuration. This will allow android devices connect to the instance.


![](resources/images/capture-app-use-case-configure-first-setup.png){width=50%}

> **Warning**
>
> Only users with 'ALL' authority are able to *save or update* the configuration, users with no authority will not have view access to the app even if it is already created.
>


![](resources/images/capture-app-use-case-configure-no-authorities.png)


## Configure Program { #capture_app_use_case_configuraton_webapp_configure }

It allows admin users to configure programs to use the stock management system use case.

![](resources/images/capture-app-use-case-configure.png)


> **Note: (New 1.1)**
>
>    - Effective from version 1.1.0 of this web application, it is mandatory that Data Elements such as "Stock on Hand" and "Corrected Stock" possess a value type of "Positive or Zero Integer."
>    - To modify the value type of these Data Elements, users must use the Maintenance app.
>    - Following the adjustment of the value type, users are required to update or edit the program configuration via the Use Case Configuration web application. This ensures synchronization and coherence across the system.
>
> This ensures that these crucial data elements maintain consistency and accuracy within the system.
>


### Create configuration { #create-configuration } 

The DHIS2 Use Case Configuration App assigns the use case, like Real Time Stock Management, to any Tracker Program.
When the user opens the application in the Android Capture app the DHIS2 RTS is started instead of a conventional Tracker Program.

To create a **Program Configuration**:

1. Select a program type, a program, and add a description.
2. Click on *Next* button or *Details* tab.

![](resources/images/capture-app-use-case-configure-program-general.png)

3. Select the tracked entity attributes and data elements that represent Item code, Item Description and Stock on Hand. You have then to click on *Next* button or *Transactions* Tab.

![](resources/images/capture-app-use-case-configure-program-details.png)

4. Choose the data element/tracked entity attribute that will represent the Distributed Transaction.
5. Choose the data element/tracked entity attribute that will represent the Corrected Transaction.
6. Choose the data element/tracked entity attribute that will represent the Discarded Transaction.
7. Click on the "Done" button.

![](resources/images/capture-app-use-case-configure-program-transactions.png)


> **Note:**
>
> When all the valid programs are already configured, the Add Program button will be disabled.
>
> ![](resources/images/capture-app-use-case-configure-unavailable-program.png)
>
> The compatible and supported programs for a RTSM use case are:
> - Tracker program with one repeatable program stage.
> - Program rules to provide the real time stock on hand update.
> - Data elements and Tracker Entity Attributes assign to program and program stage.
>

The following is a comprehensive list of the main metadata configurations and settings for the Tracker
Program on which the customized DHIS2-RTS is based on.

| CATEGORY                 | SYSTEM DEFAULT SETTINGS                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Unité d’organisation        | According to national protocols and policies and/or existing DHIS2 configuration                                                                                                                                                                                                                                                                                                                                                                                            |
| Élément de données             | Name: <br/>- "Deliver to": Text / Option set = "Deliver to" <br/>- "Previous stock balance": Positive integer <br/>- "Stock correction": Positive or Zero integer (**New 1.1**) <br/>- "Stock count": Positive integer <br/>- "Stock discard": Positive integer <br/>- "Stock distribution": Positive integer <br/>- "Stock on hand": Positive or Zero integer (**New 1.1**) <br/>- "Stock received": Positive integer <br/>Domain type: Tracker <br/>Value type: see above |
| Ensemble d'options               | Name: "Deliver to" <br/>Value type: Text                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Attribut d’entité suivie | Name: <br/>- "Item barcode" <br/>- "Item code" <br/>- "Item description" <br/>"Value type": Text <br/>"Aggregation type": None                                                                                                                                                                                                                                                                                                                                              |
| Type d'entité suivie      | Name: Item <br/>"Feature type": None                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Programme                  | Type: Tracker <br/>Tracked entity type: Item <br/>Program tracked entity attributes: <br/>- Item barcode <br/>- Item code <br/>- Item description <br/>Program stages: <br/>Name: "Stock on Hand" <br/>Scheduled days from start: 0 <br/>Repeatable                                                                                                                                                                                                                         |
| Règle du programme             | *Name*: "Assign Stock correction" <br/>Condition: "d2:hasValue( #{Stock count} )” <br/>Action: "Assign value"  <br/>*Name*: "Assign Stock on Hand" <br/>Condition: "true" <br/>Action: "Assign value"  <br/>*Name*: "Assign previous stock balance" <br/>Condition: "d2:hasValue( #{Initial stock on hand - Previous event} )" <br/>Action: "Assign value"                                                                                                                  |

More information related to DHIS2 for logistic in the [user guide](https://drive.google.com/file/d/1x6HoG75zMPCA823mdY87rb9hEJqxUz22/view).

### Edit configuration { #edit-configuration } 

To edit a **Program Configuration**:

1. Search for the program configuration to edit.
2. Click the "Edit" button next to the program's name.
3. A pop-up with only the description field in the General tab will be available, the other fields will be disabled. If wanted, change the visualization title.
4. All fields in Details and Transactions tabs will be available to edit if needed.
5. Click on the "Done" button.

![](resources/images/capture-app-use-case-configure-edit-general.png)

![](resources/images/capture-app-use-case-configure-edit-details.png)

> **Note: (New 1.1)**
>
> - While editing the configuration of a program containing Data Elements with a previously accepted value type, users will encounter a warning indicating the need for attention to these fields. These flagged fields will need reconfiguration by selecting new Data Elements.
> - The "Next" and "Done" buttons within the configuration interface will remain disabled until users have selected Data Elements that comply with the new valid value type. This precaution ensures that only compatible Data Elements are used. 
> 
> This process ensures seamless transition and adherence to updated system requirements, minimizing errors and ensuring data accuracy.
>
> ![](resources/images/capture-app-use-case-configure-program-stock-hand.png)
>

### Delete configuration { #delete-configuration } 

To remove a **Program Configuration**:

1. Search for the program configuration to delete.
2. Click on "Delete".
3. Click on the "Delete" button.

![](resources/images/capture-app-use-case-configure-delete-program.png)


## Enter and save configuration parameters { #capture_app_use_case_configuration_webapp_enter_and_save }

### Datastore { #capture_app_use_case_configuration_webapp_datastore }

Internally all program configurations are stored in [Datastore](https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-240/data-store.html) in JSON format.

Structure du Magasin de données :

| Élément      | Description                                 | Type de données |
|-----------|---------------------------------------------|-----------|
| Espace de noms | Espace-noms pour l'organisation des entrées       | Chaîne    |
| Clé       | Clé d'identification des valeurs            | Chaîne    |
| Valeur     | Valeur contenant les informations à entrer | JSON      |


### Save configuration parameters { #capture_app_use_case_configuration_webapp_save_config }

At the footer of the configuration section, admin users can find a *Save* button.

![](resources/images/capture-app-use-case-configure-save-button.png)

Only when an admin user clicks on this button, all changes made are saved on the Datastore. These changes will apply to the Android Capture Apps when they synchronize their configuration.


## Uninstall the app { #uninstall-the-app } 

In case of needing to uninstall the Use Case Configuration App it is recommended to also delete all the data from the datastore namespace.

#### Delete data { #delete-data } 

- Click on *Erase all settings*
- A modal will pop up, click on *Erase*

![](resources/images/capture-app-use-case-configure-unistall-delete-namespace.png)

![](resources/images/capture-app-use-case-configure-unistall-delete-namespace-modal.png)

#### Uninstall app { #uninstall-app } 

- Go to **App Management**
- Click on **Custom Apps**
- Go to *Use Case Configuration*
- Click on *Uninstall V1.X.X*

![](resources/images/capture-app-use-case-configure-unistall-custom-app.png)

![](resources/images/capture-app-use-case-configure-unistall-use-case.png)

> **Warning**
>
> This is a critical action, be aware that by doing this, all previous configurations will be permanently deleted.   



# APK Distribution Web App { #capture_app_apk_distribution_webapp }
## Overview { #capture_app_apk_distribution_webapp_overview }

This section focuses on the [APK Distribution Web App](https://apps.dhis2.org/app/dff273fc-909e-48af-b151-c4d7e9c8a12c) implementation.

The [APK Distribution Web App](https://apps.dhis2.org/app/dff273fc-909e-48af-b151-c4d7e9c8a12c) enables implementation administrators to manage and control the version of the Android app, making it easier to manage app updates and ensure compatibility with the DHIS2 system. 

Admins will be able to upload the desired version and users will get a prompt message to update when they are not in the last updated version.

Please note that in this version of the Web App, only users with "ALL" authority are able to define the Android app versions. Other users having access to the web app can see the version history list and download the latest version, but cannot edit them.

## Installation { #capture_app_apk_distribution_webapp_installation }

A user can easily install the Use Case Configuration Web App by logging into the DHIS2 and going to **App Management**.

- Cliquez sur **App Hub**
- Go to *APK Distribution App*
- Click on *Install V1.X.X*

![](resources/images/capture-app-apk-distribution-app-hub-install.png)
![](resources/images/capture-app-apk-distribution-app-hub-install-webapp.png)


## Log in and first time setup { #capture_app_apk_distribution_webapp_webapp_login }

After a user installs and launches the APK Distribution Web App for the first time, the web app will require saving the default values of the configuration. This will allow android devices connect to the instance.


![](resources/images/capture-app-apk-distribution-first-setup.png){width=50%}

> **Warning**
>
> Only users with 'ALL' authority are able to *upload or delete* APK versions, but any user will have view access once it's created.
>


![](resources/images/capture-app-apk-distribution-no-authorities.png){width=50%}

## APK Versions { #capture_app_apk_distribution_webapp_versions }

The APK Distribution Web App allows the admin users to update or remove versions of the Android app.

![](resources/images/capture-app-apk-distribution.png)

### Upload version { #upload-version } 

Follow the steps below to upload an **Android app version**:

1. Click on *Upload new version* button.
2. Assign a version number.
3. Choose the minimum and/or recommend Android OS version.
4. Add a URL that contains the APK of the Android app.
5. Optionally, select one or more "user groups" to grant them access. (**New 1.1**)
6. Click on the "Create app version" button.


![](resources/images/capture-app-apk-distribution-upload.png)


> **Note:**
>
> App versions must follow semantic versioning. Read more about [semantic versions](https://docs.npmjs.com/about-semantic-versioning). 
>
> When uploading a new apk, make sure that the app version is higher than the current/latest version.
> 
> ![](resources/images/capture-app-apk-distribution-alert-version-higher.png)
> 
> To choose the minimum or recommended Android OS version for the app version, it is suggested to review the [Mobile Device Specification documentation](https://docs.dhis2.org/en/implement/android-implementation/mobile-device-specifications.html).
>


### Grant access to User Groups (**New 1.1**) { #grant-access-to-user-groups-new-11 } 

To give access to one or more User Groups:

1. Click on "Access".
2. A pop-up will appear with a search field.
3. Search a User Group.
4. Click on "Give access" button.
5. Click on "Close".

![](resources/images/capture-app-apk-distribution-version-list.png)

![](resources/images/capture-app-apk-distribution-grant-access.png)


> **Note:**
>
> The APK Distribution web application empowers administrators to allocate access to user groups for specific "Android App" versions.
> - User groups can be assigned to multiple "Android app" versions, yet individual users within those groups will only have access to the latest version allocated to their group. 
> - It's feasible to refrain from assigning a user group to an "Android app" version. In such cases, all users within that instance will automatically gain access to that version. 
> - In instances where no user group is assigned to any "Android app" version, the latest version will be designated as the *Default*. Consequently, only the latest version will be accessible to all users within the instance.
>
>

### Remove access to User Groups (**New 1.1**) { #remove-access-to-user-groups-new-11 } 

To give access to one or more User Groups:

1. Click on "Access".
2. A pop-up will appear with a search field and a list of User groups that currently have access.
3. Find the User group whose access will be removed.
4. Click on "Remove access" button.
5. Click on "Close".

![](resources/images/capture-app-apk-distribution-remove-access.png)

### Delete version { #delete-version } 

To remove an **Android App version**:

1. Search for the Android app version to delete.
2. Click on "Delete".
3. Click on the "Delete" button.

![](resources/images/capture-app-apk-distribution-upload-delete.png)


### Using mobile device { #using-mobile-device } 

This Web App can also be manipulated from a mobile device. To use it, open DHIS2 in the browser from a mobile or tablet device.

The mobile version allows the administrator user to **upload** and **download** app versions.

![](resources/images/capture-app-apk-distribution-upload-mobile.png)


When downloading a version, the APK will be stored in the device.

![](resources/images/capture-app-apk-distribution-version-list-mobile.png)


## Uninstall the app { #uninstall-the-app } 

In case of needing to uninstall the APK Distribution App it is recommended to also delete all the data from the datastore namespace.

#### Delete data { #delete-data } 

- Click on *Erase settings*
- A modal will pop up, click on *Erase*

![](resources/images/capture-app-apk-distribution-unistall-delete-namespace.png)

![](resources/images/capture-app-apk-distribution-unistall-delete-namespace-modal.png)

#### Uninstall app { #uninstall-app } 

- Go to **App Management**
- Click on **Custom Apps**
- Go to *APK Distribution*
- Click on *Uninstall V1.X.X*

![](resources/images/capture-app-apk-distribution-unistall-custom-app.png)

![](resources/images/capture-app-apk-distribution-unistall-apk.png)

> **Warning**
>
> This is a critical action, be aware that by doing this, all previous configurations will be permanently deleted.   
